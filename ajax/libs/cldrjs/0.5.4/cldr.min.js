!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){function r(e,t){if(s(e)&&(e=e.join("/")),"string"!=typeof e)throw new Error('invalid path "'+e+'"');return(e=(e=e.replace(/^\//,"").replace(/^cldr\//,"")).replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),t[e]})).split("/")}function u(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1}function z(e,t,n,r){var o,i=n[0],a=n[1],l=e.localeSep,e=n[2],n=n.slice(3,4);return r=r||{},"und"!==i&&"Zzzz"!==a&&"ZZ"!==e?[i,a,e].concat(n):void 0!==t.get("supplemental/likelySubtags")?u([[i,a,e],[i,e],[i,a],[i],["und",a]],function(e){return o=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])})?(o=o.split(l),["und"!==i?i:o[0],"Zzzz"!==a?a:o[1],"ZZ"!==e?e:o[2]].concat(n)):r.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0}function b(n,r,o){var i,e=o[0],t=o[1],a=o[2],l=o[3];return u([[[e,"Zzzz","ZZ"],[e]],[[e,"Zzzz",a],[e,a]],[[e,t,"ZZ"],[e,t]]],function(e){var t=z(n,r,e[0]);return i=e[1],t&&t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]})?(l&&i.push(l),i):o}function y(e){var t,n=[];return(t=(e=e.replace(/_/,"-")).split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),n[4]=t[1][0]),null===(t=e.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(n[0]=t[10]||t[2]||"und",n[1]=t[4]||"Zzzz",n[2]=t[6]||"ZZ",t[7]&&t[7].length&&(n[3]=t[7].slice(1)),n)}function _(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)}function o(e,t){var n=e+(t&&JSON?": "+JSON.stringify(t):""),r=new Error(n);return r.code=e,_(function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n}(t),function(e){r[e]=t[e]}),r}function a(e,t,n){if(!t)throw o(e,n)}function Z(e,t){a("E_MISSING_PARAMETER",void 0!==e,{name:t})}function j(e,t,n,r){a("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})}function t(e,t){j(e,t,"string"==typeof e||s(e),"String or Array")}function l(e,t){j(e,t,void 0===e||null!==(e=e)&&""+e=="[object Object]","Plain Object")}function c(e,t){for(var n=e,r=t.length,o=0;o<r-1;o++)if(!(n=n[t[o]]))return;return n[t[o]]}function f(e){return s(e)?e:[e]}function e(e,t,n){var r,o,i;for(Z(n[0],"json"),r=0;r<n.length;r++)for(i=f(n[r]),o=0;o<i.length;o++)l(i[o],"json"),t=d(t,i[o]),function(e,t){var n,r=e._availableBundleMapQueue,o=c(t,["main"]);if(o)for(n in o)o.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)}(e,i[o]);return t}function n(e,t,n){return n=r(t,n),c(e._resolved,n)}function m(e){this.init(e)}var p,s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=p=function(){var n={},e=[].slice.call(arguments,0);return _(e,function(e){for(var t in e)t in n&&"object"==typeof n[t]&&!s(n[t])?n[t]=p(n[t],e[t]):n[t]=e[t]}),n};return m._alwaysArray=f,m._coreLoad=e,m._createError=o,m._itemGetResolved=n,m._jsonMerge=d,m._pathNormalize=r,m._resourceGet=c,m._validatePresence=Z,m._validateType=j,m._validateTypePath=t,m._validateTypePlainObject=l,m._availableBundleMap={},m._availableBundleMapQueue=[],m._resolved={},m.localeSep="-",m.load=function(){m._resolved=e(m,m._resolved,arguments)},m.prototype.init=function(e){var r,t,n,o,a,l,u,c,f,p,s,d,v,h=m.localeSep,g="";Z(e,"locale"),j(c=e,"locale","string"==typeof c,"a string"),5===(s=y(e)).length&&(g=h+"u"+h+(l=s.pop()),s[3]||s.pop()),u=s[3],t=(n=z(m,this,s,{force:!0})||s)[0],o=n[1],a=n[2],c=b(m,this,n).join(h),this.attributes=r={bundle:(p=this,s=c,d=(f=m)._availableBundleMap,(v=f._availableBundleMapQueue).length&&(_(v,function(e){var t=y(e),n=z(f,p,t);if(void 0===n)throw v.splice(i,1),new Error("Could not find likelySubtags for "+e);t=(t=b(f,p,n)).join(f.localeSep),(n=d[t])&&n.length<e.length||(d[t]=e)}),f._availableBundleMapQueue=[]),d[s]||null),minLanguageId:c+g,maxLanguageId:n.join(h)+g,language:t,script:o,territory:a,region:a,variant:u},l&&("-"+l).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,t,n){t?r["u"+t]=n:r["u"+e]=!0}),this.locale=e},m.prototype.get=function(e){return Z(e,"path"),t(e,"path"),n(m,e,this.attributes)},m.prototype.main=function(e){return Z(e,"path"),t(e,"path"),a("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=f(e),this.get(["main/{bundle}"].concat(e))},m});