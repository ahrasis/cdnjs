!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){var e,t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e,n){if(t(e)&&(e=e.join("/")),"string"!=typeof e)throw new Error('invalid path "'+e+'"');return(e=(e=e.replace(/^\//,"").replace(/^cldr\//,"")).replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),n[e]})).split("/")},r=function(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1},o=function(e,t,n,o){var i,a=n[0],l=n[1],u=e.localeSep,c=n[2],f=n.slice(3,4);return o=o||{},"und"!==a&&"Zzzz"!==l&&"ZZ"!==c?[a,l,c].concat(f):void 0!==t.get("supplemental/likelySubtags")?r([[a,l,c],[a,c],[a,l],[a],["und",l]],function(e){return i=!/\b(Zzzz|ZZ)\b/.test(e.join(u))&&t.get(["supplemental/likelySubtags",e.join(u)])})?(i=i.split(u),["und"!==a?a:i[0],"Zzzz"!==l?l:i[1],"ZZ"!==c?c:i[2]].concat(f)):o.force?t.get("supplemental/likelySubtags/und").split(u):void 0:void 0},i=function(e,t,n){var i,a=n[0],l=n[1],u=n[2],c=n[3];return r([[[a,"Zzzz","ZZ"],[a]],[[a,"Zzzz",u],[a,u]],[[a,l,"ZZ"],[a,l]]],function(r){var a=o(e,t,r[0]);return i=r[1],a&&a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]})?(c&&i.push(c),i):n},a=function(e){var t,n=[];return(t=(e=e.replace(/_/,"-")).split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),n[4]=t[1][0]),null===(t=e.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(n[0]=t[10]||t[2]||"und",n[1]=t[4]||"Zzzz",n[2]=t[6]||"ZZ",t[7]&&t[7].length&&(n[3]=t[7].slice(1)),n)},l=function(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)},u=function(e,t){var n,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),(n=new Error(r)).code=e,l(function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n}(t),function(e){n[e]=t[e]}),n},c=function(e,t,n){if(!t)throw u(e,n)},f=function(e,t){c("E_MISSING_PARAMETER",void 0!==e,{name:t})},p=function(e,t,n,r){c("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})},s=function(e,n){p(e,n,"string"==typeof e||t(e),"String or Array")},d=function(e,t){var n;p(e,t,void 0===e||null!==(n=e)&&""+n=="[object Object]","Plain Object")},v=function(e,t){var n,r=e,o=t.length;for(n=0;n<o-1;n++)if(!(r=r[t[n]]))return;return r[t[n]]},h=function(e,t){var n,r=e._availableBundleMapQueue,o=v(t,["main"]);if(o)for(n in o)o.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)},g=function(e){return t(e)?e:[e]},z=e=function(){var n={},r=[].slice.call(arguments,0);return l(r,function(r){var o;for(o in r)o in n&&"object"==typeof n[o]&&!t(n[o])?n[o]=e(n[o],r[o]):n[o]=r[o]}),n},b=function(e,t,n){var r,o,i;for(f(n[0],"json"),r=0;r<n.length;r++)for(i=g(n[r]),o=0;o<i.length;o++)d(i[o],"json"),t=z(t,i[o]),h(e,i[o]);return t},y=function(e,t,r){var o=n(t,r);return v(e._resolved,o)},_=function(e){this.init(e)};return _._alwaysArray=g,_._coreLoad=b,_._createError=u,_._itemGetResolved=y,_._jsonMerge=z,_._pathNormalize=n,_._resourceGet=v,_._validatePresence=f,_._validateType=p,_._validateTypePath=s,_._validateTypePlainObject=d,_._availableBundleMap={},_._availableBundleMapQueue=[],_._resolved={},_.localeSep="-",_.load=function(){_._resolved=b(_,_._resolved,arguments)},_.prototype.init=function(e){var t,n,r,l,u,c,s,d,v,h,g=_.localeSep,z="";f(e,"locale"),p(h=e,"locale","string"==typeof h,"a string"),5===(c=a(e)).length&&(z=g+"u"+g+(d=c.pop()),c[3]||c.pop()),v=c[3],n=(r=o(_,this,c,{force:!0})||c)[0],u=r[1],s=r[2],l=i(_,this,r).join(g),this.attributes=t={bundle:function(e,t,n){var r=e._availableBundleMap,l=e._availableBundleMapQueue;if(l.length)for(;l.length>0;){const n=l.shift();if(!n)break;var u,c,f,p;if(p=a(n),void 0===(c=o(e,t,p)))throw new Error(`Could not find likelySubtags for ${n}`);if((u=r[f=(f=i(e,t,c)).join(e.localeSep)])&&u.length<n.length)return;r[f]=n}return r[n]||null}(_,this,l),minLanguageId:l+z,maxLanguageId:r.join(g)+z,language:n,script:u,territory:s,region:s,variant:v},d&&("-"+d).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,n,r){n?t["u"+n]=r:t["u"+e]=!0}),this.locale=e},_.prototype.get=function(e){return f(e,"path"),s(e,"path"),y(_,e,this.attributes)},_.prototype.main=function(e){return f(e,"path"),s(e,"path"),c("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=g(e),this.get(["main/{bundle}"].concat(e))},_});