/*! UIkit 3.5.14 | https://www.getuikit.com | (c) 2014 - 2020 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitsortable",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitSortable=e(t.UIkit.util)}(this,function(h){"use strict";var l,c="uk-animation-target";function d(t,e){var i=h.css(t,"zIndex");return!!h.isVisible(t)&&h.assign({display:"",opacity:e?h.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?h.index(t):i},p(t))}function u(t){h.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),h.removeClass(t,c),h.css(t,{height:"",display:""})}function p(t){var e=h.offset(t),i=e.height,e=e.width,t=h.position(t);return{top:t.top,left:t.left,height:i,width:e}}var o,t={mixins:[{connected:function(){h.hasClass(this.$el,this.$name)||h.addClass(this.$el,this.$name)}},{props:{animation:Number},data:{animation:150},methods:{animate:function(t,i){var n=this;void 0===i&&(i=this.$el),function(){if(l)return;(l=h.append(document.head,"<style>").sheet).insertRule("."+c+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        }",0)}();var s=h.children(i),o=s.map(function(t){return d(t,!0)}),e=h.height(i),r=window.pageYOffset;t(),h.Transition.cancel(i),s.forEach(h.Transition.cancel),u(i),this.$update(i,"resize"),h.fastdom.flush();var t=h.height(i),a=(s=s.concat(h.children(i).filter(function(t){return!h.includes(s,t)}))).map(function(t,e){return!!(t.parentNode&&e in o)&&(o[e]?h.isVisible(t)?p(t):{opacity:0}:{opacity:h.isVisible(t)?1:0})}),o=a.map(function(t,e){e=s[e].parentNode===i&&(o[e]||d(s[e]));return e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity),e});return h.addClass(i,c),s.forEach(function(t,e){return o[e]&&h.css(t,o[e])}),h.css(i,{height:e,display:"block"}),h.scrollTop(window,r),h.Promise.all(s.map(function(t,e){return["top","left","height","width"].some(function(t){return o[e][t]!==a[e][t]})&&h.Transition.start(t,a[e],n.animation,"ease")}).concat(e!==t&&h.Transition.start(i,{height:t},this.animation,"ease"))).then(function(){s.forEach(function(t,e){return h.css(t,{display:0===a[e].opacity?"none":"",zIndex:""})}),u(i),n.$update(i,"resize"),h.fastdom.flush()},h.noop)}}}],props:{group:String,threshold:Number,clsItem:String,clsPlaceholder:String,clsDrag:String,clsDragState:String,clsBase:String,clsNoDrag:String,clsEmpty:String,clsCustom:String,handle:String},data:{group:"",threshold:5,clsItem:"uk-sortable-item",clsPlaceholder:"uk-sortable-placeholder",clsDrag:"uk-sortable-drag",clsDragState:"uk-drag",clsBase:"uk-sortable",clsNoDrag:"uk-sortable-nodrag",clsEmpty:"uk-sortable-empty",clsCustom:"",handle:!1,pos:{}},created:function(){var i=this;["init","start","move","end"].forEach(function(t){var e=i[t];i[t]=function(t){h.assign(i.pos,h.getEventPos(t)),e(t)}})},events:{name:h.pointerDown,passive:!1,handler:"init"},computed:{target:function(){return(this.$el.tBodies||[this.$el])[0]},items:function(){return h.children(this.target)},isEmpty:{get:function(){return h.isEmpty(this.items)},watch:function(t){h.toggleClass(this.target,this.clsEmpty,t)},immediate:!0},handles:{get:function(t,e){t=t.handle;return t?h.$$(t,e):this.items},watch:function(t,e){h.css(e,{touchAction:"",userSelect:""}),h.css(t,{touchAction:h.hasTouch?"none":"",userSelect:"none"})},immediate:!0}},update:{write:function(){var t,e,i,n,s,o;this.drag&&h.parent(this.placeholder)&&(t=(i=this.pos).x,e=i.y,o=(n=this.origin).offsetTop,s=n.offsetLeft,i=this.placeholder,h.css(this.drag,{top:e-o,left:t-s}),(n=this.getSortable(document.elementFromPoint(t,e)))&&((o=n.items).some(h.Transition.inProgress)||(s=function(t,e,i){for(var n=0;n<t.length;n++)if(h.pointInRect({x:e,y:i},t[n].getBoundingClientRect()))return t[n]}(o,t,e),o.length&&!s||s===i||(this.touched.add(n),n!==(o=this.getSortable(i))&&o.remove(i),n.insert(i,function(t,e,i,n,s){var o=h.children(t);if(!o.length)return;o=1===o.length;o&&h.append(t,i);t=function(n){return n.some(function(t,e){var i=t.getBoundingClientRect();return n.slice(e+1).some(function(t){t=t.getBoundingClientRect();return!r([i.left,i.right],[t.left,t.right])})})}(h.children(t));o&&h.remove(i);o=e.getBoundingClientRect();if(!t)return s<o.top+o.height/2?e:e.nextElementSibling;s=i.getBoundingClientRect(),i=r([o.top,o.bottom],[s.top,s.bottom]);return i&&n>o.left+o.width/2||!i&&s.top<o.top?e.nextElementSibling:e}(n.target,s,i,t,e))))))},events:["move"]},methods:{init:function(t){var e=t.target,i=t.button,n=t.defaultPrevented,s=this.items.filter(function(t){return h.within(e,t)})[0];!s||n||0<i||h.isInput(e)||h.within(e,"."+this.clsNoDrag)||this.handle&&!h.within(e,this.handle)||(t.preventDefault(),this.touched=new Set([this]),this.placeholder=s,this.origin=h.assign({target:e,index:h.index(s)},this.pos),h.on(document,h.pointerMove,this.move),h.on(document,h.pointerUp,this.end),this.threshold||this.start(t))},start:function(t){this.drag=function(t,e){t=h.append(t,e.outerHTML.replace(/(^<)(?:li|tr)|(?:li|tr)(\/>$)/g,"$1div$2"));return t.style.setProperty("margin","0","important"),h.css(t,h.assign({boxSizing:"border-box",width:e.offsetWidth,height:e.offsetHeight},h.css(e,["paddingLeft","paddingRight","paddingTop","paddingBottom"]))),h.height(t.firstElementChild,h.height(e.firstElementChild)),t}(this.$container,this.placeholder);var e,i,n=this.placeholder.getBoundingClientRect(),s=n.left,n=n.top;h.assign(this.origin,{offsetLeft:this.pos.x-s,offsetTop:this.pos.y-n}),h.addClass(this.drag,this.clsDrag,this.clsCustom),h.addClass(this.placeholder,this.clsPlaceholder),h.addClass(this.items,this.clsItem),h.addClass(document.documentElement,this.clsDragState),h.trigger(this.$el,"start",[this,this.placeholder]),e=this.pos,i=Date.now(),o=setInterval(function(){var t=e.x,r=e.y;r+=window.pageYOffset;var a=.3*(Date.now()-i);i=Date.now(),h.scrollParents(document.elementFromPoint(t,e.y)).reverse().some(function(t){var e=t.scrollTop,i=t.scrollHeight,n=h.offset(h.getViewport(t)),s=n.top,o=n.bottom,n=n.height;if(s<r&&r<s+35)e-=a;else{if(!(r<o&&o-35<r))return;e+=a}if(0<e&&e<i-n)return h.scrollTop(t,e),!0})},15),this.move(t)},move:function(t){this.drag?this.$emit("move"):(Math.abs(this.pos.x-this.origin.x)>this.threshold||Math.abs(this.pos.y-this.origin.y)>this.threshold)&&this.start(t)},end:function(){var t,n=this;h.off(document,h.pointerMove,this.move),h.off(document,h.pointerUp,this.end),h.off(window,"scroll",this.scroll),this.drag&&(clearInterval(o),t=this.getSortable(this.placeholder),this===t?this.origin.index!==h.index(this.placeholder)&&h.trigger(this.$el,"moved",[this,this.placeholder]):(h.trigger(t.$el,"added",[t,this.placeholder]),h.trigger(this.$el,"removed",[this,this.placeholder])),h.trigger(this.$el,"stop",[this,this.placeholder]),h.remove(this.drag),this.drag=null,this.touched.forEach(function(t){var e=t.clsPlaceholder,i=t.clsItem;return n.touched.forEach(function(t){return h.removeClass(t.items,e,i)})}),this.touched=null,h.removeClass(document.documentElement,this.clsDragState))},insert:function(t,e){var i,n=this;e&&(t===e||t===e.previousElementSibling)||(h.addClass(this.items,this.clsItem),i=function(){return e?h.before(e,t):h.append(n.target,t)},this.animation?this.animate(i):i())},remove:function(t){h.within(t,this.target)&&(this.animation?this.animate(function(){return h.remove(t)}):h.remove(t))},getSortable:function(t){do{var e=this.$getComponent(t,"sortable");if(e&&e.group===this.group)return e}while(t=h.parent(t))}}};function r(t,e){return t[1]>e[0]&&e[1]>t[0]}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("sortable",t),t});