/*! UIkit 3.6.0 | https://www.getuikit.com | (c) 2014 - 2020 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitFilter=e(t.UIkit.util)}(this,function(h){"use strict";function e(t){return function(t,e,n){for(var i=[[]],r=0;r<t.length;r++){var o=t[r];if(h.isVisible(o))for(var a=f(o),s=i.length-1;0<=s;s--){var u=i[s];if(!u[0]){u.push(o);break}var c=void 0;if(c=u[0].offsetParent===o.offsetParent?f(u[0]):(a=f(o,!0),f(u[0],!0)),a[e]>=c[n]-1&&a[e]!==c[e]){i.push([o]);break}if(a[n]-1>c[e]||a[e]===c[e]){u.push(o);break}if(0===s){i.unshift([o]);break}}}return i}(t,"top","bottom")}function f(t,e){void 0===e&&(e=!1);var n=t.offsetTop,i=t.offsetLeft,r=t.offsetHeight,o=t.offsetWidth;return e&&(n=(t=h.offsetPosition(t))[0],i=t[1]),{top:n,left:i,bottom:n+r,right:i+o}}var i="uk-transition-leave",d="uk-transition-enter";function n(t,a,s,u){void 0===u&&(u=40);var c=p(a,!0),f={opacity:1},l={opacity:0},e=function(t){return function(){return c===p(a)?t():h.Promise.reject()}},n=e(function(){return h.addClass(a,i),h.Promise.all(m(a).map(function(e,n){return new h.Promise(function(t){return setTimeout(function(){return h.Transition.start(e,l,s/2,"ease").then(t)},n*u)})})).then(function(){return h.removeClass(a,i)})}),e=e(function(){var o=h.height(a);return h.addClass(a,d),t(),h.css(h.children(a),{opacity:0}),h.trigger(h.toWindow(a),"resize"),new h.Promise(function(r){requestAnimationFrame(function(){var t=h.children(a),e=h.height(a);h.height(a,o);var n=m(a);h.css(t,l);var i=n.map(function(e,n){return new h.Promise(function(t){return setTimeout(function(){return h.Transition.start(e,f,s/2,"ease").then(t)},n*u)})});o!==e&&i.push(h.Transition.start(a,{height:e},s/2+n.length*u,"ease")),h.Promise.all(i).then(function(){h.removeClass(a,d),c===p(a)&&(h.css(a,"height",""),h.css(t,{opacity:""}),delete a.dataset.transition),r()})})})});return(h.hasClass(a,i)?r(a):h.hasClass(a,d)?r(a).then(n):n()).then(e)}function p(t,e){return e&&(t.dataset.transition=1+p(t)),h.toNumber(t.dataset.transition)||0}function r(t){return h.Promise.all(h.children(t).filter(h.Transition.inProgress).map(function(e){return new h.Promise(function(t){return h.once(e,"transitionend transitioncanceled",t)})}))}function m(t){return e(h.children(t)).reduce(function(t,e){return t.concat(h.sortBy(e.filter(function(t){return h.isInView(t)}),"offsetLeft"))},[])}var u,c="uk-animation-target";function o(t,i,r){u=u||!!h.append(document.head,"<style> ."+c+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        } </style>");var o=h.children(i),a=o.map(function(t){return l(t,!0)}),s=h.height(i);return t(),h.Transition.cancel(i),o.forEach(h.Transition.cancel),g(i),h.trigger(h.toWindow(i),"resize"),h.Promise.resolve().then(function(){h.fastdom.flush();var t=h.height(i),n=(o=o.concat(h.children(i).filter(function(t){return!h.includes(o,t)}))).map(function(t,e){return!!(h.parent(t)&&e in a)&&(a[e]?h.isVisible(t)?v(t):{opacity:0}:{opacity:h.isVisible(t)?1:0})});a=n.map(function(t,e){e=h.parent(o[e])===i&&(a[e]||l(o[e]));return!!e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity,e)}),h.addClass(i,c),o.forEach(function(t,e){return a[e]&&h.css(t,a[e])}),h.css(i,{height:s,display:"block"});var e=o.map(function(t,e){return h.Transition.start(t,n[e],r,"ease")});return s!==t&&e.push(h.Transition.start(i,{height:t},r,"ease")),h.Promise.all(e).then(function(){o.forEach(function(t,e){return h.css(t,{display:0===n[e].opacity?"none":"",zIndex:""})}),g(i)},h.noop)})}function l(t,e){var n=h.css(t,"zIndex");return!!h.isVisible(t)&&h.assign({display:"",opacity:e?h.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===n?h.index(t):n},v(t))}function g(t){h.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),h.removeClass(t,c),h.css(t,{height:"",display:""})}function v(t){var e=h.offset(t),n=e.height,e=e.width,t=h.position(t);return{top:t.top,left:t.left,height:n,width:e}}var t={mixins:[{props:{animation:Number,animationMode:String},data:{animation:150,animationMode:"shift"},methods:{animate:function(t,e){return void 0===e&&(e=this.$el),("fade"===this.animationMode?n:o)(t,e,this.animation).then(function(){return h.trigger(h.toWindow(e),"resize")},h.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:{get:function(t,e){t.attrItem;return h.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},watch:function(){var e,n=this;this.updateState(),!1!==this.selActive&&(e=h.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return h.toggleClass(t,n.cls,h.includes(e,t))}))},immediate:!0},children:{get:function(t,e){t=t.target;return h.$$(t+" > *",e)},watch:function(t,e){var n;n=e,(t=t).length===n.length&&t.every(function(t){return~n.indexOf(t)})||this.updateState()}}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply:function(t){this.setState(y(t,this.attrItem,this.getState()))},getState:function(){var n=this;return this.toggles.filter(function(t){return h.hasClass(t,n.cls)}).reduce(function(t,e){return y(e,n.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(n,i){var r=this;void 0===i&&(i=!0),n=h.assign({filter:{"":""},sort:[]},n),h.trigger(this.$el,"beforeFilter",[this,n]),this.toggles.forEach(function(t){return h.toggleClass(t,r.cls,!!function(t,e,n){var i=n.filter;void 0===i&&(i={"":""});var r=n.sort,o=r[0],a=r[1],n=s(t,e),r=n.filter;void 0===r&&(r="");t=n.group;void 0===t&&(t="");e=n.sort,n=n.order;void 0===n&&(n="asc");return h.isUndefined(e)?t in i&&r===i[t]||!r&&t&&!(t in i)&&!i[""]:o===e&&a===n}(t,r.attrItem,n))}),h.Promise.all(h.$$(this.target,this.$el).map(function(t){var e=h.children(t);return i?r.animate(function(){return a(n,t,e)},t):a(n,t,e)})).then(function(){return h.trigger(r.$el,"afterFilter",[r])})},updateState:function(){var t=this;h.fastdom.write(function(){return t.setState(t.getState(),!1)})}}};function s(t,e){return h.parseOptions(h.data(t,e),["filter"])}function a(t,e,n){var i,r=(u=(u=t).filter,i="",h.each(u,function(t){return i+=t||""}),i);n.forEach(function(t){return h.css(t,"display",r&&!h.matches(t,r)?"none":"")});var o,a,s=t.sort,u=s[0],t=s[1];u&&(s=n,o=u,a=t,s=h.assign([],s).sort(function(t,e){return h.data(t,o).localeCompare(h.data(e,o),void 0,{numeric:!0})*("asc"===a||-1)}),h.isEqual(s,n)||h.append(e,s))}function y(t,e,n){var i=s(t,e),r=i.filter,t=i.group,e=i.sort,i=i.order;return void 0===i&&(i="asc"),(r||h.isUndefined(e))&&(t?r?(delete n.filter[""],n.filter[t]=r):(delete n.filter[t],(h.isEmpty(n.filter)||""in n.filter)&&(n.filter={"":r||""})):n.filter={"":r||""}),h.isUndefined(e)||(n.sort=[e,i]),n}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});