/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 2.2.0-next.3
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-selection")):"function"==typeof define&&define.amd?define("bb",["d3-selection"],e):"object"==typeof exports?exports.bb=e(require("d3-selection")):(t.bb=t.bb||{},t.bb.plugin=t.bb.plugin||{},t.bb.plugin.bubblecompare=e(t.d3))}(this,(function(t){return(()=>{"use strict";var e=[(t,e,n)=>{function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{default:()=>s});var r=n(1),o=function(){function t(t){void 0===t&&(t={}),this.$$=void 0,this.options=void 0,this.options=t}var e=t.prototype;return e.$beforeInit=function(){},e.$init=function(){},e.$afterInit=function(){},e.$redraw=function(){},e.$willDestroy=function(){var t=this;Object.keys(this).forEach((function(e){t[e]=null,delete t[e]}))},t}();o.version="2.2.0-next.2";var s=function(t){function e(e){var n;return(n=t.call(this,e)||this).$$=void 0,i(n)||i(n)}var n,o;o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=e.prototype;return s.$init=function(){var t=this.$$;t.findClosest=this.findClosest.bind(this),t.getBubbleR=this.getBubbleR.bind(this),t.pointExpandedR=this.pointExpandedR.bind(this)},s.pointExpandedR=function(t){var n=this.getBubbleR(t),i=this.options.expandScale,r=void 0===i?1:i;return e.raiseFocusedBubbleLayer(t),this.changeCursorPoint(),n*r},e.raiseFocusedBubbleLayer=function(t){t.raise&&(0,r.select)(t.node().parentNode.parentNode).raise()},s.changeCursorPoint=function(){this.$$.$el.svg.select(".bb-event-rect").style("cursor","pointer")},s.findClosest=function(t,e){var n=this,i=this.$$;return t.filter((function(t){return t&&!i.isBarType(t.id)})).reduce((function(t,r){return i.dist(r,e)<n.getBubbleR(r)?r:t}),0)},s.getBubbleR=function(t){var e=this,n=this.options,i=n.minR,r=n.maxR,o=this.getZData(t);if(!o)return i;var s=this.$$.data.targets.reduce((function(t,n){var i=t[0],r=t[1],o=e.getZData(n.values[0]);return[Math.min(i,o),Math.max(r,o)]}),[1e4,0]),u=s[0],a=s[1],c=u>0&&a===u?0:o/a;return Math.abs(c)*(r-i)+i},s.getZData=function(t){return this.$$.isBubbleZType(t)?this.$$.getBubbleZData(t.value,"z"):t.value},e}(o);s.version="0.0.1"},e=>{e.exports=t}],n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}return i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(0)})().default}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYi5wbHVnaW4uW25hbWVdL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9iYi5wbHVnaW4uW25hbWVdLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly9iYi5wbHVnaW4uW25hbWVdLy4vc3JjL1BsdWdpbi9QbHVnaW4udHMiLCJ3ZWJwYWNrOi8vYmIucGx1Z2luLltuYW1lXS8uL3NyYy9QbHVnaW4vYnViYmxlY29tcGFyZS9pbmRleC50cyIsIndlYnBhY2s6Ly9iYi5wbHVnaW4uW25hbWVdLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vYmIucGx1Z2luLltuYW1lXS9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwiZDMtc2VsZWN0aW9uXCIsXCJjb21tb25qczJcIjpcImQzLXNlbGVjdGlvblwiLFwiYW1kXCI6XCJkMy1zZWxlY3Rpb25cIixcInJvb3RcIjpcImQzXCJ9Iiwid2VicGFjazovL2JiLnBsdWdpbi5bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmIucGx1Z2luLltuYW1lXS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vYmIucGx1Z2luLltuYW1lXS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmIucGx1Z2luLltuYW1lXS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMV9fIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIlBsdWdpbiIsIm9wdGlvbnMiLCIkJCIsIiRiZWZvcmVJbml0IiwiJGluaXQiLCIkYWZ0ZXJJbml0IiwiJHJlZHJhdyIsIiR3aWxsRGVzdHJveSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidmVyc2lvbiIsIkJ1YmJsZUNvbXBhcmUiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9fcHJvdG9fXyIsImZpbmRDbG9zZXN0IiwiYmluZCIsImdldEJ1YmJsZVIiLCJwb2ludEV4cGFuZGVkUiIsImQiLCJiYXNlUiIsImV4cGFuZFNjYWxlIiwicmFpc2VGb2N1c2VkQnViYmxlTGF5ZXIiLCJjaGFuZ2VDdXJzb3JQb2ludCIsInJhaXNlIiwiZDNTZWxlY3QiLCJub2RlIiwicGFyZW50Tm9kZSIsIiRlbCIsInN2ZyIsInNlbGVjdCIsInN0eWxlIiwidmFsdWVzIiwicG9zIiwiZmlsdGVyIiwidiIsImlzQmFyVHlwZSIsImlkIiwicmVkdWNlIiwiYWNjIiwiY3VyIiwiZGlzdCIsIm1pblIiLCJtYXhSIiwiY3VyVmFsIiwiZ2V0WkRhdGEiLCJkYXRhIiwidGFyZ2V0cyIsImFjY01pbiIsImFjY01heCIsInZhbCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzaXplIiwiYWJzIiwiaXNCdWJibGVaVHlwZSIsImdldEJ1YmJsZVpEYXRhIiwidmFsdWUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxR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QUFTWCxFQUFPRCxHQUFRQSxHLEVBR3pDRyxTQUFBLFNBQVMxQixHQUNSLE9BQU83QixLQUFLTyxHQUFHMkQsY0FBY3JDLEdBQzVCN0IsS0FBS08sR0FBRzRELGVBQWV0QyxFQUFFdUMsTUFBTyxLQUNoQ3ZDLEVBQUV1QyxPLEdBdEVzQy9ELEdBQXRCYSxFQUNiRCxRLGFFOUNSckIsRUFBT0QsUUFBVU0sSUNDYm9FLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVU1RSxRQUczQyxJQUFJQyxFQUFTeUUsRUFBeUJFLEdBQVksQ0FHakQ1RSxRQUFTLElBT1YsT0FIQTZFLEVBQW9CRCxHQUFVM0UsRUFBUUEsRUFBT0QsUUFBUzJFLEdBRy9DMUUsRUFBT0QsUUNqQmYsT0NGQTJFLEVBQW9CekMsRUFBSSxDQUFDbEMsRUFBUzhFLEtBQ2pDLElBQUksSUFBSXpELEtBQU95RCxFQUNYSCxFQUFvQkksRUFBRUQsRUFBWXpELEtBQVNzRCxFQUFvQkksRUFBRS9FLEVBQVNxQixJQUM1RUgsT0FBTzhELGVBQWVoRixFQUFTcUIsRUFBSyxDQUFFNEQsWUFBWSxFQUFNQyxJQUFLSixFQUFXekQsTUNKM0VzRCxFQUFvQkksRUFBSSxDQUFDSSxFQUFLQyxJQUFTbEUsT0FBT1EsVUFBVTJELGVBQWVDLEtBQUtILEVBQUtDLEdGRzFFVCxFQUFvQixJIiwiZmlsZSI6ImJpbGxib2FyZGpzLXBsdWdpbi1idWJibGVjb21wYXJlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImQzLXNlbGVjdGlvblwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImJiXCIsIFtcImQzLXNlbGVjdGlvblwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJiYlwiXSA9IGZhY3RvcnkocmVxdWlyZShcImQzLXNlbGVjdGlvblwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYmJcIl0gPSByb290W1wiYmJcIl0gfHwge30sIHJvb3RbXCJiYlwiXVtcInBsdWdpblwiXSA9IHJvb3RbXCJiYlwiXVtcInBsdWdpblwiXSB8fCB7fSwgcm9vdFtcImJiXCJdW1wicGx1Z2luXCJdW1wiYnViYmxlY29tcGFyZVwiXSA9IGZhY3Rvcnkocm9vdFtcImQzXCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzFfXykge1xucmV0dXJuICIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgfiBwcmVzZW50IE5BVkVSIENvcnAuXG4gKiBiaWxsYm9hcmQuanMgcHJvamVjdCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGdlbmVyYXRlIGJpbGxib2FyZC5qcyBwbHVnaW5cbiAqIEBjbGFzcyBQbHVnaW5cbiAqL1xuLyoqXG4gKiBWZXJzaW9uIGluZm8gc3RyaW5nIGZvciBwbHVnaW5cbiAqIEBuYW1lIHZlcnNpb25cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQbHVnaW5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZXhhbXBsZVxuICogICBiYi5wbHVnaW4uc3RhbmZvcmQudmVyc2lvbjsgIC8vIGV4KSAxLjkuMFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbHVnaW4ge1xuXHRwdWJsaWMgJCQ7XG5cdHB1YmxpYyBvcHRpb25zO1xuXHRzdGF0aWMgdmVyc2lvbiA9IFwiMi4yLjAtbmV4dC4yXCI7XG5cblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7QW55fSBvcHRpb25zIGNvbmZpZyBvcHRpb24gb2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZSBob29rIGZvciAnYmVmb3JlSW5pdCcgcGhhc2UuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHQkYmVmb3JlSW5pdCgpIHt9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZSBob29rIGZvciAnaW5pdCcgcGhhc2UuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHQkaW5pdCgpIHt9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZSBob29rIGZvciAnYWZ0ZXJJbml0JyBwaGFzZS5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdCRhZnRlckluaXQoKSB7fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUgaG9vayBmb3IgJ3JlZHJhdycgcGhhc2UuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHQkcmVkcmF3KCkge31cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlIGhvb2sgZm9yICd3aWxsRGVzdHJveScgcGhhc2UuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHQkd2lsbERlc3Ryb3koKSB7XG5cdFx0T2JqZWN0LmtleXModGhpcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdFx0dGhpc1trZXldID0gbnVsbDtcblx0XHRcdGRlbGV0ZSB0aGlzW2tleV07XG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7c2VsZWN0IGFzIGQzU2VsZWN0fSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgUGx1Z2luIGZyb20gXCIuLi9QbHVnaW5cIjtcblxuLyoqXG4gKiBCdWJibGUgY29tcGFyZSBkaWFncmFtIHBsdWdpbi48YnI+XG4gKiBDb21wYXJlIGRhdGEgMy1kaW1lbnNpb25hbCB3YXlzOiB4LWF4aXMsIHktYXhpcyAmIGJ1YmJsZS1zaXplLlxuICogLSAqKk5PVEU6KipcbiAqICAgLSBQbHVnaW5zIGFyZW4ndCBidWlsdC1pbi4gTmVlZCB0byBiZSBsb2FkZWQgb3IgaW1wb3J0ZWQgdG8gYmUgdXNlZC5cbiAqICAgLSBOb24gcmVxdWlyZWQgbW9kdWxlcyBmcm9tIGJpbGxib2FyZC5qcyBjb3JlLCBuZWVkIHRvIGJlIGluc3RhbGxlZCBzZXBhcmF0ZWx5LlxuICogLSAqKlJlcXVpcmVkIG1vZHVsZXM6KipcbiAqICAgLSBbZDMtc2VsZWN0aW9uXShodHRwczovL2dpdGh1Yi5jb20vZDMvZDMtc2VsZWN0aW9uKVxuICogQGNsYXNzIHBsdWdpbi1idWJibGVjb21wYXJlXG4gKiBAcmVxdWlyZXMgZDMtc2VsZWN0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBidWJibGUgY29tcGFyZSBwbHVnaW4gb3B0aW9uc1xuICogQGF1Z21lbnRzIFBsdWdpblxuICogQHJldHVybnMge0J1YmJsZUNvbXBhcmV9XG4gKiBAZXhhbXBsZVxuICogLy8gUGx1Z2luIG11c3QgYmUgbG9hZGVkIGJlZm9yZSB0aGUgdXNlLlxuICogPHNjcmlwdCBzcmM9XCIkWU9VUl9QQVRIL3BsdWdpbi9iaWxsYm9hcmRqcy1wbHVnaW4tYnViYmxlY29tcGFyZS5qc1wiPjwvc2NyaXB0PlxuICpcbiAqICB2YXIgY2hhcnQgPSBiYi5nZW5lcmF0ZSh7XG4gKiAgICAgZGF0YToge1xuICogICAgICAgIGNvbHVtbnM6IFsgLi4uIF0sXG4gKiAgICAgICAgdHlwZTogXCJidWJibGVcIlxuICogICAgIH1cbiAqICAgICAuLi5cbiAqICAgICBwbHVnaW5zOiBbXG4gKiAgICAgICAgbmV3IGJiLnBsdWdpbi5idWJibGVjb21wYXJlKHtcbiAqICAgICAgICAgIG1pblI6IDExLFxuICogICAgICAgICAgbWF4UjogNzQsXG4gKiAgICAgICAgICBleHBhbmRTY2FsZTogMS4xXG4gKiAgICAgICAgfSksXG4gKiAgICAgXVxuICogIH0pO1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7YmJ9IGZyb20gXCJiaWxsYm9hcmQuanNcIjtcbiAqIGltcG9ydCBCdWJibGVDb21wYXJlIGZyb20gXCJiaWxsYm9hcmQuanMvZGlzdC9iaWxsYm9hcmRqcy1wbHVnaW4tYnViYmxlY29tcGFyZS5lc21cIjtcbiAqXG4gKiBiYi5nZW5lcmF0ZSh7XG4gKiAgICAgcGx1Z2luczogW1xuICogICAgICAgIG5ldyBCdWJibGVDb21wYXJlKHsgLi4uIH0pXG4gKiAgICAgXVxuICogfSlcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWJibGVDb21wYXJlIGV4dGVuZHMgUGx1Z2luIHtcblx0c3RhdGljIHZlcnNpb24gPSBgMC4wLjFgO1xuXHRwdWJsaWMgJCQ7XG5cblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQkaW5pdCgpOiB2b2lkIHtcblx0XHRjb25zdCB7JCR9ID0gdGhpcztcblxuXHRcdCQkLmZpbmRDbG9zZXN0ID0gdGhpcy5maW5kQ2xvc2VzdC5iaW5kKHRoaXMpO1xuXHRcdCQkLmdldEJ1YmJsZVIgPSB0aGlzLmdldEJ1YmJsZVIuYmluZCh0aGlzKTtcblx0XHQkJC5wb2ludEV4cGFuZGVkUiA9IHRoaXMucG9pbnRFeHBhbmRlZFIuYmluZCh0aGlzKTtcblx0fVxuXG5cdHBvaW50RXhwYW5kZWRSKGQpOiBudW1iZXIge1xuXHRcdGNvbnN0IGJhc2VSID0gdGhpcy5nZXRCdWJibGVSKGQpO1xuXHRcdGNvbnN0IHtleHBhbmRTY2FsZSA9IDF9ID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0QnViYmxlQ29tcGFyZS5yYWlzZUZvY3VzZWRCdWJibGVMYXllcihkKTtcblx0XHR0aGlzLmNoYW5nZUN1cnNvclBvaW50KCk7XG5cblx0XHRyZXR1cm4gYmFzZVIgKiBleHBhbmRTY2FsZTtcblx0fVxuXG5cdHN0YXRpYyByYWlzZUZvY3VzZWRCdWJibGVMYXllcihkKTogdm9pZCB7XG5cdFx0ZC5yYWlzZSAmJiBkM1NlbGVjdChkLm5vZGUoKS5wYXJlbnROb2RlLnBhcmVudE5vZGUpLnJhaXNlKCk7XG5cdH1cblxuXHRjaGFuZ2VDdXJzb3JQb2ludCgpOiB2b2lkIHtcblx0XHR0aGlzLiQkLiRlbC5zdmcuc2VsZWN0KGAuYmItZXZlbnQtcmVjdGApLnN0eWxlKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcblx0fVxuXG5cdGZpbmRDbG9zZXN0KHZhbHVlcywgcG9zKTogbnVtYmVyIHtcblx0XHRjb25zdCB7JCR9ID0gdGhpcztcblxuXHRcdHJldHVybiB2YWx1ZXNcblx0XHRcdC5maWx0ZXIodiA9PiB2ICYmICEkJC5pc0JhclR5cGUodi5pZCkpXG5cdFx0XHQucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuXHRcdFx0XHRjb25zdCBkID0gJCQuZGlzdChjdXIsIHBvcyk7XG5cblx0XHRcdFx0cmV0dXJuIGQgPCB0aGlzLmdldEJ1YmJsZVIoY3VyKSA/IGN1ciA6IGFjYztcblx0XHRcdH0sIDApO1xuXHR9XG5cblx0Z2V0QnViYmxlUihkKTogbnVtYmVyIHtcblx0XHRjb25zdCB7bWluUiwgbWF4Un0gPSB0aGlzLm9wdGlvbnM7XG5cdFx0Y29uc3QgY3VyVmFsID0gdGhpcy5nZXRaRGF0YShkKTtcblxuXHRcdGlmICghY3VyVmFsKSByZXR1cm4gbWluUjtcblxuXHRcdGNvbnN0IFttaW4sIG1heF0gPSB0aGlzLiQkLmRhdGEudGFyZ2V0cy5yZWR1Y2UoXG5cdFx0XHQoW2FjY01pbiwgYWNjTWF4XSwgY3VyKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHZhbCA9IHRoaXMuZ2V0WkRhdGEoY3VyLnZhbHVlc1swXSk7XG5cblx0XHRcdFx0cmV0dXJuIFtNYXRoLm1pbihhY2NNaW4sIHZhbCksIE1hdGgubWF4KGFjY01heCwgdmFsKV07XG5cdFx0XHR9LFxuXHRcdFx0WzEwMDAwLCAwXVxuXHRcdCk7XG5cdFx0Y29uc3Qgc2l6ZSA9IG1pbiA+IDAgJiYgbWF4ID09PSBtaW4gPyAwIDogY3VyVmFsIC8gbWF4O1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKHNpemUpICogKG1heFIgLSBtaW5SKSArIG1pblI7XG5cdH1cblxuXHRnZXRaRGF0YShkKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy4kJC5pc0J1YmJsZVpUeXBlKGQpID9cblx0XHRcdHRoaXMuJCQuZ2V0QnViYmxlWkRhdGEoZC52YWx1ZSwgXCJ6XCIpIDpcblx0XHRcdGQudmFsdWU7XG5cdH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzFfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiXSwic291cmNlUm9vdCI6IiJ9