"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var DomHandler=function(){function c(){_classCallCheck(this,c)}return _createClass(c,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,e=getComputedStyle(e);return t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,e=getComputedStyle(e);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),t}return 0}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n=e.offsetWidth;return t&&(e=getComputedStyle(e),n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)),n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n=e.offsetHeight;return t&&(e=getComputedStyle(e),n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)),n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n=e.clientHeight;return t&&(e=getComputedStyle(e),n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)),n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,t=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||t.clientWidth,height:e.innerHeight||n.clientHeight||t.clientHeight}}},{key:"getOffset",value:function(e){if(e){e=e.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}},{key:"getCurrentZIndex",value:function(){return this.zindex}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,o=0;o<t.length;o++){if(t[o]===e)return n;1===t[o].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e)if(e.classList)for(var n=t.split(" "),o=0;o<n.length;o++)e.classList.add(n[o]);else for(var i=t.split(" "),r=0;r<i.length;r++)e.className+=" "+i[r]}},{key:"addClass",value:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){if(e)return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,e=getComputedStyle(e);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,e=getComputedStyle(e);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)}return 0}},{key:"absolutePosition",value:function(e,t){var n,o,i,r,l,a,s,u;e&&(n=(u=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e)).height,o=u.width,i=t.offsetHeight,r=t.offsetWidth,l=t.getBoundingClientRect(),a=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),t=this.getViewport(),l.top+i+n>t.height?((s=l.top+a-n)<0&&(s=a),e.style.transformOrigin="bottom"):(s=i+l.top+a,e.style.transformOrigin="top"),u=l.left+r+o>t.width?Math.max(0,l.left+u+r-o):l.left+u,e.style.top=s+"px",e.style.left=u+"px")}},{key:"relativePosition",value:function(e,t){var n,o,i,r;e&&(n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,i=t.getBoundingClientRect(),t=this.getViewport(),i.top+o+n.height>t.height?(r=-1*n.height,i.top+r<0&&(r=-1*i.top),e.style.transformOrigin="bottom"):(r=o,e.style.transformOrigin="top"),t=n.width>t.width?-1*i.left:i.left+n.width>t.width?-1*(i.left+n.width-t.width):0,e.style.top=r+"px",e.style.left=t+"px")}},{key:"flipfitCollision",value:function(n,o,e,t,i){var r=this,l=2<arguments.length&&void 0!==e?e:"left top",e=3<arguments.length&&void 0!==t?t:"left bottom",t=4<arguments.length?i:void 0,a=o.getBoundingClientRect(),s=this.getViewport(),i=l.split(" "),l=e.split(" "),e=function(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e},u={my:{x:e(i[0]),y:e(i[1]||i[0]),offsetX:e(i[0],!0),offsetY:e(i[1]||i[0],!0)},at:{x:e(l[0]),y:e(l[1]||l[0]),offsetX:e(l[0],!0),offsetY:e(l[1]||l[0],!0)}},d=function(){return u.my.offsetX+u.at.offsetX+a.left+("left"===u.my.x?0:-1*("center"===u.my.x?r.getOuterWidth(n)/2:r.getOuterWidth(n)))},f=function(){return u.my.offsetY+u.at.offsetY+a.top+("top"===u.my.y?0:-1*("center"===u.my.y?r.getOuterHeight(n)/2:r.getOuterHeight(n)))},l={count:{x:0,y:0},left:function(){var e=d(),t=c.getWindowScrollLeft();n.style.left=e+t+"px",2===this.count.x?(n.style.left=t+"px",this.count.x=0):e<0&&(this.count.x++,u.my.x="left",u.at.x="right",u.my.offsetX*=-1,u.at.offsetX*=-1,this.right())},right:function(){var e=d()+c.getOuterWidth(o),t=c.getWindowScrollLeft();n.style.left=e+t+"px",2===this.count.x?(n.style.left=s.width-c.getOuterWidth(n)+t+"px",this.count.x=0):e+c.getOuterWidth(n)>s.width&&(this.count.x++,u.my.x="right",u.at.x="left",u.my.offsetX*=-1,u.at.offsetX*=-1,this.left())},top:function(){var e=f(),t=c.getWindowScrollTop();n.style.top=e+t+"px",2===this.count.y?(n.style.left=t+"px",this.count.y=0):e<0&&(this.count.y++,u.my.y="top",u.at.y="bottom",u.my.offsetY*=-1,u.at.offsetY*=-1,this.bottom())},bottom:function(){var e=f()+c.getOuterHeight(o),t=c.getWindowScrollTop();n.style.top=e+t+"px",2===this.count.y?(n.style.left=s.height-c.getOuterHeight(n)+t+"px",this.count.y=0):e+c.getOuterHeight(o)>s.height&&(this.count.y++,u.my.y="bottom",u.at.y="top",u.my.offsetY*=-1,u.at.offsetY*=-1,this.top())},center:function(e){var t;"y"===e?(t=f()+c.getOuterHeight(o)/2,n.style.top=t+c.getWindowScrollTop()+"px",t<0?this.bottom():t+c.getOuterHeight(o)>s.height&&this.top()):(t=d()+c.getOuterWidth(o)/2,n.style.left=t+c.getWindowScrollLeft()+"px",t<0?this.left():t+c.getOuterWidth(n)>s.width&&this.right())}};l[u.at.x]("x"),l[u.at.y]("y"),this.isFunction(t)&&t(u)}},{key:"findCollisionPosition",value:function(e){if(e){var t="left"===e?"right":"left";return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat(t," center"),at:"".concat(e," center")}}}},{key:"getParents",value:function(e,t){t=1<arguments.length&&void 0!==t?t:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var e=this.getParents(e),n=/(auto|scroll)/,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,r=1===i.nodeType&&i.dataset.scrollselectors;if(r){var l=_createForOfIteratorHelper(r.split(","));try{for(l.s();!(a=l.n()).done;){var a=a.value,a=this.findSingle(i,a);a&&function(e){e=window.getComputedStyle(e,null);return n.test(e.getPropertyValue("overflow"))||n.test(e.getPropertyValue("overflowX"))||n.test(e.getPropertyValue("overflowY"))}(a)&&t.push(a)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){o.e(e)}finally{o.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(t,n){var o,i;t&&(t.style.opacity=0,o=+new Date,i=0,function e(){i=+t.style.opacity+((new Date).getTime()-o)/n,t.style.opacity=i,o=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}())}},{key:"fadeOut",value:function(e,t){var n,o,i;e&&(n=1,o=50/t,i=setInterval(function(){(n-=o)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50))}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===_typeof(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),n=i?parseFloat(i):0,i=e.getBoundingClientRect(),i=t.getBoundingClientRect().top+document.body.scrollTop-(i.top+document.body.scrollTop)-o-n,o=e.scrollTop,n=e.clientHeight,t=this.getOuterHeight(t);i<0?e.scrollTop=o+i:n<i+t&&(e.scrollTop=o+i-n+t)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&0<window.getSelection().rangeCount&&0<window.getSelection().getRangeAt(0).getClientRects().length&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t}},{key:"getBrowser",value:function(){var e;return this.browser||(e=this.resolveUserAgent(),this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)),this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),e=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}}},{key:"isVisible",value:function(e){return e&&null!=e.offsetParent}},{key:"getFocusableElements",value:function(e){var t=[],n=_createForOfIteratorHelper(c.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(n.s();!(o=n.n()).done;){var o=o.value;"none"!==getComputedStyle(o).display&&"hidden"!==getComputedStyle(o).visibility&&t.push(o)}}catch(e){n.e(e)}finally{n.f()}return t}}]),c}();exports.default=DomHandler;