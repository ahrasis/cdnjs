!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Navigo",[],e):"object"==typeof exports?exports.Navigo=e():t.Navigo=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={330:(t,e,o)=>{o.d(e,{default:()=>f});var n=/([:*])(\w+)/g,r=/\*/g;function i(t){return t.split("#")[0].replace(/\/+$/,"").replace(/^\/+/,"")}function a(t){return"string"==typeof t}function s(t){var e=i(t).split(/\?(.*)?$/);return[i(e[0]),e.slice(1).join("")]}function u(t){for(var e={},o=t.split("&"),n=0;n<o.length;n++){var r=o[n].split("=");if(""!==r[0]){var i=decodeURIComponent(r[0]);e[i]?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(decodeURIComponent(r[1]||""))):e[i]=decodeURIComponent(r[1]||"")}}return e}function h(t,e){var o,h=s(i(t)),f=h[0],c=h[1],l=""===c?null:u(c),p=[];if(a(e.path)){if(o="(?:/^|^)"+i(e.path).replace(n,(function(t,e,o){return p.push(o),"([^/]+)"})).replace(r,"(?:.*)")+"$",""===i(e.path)&&""===i(f))return{url:f,queryString:c,route:e,data:null,params:l}}else o=e.path;var d=new RegExp(o,""),v=f.match(d);return!!v&&{url:f,queryString:c,route:e,data:a(e.path)?function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce((function(t,o,n){return null===t&&(t={}),t[e[n]]=decodeURIComponent(o),t}),null):null}(v,p):v.slice(1),params:l}}function f(t){var e,o,n="/",r=null,f=[],c=!1,l=!("undefined"==typeof window||!window.history||!window.history.pushState),p="undefined"!=typeof window;function d(t,e,o,r){return t=a(t)?i(n+"/"+i(t)):t,{name:r||String(t),path:t,handler:e,hooks:o}}function v(t,e){var o=function(){r&&r.route.hooks&&r.route.hooks.leave&&r.route.hooks.leave(r),r=e,t.handler(e),m(),t.hooks&&t.hooks.after&&t.hooks.after(e)};t.hooks&&t.hooks.before?t.hooks.before((function(t){void 0!==t&&!0!==t||o()}),e):o()}function y(t){void 0===t&&(t=p?location.pathname+location.search+location.hash:n);for(var o=0;o<f.length;o++){var a=f[o],c=h(t,a);if(c)return r&&r.route===a&&r.url===c.url&&r.queryString===c.queryString?(r.route.hooks&&r.route.hooks.already&&r.route.hooks.already(c),!1):(v(a,c),c)}if(e){var l=s(t),d=l[0],y=l[1];return e.path=i(d),v(e,{url:e.path,queryString:y,data:null,route:e,params:""!==y?u(y):null}),!0}return console.warn('Navigo: "'+t+"\" didn't match any of the registered routes."),!1}function g(t,e){void 0===e&&(e={}),t=i(n)+"/"+i(t),l?history[e.historyAPIMethod||"pushState"](e.stateObj||{},e.title||"",("/"+t).replace(/\/\//g,"/")):p&&(window.location.href=t),void 0!==e.shouldResolve&&!0!==e.shouldResolve||y()}function m(){if(p)return(p?[].slice.call(document.querySelectorAll("[data-navigo]")):[]).forEach((function(t){t.hasListenerAttached||(t.addEventListener("click",(function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var o=t.getAttribute("href");c||(e.preventDefault(),g(i(o)))})),t.hasListenerAttached=!0)})),this}t?n=i(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=n,this.routes=f,this.destroyed=c,this.on=function(t,e,r){var i=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(r=e,e=t,t=n),f.push(d(t,e,r||o)),this):(Object.keys(t).forEach((function(e){if("function"==typeof t[e])i.on(e,t[e]);else{var n=t[e],r=n.uses,a=n.as,s=n.hooks;f.push(d(e,r,s||o,a))}})),this)},this.off=function(t){return this.routes=f=f.filter((function(e){return a(t)?i(e.path)!==i(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)})),this},this.resolve=y,this.navigate=g,this.destroy=function(){this.routes=f=[],l&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=c=!0},this.notFound=function(t,n){return e=d("/",t,n||o,"__NOT_FOUND__"),this},this.updatePageLinks=m,this.link=function(t){return"/"+n+"/"+i(t)},this.hooks=function(t){return o=t,this},this.extractGETParameters=s,this.lastResolved=function(){return r},this.generate=function(t,e){var o=f.reduce((function(o,n){var r;if(n.name===t)for(r in o=n.path,e)o=o.replace(":"+r,e[r]);return o}),"");return o.match(/^\//)?o:"/"+o},this.getLinkPath=function(t){return t.getAttribute("href")},this._matchRoute=h,this._clean=i,function(){l&&(this.__popstateListener=function(){y()},window.addEventListener("popstate",this.__popstateListener))}.call(this),m.call(this)}}},e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}return o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o(330)})().default}));
//# sourceMappingURL=Navigo.min.js.map