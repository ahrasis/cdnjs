!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Navigo",[],e):"object"==typeof exports?exports.Navigo=e():t.Navigo=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={578:(t,e,n)=>{n.d(e,{default:()=>d});var o=/([:*])(\w+)/g,r=/\*/g;function a(t){return t.split("#")[0].replace(/\/+$/,"").replace(/^\/+/,"")}function i(t){return"string"==typeof t}function u(t){var e=a(t).split(/\?(.*)?$/);return[a(e[0]),e.slice(1).join("")]}function c(t){for(var e={},n=t.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if(""!==r[0]){var a=decodeURIComponent(r[0]);e[a]?(Array.isArray(e[a])||(e[a]=[e[a]]),e[a].push(decodeURIComponent(r[1]||""))):e[a]=decodeURIComponent(r[1]||"")}}return e}function s(t,e){var n,s=u(a(t)),h=s[0],f=s[1],l=""===f?null:c(f),p=[];if(i(e.path)){if(n="(?:/^|^)"+a(e.path).replace(o,(function(t,e,n){return p.push(n),"([^/]+)"})).replace(r,"(?:.*)")+"$",""===a(e.path)&&""===a(h))return{url:h,queryString:f,route:e,data:null,params:l}}else n=e.path;var d=new RegExp(n,""),v=h.match(d);return!!v&&{url:h,queryString:f,route:e,data:i(e.path)?function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce((function(t,n,o){return null===t&&(t={}),t[e[o]]=decodeURIComponent(n),t}),null):null}(v,p):v.slice(1),params:l}}function h(t,e){return void 0===t[e]||!0===t[e]}function f(t,e){var n=e||{},o=0;!function e(){t[o]&&(Array.isArray(t[o])?(t.splice.apply(t,[o,1].concat(t[o][0](n)?t[o][1]:t[o][2])),e()):t[o](n,(function(t){void 0!==t&&!0!==t||(o+=1,e())})))}()}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}f.if=function(t,e,n){return Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),[t,e,n]};var p={strategy:"ONE"};function d(t){var e,n,o="/",r=null,d=[],v=!1,m=this,g=!("undefined"==typeof window||!window.history||!window.history.pushState),y="undefined"!=typeof window,O=[function(t,e){if(r&&r[0]&&r[0].route===t.match.route&&r[0].url===t.match.url&&r[0].queryString===t.match.queryString)return r.forEach((function(e){e.route.hooks&&e.route.hooks.already&&e.route.hooks.already(t.match)})),void e(!1);e()},L,function(t,e){t.match.route.hooks&&t.match.route.hooks.before?t.match.route.hooks.before((function(t){void 0!==t&&!0!==t||e()}),t.match):e()},function(t,e){h(t.navigateOptions,"updateState")&&(r=m.current=t.matches),h(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),E(),e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.after&&t.match.route.hooks.after(t.match),e()}],w=[function(t,n){if(e){t.notFoundHandled=!0;var o=u(t.currentLocationPath),r=o[0],i=o[1];e.path=a(r);var s={url:e.path,queryString:i,data:null,route:e,params:""!==i?c(i):null};t.matches=[s],t.match=s}n()},f.if((function(t){return t.notFoundHandled}),O,[function(t,e){console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),e()},L]),function(t,e){r=m.current=null,e()}];function L(t,e){!(r&&r[0]&&r[0].route)||t.match&&r[0].route.path===t.match.route.path?e():f([].concat(r.map((function(t){return function(e,n){t.route.hooks&&t.route.hooks.leave?t.route.hooks.leave((function(t){void 0!==t&&!0!==t||n()}),t):n()}})),[function(){return e()}]))}function k(t,e){void 0===t.currentLocationPath&&(t.currentLocationPath=y?location.pathname+location.search+location.hash:o),e()}function P(t,e){for(var n=0;n<d.length;n++){var o=d[n],r=s(t.currentLocationPath,o);if(r&&(t.matches||(t.matches=[]),t.matches.push(r),"ONE"===t.resolveOptions.strategy))return void e()}e()}function b(t,e){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function A(t,e){!0===t.navigateOptions.force?(m.current=r=[x(t.to)],e(!1)):e()}function S(t,e){h(t.navigateOptions,"updateBrowserURL")&&(g?history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",("/"+t.to).replace(/\/\//g,"/")):y&&(window.location.href=t.to)),e()}function R(t,e){var n=0;!function o(){n!==t.matches.length?f([].concat(O,[function(){n+=1,o()}]),l({},t,{match:t.matches[n]})):e()}()}function _(t,e,n,r){return t=i(t)?a(o+"/"+a(t)):t,{name:r||String(t),path:t,handler:e,hooks:n}}function j(t,e){var n={currentLocationPath:t,navigateOptions:{},resolveOptions:e||p};return f([k,P,f.if((function(t){var e=t.matches;return e&&e.length>0}),R,w)],n),!!n.matches&&n.matches}function E(){if(y)return(y?[].slice.call(document.querySelectorAll("[data-navigo]")):[]).forEach((function(t){t.hasListenerAttached||(t.addEventListener("click",(function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var n=t.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var o=new URL(n);n=o.pathname+o.search}catch(t){}var r=function(t){if(!t)return{};var e=t.split(","),n={};return e.forEach((function(t){var e=t.split(":").map((function(t){return t.replace(/(^ +| +$)/g,"")}));switch(e[0]){case"historyAPIMethod":n.historyAPIMethod=e[1];break;case"resolveOptionsStrategy":n.resolveOptions={strategy:e[1]};break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":n[e[0]]="true"===e[1]}})),n}(t.getAttribute("data-navigo-options"));v||(e.preventDefault(),m.navigate(a(n),r))})),t.hasListenerAttached=!0)})),m}function x(t){var e=u(a(t)),o=e[0],r=e[1],i=""===r?null:c(r);return{url:o,queryString:r,route:_(o,(function(){}),n,o),data:null,params:i}}t?o=a(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=o,this.routes=d,this.destroyed=v,this.current=r,this.on=function(t,e,r){var a=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(r=e,e=t,t=o),d.push(_(t,e,r||n)),this):(Object.keys(t).forEach((function(e){if("function"==typeof t[e])a.on(e,t[e]);else{var o=t[e],r=o.uses,i=o.as,u=o.hooks;d.push(_(e,r,u||n,i))}})),this)},this.off=function(t){return this.routes=d=d.filter((function(e){return i(t)?a(e.path)!==a(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)})),this},this.resolve=j,this.navigate=function(t,e){var n={to:t=a(o)+"/"+a(t),navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:p,currentLocationPath:t};f([b,A,P,f.if((function(t){var e=t.matches;return e&&e.length>0}),R,w),S],n)},this.destroy=function(){this.routes=d=[],g&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=v=!0},this.notFound=function(t,o){return e=_("/",t,o||n,"__NOT_FOUND__"),this},this.updatePageLinks=E,this.link=function(t){return"/"+o+"/"+a(t)},this.hooks=function(t){return n=t,this},this.extractGETParameters=u,this.lastResolved=function(){return r},this.generate=function(t,e){var n=d.reduce((function(n,o){var r;if(o.name===t)for(r in n=o.path,e)n=n.replace(":"+r,e[r]);return n}),"");return n.match(/^\//)?n:"/"+n},this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var e={currentLocationPath:t,navigateOptions:{},resolveOptions:p};return P(e,(function(){})),!!e.matches&&e.matches},this.matchLocation=function(t,e){var n={currentLocationPath:e};return k(n,(function(){})),s(n.currentLocationPath,_(a(t),(function(){}),{}))||!1},this._pathToMatchObject=x,this._clean=a,function(){g&&(this.__popstateListener=function(){j()},window.addEventListener("popstate",this.__popstateListener))}.call(this),E.call(this)}}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}return n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(578)})().default}));
//# sourceMappingURL=Navigo.min.js.map