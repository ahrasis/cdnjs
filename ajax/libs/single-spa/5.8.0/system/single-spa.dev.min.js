System.register([],function(Wt){"use strict";return{execute:function(){Wt({addErrorHandler:t,checkActivityFunctions:Pt,ensureJQuerySupport:ft,getAppNames:bt,getAppStatus:Et,getMountedApps:yt,mountRootParcel:G,navigateToUrl:it,pathToActiveWhen:_t,registerApplication:Tt,removeErrorHandler:e,setBootstrapMaxTime:J,setMountMaxTime:Q,setUnloadMaxTime:V,setUnmountMaxTime:q,start:Ct,triggerAppChange:Mt,unloadApplication:At,unregisterApplication:Ot});var o=Object.freeze({__proto__:null,get start(){return Ct},get ensureJQuerySupport(){return ft},get setBootstrapMaxTime(){return J},get setMountMaxTime(){return Q},get setUnmountMaxTime(){return q},get setUnloadMaxTime(){return V},get registerApplication(){return Tt},get unregisterApplication(){return Ot},get getMountedApps(){return yt},get getAppStatus(){return Et},get unloadApplication(){return At},get checkActivityFunctions(){return Pt},get getAppNames(){return bt},get pathToActiveWhen(){return _t},get navigateToUrl(){return it},get triggerAppChange(){return Mt},get addErrorHandler(){return t},get removeErrorHandler(){return e},get mountRootParcel(){return G},get NOT_LOADED(){return P},get LOADING_SOURCE_CODE(){return O},get NOT_BOOTSTRAPPED(){return A},get BOOTSTRAPPING(){return r},get NOT_MOUNTED(){return N},get MOUNTING(){return a},get UPDATING(){return g},get LOAD_ERROR(){return _},get MOUNTED(){return S},get UNMOUNTING(){return c},get SKIP_BECAUSE_BROKEN(){return U}});function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var T=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,n){var e=document.createEvent("CustomEvent");return n?e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):e.initCustomEvent(t,!1,!1,void 0),e}:function(t,n){var e=document.createEventObject();return e.type=t,n?(e.bubbles=Boolean(n.bubbles),e.cancelable=Boolean(n.cancelable),e.detail=n.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e},i=[];function u(t,n,e){var r=v(t,n,e);i.length?i.forEach(function(t){return t(r)}):setTimeout(function(){throw r})}function t(t){if("function"!=typeof t)throw Error(d(28,"a single-spa error handler must be a function"));i.push(t)}function e(e){if("function"!=typeof e)throw Error(d(29,"a single-spa error handler must be a function"));var r=!1;return i=i.filter(function(t){var n=t===e;return r=r||n,!n}),r}function d(t,n){for(var e=arguments.length,r=new Array(2<e?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(n?n+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")}function v(n,t,e){var r,o="".concat(p(t)," '").concat(D(t),"' died in status ").concat(t.status,": ");if(n instanceof Error){try{n.message=o+n.message}catch(t){}r=n}else{console.warn(d(30,"While ".concat(t.status,", '").concat(D(t),"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."),t.status,D(t)));try{r=Error(o+JSON.stringify(n))}catch(t){r=n}}return r.appOrParcelName=D(t),t.status=e,r}var P=Wt("NOT_LOADED","NOT_LOADED"),O=Wt("LOADING_SOURCE_CODE","LOADING_SOURCE_CODE"),A=Wt("NOT_BOOTSTRAPPED","NOT_BOOTSTRAPPED"),r=Wt("BOOTSTRAPPING","BOOTSTRAPPING"),N=Wt("NOT_MOUNTED","NOT_MOUNTED"),a=Wt("MOUNTING","MOUNTING"),S=Wt("MOUNTED","MOUNTED"),g=Wt("UPDATING","UPDATING"),c=Wt("UNMOUNTING","UNMOUNTING"),s="UNLOADING",_=Wt("LOAD_ERROR","LOAD_ERROR"),U=Wt("SKIP_BECAUSE_BROKEN","SKIP_BECAUSE_BROKEN");function l(t){return t.status===S}function j(n){try{return n.activeWhen(window.location)}catch(t){return u(t,n,U),!1}}function D(t){return t.name}function f(t){return Boolean(t.unmountThisParcel)}function p(t){return f(t)?"parcel":"application"}function M(t){for(var n=arguments.length-1;0<n;n--)for(var e in arguments[n])"__proto__"!==e&&(arguments[n-1][e]=arguments[n][e]);return t}function h(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return t[e];return null}function w(t){return t&&("function"==typeof t||(n=t,Array.isArray(n)&&!h(n,function(t){return"function"!=typeof t})));var n}function y(t,o){var n=t[o]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var i=p(t),a=D(t);return function(r){return n.reduce(function(t,n,e){return t.then(function(){var t=n(r);return b(t)?t:Promise.reject(d(15,"Within ".concat(i," ").concat(a,", the lifecycle function ").concat(o," at array index ").concat(e," did not return a promise"),i,a,o,e))})},Promise.resolve())}}function b(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function x(n,e){return Promise.resolve().then(function(){return n.status!==A?n:(n.status=r,n.bootstrap?z(n,"bootstrap").then(t).catch(function(t){if(e)throw v(t,n,U);return u(t,n,U),n}):Promise.resolve().then(t))});function t(){return n.status=N,n}}function R(r,o){return Promise.resolve().then(function(){if(r.status!==S)return r;r.status=c;var t=Object.keys(r.parcels).map(function(t){return r.parcels[t].unmountThisParcel()});return Promise.all(t).then(e,function(n){return e().then(function(){var t=Error(n.message);if(o)throw v(t,r,U);u(t,r,U)})}).then(function(){return r});function e(){return z(r,"unmount").then(function(){r.status=N}).catch(function(t){if(o)throw v(t,r,U);u(t,r,U)})}})}var L=!1,C=!1;function I(e,r){return Promise.resolve().then(function(){return e.status!==N?e:(L||(window.dispatchEvent(new T("single-spa:before-first-mount")),L=!0),z(e,"mount").then(function(){return e.status=S,C||(window.dispatchEvent(new T("single-spa:first-mount")),C=!0),e}).catch(function(t){return e.status=S,R(e,!0).then(n,n);function n(){if(r)throw v(t,e,U);return u(t,e,U),e}}))})}var W=0,B={parcels:{}};function G(){return k.apply(B,arguments)}function k(t,n){var e=this;if(!t||"object"!==m(t)&&"function"!=typeof t)throw Error(d(2,"Cannot mount parcel without a config object or config loading function"));if(t.name&&"string"!=typeof t.name)throw Error(d(3,"Parcel name must be a string, if provided. Was given ".concat(m(t.name)),m(t.name)));if("object"!==m(n))throw Error(d(4,"Parcel ".concat(name," has invalid customProps -- must be an object but was given ").concat(m(n)),name,m(n)));if(!n.domElement)throw Error(d(5,"Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"),name));var i=W++,r="function"==typeof t,o=r?t:function(){return Promise.resolve(t)},a={id:i,parcels:{},status:r?O:A,customProps:n,parentName:D(e),unmountThisParcel:function(){if(a.status!==S)throw Error(d(6,"Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(a.status," status"),name,a.status));return R(a,!0).then(function(t){return a.parentName&&delete e.parcels[a.id],t}).then(function(t){return c(t),t}).catch(function(t){throw a.status=U,s(t),t})}};e.parcels[i]=a;var u=o();if(!u||"function"!=typeof u.then)throw Error(d(7,"When mounting a parcel, the config loading function must return a promise that resolves with the parcel config"));var c,s,l,f=(u=u.then(function(t){if(!t)throw Error(d(8,"When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config"));var n=t.name||"parcel-".concat(i);if(Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!w(t.bootstrap))throw Error(d(9,"Parcel ".concat(n," provided an invalid bootstrap function"),n));if(!w(t.mount))throw Error(d(10,"Parcel ".concat(n," must have a valid mount function"),n));if(!w(t.unmount))throw Error(d(11,"Parcel ".concat(n," must have a valid unmount function"),n));if(t.update&&!w(t.update))throw Error(d(12,"Parcel ".concat(n," provided an invalid update function"),n));var e=y(t,"bootstrap"),r=y(t,"mount"),o=y(t,"unmount");a.status=A,a.name=n,a.bootstrap=e,a.mount=r,a.unmount=o,a.timeouts=X(t.timeouts),t.update&&(a.update=y(t,"update"),l.update=function(t){return a.customProps=t,$((n=a,Promise.resolve().then(function(){if(n.status!==S)throw Error(d(32,"Cannot update parcel '".concat(D(n),"' because it is not mounted"),D(n)));return n.status=g,z(n,"update").then(function(){return n.status=S,n}).catch(function(t){throw v(t,n,U)})})));var n})})).then(function(){return x(a,!0)}),p=f.then(function(){return I(a,!0)}),h=new Promise(function(t,n){c=t,s=n});return l={mount:function(){return $(Promise.resolve().then(function(){if(a.status!==N)throw Error(d(13,"Cannot mount parcel '".concat(name,"' -- it is in a ").concat(a.status," status"),name,a.status));return I(e.parcels[i]=a)}))},unmount:function(){return $(a.unmountThisParcel())},getStatus:function(){return a.status},loadPromise:$(u),bootstrapPromise:$(f),mountPromise:$(p),unmountPromise:$(h)}}function $(t){return t.then(function(){return null})}function F(t){var n=D(t),e="function"==typeof t.customProps?t.customProps(n,window.location):t.customProps;"object"===m(e)&&null!==e&&!Array.isArray(e)||(e={},console.warn(d(40,"single-spa: ".concat(n,"'s customProps function must return an object. Received ").concat(e)),n,e));var r=M({},e,{name:n,mountParcel:k.bind(t),singleSpa:o});return f(t)&&(r.unmountSelf=t.unmountThisParcel),r}var K=1e3,H={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:K},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:K},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:K},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:K},update:{millis:3e3,dieOnTimeout:!1,warningMillis:K}};function J(t,n,e){if("number"!=typeof t||t<=0)throw Error(d(16,"bootstrap max time must be a positive integer number of milliseconds"));H.bootstrap={millis:t,dieOnTimeout:n,warningMillis:e||K}}function Q(t,n,e){if("number"!=typeof t||t<=0)throw Error(d(17,"mount max time must be a positive integer number of milliseconds"));H.mount={millis:t,dieOnTimeout:n,warningMillis:e||K}}function q(t,n,e){if("number"!=typeof t||t<=0)throw Error(d(18,"unmount max time must be a positive integer number of milliseconds"));H.unmount={millis:t,dieOnTimeout:n,warningMillis:e||K}}function V(t,n,e){if("number"!=typeof t||t<=0)throw Error(d(19,"unload max time must be a positive integer number of milliseconds"));H.unload={millis:t,dieOnTimeout:n,warningMillis:e||K}}function z(t,e){var c=t.timeouts[e],s=c.warningMillis,l=p(t);return new Promise(function(n,r){var o=!1,i=!1;t[e](F(t)).then(function(t){o=!0,n(t)}).catch(function(t){o=!0,r(t)}),setTimeout(function(){return u(1)},s),setTimeout(function(){return u(!0)},c.millis);var a=d(31,"Lifecycle function ".concat(e," for ").concat(l," ").concat(D(t)," lifecycle did not resolve or reject for ").concat(c.millis," ms."),e,l,D(t),c.millis);function u(t){var n,e;o||(!0===t?(i=!0,c.dieOnTimeout?r(Error(a)):console.error(a)):i||(e=(n=t)*s,console.warn(a),e+s<c.millis&&setTimeout(function(){return u(n+1)},s)))}})}function X(t){var n={};for(var e in H)n[e]=M({},H[e],t&&t[e]||{});return n}function Y(a){return Promise.resolve().then(function(){return a.loadPromise?a.loadPromise:a.status!==P&&a.status!==_?a:(a.status=O,a.loadPromise=Promise.resolve().then(function(){var t=a.loadApp(F(a));if(!b(t))throw e=!0,Error(d(33,"single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(D(a),"', loadingFunction, activityFunction)"),D(a)));return t.then(function(t){var n,e;a.loadErrorTime=null,"object"!==m(i=t)&&(e=34,n="does not export anything"),Object.prototype.hasOwnProperty.call(i,"bootstrap")&&!w(i.bootstrap)&&(e=35,n="does not export a valid bootstrap function or array of functions"),w(i.mount)||(e=36,n="does not export a bootstrap function or array of functions"),w(i.unmount)||(e=37,n="does not export a bootstrap function or array of functions");var r,o=p(i);if(e){try{r=JSON.stringify(i)}catch(t){}return console.error(d(e,"The loading function for single-spa ".concat(o," '").concat(D(a),"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),o,D(a),r),i),u(n,a,U),a}return i.devtools&&i.devtools.overlays&&(a.devtools.overlays=M({},a.devtools.overlays,i.devtools.overlays)),a.status=A,a.bootstrap=y(i,"bootstrap"),a.mount=y(i,"mount"),a.unmount=y(i,"unmount"),a.unload=y(i,"unload"),a.timeouts=X(i.timeouts),delete a.loadPromise,a})}).catch(function(t){var n;return delete a.loadPromise,e?n=U:(n=_,a.loadErrorTime=(new Date).getTime()),u(t,a,n),a}));var i,e})}var Z,tt,nt,et="undefined"!=typeof window,rt={hashchange:[],popstate:[]},ot=["hashchange","popstate"];function it(t){var n;if("string"==typeof t)n=t;else if(this&&this.href)n=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(d(14,"singleSpaNavigate/navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag"));n=t.currentTarget.href,t.preventDefault()}var e=st(window.location.href),r=st(n);0===n.indexOf("#")?window.location.hash=r.hash:e.host!==r.host&&r.host?window.location.href=n:r.pathname===e.pathname&&r.search===e.search?window.location.hash=r.hash:window.history.pushState(null,null,n)}function at(n){var t,e=this;n&&(t=n[0].type,0<=ot.indexOf(t)&&rt[t].forEach(function(t){try{t.apply(e,n)}catch(t){setTimeout(function(){throw t})}}))}function ut(){xt([],arguments)}function ct(r,o){return function(){var t=window.location.href,n=r.apply(this,arguments),e=window.location.href;return Z&&t===e||ut(function(n,t){var e;try{e=new PopStateEvent("popstate",{state:n})}catch(t){(e=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,n)}return e.singleSpa=!0,e.singleSpaTrigger=t,e}(window.history.state,o)),n}}function st(t){var n=document.createElement("a");return n.href=t,n}et&&(window.addEventListener("hashchange",ut),window.addEventListener("popstate",ut),tt=window.addEventListener,nt=window.removeEventListener,window.addEventListener=function(t,n){if(!("function"==typeof n&&0<=ot.indexOf(t))||h(rt[t],function(t){return t===n}))return tt.apply(this,arguments);rt[t].push(n)},window.removeEventListener=function(t,n){if(!("function"==typeof n&&0<=ot.indexOf(t)))return nt.apply(this,arguments);rt[t]=rt[t].filter(function(t){return t!==n})},window.history.pushState=ct(window.history.pushState,"pushState"),window.history.replaceState=ct(window.history.replaceState,"replaceState"),window.singleSpaNavigate?console.warn(d(41,"single-spa has been loaded twice on the page. This can result in unexpected behavior.")):window.singleSpaNavigate=it);var lt=!1;function ft(){var e,r,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.jQuery;t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!lt&&(e=t.fn.on,r=t.fn.off,t.fn.on=function(t,n){return pt.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,n){return pt.call(this,r,window.removeEventListener,t,n,arguments)},lt=!0)}function pt(t,n,e,r,o){return"string"!=typeof e?t.apply(this,o):(e.split(/\s+/).forEach(function(t){0<=ot.indexOf(t)&&(n(t,r),e=e.replace(t,""))}),""===e.trim()?this:t.apply(this,o))}var ht={};function mt(i){return Promise.resolve().then(function(){var o=ht[D(i)];return o?i.status===P?(dt(i,o),i):i.status===s?o.promise.then(function(){return i}):i.status!==N?i:(i.status=s,z(i,"unload").then(function(){return dt(i,o),i}).catch(function(t){var n,e,r;return e=o,r=t,delete ht[D(n=i)],delete n.bootstrap,delete n.mount,delete n.unmount,delete n.unload,u(r,n,U),e.reject(r),i})):i})}function dt(t,n){delete ht[D(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=P,n.resolve()}function vt(t,n,e,r){ht[D(t)]={app:t,resolve:e,reject:r},Object.defineProperty(ht[D(t)],"promise",{get:n})}function gt(t){return ht[t]}var wt=[];function yt(){return wt.filter(l).map(D)}function bt(){return wt.map(D)}function Et(n){var t=h(wt,function(t){return D(t)===n});return t?t.status:null}function Tt(t,n,e,r){var o=function(t,n,e,r){var o="object"===m(t),i={name:null,loadApp:null,activeWhen:null,customProps:null};o?(function(t){if(Array.isArray(t)||null===t)throw Error(d(39,"Configuration object can't be an Array or null!"));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce(function(t,n){return 0<=e.indexOf(n)?t:t.concat(n)},[]);if(0!==n.length)throw Error(d(38,"The configuration object accepts only: ".concat(e.join(", "),". Invalid keys: ").concat(n.join(", "),"."),e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(d(20,"The config.name on registerApplication must be a non-empty string"));if("object"!==m(t.app)&&"function"!=typeof t.app)throw Error(d(20,"The config.app on registerApplication must be an application or a loading function"));function r(t){return"string"==typeof t||"function"==typeof t}if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(d(24,"The config.activeWhen on registerApplication must be a string, function or an array with both"));if(!St(t.customProps))throw Error(d(22,"The optional config.customProps must be an object"))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,n,e,r){if("string"!=typeof t||0===t.length)throw Error(d(20,"The 1st argument to registerApplication must be a non-empty string 'appName'"));if(!n)throw Error(d(23,"The 2nd argument to registerApplication must be an application or loading application function"));if("function"!=typeof e)throw Error(d(24,"The 3rd argument to registerApplication must be an activeWhen function"));if(!St(r))throw Error(d(22,"The optional 4th argument is a customProps and must be an object"))}(t,n,e,r),i.name=t,i.loadApp=n,i.activeWhen=e,i.customProps=r);return i.loadApp=function(t){return"function"==typeof t?t:function(){return Promise.resolve(t)}}(i.loadApp),i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map(function(t){return"function"==typeof t?t:_t(t)}),function(n){return e.some(function(t){return t(n)})}}(i.activeWhen),i}(t,n,e,r);if(-1!==bt().indexOf(o.name))throw Error(d(21,"There is already an app registered with name ".concat(o.name),o.name));wt.push(M({loadErrorTime:null,status:P,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),et&&(ft(),xt())}function Pt(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location;return wt.filter(function(t){return t.activeWhen(n)}).map(D)}function Ot(n){if(0===wt.filter(function(t){return D(t)===n}).length)throw Error(d(25,"Cannot unregister application '".concat(n,"' because no such application has been registered"),n));return At(n).then(function(){var t=wt.map(D).indexOf(n);wt.splice(t,1)})}function At(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof n)throw Error(d(26,"unloadApplication requires a string 'appName'"));var e=h(wt,function(t){return D(t)===n});if(!e)throw Error(d(27,"Could not unload application '".concat(n,"' because no such application has been registered"),n));var r,o=gt(D(e));if(t&&t.waitForUnmount){if(o)return o.promise;var i=new Promise(function(t,n){vt(e,function(){return i},t,n)});return i}return o?(r=o.promise,Nt(e,o.resolve,o.reject)):r=new Promise(function(t,n){vt(e,function(){return r},t,n),Nt(e,t,n)}),r}function Nt(t,n,e){R(t).then(mt).then(function(){n(),setTimeout(function(){xt()})}).catch(e)}function St(t){return!t||"function"==typeof t||"object"===m(t)&&null!==t&&!Array.isArray(t)}function _t(t){var e=function(e){var r=0,o=!1,i="^";"/"!==e[0]&&(e="/"+e);for(var t=0;t<e.length;t++){var n=e[t],a=o&&"/"===n;(!o&&":"===n||a)&&u(t)}return u(e.length),new RegExp(i,"i");function u(t){var n=e.slice(r,t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");i+=o?"[^/]+/?":n,t!==e.length||o||(i="/"===i.charAt(i.length-1)?"".concat(i,".*$"):"".concat(i,"([/#].*)?$")),o=!o,r=t}}(t);return function(t){var n=t.href.replace(t.origin,"").replace(t.search,"").split("?")[0];return e.test(n)}}var Ut=!1,jt=[],Dt=et&&window.location.href;function Mt(){return xt()}function xt(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],s=1<arguments.length?arguments[1]:void 0;if(Ut)return new Promise(function(t,n){jt.push({resolve:t,reject:n,eventArguments:s})});var e,r,o,a,u,l,t=(e=[],r=[],o=[],a=[],u=(new Date).getTime(),wt.forEach(function(t){var n=t.status!==U&&j(t);switch(t.status){case _:n&&200<=u-t.loadErrorTime&&o.push(t);break;case P:case O:n&&o.push(t);break;case A:case N:!n&&gt(D(t))?e.push(t):n&&a.push(t);break;case S:n||r.push(t)}}),{appsToUnload:e,appsToUnmount:r,appsToLoad:o,appsToMount:a}),f=t.appsToUnload,p=t.appsToUnmount,h=t.appsToLoad,m=t.appsToMount,d=!1,v=Dt,g=Dt=window.location.href;return Lt?(Ut=!0,l=f.concat(h,p,m),Promise.resolve().then(function(){if(window.dispatchEvent(new T(0===l.length?"single-spa:before-no-app-change":"single-spa:before-app-change",b(!0))),window.dispatchEvent(new T("single-spa:before-routing-event",b(!0,{cancelNavigation:c}))),d)return window.dispatchEvent(new T("single-spa:before-mount-routing-event",b(!0))),w(),void it(v);var t=f.map(mt),n=p.map(R).map(function(t){return t.then(mt)}).concat(t),e=Promise.all(n);e.then(function(){window.dispatchEvent(new T("single-spa:before-mount-routing-event",b(!0)))});var r=h.map(function(t){return Y(t).then(function(t){return Rt(t,e)})}),o=m.filter(function(t){return h.indexOf(t)<0}).map(function(t){return Rt(t,e)});return e.catch(function(t){throw y(),t}).then(function(){return y(),Promise.all(r.concat(o)).catch(function(n){throw i.forEach(function(t){return t.reject(n)}),n}).then(w)})})):(l=h,Promise.resolve().then(function(){var t=h.map(Y);return Promise.all(t).then(y).then(function(){return[]}).catch(function(t){throw y(),t})}));function c(){d=!0}function w(){var t,n=yt();i.forEach(function(t){return t.resolve(n)});try{var e=0===l.length?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new T(e,b())),window.dispatchEvent(new T("single-spa:routing-event",b()))}catch(t){setTimeout(function(){throw t})}return Ut=!1,0<jt.length&&(t=jt,jt=[],xt(t)),n}function y(){i.forEach(function(t){at(t.eventArguments)}),at(s)}function b(t,n){var e,r=0<arguments.length&&void 0!==t&&t,o=1<arguments.length?n:void 0,i={},a=(E(e={},S,[]),E(e,N,[]),E(e,P,[]),E(e,U,[]),e);r?(h.concat(m).forEach(function(t,n){c(t,S)}),f.forEach(function(t){c(t,P)}),p.forEach(function(t){c(t,N)})):l.forEach(function(t){c(t)});var u={detail:{newAppStatuses:i,appsByNewStatus:a,totalAppChanges:l.length,originalEvent:null==s?void 0:s[0],oldUrl:v,newUrl:g,navigationIsCanceled:d}};return o&&M(u.detail,o),u;function c(t,n){var e=D(t);n=n||Et(e),i[e]=n,(a[n]=a[n]||[]).push(e)}}}function Rt(t,n){return j(t)?x(t).then(function(t){return n.then(function(){return j(t)?I(t):t})}):n.then(function(){return t})}var Lt=!1;function Ct(t){var n;Lt=!0,t&&t.urlRerouteOnly&&(n=t.urlRerouteOnly,Z=n),et&&xt()}et&&setTimeout(function(){Lt||console.warn(d(1,"singleSpa.start() has not been called, 5000ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted."))},5e3);var It={getRawAppData:function(){return[].concat(wt)},reroute:xt,NOT_LOADED:P,toLoadPromise:Y,toBootstrapPromise:x,unregisterApplication:Ot};et&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=It)}}});