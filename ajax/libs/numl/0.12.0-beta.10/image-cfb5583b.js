import{W as t,s as e,h as i,y as r}from"./index-f1a98d77.js";export default class extends t{init(){this.props.src=t=>{this.load(t)},this.props.loading=t=>{this.ref&&this.ref!==this.host&&e(this.ref,"loading",t)},super.init()}connected(){[...this.host.querySelectorAll("img:not([src])")].forEach(t=>{t.parentNode.removeChild(t)})}load(t){const{host:s}=this;if(!t||!t.trim())return;let o=s.querySelector("img")||i("img");return e(o,"loading",s.getAttribute("loading")),o.src=t,o.alt="",this.ref=o,s.appendChild(o),o.onerror=()=>{this.removeChild(o);const e=i("nu-icon");e.setAttribute("name","image"),s.appendChild(e),r("image not loaded",t)},t}}
