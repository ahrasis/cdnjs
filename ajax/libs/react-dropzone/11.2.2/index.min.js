!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).reactDropzone={},e.React,e.PropTypes)}(this,function(e,oe,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(oe),r=n(t);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){ie(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ue(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,a,u,c){return new(u=u||Promise)(function(n,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,o)}i((c=c.apply(e,a||[])).next())})}function f(n,r){var o,i,a,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var c=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function i(e,t){var n,r,o,i,a,u=((a=(r=e).name)&&-1!==a.lastIndexOf(".")&&!r.type&&(o=a.split(".").pop().toLowerCase(),(i=c.get(o))&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})),r);return"string"!=typeof u.path&&(n=e.webkitRelativePath,Object.defineProperty(u,"path",{value:"string"==typeof t?t:"string"==typeof n&&0<n.length?n:e.name,writable:!1,configurable:!1,enumerable:!0})),u}var u=[".DS_Store","Thumbs.db"];function s(e){return e.filter(function(e){return-1===u.indexOf(e.name)})}function p(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function d(e){if("function"!=typeof e.webkitGetAsEntry)return g(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?y(t):g(e)}function g(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=i(t);return Promise.resolve(n)}function v(t){return l(this,void 0,void 0,function(){return f(this,function(e){return[2,(t.isDirectory?y:function(r){return l(this,void 0,void 0,function(){return f(this,function(e){return[2,new Promise(function(n,t){r.file(function(e){var t=i(e,r.fullPath);n(t)},function(e){t(e)})})]})})})(t)]})})}function y(e){var t=e.createReader();return new Promise(function(a,u){var c=[];!function i(){var e=this;t.readEntries(function(o){return l(e,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:if(o.length)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.all(c)];case 2:return t=e.sent(),a(t),[3,4];case 3:return n=e.sent(),u(n),[3,4];case 4:return[3,6];case 5:r=Promise.all(o.map(v)),c.push(r),i(),e.label=6;case 6:return[2]}})})},function(e){u(e)})}()})}var m,b,h,D=(b=((h=(m={exports:{}}).exports).__esModule=!0,h.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t})}return!0},m.exports))&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,w=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},O=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},F=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},se={code:"too-many-files",message:"Too many files"};function pe(e,t){var n="application/x-moz-file"===e.type||D(e,t);return[n,n?null:w(t)]}function de(e,t,n){if(j(e.size))if(j(t)&&j(n)){if(e.size>n)return[!1,O(n)];if(e.size<t)return[!1,F(t)]}else{if(j(t)&&e.size<t)return[!1,F(t)];if(j(n)&&e.size>n)return[!1,O(n)]}return[!0,null]}function j(e){return null!=e}function ge(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function ve(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):e.target&&e.target.files}function ye(e){e.preventDefault()}function me(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return o.some(function(e){return!ge(t)&&e&&e.apply(void 0,[t].concat(n)),ge(t)})}}var A=oe.forwardRef(function(e,t){var n=e.children,r=x(ue(e,["children"])),o=r.open,i=ue(r,["open"]);return oe.useImperativeHandle(t,function(){return{open:o}},[o]),a.default.createElement(oe.Fragment,null,n(ae(ae({},i),{},{open:o})))}),be={disabled:!(A.displayName="Dropzone"),getFilesFromEvent:function(t){return l(this,void 0,void 0,function(){return f(this,function(e){return[2,t.dataTransfer&&t.dataTransfer?function(n,r){return l(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return n.items?(t=p(n.items).filter(function(e){return"file"===e.kind}),"drop"!==r?[2,t]:[4,Promise.all(t.map(d))]):[3,2];case 1:return[2,s(function n(e){return e.reduce(function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(arguments[t]));return e}(e,Array.isArray(t)?n(t):[t])},[])}(e.sent()))];case 2:return[2,s(p(n.files).map(function(e){return i(e)}))]}})})}(t.dataTransfer,t.type):(null!==t.target&&t.target.files?p(t.target.files):[]).map(function(e){return i(e)})]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};A.defaultProps=be;var he={isFocused:!(A.propTypes={children:r.default.func,accept:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),multiple:r.default.bool,preventDropOnDocument:r.default.bool,noClick:r.default.bool,noKeyboard:r.default.bool,noDrag:r.default.bool,noDragEventsBubbling:r.default.bool,minSize:r.default.number,maxSize:r.default.number,maxFiles:r.default.number,disabled:r.default.bool,getFilesFromEvent:r.default.func,onFileDialogCancel:r.default.func,onDragEnter:r.default.func,onDragLeave:r.default.func,onDragOver:r.default.func,onDrop:r.default.func,onDropAccepted:r.default.func,onDropRejected:r.default.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function x(){function e(){E&&setTimeout(function(){F.current&&(F.current.files.length||(x({type:"closeDialog"}),"function"==typeof l&&l()))},300)}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=ae(ae({},be),t),f=n.accept,p=n.disabled,r=n.getFilesFromEvent,s=n.maxSize,d=n.minSize,a=n.multiple,o=n.maxFiles,i=n.onDragEnter,u=n.onDragLeave,c=n.onDragOver,g=n.onDrop,v=n.onDropAccepted,y=n.onDropRejected,l=n.onFileDialogCancel,m=n.preventDropOnDocument,b=n.noClick,h=n.noKeyboard,D=n.noDrag,w=n.noDragEventsBubbling,O=oe.useRef(null),F=oe.useRef(null),j=ce(oe.useReducer(De,he),2),A=j[0],x=j[1],k=A.isFocused,E=A.isFileDialogActive,P=A.draggedFiles,S=oe.useCallback(function(){F.current&&(x({type:"openDialog"}),F.current.value=null,F.current.click())},[x]);function C(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),I.current=[])}oe.useEffect(function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}},[F,E,l]);var z=oe.useCallback(function(e){O.current&&O.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),S()))},[O,F]),R=oe.useCallback(function(){x({type:"focus"})},[]),T=oe.useCallback(function(){x({type:"blur"})},[]),L=oe.useCallback(function(){b||(function(e){var t,n=window.navigator.userAgent;return-1!==(t=n).indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==n.indexOf("Edge/")}()?setTimeout(S,0):S())},[F,b]),I=oe.useRef([]);function K(e){return p?null:e}function B(e){return h?null:K(e)}function M(e){return D?null:K(e)}oe.useEffect(function(){return m&&(document.addEventListener("dragover",ye,!1),document.addEventListener("drop",C,!1)),function(){m&&(document.removeEventListener("dragover",ye),document.removeEventListener("drop",C))}},[O,m]);var _,q,G,$,N,W,H,U=oe.useCallback(function(t){var e;t.preventDefault(),t.persist(),X(t),I.current=[].concat(function(e){if(Array.isArray(e))return fe(e)}(e=I.current)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.target]),ve(t)&&Promise.resolve(r(t)).then(function(e){ge(t)&&!w||(x({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),i&&i(t))})},[r,i,w]),J=oe.useCallback(function(e){if(e.preventDefault(),e.persist(),X(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return ve(e)&&c&&c(e),!1},[c,w]),Q=oe.useCallback(function(e){e.preventDefault(),e.persist(),X(e);var t=I.current.filter(function(e){return O.current&&O.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),0<(I.current=t).length||(x({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),ve(e)&&u&&u(e))},[O,u,w]),V=oe.useCallback(function(t){t.preventDefault(),t.persist(),X(t),I.current=[],ve(t)&&Promise.resolve(r(t)).then(function(e){var c,l;ge(t)&&!w||(c=[],l=[],e.forEach(function(e){var t,n=ce(pe(e,f),2),r=n[0],o=n[1],i=ce(de(e,d,s),2),a=i[0],u=i[1];r&&a?c.push(e):(t=[o,u].filter(function(e){return e}),l.push({file:e,errors:t}))}),(!a&&1<c.length||a&&1<=o&&c.length>o)&&(c.forEach(function(e){l.push({file:e,errors:[se]})}),c.splice(0)),x({acceptedFiles:c,fileRejections:l,type:"setFiles"}),g&&g(c,l,t),0<l.length&&y&&y(l,t),0<c.length&&v&&v(c,t))}),x({type:"reset"})},[a,f,d,s,r,g,v,y,w]),X=function(e){w&&e.stopPropagation()},Y=oe.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,o=e.onFocus,i=e.onBlur,a=e.onClick,u=e.onDragEnter,c=e.onDragOver,l=e.onDragLeave,f=e.onDrop,s=ue(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return ae(ae(ie({onKeyDown:B(me(r,z)),onFocus:B(me(o,R)),onBlur:B(me(i,T)),onClick:K(me(a,L)),onDragEnter:M(me(u,U)),onDragOver:M(me(c,J)),onDragLeave:M(me(l,Q)),onDrop:M(me(f,V))},n,O),p||h?{}:{tabIndex:0}),s)}},[O,z,R,T,L,U,J,Q,V,h,D,p]),Z=oe.useCallback(function(e){e.stopPropagation()},[]),ee=oe.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,o=e.onClick,i=ue(e,["refKey","onChange","onClick"]);return ae(ae({},ie({accept:f,multiple:a,type:"file",style:{display:"none"},onChange:K(me(r,V)),onClick:K(me(o,Z)),autoComplete:"off",tabIndex:-1},n,F)),i)}},[F,f,a,V,p]),te=P.length,ne=0<te&&(q=(_={files:P,accept:f,minSize:d,maxSize:s,multiple:a,maxFiles:o}).files,G=_.accept,$=_.minSize,N=_.maxSize,H=_.maxFiles,!(!(W=_.multiple)&&1<q.length||W&&1<=H&&q.length>H)&&q.every(function(e){var t=ce(pe(e,G),1)[0],n=ce(de(e,$,N),1)[0];return t&&n})),re=0<te&&!ne;return ae(ae({},A),{},{isDragAccept:ne,isDragReject:re,isFocused:k&&!p,getRootProps:Y,getInputProps:ee,rootRef:O,inputRef:F,open:K(S)})}function De(e,t){switch(t.type){case"focus":return ae(ae({},e),{},{isFocused:!0});case"blur":return ae(ae({},e),{},{isFocused:!1});case"openDialog":return ae(ae({},e),{},{isFileDialogActive:!0});case"closeDialog":return ae(ae({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return ae(ae({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return ae(ae({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ae(ae({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=A,e.useDropzone=x,Object.defineProperty(e,"__esModule",{value:!0})});