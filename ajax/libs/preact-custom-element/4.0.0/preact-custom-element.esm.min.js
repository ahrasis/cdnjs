import{hydrate as t,render as e,cloneElement as o,h as r}from"preact";function n(){this._vdom=function t(e,o){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;var n=[],s={},i=0,d=e.attributes,c=e.childNodes;for(i=d.length;i--;)s[d[i].name]=d[i].value,s[a(d[i].name)]=d[i].value;for(i=c.length;i--;)n[i]=t(c[i]);return r(o||e.nodeName.toLowerCase(),s,n)}(this,this._vdomComponent),(this.hasAttribute("hydrate")?t:e)(this._vdom,this._root)}function a(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}function i(t,r,n){if(this._vdom){var s={};s[t]=n,s[a(t)]=n,this._vdom=o(this._vdom,s),e(this._vdom,this._root)}}function s(){e(this._vdom=null,this._root)}export default function(t,e,o,r){function a(){var e=Reflect.construct(HTMLElement,[],a);return e._vdomComponent=t,e._root=r&&r.shadow?e.attachShadow({mode:"open"}):e,e}return(a.prototype=Object.create(HTMLElement.prototype)).constructor=a,a.prototype.connectedCallback=n,a.prototype.attributeChangedCallback=i,a.prototype.detachedCallback=s,a.observedAttributes=o||t.observedAttributes||Object.keys(t.propTypes||{}),customElements.define(e||t.tagName||t.displayName||t.name,a)};