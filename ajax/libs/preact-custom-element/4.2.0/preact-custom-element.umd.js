!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof define&&define.amd?define(["preact"],e):(t=t||self).preactCustomElement=e(t.preact)}(this,function(t){function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function n(e){this.getChildContext=function(){return e.context};var n=e.children,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}(e,["context","children"]);return t.cloneElement(n,r)}function r(){var r=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(r),this._vdom=t.h(n,e({},this._props,{context:r.detail.context}),function e(n,r,i){if(3===n.nodeType)return n.data;if(1!==n.nodeType)return null;var a=[],c={},u=0,l=n.attributes,p=n.childNodes;for(u=l.length;u--;)"slot"!==l[u].name&&(c[l[u].name]=l[u].value,c[o(l[u].name)]=l[u].value);for(u=p.length;u--;){var d=e(p[u],!1),h=p[u].slot;h?c[h]=t.h(s,{name:h},d):a[u]=d}var f=r?t.h(s,null,a):a;return t.h(i||n.nodeName.toLowerCase(),c,f)}(this,!0,this._vdomComponent)),(this.hasAttribute("hydrate")?t.hydrate:t.render)(this._vdom,this._root)}function o(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}function i(e,n,r){if(this._vdom){var i={};i[e]=r,i[o(e)]=r,this._vdom=t.cloneElement(this._vdom,i),t.render(this._vdom,this._root)}}function a(){t.render(this._vdom=null,this._root)}function s(n,r){var o=this;return t.h("slot",e({},n,{ref:function(t){t?(o.ref=t,o._listener||(o._listener=function(t){t.stopPropagation(),t.detail.context=r},t.addEventListener("_preact",o._listener))):o.ref.removeEventListener("_preact",o._listener)}}))}return function(t,e,n,o){function s(){var e=Reflect.construct(HTMLElement,[],s);return e._vdomComponent=t,e._root=o&&o.shadow?e.attachShadow({mode:"open"}):e,e}return(s.prototype=Object.create(HTMLElement.prototype)).constructor=s,s.prototype.connectedCallback=r,s.prototype.attributeChangedCallback=i,s.prototype.disconnectedCallback=a,n=n||t.observedAttributes||Object.keys(t.propTypes||{}),s.observedAttributes=n,n.forEach(function(t){Object.defineProperty(s.prototype,t,{get:function(){return this._vdom.props[t]},set:function(e){this._vdom?this.attributeChangedCallback(t,null,e):(this._props||(this._props={}),this._props[t]=e,this.connectedCallback());var n=typeof e;null!=e&&"string"!==n&&"boolean"!==n&&"number"!==n||this.setAttribute(t,e)}})}),customElements.define(e||t.tagName||t.displayName||t.name,s)}});
//# sourceMappingURL=preact-custom-element.umd.js.map
