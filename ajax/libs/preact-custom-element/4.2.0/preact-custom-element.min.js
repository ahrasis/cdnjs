var t=require("preact");function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function n(e){this.getChildContext=function(){return e.context};var n=e.children,r=function(t,e){if(null==t)return{};for(var n,r={},o=Object.keys(t),i=0;i<o.length;i++)0<=e.indexOf(n=o[i])||(r[n]=t[n]);return r}(e,["context","children"]);return t.cloneElement(n,r)}function r(){var r=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(r),this._vdom=t.h(n,e({},this._props,{context:r.detail.context}),function e(n,r,i){if(3===n.nodeType)return n.data;if(1!==n.nodeType)return null;for(var a=[],c={},l=0,u=n.attributes,h=n.childNodes,l=u.length;l--;)"slot"!==u[l].name&&(c[u[l].name]=u[l].value,c[o(u[l].name)]=u[l].value);for(l=h.length;l--;){var p=e(h[l],!1),d=h[l].slot;d?c[d]=t.h(s,{name:d},p):a[l]=p}r=r?t.h(s,null,a):a;return t.h(i||n.nodeName.toLowerCase(),c,r)}(this,!0,this._vdomComponent)),(this.hasAttribute("hydrate")?t.hydrate:t.render)(this._vdom,this._root)}function o(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}function i(e,n,r){var i;this._vdom&&((i={})[e]=r,i[o(e)]=r,this._vdom=t.cloneElement(this._vdom,i),t.render(this._vdom,this._root))}function a(){t.render(this._vdom=null,this._root)}function s(n,r){var o=this;return t.h("slot",e({},n,{ref:function(t){t?(o.ref=t,o._listener||(o._listener=function(t){t.stopPropagation(),t.detail.context=r},t.addEventListener("_preact",o._listener))):o.ref.removeEventListener("_preact",o._listener)}}))}module.exports=function(e,t,n,o){function s(){var t=Reflect.construct(HTMLElement,[],s);return t._vdomComponent=e,t._root=o&&o.shadow?t.attachShadow({mode:"open"}):t,t}return((s.prototype=Object.create(HTMLElement.prototype)).constructor=s).prototype.connectedCallback=r,s.prototype.attributeChangedCallback=i,s.prototype.disconnectedCallback=a,n=n||e.observedAttributes||Object.keys(e.propTypes||{}),(s.observedAttributes=n).forEach(function(n){Object.defineProperty(s.prototype,n,{get:function(){return this._vdom.props[n]},set:function(t){this._vdom?this.attributeChangedCallback(n,null,t):(this._props||(this._props={}),this._props[n]=t,this.connectedCallback());var e=typeof t;null!=t&&"string"!=e&&"boolean"!=e&&"number"!=e||this.setAttribute(n,t)}})}),customElements.define(t||e.tagName||e.displayName||e.name,s)};