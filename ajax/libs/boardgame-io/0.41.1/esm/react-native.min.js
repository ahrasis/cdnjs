import"./Debug-fa7bb5f4.js";import"redux";import{_ as _inherits,x as _createSuper,y as _createClass,z as _defineProperty,B as _classCallCheck,C as _objectWithoutProperties,D as _objectSpread2}from"./turn-order-720e174a.js";import"immer";import"./reducer-7bd8844e.js";import"./initialize-ac5c3482.js";import"flatted";import"./ai-2b2c47a6.js";import{C as Client$1}from"./client-b1d3ccac.js";import React from"react";import PropTypes from"prop-types";function Client(e){var t,r,i=e.game,a=e.numPlayers,s=e.board,n=e.multiplayer,c=e.enhancer;return r=t=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var s;return _classCallCheck(this,r),(s=t.call(this,e)).client=Client$1({game:i,numPlayers:a,multiplayer:n,matchID:e.matchID,playerID:e.playerID,credentials:e.credentials,debug:!1,enhancer:c}),s}return _createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.client.subscribe(function(){return e.forceUpdate()}),this.client.start()}},{key:"componentWillUnmount",value:function(){this.client.stop(),this.unsubscribe()}},{key:"componentDidUpdate",value:function(e){e.matchID!=this.props.matchID&&this.client.updateMatchID(this.props.matchID),e.playerID!=this.props.playerID&&this.client.updatePlayerID(this.props.playerID),e.credentials!=this.props.credentials&&this.client.updateCredentials(this.props.credentials)}},{key:"render",value:function(){var e=null,t=this.client.getState(),r=this.props,i=r.matchID,a=r.playerID,c=_objectWithoutProperties(r,["matchID","playerID"]);return s&&(e=React.createElement(s,_objectSpread2(_objectSpread2(_objectSpread2({},t),c),{},{matchID:i,playerID:a,isMultiplayer:!!n,moves:this.client.moves,events:this.client.events,step:this.client.step,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,matchData:this.client.matchData}))),e}}]),r}(React.Component),_defineProperty(t,"propTypes",{matchID:PropTypes.string,playerID:PropTypes.string,credentials:PropTypes.string}),_defineProperty(t,"defaultProps",{matchID:"default",playerID:null,credentials:null}),r}export{Client};