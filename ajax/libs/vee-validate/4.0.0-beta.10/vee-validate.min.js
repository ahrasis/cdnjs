/**
  * vee-validate v4.0.0-beta.10
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VeeValidate={},e.Vue)}(this,(function(e,t){"use strict";function r(e){return"function"==typeof e}const a=e=>null!==e&&e&&"object"==typeof e&&!Array.isArray(e),n={};function i(e){return r(e)&&!!e.__locatorRef}function l(e){return e&&r(e.validate)}function o(e){return"checkbox"===e||"radio"===e}function u(e){return Number(e)>=0}function s(e){return/^\[.+\]$/i.test(e)}function d(e){return s(e)?e.replace(/\[|\]/gi,""):e}function c(e,t){if(e)return s(t)?e[d(t)]:t.split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{if(e&&t in e)return e[t]}),e)}function f(e,t,r){if(s(t))return void(e[d(t)]=r);const a=t.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let e=0;e<a.length;e++){if(e===a.length-1)return void(n[a[e]]=r);a[e]in n||(n[a[e]]=u(a[e+1])?[]:{}),n=n[a[e]]}}function v(e,t){Array.isArray(e)&&u(t)?e.splice(Number(t),1):delete e[t]}function m(e,t){if(s(t))return void delete e[d(t)];const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let e=0;e<r.length;e++){if(e===r.length-1){v(n,r[e]);break}if(!(r[e]in n))break;n=n[r[e]]}const i=r.map(((t,a)=>c(e,r.slice(0,a).join("."))));for(let t=i.length-1;t>=0;t--)l=i[t],(Array.isArray(l)?0===l.length:a(l)&&0===Object.keys(l).length)&&(0!==t?v(i[t-1],r[t-1]):v(e,r[0]));var l}function h(e){return Object.keys(e)}function p(e){if(!(t=e)||!("undefined"!=typeof Event&&r(Event)&&t instanceof Event||t&&t.srcElement))return e;var t;const a=e.target;return"checkbox"===a.type&&"_value"in a?a._value:"file"===a.type&&a.files?Array.from(a.files):a.value}function y(e){return t.isRef(e)?e.value:e}function b(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?r(e)||l(e)||a(e)&&e._$$isNormalized?e:a(e)?Object.keys(e).reduce(((t,r)=>{const n=function(e){if(!0===e)return[];if(Array.isArray(e))return e;if(a(e))return e;return[e]}(e[r]);return!1!==e[r]&&(t[r]=g(n)),t}),t):"string"!=typeof e?t:e.split("|").reduce(((e,t)=>{const r=O(t);return r.name?(e[r.name]=g(r.params),e):e}),t):t}function g(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>t[e];return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):Object.keys(e).reduce(((r,a)=>(r[a]=t(e[a]),r)),{})}const O=e=>{let t=[];const r=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}};const V=(e,t)=>e.slots.default&&e.slots.default(t)||[];let A=Object.assign({},{generateMessage:({field:e})=>e+" is not valid.",bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const j=()=>A,E=e=>{A=Object.assign(Object.assign({},A),e)};async function S(e,t,a={}){const n=null==a?void 0:a.bails,i={name:(null==a?void 0:a.name)||"{field}",rules:b(t),bails:null==n||n,formData:(null==a?void 0:a.values)||{}},o=await async function(e,t){if(l(e.rules))return async function(e,t){return{errors:await e.rules.validate(t,{abortEarly:e.bails}).then((()=>[])).catch((e=>{if("ValidationError"===e.name)return e.errors;throw e}))}}(e,t);if(r(e.rules)){const r=await e.rules(t),a="string"!=typeof r&&r,n="string"==typeof r?r:k({field:e.name,value:t,form:e.formData});return{errors:a?[]:[n]}}const a=[],n=Object.keys(e.rules),i=n.length;for(let r=0;r<i;r++){const i=n[r],l=await F(e,t,{name:i,params:e.rules[i]});if(l.error&&(a.push(l.error),e.bails))return{errors:a}}return{errors:a}}(i,e);return{errors:o.errors}}async function F(e,t,r){const a=(l=r.name,n[l]);var l;if(!a)throw new Error(`No such validator '${r.name}' exists.`);const o=function(e,t){const r=e=>i(e)?e(t):e;if(Array.isArray(e))return e.map(r);return Object.keys(e).reduce(((t,a)=>(t[a]=r(e[a]),t)),{})}(r.params,e.formData),u={field:e.name,value:t,form:e.formData,rule:r},s=await a(t,o,u);return"string"==typeof s?{error:s}:{error:s?void 0:k(u)}}function k(e){const t=j().generateMessage;return t?t(e):"Field is invalid"}const M=Symbol("vee-validate-form"),w=Symbol("vee-validate-form-errors"),x=Symbol("vee-validate-form-initial-values");function D(e,a,n){const{initialValue:l,form:u,validateOnMount:s,bails:d,disabled:v,type:m,valueProp:g,label:O,validateOnValueUpdate:V}=function(e,r){const a=t.inject(M,void 0),n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",disabled:!1,form:a,label:e,validateOnValueUpdate:!0});if(!r)return n();return Object.assign(Object.assign({},n()),r||{})}(e,n),{meta:A,errors:j,handleBlur:E,handleInput:F,reset:k,setValidationState:w,value:D,checked:T}=function({name:e,initValue:r,form:a,type:n,valueProp:i}){var l;const u=t.ref([]),s=null!==(l=c(y(t.inject(x,{})),e))&&void 0!==l?l:r,{reset:d,meta:v}=function(e){const r=()=>({touched:!1,dirty:!1,valid:!1,pending:!1,initialValue:e}),a=t.reactive(r());function n(){const e=r();h(a).forEach((t=>{a[t]=e[t]}))}return{meta:a,reset:n}}(s),m=function(e,r,a){if(!a)return t.ref(e);f(a.values,r,e);return t.computed({get:()=>c(a.values,r),set(e){a.setFieldValue(r,e)}})}(s,e,a);o(n)&&s&&(m.value=s);const b=o(n)?t.computed((()=>Array.isArray(m.value)?m.value.includes(y(i)):y(i)===m.value)):void 0;(void 0===b||b.value)&&(m.value=s);const g=()=>{v.touched=!0},O=e=>{o(n)||(m.value=p(e)),v.dirty=!0};function V(e){return u.value=e.errors,v.valid=!e.errors.length,e}const A=()=>{u.value=[],d()};return{meta:v,errors:u,setValidationState:V,reset:A,handleBlur:g,handleInput:O,value:m,checked:b}}({name:e,initValue:y(l),form:u,type:m,valueProp:g}),B=function(e,t){if(!e)return;return e[t]}(null==u?void 0:u.schema,e),R=t.computed((()=>b(B||y(a)))),_=async()=>{var t;let r;return A.pending=!0,r=u&&u.validateSchema?(await u.validateSchema())[e]:await S(D.value,R.value,{name:O,values:null!==(t=null==u?void 0:u.values)&&void 0!==t?t:{},bails:d}),A.pending=!1,w(r)};s&&t.onMounted(_);const C=t.computed((()=>j.value[0]));const P={name:e,value:D,meta:A,errors:j,errorMessage:C,disabled:v,type:m,valueProp:g,checked:T,idx:-1,reset:k,validate:_,handleChange:e=>{var t,r;if(!T||T.value!==(null===(r=null===(t=e)||void 0===t?void 0:t.target)||void 0===r?void 0:r.checked))return D.value=p(e),A.dirty=!0,V?void 0:_()},handleBlur:E,handleInput:F,setValidationState:w,setTouched:function(e){A.touched=e},setDirty:function(e){A.dirty=e}};if(V&&t.watch(D,_,{deep:!0}),t.isRef(a)&&t.watch(a,_,{deep:!0}),!u)return P;u.register(P),t.onBeforeUnmount((()=>{u.unregister(P)}));const I=t.computed((()=>{const e=R.value;return!e||r(e)||r(e.validate)?[]:Object.keys(e).reduce(((e,t)=>{const r=(a=R.value[t],Array.isArray(a)?a.filter(i):Object.keys(a).filter((e=>i(a[e]))).map((e=>a[e]))).map((e=>e.__locatorRef));var a;return e.push(...r),e}),[])}));return t.watchEffect((()=>{I.value.length&&I.value.forEach((e=>{if(e in u.values&&A.dirty)return _()}))})),P}const T=t.defineComponent({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:null},validateOnMount:{type:Boolean,default:!1},bails:{type:Boolean,default:()=>j().bails},disabled:{type:Boolean,default:!1},label:{type:String,default:void 0}},setup(e,r){const[a,n]=[t.toRef(e,"disabled"),t.toRef(e,"rules")],{errors:i,value:l,errorMessage:u,validate:s,handleChange:d,handleBlur:c,handleInput:f,setDirty:v,setTouched:m,reset:h,meta:p,checked:y}=D(e.name,n,{validateOnMount:e.validateOnMount,bails:e.bails,disabled:a,type:r.attrs.type,initialValue:o(r.attrs.type)||"modelValue"in r.attrs?r.attrs.modelValue:r.attrs.value,valueProp:r.attrs.value,label:e.label||e.name,validateOnValueUpdate:!1});let b=!1;function g(){b=!0,t.nextTick((()=>{b=!1}))}const O="modelValue"in r.attrs?function(e){d(e),r.emit("update:modelValue",l.value)}:d,A="modelValue"in r.attrs?function(e){f(e),r.emit("update:modelValue",l.value)}:f,{validateOnInput:E,validateOnChange:S,validateOnBlur:F,validateOnModelUpdate:k}=j();return()=>{const a=B(e,r),n=(()=>{const t={name:e.name,disabled:e.disabled,onBlur:[c],onInput:[A,g],onChange:[A,g]};var a,n;return E&&t.onInput.push(O),S&&t.onChange.push(O),F&&t.onBlur.push(s),k&&(t["onUpdate:modelValue"]=[O,g]),o(r.attrs.type)&&y?t.checked=y.value:t.value=l.value,a=B(e,r),n=r.attrs.type,function(e){return["input","textarea","select"].includes(e)}(a)&&"file"===n&&delete t.value,{field:t,meta:p,errors:i.value,errorMessage:u.value,validate:s,reset:h,handleChange:O,handleInput:A,handleBlur:c,setDirty:v,setTouched:m}})();"modelValue"in r.attrs&&String(r.attrs.modelValue)!==String(l.value)&&!b&&t.nextTick((()=>{d(r.attrs.modelValue)}));const f=V(r,n);return a?t.h(a,Object.assign(Object.assign({},r.attrs),n.field),f):f}}});function B(e,t){let r=e.as||"";return e.as||t.slots.default||(r="input"),r}function R(e){const r=t.ref([]),a=t.ref(!1),n=t.computed((()=>r.value.reduce(((e,t)=>{if(!e[t.name])return e[t.name]=t,t.idx=-1,e;if(!Array.isArray(e[t.name])){const r=e[t.name];r.idx=0,e[t.name]=[r]}return t.idx=e[t.name].length,e[t.name].push(t),e}),{}))),i=t.computed((()=>r.value.filter((e=>!y(e.disabled))))),o=t.reactive({}),u=t.computed((()=>i.value.reduce(((e,t)=>{let r;if(Array.isArray(n.value[t.name])){r=y((n.value[t.name].find((e=>y(e.checked)))||t).errorMessage)}else r=y(t.errorMessage);return r&&(e[t.name]=r),e}),{}))),s=t.computed((()=>i.value.reduce(((e,t)=>(f(e,t.name,y(t.value)),e)),{}))),{initialValues:d}=function(e,r,a){const n=t.computed((()=>t.isRef(a)?a.value:a||{}));return t.watch(n,(t=>{const a=e=>e.meta.dirty||e.meta.touched;Object.keys(e.value).forEach((n=>{const i=e.value[n];if(Array.isArray(i)?i.some(a):a(i))return;const l=c(t,n);f(r,n,l)}))}),{deep:!0}),{initialValues:n}}(n,o,null==e?void 0:e.initialValues),v=function(e,r){const a={valid:"every",dirty:"some",touched:"some",pending:"some"};return t.computed((()=>{const t=h(a).reduce(((t,r)=>{const n=a[r];return t[r]=e.value[n]((e=>e.meta[r])),t}),{});return Object.assign({initialValues:y(r)},t)}))}(r,d);function p(e,t){const r=n.value[e];r&&(Array.isArray(r)?r.forEach((e=>{e.setValidationState({errors:[t]})})):r.setValidationState({errors:[t]}))}function b(e){Object.keys(e).forEach((t=>{p(t,e[t])}))}function g(e,t){var r;const a=n.value[e];if(Array.isArray(a)&&"checkbox"===(null===(r=a[0])||void 0===r?void 0:r.type)&&!Array.isArray(t)){const r=c(o,e),a=Array.isArray(r)?[...r]:[],n=a.indexOf(t);return n>=0?a.splice(n,1):a.push(t),void f(o,e,a)}let i=t;"checkbox"===(null==a?void 0:a.type)&&(i=c(o,e)===t?void 0:t),f(o,e,i)}function O(e){Object.keys(e).forEach((t=>{g(t,e[t])}))}function V(e,t){const r=n.value[e];r&&(Array.isArray(r)?r.forEach((e=>e.setTouched(t))):r.setTouched(t))}function A(e){Object.keys(e).forEach((t=>{V(t,e[t])}))}function j(e,t){const r=n.value[e];r&&(Array.isArray(r)?r.forEach((e=>e.setDirty(t))):r.setDirty(t))}function E(e){Object.keys(e).forEach((t=>{j(t,e[t])}))}const S=()=>{r.value.forEach((e=>e.reset()))};const F={register:function(e){r.value.push(e)},unregister:function(e){var t,a;const n=r.value.indexOf(e);if(-1===n)return;r.value.splice(n,1);const i=e.name;if(-1===e.idx)return void m(o,i);const l=null===(a=null===(t=c(o,i))||void 0===t?void 0:t.indexOf)||void 0===a?void 0:a.call(t,y(e.valueProp));void 0!==l?-1!==l&&(Array.isArray(o[i])?m(o,`${i}.${l}`):m(o,i)):m(o,i)},fields:n,values:o,schema:null==e?void 0:e.validationSchema,validateSchema:l(null==e?void 0:e.validationSchema)?(e=!1)=>async function(e,t=!1){const r=await e.schema.validate(e.values,{abortEarly:!1}).then((()=>[])).catch((e=>{if("ValidationError"!==e.name)throw e;return e.inner||[]})),a=e.fields.value,n=r.reduce(((e,t)=>(e[t.path]=t,e)),{});return Object.keys(a).reduce(((e,r)=>{const i=a[r],l={errors:(n[r]||{errors:[]}).errors};e[r]=l;const o=Array.isArray(i),u=o?i.some((e=>e.meta.dirty)):i.meta.dirty;return t||u?o?(i.forEach((e=>e.setValidationState(l))),e):(i.setValidationState(l),e):e}),{})}(F,e):void 0,setFieldValue:g,setValues:O,setErrors:b,setFieldError:p,setFieldTouched:V,setTouched:A,setFieldDirty:j,setDirty:E,reset:S},k=async()=>{if(F.validateSchema)return F.validateSchema(!0).then((e=>Object.keys(e).every((t=>!e[t].errors.length))));return(await Promise.all(i.value.map((e=>e.validate())))).every((e=>!e.errors.length))},D=e=>function(t){return t instanceof Event&&(t.preventDefault(),t.stopPropagation()),a.value=!0,k().then((r=>{if(r&&"function"==typeof e)return e(s.value,{evt:t,form:F})})).then((()=>{a.value=!1}),(e=>{throw a.value=!1,e}))},T=D(((e,{evt:t})=>{var r;t&&(null===(r=null==t?void 0:t.target)||void 0===r||r.submit())}));return t.onMounted((()=>{(null==e?void 0:e.validateOnMount)&&k()})),t.provide(x,d),t.provide(M,F),t.provide(w,u),{errors:u,meta:v,values:o,validate:k,isSubmitting:a,handleReset:S,handleSubmit:D,submitForm:T,setFieldError:p,setErrors:b,setFieldValue:g,setValues:O,setFieldTouched:V,setTouched:A,setFieldDirty:j,setDirty:E}}const _=t.defineComponent({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1}},setup(e,r){const a=t.toRef(e,"initialValues"),{errors:n,validate:i,handleSubmit:l,handleReset:o,values:u,meta:s,isSubmitting:d,submitForm:c,setErrors:f,setFieldError:v,setFieldValue:m,setValues:h,setFieldDirty:p,setDirty:y,setFieldTouched:b,setTouched:g}=R({validationSchema:e.validationSchema,initialValues:a,validateOnMount:e.validateOnMount}),O=r.attrs.onSubmit?l(r.attrs.onSubmit):c;function A(){o(),"function"==typeof r.attrs.onReset&&r.attrs.onReset()}function j(e,t){return l("function"!=typeof e||t?t:e)(e)}return function(){"setErrors"in this||(this.setFieldError=v,this.setErrors=f,this.setFieldValue=m,this.setValues=h,this.setFieldDirty=p,this.setDirty=y,this.setFieldTouched=b,this.setTouched=g);const a=V(r,{meta:s.value,errors:n.value,values:u,isSubmitting:d.value,validate:i,handleSubmit:j,handleReset:o,submitForm:c,setErrors:f,setFieldError:v,setFieldValue:m,setValues:h,setFieldDirty:p,setDirty:y,setFieldTouched:b,setTouched:g});if(!e.as)return a;const l="form"===e.as?{novalidate:!0}:{};return t.h(e.as,Object.assign(Object.assign(Object.assign({},l),r.attrs),{onSubmit:O,onReset:A}),a)}}}),C=t.defineComponent({props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,r){const a=t.inject(w,void 0),n=t.computed((()=>a.value[e.name]));return()=>{const a=V(r,{message:n.value}),i=e.as,l=Object.assign({role:"alert"},r.attrs);return!i&&a.length?a:a.length?t.h(i,l,a):t.h(i||"span",l,n.value)}}});e.ErrorMessage=C,e.Field=T,e.Form=_,e.configure=E,e.defineRule=function(e,t){!function(e,t){if(r(t))return;throw new Error(`Extension Error: The validator '${e}' must be a function.`)}(e,t),n[e]=t},e.useField=D,e.useForm=R,e.validate=S,Object.defineProperty(e,"__esModule",{value:!0})}));