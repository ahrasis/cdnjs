/**
  * vee-validate v4.0.0-beta.19
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VeeValidate={},e.Vue)}(this,(function(e,t){"use strict";function r(e){return"function"==typeof e}const n=e=>null!==e&&e&&"object"==typeof e&&!Array.isArray(e),a={};function i(e){return r(e)&&!!e.__locatorRef}function l(e){return e&&r(e.validate)}function o(e){return"checkbox"===e||"radio"===e}function u(e){return Number(e)>=0}function s(e){return/^\[.+\]$/i.test(e)}function d(e){return s(e)?e.replace(/\[|\]/gi,""):e}function c(e,t){if(e)return s(t)?e[d(t)]:t.split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{if(e&&t in e)return e[t]}),e)}function f(e,t,r){if(s(t))return void(e[d(t)]=r);const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let e=0;e<n.length;e++){if(e===n.length-1)return void(a[n[e]]=r);n[e]in a||(a[n[e]]=u(n[e+1])?[]:{}),a=a[n[e]]}}function v(e,t){Array.isArray(e)&&u(t)?e.splice(Number(t),1):delete e[t]}function m(e,t){if(s(t))return void delete e[d(t)];const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let e=0;e<r.length;e++){if(e===r.length-1){v(a,r[e]);break}if(!(r[e]in a))break;a=a[r[e]]}const i=r.map(((t,n)=>c(e,r.slice(0,n).join("."))));for(let t=i.length-1;t>=0;t--)l=i[t],(Array.isArray(l)?0===l.length:n(l)&&0===Object.keys(l).length)&&(0!==t?v(i[t-1],r[t-1]):v(e,r[0]));var l}function h(e){return Object.keys(e)}function y(e){if(!(t=e)||!("undefined"!=typeof Event&&r(Event)&&t instanceof Event||t&&t.srcElement))return e;var t;const n=e.target;return"checkbox"===n.type&&"_value"in n?n._value:"file"===n.type&&n.files?Array.from(n.files):n.value}function p(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?r(e)||l(e)||n(e)&&e._$$isNormalized?e:n(e)?Object.keys(e).reduce(((t,r)=>{const a=function(e){if(!0===e)return[];if(Array.isArray(e))return e;if(n(e))return e;return[e]}(e[r]);return!1!==e[r]&&(t[r]=b(a)),t}),t):"string"!=typeof e?t:e.split("|").reduce(((e,t)=>{const r=g(t);return r.name?(e[r.name]=b(r.params),e):e}),t):t}function b(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>t[e];return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):Object.keys(e).reduce(((r,n)=>(r[n]=t(e[n]),r)),{})}const g=e=>{let t=[];const r=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}};const O=(e,t)=>e.slots.default?e.slots.default(t):e.slots.default;let V=Object.assign({},{generateMessage:({field:e})=>e+" is not valid.",bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const E=()=>V,F=e=>{V=Object.assign(Object.assign({},V),e)};async function A(e,t,n={}){const a=null==n?void 0:n.bails,i={name:(null==n?void 0:n.name)||"{field}",rules:p(t),bails:null==a||a,formData:(null==n?void 0:n.values)||{}},o=await async function(e,t){if(l(e.rules))return async function(e,t){return{errors:await e.rules.validate(t,{abortEarly:e.bails}).then((()=>[])).catch((e=>{if("ValidationError"===e.name)return e.errors;throw e}))}}(e,t);if(r(e.rules)){const r=await e.rules(t,{field:e.name,form:e.formData}),n="string"!=typeof r&&r,a="string"==typeof r?r:j({field:e.name,value:t,form:e.formData});return{errors:n?[]:[a]}}const n=[],a=Object.keys(e.rules),i=a.length;for(let r=0;r<i;r++){const i=a[r],l=await S(e,t,{name:i,params:e.rules[i]});if(l.error&&(n.push(l.error),e.bails))return{errors:n}}return{errors:n}}(i,e);return{errors:o.errors}}async function S(e,t,r){const n=(l=r.name,a[l]);var l;if(!n)throw new Error(`No such validator '${r.name}' exists.`);const o=function(e,t){const r=e=>i(e)?e(t):e;if(Array.isArray(e))return e.map(r);return Object.keys(e).reduce(((t,n)=>(t[n]=r(e[n]),t)),{})}(r.params,e.formData),u={field:e.name,value:t,form:e.formData,rule:r},s=await n(t,o,u);return"string"==typeof s?{error:s}:{error:s?void 0:j(u)}}function j(e){const t=E().generateMessage;return t?t(e):"Field is invalid"}const D=Symbol("vee-validate-form"),T=Symbol("vee-validate-form-errors"),k=Symbol("vee-validate-form-initial-values");let M=0;function w(e,n,a){const l=M>=Number.MAX_SAFE_INTEGER?0:++M,{initialValue:u,validateOnMount:s,bails:d,type:v,valueProp:m,label:b,validateOnValueUpdate:g}=function(e,t){const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0});if(!t)return r();return Object.assign(Object.assign({},r()),t||{})}(t.unref(e),a),O=function(e,r){const n=t.getCurrentInstance();return t.inject(e,(null==n?void 0:n.provides[e])||r)}(D),{meta:V,errors:E,handleBlur:F,handleInput:S,resetValidationState:j,setValidationState:T,value:w,checked:x}=function({name:e,initValue:r,form:n,type:a,valueProp:i}){var l;const u=t.ref([]),s=t.inject(k,void 0),d=null!==(l=c(t.unref(s),t.unref(e)))&&void 0!==l?l:r,{resetMeta:v,meta:m}=function(e){const r=()=>({touched:!1,dirty:!1,valid:!1,pending:!1,initialValue:e}),n=t.reactive(r());function a(){const e=r();h(n).forEach((t=>{n[t]=e[t]}))}return{meta:n,resetMeta:a}}(d),p=function(e,r,n){if(!n)return t.ref(e);f(n.values,t.unref(r),e);return t.computed({get:()=>c(n.values,t.unref(r)),set(e){n.setFieldValue(t.unref(r),e)}})}(d,e,n);o(a)&&d&&(p.value=d);const b=o(a)?t.computed((()=>Array.isArray(p.value)?p.value.includes(t.unref(i)):t.unref(i)===p.value)):void 0;(void 0===b||b.value)&&(p.value=d);const g=()=>{m.touched=!0},O=e=>{o(a)||(p.value=y(e)),m.dirty=!0};function V(e){return u.value=e.errors,m.valid=!e.errors.length,e}function E(n){var a;p.value=null!==(a=null!=n?n:c(t.unref(s),t.unref(e)))&&void 0!==a?a:r,u.value=[],v()}return{meta:m,errors:u,setValidationState:V,resetValidationState:E,handleBlur:g,handleInput:O,value:p,checked:b}}({name:e,initValue:t.unref(u),form:O,type:v,valueProp:m}),R=function(e,t){if(!e)return;return e[t]}(null==O?void 0:O.schema,t.unref(e)),B=t.computed((()=>p(R||t.unref(n)))),C=async()=>{var r;let n;return V.pending=!0,n=O&&O.validateSchema?(await O.validateSchema())[t.unref(e)]:await A(w.value,B.value,{name:b,values:null!==(r=null==O?void 0:O.values)&&void 0!==r?r:{},bails:d}),V.pending=!1,T(n)};s&&t.onMounted(C);const _=t.computed((()=>E.value[0]));function I(e){V.touched=e}let P;function $(){g&&(P=t.watch(w,C,{deep:!0}))}function N(e){null==P||P(),j(null==e?void 0:e.value),(null==e?void 0:e.dirty)&&I(e.dirty),(null==e?void 0:e.touched)&&I(e.touched),(null==e?void 0:e.errors)&&(E.value=e.errors),$()}$();const U={fid:l,name:e,value:w,meta:V,errors:E,errorMessage:_,type:v,valueProp:m,checked:x,idx:-1,resetField:N,handleReset:()=>N(),validate:C,handleChange:e=>{var t,r;if(!x||x.value!==(null===(r=null===(t=e)||void 0===t?void 0:t.target)||void 0===r?void 0:r.checked))return w.value=y(e),V.dirty=!0,g?void 0:C()},handleBlur:F,handleInput:S,setValidationState:T,setTouched:I,setDirty:function(e){V.dirty=e}};if(t.isRef(n)&&"function"!=typeof t.unref(n)&&t.watch(n,C,{deep:!0}),!O)return U;O.register(U),t.onBeforeUnmount((()=>{O.unregister(U)}));const q=t.computed((()=>{const e=B.value;return!e||r(e)||r(e.validate)?[]:Object.keys(e).reduce(((e,t)=>{const r=(n=B.value[t],Array.isArray(n)?n.filter(i):Object.keys(n).filter((e=>i(n[e]))).map((e=>n[e]))).map((e=>e.__locatorRef));var n;return e.push(...r),e}),[])}));return t.watchEffect((()=>{q.value.length&&q.value.forEach((e=>{if(e in O.values&&V.dirty)return C()}))})),U}const x=t.defineComponent({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:null},validateOnMount:{type:Boolean,default:!1},bails:{type:Boolean,default:()=>E().bails},label:{type:String,default:void 0}},setup(e,r){const n=t.toRef(e,"rules"),a=t.toRef(e,"name"),{errors:i,value:l,errorMessage:u,validate:s,handleChange:d,handleBlur:c,handleInput:f,setDirty:v,setTouched:m,resetField:h,handleReset:y,meta:p,checked:b}=w(a,n,{validateOnMount:e.validateOnMount,bails:e.bails,type:r.attrs.type,initialValue:o(r.attrs.type)||"modelValue"in r.attrs?r.attrs.modelValue:r.attrs.value,valueProp:r.attrs.value,label:e.label||e.name,validateOnValueUpdate:!1});let g=!1;function V(){g=!0,t.nextTick((()=>{g=!1}))}const F="modelValue"in r.attrs?function(e){d(e),r.emit("update:modelValue",l.value)}:d,A="modelValue"in r.attrs?function(e){f(e),r.emit("update:modelValue",l.value)}:f,{validateOnInput:S,validateOnChange:j,validateOnBlur:D,validateOnModelUpdate:T}=E();return()=>{const n=t.resolveDynamicComponent(R(e,r)),a=(()=>{const t={name:e.name,onBlur:[c],onInput:[A,V],onChange:[A,V]};var n,a;return S&&t.onInput.push(F),j&&t.onChange.push(F),D&&t.onBlur.push(s),T&&(t["onUpdate:modelValue"]=[F,V]),o(r.attrs.type)&&b?t.checked=b.value:t.value=l.value,n=R(e,r),a=r.attrs.type,function(e){return["input","textarea","select"].includes(e)}(n)&&"file"===a&&delete t.value,{field:t,meta:p,errors:i.value,errorMessage:u.value,validate:s,resetField:h,handleChange:F,handleInput:A,handleReset:y,handleBlur:c,setDirty:v,setTouched:m}})();"modelValue"in r.attrs&&String(r.attrs.modelValue)!==String(l.value)&&!g&&t.nextTick((()=>{d(r.attrs.modelValue)}));const f=O(r,a);return n?t.h(n,Object.assign(Object.assign({},r.attrs),a.field),f):f}}});function R(e,t){let r=e.as||"";return e.as||t.slots.default||(r="input"),r}function B(e){const r=t.ref([]),n=t.ref(!1),a=t.computed((()=>r.value.reduce(((e,t)=>{if(!e[t.name])return e[t.name]=t,t.idx=-1,e;if(!Array.isArray(e[t.name])){const r=e[t.name];r.idx=0,e[t.name]=[r]}return t.idx=e[t.name].length,e[t.name].push(t),e}),{}))),i=t.reactive({}),o={},u=t.computed((()=>r.value.reduce(((e,r)=>{let n;if(Array.isArray(a.value[r.name])){const e=a.value[r.name];n=t.unref((e.find((e=>t.unref(e.checked)))||r).errorMessage)}else n=t.unref(r.errorMessage);return n&&(e[r.name]=n),e}),{}))),{initialValues:s,setInitialValues:d}=function(e,r,n){const a=t.ref(t.unref(n)||{}),i=t.computed((()=>a.value));function l(t,n=!1){if(a.value=Object.assign(Object.assign({},a.value),t),!n)return;const i=e=>e.meta.dirty||e.meta.touched;h(e.value).forEach((t=>{const n=e.value[t];if(Array.isArray(n)?n.some(i):i(n))return;const l=c(a.value,t);f(r,t,l)}))}t.isRef(n)&&t.watch(n,(e=>{l(e,!0)}),{deep:!0});return t.provide(k,i),{initialValues:i,setInitialValues:l}}(a,i,null==e?void 0:e.initialValues),v=function(e,r){const n={valid:"every",dirty:"some",touched:"some",pending:"some"};return t.computed((()=>{const a=h(n).reduce(((t,r)=>{const a=n[r];return t[r]=e.value[a]((e=>e.meta[r])),t}),{});return Object.assign({initialValues:t.unref(r)},a)}))}(r,s);function y(e,t){const r=a.value[e];r&&(Array.isArray(r)?r.forEach((e=>{e.setValidationState({errors:t?[t]:[]})})):r.setValidationState({errors:t?[t]:[]}))}function p(e){h(e).forEach((t=>{y(t,e[t])}))}function b(e,t){var r;const n=a.value[e];if(Array.isArray(n)&&"checkbox"===(null===(r=n[0])||void 0===r?void 0:r.type)&&!Array.isArray(t)){const r=c(i,e),a=Array.isArray(r)?[...r]:[],l=a.indexOf(t);return l>=0?a.splice(l,1):a.push(t),f(i,e,a),void n.forEach((e=>{o[e.fid]=a}))}let l=t;"checkbox"===(null==n?void 0:n.type)&&(l=c(i,e)===t?void 0:t),f(i,e,l),n&&(o[n.fid]=l)}function g(e){h(e).forEach((t=>{b(t,e[t])}))}function O(e,t){const r=a.value[e];r&&(Array.isArray(r)?r.forEach((e=>e.setTouched(t))):r.setTouched(t))}function V(e){h(e).forEach((t=>{O(t,!!e[t])}))}function E(e,t){const r=a.value[e];r&&(Array.isArray(r)?r.forEach((e=>e.setDirty(t))):r.setDirty(t))}function F(e){h(e).forEach((t=>{E(t,!!e[t])}))}const A=e=>{(null==e?void 0:e.values)&&d(e.values),r.value.forEach((e=>e.resetField())),(null==e?void 0:e.dirty)&&F(e.dirty),(null==e?void 0:e.touched)&&V(e.touched),(null==e?void 0:e.errors)&&p(e.errors)};const S={register:function(e){r.value.push(e),t.isRef(e.name)&&t.watch(e.name,(t=>{b(t,o[e.fid])}),{flush:"post"})},unregister:function(e){var n,a;const l=r.value.indexOf(e);if(-1===l)return;r.value.splice(l,1);const u=e.fid;t.nextTick((()=>{delete o[u]}));const s=t.unref(e.name);if(-1===e.idx)return void m(i,s);const d=null===(a=null===(n=c(i,s))||void 0===n?void 0:n.indexOf)||void 0===a?void 0:a.call(n,t.unref(e.valueProp));void 0!==d?-1!==d&&(Array.isArray(i[s])?m(i,`${s}.${d}`):m(i,s)):m(i,s)},fields:a,values:i,schema:null==e?void 0:e.validationSchema,validateSchema:l(null==e?void 0:e.validationSchema)?(e=!1)=>async function(e,t=!1){const r=await e.schema.validate(e.values,{abortEarly:!1}).then((()=>[])).catch((e=>{if("ValidationError"!==e.name)throw e;return e.inner||[]})),n=e.fields.value,a=r.reduce(((e,t)=>(e[t.path]=t,e)),{});return h(n).reduce(((e,r)=>{const i=n[r],l={errors:(a[r]||{errors:[]}).errors};e[r]=l;const o=Array.isArray(i),u=o?i.some((e=>e.meta.dirty)):i.meta.dirty;return t||u?o?(i.forEach((e=>e.setValidationState(l))),e):(i.setValidationState(l),e):e}),{})}(S,e):void 0,setFieldValue:b,setValues:g,setErrors:p,setFieldError:y,setFieldTouched:O,setTouched:V,setFieldDirty:E,setDirty:F,resetForm:A},j=async()=>{if(S.validateSchema)return S.validateSchema(!0).then((e=>Object.keys(e).every((t=>!e[t].errors.length))));return(await Promise.all(r.value.map((e=>e.validate())))).every((e=>!e.errors.length))},M=t.computed((()=>r.value.reduce(((e,r)=>(f(e,r.name,t.unref(r.value)),e)),{}))),w=e=>function(t){return t instanceof Event&&(t.preventDefault(),t.stopPropagation()),n.value=!0,j().then((r=>{if(r&&"function"==typeof e)return e(M.value,{evt:t,setDirty:F,setFieldDirty:E,setErrors:p,setFieldError:y,setTouched:V,setFieldTouched:O,setValues:g,setFieldValue:b,resetForm:A})})).then((()=>{n.value=!1}),(e=>{throw n.value=!1,e}))},x=w(((e,{evt:t})=>{var r;t&&(null===(r=null==t?void 0:t.target)||void 0===r||r.submit())}));return t.onMounted((()=>{(null==e?void 0:e.initialErrors)&&p(e.initialErrors),(null==e?void 0:e.initialDirty)&&F(e.initialDirty),(null==e?void 0:e.initialTouched)&&V(e.initialTouched),(null==e?void 0:e.validateOnMount)&&j()})),t.provide(D,S),t.provide(T,u),{errors:u,meta:v,values:i,validate:j,isSubmitting:n,handleReset:()=>A(),resetForm:A,handleSubmit:w,submitForm:x,setFieldError:y,setErrors:p,setFieldValue:b,setValues:g,setFieldTouched:O,setTouched:V,setFieldDirty:E,setDirty:F}}const C=t.defineComponent({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialDirty:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1}},setup(e,r){const n=t.toRef(e,"initialValues"),{errors:a,validate:i,handleReset:l,resetForm:o,values:u,meta:s,isSubmitting:d,handleSubmit:c,submitForm:f,setErrors:v,setFieldError:m,setFieldValue:h,setValues:y,setFieldDirty:p,setDirty:b,setFieldTouched:g,setTouched:V}=B({validationSchema:e.validationSchema,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,initialDirty:e.initialDirty,validateOnMount:e.validateOnMount}),E=r.attrs.onSubmit?c(r.attrs.onSubmit):f;function F(){l(),"function"==typeof r.attrs.onReset&&r.attrs.onReset()}function A(e,t){return c("function"!=typeof e||t?t:e)(e)}return function(){"setErrors"in this||(this.setFieldError=m,this.setErrors=v,this.setFieldValue=h,this.setValues=y,this.setFieldDirty=p,this.setDirty=b,this.setFieldTouched=g,this.setTouched=V,this.resetForm=o);const n=O(r,{meta:s.value,errors:a.value,values:u,isSubmitting:d.value,validate:i,handleSubmit:A,handleReset:l,submitForm:f,setErrors:v,setFieldError:m,setFieldValue:h,setValues:y,setFieldDirty:p,setDirty:b,setFieldTouched:g,setTouched:V,resetForm:o});if(!e.as)return n;const c="form"===e.as?{novalidate:!0}:{};return t.h("form"===e.as?e.as:t.resolveDynamicComponent(e.as),Object.assign(Object.assign(Object.assign({},c),r.attrs),{onSubmit:E,onReset:F}),n)}}}),_=t.defineComponent({props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,r){const n=t.inject(T,void 0),a=t.computed((()=>null==n?void 0:n.value[e.name]));return()=>{const n=O(r,{message:a.value}),i=e.as?t.resolveDynamicComponent(e.as):e.as,l=Object.assign({role:"alert"},r.attrs);return!i&&(null==n?void 0:n.length)?n:(null==n?void 0:n.length)?t.h(i,l,n):t.h(i||"span",l,a.value)}}});e.ErrorMessage=_,e.Field=x,e.Form=C,e.configure=F,e.defineRule=function(e,t){!function(e,t){if(r(t))return;throw new Error(`Extension Error: The validator '${e}' must be a function.`)}(e,t),a[e]=t},e.useField=w,e.useForm=B,e.validate=A,Object.defineProperty(e,"__esModule",{value:!0})}));