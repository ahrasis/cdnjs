"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppBar=exports.appBarFactory=void 0;var _createClass=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_classnames=require("classnames"),_classnames2=_interopRequireDefault(_classnames),_reactCssThemr=require("react-css-themr"),_identifiers=require("../identifiers"),_IconButton=require("../button/IconButton"),_IconButton2=_interopRequireDefault(_IconButton);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var factory=function(p){var e=(_inherits(l,_react2.default.Component),_createClass(l,[{key:"componentDidMount",value:function(){this.props.scrollHide&&this.initializeScroll()}},{key:"componentWillReceiveProps",value:function(e){!this.props.scrollHide&&e.scrollHide&&this.initializeScroll(),this.props.scrollHide&&!e.scrollHide&&this.endScroll()}},{key:"componentWillUnmount",value:function(){this.props.scrollHide&&this.endScroll()}},{key:"initializeScroll",value:function(){window.addEventListener("scroll",this.handleScroll);var e=this.rootNode.getBoundingClientRect().height;this.curScroll=window.scrollY,this.setState({height:e})}},{key:"endScroll",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var t=this,e=this.props,r=e.children,o=e.leftIcon,n=e.onLeftIconClick,l=e.onRightIconClick,s=e.rightIcon,i=e.theme,a=e.title,e=(0,_classnames2.default)(i.appBar,(_defineProperty(e={},i.fixed,this.props.fixed),_defineProperty(e,i.flat,this.props.flat),_defineProperty(e,i.scrollHide,this.state.hidden),e),this.props.className),a="string"==typeof a?_react2.default.createElement("h1",{className:(0,_classnames2.default)(i.title)},a):a,o=o&&_react2.default.createElement(p,{inverse:!0,className:(0,_classnames2.default)(i.leftIcon),onClick:n,icon:o}),s=s&&_react2.default.createElement(p,{inverse:!0,className:(0,_classnames2.default)(i.rightIcon),onClick:l,icon:s});return _react2.default.createElement("header",{className:e,"data-react-toolbox":"app-bar",ref:function(e){t.rootNode=e}},_react2.default.createElement("div",{className:i.inner},o,a,r,s))}}]),l);function l(){var e,t;_classCallCheck(this,l);for(var r=arguments.length,o=Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t=_possibleConstructorReturn(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(o)))).state={hidden:!1,height:0},t.handleScroll=function(){var e=t.curScroll-window.scrollY<0&&void 0!==window.scrollY&&window.scrollY>t.state.height;t.setState({hidden:e}),t.curScroll=window.scrollY},_possibleConstructorReturn(t,e)}return e.propTypes={children:_propTypes2.default.node,className:_propTypes2.default.string,fixed:_propTypes2.default.bool,flat:_propTypes2.default.bool,leftIcon:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),onLeftIconClick:_propTypes2.default.func,onRightIconClick:_propTypes2.default.func,rightIcon:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),scrollHide:_propTypes2.default.bool,theme:_propTypes2.default.shape({appBar:_propTypes2.default.string,inner:_propTypes2.default.string,fixed:_propTypes2.default.string,flat:_propTypes2.default.string,leftIcon:_propTypes2.default.string,rightIcon:_propTypes2.default.string,scrollHide:_propTypes2.default.string,title:_propTypes2.default.string}),title:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element])},e.defaultProps={className:"",fixed:!1,flat:!1,scrollHide:!1},e},AppBar=factory(_IconButton2.default);exports.default=(0,_reactCssThemr.themr)(_identifiers.APP_BAR)(AppBar),exports.appBarFactory=factory,exports.AppBar=AppBar;