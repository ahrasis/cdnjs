"use strict";var _react=require("react"),_react2=_interopRequireDefault(_react),_expect=require("expect"),_expect2=_interopRequireDefault(_expect),_reactAddonsTestUtils=require("react-addons-test-utils"),_reactAddonsTestUtils2=_interopRequireDefault(_reactAddonsTestUtils),_ProgressBar=require("../ProgressBar"),_ProgressBar2=_interopRequireDefault(_ProgressBar),_theme=require("../theme.css"),_theme2=_interopRequireDefault(_theme),_testing=require("../../utils/testing"),_testing2=_interopRequireDefault(_testing);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}describe("ProgressBar",function(){var n=void 0;describe("#calculateRatio",function(){before(function(){var e=_reactAddonsTestUtils2.default.renderIntoDocument(_react2.default.createElement(_ProgressBar2.default,{min:100,max:300,theme:_theme2.default}));n=_reactAddonsTestUtils2.default.findRenderedComponentWithType(e,_ProgressBar.ProgressBar)}),it("calculates the right ratio",function(){(0,_expect2.default)(n.calculateRatio(150)).toEqual(.25)}),it("gets 0 when value is less than min",function(){(0,_expect2.default)(n.calculateRatio(10)).toEqual(0)}),it("gets 1 when value is more than max",function(){(0,_expect2.default)(n.calculateRatio(400)).toEqual(1)})}),describe("#render",function(){var e,t,r,a,s;it("renders the value and buffer bars when it is linear",function(){r=_testing2.default.shallowRenderComponent(_ProgressBar.ProgressBar,{theme:_theme2.default}).props.children,(0,_expect2.default)(r.props.children.length).toEqual(2),(0,_expect2.default)(r.props.children[0].ref).toEqual("buffer"),(0,_expect2.default)(r.props.children[1].ref).toEqual("value")}),it("renders the value and buffer bars when it is linear",function(){n=_testing2.default.shallowRenderComponent(_ProgressBar.ProgressBar,{mode:"determinate",value:30,buffer:60,theme:_theme2.default}),e=n.props.children.props.children[0],t=n.props.children.props.children[1],(0,_expect2.default)(e.props.style.transform).toEqual("scaleX(0.6)"),(0,_expect2.default)(t.props.style.transform).toEqual("scaleX(0.3)")}),it("renders the svg circle when it is circular",function(){n=_testing2.default.shallowRenderComponent(_ProgressBar.ProgressBar,{type:"circular",theme:_theme2.default}),(0,_expect2.default)(n.props.children.type).toEqual("svg"),(0,_expect2.default)(n.props.children.props.children.type).toEqual("circle")}),it("renders the proper circle length style when it is circular and determinate",function(){n=_testing2.default.shallowRenderComponent(_ProgressBar.ProgressBar,{type:"circular",mode:"determinate",value:30,theme:_theme2.default}),a=n.props.children.props.children,s=2*Math.PI*a.props.r*.3,(0,_expect2.default)(a.props.style.strokeDasharray).toEqual(s+", 400")}),it("contains mode and className in its className",function(){n=_testing2.default.shallowRenderComponent(_ProgressBar.ProgressBar,{mode:"determinate",className:"tight",theme:_theme2.default}),(0,_expect2.default)(n.props.className).toContain(_theme2.default.determinate),(0,_expect2.default)(n.props.className).toContain(_theme2.default.tight)})})});