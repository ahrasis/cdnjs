{"version":3,"file":"ractive.min.js","sources":["../src/polyfills/Object.assign.js","../src/polyfills/performance.now.js","../src/polyfills/array.find.js","../src/polyfills/node.contains.js","../src/polyfills/Promise.js","../src/polyfills/requestAnimationFrame.js"],"sourcesContent":["/* istanbul ignore if */\nif (!Object.assign) {\n  Object.assign = function (target, ...sources) {\n    if (target == null) throw new TypeError('Cannot convert undefined or null to object');\n\n    const to = Object(target);\n    const sourcesLength = sources.length;\n\n    for (let index = 0; index < sourcesLength; index++) {\n      const nextSource = sources[index];\n      for (const nextKey in nextSource) {\n        if (!Object.prototype.hasOwnProperty.call(nextSource, nextKey)) continue;\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n\n    return to;\n  };\n}\n","/* istanbul ignore if */\nif (typeof window !== 'undefined' && window.performance && !window.performance.now) {\n  window.performance = window.performance || {};\n\n  const nowOffset = Date.now();\n\n  window.performance.now = function () {\n    return Date.now() - nowOffset;\n  };\n}\n","import { isFunction, isUndefined } from 'utils/is';\nimport { hasOwn, defineProperty } from 'utils/object';\n\n/* istanbul ignore if */\nif (!Array.prototype.find) {\n  defineProperty(Array.prototype, 'find', {\n    value(callback, thisArg) {\n      if (this === null || isUndefined(this))\n        throw new TypeError('Array.prototype.find called on null or undefined');\n\n      if (!isFunction(callback)) throw new TypeError(`${callback} is not a function`);\n\n      const array = Object(this);\n      const arrayLength = array.length >>> 0;\n\n      for (let index = 0; index < arrayLength; index++) {\n        if (!hasOwn(array, index)) continue;\n        if (!callback.call(thisArg, array[index], index, array)) continue;\n        return array[index];\n      }\n\n      return undefined;\n    },\n    configurable: true,\n    writable: true\n  });\n}\n","// NOTE: Node doesn't exist in IE8. Nothing can be done.\n/* istanbul ignore if */\nif (\n  typeof window !== 'undefined' &&\n  window.Node &&\n  window.Node.prototype &&\n  !window.Node.prototype.contains\n) {\n  Node.prototype.contains = function (node) {\n    if (!node) throw new TypeError('node required');\n\n    do {\n      if (this === node) return true;\n    } while ((node = node && node.parentNode));\n\n    return false;\n  };\n}\n","import { base } from 'config/environment';\nimport { isFunction, isObjectType } from 'utils/is';\n\n/* istanbul ignore if */\nif (!base.Promise) {\n  const PENDING = {};\n  const FULFILLED = {};\n  const REJECTED = {};\n\n  const Promise = (base.Promise = function (callback) {\n    const fulfilledHandlers = [];\n    const rejectedHandlers = [];\n    let state = PENDING;\n    let result;\n    let dispatchHandlers;\n\n    const makeResolver = newState => {\n      return function (value) {\n        if (state !== PENDING) return;\n        result = value;\n        state = newState;\n        dispatchHandlers = makeDispatcher(\n          state === FULFILLED ? fulfilledHandlers : rejectedHandlers,\n          result\n        );\n        wait(dispatchHandlers);\n      };\n    };\n\n    const fulfill = makeResolver(FULFILLED);\n    const reject = makeResolver(REJECTED);\n\n    try {\n      callback(fulfill, reject);\n    } catch (err) {\n      reject(err);\n    }\n\n    return {\n      // `then()` returns a Promise - 2.2.7\n      then(onFulfilled, onRejected) {\n        const promise2 = new Promise((fulfill, reject) => {\n          const processResolutionHandler = (handler, handlers, forward) => {\n            if (isFunction(handler)) {\n              handlers.push(p1result => {\n                try {\n                  resolve(promise2, handler(p1result), fulfill, reject);\n                } catch (err) {\n                  reject(err);\n                }\n              });\n            } else {\n              handlers.push(forward);\n            }\n          };\n\n          processResolutionHandler(onFulfilled, fulfilledHandlers, fulfill);\n          processResolutionHandler(onRejected, rejectedHandlers, reject);\n\n          if (state !== PENDING) {\n            wait(dispatchHandlers);\n          }\n        });\n        return promise2;\n      },\n      catch(onRejected) {\n        return this.then(null, onRejected);\n      },\n      finally(callback) {\n        return this.then(\n          v => {\n            callback();\n            return v;\n          },\n          e => {\n            callback();\n            throw e;\n          }\n        );\n      }\n    };\n  });\n\n  Promise.all = function (promises) {\n    return new Promise((fulfill, reject) => {\n      const result = [];\n      let pending;\n      let i;\n\n      if (!promises.length) {\n        fulfill(result);\n        return;\n      }\n\n      const processPromise = (promise, i) => {\n        if (promise && isFunction(promise.then)) {\n          promise.then(value => {\n            result[i] = value;\n            --pending || fulfill(result);\n          }, reject);\n        } else {\n          result[i] = promise;\n          --pending || fulfill(result);\n        }\n      };\n\n      pending = i = promises.length;\n\n      while (i--) {\n        processPromise(promises[i], i);\n      }\n    });\n  };\n\n  Promise.race = function (promises) {\n    return new Promise((fulfill, reject) => {\n      let pending = true;\n      function ok(v) {\n        if (!pending) return;\n        pending = false;\n        fulfill(v);\n      }\n      function fail(e) {\n        if (!pending) return;\n        pending = false;\n        reject(e);\n      }\n      for (let i = 0; i < promises.length; i++) {\n        if (promises[i] && isFunction(promises[i].then)) {\n          promises[i].then(ok, fail);\n        }\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && isFunction(value.then)) return value;\n    return new Promise(fulfill => {\n      fulfill(value);\n    });\n  };\n\n  Promise.reject = function (reason) {\n    if (reason && isFunction(reason.then)) return reason;\n    return new Promise((fulfill, reject) => {\n      reject(reason);\n    });\n  };\n\n  // TODO use MutationObservers or something to simulate setImmediate\n  const wait = function (callback) {\n    setTimeout(callback, 0);\n  };\n\n  const makeDispatcher = function (handlers, result) {\n    return function () {\n      for (let handler; (handler = handlers.shift()); ) {\n        handler(result);\n      }\n    };\n  };\n\n  const resolve = function (promise, x, fulfil, reject) {\n    let then;\n    if (x === promise) {\n      throw new TypeError(`A promise's fulfillment handler cannot return the same promise`);\n    }\n    if (x instanceof Promise) {\n      x.then(fulfil, reject);\n    } else if (x && (isObjectType(x) || isFunction(x))) {\n      try {\n        then = x.then;\n      } catch (e) {\n        reject(e);\n        return;\n      }\n      if (isFunction(then)) {\n        let called;\n\n        const resolvePromise = function (y) {\n          if (called) return;\n          called = true;\n          resolve(promise, y, fulfil, reject);\n        };\n        const rejectPromise = function (r) {\n          if (called) return;\n          called = true;\n          reject(r);\n        };\n\n        try {\n          then.call(x, resolvePromise, rejectPromise);\n        } catch (e) {\n          if (!called) {\n            reject(e);\n            called = true;\n            return;\n          }\n        }\n      } else {\n        fulfil(x);\n      }\n    } else {\n      fulfil(x);\n    }\n  };\n}\n","/* istanbul ignore if */\nif (\n  typeof window !== 'undefined' &&\n  !(window.requestAnimationFrame && window.cancelAnimationFrame)\n) {\n  let lastTime = 0;\n  window.requestAnimationFrame = function (callback) {\n    const currentTime = Date.now();\n    const timeToNextCall = Math.max(0, 16 - (currentTime - lastTime));\n    const id = window.setTimeout(() => {\n      callback(currentTime + timeToNextCall);\n    }, timeToNextCall);\n    lastTime = currentTime + timeToNextCall;\n    return id;\n  };\n  window.cancelAnimationFrame = function (id) {\n    clearTimeout(id);\n  };\n}\n"],"names":["Object","assign","target","TypeError","const","to","sourcesLength","sources","length","index","nextSource","nextKey","prototype","hasOwnProperty","call","Array","find","defineProperty","value","callback","thisArg","this","isUndefined","isFunction","array","arrayLength","hasOwn","configurable","writable","window","Node","contains","node","parentNode","performance","now","nowOffset","Date","base","Promise","PENDING","FULFILLED","REJECTED","dispatchHandlers","fulfilledHandlers","rejectedHandlers","state","makeResolver","newState","makeDispatcher","wait","fulfill","reject","err","then","onFulfilled","onRejected","promise2","processResolutionHandler","handler","handlers","forward","push","p1result","resolve","catch","finally","v","e","all","promises","pending","i","result","processPromise","promise","race","let","ok","fail","reason","setTimeout","shift","x","fulfil","isObjectType","called","y","r","requestAnimationFrame","cancelAnimationFrame","lastTime","currentTime","timeToNextCall","Math","max","id","clearTimeout"],"mappings":"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"}