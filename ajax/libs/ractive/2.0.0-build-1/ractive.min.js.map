{"version":3,"file":"ractive.min.js","sources":["../src/polyfills/Object.assign.js","../src/polyfills/performance.now.js","../src/polyfills/array.find.js","../src/polyfills/node.contains.js","../src/polyfills/Promise.js","../src/polyfills/requestAnimationFrame.js"],"sourcesContent":["/* istanbul ignore if */\nif (!Object.assign) {\n  Object.assign = function (target, ...sources) {\n    if (target == null) throw new TypeError('Cannot convert undefined or null to object');\n\n    const to = Object(target);\n    const sourcesLength = sources.length;\n\n    for (let index = 0; index < sourcesLength; index++) {\n      const nextSource = sources[index];\n      for (const nextKey in nextSource) {\n        if (!Object.prototype.hasOwnProperty.call(nextSource, nextKey)) continue;\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n\n    return to;\n  };\n}\n","/* istanbul ignore if */\nif (typeof window !== 'undefined' && window.performance && !window.performance.now) {\n  window.performance = window.performance || {};\n\n  const nowOffset = Date.now();\n\n  window.performance.now = function () {\n    return Date.now() - nowOffset;\n  };\n}\n","import { isFunction, isUndefined } from 'utils/is';\nimport { hasOwn, defineProperty } from 'utils/object';\n\n/* istanbul ignore if */\nif (!Array.prototype.find) {\n  defineProperty(Array.prototype, 'find', {\n    value(callback, thisArg) {\n      if (this === null || isUndefined(this))\n        throw new TypeError('Array.prototype.find called on null or undefined');\n\n      if (!isFunction(callback)) throw new TypeError(`${callback} is not a function`);\n\n      const array = Object(this);\n      const arrayLength = array.length >>> 0;\n\n      for (let index = 0; index < arrayLength; index++) {\n        if (!hasOwn(array, index)) continue;\n        if (!callback.call(thisArg, array[index], index, array)) continue;\n        return array[index];\n      }\n\n      return undefined;\n    },\n    configurable: true,\n    writable: true\n  });\n}\n","// NOTE: Node doesn't exist in IE8. Nothing can be done.\n/* istanbul ignore if */\nif (\n  typeof window !== 'undefined' &&\n  window.Node &&\n  window.Node.prototype &&\n  !window.Node.prototype.contains\n) {\n  Node.prototype.contains = function (node) {\n    if (!node) throw new TypeError('node required');\n\n    do {\n      if (this === node) return true;\n    } while ((node = node && node.parentNode));\n\n    return false;\n  };\n}\n","import { base } from 'config/environment';\nimport { isFunction, isObjectType } from 'utils/is';\n\n/* istanbul ignore if */\nif (!base.Promise) {\n  const PENDING = {};\n  const FULFILLED = {};\n  const REJECTED = {};\n\n  const Promise = (base.Promise = function (callback) {\n    const fulfilledHandlers = [];\n    const rejectedHandlers = [];\n    let state = PENDING;\n    let result;\n    let dispatchHandlers;\n\n    const makeResolver = newState => {\n      return function (value) {\n        if (state !== PENDING) return;\n        result = value;\n        state = newState;\n        dispatchHandlers = makeDispatcher(\n          state === FULFILLED ? fulfilledHandlers : rejectedHandlers,\n          result\n        );\n        wait(dispatchHandlers);\n      };\n    };\n\n    const fulfill = makeResolver(FULFILLED);\n    const reject = makeResolver(REJECTED);\n\n    try {\n      callback(fulfill, reject);\n    } catch (err) {\n      reject(err);\n    }\n\n    return {\n      // `then()` returns a Promise - 2.2.7\n      then(onFulfilled, onRejected) {\n        const promise2 = new Promise((fulfill, reject) => {\n          const processResolutionHandler = (handler, handlers, forward) => {\n            if (isFunction(handler)) {\n              handlers.push(p1result => {\n                try {\n                  resolve(promise2, handler(p1result), fulfill, reject);\n                } catch (err) {\n                  reject(err);\n                }\n              });\n            } else {\n              handlers.push(forward);\n            }\n          };\n\n          processResolutionHandler(onFulfilled, fulfilledHandlers, fulfill);\n          processResolutionHandler(onRejected, rejectedHandlers, reject);\n\n          if (state !== PENDING) {\n            wait(dispatchHandlers);\n          }\n        });\n        return promise2;\n      },\n      catch(onRejected) {\n        return this.then(null, onRejected);\n      },\n      finally(callback) {\n        return this.then(\n          v => {\n            callback();\n            return v;\n          },\n          e => {\n            callback();\n            throw e;\n          }\n        );\n      }\n    };\n  });\n\n  Promise.all = function (promises) {\n    return new Promise((fulfill, reject) => {\n      const result = [];\n      let pending;\n      let i;\n\n      if (!promises.length) {\n        fulfill(result);\n        return;\n      }\n\n      const processPromise = (promise, i) => {\n        if (promise && isFunction(promise.then)) {\n          promise.then(value => {\n            result[i] = value;\n            --pending || fulfill(result);\n          }, reject);\n        } else {\n          result[i] = promise;\n          --pending || fulfill(result);\n        }\n      };\n\n      pending = i = promises.length;\n\n      while (i--) {\n        processPromise(promises[i], i);\n      }\n    });\n  };\n\n  Promise.race = function (promises) {\n    return new Promise((fulfill, reject) => {\n      let pending = true;\n      function ok(v) {\n        if (!pending) return;\n        pending = false;\n        fulfill(v);\n      }\n      function fail(e) {\n        if (!pending) return;\n        pending = false;\n        reject(e);\n      }\n      for (let i = 0; i < promises.length; i++) {\n        if (promises[i] && isFunction(promises[i].then)) {\n          promises[i].then(ok, fail);\n        }\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && isFunction(value.then)) return value;\n    return new Promise(fulfill => {\n      fulfill(value);\n    });\n  };\n\n  Promise.reject = function (reason) {\n    if (reason && isFunction(reason.then)) return reason;\n    return new Promise((fulfill, reject) => {\n      reject(reason);\n    });\n  };\n\n  // TODO use MutationObservers or something to simulate setImmediate\n  const wait = function (callback) {\n    setTimeout(callback, 0);\n  };\n\n  const makeDispatcher = function (handlers, result) {\n    return function () {\n      for (let handler; (handler = handlers.shift()); ) {\n        handler(result);\n      }\n    };\n  };\n\n  const resolve = function (promise, x, fulfil, reject) {\n    let then;\n    if (x === promise) {\n      throw new TypeError(`A promise's fulfillment handler cannot return the same promise`);\n    }\n    if (x instanceof Promise) {\n      x.then(fulfil, reject);\n    } else if (x && (isObjectType(x) || isFunction(x))) {\n      try {\n        then = x.then;\n      } catch (e) {\n        reject(e);\n        return;\n      }\n      if (isFunction(then)) {\n        let called;\n\n        const resolvePromise = function (y) {\n          if (called) return;\n          called = true;\n          resolve(promise, y, fulfil, reject);\n        };\n        const rejectPromise = function (r) {\n          if (called) return;\n          called = true;\n          reject(r);\n        };\n\n        try {\n          then.call(x, resolvePromise, rejectPromise);\n        } catch (e) {\n          if (!called) {\n            reject(e);\n            called = true;\n            return;\n          }\n        }\n      } else {\n        fulfil(x);\n      }\n    } else {\n      fulfil(x);\n    }\n  };\n}\n","/* istanbul ignore if */\nif (\n  typeof window !== 'undefined' &&\n  !(window.requestAnimationFrame && window.cancelAnimationFrame)\n) {\n  let lastTime = 0;\n  window.requestAnimationFrame = function (callback) {\n    const currentTime = Date.now();\n    const timeToNextCall = Math.max(0, 16 - (currentTime - lastTime));\n    const id = window.setTimeout(() => {\n      callback(currentTime + timeToNextCall);\n    }, timeToNextCall);\n    lastTime = currentTime + timeToNextCall;\n    return id;\n  };\n  window.cancelAnimationFrame = function (id) {\n    clearTimeout(id);\n  };\n}\n"],"names":["Object","assign","target","TypeError","let","to","sourcesLength","sources","length","index","const","nextSource","nextKey","prototype","hasOwnProperty","call","Array","find","defineProperty","value","callback","thisArg","this","isUndefined","isFunction","array","arrayLength","hasOwn","undefined","configurable","writable","window","Node","contains","node","parentNode","performance","now","nowOffset","Date","base","Promise","PENDING","FULFILLED","REJECTED","result","dispatchHandlers","fulfilledHandlers","rejectedHandlers","state","makeResolver","newState","makeDispatcher","wait","fulfill","reject","err","then","onFulfilled","onRejected","promise2","processResolutionHandler","handler","handlers","forward","push","p1result","resolve","catch","finally","v","e","all","promises","pending","i","processPromise","promise","race","ok","fail","reason","setTimeout","shift","x","fulfil","isObjectType","called","resolvePromise","y","rejectPromise","r","requestAnimationFrame","cancelAnimationFrame","lastTime","currentTime","timeToNextCall","Math","max","id","clearTimeout"],"mappings":"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"}