var oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(e,t){var i,s,r=e.document,n=(e.location,e.navigator),o=e.JQXLite,a=e.$,l=Array.prototype.push,d=Array.prototype.slice,h=Array.prototype.indexOf,c=Object.prototype.toString,u=Object.prototype.hasOwnProperty,p=String.prototype.trim,m=function(e,t){return new m.fn.init(e,t,i)},f=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,v=/\s+/,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,b=/^[\],:{}\s]*$/,_=/(?:^|:|,)(?:\s*\[)+/g,j=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,q=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,T=/^-ms-/,C=/-([\da-z])/gi,S=function(e,t){return(t+"").toUpperCase()},k=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",k,!1),m.ready()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",k),m.ready())},I={};m.fn=m.prototype={constructor:m,init:function(e,i,s){var n,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:w.exec(e))||!n[1]&&i)return!i||i.jqx?(i||s).find(e):this.constructor(i).find(e);if(n[1])return a=(i=i instanceof m?i[0]:i)&&i.nodeType?i.ownerDocument||i:r,e=m.parseHTML(n[1],a,!0),y.test(n[1])&&m.isPlainObject(i)&&this.attr.call(e,i,!0),m.merge(this,e);if((o=r.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return s.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return m.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=m.merge(this.constructor(),e);return s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return m.each(this,e,t)},ready:function(e){return m.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(d.apply(this,arguments),"slice",d.call(arguments).join(","))},map:function(e){return this.pushStack(m.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:[].sort,splice:[].splice},m.fn.init.prototype=m.fn,m.extend=m.fn.extend=function(){var e,i,s,r,n,o,a=arguments[0]||{},l=1,d=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[1]||{},l=2),"object"==typeof a||m.isFunction(a)||(a={}),d===l&&(a=this,--l);l<d;l++)if(null!=(e=arguments[l]))for(i in e)s=a[i],a!==(r=e[i])&&(h&&r&&(m.isPlainObject(r)||(n=m.isArray(r)))?(n?(n=!1,o=s&&m.isArray(s)?s:[]):o=s&&m.isPlainObject(s)?s:{},a[i]=m.extend(h,o,r)):r!==t&&(a[i]=r));return a},m.extend({noConflict:function(t){return e.$===m&&(e.$=a),t&&e.JQXLite===m&&(e.JQXLite=o),m},isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){if(!0===e?!--m.readyWait:!m.isReady){if(!r.body)return setTimeout(m.ready,1);m.isReady=!0,!0!==e&&--m.readyWait>0||(s.resolveWith(r,[m]),m.fn.trigger&&m(r).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray||function(e){return"array"===m.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):I[c.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==m.type(e)||e.nodeType||m.isWindow(e))return!1;try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||u.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||r,(s=y.exec(e))?[t.createElement(s[1])]:(s=m.buildFragment([e],t,i?null:[]),m.merge([],(s.cacheable?m.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=m.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):b.test(t.replace(j,"@").replace(q,"]").replace(_,""))?new Function("return "+t)():void m.error("Invalid JSON: "+t)):null},parseXML:function(i){var s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?s=(new DOMParser).parseFromString(i,"text/xml"):((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(i))}catch(e){s=t}return s&&s.documentElement&&!s.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+i),s},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(T,"ms-").replace(C,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,s){var r,n=0,o=e.length,a=o===t||m.isFunction(e);if(s)if(a){for(r in e)if(!1===i.apply(e[r],s))break}else for(;n<o&&!1!==i.apply(e[n++],s););else if(a){for(r in e)if(!1===i.call(e[r],r,e[r]))break}else for(;n<o&&!1!==i.call(e[n],n,e[n++]););return e},trim:p&&!p.call("\ufeffÂ ")?function(e){return null==e?"":p.call(e)}:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var i,s=t||[];return null!=e&&(i=m.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||m.isWindow(e)?l.call(s,e):m.merge(s,e)),s},inArray:function(e,t,i){var s;if(t){if(h)return h.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var s=i.length,r=e.length,n=0;if("number"==typeof s)for(;n<s;n++)e[r++]=i[n];else for(;i[n]!==t;)e[r++]=i[n++];return e.length=r,e},grep:function(e,t,i){var s=[],r=0,n=e.length;for(i=!!i;r<n;r++)i!==!!t(e[r],r)&&s.push(e[r]);return s},map:function(e,i,s){var r,n,o=[],a=0,l=e.length;if(e instanceof m||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||m.isArray(e)))for(;a<l;a++)null!=(r=i(e[a],a,s))&&(o[o.length]=r);else for(n in e)null!=(r=i(e[n],n,s))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,i){var s,r,n;return"string"==typeof i&&(s=e[i],i=e,e=s),m.isFunction(e)?(r=d.call(arguments,2),(n=function(){return e.apply(i,r.concat(d.call(arguments)))}).guid=e.guid=e.guid||m.guid++,n):t},access:function(e,i,s,r,n,o,a){var l,d=null==s,h=0,c=e.length;if(s&&"object"==typeof s){for(h in s)m.access(e,i,h,s[h],1,o,r);n=1}else if(r!==t){if(l=a===t&&m.isFunction(r),d&&(l?(l=i,i=function(e,t,i){return l.call(m(e),i)}):(i.call(e,r),i=null)),i)for(;h<c;h++)i(e[h],s,l?r.call(e[h],h,i(e[h],s)):r,a);n=1}return n?e:d?i.call(e):c?i(e[0],s):o},now:function(){return(new Date).getTime()}}),m.ready.promise=function(t){if(!s)if(s=m.Deferred(),"complete"===r.readyState)setTimeout(m.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",m.ready,!1);else{r.attachEvent("onreadystatechange",k),e.attachEvent("onload",m.ready);var i=!1;try{i=null==e.frameElement&&r.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!m.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}m.ready()}}()}return s.promise(t)},m.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){I["[object "+t+"]"]=t.toLowerCase()}),i=m(r);var D={};m.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return m.each(e.split(v),function(e,i){t[i]=!0}),t}(e):m.extend({},e);var i,s,r,n,o,a,l=[],d=!e.once&&[],h=function(t){for(i=e.memory&&t,s=!0,a=n||0,n=0,o=l.length,r=!0;l&&a<o;a++)if(!1===l[a].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}r=!1,l&&(d?d.length&&h(d.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var t=l.length;!function t(i){m.each(i,function(i,s){var r=m.type(s);"function"===r?e.unique&&c.has(s)||l.push(s):s&&s.length&&"string"!==r&&t(s)})}(arguments),r?o=l.length:i&&(n=t,h(i))}return this},remove:function(){return l&&m.each(arguments,function(e,t){for(var i;(i=m.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=o&&o--,i<=a&&a--)}),this},has:function(e){return m.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=d=i=t,this},disabled:function(){return!l},lock:function(){return d=t,i||c.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||s&&!d||(r?d.push(t):h(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred(function(i){m.each(t,function(t,s){var n=s[0],o=e[t];r[s[1]](m.isFunction(o)?function(){var e=o.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n+"With"](this===r?i:this,[e])}:i[n])}),e=null}).promise()},promise:function(e){return null!=e?m.extend(e,s):s}},r={};return s.pipe=s.then,m.each(t,function(e,n){var o=n[2],a=n[3];s[n[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[n[0]]=o.fire,r[n[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=d.call(arguments),o=n.length,a=1!==o||e&&m.isFunction(e.promise)?o:0,l=1===a?e:m.Deferred(),h=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?d.call(arguments):r,s===t?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(o>1)for(t=new Array(o),i=new Array(o),s=new Array(o);r<o;r++)n[r]&&m.isFunction(n[r].promise)?n[r].promise().done(h(r,s,n)).fail(l.reject).progress(h(r,i,t)):--a;return a||l.resolveWith(s,n),l.promise()}}),m.support=function(){var t,i,s,n,o,a,l,d,h,c,u,p=r.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0],!i||!s||!i.length)return{};o=(n=r.createElement("select")).appendChild(r.createElement("option")),a=p.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",u=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",u)),(a=r.createElement("input")).value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),(l=r.createDocumentFragment()).appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(p),p.attachEvent)for(h in{submit:!0,change:!0,focusin:!0})(c=(d="on"+h)in p)||(p.setAttribute(d,"return;"),c="function"==typeof p[d]),t[h+"Bubbles"]=c;return m(function(){var i,s,n,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=r.getElementsByTagName("body")[0];l&&((i=r.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(i,l.firstChild),s=r.createElement("div"),i.appendChild(s),s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=s.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",t.reliableHiddenOffsets=c&&0===n[0].offsetHeight,s.innerHTML="",s.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===s.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,(o=r.createElement("div")).style.cssText=s.style.cssText=a,o.style.marginRight=o.style.width="0",s.style.width="1px",s.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),void 0!==s.style.zoom&&(s.innerHTML="",s.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===s.offsetWidth,s.style.display="block",s.style.overflow="visible",s.innerHTML="<div></div>",s.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==s.offsetWidth,i.style.zoom=1),l.removeChild(i),i=s=n=o=null)}),l.removeChild(p),i=s=n=o=a=l=p=null,t}();var P=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,A=/([A-Z])/g;function M(e,i,s){if(s===t&&1===e.nodeType){var r="data-"+i.replace(A,"-$1").toLowerCase();if("string"==typeof(s=e.getAttribute(r))){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:P.test(s)?m.parseJSON(s):s)}catch(e){}m.data(e,i,s)}else s=t}return s}function H(e){var t;for(t in e)if(("data"!==t||!m.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}m.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(m.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?m.cache[e[m.expando]]:e[m.expando])&&!H(e)},data:function(e,i,s,r){if(m.acceptData(e)){var n,o,a=m.expando,l="string"==typeof i,d=e.nodeType,h=d?m.cache:e,c=d?e[a]:e[a]&&a;if(c&&h[c]&&(r||h[c].data)||!l||s!==t)return c||(d?e[a]=c=m.deletedIds.pop()||m.guid++:c=a),h[c]||(h[c]={},d||(h[c].toJSON=m.noop)),"object"!=typeof i&&"function"!=typeof i||(r?h[c]=m.extend(h[c],i):h[c].data=m.extend(h[c].data,i)),n=h[c],r||(n.data||(n.data={}),n=n.data),s!==t&&(n[m.camelCase(i)]=s),l?null==(o=n[i])&&(o=n[m.camelCase(i)]):o=n,o}},removeData:function(e,t,i){if(m.acceptData(e)){var s,r,n,o=e.nodeType,a=o?m.cache:e,l=o?e[m.expando]:m.expando;if(a[l]){if(t&&(s=i?a[l]:a[l].data)){m.isArray(t)||(t=t in s?[t]:(t=m.camelCase(t))in s?[t]:t.split(" "));for(r=0,n=t.length;r<n;r++)delete s[t[r]];if(!(i?H:m.isEmptyObject)(s))return}(i||(delete a[l].data,H(a[l])))&&(o?m.cleanData([e],!0):m.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return m.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&m.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),m.fn.extend({data:function(e,i){var s,r,n,o,a,l=this[0],d=0,h=null;if(e===t){if(this.length&&(h=m.data(l),1===l.nodeType&&!m._data(l,"parsedAttrs"))){for(a=(n=l.attributes).length;d<a;d++)(o=n[d].name).indexOf("data-")||(o=m.camelCase(o.substring(5)),M(l,o,h[o]));m._data(l,"parsedAttrs",!0)}return h}return"object"==typeof e?this.each(function(){m.data(this,e)}):((s=e.split(".",2))[1]=s[1]?"."+s[1]:"",r=s[1]+"!",m.access(this,function(i){if(i===t)return(h=this.triggerHandler("getData"+r,[s[0]]))===t&&l&&(h=m.data(l,e),h=M(l,e,h)),h===t&&s[1]?this.data(s[0]):h;s[1]=i,this.each(function(){var t=m(this);t.triggerHandler("setData"+r,s),m.data(this,e,i),t.triggerHandler("changeData"+r,s)})},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){m.removeData(this,e)})}}),m.extend({queue:function(e,t,i){var s;if(e)return t=(t||"fx")+"queue",s=m._data(e,t),i&&(!s||m.isArray(i)?s=m._data(e,t,m.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=m.queue(e,t),s=i.length,r=i.shift(),n=m._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,function(){m.dequeue(e,t)},n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return m._data(e,i)||m._data(e,i,{empty:m.Callbacks("once memory").add(function(){m.removeData(e,t+"queue",!0),m.removeData(e,i,!0)})})}}),m.fn.extend({queue:function(e,i){var s=2;return"string"!=typeof e&&(i=e,e="fx",s--),arguments.length<s?m.queue(this[0],e):i===t?this:this.each(function(){var t=m.queue(this,e,i);m._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},delay:function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var s,r=1,n=m.Deferred(),o=this,a=this.length,l=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)(s=m._data(o[a],e+"queueHooks"))&&s.empty&&(r++,s.empty.add(l));return l(),n.promise(i)}});var B,z,E=/[\t\r\n]/g,L=/\r/g,N=/^(?:button|input)$/i,O=/^(?:button|input|object|select|textarea)$/i,R=/^a(?:rea|)$/i,F=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,W=m.support.getSetAttribute;m.fn.extend({attr:function(e,t){return m.access(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})},prop:function(e,t){return m.access(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return e=m.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,s,r,n,o,a;if(m.isFunction(e))return this.each(function(t){m(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(v),i=0,s=this.length;i<s;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==t.length){for(n=" "+r.className+" ",o=0,a=t.length;o<a;o++)n.indexOf(" "+t[o]+" ")<0&&(n+=t[o]+" ");r.className=m.trim(n)}else r.className=e;return this},removeClass:function(e){var i,s,r,n,o,a,l;if(m.isFunction(e))return this.each(function(t){m(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(v),a=0,l=this.length;a<l;a++)if(1===(r=this[a]).nodeType&&r.className){for(s=(" "+r.className+" ").replace(E," "),n=0,o=i.length;n<o;n++)for(;s.indexOf(" "+i[n]+" ")>=0;)s=s.replace(" "+i[n]+" "," ");r.className=e?m.trim(s):""}return this},toggleClass:function(e,t){var i=typeof e,s="boolean"==typeof t;return m.isFunction(e)?this.each(function(i){m(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,n=0,o=m(this),a=t,l=e.split(v);r=l[n++];)o[(a=s?a:!o.hasClass(r))?"addClass":"removeClass"](r);else"undefined"!==i&&"boolean"!==i||(this.className&&m._data(this,"__className__",this.className),this.className=this.className||!1===e?"":m._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(E," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,s,r,n=this[0];return arguments.length?(r=m.isFunction(e),this.each(function(s){var n,o=m(this);1===this.nodeType&&(null==(n=r?e.call(this,s,o.val()):e)?n="":"number"==typeof n?n+="":m.isArray(n)&&(n=m.map(n,function(e){return null==e?"":e+""})),(i=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))})):n?(i=m.valHooks[n.type]||m.valHooks[n.nodeName.toLowerCase()])&&"get"in i&&(s=i.get(n,"value"))!==t?s:"string"==typeof(s=n.value)?s.replace(L,""):null==s?"":s:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||r<0,o=n?null:[],a=n?r+1:s.length,l=r<0?a:n?r:0;l<a;l++)if(((i=s[l]).selected||l===r)&&(m.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!m.nodeName(i.parentNode,"optgroup"))){if(t=m(i).val(),n)return t;o.push(t)}return o},set:function(e,t){var i=m.makeArray(t);return m(e).find("option").each(function(){this.selected=m.inArray(m(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,s,r){var n,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&m.isFunction(m.fn[i])?m(e)[i](s):void 0===e.getAttribute?m.prop(e,i,s):((a=1!==l||!m.isXMLDoc(e))&&(i=i.toLowerCase(),o=m.attrHooks[i]||(F.test(i)?z:B)),s!==t?null===s?void m.removeAttr(e,i):o&&"set"in o&&a&&(n=o.set(e,s,i))!==t?n:(e.setAttribute(i,s+""),s):o&&"get"in o&&a&&null!==(n=o.get(e,i))?n:null===(n=e.getAttribute(i))?t:n)},removeAttr:function(e,t){var i,s,r,n,o=0;if(t&&1===e.nodeType)for(s=t.split(v);o<s.length;o++)(r=s[o])&&(i=m.propFix[r]||r,(n=F.test(r))||m.attr(e,r,""),e.removeAttribute(W?r:i),n&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(N.test(e.nodeName)&&e.parentNode)m.error("type property can't be changed");else if(!m.support.radioValue&&"radio"===t&&m.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,s){var r,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!m.isXMLDoc(e))&&(i=m.propFix[i]||i,n=m.propHooks[i]),s!==t?n&&"set"in n&&(r=n.set(e,s,i))!==t?r:e[i]=s:n&&"get"in n&&null!==(r=n.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):O.test(e.nodeName)||R.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,i){var s,r=m.prop(e,i);return!0===r||"boolean"!=typeof r&&(s=e.getAttributeNode(i))&&!1!==s.nodeValue?i.toLowerCase():t},set:function(e,t,i){var s;return!1===t?m.removeAttr(e,i):((s=m.propFix[i]||i)in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},m.support.enctype||(m.propFix.enctype="encoding");var V=/^([^\.]*|)(?:\.(.+)|)$/,G=/(?:^|\s)hover(\.\S+|)\b/,U=/^key/,Y=/^(?:mouse|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,X=function(e){return m.event.special.hover?e:e.replace(G,"mouseenter$1 mouseleave$1")};function Z(){return!1}function $(){return!0}m.event={add:function(e,i,s,r,n){var o,a,l,d,h,c,u,p,f,g,v;if(3!==e.nodeType&&8!==e.nodeType&&i&&s&&(o=m._data(e))){for(s.handler&&(s=(f=s).handler,n=f.selector),s.guid||(s.guid=m.guid++),(l=o.events)||(o.events=l={}),(a=o.handle)||(o.handle=a=function(e){return void 0===m||e&&m.event.triggered===e.type?t:m.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=m.trim(X(i)).split(" "),d=0;d<i.length;d++)c=(h=V.exec(i[d])||[])[1],u=(h[2]||"").split(".").sort(),v=m.event.special[c]||{},c=(n?v.delegateType:v.bindType)||c,v=m.event.special[c]||{},p=m.extend({type:c,origType:h[1],data:r,handler:s,guid:s.guid,selector:n,needsContext:n&&m.expr.match.needsContext.test(n),namespace:u.join(".")},f),(g=l[c])||((g=l[c]=[]).delegateCount=0,v.setup&&!1!==v.setup.call(e,r,u,a)||(e.addEventListener?r&&r.passive!==t?e.addEventListener(c,a,r):e.addEventListener(c,a,!1):e.attachEvent&&e.attachEvent("on"+c,a))),v.add&&(v.add.call(e,p),p.handler.guid||(p.handler.guid=s.guid)),n?g.splice(g.delegateCount++,0,p):g.push(p),m.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,f,g,v=m.hasData(e)&&m._data(e);if(v&&(u=v.events)){for(t=m.trim(X(t||"")).split(" "),n=0;n<t.length;n++)if(a=l=(o=V.exec(t[n])||[])[1],d=o[2],a){for(p=m.event.special[a]||{},h=(f=u[a=(s?p.delegateType:p.bindType)||a]||[]).length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<f.length;c++)g=f[c],!r&&l!==g.origType||i&&i.guid!==g.guid||d&&!d.test(g.namespace)||s&&s!==g.selector&&("**"!==s||!g.selector)||(f.splice(c--,1),g.selector&&f.delegateCount--,p.remove&&p.remove.call(e,g));0===f.length&&h!==f.length&&(p.teardown&&!1!==p.teardown.call(e,d,v.handle)||m.removeEvent(e,a,v.handle),delete u[a])}else for(a in u)m.event.remove(e,a+t[n],i,s,!0);m.isEmptyObject(u)&&(delete v.handle,m.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,s,n,o){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,l,d,h,c,u,p,f,g,v,x=i.type||i,w=[];if(!K.test(x+m.event.triggered)&&(x.indexOf("!")>=0&&(x=x.slice(0,-1),l=!0),x.indexOf(".")>=0&&(x=(w=x.split(".")).shift(),w.sort()),n&&!m.event.customEvent[x]||m.event.global[x]))if((i="object"==typeof i?i[m.expando]?i:new m.Event(x,i):new m.Event(x)).type=x,i.isTrigger=!0,i.exclusive=l,i.namespace=w.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=x.indexOf(":")<0?"on"+x:"",n){if(i.result=t,i.target||(i.target=n),(s=null!=s?m.makeArray(s):[]).unshift(i),!(p=m.event.special[x]||{}).trigger||!1!==p.trigger.apply(n,s)){if(g=[[n,p.bindType||x]],!o&&!p.noBubble&&!m.isWindow(n)){for(v=p.delegateType||x,h=K.test(v+x)?n:n.parentNode,c=n;h;h=h.parentNode)g.push([h,v]),c=h;c===(n.ownerDocument||r)&&g.push([c.defaultView||c.parentWindow||e,v])}for(d=0;d<g.length&&!i.isPropagationStopped();d++)h=g[d][0],i.type=g[d][1],(f=(m._data(h,"events")||{})[i.type]&&m._data(h,"handle"))&&f.apply(h,s),(f=u&&h[u])&&m.acceptData(h)&&f.apply&&!1===f.apply(h,s)&&i.preventDefault();return i.type=x,o||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(n.ownerDocument,s)||"click"===x&&m.nodeName(n,"a")||!m.acceptData(n)||u&&n[x]&&("focus"!==x&&"blur"!==x||0!==i.target.offsetWidth)&&!m.isWindow(n)&&((c=n[u])&&(n[u]=null),m.event.triggered=x,n[x](),m.event.triggered=t,c&&(n[u]=c)),i.result}}else for(d in a=m.cache)a[d].events&&a[d].events[x]&&m.event.trigger(i,s,a[d].handle.elem,!0)}},dispatch:function(i){i=m.event.fix(i||e.event);var s,r,n,o,a,l,h,c,u,p=(m._data(this,"events")||{})[i.type]||[],f=p.delegateCount,g=d.call(arguments),v=!i.exclusive&&!i.namespace,x=m.event.special[i.type]||{},w=[];if(g[0]=i,i.delegateTarget=this,!x.preDispatch||!1!==x.preDispatch.call(this,i)){if(f&&(!i.button||"click"!==i.type))for(n=i.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==i.type){for(a={},h=[],s=0;s<f;s++)a[u=(c=p[s]).selector]===t&&(a[u]=c.needsContext?m(u,this).index(n)>=0:m.find(u,this,null,[n]).length),a[u]&&h.push(c);h.length&&w.push({elem:n,matches:h})}for(p.length>f&&w.push({elem:this,matches:p.slice(f)}),s=0;s<w.length&&!i.isPropagationStopped();s++)for(l=w[s],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(v||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(o=((m.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,g))!==t&&(i.result=o,!1===o&&(i.preventDefault(),i.stopPropagation())));return x.postDispatch&&x.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var s,n,o,a=i.button,l=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=(s=e.target.ownerDocument||r).documentElement,o=s.body,e.pageX=i.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?i.toElement:l),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,i,s=e,n=m.event.fixHooks[e.type]||{},o=n.props?this.props.concat(n.props):this.props;for(e=m.Event(s),t=o.length;t;)e[i=o[--t]]=s[i];return e.target||(e.target=s.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,n.filter?n.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){m.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){var r=m.extend(new m.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?m.event.trigger(r,null,t):m.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},m.event.handle=m.event.dispatch,m.removeEvent=r.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var s="on"+t;e.detachEvent&&(void 0===e[s]&&(e[s]=null),e.detachEvent(s,i))},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?$:Z):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={preventDefault:function(){this.isDefaultPrevented=$;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=$;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$,this.stopPropagation()},isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z},m.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=e.relatedTarget,r=e.handleObj;r.selector;return s&&(s===this||m.contains(this,s))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),m.fn.extend({on:function(e,i,s,r,n){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(s=s||i,i=t),e)this.on(a,i,s,e[a],n);return this}if(null==s&&null==r?(r=i,s=i=t):null==r&&("string"==typeof i?(r=s,s=t):(r=s,s=i,i=t)),!1===r)r=Z;else if(!r)return this;return 1===n&&(o=r,(r=function(e){return m().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),this.each(function(){m.event.add(this,e,r,s,i)})},off:function(e,i,s){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,m(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return!1!==i&&"function"!=typeof i||(s=i,i=t),!1===s&&(s=Z),this.each(function(){m.event.remove(this,e,s,i)})},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return m.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||m.guid++,s=0,r=function(i){var r=(m._data(this,"lastToggle"+e.guid)||0)%s;return m._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;s<t.length;)t[s++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){m.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},U.test(t)&&(m.event.fixHooks[t]=m.event.keyHooks),Y.test(t)&&(m.event.fixHooks[t]=m.event.mouseHooks)}),function(e,t){var i,s,r,n,o,a,l,d,h,c,u,p,f,g,v,x,w,y,b="undefined",_=("sizcache"+Math.random()).replace(".",""),j=String,q=e.document,T=q.documentElement,C=0,S=0,k=[].pop,I=[].push,D=[].slice,P=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},A=function(e,t){return e[_]=null==t||t,e},M=function(){var e={},t=[];return A(function(i,s){return t.push(i)>r.cacheLength&&delete e[t.shift()],e[i+" "]=s},e)},H=M(),B=M(),z=M(),E="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",N=L.replace("w","w#"),O="\\["+E+"*("+L+")"+E+"*(?:([*^$|!~]?=)"+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+E+"*\\]",R=":("+L+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+O+")|[^:]|\\\\.)*|.*))\\)|)",F=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",W=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),V=new RegExp("^"+E+"*,"+E+"*"),G=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),U=new RegExp(R),Y=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,K=/[\x20\t\r\n\f]*[+~]/,X=/h\d/i,Z=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),NAME:new RegExp("^\\[name=['\"]?("+L+")['\"]?\\]"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+R),POS:new RegExp(F,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+F,"i")},Q=function(e){var t=q.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},ee=Q(function(e){return e.appendChild(q.createComment("")),!e.getElementsByTagName("*").length}),te=Q(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==b&&"#"===e.firstChild.getAttribute("href")}),ie=Q(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),se=Q(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),re=Q(function(e){e.id=_+0,e.innerHTML="<a name='"+_+"'></a><div name='"+_+"'></div>",T.insertBefore(e,T.firstChild);var t=q.getElementsByName&&q.getElementsByName(_).length===2+q.getElementsByName(_+0).length;return s=!q.getElementById(_),T.removeChild(e),t});try{D.call(T.childNodes,0)[0].nodeType}catch(e){D=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function ne(e,t,i,s){i=i||[];var r,n,l,d,h=(t=t||q).nodeType;if(!e||"string"!=typeof e)return i;if(1!==h&&9!==h)return[];if(!(l=o(t))&&!s&&(r=Y.exec(e)))if(d=r[1]){if(9===h){if(!(n=t.getElementById(d))||!n.parentNode)return i;if(n.id===d)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(d))&&a(t,n)&&n.id===d)return i.push(n),i}else{if(r[2])return I.apply(i,D.call(t.getElementsByTagName(e),0)),i;if((d=r[3])&&se&&t.getElementsByClassName)return I.apply(i,D.call(t.getElementsByClassName(d),0)),i}return ge(e.replace(W,"$1"),t,i,s,l)}function oe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ae(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function le(e){return A(function(t){return t=+t,A(function(i,s){for(var r,n=e([],i.length,t),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(s[r]=i[r]))})})}function de(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function he(e,t){var i,s,n,o,a,l,d,h=B[_][e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],d=r.preFilter;a;){for(o in i&&!(s=V.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(n=[])),i=!1,(s=G.exec(a))&&(n.push(i=new j(s.shift())),a=a.slice(i.length),i.type=s[0].replace(W," ")),r.filter)!(s=J[o].exec(a))||d[o]&&!(s=d[o](s))||(n.push(i=new j(s.shift())),a=a.slice(i.length),i.type=o,i.matches=s);if(!i)break}return t?a.length:a?ne.error(e):B(e,l).slice(0)}function ce(e,t,s){var r=t.dir,n=s&&"parentNode"===t.dir,o=S++;return t.first?function(t,i,s){for(;t=t[r];)if(n||1===t.nodeType)return e(t,i,s)}:function(t,s,a){if(a){for(;t=t[r];)if((n||1===t.nodeType)&&e(t,s,a))return t}else for(var l,d=C+" "+o+" ",h=d+i;t=t[r];)if(n||1===t.nodeType){if((l=t[_])===h)return t.sizset;if("string"==typeof l&&0===l.indexOf(d)){if(t.sizset)return t}else{if(t[_]=h,e(t,s,a))return t.sizset=!0,t;t.sizset=!1}}}}function ue(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function pe(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,d=null!=t;a<l;a++)(n=e[a])&&(i&&!i(n,s,r)||(o.push(n),d&&t.push(a)));return o}function me(e,t,i,s,r,n){return s&&!s[_]&&(s=me(s)),r&&!r[_]&&(r=me(r,n)),A(function(n,o,a,l){var d,h,c,u=[],p=[],m=o.length,f=n||function(e,t,i){for(var s=0,r=t.length;s<r;s++)ne(e,t[s],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!n&&t?f:pe(f,u,e,a,l),v=i?r||(n?e:m||s)?[]:o:g;if(i&&i(g,v,a,l),s)for(d=pe(v,p),s(d,[],a,l),h=d.length;h--;)(c=d[h])&&(v[p[h]]=!(g[p[h]]=c));if(n){if(r||e){if(r){for(d=[],h=v.length;h--;)(c=v[h])&&d.push(g[h]=c);r(null,v=[],d,l)}for(h=v.length;h--;)(c=v[h])&&(d=r?P.call(n,c):u[h])>-1&&(n[d]=!(o[d]=c))}}else v=pe(v===o?v.splice(m,v.length):v),r?r(null,o,v,l):I.apply(o,v)})}function fe(e){for(var t,i,s,n=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],l=o?1:0,d=ce(function(e){return e===t},a,!0),h=ce(function(e){return P.call(t,e)>-1},a,!0),u=[function(e,i,s){return!o&&(s||i!==c)||((t=i).nodeType?d(e,i,s):h(e,i,s))}];l<n;l++)if(i=r.relative[e[l].type])u=[ce(ue(u),i)];else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[_]){for(s=++l;s<n&&!r.relative[e[s].type];s++);return me(l>1&&ue(u),l>1&&e.slice(0,l-1).join("").replace(W,"$1"),i,l<s&&fe(e.slice(l,s)),s<n&&fe(e=e.slice(s)),s<n&&e.join(""))}u.push(i)}return ue(u)}function ge(e,t,i,s,n){var o,a,d,h,c,u=he(e);u.length;if(!s&&1===u.length){if((a=u[0]=u[0].slice(0)).length>2&&"ID"===(d=a[0]).type&&9===t.nodeType&&!n&&r.relative[a[1].type]){if(!(t=r.find.ID(d.matches[0].replace($,""),t,n)[0]))return i;e=e.slice(a.shift().length)}for(o=J.POS.test(e)?-1:a.length-1;o>=0&&(d=a[o],!r.relative[h=d.type]);o--)if((c=r.find[h])&&(s=c(d.matches[0].replace($,""),K.test(a[0].type)&&t.parentNode||t,n))){if(a.splice(o,1),!(e=s.length&&a.join("")))return I.apply(i,D.call(s,0)),i;break}}return l(e,u)(s,t,n,i,K.test(e)),i}function ve(){}ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){return ne(t,null,null,[e]).length>0},n=ne.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=n(t);return i},o=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},a=ne.contains=T.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!!(s&&1===s.nodeType&&i.contains&&i.contains(s))}:T.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},ne.attr=function(e,t){var i,s=o(e);return s||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(e):s||ie?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},r=ne.selectors={cacheLength:50,createPseudo:A,match:J,attrHandle:te?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:s?function(e,t,i){if(typeof t.getElementById!==b&&!i){var s=t.getElementById(e);return s&&s.parentNode?[s]:[]}}:function(e,t,i){if(typeof t.getElementById!==b&&!i){var s=t.getElementById(e);return s?s.id===e||typeof s.getAttributeNode!==b&&s.getAttributeNode("id").value===e?[s]:void 0:[]}},TAG:ee?function(e,t){if(typeof t.getElementsByTagName!==b)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var s,r=[],n=0;s=i[n];n++)1===s.nodeType&&r.push(s);return r}return i},NAME:re&&function(e,t){if(typeof t.getElementsByName!==b)return t.getElementsByName(name)},CLASS:se&&function(e,t,i){if(typeof t.getElementsByClassName!==b&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||ne.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&ne.error(e[0]),e},PSEUDO:function(e){var t,i;return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(U.test(t)&&(i=he(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:s?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var i=typeof t.getAttributeNode!==b&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[_][e+" "];return t||(t=new RegExp("(^|"+E+")"+e+"("+E+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==b&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(s,r){var n=ne.attr(s,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.substr(n.length-i.length)===i:"~="===t?(" "+n+" ").indexOf(i)>-1:"|="===t&&(n===i||n.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,s){return"nth"===e?function(e){var t,r,n=e.parentNode;if(1===i&&0===s)return!0;if(n)for(r=0,t=n.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=s)===i||r%i==0&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,s=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return s[_]?s(t):s.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?A(function(e,i){for(var r,n=s(e,t),o=n.length;o--;)e[r=P.call(e,n[o])]=!(i[r]=n[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:A(function(e){var t=[],i=[],s=l(e.replace(W,"$1"));return s[_]?A(function(e,t,i,r){for(var n,o=s(e,null,r,[]),a=e.length;a--;)(n=o[a])&&(e[a]=!(t[a]=n))}):function(e,r,n){return t[0]=e,s(t,null,n,i),!i.pop()}}),has:A(function(e){return function(t){return ne(e,t).length>0}}),contains:A(function(e){return function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!r.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:oe("radio"),checkbox:oe("checkbox"),file:oe("file"),password:oe("password"),image:oe("image"),submit:ae("submit"),reset:ae("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return Z.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:le(function(){return[0]}),last:le(function(e,t){return[t-1]}),eq:le(function(e,t,i){return[i<0?i+t:i]}),even:le(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:le(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:le(function(e,t,i){for(var s=i<0?i+t:i;--s>=0;)e.push(s);return e}),gt:le(function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e})}},d=T.compareDocumentPosition?function(e,t){return e===t?(h=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return h=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,r=[],n=[],o=e.parentNode,a=t.parentNode,l=o;if(o===a)return de(e,t);if(!o)return-1;if(!a)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=a;l;)n.unshift(l),l=l.parentNode;i=r.length,s=n.length;for(var d=0;d<i&&d<s;d++)if(r[d]!==n[d])return de(r[d],n[d]);return d===i?de(e,n[d],-1):de(r[d],t,1)},[0,0].sort(d),u=!h,ne.uniqueSort=function(e){var t,i=[],s=1,r=0;if(h=u,e.sort(d),h){for(;t=e[s];s++)t===e[s-1]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=ne.compile=function(e,t){var s,n=[],o=[],a=z[_][e+" "];if(!a){for(t||(t=he(e)),s=t.length;s--;)(a=fe(t[s]))[_]?n.push(a):o.push(a);a=z(e,function(e,t){var s=t.length>0,n=e.length>0,o=function(a,l,d,h,u){var p,m,f,g=[],v=0,x="0",w=a&&[],y=null!=u,b=c,_=a||n&&r.find.TAG("*",u&&l.parentNode||l),j=C+=null==b?1:Math.E;for(y&&(c=l!==q&&l,i=o.el);null!=(p=_[x]);x++){if(n&&p){for(m=0;f=e[m];m++)if(f(p,l,d)){h.push(p);break}y&&(C=j,i=++o.el)}s&&((p=!f&&p)&&v--,a&&w.push(p))}if(v+=x,s&&x!==v){for(m=0;f=t[m];m++)f(w,g,l,d);if(a){if(v>0)for(;x--;)w[x]||g[x]||(g[x]=k.call(h));g=pe(g)}I.apply(h,g),y&&!a&&g.length>0&&v+t.length>1&&ne.uniqueSort(h)}return y&&(C=j,c=b),w};return o.el=0,s?A(o):o}(o,n))}return a},q.querySelectorAll&&(f=ge,g=/'|\\/g,v=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,x=[":focus"],w=[":active"],y=T.matchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector||T.msMatchesSelector,Q(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||x.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||x.push(":checked")}),Q(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&x.push("[*^$]="+E+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||x.push(":enabled",":disabled")}),x=new RegExp(x.join("|")),ge=function(e,t,i,s,r){if(!s&&!r&&!x.test(e)){var n,o,a=!0,l=_,d=t,h=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(n=he(e),(a=t.getAttribute("id"))?l=a.replace(g,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=n.length;o--;)n[o]=l+n[o].join("");d=K.test(e)&&t.parentNode||t,h=n.join(",")}if(h)try{return I.apply(i,D.call(d.querySelectorAll(h),0)),i}catch(e){}finally{a||t.removeAttribute("id")}}return f(e,t,i,s,r)},y&&(Q(function(e){p=y.call(e,"div");try{y.call(e,"[test!='']:sizzle"),w.push("!=",R)}catch(e){}}),w=new RegExp(w.join("|")),ne.matchesSelector=function(e,t){if(t=t.replace(v,"='$1']"),!o(e)&&!w.test(t)&&!x.test(t))try{var i=y.call(e,t);if(i||p||e.document&&11!==e.document.nodeType)return i}catch(e){}return ne(t,null,null,[e]).length>0})),r.pseudos.nth=r.pseudos.eq,r.filters=ve.prototype=r.pseudos,r.setFilters=new ve,ne.attr=m.attr,m.find=ne,m.expr=ne.selectors,m.expr[":"]=m.expr.pseudos,m.unique=ne.uniqueSort,m.text=ne.getText,m.isXMLDoc=ne.isXML,m.contains=ne.contains}(e);var J=/Until$/,Q=/^(?:parents|prev(?:Until|All))/,ee=/^.[^:#\[\.,]*$/,te=m.expr.match.needsContext,ie={children:!0,contents:!0,next:!0,prev:!0};function se(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function re(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function ne(e,t,i){if(t=t||0,m.isFunction(t))return m.grep(e,function(e,s){return!!t.call(e,s,e)===i});if(t.nodeType)return m.grep(e,function(e,s){return e===t===i});if("string"==typeof t){var s=m.grep(e,function(e){return 1===e.nodeType});if(ee.test(t))return m.filter(t,s,!i);t=m.filter(t,s)}return m.grep(e,function(e,s){return m.inArray(e,t)>=0===i})}function oe(e){var t=de.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}m.fn.extend({find:function(e){var t,i,s,r,n,o,a=this;if("string"!=typeof e)return m(e).filter(function(){for(t=0,i=a.length;t<i;t++)if(m.contains(a[t],this))return!0});for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(s=o.length,m.find(e,this[t],o),t>0)for(r=s;r<o.length;r++)for(n=0;n<s;n++)if(o[n]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=m(e,this),s=i.length;return this.filter(function(){for(t=0;t<s;t++)if(m.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(ne(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ne(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?te.test(e)?m(e,this.context).index(this[0])>=0:m.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=te.test(e)||"string"!=typeof e?m(e,t||this.context):0;s<r;s++)for(i=this[s];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?o.index(i)>-1:m.find.matchesSelector(i,e)){n.push(i);break}i=i.parentNode}return n=n.length>1?m.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?m.inArray(this[0],m(e)):m.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?m(e,t):m.makeArray(e&&e.nodeType?[e]:e),s=m.merge(this.get(),i);return this.pushStack(se(i[0])||se(s[0])?s:m.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.fn.andSelf=m.fn.addBack,m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m.dir(e,"parentNode")},parentsUntil:function(e,t,i){return m.dir(e,"parentNode",i)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return m.dir(e,"nextSibling")},prevAll:function(e){return m.dir(e,"previousSibling")},nextUntil:function(e,t,i){return m.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return m.dir(e,"previousSibling",i)},siblings:function(e){return m.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return m.sibling(e.firstChild)},contents:function(e){return m.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:m.merge([],e.childNodes)}},function(e,t){m.fn[e]=function(i,s){var r=m.map(this,t,i);return J.test(e)||(s=i),s&&"string"==typeof s&&(r=m.filter(s,r)),r=this.length>1&&!ie[e]?m.unique(r):r,this.length>1&&Q.test(e)&&(r=r.reverse()),this.pushStack(r,e,d.call(arguments).join(","))}}),m.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?m.find.matchesSelector(t[0],e)?[t[0]]:[]:m.find.matches(e,t)},dir:function(e,i,s){for(var r=[],n=e[i];n&&9!==n.nodeType&&(s===t||1!==n.nodeType||!m(n).is(s));)1===n.nodeType&&r.push(n),n=n[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ae,le,de="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",he=/ JQXLite\d+="(?:null|\d+)"/g,ce=/^\s+/,ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,pe=/<([\w:]+)/,me=/<tbody/i,fe=/<|&#?\w+;/,ge=/<(?:script|style|link)/i,ve=/<(?:script|object|embed|option|style)/i,xe=new RegExp("<(?:"+de+")[\\s/>]","i"),we=/^(?:checkbox|radio)$/,ye=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,_e=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},qe=oe(r),Te=qe.appendChild(r.createElement("div"));function Ce(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Se(e,t){if(1===t.nodeType&&m.hasData(e)){var i,s,r,n=m._data(e),o=m._data(t,n),a=n.events;if(a)for(i in delete o.handle,o.events={},a)for(s=0,r=a[i].length;s<r;s++)m.event.add(t,i,a[i][s]);o.data&&(o.data=m.extend({},o.data))}}function ke(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),m.support.html5Clone&&e.innerHTML&&!m.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&we.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(m.expando))}function Ie(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function De(e){we.test(e.type)&&(e.defaultChecked=e.checked)}je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,m.support.htmlSerialize||(je._default=[1,"X<div>","</div>"]),m.fn.extend({text:function(e){return m.access(this,function(e){return e===t?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(m.isFunction(e))return this.each(function(t){m(this).wrapAll(e.call(this,t))});if(this[0]){var t=m(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return m.isFunction(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=m.isFunction(e);return this.each(function(i){m(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!se(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=m.clean(arguments);return this.pushStack(m.merge(e,this),"before",this.selector)}},after:function(){if(!se(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=m.clean(arguments);return this.pushStack(m.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!m.filter(e,[i]).length||(t||1!==i.nodeType||(m.cleanData(i.getElementsByTagName("*")),m.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&m.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return m.access(this,function(e){var i=this[0]||{},s=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(he,""):t;if("string"==typeof e&&!ge.test(e)&&(m.support.htmlSerialize||!xe.test(e))&&(m.support.leadingWhitespace||!ce.test(e))&&!je[(pe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ue,"<$1></$2>");try{for(;s<r;s++)1===(i=this[s]||{}).nodeType&&(m.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return se(this[0])?this.length?this.pushStack(m(m.isFunction(e)?e():e),"replaceWith",e):this:m.isFunction(e)?this.each(function(t){var i=m(this),s=i.html();i.replaceWith(e.call(this,t,s))}):("string"!=typeof e&&(e=m(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;m(this).remove(),t?m(t).before(e):m(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,s){var r,n,o,a,l=0,d=(e=[].concat.apply([],e))[0],h=[],c=this.length;if(!m.support.checkClone&&c>1&&"string"==typeof d&&ye.test(d))return this.each(function(){m(this).domManip(e,i,s)});if(m.isFunction(d))return this.each(function(r){var n=m(this);e[0]=d.call(this,r,i?n.html():t),n.domManip(e,i,s)});if(this[0]){if(n=(o=(r=m.buildFragment(e,this,h)).fragment).firstChild,1===o.childNodes.length&&(o=n),n)for(i=i&&m.nodeName(n,"tr"),a=r.cacheable||c-1;l<c;l++)s.call(i&&m.nodeName(this[l],"table")?Ce(this[l],"tbody"):this[l],l===a?o:m.clone(o,!0,!0));o=n=null,h.length&&m.each(h,function(e,t){t.src?m.ajax?m.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):m.error("no ajax"):m.globalEval((t.text||t.textContent||t.innerHTML||"").replace(_e,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),m.buildFragment=function(e,i,s){var n,o,a,l=e[0];return i=(i=!(i=i||r).nodeType&&i[0]||i).ownerDocument||i,!(1===e.length&&"string"==typeof l&&l.length<512&&i===r&&"<"===l.charAt(0))||ve.test(l)||!m.support.checkClone&&ye.test(l)||!m.support.html5Clone&&xe.test(l)||(o=!0,a=(n=m.fragments[l])!==t),n||(n=i.createDocumentFragment(),m.clean(e,i,n,s),o&&(m.fragments[l]=a&&n)),{fragment:n,cacheable:o}},m.fragments={},m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(i){var s,r=0,n=[],o=m(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[t](this[0]),this;for(;r<a;r++)s=(r>0?this.clone(!0):this).get(),m(o[r])[t](s),n=n.concat(s);return this.pushStack(n,e,o.selector)}}),m.extend({clone:function(e,t,i){var s,r,n,o;if(m.support.html5Clone||m.isXMLDoc(e)||!xe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Te.innerHTML=e.outerHTML,Te.removeChild(o=Te.firstChild)),!(m.support.noCloneEvent&&m.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(ke(e,o),s=Ie(e),r=Ie(o),n=0;s[n];++n)r[n]&&ke(s[n],r[n]);if(t&&(Se(e,o),i))for(s=Ie(e),r=Ie(o),n=0;s[n];++n)Se(s[n],r[n]);return s=r=null,o},clean:function(e,t,i,s){var n,o,a,l,d,h,c,u,p,f,g,v=t===r&&qe,x=[];for(t&&void 0!==t.createDocumentFragment||(t=r),n=0;null!=(a=e[n]);n++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(fe.test(a)){for(v=v||oe(t),c=t.createElement("div"),v.appendChild(c),a=a.replace(ue,"<$1></$2>"),l=(pe.exec(a)||["",""])[1].toLowerCase(),h=(d=je[l]||je._default)[0],c.innerHTML=d[1]+a+d[2];h--;)c=c.lastChild;if(!m.support.tbody)for(u=me.test(a),o=(p="table"!==l||u?"<table>"!==d[1]||u?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes).length-1;o>=0;--o)m.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!m.support.leadingWhitespace&&ce.test(a)&&c.insertBefore(t.createTextNode(ce.exec(a)[0]),c.firstChild),a=c.childNodes,c.parentNode.removeChild(c)}else a=t.createTextNode(a);a.nodeType?x.push(a):m.merge(x,a)}if(c&&(a=c=v=null),!m.support.appendChecked)for(n=0;null!=(a=x[n]);n++)m.nodeName(a,"input")?De(a):void 0!==a.getElementsByTagName&&m.grep(a.getElementsByTagName("input"),De);if(i)for(f=function(e){if(!e.type||be.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},n=0;null!=(a=x[n]);n++)m.nodeName(a,"script")&&f(a)||(i.appendChild(a),void 0!==a.getElementsByTagName&&(g=m.grep(m.merge([],a.getElementsByTagName("script")),f),x.splice.apply(x,[n+1,0].concat(g)),n+=g.length));return x},cleanData:function(e,t){for(var i,s,r,n,o=0,a=m.expando,l=m.cache,d=m.support.deleteExpando,h=m.event.special;null!=(r=e[o]);o++)if((t||m.acceptData(r))&&(i=(s=r[a])&&l[s])){if(i.events)for(n in i.events)h[n]?m.event.remove(r,n):m.removeEvent(r,n,i.handle);l[s]&&(delete l[s],d?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,m.deletedIds.push(s))}}}),m.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},le={},(ae=m.uaMatch(n.userAgent)).browser&&(le[ae.browser]=!0,le.version=ae.version),le.chrome?le.webkit=!0:le.webkit&&(le.safari=!0),m.browser=le,m.sub=function(){function e(t,i){return new e.fn.init(t,i)}m.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,s){return s&&s instanceof m&&!(s instanceof e)&&(s=e(s)),m.fn.init.call(this,i,s,t)},e.fn.init.prototype=e.fn;var t=e(r);return e};var Pe,Ae,Me,He=/alpha\([^)]*\)/i,Be=/opacity=([^)]*)/,ze=/^(top|right|bottom|left)$/,Ee=/^(none|table(?!-c[ea]).+)/,Le=/^margin/,Ne=new RegExp("^("+f+")(.*)$","i"),Oe=new RegExp("^("+f+")(?!px)[a-z%]+$","i"),Re=new RegExp("^([-+])=("+f+")","i"),Fe={BODY:"block"},We={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:0,fontWeight:400},Ge=["Top","Right","Bottom","Left"],Ue=["Webkit","O","Moz","ms"],Ye=m.fn.toggle;function Ke(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=Ue.length;r--;)if((t=Ue[r]+i)in e)return t;return s}function Xe(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)}function Ze(e,t){for(var i,s,r=[],n=0,o=e.length;n<o;n++)(i=e[n]).style&&(r[n]=m._data(i,"olddisplay"),t?(r[n]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Xe(i)&&(r[n]=m._data(i,"olddisplay",et(i.nodeName)))):(s=Pe(i,"display"),r[n]||"none"===s||m._data(i,"olddisplay",s)));for(n=0;n<o;n++)(i=e[n]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[n]||"":"none"));return e}function $e(e,t,i){var s=Ne.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function Je(e,t,i,s){for(var r=i===(s?"border":"content")?4:"width"===t?1:0,n=0;r<4;r+=2)"margin"===i&&(n+=m.css(e,i+Ge[r],!0)),s?("content"===i&&(n-=parseFloat(Pe(e,"padding"+Ge[r]))||0),"margin"!==i&&(n-=parseFloat(Pe(e,"border"+Ge[r]+"Width"))||0)):(n+=parseFloat(Pe(e,"padding"+Ge[r]))||0,"padding"!==i&&(n+=parseFloat(Pe(e,"border"+Ge[r]+"Width"))||0));return n}function Qe(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,n=m.support.boxSizing&&"border-box"===m.css(e,"boxSizing");if(s<=0||null==s){if(((s=Pe(e,t))<0||null==s)&&(s=e.style[t]),Oe.test(s))return s;r=n&&(m.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+Je(e,t,i||(n?"border":"content"),r)+"px"}function et(e){if(Fe[e])return Fe[e];var t=m("<"+e+">").appendTo(r.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Ae=r.body.appendChild(Ae||m.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),Me&&Ae.createElement||((Me=(Ae.contentWindow||Ae.contentDocument).document).write("<!doctype html><html><body>"),Me.close()),t=Me.body.appendChild(Me.createElement(e)),i=Pe(t,"display"),r.body.removeChild(Ae)),Fe[e]=i,i}m.fn.extend({css:function(e,i){return m.access(this,function(e,i,s){return s!==t?m.style(e,i,s):m.css(e,i)},e,i,arguments.length>1)},show:function(){return Ze(this,!0)},hide:function(){return Ze(this)},toggle:function(e,t){var i="boolean"==typeof e;return m.isFunction(e)&&m.isFunction(t)?Ye.apply(this,arguments):this.each(function(){(i?e:Xe(this))?m(this).show():m(this).hide()})}}),m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Pe(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:m.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,s,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,l=m.camelCase(i),d=e.style;if(i=m.cssProps[l]||(m.cssProps[l]=Ke(d,l)),a=m.cssHooks[i]||m.cssHooks[l],s===t)return a&&"get"in a&&(n=a.get(e,!1,r))!==t?n:d[i];if(!("string"===(o=typeof s)&&(n=Re.exec(s))&&(s=(n[1]+1)*n[2]+parseFloat(m.css(e,i)),o="number"),null==s||"number"===o&&isNaN(s)||("number"!==o||m.cssNumber[l]||(s+="px"),a&&"set"in a&&(s=a.set(e,s,r))===t)))try{d[i]=s}catch(e){}}},css:function(e,i,s,r){var n,o,a,l=m.camelCase(i);return i=m.cssProps[l]||(m.cssProps[l]=Ke(e.style,l)),(a=m.cssHooks[i]||m.cssHooks[l])&&"get"in a&&(n=a.get(e,!0,r)),n===t&&(n=Pe(e,i)),"normal"===n&&i in Ve&&(n=Ve[i]),s||r!==t?(o=parseFloat(n),s||m.isNumeric(o)?o||0:n):n},swap:function(e,t,i){var s,r,n={};for(r in t)n[r]=e.style[r],e.style[r]=t[r];for(r in s=i.call(e),t)e.style[r]=n[r];return s}}),e.getComputedStyle?Pe=function(t,i){var s,r,n,o,a=e.getComputedStyle(t,null),l=t.style;return a&&(""!==(s=a.getPropertyValue(i)||a[i])||m.contains(t.ownerDocument,t)||(s=m.style(t,i)),Oe.test(s)&&Le.test(i)&&(r=l.width,n=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=a.width,l.width=r,l.minWidth=n,l.maxWidth=o)),s}:r.documentElement.currentStyle&&(Pe=function(e,t){var i,s,r=e.currentStyle&&e.currentStyle[t],n=e.style;return null==r&&n&&n[t]&&(r=n[t]),Oe.test(r)&&!ze.test(t)&&(i=n.left,(s=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,i,s){if(i)return 0===e.offsetWidth&&Ee.test(Pe(e,"display"))?m.swap(e,We,function(){return Qe(e,t,s)}):Qe(e,t,s)},set:function(e,i,s){return $e(0,i,s?Je(e,t,s,m.support.boxSizing&&"border-box"===m.css(e,"boxSizing")):0)}}}),m.support.opacity||(m.cssHooks.opacity={get:function(e,t){return Be.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=m.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";i.zoom=1,t>=1&&""===m.trim(n.replace(He,""))&&i.removeAttribute&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=He.test(n)?n.replace(He,r):n+" "+r)}}),m(function(){m.support.reliableMarginRight||(m.cssHooks.marginRight={get:function(e,t){return m.swap(e,{display:"inline-block"},function(){if(t)return Pe(e,"marginRight")})}}),!m.support.pixelPosition&&m.fn.position&&m.each(["top","left"],function(e,t){m.cssHooks[t]={get:function(e,i){if(i){var s=Pe(e,t);return Oe.test(s)?m(e).position()[t]+"px":s}}}})}),m.expr&&m.expr.filters&&(m.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!m.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Pe(e,"display"))},m.expr.filters.visible=function(e){return!m.expr.filters.hidden(e)}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(i){var s,r="string"==typeof i?i.split(" "):[i],n={};for(s=0;s<4;s++)n[e+Ge[s]+t]=r[s]||r[s-2]||r[0];return n}},Le.test(e)||(m.cssHooks[e+t].set=$e)});var tt=/%20/g,it=/\[\]$/,st=/\r?\n/g,rt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,nt=/^(?:select|textarea)/i;function ot(e,t,i,s){var r;if(m.isArray(t))m.each(t,function(t,r){i||it.test(e)?s(e,r):ot(e+"["+("object"==typeof r?t:"")+"]",r,i,s)});else if(i||"object"!==m.type(t))s(e,t);else for(r in t)ot(e+"["+r+"]",t[r],i,s)}m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?m.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||nt.test(this.nodeName)||rt.test(this.type))}).map(function(e,t){var i=m(this).val();return null==i?null:m.isArray(i)?m.map(i,function(e,i){return{name:t.name,value:e.replace(st,"\r\n")}}):{name:t.name,value:i.replace(st,"\r\n")}}).get()}}),m.param=function(e,i){var s,r=[],n=function(e,t){t=m.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jqx&&!m.isPlainObject(e))m.each(e,function(){n(this.name,this.value)});else for(s in e)ot(s,e[s],i,n);return r.join("&").replace(tt,"+")},m.support.ajax&&m.ajaxTransport(function(i){var s;if(!i.crossDomain||m.support.cors)return{send:function(r,n){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(e){}l.send(i.hasContent&&i.data||null),s=function(e,r){var a,d,h,c,u;try{if(s&&(r||4===l.readyState))if(s=t,o&&(l.onreadystatechange=m.noop,xhrOnUnloadAbort&&delete xhrCallbacks[o]),r)4!==l.readyState&&l.abort();else{a=l.status,h=l.getAllResponseHeaders(),c={},(u=l.responseXML)&&u.documentElement&&(c.xml=u);try{c.text=l.responseText}catch(e){}try{d=l.statusText}catch(e){d=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(e){r||n(-1,e)}c&&n(a,d,c,h)},i.async?4===l.readyState?setTimeout(s,0):(o=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},m(e).unload(xhrOnUnloadAbort)),xhrCallbacks[o]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}});var at,lt,dt=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([-+])=|)("+f+")([a-z%]*)$","i"),ct=/queueHooks$/,ut=[function(e,t,i){var s,r,n,o,a,l,d,h,c,u=this,p=e.style,f={},g=[],v=e.nodeType&&Xe(e);i.queue||(null==(h=m._queueHooks(e,"fx")).unqueued&&(h.unqueued=0,c=h.empty.fire,h.empty.fire=function(){h.unqueued||c()}),h.unqueued++,u.always(function(){u.always(function(){h.unqueued--,m.queue(e,"fx").length||h.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===m.css(e,"display")&&"none"===m.css(e,"float")&&(m.support.inlineBlockNeedsLayout&&"inline"!==et(e.nodeName)?p.zoom=1:p.display="inline-block"));i.overflow&&(p.overflow="hidden",m.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in t)if(n=t[s],dt.exec(n)){if(delete t[s],l=l||"toggle"===n,n===(v?"hide":"show"))continue;g.push(s)}if(o=g.length){"hidden"in(a=m._data(e,"fxshow")||m._data(e,"fxshow",{}))&&(v=a.hidden),l&&(a.hidden=!v),v?m(e).show():u.done(function(){m(e).hide()}),u.done(function(){var t;for(t in m.removeData(e,"fxshow",!0),f)m.style(e,t,f[t])});for(s=0;s<o;s++)r=g[s],d=u.createTween(r,v?a[r]:0),f[r]=a[r]||m.style(e,r),r in a||(a[r]=d.start,v&&(d.end=d.start,d.start="width"===r||"height"===r?1:0))}}],pt={"*":[function(e,t){var i,s,r=this.createTween(e,t),n=ht.exec(t),o=r.cur(),a=+o||0,l=1,d=20;if(n){if(i=+n[2],"px"!==(s=n[3]||(m.cssNumber[e]?"":"px"))&&a){a=m.css(r.elem,e,!0)||i||1;do{a/=l=l||".5",m.style(r.elem,e,a+s)}while(l!==(l=r.cur()/o)&&1!==l&&--d)}r.unit=s,r.start=a,r.end=n[1]?a+(n[1]+1)*i:i}return r}]};function mt(){return setTimeout(function(){at=t},0),at=m.now()}function ft(e,t,i){var s,r=0,n=ut.length,o=m.Deferred().always(function(){delete a.elem}),a=function(){for(var t=at||mt(),i=Math.max(0,l.startTime+l.duration-t),s=1-(i/l.duration||0),r=0,n=l.tweens.length;r<n;r++)l.tweens[r].run(s);return o.notifyWith(e,[l,s,i]),s<1&&n?i:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:at||mt(),duration:i.duration,tweens:[],createTween:function(t,i,s){var r=m.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var i=0,s=t?l.tweens.length:0;i<s;i++)l.tweens[i].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),d=l.props;for(!function(e,t){var i,s,r,n,o;for(i in e)if(s=m.camelCase(i),r=t[s],n=e[i],m.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),(o=m.cssHooks[s])&&"expand"in o)for(i in n=o.expand(n),delete e[s],n)i in e||(e[i]=n[i],t[i]=r);else t[s]=r}(d,l.opts.specialEasing);r<n;r++)if(s=ut[r].call(l,e,d,l.opts))return s;return function(e,t){m.each(t,function(t,i){for(var s=(pt[t]||[]).concat(pt["*"]),r=0,n=s.length;r<n;r++)if(s[r].call(e,t,i))return})}(l,d),m.isFunction(l.opts.start)&&l.opts.start.call(e,l),m.fx.timer(m.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function gt(e,t,i,s,r){return new gt.prototype.init(e,t,i,s,r)}function vt(e,t){var i,s={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)s["margin"+(i=Ge[r])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}m.Animation=m.extend(ft,{tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;s<r;s++)i=e[s],pt[i]=pt[i]||[],pt[i].unshift(t)},prefilter:function(e,t){t?ut.unshift(e):ut.push(e)}}),m.Tween=gt,gt.prototype={constructor:gt,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(m.cssNumber[i]?"":"px")},cur:function(){var e=gt.propHooks[this.prop];return e&&e.get?e.get(this):gt.propHooks._default.get(this)},run:function(e){var t,i=gt.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):gt.propHooks._default.set(this),this}},gt.prototype.init.prototype=gt.prototype,gt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=m.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[m.cssProps[e.prop]]||m.cssHooks[e.prop])?m.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},gt.propHooks.scrollTop=gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.each(["toggle","show","hide"],function(e,t){var i=m.fn[t];m.fn[t]=function(s,r,n){return null==s||"boolean"==typeof s||!e&&m.isFunction(s)&&m.isFunction(r)?i.apply(this,arguments):this.animate(vt(t,!0),s,r,n)}}),m.fn.extend({fadeTo:function(e,t,i,s){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=m.isEmptyObject(e),n=m.speed(t,i,s),o=function(){var t=ft(this,m.extend({},e),n);r&&t.stop(!0)};return r||!1===n.queue?this.each(o):this.queue(n.queue,o)},stop:function(e,i,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof e&&(s=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",n=m.timers,o=m._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ct.test(i)&&r(o[i]);for(i=n.length;i--;)n[i].elem!==this||null!=e&&n[i].queue!==e||(n[i].anim.stop(s),t=!1,n.splice(i,1));!t&&s||m.dequeue(this,e)})}}),m.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),m.speed=function(e,t,i){var s=e&&"object"==typeof e?m.extend({},e):{complete:i||!i&&t||m.isFunction(e)&&e,duration:e,easing:i&&t||t&&!m.isFunction(t)&&t};return s.duration=m.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in m.fx.speeds?m.fx.speeds[s.duration]:m.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){m.isFunction(s.old)&&s.old.call(this),s.queue&&m.dequeue(this,s.queue)},s},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},m.timers=[],m.fx=gt.prototype.init,m.fx.tick=function(){var e,i=m.timers,s=0;for(at=m.now();s<i.length;s++)(e=i[s])()||i[s]!==e||i.splice(s--,1);i.length||m.fx.stop(),at=t},m.fx.timer=function(e){e()&&m.timers.push(e)&&!lt&&(lt=setInterval(m.fx.tick,m.fx.interval))},m.fx.interval=13,m.fx.stop=function(){clearInterval(lt),lt=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fx.step={},m.expr&&m.expr.filters&&(m.expr.filters.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length});var xt=/^(?:body|html)$/i;function wt(e){return m.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}m.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){m.offset.setOffset(this,e,t)});var i,s,r,n,o,a,l,d={top:0,left:0},h=this[0],c=h&&h.ownerDocument;return c?(s=c.body)===h?m.offset.bodyOffset(h):(i=c.documentElement,m.contains(i,h)?(void 0!==h.getBoundingClientRect&&(d=h.getBoundingClientRect()),r=wt(c),n=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:d.top+a-n,left:d.left+l-o}):d):void 0},m.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return m.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(m.css(e,"marginTop"))||0,i+=parseFloat(m.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=m.css(e,"position");"static"===s&&(e.style.position="relative");var r,n,o=m(e),a=o.offset(),l=m.css(e,"top"),d=m.css(e,"left"),h={},c={};("absolute"===s||"fixed"===s)&&m.inArray("auto",[l,d])>-1?(r=(c=o.position()).top,n=c.left):(r=parseFloat(l)||0,n=parseFloat(d)||0),m.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+n),"using"in t?t.using.call(e,h):o.css(h)}},m.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,s=null,r=this[0];return r.style.width&&(i=r.style.width),r.style.height&&(s=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(i=t.width),t.height&&(s=t.height)),"0px"===i&&(i=0),"0px"===s&&(s=0),null===i&&(i=0),null===s&&(s=0),{width:i,height:s}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this;t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(function(e){var s=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(s.element.offsetWidth===s.offsetWidth&&s.element.offsetHeight===s.offsetHeight||(s.offsetWidth=s.element.offsetWidth,s.offsetHeight=s.element.offsetHeight,i.isRendered()&&s.callback()))}),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),s=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(m.css(e,"marginTop"))||0,i.left-=parseFloat(m.css(e,"marginLeft"))||0,s.top+=parseFloat(m.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(m.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||r.body;e&&!xt.test(e.nodeName)&&"static"===m.css(e,"position");)e=e.offsetParent;return e||r.body})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var s=/Y/.test(i);m.fn[e]=function(r){return m.access(this,function(e,r,n){var o=wt(e);if(n===t)return o?i in o?o[i]:o.document.documentElement[r]:e[r];o?o.scrollTo(s?m(o).scrollLeft():n,s?n:m(o).scrollTop()):e[r]=n},e,r,arguments.length,null)}}),m.each({Height:"height",Width:"width"},function(e,i){m.each({padding:"inner"+e,content:i,"":"outer"+e},function(s,r){m.fn[r]=function(r,n){var o=arguments.length&&(s||"boolean"!=typeof r),a=s||(!0===r||!0===n?"margin":"border");return m.access(this,function(i,s,r){var n;return m.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+e],n["scroll"+e],i.body["offset"+e],n["offset"+e],n["client"+e])):r===t?m.css(i,s,r,a):m.style(i,s,r,a)},i,o?r:t,o,null)}})}),e.JQXLite=e.jqxHelper=m,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return m})}(window),function(e){if(e.jqxCore)return e.$$=e.minQuery=e.JQXLite,void(e.$||(e.$=e.minQuery));e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),JQXLite.generateID=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t="";do{t="jqx"+e()+e()+e()}while($("#"+t).length>0);return t};var jqxBaseFramework=window.jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},window.jqx=e.jqx;var t,i,s,r,n={createInstance:function(t,i,s){if("jqxDataAdapter"==i){var r=s[0],n=s[1]||{};return new e.jqx.dataAdapter(r,n)}return e(t)[i](s||{}),e(t)[i]("getInstance")}};window.jqwidgets=n,e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[s]&&null!=t.base;){if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);var n;if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r);t=t.base}if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r)}},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(null==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;var r;if("string"==typeof s)if(t[r=s.toLowerCase()]&&e.isFunction(t[r]))return!0;t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s&&(t[r=s.toLowerCase()]&&e.isFunction(t[r])))return!0;return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){if(n.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=(t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),r=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var n,o,a=[];for(n in e)t.call(e,n)&&a.push(n);if(i)for(o=0;o<r;o++)t.call(e,s[o])&&a.push(s[o]);return a})),e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,n=e.data(r,t.widgetName).initArgs;if(n&&JSON&&JSON.stringify&&i[0]&&n[0])try{if(JSON.stringify(i[0])==JSON.stringify(n[0])){var o=!0;if(e.each(i[0],function(e,i){if(t[e]!=i)return o=!1,!1}),o)return}}catch(e){}t.batchUpdate=i[0];var a={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(a[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(a[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)}),s<2&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,a,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){e(i);var r=e.data(i,t);if(null!=r){var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=null!=window.MSApp}catch(e){}var o=e(t);r?(r.host=o,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var a={host:o,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,a),e.data(t,"jqxWidget",a.instance);var l=new Array;for(r=a.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;for(var d in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s),l)r=l[d],0==d&&(r.host=o,r.element=t,r.WinJS=n),null!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var d in l)null!=l[d]&&(l[d].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){a.instance.refresh(!0)}):a.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){try{Array.prototype.slice.call(s,0)}catch(e){}try{null!=window.MSApp}catch(e){}var r=t,o="";i&&(o="_"+i),e.jqx.define(e.jqx,"_"+r,o);var a=new Array;if(!window[r]){var l=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,function(t,s){var r=s;t>0&&(i+=", "),i+="[";var n=0;if("object"==e.type(r))for(var o in r)n>0&&(i+=", "),i+="{"+o+":"+r[o]+"}",n++;else n>0&&(i+=", "),i+="{"+t+":"+r+"}",n++;i+="]"}),i};n[r]=window[r]=function(t,i){var s=[];i||(i={}),s.push(i);var n=t;if("object"===e.type(n)&&t[0]?""===(n=t[0].id)&&(n=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(n=t.id)&&(n=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[n]){var o;if(i&&e.each(window.jqxWidgets[n],function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[r](i)}),1==window.jqxWidgets[n].length)if((o=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[n][0];if((o=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[n]}var d=e(t);0===d.length&&(d=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(d=e("<input/>")),"jqxTextArea"===r&&(d=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(d=e("<button/>")),"jqxSplitter"===r&&(d=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(d=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(d=e("<div><div>Title 1</div><div>Content 1</div></div>")));var h=[];return e.each(d,function(t){var i=d[t];if(e.jqx.applyWidget(i,r,s,void 0),!a[r]){var o=e.data(i,"jqxWidget"),c=e.jqx["_"+r].prototype.defineInstance();e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(c=e.extend(c,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(c=e.extend(c,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(c=e.extend(c,e.jqx._jqxDataTable.prototype.defineInstance()));var u=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);for(var r in s.on=s.addEventListener=function(e,t){s.addHandler(s.base?s.base.host:s.host,e,t)},s.off=s.removeEventListener=function(e){s.removeHandler(s.base?s.base.host:s.host,e)},i)"function"==e.type(i[r])&&(s[r]=e.proxy(i[r],i));return s};a[r]=u,e.each(c,function(t,i){Object.defineProperty(u.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var s=this.widgetInstance[t],n=i,o=!1;if(e.type(s)==e.type(n)&&"source"!==t&&"width"!==t&&"height"!==t||(o=!0),o||l(s)!=l(n)){var a={};a[t]=i,this.widgetInstance.host?this.widgetInstance.host[r](a):this.widgetInstance.base.host[r](a),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,s,i)}}}})})}o=new a[r](i);h.push(o),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[n]||(window.jqxWidgets[n]=new Array),window.jqxWidgets[n].push(o)}),1===h.length?h[0]:h}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){e(this);null==e.data(this,r)?e.jqx.applyWidget(this,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var n=e.jqx.jqxWidgetProxy(r,this,t);if(0==s)i=n,s++;else{if(1==s){var o=[];o.push(i),i=o}i.push(n)}}),i};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(s,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)},isMaterialized:function(){return!!this.theme&&("light"===this.theme||("dark"===this.theme||("deepblue"===this.theme||(this.theme.indexOf("material")>=0||void 0))))},isModern:function(){return!!this.theme&&(this.theme.indexOf("blue")>=0||(this.theme.indexOf("deepblue")>=0||(this.theme.indexOf("light")>=0||("dark"===this.theme||void 0))))},_addBarAndLabel:function(t){var i=this,s=e("<label></label");s[0].innerHTML=this.placeHolder,s.addClass(i.toThemeProperty("jqx-input-label")),t.after(s),i.label=s;var r=e("<span></span>");t.after(r),r.addClass(i.toThemeProperty("jqx-input-bar")),i.bar=r,i.bar.css("top",this.host.height())}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.base?this.base.host.on(e,t):this.host.on(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.base?this.base.host.off(e):this.host.off(e)},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(e(t),i,s,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(e(t),i,s)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),o=0;o<n.length;o++){var a=n[o];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}break;case"touchmove":if(!r){t[0].addEventListener("touchmove",s,!1);continue}if(r&&r.passive){t[0].addEventListener("touchmove",s,r);continue}}null==r||null==r?t.on?t.on(a,s):t.bind(a,s):t.on?t.on(a,r,s):t.bind(a,r,s)}},e.jqx.removeHandler=function(t,i,s){if(i)for(var r=i.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}break;case"touchmove":if(s){t[0].removeEventListener("touchmove",s,!1);continue}}null!=o?null==s?t.off?t.off(o):t.unbind(o):t.off?t.off(o,s):t.unbind(o,s):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.credits=e.jqx.credits||"",e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()+e()},setTheme:function(t,i,s){if(void 0!==s&&s[0].className.split){void 0===t&&(t=""),void 0===i&&(i="");for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),o.push(r[l].replace(t,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(!0===s){if(-1!=n&&(this.resizeHandlers.splice(n,1),this.watchedElementData&&this.watchedElementData.length>0&&this.watchedElementData.splice(n,1)),0==this.resizeHandlers.length)(h=e(window)).off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null;return void(-1!=(d=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else{var d;if(!0===s)return void(-1!=(d=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}o=this;var h,c=function(t,i){if(o.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(e){}return 0},n=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<o.hiddenWidgets.length;r++){var n=o.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}o.hiddenWidgets=s,t||clearInterval(o.__resizeInterval)};if(0==t)return s(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){s()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&n(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var d=o.resizeHandlers[l],h=d.widget,c=d.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(null==u&&(u=c.jqxWidget.base.width),null==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var m=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),e.jqx.isHidden(h))-1===a(h)&&(m||!0===t)&&!0!==d.data.nestedWidget&&o.hiddenWidgets.push(d);else if(void 0===t||!0!==t){if(m){if(d.callback(i),o.watchedElementData)for(var f=0;f<o.watchedElementData.length;f++)if(o.watchedElementData[f].element==c.jqxWidget.element){o.watchedElementData[f].offsetWidth=c.jqxWidget.element.offsetWidth,o.watchedElementData[f].offsetHeight=c.jqxWidget.element.offsetHeight;break}o.hiddenWidgets.indexOf(d)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(d),1)}if(c.jqxWidget.element){var g=c.jqxWidget.element.className;if(g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)if(c.jqxWidget.isOpened)if(c.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}n()}};this.resizeHandlers||(this.resizeHandlers=new Array,(h=e(window)).on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){null!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(o._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")})));var u=t.data();r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,m=u.jqxWidget.height;u.jqxWidget.base&&(null==p&&(p=u.jqxWidget.base.width),null==m&&(m=u.jqxWidget.base.height)),void 0===p&&void 0===m&&(p=u.jqxWidget.element.style.width,m=u.jqxWidget.element.style.height);var f=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),null!=m&&-1!=m.toString().indexOf("%")&&(f=!0),f){this.watchedElementData||(this.watchedElementData=[]);(o=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),o.observer||(o.observer=new MutationObserver(function(t){o.watchedElementData.forEach&&o.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})}),o.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var o=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!o.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;r<n;r++)1===(s=this[r]||{}).nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(e){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==s.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==s.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==s.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,function(i,s){if(null==(r=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),null==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var n=r;switch(s.type){case"number":n=new Number(r),isNaN(n)&&(n=r);break;case"boolean":n="true"==r;break;case"date":("Invalid Date"==(n=new Date(r))||isNaN(n))&&(n=r)}t[s.name]=n}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0];i=parseInt(r.pageX),s=parseInt(r.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i,s,r,n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},o=(i=n[e.type],s=e,(r=document.createEvent("MouseEvents")).initMouseEvent(i,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget),r._pageX=s.pageX,r._pageY=s.pageY,r);e.target.dispatchEvent(o);var a=e.target["on"+n[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,navigator.maxTouchPoints,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("HybridDeviceTouch"))return!0;if(-1!=e.indexOf("HybridDeviceMouse"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;if(-1!=e.indexOf("Mozilla/5.0 (X11; Linux x86_64)"))return!1;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)){var s=t[i];if(e.match(new RegExp("(?:"+s+")([^\\s;]+)")))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0)}var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase();return(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch")?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():s.top):i},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,o){if(null!=t){var a=this,l=0,d=0,h=0,c=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var u=!1,p=e(t),m=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;r=r;var f,g,v,x,w,y,b,_,j,q,T,C,S,k,I=this.getTouchEventName("touchstart")+".touchScroll",D=this.getTouchEventName("touchend")+".touchScroll",P=this.getTouchEventName("touchmove")+".touchScroll";v=i;var A=0,M=0,H=0,B=0,z=n.jqxScrollBar("max"),E=325,L=function(){var e,t,i;t=(e=Date.now())-j,j=e,i=A-_;var s=M-f;_=A,f=M,w=!0,y=.8*(1e3*i/(1+t))+.2*y,b=.8*(1e3*s/(1+t))+.2*b},N=!1,O=function(t){if(!a.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),m)){A=o.jqxScrollBar("value"),M=n.jqxScrollBar("value");var i,s=a.getTouches(t),p=s[0];return 1==s.length&&a.dispatchMouseEvent("mousedown",p,a.getRootNode(p.target)),z=n.jqxScrollBar("max"),v=o.jqxScrollBar("max"),N=!1,w=!0,x=K(i=t),k=X(i),y=T=b=0,_=A,f=M,j=Date.now(),clearInterval(q),q=setInterval(L,100),H=A,B=M,A>0&&A<v&&o[0].style.visibility,u=!1,d=p.pageY,c=p.pageX,a.simulatetouches&&null!=p._pageY&&(d=p._pageY,c=p._pageX),a.scrolling[r]=!0,l=0,h=0,!0}};p.on?p.on(I,O):p.bind(I,O);var R=function(e,t){return A=e>v?v:e<0?0:e,s(null,e,0,0,t),e>v?"max":e<0?"min":"value"},F=function(e,t){return M=e>z?z:e<0?0:e,s(e,null,0,0,t),e>z?"max":e<0?"min":"value"},W=function(e){if(!a.enableScrolling[r])return!0;if(!a.scrolling[r])return!0;N&&(e.preventDefault(),e.stopPropagation());var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,s=t[0].pageX;a.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX);var p=i-d,m=s-c;i;p-l,m-h,u=!0,l=p,h=m;var f=null==n||"hidden"!=n[0].style.visibility,y=null==o||"hidden"!=o[0].style.visibility;(f||y)&&(f||y)&&function(e){var t,i,s;if(w){t=K(e),s=X(e),g=k-s;var r="value";if((i=x-t)>2||i<-2)return x=t,r=R(A+i,e),L(),"min"==r&&0===H||"max"==r&&H===v||!y||(e.preventDefault(),e.stopPropagation(),N=!0,!1);if(g>2||g<-2)return k=s,r=F(M+g,e),L(),"min"==r&&0===B||"max"==r&&B===z||!f||(N=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};p.on?p.on(P,W):p.bind(P,W);var V=function(e){if(!a.enableScrolling[r])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[r])return!0;if(w=!1,clearInterval(q),y>10||y<-10?(T=.8*y,C=Math.round(A+T),j=Date.now(),requestAnimationFrame(Z)):(b>10||b<-10)&&(T=.8*b,S=Math.round(M+T),j=Date.now(),requestAnimationFrame($)),a.scrolling[r]=!1,!u){t=a.getTouches(e)[0];var i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=e(window).on||e(window).bind;var G=function(e){try{V(e)}catch(e){}a.scrolling[r]=!1};if(null!=e(window).on?e(document).on("mouseup.touchScroll",G):e(document).bind("mouseup.touchScroll",G),window.frameElement&&null!=window.top){var U=function(e){try{V(e)}catch(e){}a.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",U):e(window.top.document).bind("mouseup",U))}null!=e(document).on||e(document).bind;var Y=function(e){if(!a.scrolling[r])return!0;a.scrolling[r]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)};null!=e(document).on?e(document).on("touchend",Y):e(document).bind("touchend",Y)}p.on&&(p.on("dragstart",function(e){e.preventDefault()}),p.on("selectstart",function(e){e.preventDefault()})),p.on?p.on(D+" touchcancel.touchScroll",V):p.bind(D+" touchcancel.touchScroll",V)}function K(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:a.getTouches(e)[0].clientY}function X(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:a.getTouches(e)[0].clientX}function Z(){var e,t;T&&(e=Date.now()-j,(t=-T*Math.exp(-e/E))>.5||t<-.5?(R(C+t),requestAnimationFrame(Z)):R(C))}function $(){var e,t;T&&(e=Date.now()-j,(t=-T*Math.exp(-e/E))>.5||t<-.5?(F(S+t),requestAnimationFrame($)):F(S))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),null==i&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}var o,a=(s=i||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return null==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=e.originalVal=e.fn.val;e.fn.val=function(i){if(void 0===i){if(e(this).hasClass("jqx-widget"))if((s=e(this).data().jqxWidget)&&s.val)return s.val();if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0)if((s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val)return s.val();return t.call(this)}var s;return e(this).hasClass("jqx-widget")&&(s=e(this).data().jqxWidget)&&s.val?2!=arguments.length?s.val(i):s.val(i,arguments[1]):this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val?2!=arguments.length?s.val(i):s.val(i,arguments[1]):t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());var a;a=o,s=e.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow);var l=0,d=0,h=navigator.userAgent.toLowerCase();if((-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone"))&&(l=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var c=e(document.body).coord();l=-c.left,d=-c.top}return{top:d+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}},e.jqx.ripplers=[],e.jqx.ripple=function(t,i,s){i||(i=t);var r=e(t);r.append("<span class='ink'></span>");for(var n=r.find(".ink"),o=!1,a=0;a<e.jqx.ripplers.length;a++){if(e.jqx.ripplers[a].element[0]===t[0]){o=!0;break}}if(o||e.jqx.ripplers.push({ink:n,element:t,hostElement:i,hostElementType:s}),"checkbox"===s||"radiobutton"===s){var l=Math.max(r.outerWidth(),r.outerHeight());n.css({height:l,width:l});var d=r.width()/2-n.width()/2,h=r.height()/2-n.height()/2;n.css({top:h+"px",left:d+"px"})}1===e.jqx.ripplers.length&&e(document).on("mouseup",function(t){e.jqx.ripple.mouseCaptured=!1;for(var i=0;i<e.jqx.ripplers.length;i++){var r=e.jqx.ripplers[i];r.ink.removeClass("active"),r.element.removeClass("active"),"checkbox"!==s&&"radiobutton"!==s&&r.ink.hasClass("animate")&&r.ink.removeClass("animate")}}),i.off("mousedown.ripple"),i.on("mousedown.ripple",function(r){var n=e(t);e.jqx.ripple.mouseCaptured=!0,setTimeout(function(){0==n.find(".ink").length&&n.append("<span class='ink'></span>");var o=n.find(".ink");if(o.removeClass("animate"),!o.height()&&!o.width()){var a=Math.max(n.outerWidth(),n.outerHeight());o.css({height:a,width:a})}if("checkbox"===s||"radiobutton"===s){if("checkbox"===s&&i.jqxCheckBox("disabled"))return;if("radiobutton"===s&&i.jqxRadioButton("disabled"))return;var l=n.width()/2-o.width()/2,d=n.height()/2-o.height()/2;return o.css({top:d+"px",left:l+"px"}).addClass("animate"),void o.on("animationend",function(){e.jqx.ripple.mouseCaptured&&(o.removeClass("animate"),o.addClass("active"),t.addClass("active"))})}l=r.pageX-n.offset().left-o.width()/2,d=r.pageY-n.offset().top-o.height()/2;o.css({top:d+"px",left:l+"px"}).addClass("animate")})})}}(jqxBaseFramework),function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var s=arguments[1],r=0;r<i;){var n=t[r];if(e.call(s,n,r,t))return n;r++}},configurable:!0,writable:!0}),e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;s<i;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,o=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return o.slice(0)},n.toJSON=function(e,t){var i=o;t&&(i=t);var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(e){return'"'+e.replace(s,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function a(e){return e<10?"0"+e:e}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return i=t,isFinite(i.valueOf())?i.getUTCFullYear()+"-"+a(i.getUTCMonth()+1)+"-"+a(i.getUTCDate())+"T"+a(i.getUTCHours())+":"+a(i.getUTCMinutes())+":"+a(i.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(d(t,e)||"null");return"["+s.join(",")+"]"}(t)}var i;return function(t){var i,s,r=[];for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(""!=i&&e&&-1===e.indexOf(i))continue;(s=d(i,t))&&r.push(n(i)+":"+s)}return"{"+r.join(",")+"}"}(t)}function d(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?function(e,t){switch(t){case"string":return n(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,s):l(i)}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):d("",{"":i})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,a){var l=t[i],d=l,h=function(){return d},c=function(t){if(d!==(l=t)){var s=d;if(d=l,"function"==typeof r){var h=o.indexOf(a),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})};u(a,h),r({object:n,type:"update",path:c,index:h,name:i,newValue:l,oldValue:s})}}return d=l,l};null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:h,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,h),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var a=e.type(t[o]);"array"==a||"object"==a?(i(t,o,0,n),s(t[o],r+"."+o,n)):i(t,o,0,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(o[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=o.length,o.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},n.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},n.unshift=function(){for(var e=o.length,t=0,i=arguments.length;t<i;t++)o.splice(t,0,arguments[t]),n.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:n,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},n.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=o.slice(t,i);return new e.jqx.observableArray(r,s)},n.splice=function(t,i,s){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete n[o.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var d=2,h=arguments.length;d<h;d++)o.splice(t,0,arguments[d]),this.defineIndexProperty(o.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;return new e.jqx.observableArray(l,s)},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?n.splice(t):t>o.length&&n.push.apply(n,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(e<0||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,o[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=o.concat(t);return new e.jqx.observableArray(s,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=n.observing;n.observing=!1;var i=o[e].apply(o,arguments);return n.observing=t,i}})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,o=0;o<s.length;o++){if(0===o&&s[o]>=n.length)throw new Error("Invalid Index: "+t);o<s.length-1?r=r[s[o]]:r[s[o]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},e.jqx.formatNumber=function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortColumns&&(t.sortcolumns=t.sortColumns),void 0!==t.sortDirections&&(t.sortdirections=t.sortDirections),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=r.suspendKO&&null!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||null==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},formatNumber:function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),null==s.recordstartindex&&(s.recordstartindex=0),null==s.recordendindex&&(s.recordendindex=0),null==s.loadallrecords&&(s.loadallrecords=!0),null==s.root&&(s.root=""),null==s.record&&(s.record=""),null!=s.sort&&(this.sort=s.sort),null!=s.filter?this.filter=s.filter:this.filter=null,null!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),null!=s.sortdirection&&(this.sortdirection=s.sortdirection),null!=s.sortcolumns&&(this.sortcolumns=s.sortcolumns),null!=s.sortdirections&&(this.sortdirections=s.sortdirections),null!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=s.formatdata&&(r.formatData=s.formatdata),null!=s.data&&(null==r.data&&(r.data={}),e.extend(r.data,s.data)),null!=s.mapChar&&(s.mapchar=s.mapChar),null!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),null!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=s.datatype;"csv"!==s.datatype&&"tab"!==s.datatype&&"tsv"!==s.datatype&&"text"!=s.datatype||(a="text");var l=null==r.async||r.async;if(null!=s.async&&(l=s.async),"xlsx"===a&&s.url)if(s.localdata=[],a="array",window.jqxDataSource)(I=new window.jqxDataSource({dataSource:s.url,async:!1,dataFields:s.datafields})).notify(function(){s.url=null,s.localdata=I.boundSource,s.datatype="array",o.dataBind()});switch(a){case"local":case"array":case"observablearray":case"observableArray":default:if(null==s.localdata&&s.length){s.localdata=new Array;for(var d=0;d<s.length;d++)s.localdata[s.localdata.length]=s[d],s[d].uid=d}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var h=s.localdata.length;if(this.totalrecords=this.virtualmode&&s.totalrecords||h,this.unboundmode)if(this.totalrecords=this.unboundmode&&s.totalrecords||h,(p=s.datafields?s.datafields.length:0)>0)for(d=0;d<this.totalrecords;d++){for(var c={},u=0;u<p;u++)c[s.datafields[u].name]="";c.uid=d,s.localdata[s.localdata.length]=c}null==this.totalrecords&&(this.totalrecords=0);var p=s.datafields?s.datafields.length:0,m=function(t,i){for(var r={},n=0;n<i;n++){var a=s.datafields?s.datafields[n]:{},l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var d=a.map.split(o.mapChar);if(d.length>0){for(var h=t,c=0;c<d.length;c++)h&&(h=h[d[c]]);l=h}else l=t[a.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,null!=(l=t[a.name])&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=a.type&&("date"===a.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&a.map&&u&&(l=""),l=o.getvaluebytype(l,a),null!=a.displayname?r[a.displayname]=l:r[a.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var f=s._localdata();if(e.each(f,function(t,r){if("string"==typeof r)o.records.push(r);else{var n={},a=0,l=this;e.each(this,function(i,r){var d=null,h="string",c=i;if(p>0){for(var u=!1,m=!1,f=0;f<p;f++){var g=s.datafields[f];if(null!=g&&g.name==i){u=!0,d=g.map,h=g.type,c=g.name;break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){u=!0,d=g.map,h=g.type,c=g.name,m=!0;var v=l[i];if(null!=d)if((b=d.split(o.mapChar)).length>0){for(var x=l,w=0;w<b.length;w++)x=x[b[w]];v=x}else v=l[d];"string"!=h&&(v=o.getvaluebytype(v,{type:h})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}}if(!u)return!0;if(m)return!0}if(e.isFunction(l[i])){v=l[i]();if("string"!=h&&(v=o.getvaluebytype(v,{type:h})),n[i]=v,l[i].subscribe){var y=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(e){var t=y;n[i]=e;var s={index:t,oldrecord:n,record:n};if(o._changedrecords.push(s),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1})}}else{var b;v=l[i];if(null!=d)if((b=d.split(o.mapChar)).length>0){for(x=l,w=0;w<b.length;w++)x=x[b[w]];v=x}else v=l[d];"string"!=h&&(v=o.getvaluebytype(v,{type:h})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}});var d=o.getid(s.id,l,t);if(n.uid=d,o.records.push(n),n._koindex=a,o._oldrecords){var h=o.records.length-1;if("update"==i&&o._oldrecords[h]._koindex!=a){var c={index:h,oldrecord:o._oldrecords[h],record:n};o._changedrecords.push(c)}}}}),"add"==i)for(h=o.records.length,d=0;d<h;d++){c=o.records[d];for(var g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===c._koindex){g=!0;break}g||o._changedrecords.push({index:d,oldrecord:null,record:c,position:0!=d?"last":"first"})}else if("remove"==i)for(h=o._oldrecords.length,d=0;d<h;d++){var x=o._oldrecords[d];o.records[d]?o.records[d]._koindex!=x._koindex&&o._changedrecords.push({index:d,oldrecord:x,record:null}):o._changedrecords.push({index:d,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==p){w=0,y=new Array;e.each(s.localdata,function(t,i){var r=new Object(this);if("string"==typeof i)return o.records=s.localdata,!1;var n=o.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var a in this){w++;var l=e.type(this[a]);y.push({name:a,type:l})}p=w,s.datafields=y,s.generatedfields=y}if(p>0){var d=m(r,p);d.uid=n,o.records[o.records.length]=d}else o.records[o.records.length]=r})}else e.each(s.localdata,function(e){var t,i=m(t=this,p),r=o.getid(s.id,i,e);"object"==typeof r&&(r=e),(t=new Object(i)).uid=r,o.records[o.records.length]=t});else{this.records=new Array;var w=0,y=new Array;e.each(s.localdata,function(t){var i=o.getid(s.id,this,t);if(0==p&&!("string"==typeof this||this instanceof String)){for(var r in this){w++;var n=e.type(this[r]);y.push({name:r,type:n})}p=w,s.datafields=y,s.generatedfields=y}if(p>0){var a=m(this,p);a.uid=i,o.records[o.records.length]=a}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var b=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=b,this.cachedrecords=b}if(r.beforeLoadComplete)null!=(j=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=j,o.cachedrecords=j);if(r.autoSort&&r.autoSortField){var _=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0}),Object.prototype.toString=_}o.loadedData=s.localdata,o.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?o.loadxml(s.localdata,s.localdata,s):"text"===a?o.loadtext(s.localdata,s):"ics"===a?o.loadics(s.localdata,s):o.loadjson(s.localdata,s.localdata,s),o.addForeignValues(s),r.uniqueDataFields){b=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=b,o.cachedrecords=b}var j;if(r.beforeLoadComplete)null!=(j=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=j,o.cachedrecords=j);return o.loadedData=s.localdata,o.buildHierarchy.call(o),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records),void o.callBindingUpdate(i)}var q=null!=r.data?r.data:{};if(s.processdata&&s.processdata(q),e.isFunction(r.processData)&&r.processData(q),e.isFunction(r.formatData)){var T=r.formatData(q);null!=T&&(q=T)}var C="application/x-www-form-urlencoded";r.contentType&&(C=r.contentType);var S="GET";s.type&&(S=s.type),r.type&&(S=r.type);var k=a;if("ics"==a&&(k="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?o._requestData(q,s,r):this.xhr=e.jqx.data.ajax({dataType:k,cache:this.cache,type:S,url:s.url,async:l,timeout:s.timeout,contentType:C,data:q,success:function(t,i,n){var l;e.isFunction(s.beforeprocessing)&&(null!=(l=s.beforeprocessing(t,i,n))&&(t=l));e.isFunction(r.downloadComplete)&&(null!=(l=r.downloadComplete(t,i,n))&&(t=l));if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var d=t;if(t.records&&(d=t.records),null!=t.totalrecords?s.totalrecords=t.totalrecords:null!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?o.loadxml(null,d,s):"text"===a?o.loadtext(d,s):"ics"===a?o.loadics(d,s):o.loadjson(null,d,s),o.addForeignValues(s),r.uniqueDataFields){var h=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=h,o.cachedrecords=h}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(o.records,t);null!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,o.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!I)var I={};r.loadComplete(I)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy)(r=t.hierarchy.reservedNames).leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data");if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(s.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)null!=a&&(a=a[i[l]]);o=a}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(a),a[r.level]=0;var d=this.getid(t.id,a,o);a.uid=d,a[r.parent]=null,a[r.data]=a,void 0===a[r.expanded]&&(a[r.expanded]=!1);var h=function(e,i){if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o){l(o),o[r.level]=e[r.level]+1,o[r.parent]=e,o[r.data]=o;var a=s.getid(t.id,o,n);a==n&&null==t.id?o.uid=e.uid+"_"+a:o.uid=a,void 0===o[r.expanded]&&(o[r.expanded]=!1),h(o,o.records)}}else e.records=new Array};h(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){var c=new Array;for(o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this;if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var n=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==n&&(n={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[n.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(s){if(s)for(var n=0;n<s.length;n++){var a=s[n];if(a.uid==i){var l=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=a,e[l.level]=a[l.level]+1,a.records?a[l.leaf]=!1:(a.records=new Array,a[l.leaf]=!1),"last"==t?a.records.push(e):"number"==typeof t&&isFinite(t)?a.records.splice(t,0,e):a.records.splice(0,0,e),!0}a.records&&o(a.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){if((a=s[r]).uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var n=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==s){t.records.splice(r,1);break}}e[i].records&&n(e[i].records)}};a.records&&n(a.records);for(var o=0;o<t.records.length;o++){var a;if((a=t.records[o]).uid==e){t.records.splice(o,1);break}}return!0}a.records&&i(a.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){if(this.records[s].uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(o=(n=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(n=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;l<o;l++){var d=t.records[l],h=r.name,c=d[r.value];if(null!=a[c])d[h]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if(null==m&&(m=p.uid),m==c){var f=p[r.values.name];d[h]=f,a[c]=f;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(d=t.records[l])[r.name]=d[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(t,i,s){var r=this;s.loadServerData(t,i,function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var o=s.beforeLoadComplete(r.records,t);null!=o&&(r.records=o,r.cachedrecords=o)}for(var a=0;a<r.records.length;a++){var l=r.records[a];null!=l&&null==l.uid&&(l.uid=r.getid(i.id,l,a))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var d=0;d<s;d++){var h=t[d];void 0!==a[h]&&(l+=a[h]+"_")}!n[l]&&l&&(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var o={},a=new Array,l=n.length;if(0!=l&&null!=l){for(var d=0;d<l;d++)for(var h=n[d],c=0;c<t.length;c++){var u=t[c],p=h[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var m=function(t){for(var i in t){var s=o[u.name][i];null==s&&(o[u.name][i]=0,s=0),e.isFunction(t[i])&&(s=t[i](s,p,u.name,h,r)),o[u.name][i]=s}},f=parseFloat(p);(f=!isNaN(f))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==d?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void m(this);o[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&m(this)})}}for(c=0;c<t.length;c++){u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,function(e){o[u.name][this]=0})),null!=o[u.name].avg){p=o[u.name].avg;var g=a[u.name];o[u.name].avg=0===g||null==g?0:p/g}else null!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name].var||o[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[u.name][this],i=l,s=t/l,r=0,a=0;a<l;a++){var d=n[a][u.name];r+=(d-s)*(d-s)}var h="stdevp"==this||"varp"==this?i:i-1;0==h&&(h=1),"var"==this||"varp"==this?o[u.name][this]=r/h:"stdevp"!=this&&"stdev"!=this||(o[u.name][this]=Math.sqrt(r/h))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(var n in this){r=o[u.name][n];o[u.name][n]=e.jqx.dataFormat.formatnumber(r,s,i)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,o,a,l,d){d||(d=0);for(var h=new Array,c=0;c<t.length;c++)h[c]=this.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),a||(a="parentItem"),void 0===o&&(o="value");var u=new Array,p=0,m=new Array,f=t.length;new Array;if(!l)l=this.records;for(var g=l.length,v=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},x=0;x<g;x++){var w=v(l[x]),y=(w[this.uniqueId],new Array),b=0;for(c=0;c<f;c++){var _=w[t[c]];null!=_&&(y[b++]={value:_,hash:h[c]})}if(y.length!=f)break;for(var j=null,q="",T=0;T<y.length;T++){0;var C=y[T].value;if(null==m[q=q+"_"+y[T].hash+"_"+C]||null==m[q]){if(null==j){(j={level:0})[a]=null,j[s]=C,j[n]=w,void 0!==w.expanded?j.expanded=w.expanded:j.expanded=!1,o&&(j[o]=w[o]),j[i]=new Array;var S=u.length+d;this._source.id&&"number"!=typeof w.uid&&!isFinite(w.uid)||(S="Row"+S),j.uid=S,u[p++]=j}else{var k={level:j.level+1};k[a]=j,k[s]=C,k[i]=new Array,k[n]=w,void 0!==w.expanded?k.expanded=w.expanded:k.expanded=!1,o&&(k[o]=w[o]),k.uid=j.uid+"_"+j[i].length,j[i][j[i].length]=k,j=k}m[q]=j}else j=m[q]}w&&(w.leaf=!0),null!=j?(null==this._source.id&&(null==w.uid?w.uid=j.uid+"_"+j[i].length:-1==w.uid.toString().indexOf(j.uid)&&(w.uid=j.uid+"_"+w.uid)),w[a]=j,w.level=j.level+1,j[i][j[i].length]=w):null==w.uid&&(w.uid=this.generatekey())}return u},getRecordsHierarchy:function(t,i,s,r,n){var o=new Array,a=this.records;if(n&&(a=n),0==this.records.length)return null;for(var l=null!=s?s:"items",d=[],h=a,c=h.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},m=0;m<c;m++){var f=(v=e.extend({},h[m]))[i];d[g=v[t]]={parentid:f,item:v}}for(m=0;m<c;m++){f=(v=e.extend({},h[m]))[i];var g=v[t];if(null!=d[f]){var v={parentid:f,item:d[g].item},x=d[f].item;x[l]||(x[l]=[]);var w=x[l].length,y=v.item;u?null==y[u.parent]&&(y[u.parent]=x):null==y.parent&&(y.parent=x);var b=p(y);x[l][w]=b,d[f].item=x,d[g]=v}else{y=d[g].item;u?null==y[u.parent]&&(y[u.parent]=null):null==y.parent&&(y.parent=null);b=p(y);u?b[u.level]=0:b.level=0,o[o.length]=b}}if(0!=o.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){if(null!=(a=e(i).attr(t))&&a.toString().length>0)return e.trim(a).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var r=t.split(this.mapChar);if(r.length>1){for(var n=i,o=0;o<r.length;o++)null!=n&&(n=n[r[o]]);if(null!=n)return n}else if(null!=i[t])return i[t]}return s}if(null!=(a=e(i).attr(t.name))&&a.toString().length>0)return a;if(t.map)try{var a;if(null!=(a=e(i).attr(t.map))&&a.toString().length>0)return a;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=t||i)||(t=[]);var r=this;if(""!=s.root)if((q=s.root.split(r.mapChar)).length>1){for(var n=t,o=0;o<q.length;o++)null!=n&&(n=n[q[o]]);t=n}else{if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,function(e){if(this==s.root)return t=this,!1;null!=this[s.root]&&(t=this[s.root])}),!t)if((q=s.root.split(r.mapChar)).length>0){for(n=t,o=0;o<q.length;o++)null!=n&&(n=n[q[o]]);t=n}}else if(!t.length)for(var a in t)if(e.isArray(t[a])){t=t[a];break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var l=t.length;this.totalrecords=this.virtualmode&&s.totalrecords||l,this.records=new Array,this.originaldata=new Array;var d=this.records,h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(h=0,l=this.totalrecords);var c=0;this.virtualmode&&(c=h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,h=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var p=t[0],m=new Array;for(var a in p){var f=a;m[m.length]={name:f}}s.datafields=m,s.generatedfields=s.datafields,u=m.length}for(var g=h,v=h;v<l;v++){var x=t[v];if(null==x)break;if(!s.record||""==s.record||null!=(x=x[s.record])){var w=this.getid(s.id,x,v);if("object"==typeof w&&(w=v),!this.recordids[w]){this.recordids[w]=x;for(var y={},b=0;b<u;b++){var _=s.datafields[b],j="";if(null!=_&&null!=_){if(_.map){var q;if(e.isFunction(_.map))j=_.map(x);else if((q=_.map.split(r.mapChar)).length>0){var T=x;for(o=0;o<q.length;o++)null!=T&&(T=T[q[o]]);j=T}else j=x[_.map];null!=j&&null!=j?j=this.getvaluebytype(j,_):null==j&&null!=j&&(j="")}if(""==j&&!_.map&&(null==(j=x[_.name])&&null!=j&&(j=""),null!=_.value&&null!=j)){var C=j[_.value];null!=C&&(j=C)}if(j=this.getvaluebytype(j,_),null!=_.displayname?y[_.displayname]=j:y[_.name]=j,"array"===_.type){var S=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o=0;o<u;o++){var a=s.datafields[o],l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(n);else{var d=a.map.split(r.mapChar);if(d.length>0){for(var h=n,c=0;c<d.length;c++)null!=h&&(h=h[d[c]]);l=h}else l=n[a.map]}null!=l&&null!=l?l=this.getvaluebytype(l,a):null==l&&null!=l&&(l="")}if(""==l&&!a.map&&(null==(l=n[a.name])&&null!=l&&(l=""),null!=a.value&&null!=l)){var p=l[a.value];null!=p&&(l=p)}l=this.getvaluebytype(l,a),null!=a.displayname?n[a.displayname]=l:n[a.name]=l,"array"===a.type&&S.call(this,l)}}}};S.call(this,j)}}}(s.recordendindex<=0||h<s.recordendindex)&&(d[c+g]=new Object(y),d[c+g].uid=w,this.originaldata[c+g]=new Object(d[v]),g++)}}}this.records=d,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i))||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode&&s.totalrecords||r,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(a=o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,o=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var d=t[0],h=new Array;for(var c in d){var u=c;h[h.length]={name:u}}s.datafields=h,s.generatedfields=s.datafields,l=h.length}for(var p=o,m=o;m<r;m++){if(null==(S=t[m]))break;var f=this.getid(s.id,S,m);if(!this.recordids[f]){this.recordids[f]=S;var g={},v=!1;s.hierarchy&&s.hierarchy.root&&(v=!0);for(var x=0;x<l;x++){var w=s.datafields[x],y="";if(null!=w&&null!=w){if(w.map)if(e.isFunction(w.map))y=w.map(S);else{var b=w.map.indexOf("[");if(b<0)if(1==(y=e(w.map,S)).length)y=y.text();else{!0;for(var _=new Array,j=0;j<y.length;j++)_.push(e(y[j]).text());y=_,v&&_.length>0&&(y=_[0])}else{var q=w.map.substring(0,b-1),T=w.map.indexOf("]"),C=w.map.substring(b+1,T);null==(y=e(q,S).attr(C))&&(y=e(S).attr(C)),null==y&&(y="")}""==y&&null==(y=e(S).attr(w.map))&&(y="")}if(""==y){if(1==(y=e(w.name,S)).length)y=y.text();else{for(_=new Array,j=0;j<y.length;j++)_.push(e(y[j]).text());y=_,v&&_.length>0&&(y=_[0])}""==y&&null==(y=e(S).attr(w.name))&&(y=""),""==y&&S.nodeName&&S.nodeName==w.name&&S.firstChild&&(y=e(S.firstChild).text())}y=this.getvaluebytype(y,w),null!=w.displayname?g[w.displayname]=y:g[w.name]=y}}(s.recordendindex<=0||o<s.recordendindex)&&(n[a+p]=e.extend({},g),n[a+p].uid=f,this.originaldata[a+p]=e.extend({},n[m]),p++)}}if(s.hierarchy&&s.hierarchy.root)for(m=o;m<r;m++){var S=t[m],k=n[m];if(e(S).parent().length>0){f=this.getid(s.id,e(S).parents(s.hierarchy.record+":first"));k.parentuid=f}else k.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&n.length>1&&(r=(s=n).length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var d=s[l];if("BEGIN:VEVENT"!=d)if(d.indexOf("SUMMARY")>=0)c.SUMMARY=d.substring(d.indexOf("SUMMARY")+8);else if(d.indexOf("LOCATION")>=0)c.LOCATION=d.substring(d.indexOf("LOCATION")+9);else if(d.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12);else if(d.indexOf("RRULE")>=0)c.RRULE=d.substring(d.indexOf("RRULE")+6);else if(d.indexOf("EXDATE")>=0){var h=d.substring(d.indexOf("EXDATE")+7);c.EXDATE=h}else d.indexOf("DTEND")>=0?c.DTEND=a(d.substring(d.indexOf("DTEND")+6)):d.indexOf("DTSTART")>=0?c.DTSTART=a(d.substring(d.indexOf("DTSTART")+8)):d.indexOf("UID")>=0?c.uid=c.UID=d.substring(d.indexOf("UID")+4):d.indexOf("STATUS")>=0?c.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,o=t.split("\r");1==n&&o.length>1&&(n=(r=o).length),this.totalrecords=this.virtualmode&&i.totalrecords||n,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var d=0;this.virtualmode&&(d=l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,l=0,n=this.totalrecords);var h=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=l;u<n;u++){var p=r[u],m=null;if(!this.recordids[m]){null==i.id&&(m=u,this.recordids[m]=p);for(var f={},g=r[u].split(c),v=0;v<h;v++)if(!(v>=g.length)){var x=i.datafields[v],w=g[v];x.map&&e.isFunction(x.map)&&(w=x.map(p)),x.type&&(w=this.getvaluebytype(w,x)),f[x.map||x.name||v.toString()]=w,null!=i.id&&i.id===x.name&&(m=w,this.recordids[m]=p)}null==m&&(m=u),a[d+u]=e.extend({},f),a[d+u].uid=m,this.originaldata[d+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var s;this.isNumber(e)||(e*=1),t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=e<0,l=e+"",d=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var h=r.decimalPlaces,c=Math.pow(10,h);if(o=(l=(e*c).toFixed(0)/c+"").lastIndexOf("."),h>0)for(o<0?o=(l+=d).length-1:"."!==d&&(l=l.replace(".",d));l.length-1-o<h;)l+="0"}else{(o=(l=e+"").lastIndexOf("."))>0&&null==h&&"."!==d&&(l=l.replace(".",d))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=(o=l.lastIndexOf(d))>-1?o:l.length;for(var p=l.substring(o),m=-1,f=o;f>0;f--)++m%3==0&&f!==o&&(!a||f>1)&&(p=u+p),p=l.charAt(f-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){null!=i&&null!=i||(i=this.defaultcalendar());var s=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(r=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var r=null;(B=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(r=new Date(1*B[1]+36e5*B[2]+6e4*B[3]))}if(null==r||"Invalid Date"==r||isNaN(r)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(n){var o=new Date(parseInt(n[1]));if(n[2]){var a=parseInt(n[3]);"-"===n[2]&&(a=-a);var l=o.getUTCMinutes();o.setUTCMinutes(l-a)}if(!isNaN(o.valueOf()))return o}}return r}var d,h,c=i.patterns;for(var u in c)if(r=s.parsedate(t,c[u],i)){if("ISO"==u)if(p=s.parsedate(t,c.ISO2,i))return p;return r}if(null!=t){for(var p=null,m=[":","/","-"],f=!0,g=0;g<m.length;g++)-1!=t.indexOf(m[g])&&(f=!1);if(f){var v=new Number(t);if(!isNaN(v))return new Date(v)}}if("string"===e.type(t)){var x=s;t=x.trim(t);var w=[":","/","-"," ",","];d=", ",h=",";var y="",b=t=t.replace(new RegExp(d,"g"),h);t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=x.trim(y),b=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=x.trim(y),b=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=x.trim(y),b=t.substring(0,t.toUpperCase().indexOf("PM")-2));var _=new Date,j=!1;if(b){for(var q=0;q<w.length;q++)if(b.indexOf(w[q])>=0){m=b.split(w[q]);break}var T=new Array,C=new Array,S=new Array,k=null,I=null;for(q=0;q<m.length;q++){g=m[q];var D=x.parsedate(g,"d",i)||x.parsedate(g,"dd",i)||x.parsedate(g,"ddd",i)||x.parsedate(g,"dddd",i);if(D&&g.length<=2){k=q,T.push(D.getDate());break}}for(q=0;q<m.length;q++){g=m[q];var P=x.parsedate(g,"M",i)||x.parsedate(g,"MM",i)||x.parsedate(g,"MMM",i)||x.parsedate(g,"MMMM",i);if(P){if(null!=k&&k==q)continue;if(C.push(P.getMonth()),g.length>2){I=q;break}}}for(q=0;q<m.length;q++){g=m[q];var A=x.parsedate(g,"yyyy",i);if(A){if(null!=k&&k==q)continue;if(null!=I&&I==q)continue;S.push(A.getFullYear())}}for(var M=new Array,H=0;H<T.length;H++)for(var B=0;B<C.length;B++)for(var z=0;z<S.length;z++){o=new Date(S[z],C[B],T[H]);S[z]<1970&&o.setFullYear(S[z]),NaN!=o.getTime()&&M.push(o)}M.length>0&&(_=M[0],j=!0)}if(y){var E=y.indexOf(":")>=0?y.split(":"):y,L=x.parsedate(y,"h:mm tt",i)||x.parsedate(y,"h:mm:ss tt",i)||x.parsedate(y,"HH:mm:ss.fff",i)||x.parsedate(y,"HH:mm:ss.ff",i)||x.parsedate(y,"HH:mm:ss.tttt",i)||x.parsedate(y,"HH:mm:ss",i)||x.parsedate(y,"HH:mm",i)||x.parsedate(y,"HH",i),N=0,O=0,R=0,F=0;L&&NaN!=L.getTime()?(N=L.getHours(),O=L.getMinutes(),R=L.getSeconds(),F=L.getMilliseconds()):(1==E.length&&(N=parseInt(E[0])),2==E.length&&(N=parseInt(E[0]),O=parseInt(E[1])),3==E.length&&(N=parseInt(E[0]),O=parseInt(E[1]),E[2].indexOf(".")>=0?(R=parseInt(E[2].toString().split(".")[0]),F=parseInt(E[2].toString().split(".")[1])):R=parseInt(E[2])),4==E.length&&(N=parseInt(E[0]),O=parseInt(E[1]),R=parseInt(E[2]),F=parseInt(E[3]))),!_||isNaN(N)||isNaN(O)||isNaN(R)||isNaN(F)||(_.setHours(N,O,R,F),j=!0)}if(j)return _}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=this.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index);if(l=h.lastIndex,(d+=this.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var f={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:a};return i[t]=f},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);(t+=n-n%100)>r&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,d=null,h=null,c=null,u=null,p=0,m=0,f=0,g=0,v=null,x=!1,w=0,y=a.length;w<y;w++){var b=n[w+1];if(b){var _=a[w],j=_.length,q=parseInt(b,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(s,b,3===j),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=q-1,this.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=j<4?this.expandYear(s,q):q,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(12===(p=q)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=q,this.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=q,this.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(b===s.PM[0]||b===s.PM[1]||b===s.PM[2]))&&(!s.AM||b!==s.AM[0]&&b!==s.AM[1]&&b!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,b,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var T=b.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),this.outOfRange(o,-12,13))return null;var C=parseInt(T[1],10);if(this.outOfRange(C,0,59))return null;v=60*o+(this.startsWith(b,"-")?-C:C);break;case"z":case"zz":if(o=q,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var S=b;if(!S||!s.eras)return null;S=this.trim(S.toLowerCase());for(var k=0,I=s.eras.length;k<I;k++)if(S===s.eras[k].name.toLowerCase()){l=k;break}if(null===l)return null}}}var D,P=new Date,A=s.convert;if(D=P.getFullYear(),null===d?d=D:s.eras&&(d+=s.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),A){if(null===(P=A.toGregorian(d,h,c)))return null}else{if(P.setFullYear(d,h,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(x&&p<12&&(p+=12),P.setHours(p,m,f,g),null!==v){var M=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(M/60,10),M%60)}return P},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var s,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return s=this.formatDate(e,i.patterns.F,i);var n=i.eras,o="s"===t;t=this.expandFormat(i,t),s=[];var a,l,d=["0","00","000"],h=0,c=this.getTokenRegExp();function u(e,t){var i,s=e+"";return t>1&&s.length<t?(i=d[t-2]+s).substr(i.length-t,t):i=s}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var m=c.lastIndex,f=c.exec(t),g=t.slice(m,f?f.index:t.length);if(h+=this.appendPreOrPostMatch(g,s),!f)break;if(h%2)s.push(f[0]);else{var v=f[0],x=v.length;switch(v){case"ddd":case"dddd":var w=3===x?i.days.namesAbbr:i.days.names;s.push(w[e.getDay()]);break;case"d":case"dd":!0,s.push(u(p(e,2),x));break;case"MMM":case"MMMM":var y=p(e,1);s.push(i.months[3===x?"namesAbbr":"names"][y]);break;case"M":case"MM":s.push(u(p(e,1)+1,x));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,n),o),x<4&&(y%=100),s.push(u(y,x));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),s.push(u(a,x));break;case"H":case"HH":s.push(u(e.getHours(),x));break;case"m":case"mm":s.push(u(e.getMinutes(),x));break;case"s":case"ss":s.push(u(e.getSeconds(),x));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",s.push(1===x?y.charAt(0):y);break;case"f":case"ff":case"fff":s.push(u(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),x));break;case"zzz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&s.push(i.eras[this.getEra(e,n)].name);break;case"/":s.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var b=s.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=b,b}}),e.jqx.data={};var t,i,s=/#.*$/,r=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,n=/^(?:GET|HEAD)$/,o=/^\/\//,a=/\?/,l=/([?&])_=[^&]*/,d=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,h=/\s+/,c=(e.fn.load,{}),u={},p=["*/"]+["*"];try{i=location.href}catch(e){(i=document.createElement("a")).href="",i=i.href}function m(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,o=i.toLowerCase().split(h),a=0,l=o.length;if(e.isFunction(s))for(;a<l;a++)r=o[a],(n=/^\+/.test(r))&&(r=r.substr(1)||"*"),(t[r]=t[r]||[])[n?"unshift":"push"](s)}}function f(e,t,i,s,r,n){(n=n||{})[r=r||t.dataTypes[0]]=!0;for(var o,a=e[r],l=0,d=a?a.length:0,h=e===c;l<d&&(h||!o);l++)"string"==typeof(o=a[l](t,i,s))&&(!h||n[o]?o=void 0:(t.dataTypes.unshift(o),o=f(e,t,i,s,o,n)));return!h&&o||n["*"]||(o=f(e,t,i,s,"*",n)),o}function g(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}t=d.exec(i.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?g(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),g(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":p},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(c),ajaxTransport:m(u),ajax:function(i,m){"object"==typeof i&&(m=i,i=void 0),m=m||{};var g,v,x,w,y,b,_,j,q=e.jqx.data.ajaxSetup({},m),T=q.context||q,C=T!==q&&(T.nodeType||T instanceof e)?e(T):e.event,S=e.Deferred(),k=e.Callbacks("once memory"),I=q.statusCode||{},D={},P={},A=0,M="canceled",H={readyState:0,setRequestHeader:function(e,t){if(!A){var i=e.toLowerCase();e=P[i]=P[i]||e,D[e]=t}return this},getAllResponseHeaders:function(){return 2===A?v:null},getResponseHeader:function(e){var t;if(2===A){if(!x)for(x={};t=r.exec(v);)x[t[1].toLowerCase()]=t[2];t=x[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return A||(q.mimeType=e),this},abort:function(e){return e=e||M,w&&w.abort(e),B(0,e),this}};function B(t,i,s,r){var n,o,a,l,d,h=i;2!==A&&(A=2,y&&clearTimeout(y),w=void 0,v=r||"",H.readyState=t>0?4:0,s&&(l=function(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(t[d[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}(q,H,s)),t>=200&&t<300||304===t?(q.ifModified&&((d=H.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=d),(d=H.getResponseHeader("Etag"))&&(e.etag[g]=d)),304===t?(h="notmodified",n=!0):(h=(n=function(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++d];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(s in l)if((n=s.split(" "))[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],o.splice(d--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}(q,l)).state,o=n.data,n=!(a=n.error))):(a=h,h&&!t||(h="error",t<0&&(t=0))),H.status=t,H.statusText=(i||h)+"",n?S.resolveWith(T,[o,h,H]):S.rejectWith(T,[H,h,a]),H.statusCode(I),I=void 0,_&&C.trigger("ajax"+(n?"Success":"Error"),[H,q,n?o:a]),k.fireWith(T,[H,h]),_&&(C.trigger("ajaxComplete",[H,q]),--e.active||e.event.trigger("ajaxStop")))}if(S.promise(H),H.success=H.done,H.error=H.fail,H.complete=k.add,H.statusCode=function(e){var t;if(e)if(A<2)for(t in e)I[t]=[I[t],e[t]];else t=e[H.status],H.always(t);return this},q.url=((i||q.url)+"").replace(s,"").replace(o,t[1]+"//"),q.dataTypes=e.trim(q.dataType||"*").toLowerCase().split(h),null==q.crossDomain&&(b=d.exec(q.url.toLowerCase()),q.crossDomain=!(!b||b[1]===t[1]&&b[2]===t[2]&&(b[3]||("http:"===b[1]?80:443))==(t[3]||("http:"===t[1]?80:443)))),q.data&&q.processData&&"string"!=typeof q.data&&(q.data=e.param(q.data,q.traditional)),f(c,q,m,H),2===A)return H;if(_=q.global,q.type=q.type.toUpperCase(),q.hasContent=!n.test(q.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!q.hasContent&&(q.data&&(q.url+=(a.test(q.url)?"&":"?")+q.data,delete q.data),g=q.url,!1===q.cache)){var z=(new Date).getTime(),E=q.url.replace(l,"$1_="+z);q.url=E+(E===q.url?(a.test(q.url)?"&":"?")+"_="+z:"")}for(j in(q.data&&q.hasContent&&!1!==q.contentType||m.contentType)&&H.setRequestHeader("Content-Type",q.contentType),q.ifModified&&(g=g||q.url,e.lastModified[g]&&H.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&H.setRequestHeader("If-None-Match",e.etag[g])),H.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+p+"; q=0.01":""):q.accepts["*"]),q.headers)H.setRequestHeader(j,q.headers[j]);if(q.beforeSend&&(!1===q.beforeSend.call(T,H,q)||2===A))return H.abort();for(j in M="abort",{success:1,error:1,complete:1})H[j](q[j]);if(w=f(u,q,m,H)){H.readyState=1,_&&C.trigger("ajaxSend",[H,q]),q.async&&q.timeout>0&&(y=setTimeout(function(){H.abort("timeout")},q.timeout));try{A=1,w.send(D,B)}catch(e){if(!(A<2))throw e;B(-1,e)}}else B(-1,"No Transport");return H},active:0,lastModified:{},etag:{}});var v=[],x=/\?/,w=/(=)\?(?=&|$)|\?\?/,y=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=v.pop()||e.expando+"_"+y++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,o,a=t.data,l=t.url,d=!1!==t.jsonp,h=d&&w.test(l),c=d&&!h&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&w.test(a);if("jsonp"===t.dataTypes[0]||h||c)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],h?t.url=l.replace(w,"$1"+r):c?t.data=a.replace(w,"$1"+r):d&&(t.url+=(x.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||e.error(r+" was not called"),o[0]},t.dataTypes[0]="json",window[r]=function(){o=arguments},s.always(function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,v.push(r)),o&&e.isFunction(n)&&n(o[0]),o=n=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var b,_,j=!!window.ActiveXObject&&function(){for(var e in b)b[e](0,1)},q=0;function T(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&T()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:T,_=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!_,cors:!!_&&"withCredentials"in _}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){var i;if(!t.crossDomain||e.support.cors)return{send:function(s,r){var n,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)a.setRequestHeader(o,s[o])}catch(e){}a.send(t.hasContent&&t.data||null),i=function(e,s){var o,l,d,h,c;try{if(i&&(s||4===a.readyState))if(i=void 0,n&&(a.onreadystatechange=function(){},j&&delete b[n]),s)4!==a.readyState&&a.abort();else{o=a.status,d=a.getAllResponseHeaders(),h={},(c=a.responseXML)&&c.documentElement&&(h.xml=c);try{h.text=a.responseText}catch(e){}try{l=a.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(e){s||r(-1,e)}h&&r(o,l,h,d)},t.async?4===a.readyState?setTimeout(i,0):(n=++q,j&&(b||(b={},e(window).unload(j)),b[n]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],n=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<n.length;i++){var s=n[i].evaluate(e);t=0==i?s:1==o[i]||"or"==o[i]?t||s:t&&s}return t},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,n){switch(e){case"numericfilter":i=n;break;case"stringfilter":t=n;break;case"datefilter":s=n;break;case"booleanfilter":r=n}},this.getoperatorsbyfiltertype=function(e){var n=new Array;switch(e){case"numericfilter":n=i.slice(0);break;case"stringfilter":n=t.slice(0);break;case"datefilter":n=s.slice(0);break;case"booleanfilter":n=r.slice(0)}return n};var a=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||null==e)return null;switch(e){case"numericfilter":return new h(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new c(t,i.toUpperCase(),r,n);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new u(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:o[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=a(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e?null:e<0||e>n.length?null:o[e]},this.setoperatorat=function(e,t){return null==e||null==e?null:e<0||e>n.length?null:void(o[t]=t)},this.getfilterat=function(e){return null==e||null==e?null:e<0||e>n.length?null:n[e]},this.setfilterat=function(e,t){return null==e||null==e?null:e<0||e>n.length?null:(t.key=a(),void(n[e]=t))},this.clear=function(){n=new Array,o=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||null==t||""==t){if("NULL"==s)return!0;if("NOT_NULL"==s)return!1;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(e){return!0}var n=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexO&&"NOT_EQUAL"!==s&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array,c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(u=0;u<p.length;u++)p[u]=e.trim(p[u]);if(a=(a=a.concat(p)).concat(d),l=(l=l.concat(c)).concat(h),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var m=void 0,f=0;f<o.length;f++){var g=n(r,t=o[f]),v=f<a.length?"and":"or";m=null==m?g:"or"==v?m||g:m&&g}return m}return n(r,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var n=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i=i.replace("$","")),i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array;a=a.concat(d),l=l.concat(h);var c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);if(l=l.concat(c),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var p=void 0,m=0;m<o.length;m++){if((t=o[m])&&t.indexOf&&t.indexOf("..")>=0){var f=t.toString().split("..");2==f.length&&(g=r>=f[0]&&r<=f[1])}else var g=n(r,t);var v=m<a.length?"and":"or";p=null==p?g:"or"==v?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(o=i.toString().split("..")).length?r>=o[0]&&r<=o[1]:n(r,i)}},c=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var n=this;if(null!=s&&null!=r){var o=e.jqx.dataFormat.parsedate(t,s,r);if(null!=o)this.filterdate=o;else{var a=e.jqx.dataFormat.tryparsedate(t,r);null!=a&&(this.filterdate=a)}}else{var l;"NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.filterdate||("NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l);this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);a=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l;var d=!1;if(null!=s&&null!=r)if(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)if(d=!0,i&&-1==i.toString().indexOf(":"))null!=(j=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r))&&(n.filterdate=j);null!=s&&(s.indexOf("hh")>=0||s.indexOf("t")>=0)&&(d=!0),d||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=n.filterdate)i=n.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var h=new Date(a);h.setHours(12,0,0,0);for(var c=i.split(":"),u=0;u<c.length;u++)0==u&&h.setHours(c[u]),1==u&&h.setMinutes(c[u]),2==u&&h.setSeconds(c[u]);i=h}d&&i&&i.setFullYear&&a&&a.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var p=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(j=p(a,i))return j;var f=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,x=i.indexOf(" or ")>=0?i.split(" or "):new Array;f=f.concat(v),g=g.concat(x);var w=i.indexOf("|")>=0?i.split("|"):new Array;if(w.length>0)for(u=0;u<w.length;u++)w[u]=e.trim(w[u]);if(g=g.concat(w),f.length>0)for(u=0;u<f.length;u++)!f[u].indexOf(" OR ")>=0&&m.push(f[u]);if(g.length>0)for(u=0;u<g.length;u++)!g[u].indexOf(" AND ")>=0&&m.push(g[u]);for(var y=void 0,b=0;b<m.length;b++){if((t=m[b])&&t.indexOf&&t.indexOf("..")>=0){var _=t.toString().split("..");2==_.length&&(j=a>=_[0]&&a<=_[1])}else var j=p(a,t);var q=b<f.length?"and":"or";y=null==y?j:"or"==q?y||j:y&&j}return y}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(m=i.toString().split("..")).length?a>=m[0]&&a<=m[1]:p(a,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){e.jqx.timeSpan=function(){e.extend(!0,this,{ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0});var t=this;if(t.ticks=function(){return t._ticks},t.days=function(){return parseInt(t._ticks/t.ticksPerDay)},t.timeToMS=function(e,i,s,r){return parseInt((3600*e+60*i+s+r/1e3)*t.ticksPerSecond)},t.hours=function(){return parseInt(t._ticks/t.ticksPerHour)%24},t.milliseconds=function(){return parseInt(t._ticks/t.ticksPerMillisecond)%1e3},t.minutes=function(){return parseInt(t._ticks/t.ticksPerMinute)%60},t.seconds=function(){return parseInt(t._ticks/t.ticksPerSecond)%60},t.totalDays=function(){return parseInt(t._ticks*t.daysPerTick)},t.totalHours=function(){return parseInt(t._ticks*t.hoursPerTick)},t.totalMilliseconds=function(){var e=t._ticks*t.millisecondsPerTick;return parseInt(e)},t.totalMinutes=function(){return parseInt(t._ticks*t.minutesPerTick)},t.totalSeconds=function(){return parseInt(t._ticks*t.secondsPerTick)},1===arguments.length)t._ticks=arguments[0];else if(3===arguments.length)t._ticks=t.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){var i=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0;t._ticks=i*t.ticksPerMillisecond}else if(5===arguments.length){i=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4];t._ticks=i*t.ticksPerMillisecond}return t.add=function(i){var s=t._ticks+i._ticks;return new e.jqx.timeSpan(s)},t.substract=function(i){var s=t._ticks-i._ticks;return new e.jqx.timeSpan(s)},t.duration=function(){return t._ticks>=0?new e.jqx.timeSpan(t._ticks):new e.jqx.timeSpan(-t._ticks)},t.equals=function(e){return t._ticks==e._ticks},t.valueOf=function(){return t._ticks},t.compare=function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0},t.interval=function(i,s){var r=i*s+(i>=0?.5:-.5);return new e.jqx.timeSpan(r*t.ticksPerMillisecond)},t.fromDays=function(e){return t.interval(e,t.millisPerDay)},t.fromHours=function(e){return t.interval(e,t.millisPerHour)},t.fromMilliseconds=function(e){return t.interval(e,1)},t.fromMinutes=function(e){return t.interval(e,t.millisPerMinute)},t.fromSeconds=function(e){return t.interval(e,t.millisPerSecond)},t.fromTicks=function(t){return new e.jqx.timeSpan(t)},t};var t=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],i=[0,31,59,90,120,151,181,212,243,273,304,334,365],s=[0,31,60,91,121,152,182,213,244,274,305,335,366];e.jqx.date=function(){var r=this;if(r.ticksPerMillisecond=1e4,r.millisecondsPerTick=1e-4,r.ticksPerSecond=1e7,r.secondsPerTick=1e-7,r.ticksPerMinute=6e8,r.minutesPerTick=1/6e8,r.ticksPerHour=36e9,r.hoursPerTick=1/36e9,r.ticksPerDay=864e9,r.daysPerTick=1/864e9,r.millisPerSecond=1e3,r.millisPerMinute=6e4,r.millisPerHour=36e5,r.millisPerDay=864e5,r.daysPerYear=365,r.daysPer4Years=1461,r.daysPer100Years=36524,r.daysPer400Years=146097,r.daysTo1601=584388,r.daysTo1899=693593,r.daysTo10000=3652059,r.minTicks=0,r.maxTicks=3155378976e9,r.maxMillis=3155378976e5,r.datePartYear=0,r.datePartDayOfYear=1,r.datePartMonth=2,r.datePartDay=3,r.daysToMonth365=i,r.daysToMonth366=s,r.minValue=new Date(0),r.maxValue=new Date(3155378976e9),r.ticksMask=0x4000000000000000,r.flagsMask=0xc000000000000000,r.localMask=0x8000000000000000,r.ticksCeiling=0x4000000000000000,r.kindUnspecified=0,r.kindUtc=0x4000000000000000,r.kindLocal=0x8000000000000000,r.kindLocalAmbiguousDst=0xc000000000000000,r.kindShift=62,r.regexTrim=/^\s+|\s+$/g,r.regexInfinity=/^[+-]?infinity$/i,r.regexHex=/^0x[a-f0-9]+$/i,r.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,r.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},r.dateData=0,r.timeZone=null,r.timeZones=t,r.internalMS=function(){return r.dateData},r.getDatePart=function(e){var t=r.internalMS(),i=parseInt(t/r.millisPerDay),s=parseInt(i/r.daysPer400Years);i-=s*r.daysPer400Years;var n=parseInt(i/r.daysPer100Years);4==n&&(n=3),i-=n*r.daysPer100Years;var o=parseInt(i/r.daysPer4Years);i-=o*r.daysPer4Years;var a=parseInt(i/r.daysPerYear);if(4==a&&(a=3),e==r.datePartYear)return parseInt(400*s+100*n+4*o+a+1);if(i-=a*r.daysPerYear,e==r.datePartDayOfYear)return parseInt(i+1);for(var l=3==a&&(24!=o||3==n)?r.daysToMonth366:r.daysToMonth365,d=i>>6;i>=l[d];)d++;return e==r.datePartMonth?parseInt(d):parseInt(i-l[d-1]+1)},r.dayOfWeek=function(){var e=r.dateData;return parseInt(e/r.millisPerDay+1)%7},r.dayOfYear=function(){return r.getDatePart(r.datePartDayOfYear)},r.weekOfYear=function(e){var t=r.toDate(),i=e||r.calendar.firstDay,s=new Date(t.getFullYear(),0,1),n=s.getDay()-i;n=n>=0?n:n+7;var o,a=Math.floor((t.getTime()-s.getTime()-6e4*(t.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;if(n<4){if((o=Math.floor((a+n-1)/7)+1)>52){var l=new Date(t.getFullYear()+1,0,1).getDay()-i;o=(l=l>=0?l:l+7)<4?1:53}}else o=Math.floor((a+n-1)/7);return o},r.subtract=function(t){return new e.jqx.timeSpan(r.dateData*r.ticksPerMillisecond-t.dateData*r.ticksPerMillisecond)},r.dateToMS=function(e,t,i){if(e>=1&&e<=9999&&t>=1&&t<=12){e=parseInt(e);var s=r.isLeapYear(e)?r.daysToMonth366:r.daysToMonth365;if(i>=1&&i<=s[t]-s[t-1]){var n=e-1;return(365*n+parseInt(n/4)-parseInt(n/100)+parseInt(n/400)+s[t-1]+i-1)*r.millisPerDay}}},r.isLeapYear=function(e){if(e<1||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},r.timeToMS=function(e,t,i,s){if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){var n=parseInt(3600*e+60*t+i);return s>0&&s<1e3?n*r.millisPerSecond+s:n*r.millisPerSecond}},r.daysInMonth=function(e,t){if(t<1||t>12)throw new Error("Month out of Range");var i=r.isLeapYear(e)?r.daysToMonth366:r.daysToMonth365;return i[t]-i[t-1]},r.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},r.startsWith=function(e,t){return 0===e.indexOf(t)},r.endsWith=function(e,t){return e.substr(e.length-t.length)===t},r.trim=function(e){return(e+"").replace(r.regexTrim,"")},r.expandFormat=function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},r.getEra=function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},r.toUpper=function(e){return e.split("Â ").join(" ").toUpperCase()},r.toUpperArray=function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=r.toUpper(e[i]);return t},r.getEraYear=function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},r.getDayIndex=function(e,t,i){var s,n=e.days,o=e._upperDays;return o||(e._upperDays=o=[r.toUpperArray(n.names),r.toUpperArray(n.namesAbbr),r.toUpperArray(n.namesShort)]),t=t.toUpperCase(),i?-1===(s=r.arrayIndexOf(o[1],t))&&(s=r.arrayIndexOf(o[2],t)):s=r.arrayIndexOf(o[0],t),s},r.getMonthIndex=function(e,t,i){var s=e.months,n=e.monthsGenitive||e.months,o=e._upperMonths,a=e._upperMonthsGen;o||(e._upperMonths=o=[r.toUpperArray(s.names),r.toUpperArray(s.namesAbbr)],e._upperMonthsGen=a=[r.toUpperArray(n.names),r.toUpperArray(n.namesAbbr)]),t=r.toUpper(t);var l=r.arrayIndexOf(i?o[1]:o[0],t);return l<0&&(l=r.arrayIndexOf(i?a[1]:a[0],t)),l},r.appendPreOrPostMatch=function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},r.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},r.tryparseDate=function(t,i,s){if(null==i||null==i)i=r.calendar;else if(null!=i&&i&&"string"===e.type(i)&&Globalize){var n=Globalize.cultures[i];n&&(i=n.calendar)}if(null!=s){if("array"===e.type(s))for(var o=0;o<s.length;o++){if(a=r.parseDate(t,s[o],i))return a}var a;if(a=r.parseDate(t,s,i))return a}if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(l=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var l=null;(H=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(l=new Date(1*H[1]+36e5*H[2]+6e4*H[3]))}if(null==l||"Invalid Date"==l||isNaN(l)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(d){var h=new Date(parseInt(d[1]));if(d[2]){var c=parseInt(d[3]);"-"===d[2]&&(c=-c);var u=h.getUTCMinutes();h.setUTCMinutes(u-c)}if(!isNaN(h.valueOf()))return h}}return l}var p={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var m in p)if(l=r.parseDate(t,p[m],i))return l;var f,g,v=i.patterns;for(m in v)if(l=r.parseDate(t,v[m],i)){if("ISO"==m)if(F=r.parseDate(t,v.ISO2,i))return F;return l}if("string"===e.type(t)){t=r.trim(t);var x=[":","/","-"," ",","];f=", ",g=",";var w="",y=t=t.replace(new RegExp(f,"g"),g);t.indexOf(":")>=0?(w=t.substring(t.indexOf(":")-2),w=r.trim(w),y=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(w=t.substring(t.toUpperCase().indexOf("AM")-2),w=r.trim(w),y=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(w=t.substring(t.toUpperCase().indexOf("PM")-2),w=r.trim(w),y=t.substring(0,t.toUpperCase().indexOf("PM")-2));var b=new Date,_=!1;if(y){for(o=0;o<x.length;o++)if(y.indexOf(x[o])>=0){W=y.split(x[o]);break}var j=new Array,q=new Array,T=new Array,C=null,S=null;for(o=0;o<W.length;o++){var k=W[o],I=r.parseDate(k,"d",i)||r.parseDate(k,"dd",i)||r.parseDate(k,"ddd",i)||r.parseDate(k,"dddd",i);if(I&&(j.push(I.getDate()),k.length>2)){C=o;break}}for(o=0;o<W.length;o++){k=W[o];var D=r.parseDate(k,"M",i)||r.parseDate(k,"MM",i)||r.parseDate(k,"MMM",i)||r.parseDate(k,"MMMM",i);if(D){if(null!=C&&C==o)continue;if(q.push(D.getMonth()),k.length>2){S=o;break}}}for(o=0;o<W.length;o++){k=W[o];var P=r.parseDate(k,"yyyy",i);if(P){if(null!=C&&C==o)continue;if(null!=S&&S==o)continue;T.push(P.getFullYear())}}for(var A=new Array,M=0;M<j.length;M++)for(var H=0;H<q.length;H++)for(var B=0;B<T.length;B++){h=new Date(T[B],q[H],j[M]);T[B]<1970&&h.setFullYear(T[B]),NaN!=h.getTime()&&A.push(h)}A.length>0&&(b=A[0],_=!0)}if(w){var z=w.indexOf(":")>=0?w.split(":"):w,E=r.parseDate(w,"h:mm tt",i)||r.parseDate(w,"HH:mm:ss.fff",i)||r.parseDate(w,"HH:mm:ss.ff",i)||r.parseDate(w,"h:mm:ss tt",i)||r.parseDate(w,"HH:mm:ss.tttt",i)||r.parseDate(w,"HH:mm:ss",i)||r.parseDate(w,"HH:mm",i)||r.parseDate(w,"HH",i),L=0,N=0,O=0,R=0;E&&NaN!=E.getTime()?(L=E.getHours(),N=E.getMinutes(),O=E.getSeconds(),R=E.getMilliseconds()):(1==z.length&&(L=parseInt(z[0])),2==z.length&&(L=parseInt(z[0]),N=parseInt(z[1])),3==z.length&&(L=parseInt(z[0]),N=parseInt(z[1]),z[2].indexOf(".")>=0?(O=parseInt(z[2].toString().split(".")[0]),R=parseInt(z[2].toString().split(".")[1])):O=parseInt(z[2])),4==z.length&&(L=parseInt(z[0]),N=parseInt(z[1]),O=parseInt(z[2]),R=parseInt(z[3]))),!b||isNaN(L)||isNaN(N)||isNaN(O)||isNaN(R)||(b.setHours(L,N,O,R),_=!0)}if(_)return b}if(null!=t){var F=null,W=[":","/","-"],V=!0;for(k=0;k<W.length;k++)-1!=t.indexOf(W[k])&&(V=!1);if(V){var G=new Number(t);if(!isNaN(G))return new Date(G)}}return null},r.getParseRegExp=function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var n,o=r.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],l=[],d=0,h=0,c=r.getTokenRegExp();null!==(n=c.exec(o));){var u=o.slice(d,n.index);if(d=c.lastIndex,(h+=r.appendPreOrPostMatch(u,a))%2)a.push(n[0]);else{var p,m=n[0],f=m.length;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+m+"'."}p&&a.push(p),l.push(n[0])}}r.appendPreOrPostMatch(o.slice(d),a),a.push("$");var g={regExp:a.join("").replace(/\s+/g,"\\s+"),groups:l};return i[t]=g},r.outOfRange=function(e,t,i){return e<t||e>i},r.expandYear=function(e,t){var i=new Date,s=r.getEra(i);if(t<100){var n=e.twoDigitYearMax;n="string"==typeof n?(new Date).getFullYear()%100+parseInt(n,10):n;var o=r.getEraYear(i,e,s);(t+=o-o%100)>n&&(t-=100)}return t},r.parseDate=function(e,t,i){null!=i&&null!=i||(i=r.calendar),e=r.trim(e);var s=i,n=r.getParseRegExp(s,t),o=new RegExp(n.regExp).exec(e);if(null===o)return null;for(var a,l=n.groups,d=null,h=null,c=null,u=null,p=null,m=0,f=0,g=0,v=0,x=null,w=!1,y=0,b=l.length;y<b;y++){var _=o[y+1];if(_){var j=l[y],q=j.length,T=parseInt(_,10);switch(j){case"dd":case"d":if(u=T,r.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(c=r.getMonthIndex(s,_,3===q),r.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=T-1,r.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=q<4?r.expandYear(s,T):T,r.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(12===(m=T)&&(m=0),r.outOfRange(m,0,11))return null;break;case"H":case"HH":if(m=T,r.outOfRange(m,0,23))return null;break;case"m":case"mm":if(f=T,r.outOfRange(f,0,59))return null;break;case"s":case"ss":if(g=T,r.outOfRange(g,0,59))return null;break;case"tt":case"t":if(!(w=s.PM&&(_===s.PM[0]||_===s.PM[1]||_===s.PM[2]))&&(!s.AM||_!==s.AM[0]&&_!==s.AM[1]&&_!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=T*Math.pow(10,3-q),r.outOfRange(v,0,999))return null;break;case"ddd":case"dddd":if(p=r.getDayIndex(s,_,3===q),r.outOfRange(p,0,6))return null;break;case"zzz":var C=_.split(/:/);if(2!==C.length)return null;if(a=parseInt(C[0],10),r.outOfRange(a,-12,13))return null;var S=parseInt(C[1],10);if(r.outOfRange(S,0,59))return null;x=60*a+(r.startsWith(_,"-")?-S:S);break;case"z":case"zz":if(a=T,r.outOfRange(a,-12,13))return null;x=60*a;break;case"g":case"gg":var k=_;if(!k||!s.eras)return null;k=k.trim().toLowerCase();for(var I=0,D=s.eras.length;I<D;I++)if(k===s.eras[I].nathat.toLowerCase()){d=I;break}if(null===d)return null}}}var P,A=new Date,M=s.convert;if(P=A.getFullYear(),null===h?h=P:s.eras&&(h+=s.eras[d||0].offset),null===c&&(c=0),null===u&&(u=1),M){if(null===(A=M.toGregorian(h,c,u)))return null}else{if(A.setFullYear(h,c,u),A.getDate()!==u)return null;if(null!==p&&A.getDay()!==p)return null}if(w&&m<12&&(m+=12),A.setHours(m,f,g,v),null!==x){var H=A.getMinutes()-(x+A.getTimezoneOffset());A.setHours(A.getHours()+parseInt(H/60,10),H%60)}return A},r.toString=function(t,i){if(void 0===t&&(t="yyyy-MM-dd HH:mm:ss"),e.jqx.date.cache&&e.jqx.date.cache[r.dateData+t])return e.jqx.date.cache[r.dateData+t];if(i&&"string"===e.type(i)&&Globalize){var s=Globalize.cultures[i];s&&(i=s.calendar)}var n=r.toDate();if(null!=i&&null!=i||(i=r.calendar),"string"==typeof n)return n;var o;n.toString();if(!t||!t.length||"i"===t)return o=r.formatDate(n,i.patterns.F,i);var a=i.eras,l="s"===t;t=r.expandFormat(i,t),o=[];var d,h,c=["0","00","000"],u=0,p=r.getTokenRegExp();function m(e,t){var i,s=e+"";return t>1&&s.length<t?(i=c[t-2]+s).substr(i.length-t,t):i=s}function f(e,t){if(h)return h[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var g=p.lastIndex,v=p.exec(t),x=t.slice(g,v?v.index:t.length);if(u+=r.appendPreOrPostMatch(x,o),!v)break;if(u%2)o.push(v[0]);else{var w=v[0],y=w.length;switch(w){case"ddd":case"dddd":var b=3===y?i.days.namesAbbr:i.days.names;o.push(b[n.getDay()]);break;case"d":case"dd":!0,o.push(m(f(n,2),y));break;case"MMM":case"MMMM":var _=f(n,1);o.push(i.months[3===y?"namesAbbr":"names"][_]);break;case"M":case"MM":o.push(m(f(n,1)+1,y));break;case"y":case"yy":case"yyyy":_=r.getEraYear(n,i,r.getEra(n,a),l),y<4&&(_%=100),o.push(m(_,y));break;case"h":case"hh":0===(d=n.getHours()%12)&&(d=12),o.push(m(d,y));break;case"H":case"HH":o.push(m(n.getHours(),y));break;case"m":case"mm":o.push(m(n.getMinutes(),y));break;case"s":case"ss":o.push(m(n.getSeconds(),y));break;case"t":case"tt":_=n.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",o.push(1===y?_.charAt(0):_);break;case"f":case"ff":case"fff":o.push(m(n.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":d=n.getTimezoneOffset()/60,o.push((d<=0?"+":"-")+m(Math.floor(Math.abs(d)),y));break;case"zzz":d=n.getTimezoneOffset()/60,o.push((d<=0?"+":"-")+m(Math.floor(Math.abs(d)),2)+":"+m(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&o.push(i.eras[r.getEra(n,a)].name);break;case"/":o.push(i["/"]);break;default:throw"Invalid date format pattern '"+w+"'."}}}var j=o.join("");return e.jqx.date.cache||(e.jqx.date.cache=new Array),e.jqx.date.cache[r.dateData+t]=j,j},r.add=function(t,i,s){var n=r.internalMS();if(void 0===i)return!1===s?(r.dateData=n+parseInt(t._ticks/r.ticksPerMillisecond),r):((o=new e.jqx.date(n+parseInt(t._ticks/r.ticksPerMillisecond))).timeZone=r.timeZone,o);var o,a=t*i;if(a<=-r.maxMillis||a>=r.maxMillis)throw new Error("Out of Range");return!1===s?(r.dateData=n+a,r):((o=new e.jqx.date(n+a)).timeZone=r.timeZone,o)},r.addDays=function(e,t){return r.add(e,r.millisPerDay,t)},r.clone=function(){var t=new e.jqx.date(r.dateData);return t.timeZone=r.timeZone,t},r.clearTime=function(){var t=r.month(),i=r.year(),s=r.day(),n=new e.jqx.date(i,t,s,0,0,0,0);return n.timeZone=r.timeZone,n},r.addHours=function(e,t){return r.add(e,r.millisPerHour,t)},r.addMilliseconds=function(e,t){return r.add(e,1,t)},r.addMinutes=function(e,t){return r.add(e,r.millisPerMinute,t)},r.addMonths=function(t,i){if(t<-12e4||t>12e4)throw new Error("Invalid Months Value");var s=parseInt(r.getDatePart(r.datePartYear)),n=parseInt(r.getDatePart(r.datePartMonth)),o=parseInt(r.getDatePart(r.datePartDay)),a=n-1+t;if(a>=0?(n=a%12+1,s+=a/12):(n=12+(a+1)%12,s+=(a-11)/12),(s=parseInt(s))<1||s>9999)throw new Error("Year out of range");var l=r.daysInMonth(s,n);if(o>l&&(o=l),!1===i)return r.dateData=r.dateToMS(s,n,o)+r.internalMS()%r.millisPerDay,r;var d=new e.jqx.date(r.dateToMS(s,n,o)+r.internalMS()%r.millisPerDay);return d.timeZone=r.timeZone,d},r.addSeconds=function(e,t){return r.add(e,r.millisPerSecond,t)},r.addYears=function(e,t){return r.addMonths(12*e,t)},r.getTimeZoneOffset=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),s=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+s}},r.isInDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return r.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())},r.supportsDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=i.getTimezoneOffset()},r.date=function(){var t=r.month(),i=r.year(),s=r.day(),n=new e.jqx.date(i,t,s);return n.timeZone=r.timeZone,n},r.isWeekend=function(){return 0==r.dayOfWeek()||6==r.dayOfWeek()},r.toDate=function(e){var t=r.month(),i=r.year(),s=r.day(),n=r.hour(),o=r.minute(),a=r.second(),l=r.millisecond(),d=new Date(i,t-1,s);if(i<1970&&d.setFullYear(i),d.setHours(n,o,a,l),e){var h=r.timeZones.filter(function(t){return t.id==e});if(h.length){var c=h[0].offset;"Local"==e&&(c=-d.getTimezoneOffset());var u=d.getTime(),p=60*d.getTimezoneOffset()*1e3;if(r.timeZone){var m=r.timeZones.filter(function(e){return e.id==r.timeZone});if(m.length)p=60*-m[0].offset*1e3}d=new Date(u+p+6e4*c)}}return d},r.toTimeZone=function(t){var i=t;null==i&&(i="Local");var s=r.toDate(i),n=new e.jqx.date(s);return n.timeZone=t,n},r.day=function(){return r.getDatePart(r.datePartDay)},r.month=function(){return r.getDatePart(r.datePartMonth)},r.year=function(){return r.getDatePart(r.datePartYear)},r.millisecond=function(){return parseInt(r.internalMS()%1e3)},r.hour=function(){return parseInt(r.internalMS()/r.millisPerHour%24)},r.minute=function(){return parseInt(r.internalMS()/r.millisPerMinute%60)},r.second=function(){return parseInt(r.internalMS()/r.millisPerSecond%60)},r.valueOf=function(){return r.dateData},r.equals=function(e){return r.dateData===e.dateData},0===arguments.length){var n=new Date;r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{if(1===arguments.length)if(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])r.dateData=arguments[0];else if("date"==e.type(arguments[0])){n=arguments[0];r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else void 0!==arguments[0].dateData?r.dateData=arguments[0].dateData:r.dateData=arguments[0];else if("today"===arguments[0]){var n=new Date;r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if("todayDate"===arguments[0]){(n=new Date).setHours(0,0,0,0),r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{n=r.tryparseDate(arguments[0]);r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if(2===arguments.length){if(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])r.dateData=arguments[0];else if("date"==e.type(arguments[0])){n=arguments[0];r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else void 0!==arguments[0].dateData?r.dateData=arguments[0].dateData:r.dateData=arguments[0];else if("today"===arguments[0]){n=new Date;r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if("todayDate"===arguments[0]){(n=new Date).setHours(0,0,0,0),r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{n=r.tryparseDate(arguments[0]);r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}r.timeZone=arguments[1]}else if(arguments.length>2)if("string"===e.type(arguments[0])){n=r.tryparseDate(arguments[0],arguments[2],arguments[1]);r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{var o=arguments[0],a=arguments[1],l=arguments[2],d=arguments[3],h=arguments[4],c=arguments[5],u=arguments[6];void 0===d&&(d=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===u&&(u=0);n=new Date(o,--a,l,d,h,c,u);o<1970&&n.setFullYear(o),r.dateData=r.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+r.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}}return r}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s=[],r=arguments[1],n=0;n<i;n++)if(n in t){var o=t[n];e.call(r,o,n,t)&&s.push(o)}return s}),function(e){var t=0;e.jqx.jqxWidget("jqxTouch","",{}),e.extend(e.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var e=this;this._rotateHandler||(this._rotateHandler=function(){e._checkOrientation()})},_getEvent:function(e){return this._isTouchDevice&&(e=this._eventsMap[e]),e+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(e(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var e=this;this.addHandler(this.host,this._getEvent("mouseup"),function(t){e._resetSwipe(),e._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(t){e._initSwipe(t),e._initTap(t)}),this.addHandler(this.host,this._getEvent("mousemove"),function(t){return e._maxSwipeVerticalDistance=Math.max(e._maxSwipeVerticalDistance,Math.abs(e._startY-e._getCoordinates(t).y)),e._maxSwipeHorizontalDistance=Math.max(e._maxSwipeHorizontalDistance,Math.abs(e._startX-e._getCoordinates(t).x)),e._mouseMoved=!0,e._handleSwipeEvents(t)}),this._rotationListeners()},_handleSwipeEvents:function(e){var t=!0;return this._mouseDown&&!this._tapHoldFired&&(t=this._handleVerticalSwipeEvents(e),t=this._handleHorizontalSwipeEvents(e)),this._lastPosition=this._getCoordinates(e),t},_handleVerticalSwipeEvents:function(e){var t;return t=this._getCoordinates(e).y-this._startY,!(this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance)||this._swiped(e,t,2)},_handleHorizontalSwipeEvents:function(e){var t;return t=this._getCoordinates(e).x-this._startX,!(this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance)||this._swiped(e,t)},_swiped:function(e,t,i){return i=i||0,Math.abs(t)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(t,i)),!(Math.abs(t)<=this.swipeMax)||(e.stopImmediatePropagation(),!1)},_getSwipeEvent:function(e,t){return e<0?{eventId:3+t,data:{target:this.host}}:{eventId:4+t,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(e){var t=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){t._mouseMoved||(t._raiseEvent(1,{target:this.host}),t._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(e){var t=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(e).x,this._startY=this._getCoordinates(e).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var e=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){e._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var e="vertical";window.orientation===this._previousOrientation&&this._previousWidth===screen.width||((90===window.orientation||screen.width>screen.height)&&(e="horizontal"),this._raiseEvent(7,{orientation:e})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_getCoordinates:function(t){var i=e.jqx.position(t);return i.x=i.left,i.y=i.top,i},propertyChangedHandler:function(e,t,i,s){"orientationChangeEnabled"===t&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),function(e){var t=function(){var i,s,r,n,o,a={};function l(t,r,n,o,a,l,c){var u=this;return u||(u=window.jqx),u.hierarchy=a,u.exportFormat=l,u.filename=c,t.beginFile(c),function(t){var i=!0;e.each(s,function(){if(this.hidden)return i=!1,!1}),t.beginHeader(i);var r=0;for(var n in s){s[n].columnsDataFields&&(n=s[n].columnsDataFields[r].displayfield);var o=h(n,s[n]);t.appendHeaderCell(s[n],n,o,i,r),r++}t.endHeader(i)}(t),function(e){var t=this;t||(t=window.jqx);if(e.beginBody(),t.hierarchy){var s=function(t){for(var i=0;i<t.length;i+=1)void 0!==t[i]&&(e.hierarchy=!0,e.beginRow(t[i].level),d(e,t[i],i,!0),t[i].records&&(e.beginRows(t[i].level),s(t[i].records),e.endRows(t[i].level)),e.endRow(t[i].level))};return s(i),void e.endBody()}for(var r=0;r<i.length;r+=1)void 0!==i[r]&&d(e,i[r],r);e.endBody()}(t),t.endFile(c),t.getFile()}function d(t,i,r,n){var o,a=this;a||(a=window.jqx),1!=n&&t.beginRow();var l=0;for(var d in s){if(s[d].columnsDataFields&&(d=s[d].columnsDataFields[l].displayfield),o=u(r,d)){if(null!=o.level&&o.index-1>i.level&&o.index-1<o.maxLevel){l++;continue}null!=o.maxLevel&&o.index-1==o.maxLevel&&((o=e.extend({},o)).merge=o.maxLevel-i.level-1)}if(null!=i.level&&null!=i.label&&("xml"===a.exportFormat||"json"===a.exportFormat)){var h={text:"group"};t.appendBodyCell(i.label,h,o,i,l,"group");break}i.hasOwnProperty(d)?t.appendBodyCell(i[d],s[d],o,i,l):t.appendBodyCell("",s[d],o,i,l),l++}1!=n&&t.endRow()}function h(e,t){if(t.style)return r[t.style];var i=c();return i.length>0?i[0].style:null}function c(){return o||(o=new Array,e.each(r,function(e,t){o[o.length]={name:e,style:t}})),o}function u(e,t){var i=s[t];if(i){if(i.customCellStyles){var n=i.customCellStyles[e];if(n)return r[n]}if(i.cellStyle)return i.cellAltStyle?0==e%2?r[i.cellStyle]:r[i.cellAltStyle]:r[i.cellStyle];var o=c();if(o.length>0)return o[e%(o.length-1)+1].style}return null}function p(e,t,i){var s=document.createElement("input");return s.name=t,s.value=e,s.type="hidden",i.appendChild(s),s}function m(e,t,i,s,r){var n=document.createElement("form");return p(e,"filename",n),p(t,"format",n),function(e,t,i){var s=document.createElement("textarea");s.name=t,s.value=e,i.appendChild(s)}(i,"content",n),null!=s&&""!=s||(s=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"https://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),n.action=s,n.method="post",r&&(n.acceptCharset=r),document.body.appendChild(n),n}return(n=function(n,o,d,h,c,u){if(!(this instanceof t))return new t(n,o,d,c,u);i=n,s=o,r=d,this.exportTo=function(t,i,s,r){t=t.toString().toLowerCase();var n=a[t];if(void 0===n)throw"You can't export to "+t+" format.";if("pdf"===t&&null==r){var o=this.exportTo(t,i,t,"pdf");e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);d.cellInitialize();var h=e(o).find("th"),c=e(o).find("tr"),u=0;d.setFontSize(9.75);var p=595;switch(e.jqx.pdfExport.paperSize){case"legal":p=612;"portrait"!==e.jqx.pdfExport.orientation&&(p=1008);break;case"letter":p=612;"portrait"!==e.jqx.pdfExport.orientation&&(p=792);break;case"a3":p=841;"portrait"!==e.jqx.pdfExport.orientation&&(p=1190);break;case"a4":p=595;"portrait"!==e.jqx.pdfExport.orientation&&(p=842);break;case"a5":p=420;"portrait"!==e.jqx.pdfExport.orientation&&(p=595)}p-=20;var m=0,f=[];if(e.each(h,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;f[e]=i,m+=i}),0===h.length&&e.each(c[0].cells,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=p/c[0].cells.length);var i=72*t/96;f[e]=i,m+=i}),m>p&&e.each(f,function(e){f[e]=f[e]/m*100,f[e]=f[e]*p/100}),e.each(h,function(t){var i,s=f[t],r=d.getTextDimensions(e(this).html()),n=e(this).html();r.w+3>s&&(n=(i=d.splitTextToSize(n,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=d.splitTextToSize(n,s-3)[0])!=n&&(n=i));d.cell(10,10,s,18.75,n,u)}),u++,e.each(c,function(t){if(0===t)return!0;var i=e(this).children();if(i.length>h.length&&h.length>0){for(var s=i.length-h.length,r="",n=f[0],o=18.75,a=0;a<=s;a++){var l=i[a].innerHTML;"+"!==l&&"-"!==l||(l+=" "),"&nbsp;"===l&&(l="   "),r+=l}if(d.getTextDimensions(r).w+3>n)r=(c=d.splitTextToSize(r,n-3)[0]).length>3?c.substring(0,c.length-3)+"...":c.substring(0,1)+"...",(c=d.splitTextToSize(r,n-3)[0])!=r&&(r=c);d.cell(10,10,n,o,r,u);for(a=s+1;a<i.length;a++){var c;n=f[t=a-s],o=18.75,r=e(i[a]).html();if(d.getTextDimensions(e(i[a]).html()).w+3>n)r=(c=d.splitTextToSize(r,n-3)[0]).length>3?c.substring(0,c.length-3)+"...":c.substring(0,1)+"...",(c=d.splitTextToSize(r,n-3)[0])!=r&&(r=c);d.cell(10,10,n,o,r,u)}return u++,!0}e.each(i,function(t){var i,s=f[t],r=e(this).html();d.getTextDimensions(e(this).html()).w+3>s&&(r=(i=d.splitTextToSize(r,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=d.splitTextToSize(r,s-3)[0])!=r&&(r=i));d.cell(10,10,s,18.75,r,u)}),u++}),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return d}return l(n,0,0,0,i,s,r)},this.exportToFile=function(t,i,s,r,n){if("pdf"!==t){var o=m(i,t,this.exportTo(t,n,t,i),s,r);o.submit(),document.body.removeChild(o)}else{var a=this.exportTo(t,n,t,i);e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var l=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);"utf-8"!=r&&"UTF-8"!=r||l.setFont("courier","normal"),l.cellInitialize();var d=e(a).find("th"),h=e(a).find("tr"),c=0;l.setFontSize(9.75);var u=595;switch(e.jqx.pdfExport.paperSize){case"legal":u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=1008);break;case"letter":u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=792);break;case"a3":u=841;"portrait"!==e.jqx.pdfExport.orientation&&(u=1190);break;case"a4":u=595;"portrait"!==e.jqx.pdfExport.orientation&&(u=842);break;case"a5":u=420;"portrait"!==e.jqx.pdfExport.orientation&&(u=595)}u-=20;var p=0,f=[];if(e.each(d,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;f[e]=i,p+=i}),0===d.length&&e.each(h[0].cells,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=u/h[0].cells.length);var i=72*t/96;f[e]=i,p+=i}),p>u&&e.each(f,function(e){f[e]=f[e]/p*100,f[e]=f[e]*u/100}),e.each(d,function(t){var i,s=f[t],r=l.getTextDimensions(e(this).html()),n=e(this).html();r.w+3>s&&(n=(i=l.splitTextToSize(n,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=l.splitTextToSize(n,s-3)[0])!=n&&(n=i));l.cell(10,10,s,18.75,n,c)}),c++,e.each(h,function(t){if(0===t)return!0;var i=e(this).children();if(i.length>d.length&&d.length>0){for(var s=i.length-d.length,r="",n=f[0],o=18.75,a=0;a<=s;a++){var h=i[a].innerHTML;"+"!==h&&"-"!==h||(h+=" "),"&nbsp;"===h&&(h="   "),r+=h}if(l.getTextDimensions(r).w+3>n)r=(u=l.splitTextToSize(r,n-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=l.splitTextToSize(r,n-3)[0])!=r&&(r=u);l.cell(10,10,n,o,r,c);for(a=s+1;a<i.length;a++){var u;n=f[t=a-s],o=18.75;if("&nbsp;"===(r=e(i[a]).html())&&(r="   "),l.getTextDimensions(e(i[a]).html()).w+3>n)r=(u=l.splitTextToSize(r,n-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=l.splitTextToSize(r,n-3)[0])!=r&&(r=u);l.cell(10,10,n,o,r,c)}return c++,!0}e.each(i,function(t){var i,s=f[t],r=e(this).html();("&nbsp;"===r&&(r="   "),l.getTextDimensions(e(this).html()).w+3>s)&&(r=(i=l.splitTextToSize(r,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=l.splitTextToSize(r,s-3)[0])!=r&&(r=i));l.cell(10,10,s,18.75,r,c)}),c++}),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");l.save(i+".pdf")}},this.exportToLocalFile=function(e,t,i,s){var r=this.exportTo(e,i,s);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(r)}}).extend=function(t,i){if(!(i instanceof e.jqx.dataAdapter.DataExportModuleBase))throw"The module "+t+" is not instance of DataExportModuleBase.";a[t]=i},n}();e.jqx.dataAdapter.ArrayExporter=t}(jqxBaseFramework),function(e){e.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(t,i,s,r){if("date"===i){var n="";if("string"==typeof t&&(t=n=e.jqx.dataFormat.tryparsedate(t)),""===t||null===t)return"";if((n=e.jqx.dataFormat.formatdate(t,s,r))&&"NaN"==n.toString()||null==n)return"";t=n}else if("number"===i||"float"===i||"int"===i||"integer"==i){if(""===t||null===t)return"";if(!isNaN(new Number(t))){var o=e.jqx.dataFormat.formatnumber(t,s,r);if("NaN"==o.toString())return"";t=o}}else t=t;return null===t?"":t},this.getFormat=function(e){var t,i=e?e.formatString:"",s=e?e.localization:"";return"number"!=(t=e?e.type:"string")&&"float"!=t||i||(i="f2"),"int"!=t&&"integer"!=t||i||(i="n0"),"date"==t&&(i||(i="d")),{type:t,formatString:i,localization:s}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),function(e){var t=function(e){var t,i,s=0,r=this;function n(i,s){i=function(e,t){if(t){var i=r.getFormat(t);e=r.formatData(e,i.type,i.formatString,i.localization)}return e='"'+e+'"'}(i,s),t+=i+e}this.beginFile=function(){t=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,s,r,o){if(s&&null!=s.level){if(o<s.maxLevel)return;if(o===s.maxLevel){r&&n(e.text);for(var a=0;a<s.maxLevel;a++)n("");return}}i=r,r&&n(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){s=0},this.beginRow=function(){(s>0||0==s&&i)&&(t+="\n"),s++},this.appendBodyCell=function(e,t,i,s,r){if(i&&null!=i.maxLevel&&r===i.maxLevel){n(e,t);for(var o=0;o<i.maxLevel-s.level-1;o++)n("",t)}else n(e,t)},this.endRow=function(){t=t.substring(0,t.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t(",");var s=function(){};s.prototype=new t("\t"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new s)}(jqxBaseFramework),function(e){var t=function(){var e,t,i=!1,s=0;function r(e){var t="";for(var s in e)e.hasOwnProperty(s)&&(i&&"font-size"==s&&(e[s]="100%"),t+=s+":"+e[s]+";");return t}this.setPDF=function(){i=!0},this.beginFile=function(t){e=i||null==t?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){e+=i?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(s,n,o,a){if(t=a,a)if(i)e+='\n\t\t\t\t<th style="'+r(o)+'">'+s.text+"</th>";else{if(o.disabled)return;o.merge?s.width?e+="\n\t\t\t\t<th colspan="+(1+o.merge)+' style="width: '+s.width+"px; "+r(o)+'">'+s.text+"</th>":e+="\n\t\t\t\t<th colspan="+(1+o.merge)+' style="'+r(o)+'">'+s.text+"</th>":s.width?e+='\n\t\t\t\t<th style="width: '+s.width+"px; "+r(o)+'">'+s.text+"</th>":e+='\n\t\t\t\t<th style="'+r(o)+'">'+s.text+"</th>"}},this.endHeader=function(){e+=i?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){e+=i?"\n\t<tbody>":"\n\t\t\t<tbody>",s=0},this.beginRow=function(){e+=i?"\n\t<tr>":"\n\t\t\t\t<tr>",s++},this.appendBodyCell=function(n,o,a){var l=this.getFormat(o);""===n&&(n="&nbsp;"),i?e+=1!=s||t?'\n\t\t\t\t\t<td style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":a.merge?e+=1!=s||t?"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":e+=1!=s||t?'\n\t\t\t\t\t<td style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>"},this.endRow=function(){e+=i?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){e+=i?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(t){e+=i||null==t?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t;var s=function(){};s.prototype=new t;var r=new s;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",r)}(jqxBaseFramework),function(e){var t=function(){var e,t,i,s,r,n,o={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){if(e["text-align"]){var t=this.stylesMap.alignment[e["text-align"]];t||(t="Left");var i='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>';this.style+=i}},buildBorder:function(e){if(e["border-color"]){var t="\n\t\t\t<Borders>";t+='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+="\n\t\t\t</Borders>",this.style+=t}},buildFont:function(e){var t=this.stylesMap.font,i="\n\t\t\t<Font ";for(var s in t)void 0!==e[s]&&("font-style"===s&&"italic"===e[s].toString().toLowerCase()?i+='ss:Italic="1" ':"font-weight"===s&&"bold"===e[s].toString().toLowerCase()?i+='ss:Bold="1" ':"color"===s&&(i+="ss:"+t[s]+'="'+e[s]+'" '));i+="/>",this.style+=i},buildInterior:function(e){var t=this.stylesMap.interior,i="\n\t\t\t<Interior ",s=!1;for(var r in t)void 0!==e[r]&&(i+="ss:"+t[r]+'="'+e[r]+'" ',s=!0);s&&(i+='ss:Pattern="Solid"'),i+="/>",this.style+=i},buildFormat:function(e){if("number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType){var t=e.formatString;""==t||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(e.currencysymbol&&8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==e.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;return this.style="",e}};function a(i,s,a,d){var h="String",c=this.getFormat(s);if(null!=i&&"_AG"==i.toString().substring(0,3))i=i.toString().substring(3),h="String";else{if("date"==c.type){var u=i;null===(i=this.formatData(i,c.type,c.formatString,c.localization))||""===i?(i="",h="String"):(i=u.toISOString(),h="DateTime")}"string"==c.type&&(null==i?i="":(i.toString().indexOf("&")>=0&&(i=i.toString().replace(/&/g,"&amp;")),i.toString().indexOf(">")>=0&&(i=i.toString().replace(/>/g,"&gt;")),i.toString().indexOf("<")>=0&&(i=i.toString().replace(/</g,"&lt;")),i.toString().indexOf('"')>=0&&(i=i.toString().replace(/"/g,"&quot;")),i.toString().indexOf("'")>=0&&(i=i.toString().replace(/'/g,"&apos;")))),"number"!=a.dataType&&"float"!=a.dataType&&"int"!=a.dataType&&"integer"!=a.dataType||(h="Number",(null===(i=parseFloat(i))||isNaN(i)||""===i)&&(i="",h="String"),i&&"String"!=h&&""!=i&&s&&s.formatString&&s.formatString.indexOf("p")>=0&&(i/=100),a.currencysymbol=s.localization.currencysymbol)}var p=function(t){if(!t)return"";var i=function(e){for(var t in r)if(l(e,r[t])&&l(r[t],e))return t;return}(t);void 0===i&&(i="xls-style-"+(n+=1),r[i]=t,function(t,i){o.startStyle(t),o.buildAlignment(i),o.buildBorder(i),o.buildFont(i),o.buildInterior(i),o.buildFormat(i),o.closeStyle(),e+=o.toString()}(i,t));return i}(a);a.merge?t+='\n\t\t\t\t<Cell ss:MergeAcross="'+a.merge+'" ss:StyleID="'+p+'"><Data ss:Type="'+h+'">'+i+"</Data></Cell>":t+='\n\t\t\t\t<Cell ss:StyleID="'+p+'"><Data ss:Type="'+h+'">'+i+"</Data></Cell>"}function l(e,t){var i=!0;for(var s in e)e[s]!==t[s]&&(i=!1);return i}this.beginFile=function(){r={},n=0,e='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){t='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',i=[],s=[]},this.appendHeaderCell=function(e,r,n){var o=null!=e.width?e.width:10*e.text.length;t+='\n\t\t\t<Column ss:Width="'+o+'"/>',i.push(e),s.push(n)},this.endHeader=function(e){if(e){this.beginRow();for(var t=0;t<i.length;t+=1)s[t].disabled||a.call(this,i[t].text,null,s[t]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(null==e)t+="\n\t\t\t<Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="<Row>"}},this.beginRows=function(e){t+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,t,i,s){a.call(this,e,t,i,s)},this.endRow=function(e){if(null==e)t+="\n\t\t\t</Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Row>"}},this.endRows=function(e){if(null==e);else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Rows>"}},this.endBody=function(){t+="\n\t\t</Table>"},this.endFile=function(){t+="\n\t</Worksheet>\n</Workbook>",e+="\n\t</Styles>"},this.getFile=function(){return e+t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(e){var t=function(){var e,t,i;this.beginFile=function(){e='<?xml version="1.0" encoding="UTF-8" ?>',e+="\n<table>"},this.beginHeader=function(){t=[]},this.appendHeaderCell=function(e,i){t.push(i)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(t){var s=this;if(s||(s=window.jqx),null!=t&&s.hierarchy){e+="\n\t";for(var r=0;r<t;r++)e+="\t\t";return e+="<row>",void(i=0)}e+="\n\t<row>",i=0},this.beginRows=function(t){if(null!=t){e+="\n\t\t";for(var s=0;s<t;s++)e+="\t\t";return e+="<rows>",void(i=0)}e+="\n\t\t<rows>"},this.appendBodyCell=function(s,r,n,o,a,l){var d=this;d||(d=window.jqx);var h=this.getFormat(r);if(s=this.formatData(s,h.type,h.formatString,h.localization),"string"==h.type&&(s.toString().indexOf("&")>=0&&(s=s.toString().replace(/&/g,"&amp;")),s.toString().indexOf(">")>=0&&(s=s.toString().replace(/>/g,"&gt;")),s.toString().indexOf("<")>=0&&(s=s.toString().replace(/</g,"&lt;")),s.toString().indexOf('"')>=0&&(s=s.toString().replace(/"/g,"&quot;")),s.toString().indexOf("'")>=0&&(s=s.toString().replace(/'/g,"&apos;"))),null!=o.level)if(d.hierarchy){e+="\n\t\t";for(var c=0;c<o.level;c++)e+="\t\t";e+=void 0===l?"<"+t[i]+">"+s+"</"+t[i]+">":"<"+l+">"+s+"</"+l+">"}else e+=null!=l?"\n\t\t<"+l+">"+s+"</"+l+">":"\n\t\t<"+t[i]+">"+s+"</"+t[i]+">";else e+="\n\t\t<"+t[i]+">"+s+"</"+t[i]+">";i++},this.endRow=function(t){var s=this;if(s||(s=window.jqx),null!=t&&s.hierarchy){e+="\n\t";for(var r=0;r<t;r++)e+="\t\t";return e+="</row>",void(i=0)}e+="\n\t</row>",i=0},this.endRows=function(t){if(null!=t){e+="\n\t\t";for(var s=0;s<t;s++)e+="\t\t";return e+="</rows>",void(i=0)}e+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){e+="\n</table>"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function r(e){return e<10?"0"+e:e}function n(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return t=e,isFinite(t.valueOf())?t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(o(t,e)||"null");return"["+s.join(",")+"]"}(e)}var t;return function(e){var t,i,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=o(t,e))&&r.push(s(t)+":"+i);return"{"+r.join(",")+"}"}(e)}function o(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(r=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?function(e,t){switch(t){case"string":return s(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,r):n(i)}var a=function(){var e=this;this.prepareData=function(t,i){if(i){var s=e.getFormat(i);t=e.formatData(t,s.type,s.formatString,s.localization)}return t};var t,i,s,r=[],n=0;this.beginFile=function(){i=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?r[n]={}:s={}},this.beginRows=function(){r[n].rows=[],r[++n]={}},this.endRows=function(){n--},this.appendBodyCell=function(e,t){var i=this;i||(i=window.jqx);var o=this.prepareData(e,t);i.hierarchy||window.jqx.hierarchy?r[n][t.text]=o:s[t.text]=o},this.endRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?0==n?i.push(r[n]):r[n-1].rows.push(r[n]):i.push(s)},this.endBody=function(){},this.endFile=function(){t=function(e){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):o("",{"":e})}(i)},this.getFile=function(){return t}};a.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new a)}(jqxBaseFramework);var pdfDataExport=window.jqxPdfDataExport=function(){"undefined"==typeof btoa&&(window.btoa=function(e){var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),l=0,d=0,h="",c=[];do{t=(n=e.charCodeAt(l++)<<16|e.charCodeAt(l++)<<8|e.charCodeAt(l++))>>18&63,i=n>>12&63,s=n>>6&63,r=63&n,c[d++]=a[t]+a[i]+a[s]+a[r]}while(l<e.length);return h=c.join(""),((o=e.length%3)?h.slice(0,o-3):h)+"===".slice(o||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,d=0,h=[];if(!e)return e;e+="";do{t=(o=a.indexOf(e.charAt(l++))<<18|a.indexOf(e.charAt(l++))<<12|(r=a.indexOf(e.charAt(l++)))<<6|(n=a.indexOf(e.charAt(l++))))>>16&255,i=o>>8&255,s=255&o,h[d++]=64===r?String.fromCharCode(t):64===n?String.fromCharCode(t,i):String.fromCharCode(t,i,s)}while(l<e.length);return h.join("")});var e="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},t=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var i,s,r,n,o=this.topics[e],a=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),s=0,r=o.length;s<r;s++)i=(n=o[s])[0],n[1]&&(n[0]=l,a.push(s)),i.apply(this.context,t);for(s=0,r=a.length;s<r;s++)o.splice(a[s],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,i,s=this.topics[e.topic];for(t=0,i=s.length;t<i;t++)s[t][0]===e.callback&&s.splice(t,1)}}};function i(s,r,n,o){s=void 0===s?"p":s.toString().toLowerCase(),void 0===r&&(r="mm"),void 0===n&&(n="a4"),void 0===o&&"undefined"==typeof zpipe&&(o=!1);var a,l,d,h,c,u,p,m,f,g=n.toString().toLowerCase(),v=[],x=0,w=o,y={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},b="0 g",_=0,j=[],q=2,T=!1,C=[],S={},k={},I=16,D={title:"",subject:"",author:"",keywords:"",creator:""},P=0,A=0,M={},H=new t(M),B=function(e){return e.toFixed(2)},z=function(e){return e.toFixed(3)},E=function(e){var t=e.toFixed(0);return e<10?"0"+t:t},L=function(e){var t=e.toFixed(0);return t.length<10?new Array(11-t.length).join("0")+t:t},N=function(e){T?j[_].push(e):(v.push(e),x+=e.length+1)},O=function(){return C[++q]=x,N(q+" 0 obj"),q},R=function(e){N("stream"),N(e),N("endstream")},F=function(e){e.objectNumber=O(),N("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&N("/Encoding/"+e.encoding),N("/Subtype/Type1>>"),N("endobj")},W=function(){var e;for(e in N("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),N("/Font <<"),S)S.hasOwnProperty(e)&&N("/"+e+" "+S[e].objectNumber+" 0 R");N(">>"),N("/XObject <<"),H.publish("putXobjectDict"),N(">>")},V=function(){!function(){var e;for(e in S)S.hasOwnProperty(e)&&F(S[e])}(),H.publish("putResources"),C[2]=x,N("2 0 obj"),N("<<"),W(),N(">>"),N("endobj"),H.publish("postPutResources")},G=function(e,t,i){void 0===k[t]&&(k[t]={}),k[t][i]=e},U=function(t,i,s,r){var n="F"+(e(S)+1).toString(10),o=S[n]={id:n,PostScriptName:t,fontName:i,fontStyle:s,encoding:r,metadata:{}};return G(n,i,s),H.publish("addFont",o),n},Y=function(e,t){return function(e,t){var i,s,r,n,o,l,d,h,c,u;if(t===r&&(t={}),n=t.sourceEncoding?n:"Unicode",l=t.outputEncoding,(t.autoencode||l)&&S[a].metadata&&S[a].metadata[n]&&S[a].metadata[n].encoding&&(o=S[a].metadata[n].encoding,!l&&S[a].encoding&&(l=S[a].encoding),!l&&o.codePages&&(l=o.codePages[0]),"string"==typeof l&&(l=o[l]),l)){for(h=!1,d=[],i=0,s=e.length;i<s;i++)(c=l[e.charCodeAt(i)])?d.push(String.fromCharCode(c)):d.push(e[i]),d[i].charCodeAt(0)>>8&&(h=!0);e=d.join("")}for(i=e.length;h===r&&0!==i;)e.charCodeAt(i-1)>>8&&(h=!0),i--;if(h){for(d=t.noBOM?[]:[254,255],i=0,s=e.length;i<s;i++){if((u=(c=e.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");d.push(u),d.push(c-(u<<8))}return String.fromCharCode.apply(r,d)}return e}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},K=function(){T=!0,j[++_]=[],N(B(.200025*h)+" w"),N("0 G"),0!==P&&N(P.toString(10)+" J"),0!==A&&N(A.toString(10)+" j"),H.publish("addPage",{pageNumber:_})},X=function(e,t){var i,s;e===s&&(e=S[a].fontName),t===s&&(t=S[a].fontStyle);try{i=k[e][t]}catch(e){i=s}if(!i)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return i},Z=function(){T=!1,v=[],C=[],N("%PDF-1.3"),function(){var e,t,i,s,r,n;for(p=d*h,m=l*h,e=1;e<=_;e++){if(O(),N("<</Type /Page"),N("/Parent 1 0 R"),N("/Resources 2 0 R"),N("/Contents "+(q+1)+" 0 R>>"),N("endobj"),t=j[e].join("\n"),O(),w){for(i=[],s=0;s<t.length;++s)i[s]=t.charCodeAt(s);for(s in n=adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255])],t="",i)i.hasOwnProperty(s)&&(t+=String.fromCharCode.apply(null,i[s]));N("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else N("<</Length "+t.length+">>");R(t),N("endobj")}for(C[1]=x,N("1 0 obj"),N("<</Type /Pages"),f="/Kids [",s=0;s<_;s++)f+=3+2*s+" 0 R ";N(f+"]"),N("/Count "+_),N("/MediaBox [0 0 "+B(p)+" "+B(m)+"]"),N(">>"),N("endobj")}(),V(),O(),N("<<"),function(){N("/Producer (pdfDataExport 0.9.0rc2)"),D.title&&N("/Title ("+Y(D.title)+")"),D.subject&&N("/Subject ("+Y(D.subject)+")"),D.author&&N("/Author ("+Y(D.author)+")"),D.keywords&&N("/Keywords ("+Y(D.keywords)+")"),D.creator&&N("/Creator ("+Y(D.creator)+")");var e=new Date;N("/CreationDate (D:"+[e.getFullYear(),E(e.getMonth()+1),E(e.getDate()),E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join("")+")")}(),N(">>"),N("endobj"),O(),N("<<"),N("/Type /Catalog"),N("/Pages 1 0 R"),N("/OpenAction [3 0 R /FitH null]"),N("/PageLayout /OneColumn"),H.publish("putCatalog"),N(">>"),N("endobj");var e,t=x;for(N("xref"),N("0 "+(q+1)),N("0000000000 65535 f "),e=1;e<=q;e++)N(L(C[e])+" 00000 n ");return N("trailer"),N("<<"),N("/Size "+(q+1)),N("/Root "+q+" 0 R"),N("/Info "+(q-1)+" 0 R"),N(">>"),N("startxref"),N(t),N("%%EOF"),T=!0,v.join("\n")},$=function(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t},J=function(e,t){var i,s,r,n,o;switch(e){case void 0:return Z();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return M.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return M.output("dataurlnewwindow")}for(s=(i=Z()).length,r=new Uint8Array(new ArrayBuffer(s)),n=0;n<s;n++)r[n]=i.charCodeAt(n);o=new Blob([r],{type:"application/pdf"}),saveAs(o,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(Z());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(Z());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(Z()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===r)h=1;else if("mm"===r)h=72/25.4;else if("cm"===r)h=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;h=72}if(y.hasOwnProperty(g))l=y[g][1]/h,d=y[g][0]/h;else try{l=n[1],d=n[0]}catch(e){throw"Invalid format: "+n}if("p"===s||"portrait"===s)s="p",d>l&&(c=d,d=l,l=c);else{if("l"!==s&&"landscape"!==s)throw"Invalid orientation: "+s;s="l",l>d&&(c=d,d=l,l=c)}M.internal={pdfEscape:Y,getStyle:$,getFont:function(){return S[X.apply(M,arguments)]},getFontSize:function(){return I},btoa:btoa,write:function(e,t,i,s){N(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return B(e*h)},getVerticalCoordinateString:function(e){return B((l-e)*h)},collections:{},newObject:O,putStream:R,events:H,scaleFactor:h,pageSize:{width:d,height:l},output:function(e,t){return J(e,t)}},M.addPage=function(){return K(),this};var Q=["","0","00","000","0000"],ee=function(e,t){for(var i,s=["FEFF"],r=0,n=e.length;r<n;++r)i=e.charCodeAt(r).toString(16).toUpperCase(),s.push(Q[4-i.length],i);return s.join("")};for(u in M.text16=function(e,t,i,s){var r,n,o,d,c;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),s.autoencode=!1,"string"==typeof e)d=ee(e);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(c=(o=e.concat()).length-1;-1!==c;c--)o[c]=ee(o[c]);d=o.join("> Tj\nT* <")}return N("BT\n/"+a+" "+I+" Tf\n"+I+" TL\n"+b+"\n"+B(t*h)+" "+B((l-i)*h)+" Td\n<"+d+"> Tj\nET"),this},M.text=function(e,t,i,s){var r,n,o,d,c;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),"string"==typeof e)d=Y(e,s);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(c=(o=e.concat()).length-1;-1!==c;c--)o[c]=Y(o[c],s);d=o.join(") Tj\nT* (")}return N("BT\n/"+a+" "+I+" Tf\n"+I+" TL\n"+b+"\n"+B(t*h)+" "+B((l-i)*h)+" Td\n("+d+") Tj\nET"),this},M.line=function(e,t,i,s){return N(B(e*h)+" "+B((l-t)*h)+" m "+B(i*h)+" "+B((l-s)*h)+" l S"),this},M.lines=function(e,t,i,s,r){var n,o,a,d,c,u,p,m,f,g,v,x,w;for("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),r=$(r),s=void 0===s?[1,1]:s,N(z(t*h)+" "+z((l-i)*h)+" m "),a=s[0],d=s[1],u=e.length,x=t,w=i,c=0;c<u;c++)2===(p=e[c]).length?(x=p[0]*a+x,w=p[1]*d+w,N(z(x*h)+" "+z((l-w)*h)+" l")):(m=p[0]*a+x,f=p[1]*d+w,g=p[2]*a+x,v=p[3]*d+w,x=p[4]*a+x,w=p[5]*d+w,N(z(m*h)+" "+z((l-f)*h)+" "+z(g*h)+" "+z((l-v)*h)+" "+z(x*h)+" "+z((l-w)*h)+" c"));return N(r),this},M.rect=function(e,t,i,s,r){var n=$(r);return N([B(e*h),B((l-t)*h),B(i*h),B(-s*h),"re",n].join(" ")),this},M.triangle=function(e,t,i,s,r,n,o){return this.lines([[i-e,s-t],[r-i,n-s],[e-r,t-n]],e,t,[1,1],o),this},M.roundedRect=function(e,t,i,s,r,n,o){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,n-n*a,r,n],[0,s-2*n],[0,n*a,-r*a,n,-r,n],[2*r-i,0],[-r*a,0,-r,-n*a,-r,-n],[0,2*n-s],[0,-n*a,r*a,-n,r,-n]],e+r,t,[1,1],o),this},M.ellipse=function(e,t,i,s,r){var n=$(r),o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*s;return N([B((e+i)*h),B((l-t)*h),"m",B((e+i)*h),B((l-(t-a))*h),B((e+o)*h),B((l-(t-s))*h),B(e*h),B((l-(t-s))*h),"c"].join(" ")),N([B((e-o)*h),B((l-(t-s))*h),B((e-i)*h),B((l-(t-a))*h),B((e-i)*h),B((l-t)*h),"c"].join(" ")),N([B((e-i)*h),B((l-(t+a))*h),B((e-o)*h),B((l-(t+s))*h),B(e*h),B((l-(t+s))*h),"c"].join(" ")),N([B((e+o)*h),B((l-(t+s))*h),B((e+i)*h),B((l-(t+a))*h),B((e+i)*h),B((l-t)*h),"c",n].join(" ")),this},M.circle=function(e,t,i,s){return this.ellipse(e,t,i,i,s)},M.setProperties=function(e){var t;for(t in D)D.hasOwnProperty(t)&&e[t]&&(D[t]=e[t]);return this},M.setFontSize=function(e){return I=e,this},M.setFont=function(e,t){return a=X(e,t),this},M.setFontStyle=M.setFontType=function(e){return a=X(void 0,e),this},M.getFontList=function(){var e,t,i,s={};for(e in k)if(k.hasOwnProperty(e))for(t in s[e]=i=[],k[e])k[e].hasOwnProperty(t)&&i.push(t);return s},M.setLineWidth=function(e){return N((e*h).toFixed(2)+" w"),this},M.setDrawColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" G":B(e/255)+" G":void 0===s?"string"==typeof e?[e,t,i,"RG"].join(" "):[B(e/255),B(t/255),B(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,s,"K"].join(" "):[B(e),B(t),B(i),B(s),"K"].join(" "),N(r),this},M.setFillColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" g":B(e/255)+" g":void 0===s?"string"==typeof e?[e,t,i,"rg"].join(" "):[B(e/255),B(t/255),B(i/255),"rg"].join(" "):"string"==typeof e?[e,t,i,s,"k"].join(" "):[B(e),B(t),B(i),B(s),"k"].join(" "),N(r),this},M.setTextColor=function(e,t,i){return b=0===e&&0===t&&0===i||void 0===t?z(e/255)+" g":[z(e/255),z(t/255),z(i/255),"rg"].join(" "),this},M.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},M.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return P=t,N(t.toString(10)+" J"),this},M.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return A=t,N(t.toString(10)+" j"),this},M.output=J,M.save=function(e){M.output("save",e)},i.API)i.API.hasOwnProperty(u)&&("events"===u&&i.API.events.length?function(e,t){var i,s,r;for(r=t.length-1;-1!==r;r--)i=t[r][0],s=t[r][1],e.subscribe.apply(e,[i].concat("function"==typeof s?[s]:s))}(H,i.API.events):M[u]=i.API[u]);return function(){var e,t,i,s,r="helvetica",n="times",o="courier",a="normal",l="bold",d="italic",h="bolditalic",c=[["Helvetica",r,a],["Helvetica-Bold",r,l],["Helvetica-Oblique",r,d],["Helvetica-BoldOblique",r,h],["Courier",o,a],["Courier-Bold",o,l],["Courier-Oblique",o,d],["Courier-BoldOblique",o,h],["Times-Roman",n,a],["Times-Bold",n,l],["Times-Italic",n,d],["Times-BoldItalic",n,h]];for(e=0,t=c.length;e<t;e++)i=U(c[e][0],c[e][1],c[e][2],"StandardEncoding"),s=c[e][0].split("-"),G(i,s[0],s[1]||"");H.publish("addFonts",{fonts:S,dictionary:k})}(),a="F1",K(),H.publish("initialized"),M}return i.API={events:[]},i}();!function(e){var t,i,s,r=0,n=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,d=function(e,t,i,s,r){o={x:e,y:t,w:i,h:s,ln:r}},h=function(){return o},c=function(){return r},u=function(e){n=e},p=function(e){return n};e.getTextDimensions=function(e){t=this.internal.getFont().fontName,i=this.internal.getFontSize(),s=this.internal.getFont().fontStyle;var r,n,o=19.049976/25.4;return(n=document.createElement("font")).id="pdfDataExportCell",n.style.fontStyle=s,n.style.fontName=t,n.style.fontSize=i+"pt",n.innerHTML=e,document.body.appendChild(n),r={w:(n.offsetWidth+1)*o,h:(n.offsetHeight+1)*o},document.body.removeChild(n),r},e.cellAddPage=function(){this.addPage(),d(void 0,void 0,void 0,void 0,void 0),l=!0,a+=1,u(1)},e.cellInitialize=function(){r=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,u(0)},e.cell=function(e,t,i,s,n,o){this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(o+=this.lnMod),(o*s+t+2*s)/a>=this.internal.pageSize.height&&1===a&&!l?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1),0===c()&&function(e){r=e}(Math.round((this.internal.pageSize.height-2*s)/s))):l&&h().ln!==o&&p()===c()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1));var m=h(),f=(this.getTextDimensions(n),1);return void 0!==m.x&&m.ln===o&&(e=m.x+m.w),void 0!==m.y&&m.y===t&&(t=m.y),void 0!==m.h&&m.h===s&&(s=m.h),void 0!==m.ln&&m.ln===o&&(o=m.ln,f=0),l?t=s*(p()+f):t+=s*Math.abs(c()*a-o-c()),this.rect(e,t,i,s),/[Ð°-ÑÐ-Ð¯ÐÑ]/.test(n)?this.text16(n,e+3,t+s-3):this.text(n,e+3,t+s-3),u(p()+f),d(e,t,i,s,o),this},e.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},e.arrayMax=function(e,t){var i,s,r,n=e[0];for(i=0,s=e.length;i<s;i+=1)r=e[i],t?-1===t(n,r)&&(n=r):r>n&&(n=r);return n},e.table=function(t,i,s){var r,n,o,a,l,d,h,c,u,p=[],m=[],f={},g={},v=[],x=[];if(this.lnMod=0,s&&(s.autoSize||!1,this.printHeaders=s.printHeaders||!0,s.autoStretch||!0),!t)throw"No data for PDF table";if(null==i)p=this.getKeys(t[0]);else if(i[0]&&"string"!=typeof i[0])for(n=0,o=i.length;n<o;n+=1)r=i[n],p.push(r.name),m.push(r.prompt);else p=i;if(s.autoSize)for(u=function(e){return e[r]},n=0,o=p.length;n<o;n+=1){for(f[r=p[n]]=t.map(u),v.push(this.getTextDimensions(m[n]||r).w),d=0,o=(l=f[r]).length;d<o;d+=1)a=l[d],v.push(this.getTextDimensions(a).w);g[r]=e.arrayMax(v)}if(s.printHeaders){for(n=0,o=p.length;n<o;n+=1)r=p[n],x.push([10,10,g[r],25,String(m.length?m[n]:r)]);this.setTableHeaderRow(x),this.printHeaderRow(1)}for(n=0,o=t.length;n<o;n+=1)for(h=t[n],d=0,c=p.length;d<c;d+=1)r=p[d],this.cell(10,10,g[r],25,String(h[r]),n+2);return this},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,s,r;for(this.printingHeaderRow=!0,s=0,r=this.tableHeaderRow.length;s<r;s+=1)t=this.tableHeaderRow[s],i=[].concat(t),this.cell.apply(this,i.concat(e));this.printingHeaderRow=!1}}(pdfDataExport.API),function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var i,s,r,n=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,o=n.fof?n.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,d=0,h=n[0]||o,c=[];for(i=0,s=e.length;i<s;i++)r=e.charCodeAt(i),c.push((n[r]||h)/o+(a[r]&&a[r][d]||0)/l),d=r;return c},i=function(e){for(var t=e.length,i=0;t;)i+=e[--t];return i},s=(e.getStringUnitWidth=function(e,s){return i(t.call(this,e,s))},function(e,t,i,s){for(var r=[],n=0,o=e.length,a=0;n!==o&&a+t[n]<i;)a+=t[n],n++;r.push(e.slice(0,n));var l=n;for(a=0;n!==o;)a+t[n]>s&&(r.push(e.slice(l,n)),a=0,l=n),a+=t[n],n++;return l!==n&&r.push(e.slice(l,n)),r}),r=function(e,r,n){n||(n={});var o,a,l,d,h,c=t(" ",n)[0],u=e.split(" "),p=[],m=[p],f=n.textIndent||0,g=0,v=0;for(l=0,d=u.length;l<d;l++)if(o=u[l],a=t(o,n),f+g+(v=i(a))>r){if(v>r){for(h=s(o,a,r-(f+g),r),p.push(h.shift()),p=[h.pop()];h.length;)m.push([h.shift()]);v=i(a.slice(o.length-p[0].length))}else p=[o];m.push(p),f=v,g=c}else p.push(o),f+=g+v,g=c;var x=[];for(l=0,d=m.length;l<d;l++)x.push(m[l].join(" "));return x};e.splitTextToSize=function(e,t,i){i||(i={});var s,n=i.fontSize||this.internal.getFontSize(),o=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var s=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return s.metadata[r]?{widths:s.metadata[r].widths||t,kerning:s.metadata[r].kerning||i}:{widths:t,kerning:i}}.call(this,i);s=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e];var a=1*this.internal.scaleFactor*t/n;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/n:0;var l,d,h=[];for(l=0,d=s.length;l<d;l++)h=h.concat(r(s[l],a,o));return h}}(pdfDataExport.API),function(e){var t="addImage_",i=function(e){var t=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var r="",n=0;n<e.trns.length;n++)i("/Mask ["+(r+=e[r][n]+" "+e.trns[n]+" ")+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),s(e.data),i("endobj")},s=function(){var e=this.internal.collections[t+"images"];for(var s in e)i.call(this,e[s])},r=function(){var e,i=this.internal.collections[t+"images"],s=this.internal.write;for(var r in i)s("/I"+(e=i[r]).i,e.n,"0","R")};e.addImage=function(e,i,n,o,a,l){if("object"==typeof e&&1===e.nodeType){var d=document.createElement("canvas");d.width=e.clientWidth,d.height=e.clientHeight;var h=d.getContext("2d");if(!h)throw"addImage requires canvas to be supported by browser.";h.drawImage(e,0,0,d.width,d.height),e=d.toDataURL("image/jpeg"),i="JPEG"}if("JPEG"!==i.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+i+"'");var c,u=this.internal.collections[t+"images"],p=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),u?c=Object.keys?Object.keys(u).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(u):(c=0,this.internal.collections[t+"images"]=u={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",r));var f=function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),s=4,r=e.length;s<r;){if(s+=i,255!==e.charCodeAt(s))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(s+1))return t=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),[256*e.charCodeAt(s+7)+e.charCodeAt(s+8),t];s+=2,i=256*e.charCodeAt(s)+e.charCodeAt(s+1)}}(e),g={w:f[0],h:f[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:c,data:e};return u[c]=g,a||l||(a=-96,l=-96),a<0&&(a=-1*g.w*72/a/this.internal.scaleFactor),l<0&&(l=-1*g.h*72/l/this.internal.scaleFactor),0===a&&(a=l*g.w/g.h),0===l&&(l=a*g.h/g.w),this.internal.write("q",p(a),"0 0",p(l),p(n),m(o+l),"cm /I"+g.i,"Do Q"),this}}(pdfDataExport.API),function(e){var t=function(e){for(var t="klmnopqrstuvwxyz",i={},s=0;s<t.length;s++)i[t[s]]="0123456789abcdef"[s];var r,n,o,a,l,d={},h=1,c=d,u=[],p="",m="",f=e.length-1;for(s=1;s!=f;)l=e[s],s+=1,"'"==l?n?(a=n.join(""),n=r):n=[]:n?n.push(l):"{"==l?(u.push([c,a]),c={},a=r):"}"==l?((o=u.pop())[0][o[1]]=c,a=r,c=o[0]):"-"==l?h=-1:a===r?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*h,h=1,p=""):p+=l:i.hasOwnProperty(l)?(m+=i[l],c[a]=parseInt(m,16)*h,h=1,a=r,m=""):m+=l;return d},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},s={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},r={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,n,o,a,l="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&(t=e.fonts[i],(n=r[l][t.PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).widths=n.widths,o.kerning=n.kerning),(a=s[l][t.PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).encoding=a,a.codePages&&a.codePages.length&&(t.encoding=a.codePages[0])))}])}(pdfDataExport.API);var saveAs=window.jqxSaveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,i=e.URL||e.webkitURL||e,s=$("<a></a>")[0],r="download"in s,n=e.webkitRequestFileSystem,o=e.requestFileSystem||n||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",d=0,h=[],c=function(e,t,i){for(var s=(t=[].concat(t)).length;s--;){var r=e["on"+t[s]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){a(e)}}},u=function(i,a){var u,p,m,f=this,g=i.type,v=!1,x=function(){var t=(e.URL||e.webkitURL||e).createObjectURL(i);return h.push(t),t},w=function(){c(f,"writestart progress write writeend".split(" "))},y=function(){!v&&u||(u=x()),p&&(p.location.href=u),f.readyState=f.DONE,w()},b=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},_={create:!0,exclusive:!1};if(f.readyState=f.INIT,a||(a="download"),r&&(u=x(),s.href=u,s.download=a,function(i){var s=t.createEvent("MouseEvents");return s.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)}(s)))return f.readyState=f.DONE,void w();e.chrome&&g&&g!==l&&(m=i.slice||i.webkitSlice,i=m.call(i,0,i.size,l),v=!0),n&&"download"!==a&&(a+=".download"),p=g===l||n?e:e.open(),o?(d+=i.size,o(e.TEMPORARY,d,b(function(e){e.root.getDirectory("saved",_,b(function(e){var t=function(){e.getFile(a,_,b(function(e){e.createWriter(b(function(t){t.onwriteend=function(t){p.location.href=e.toURL(),h.push(e),f.readyState=f.DONE,c(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=f["on"+e]}),t.write(i),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING}),y)}),y)};e.getFile(a,{create:!1},b(function(e){e.remove(),t()}),b(function(e){e.code===e.NOT_FOUND_ERR?t():y()}))}),y)}),y)):y()},p=u.prototype;return p.abort=function(){var e=this;e.readyState=e.DONE,c(e,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,e.addEventListener&&e.addEventListener("unload",function(){for(var e=h.length;e--;){var t=h[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}h.length=0},!1),function(e,t){return new u(e,t)}}(self);!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(pdfDataExport.API),function($){$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype?e:($.extend(!0,this,e),e)},createInstance:function(){this._createBarGauge()},_createBarGauge:function(){this._getLiquidDimensions(),this._addIEPolyfills(),this._barGaugeTooltip.css({display:"none"}),$(this.host).empty(),this._attachCustomColors(),this.geometry.startAngle=this.startAngle,this.geometry.endAngle=this.endAngle,this._validateGeometry(),this._validateTitle(),this._validateLabel(),this._validateValues(),this._validateTooltip(),this._validateAnimationDuration(),this._transformValuesToAngles(),this._getColorScheme(),0===this.animationDuration||this._ie8||this._ie7?this._drawStaticBarGauge():this._drawDynamicBarGauge(),this._raiseEvent("4"),this._createTooltip(),this._addCSS(),this._ie&&(this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle(),this._drawBarGaugeTitle()),this._addEventHandlers()},_initRenderer:function(e){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,e)},_validateValues:function(){var e,t;0===this._userValues.length&&(this._userValues=this.values.slice()),0===this._oldValues.length&&(this._oldValues=this.values.slice()),this._valuesLength=this.values.length;for(var i=0;i<this._valuesLength;i++)this.values[i]=parseFloat(this.values[i]),this.values[i]<this.startValue||isNaN(this.values[i])?this.values[i]=this.startValue:this.values[i]>this.max&&(this.values[i]=this.max),this._drawnValues[i]=!1,this._drawnSlices[i]=!1;this.baseValue<=this.startValue||null===this.baseValue?this.baseValue=this.min:this.baseValue>this.max&&(this.baseValue=this.max),this.relativeInnerRadius>=1?this.relativeInnerRadius=.99:this.relativeInnerRadius<0&&(this.relativeInnerRadius=0),this._calculateBarGaugeRadius(),e=this._valuesLength||1,t=this._barGaugeRadius*(1-this.relativeInnerRadius)/e-.01,this.barSpacing>t&&(this.barSpacing=t),this._backgroundColor=this._validateColor(this.backgroundColor,this._backgroundColor)},_attachCustomColors:function(){var e=this._colorSchemes.length,t=!1;if(null!==this.customColorScheme&&null!==this.customColorScheme.colors&&null!==this.customColorScheme.name){for(var i=0;i<e;i++)this.customColorScheme.name===this._colorSchemes[i].name&&(this._colorSchemes[i].colors=this.customColorScheme.colors.slice(),t=!0);t||this._colorSchemes.push(this.customColorScheme)}},_getLiquidDimensions:function(){$.isEmptyObject(this._dimensions)&&(this._dimensions.width=this.width,this._dimensions.height=this.height),"string"==typeof this._dimensions.width&&-1!==this._dimensions.width.indexOf("%")&&(this.width=parseInt(this._dimensions.width,10)/100*$("#"+this.element.id).parent().width()),"string"==typeof this._dimensions.height&&-1!==this._dimensions.height.indexOf("%")&&(this.height=parseInt(this._dimensions.height,10)/100*$("#"+this.element.id).parent().height())},_getLongestValue:function(){for(var e=this.values.length,t="",i=0,s=0;s<e;s++)this.values[s].toString().length>i&&(i=(t=this.values[s]).toString().length);return t=this._calculatePrecision(this._label.precision,t),void 0!==this._label.formatFunction&&null!==this._label.formatFunction&&"function"==typeof this._label.formatFunction&&(t=this._label.formatFunction(t)),t=t.toUpperCase()},_validateGeometry:function(){var e=parseFloat(this.geometry.startAngle),t=parseFloat(this.geometry.endAngle);Math.abs(e)>=360&&(e%=360),e<0&&(e=360+e),Math.abs(t)>=360&&(t%=360),t<0&&(t=360+t),this.geometry.startAngle=e,this.geometry.endAngle=t},_validateColor:function(e,t){return null==e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:void 0!==this._colorNames[e.toLowerCase()]?this._colorNames[e.toLowerCase()]:"transparent"},_validateTooltip:function(){void 0===this.tooltip||null===this.tooltip||"object"!=typeof this.tooltip?this._tooltip=this._tooltipTemplate:(this._tooltip.visible=!1!==this.tooltip.visible&&(this.tooltip.visible||this._tooltipTemplate.visible),this._tooltip.classname=this.tooltip.classname||this._tooltipTemplate.classname,"function"==typeof this.tooltip.formatFunction?this._tooltip.formatFunction=this.tooltip.formatFunction:this._tooltip.formatFunction=this._tooltipTemplate.formatFunction,null===this.tooltip.precision||void 0===this.tooltip.precision?this._tooltip.precision=this._tooltipTemplate.precision:parseInt(this.tooltip.precision,10)<=0?this._tooltip.precision=0:this._tooltip.precision=parseInt(this.tooltip.precision,10))},_validateTitle:function(){var e;if(this._title=this._titleTemplate,this._measuredTextId=this.element.id+"measuredText","string"==typeof this.title?this._title.text=this.title:"number"==typeof this.title?this._title.text=String(this.title):"object"==typeof this.title&&void 0!==this.title&&null!==this.title&&(this._title.text=this.title.text||this._titleTemplate.text,this._title.horizontalAlignment=this.title.horizontalAlignment||this._titleTemplate.horizontalAlignment,this._title.verticalAlignment=this.title.verticalAlignment||this._titleTemplate.verticalAlignment),void 0===this.title||null===this.title||void 0===this.title.font||null===this.title.font?this._title.font=this._titleTemplate.font:(this._title.font.family=this.title.font.family||this._titleTemplate.font.family,this._title.font.opacity=this.title.font.opacity||this._titleTemplate.font.opacity,this._title.font.size=this.title.font.size||this._titleTemplate.font.size,this._title.font.weight=this.title.font.weight||this._titleTemplate.font.weight,(this._ie7||this._ie8)&&this._title.font.weight>100&&(this._title.font.weight="bold"),this._title.font.color=this._validateColor(this.title.font.color,this._titleTemplate.font.color)),void 0===this.title||null===this.title||void 0===this.title.margin||null===this.title.margin)this._title.margin=this._titleTemplate.margin;else if("object"!=typeof this.title.margin){var t=parseInt(this.title.margin,10);this._title.margin.top=t,this._title.margin.right=t,this._title.margin.bottom=t,this._title.margin.left=t}else this._title.margin.top=0===this.title.margin.top?0:this.title.margin.top||this._titleTemplate.margin.top,this._title.margin.right=0===this.title.margin.right?0:this.title.margin.right||this._titleTemplate.margin.right,this._title.margin.bottom=0===this.title.margin.bottom?0:this.title.margin.bottom||this._titleTemplate.margin.bottom,this._title.margin.left=0===this.title.margin.left?0:this.title.margin.left||this._titleTemplate.margin.left;void 0===this.title||null===this.title||void 0===this.title.subtitle||null===this.title.subtitle?(this._title.subtitle.text=this._titleTemplate.subtitle.text,this._title.subtitle.font=this._titleTemplate.subtitle.font):"object"!=typeof this.title.subtitle?(this._title.subtitle.text=String(this.title.subtitle),this._title.subtitle.font=this._titleTemplate.subtitle.font):void 0===this.title.subtitle.font||null===this.title.subtitle.font?(this._title.subtitle.text=String(this.title.subtitle.text),this._title.subtitle.font=this._titleTemplate.subtitle.font):(this._title.subtitle.text=String(this.title.subtitle.text),this._title.subtitle.font.color=this.title.subtitle.font.color||this._titleTemplate.subtitle.font.color,this._title.subtitle.font.family=this.title.subtitle.font.family||this._titleTemplate.subtitle.font.family,this._title.subtitle.font.opacity=this.title.subtitle.font.opacity||this._titleTemplate.subtitle.font.opacity,this._title.subtitle.font.size=this.title.subtitle.font.size||this._titleTemplate.subtitle.font.size,this._title.subtitle.font.weight=this.title.subtitle.font.weight||this._titleTemplate.subtitle.font.weight,(this._ie7||this._ie8)&&this._title.subtitle.font.weight>100&&(this._title.subtitle.font.weight="bold")),""===this._title.text?e=0:""===this._title.subtitle.text||void 0===this._title.subtitle.text||null===this._title.subtitle.text?(this._titleLines=null!==this._title.text.match(/<br>/g)?this._title.text.match(/<br>/g).length+1:1,e=this._title.font.size*this._titleLines+this._title.margin.top+this._title.margin.bottom):(this._titleLines=null!==this._title.text.match(/<br>/g)?this._title.text.match(/<br>/g).length+1:1,this._subTitleLines=null!==this._title.subtitle.text.match(/<br>/g)?this._title.text.match(/<br>/g).length+1:1,e=this._title.font.size*this._titleLines+this._title.subtitle.font.size*this._subTitleLines+this._title.margin.top+this._title.margin.bottom),void 0===this.title||null===this.title||null===this.title.placeholderSize||void 0===this.title.placeholderSize?this._title.placeholderSize=e||.05*this.height:this._title.placeholderSize=this.title.placeholderSize},_validateLabel:function(){null===this.labels||void 0===this.labels||"object"!=typeof this.labels?this._label=this._labelTemplate:(this._label.connectorColor=this._validateColor(this.labels.connectorColor,this._labelTemplate.connectorColor),this._label.connectorWidth=this.labels.connectorWidth||this._labelTemplate.connectorWidth,this._label.formatFunction=this.labels.formatFunction||this._labelTemplate.formatFunction,void 0===this.labels.precision||null===this.labels.precision||"number"!=typeof this.labels.precision?this._label.precision=this._labelTemplate.precision:this._label.precision=this.labels.precision,this._label.precision>15?this._label.precision=15:this._label.precision<0&&(this._label.precision=0),void 0===this.labels.visible||null===this.labels.visible?this._label.visible=this._labelTemplate.visible:!1===this.labels.visible?this._label.visible=!1:this._label.visible=!0,"number"!=typeof this.labels.indent&&"string"!=typeof this.labels.indent||this.labels.indent<=0?this._label.indent=0:"number"!=typeof this.labels.indent&&"string"!=typeof this.labels.indent||this.labels.indent<=0?this._label.indent=0:this._label.indent=this.labels.indent,null===this.labels.font||void 0===this.labels.font||"object"!=typeof this.labels.font?this._label.font=this._labelTemplate.font:(this._label.font={},this._label.font.color=this._validateColor(this.labels.font.color,this._labelTemplate.font.color),this._label.font.family=this.labels.font.family||this._labelTemplate.font.family,this._label.font.size=this.labels.font.size||this._labelTemplate.font.size,this._label.font.weight=this.labels.font.weight||this._labelTemplate.font.weight,(this._ie7||this._ie8)&&this._label.font.weight>100&&(this._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=parseInt(this.animationDuration,10),t=e>0?e:0;this._oldIEbrowser?this.animationDuration=0:this.animationDuration=t},_transformValuesToAngles:function(){var e,t,i,s;this._placeholderSize=this._title.placeholderSize||this._placeholderSize,this.geometry.endAngle<this.geometry.startAngle?(this._geometry.startAngle=parseFloat(this.geometry.endAngle)%360,this._geometry.endAngle=parseFloat(this.geometry.startAngle)%360):(this._geometry.startAngle=parseFloat(this.geometry.endAngle)%360-360,this._geometry.endAngle=parseFloat(this.geometry.startAngle)%360),(e=this._geometry.endAngle-this._geometry.startAngle)>360&&(this._geometry.startAngle=this._geometry.startAngle+(e-360)),void 0!==this.baseValue&&null!==this.baseValue&&this.baseValue>=this.min&&this.baseValue<=this.max&&(this._geometry.baseAngle=(this.baseValue-this.min)*(this._geometry.endAngle-this._geometry.startAngle)/(this.max-this.min)+this._geometry.startAngle,this._geometry.fix=this.geometry.startAngle+this.geometry.endAngle-180),t=this._getLongestValue(),i=this._measureText(t,this._label.font.size,this._label.font.family,this._label.font.weight),(s=this._barGaugeRadius-1.2*this._label.indent-1.2*i.height)+i.width+1.2*this._label.indent>this.width/2&&(s=this._barGaugeRadius-1.2*this._label.indent-i.width),!1===this._label.visible&&(s=this._barGaugeRadius),(s*=.98)<0&&(s=0),this._barGaugeFigureRadius=s,this._barWidth=s*(1-this.relativeInnerRadius)/this._valuesLength-this.barSpacing,this._barStartAt=s*this.relativeInnerRadius,this._labelPositioningRadius=this._barStartAt+this._valuesLength*(this._barWidth+this.barSpacing)-this.barSpacing+this._label.indent;for(var r=0;r<this._valuesLength;r++)this._valuesToDegrees[r]=(this.values[r]-this.min)/(this.max-this.min)*(this._geometry.endAngle-this._geometry.startAngle)+this._geometry.startAngle;$(this.host).width(this.width),$(this.host).height(this.height),this._initialized||(this._initRenderer(this.host),this._initialized=!0)},_measureRadius:function(){var e=this._getLongestValue(),t=this._measureText(e,this._label.font.size,this._label.font.family,this._label.font.weight),i=this._barGaugeRadius-1.2*this._label.indent-1.2*t.height;i+t.width+1.2*this._label.indent>this.width/2&&(i=this._barGaugeRadius-1.2*this._label.indent-t.width),!1===this._label.visible&&(i=this._barGaugeRadius),(i*=.98)<0&&(i=0),this._barWidth=i*(1-this.relativeInnerRadius)/this._valuesLength-this.barSpacing,this._barStartAt=i*this.relativeInnerRadius,this._labelPositioningRadius=this._barStartAt+this._valuesLength*(this._barWidth+this.barSpacing)-this.barSpacing+this._label.indent},_drawEmptyBarGauge:function(){var e,t,i=this._barStartAt,s=this._barWidth;e=""===this._title.text?this._barGaugeRadius:this._barGaugeFigureRadius,i=this.relativeInnerRadius*e,s=e,this._barGaugeBackgroundSlices[0]=this.renderer.pieslice(this._centerX,this._centerY,i,s,this._geometry.startAngle,this._geometry.endAngle,0,{fill:this._backgroundColor,stroke:this._backgroundColor,"stroke-width":this._barGaugeSlicesStrokeWidth}),t=this.element.id+"BackgroundSlice0",this.renderer.attr(this._barGaugeBackgroundSlices[0],{id:t}),this.renderer.attr(this._barGaugeBackgroundSlices[0],{class:"jqx-bar-gauge-background-slice"}),this._rendered(),this._oldValuesLength=0,this._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this._barStartAt,i=t+this._barWidth;if(this._barGaugeSlicesStrokeWidth=0,this._centerX=this.width/2,""===this._title.text?this._centerY=this.height/2:"top"===this._title.verticalAlignment?this._centerY=(this.height+this._title.placeholderSize)/2:this._centerY=(this.height-this._title.placeholderSize)/2,this._valuesLength>0)for(var s=0;s<this._valuesLength;s++)this._barGaugeBackgroundSlices[s]=this.renderer.pieslice(this._centerX,this._centerY,t,i,this._geometry.startAngle,this._geometry.endAngle,0,{fill:this._backgroundColor,stroke:this._backgroundColor,"stroke-width":this._barGaugeSlicesStrokeWidth}),e=this.element.id+"BackgroundSlice"+s,this.renderer.attr(this._barGaugeBackgroundSlices[s],{id:e}),this.renderer.attr(this._barGaugeBackgroundSlices[s],{class:"jqx-bar-gauge-background-slice"}),i=(t=i+this.barSpacing)+this._barWidth;else this._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var e,t,i,s=180-this._geometry.baseAngle+this._geometry.fix;this._renderedValues=0,i=(t=this._barStartAt)+this._barWidth;for(var r=[],n=0;n<this._valuesLength;n++){r[n]=this.baseValue;var o=this._colors[n];if(this.formatFunction&&(o=this.formatFunction(this.values[n],n,o)),this._ie7||this._ie8){s=180-this._valuesToDegrees[n]+this._geometry.fix,this._valuesToDegrees[n]>this._geometry.baseAngle?this._barGaugeSlices[n]=this.renderer.pieslice(this._centerX,this._centerY,t,i,180-this._geometry.baseAngle+this._geometry.fix,s,0,{fill:o,stroke:o,"stroke-width":this._barGaugeSlicesStrokeWidth}):this._barGaugeSlices[n]=this.renderer.pieslice(this._centerX,this._centerY,t,i,s,180-this._geometry.baseAngle+this._geometry.fix,0,{fill:o,stroke:o,"stroke-width":this._barGaugeSlicesStrokeWidth}),e=this.element.id+"Slice"+n,this.renderer.attr(this._barGaugeSlices[n],{id:e}),this.renderer.attr(this._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),this._drawnSlices[n]=!0,!0===this._label.visible&&(this._drawLabelsLine(t,s,n),this._drawLabelsText(s,n)),this._rendered()}else{if(this.useGradient){o=this.renderer._toLinearGradient(o,!0,[[0,1.4],[100,1]])}this._barGaugeSlices[n]=this.renderer.pieslice(this._centerX,this._centerY,t,i,s+.01,s,0,{fill:o,stroke:o,"stroke-width":this._barGaugeSlicesStrokeWidth}),e=this.element.id+"Slice"+n,this.renderer.attr(this._barGaugeSlices[n],{id:e}),this.renderer.attr(this._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),this._drawnSlices[n]=!0}this.renderer.attr(this._barGaugeSlices[n],{id:this.element.id+"Slice"+n}),this.renderer.attr(this._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),i=(t=i+this.barSpacing)+this._barWidth}this._oldValues=r,this._temporaryValues=r.slice(0),this._oldValuesToDegrees.length=0;for(n=0;n<this.values.length;n++)this._oldValuesToDegrees[n]=this._geometry.baseAngle,this._temporaryValuesToDegrees[n]=this._geometry.baseAngle;this._rendering=!0,this._redrawWithNewValuesArray(this.values,this._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){var e,t,i,s,r;t=(e=this._barStartAt)+this._barWidth;for(var n=0;n<this._valuesLength;n++){s=this._valuesToDegrees[n]||this._geometry.baseAngle,this._oldValues[n]=this.values[n]||this.baseValue,i=180-s+this._geometry.fix;var o=this._colors[n];if(this.useGradient){o=this.renderer._toLinearGradient(o,!0,[[0,1.4],[100,1]])}this._valuesToDegrees[n]<this._geometry.baseAngle?this._barGaugeSlices[n]=this.renderer.pieslice(this._centerX,this._centerY,e,t,180-this._geometry.baseAngle+this._geometry.fix,i,0,{fill:o,stroke:o,"stroke-width":this._barGaugeSlicesStrokeWidth}):this._barGaugeSlices[n]=this.renderer.pieslice(this._centerX,this._centerY,e,t,i,180-this._geometry.baseAngle+this._geometry.fix,0,{fill:o,stroke:o,"stroke-width":this._barGaugeSlicesStrokeWidth}),r=this.element.id+"Slice"+n,this.renderer.attr(this._barGaugeSlices[n],{id:r}),this.renderer.attr(this._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),this._drawnSlices[n]=!0,t=(e=t+this.barSpacing)+this._barWidth}this._removeLabels(),this._addLabels()},_addLabels:function(e,t,i){var s,r,n,o=this._barStartAt,a=o+this._barWidth;for(e||(e=this._valuesToDegrees),n=0;n<this._valuesLength;n++)r=n,null==i||n===i?(s=180-e[r]+this._geometry.fix,!0===this._label.visible&&!1===this.disabled&&(this._drawLabelsLine(o,s,r),t&&void 0!==t[r]?this._drawLabelsText(s,r,t[r]):this._drawLabelsText(s,r)),a=(o=a+this.barSpacing)+this._barWidth):a=(o=a+this.barSpacing)+this._barWidth},_removeLabels:function(e){for(var t=0;t<this._barGaugeLabelText.length;t++)null!=e&&t!=e||($(this._barGaugeLabelLines[t]).remove(),$(this._barGaugeLabelText[t]).remove(),this._barGaugeLabelLines[t]=null,this._barGaugeLabelText[t]=null)},_removeBarGaugeSlices:function(){this._removeBarGaugeBackgroundSlices(),this._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)this._oldIEbrowser&&$(this._barGaugeBackgroundSlices[t]).remove(),this._barGaugeBackgroundSlices[t]=null,this._drawnSlices[t]=!1;$("#"+this.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)!0===this._drawnSlices[t]&&(this._oldIEbrowser&&$(this._barGaugeSlices[t]).remove(),this._barGaugeSlices[t]=null,this._drawnSlices[t]=!1);$("#"+this.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){this._oldIEbrowser&&this._barGaugeTitle&&$(this._barGaugeTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){this._oldIEbrowser&&this._barGaugeSubTitle&&$(this._barGaugeSubTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t,i,s;this._geometry.baseAngle,this._geometry.fix;t=(e=this._barStartAt)+this._barWidth,this._rendering=!0,this._renderedValues=0,this._renderingValues=0;var r=!1;if(!this.disabled)for(t=(e=this._barStartAt)+this._barWidth,s=0;s<this._valuesLength;s++)this.values[s],this.baseValue,this.values[s]>this._oldValues[s]?(i="(oldAngle < newAngle)",this._renderElement(e,t,1,i,s,!0),r=!0):this.values[s]<this._oldValues[s]&&(i="(oldAngle > newAngle)",this._renderElement(e,t,-1,i,s,!1),r=!0),t=(e=t+this.barSpacing)+this._barWidth;r||this._rendered()},clearIntervals:function(){for(var e=this._intervalArray.length,t=0;t<e;t++)clearInterval(this._intervalArray[t]);this._intervalArray.length=0},_renderElement:function(e,t,i,s,r,n){var o,a,l=this;l._renderingValues++;var d=l._oldValues[r],h=l.values[r],c=l._valuesToDegrees[r],u=l._oldValuesToDegrees[r],p=l._barGaugeSlices[r],m=l._calculateAnimationInterval(r,!0),f=Math.abs(c-u),g=Math.abs(i/m.smoothCoef/f)*Math.abs(h-d),v=m.interval/m.smoothCoef;isNaN(l._temporaryValues[r])&&(l._temporaryValues[r]=d),isNaN(l._temporaryValuesToDegrees[r])&&(l._temporaryValuesToDegrees[r]=(180-u+l._geometry.fix)%360),isNaN(l._temporaryOldAngle[r])&&(l._temporaryOldAngle[r]=u);var x=function(){l.values[r];var s,d,h=l._valuesToDegrees[r];a=180-u+l._geometry.fix,s=a,d=180-l._geometry.baseAngle+l._geometry.fix,1===i?n&&(o=l._geometry.baseAngle<u?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,s,d,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,d,s,0)):n||(o=l._geometry.baseAngle<u?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,s,d,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,d,s,0));var c=!1;n&&u<h&&(c=!0),!n&&u>h&&(c=!0);var f=function(){l._removeLabels(r);for(var e=[],t=0;t<l._valuesToDegrees.length;t++)null!=l._temporaryOldAngle[t]?e[t]=l._temporaryOldAngle[t]:e[t]=l._valuesToDegrees[t];l._addLabels(e,l._temporaryValues,r)};if(c&&!1===l.disabled&&0!=l.animationDuration){if(f(),l.renderer.attr(p,{d:o}),l.formatFunction){var v=l._colors[r];v=l.formatFunction(l.values[r],r,v),l.renderer.attr(p,{fill:v,stroke:v})}return u+=i/m.smoothCoef,l._temporaryOldAngle[r]=u,l._temporaryValuesToDegrees[r]=(180-u+l._geometry.fix)%360,l._temporaryValues[r]=l._temporaryValues[r]+i*g,!1}if(u=h,a=180-h+l._geometry.fix,l._temporaryOldAngle[r]=h,l._temporaryValuesToDegrees[r]=h%360,l._temporaryValues[r]=l.values[r],f(),function(i,s){o=i<=s?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,i-1e-4,s,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,s,i,0)}(a,180-l._geometry.baseAngle+l._geometry.fix),l.renderer.attr(p,{d:o}),l.formatFunction){v=l._colors[r];v=l.formatFunction(l.values[r],r,v),l.renderer.attr(p,{fill:v,stroke:v})}return clearInterval(l._intervalArray[r]),l._renderedValues++,l._renderedValues===l._renderingValues&&l._rendered(),!0};if(0==l.animationDuration)x();else{var w=function(){clearInterval(l._intervalArray[r]);var e=x();if(l._rendering&&!e){var t=l._oldValues[r],s=l.values[r],n=l._valuesToDegrees[r],o=l._oldValuesToDegrees[r],a=(l._barGaugeSlices[r],l._calculateAnimationInterval(r,!0)),d=Math.abs(n-o),h=(Math.abs(i/a.smoothCoef/d),Math.abs(s-t),a.interval/a.smoothCoef);l._intervalArray[r]=setInterval(w,h)}};l._intervalArray[r]||(l._intervalArray[r]=setInterval(w,v))}},_calculateAnimationInterval:function(e,t){var i={},s=this.animationDuration/1e3,r=0;return t?this._oldValues[e]-this.values[e]!=0&&(r=1e3/Math.abs((this._oldValues[e]-this.values[e])/(this.max-this.min)*(this._geometry.endAngle-this._geometry.startAngle))):this.baseValue-this.values[e]!=0&&(r=1e3/Math.abs((this.baseValue-this.values[e])/(this.max-this.min)*(this._geometry.endAngle-this._geometry.startAngle))),i.smoothCoef=s||1,i.interval=r*s,i},_calculateLabelOffset:function(e,t,i){var s,r,n={};return r=e>=270?-(270-e)/180:e<=90?(90+e)/180:(270-e)/180,s=e<=180?e/180:(360-e)/180,n.y=r*t,n.x=s*i,n},_drawCoordinatePlane:function(){var e,t;"top"===this._title.verticalAlignment?(e=this._title.placeholderSize,t=this.height):(e=0,t=this.height-this._title.placeholderSize),null!==this._coordinatePlane&&$("#"+this.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),this._coordinatePlane={},this._coordinatePlane.x=this.renderer.line(0,this._centerY,this.width,this._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),this._coordinatePlane.y=this.renderer.line(this._centerX,e,this._centerX,t,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),this.renderer.attr(this._coordinatePlane.x,{class:"jqx-bar-gauge-coordinate-plane"}),this.renderer.attr(this._coordinatePlane.y,{class:"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){var e,t,i=this._colorSchemes.length,s=this.values.length||1,r=Math.floor(s/this._colorSchemes[0].colors.length),n=0;for(t=0;t<i;t++)this.colorScheme===this._colorSchemes[t].name&&(n=t);if(this._colors=this._colorSchemes[n].colors,r>0)for(t=0;t<r;t++)e=(n+t+1)%i,this._colors=this._colors.concat(this._colorSchemes[e].colors)},_drawLabelsLine:function(e,t,i){var s,r,n,o,a,l,d,h;t<0?t=360+t:t>360&&(t%=360),a=(360-t)*Math.PI/180,l=e+this._barWidth+(this._valuesLength-i-1)*(this._barWidth+this.barSpacing)+this._label.indent,s=this._centerX+e*Math.cos(a),r=this._centerY+e*Math.sin(a),n=this._centerX+l*Math.cos(a),o=this._centerY+l*Math.sin(a),d=this._label.connectorColor||this._colors[i],this.formatFunction&&(d=this.formatFunction(this.values[i],i,d)),(this._ie7||this._ie8)&&(s=parseInt(s,10),r=parseInt(r,10),n=parseInt(n,10),o=parseInt(o,10)),!0===this._label.visible&&!1===this.disabled&&(this._barGaugeLabelLines[i]=this.renderer.line(s,r,n,o,{fill:d,stroke:d,"stroke-width":this._label.connectorWidth})),h=this.element.id+"LabelLine"+i,this.renderer.attr(this._barGaugeLabelLines[i],{id:h}),this.renderer.attr(this._barGaugeLabelLines[i],{class:"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,i){var s,r,n,o,a,l,d=this._label.font.color||this._colors[t];this.formatFunction&&(d=this.formatFunction(this.values[t],t,d));var h=this._calculatePrecision(this._label.precision,this.values[t]);void 0!==i&&(h=new Number(i).toFixed(this._label.precision),h=this._calculatePrecision(this._label.precision,h)),void 0!==this._label.formatFunction&&null!==this._label.formatFunction&&"function"==typeof this._label.formatFunction&&(h=this._label.formatFunction(h,t)),this._cachedMeasurements||(this._cachedMeasurements=[]),this._cachedMeasurements[h.length]?s=this._cachedMeasurements[h.length]:(s=this._measureText(h,this._label.font.size,this._label.font.family,this._label.font.weight),this._cachedMeasurements[h.length]=s),e<0?e=360+e:e>360&&(e%=360),r=(360-e)*Math.PI/180,n=this._centerX+(this._labelPositioningRadius+.3*s.height)*Math.cos(r),o=this._centerY+(this._labelPositioningRadius+.3*s.height)*Math.sin(r),a=this._calculateLabelOffset(e,s.height,s.width),!0===this._label.visible&&!1===this.disabled&&(this._barGaugeLabelText[t]=this.renderer.text(h,n-a.x,o-a.y,void 0,void 0,0,{class:"jqx-bargauge-label",fill:d,"font-size":this._label.font.size+"px","font-family":this._label.font.family,"font-weight":this._label.font.weight},!1,"left","top","lefttop")),l=this.element.id+"Label"+t,this.renderer.attr(this._barGaugeLabelText[t],{id:l}),this.renderer.attr(this._barGaugeLabelText[t],{class:"jqx-bar-gauge-label-text"}),(this._ie7||this._ie8)&&$("#"+l+" .jqx-bargauge-label").css({color:d,"white-space":"nowrap","font-size":this._label.font.size+"px","font-family":this._label.font.family,"font-weight":this._label.font.weight})},_calculatePrecision:function(e,t){var i;return i=(i=e+Math.abs(t).toString().split(".")[0].length)>15?15:i,t=parseFloat(t).toPrecision(i)},_createTooltip:function(){var e=this.element.id+"tooltip";this._barGaugeTooltip.attr("id",e),$(this._barGaugeTooltip).addClass(this.toThemeProperty("jqx-bar-gauge-tooltip")),this._tooltip.classname.length>0&&$(this._barGaugeTooltip).addClass(this.toThemeProperty(this._tooltip.classname)),$(document.body).append(this._barGaugeTooltip),!0===this._tooltip.visible&&!1===this.disabled&&this._valuesLength>0&&this._addTooltipHandlers()},_refreshTooltipHandlers:function(){!0===this._tooltip.visible&&!1===this.disabled&&(this._removeTooltipHandlers(),this._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,i=this;i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){!0===i._tooltip.visible&&i._valuesLength>0&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t),i._raiseEvent("2",{layer:e}))}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){i._barGaugeTooltip.css({display:"none"}),i._raiseEvent("3",{layer:e})}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){i._barGaugeTooltip.css({display:"none"})}),$("#"+i.element.id+" .jqx-bar-gauge-slice").length>0&&i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){!0===i._tooltip.visible&&i._valuesLength>0&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t))}),i.addHandler($(i.host),"mousemove",function(e){i._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){this._barGaugeSlices.length>0&&(this.removeHandler($(this._barGaugeSlices),"mouseenter"),this.removeHandler($(this._barGaugeSlices),"mouseleave"),this.removeHandler($(this._barGaugeSlices),"mouseup"),this.removeHandler($(this._barGaugeSlices),"mousemove"),this.removeHandler($("#"+this.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),this.removeHandler($(this.host),"mousemove")},_drawBarGaugeTitle:function(){this._alignmentIE=this._alignmentIE||this._title.horizontalAlignment;var e,t,i,s,r,n,o,a,l,d=0;if((this._ie7||this._ie8)&&(this._title.horizontalAlignment="left"),this._titleLines>1){for(e=this._title.text.split("<br>"),l=0;l<this._titleLines;l++)for(i=this._measureText(e[l]+"_",this._title.font.size,this._title.font.family,this._title.font.weight),n=e[l];i.width>this.width;)n=n.slice(0,-1),e[l]=n+"...",i=this._measureText(e[l]+"_",this._title.font.size,this._title.font.family,this._title.font.weight);this._title.text=e.join("<br>")}else for(i=this._measureText(this._title.text+"_",this._title.font.size,this._title.font.family,this._title.font.weight),n=this._title.text;i.width>this.width;)n=n.slice(0,-1),this._title.text=n+"...",i=this._measureText(this._title.text+"_",this._title.font.size,this._title.font.family,this._title.font.weight);if("bottom"===this._title.verticalAlignment&&(d=this.height-this._title.placeholderSize),null!==this.title&&void 0!==this.title&&""!==this._title.text){if(this._barGaugeTitle=this.renderer.text(this._title.text,this._title.margin.left,d+this._title.margin.top,this.width-this._title.margin.right,0,void 0,{fill:this._title.font.color,"fill-opacity":this._title.font.opacity,"font-size":this._title.font.size,"font-family":this._title.font.family,"font-weight":this._title.font.weight},!1,this._title.horizontalAlignment,this._title.verticalAlignment,"centertop"),a=this.element.id+"Title",this.renderer.attr(this._barGaugeTitle,{id:a}),this.renderer.attr(this._barGaugeTitle,{class:"jqx-bar-gauge-title"}),this._ie7||this._ie8){$("#"+a+" textbox").css({width:this.width+"px !important","padding-left":"10px",position:"relative"});var h=0;i.width<this.width&&("center"===this._alignmentIE?h=(this.width-i.width)/2:"right"===this._alignmentIE&&(h=this.width-i.width)),$("#"+a+" span").css({color:this._title.font.color,"margin-left":h+"px","white-space":"nowrap","text-align":"center","font-size":this._title.font.size+"px","font-family":this._title.font.family,"font-weight":this._title.font.weight}),0}if(""!==this._title.subtitle.text&&void 0!==this._title.subtitle.text){if(this._subTitleLines>1){for(t=this._title.subtitle.text.split("<br>"),l=0;l<this._subTitleLines;l++)for(s=this._measureText(t[l]+"_",this._title.subtitle.font.size,this._title.subtitle.font.family,this._title.subtitle.font.weight),r=t[l];s.width>this.width;)r=r.slice(0,-1),t[l]=r+"...",s=this._measureText(t[l]+"_",this._title.subtitle.font.size,this._title.subtitle.font.family,this._title.subtitle.font.weight);this._title.subtitle.text=t.join("<br>")}else for(s=this._measureText(this._title.subtitle.text+"_",this._title.subtitle.font.size,this._title.subtitle.font.family,this._title.subtitle.font.weight),r=this._title.subtitle.text;s.width>this.width;)r=r.slice(0,-1),this._title.subtitle.text=r+"...",s=this._measureText(this._title.subtitle.text+"_",this._title.subtitle.font.size,this._title.subtitle.font.family,this._title.subtitle.font.weight);if(this._barGaugeSubTitle=this.renderer.text(this._title.subtitle.text,this._title.margin.left,d+this._title.font.size*this._titleLines+this._title.margin.top,this.width-this._title.margin.right,0,void 0,{fill:this._title.subtitle.font.color,"fill-opacity":this._title.subtitle.font.opacity,"font-size":this._title.subtitle.font.size,"font-family":this._title.subtitle.font.family,"font-weight":this._title.subtitle.font.weight,"margin-top":this._title.margin.top},!1,this._title.horizontalAlignment,this._title.verticalAlignment,"centertop"),o=this.element.id+"SubTitle",this.renderer.attr(this._barGaugeSubTitle,{id:o}),this.renderer.attr(this._barGaugeSubTitle,{class:"jqx-bar-gauge-subtitle"}),this._ie7||this._ie8){var c=0;s.width<this.width&&("center"===this._alignmentIE?c=(this.width-s.width)/2:"right"===this._alignmentIE&&(c=this.width-s.width)),$("#"+o+" textbox").css({width:this.width+"px !important",left:c+"px !important",position:"relative"}),$("#"+o+" span").css({width:"100%",color:this._title.subtitle.font.color,"margin-left":c+"px","white-space":"nowrap","text-align":"center","font-size":this._title.subtitle.font.size+"px","font-family":this._title.subtitle.font.family,"font-weight":this._title.subtitle.font.weight})}}}},_measureText:function(e,t,i,s){var r={};return $("#"+this._measuredTextId).length||(this._measuredText.attr("id",this._measuredTextId),$(this.host).append(this._measuredText),this._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":i,"font-weight":s})),this._measuredText[0].style.fontSize!=t+"px"&&(this._measuredText[0].style.fontSize=t+"px"),this._measuredText[0].style.fontFamily!=i+"px"&&(this._measuredText[0].style.fontFamily=i),this._measuredText[0].style.fontWeight!=s&&(this._measuredText[0].style.fontWeight=s+"px"),this._measuredText.text(e),r.width=this._measuredText[0].offsetWidth,r.height=this._measuredText[0].offsetHeight,r},_calculateBarGaugeRadius:function(){this.width>this.height-this._title.placeholderSize?this._barGaugeRadius=(this.height-this._title.placeholderSize)/2:this._barGaugeRadius=this.width/2},_addCSS:function(){$(this.host).addClass(this.toThemeProperty("jqx-widget")),$(this.host).addClass(this.toThemeProperty("jqx-bar-gauge")),$(this.host).addClass(this.toThemeProperty("jqx-widget-content")),this.disabled&&$(this.host).addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){!0===this._rendering&&(null!==this.rendered&&"function"==typeof this.rendered&&this.rendered(),this._rendering=!1,this.clearIntervals(),this._temporaryOldAngle.length=0,this._temporaryValuesToDegrees.length=0,this._temporaryValues.length=0,this._raiseEvent("0"),this._raiseEvent("5"))},_render:function(){this._removeAllGraphicElements(),this.values.length>0?0===this.animationDuration||this._ie8||this._ie7?this._drawStaticBarGauge():this._drawDynamicBarGauge():(this._getLiquidDimensions(),this.host.width(this.width),this.host.height(this.height),this._validateValues(),this._transformValuesToAngles(),this._drawStaticBarGauge())},render:function(){this.clearIntervals(),this._getLiquidDimensions(),this.host.width(this.width),this.host.height(this.height),this._validateValues(),this._transformValuesToAngles(),this._getColorScheme(),!0!==this._rendering?this._render():(this._staticRefresh(),this._render())},refresh:function(e){!0!==e&&this.render()},_removeAllGraphicElements:function(){this._removeLabels(),this._removeBarGaugeSlices(),this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){this._rendering=!0,this._drawBarGaugeTitle(),this._drawBarGaugeLayout(),this.disabled?this._rendered():(this._getLiquidDimensions(),this.host.width(this.width),this.host.height(this.height),this._validateValues(),this._measureRadius(),this._drawStaticBarGaugeElementsWithBase(),this._rendered())},_drawDynamicBarGauge:function(){this._drawBarGaugeTitle(),this._drawBarGaugeLayout(),this.disabled?this._rendered():this._drawBarGaugeElementsWithBase()},val:function(e){return null!=e&&"object"==typeof e&&Object.keys(e).length>0?(this._raiseEvent("4","api"),e.length!=this.values.length?(this.values=e,this.render()):this._redrawWithNewValuesArray(e,this.values)):null!=e&&"object"==typeof e&&0===e.length&&(this._raiseEvent("4"),this._removeLabels(),this._removeBarGaugeSlices(),this._transformValuesToAngles(),this._drawEmptyBarGauge(),this._removeLabels(),this.values.length=0,this._refreshTooltipHandlers()),this.values},_redrawWithNewValuesArray:function(e,t){var i,s;if(!1===this._rendering)this._userValues=e.slice(),this._oldValues=t?t.slice():this.values.slice(),this._oldValuesToDegrees=this._valuesToDegrees.slice(),this._oldValuesLength=this._valuesLength,Object.keys(e).length>1?this.values=e.slice():null===e[0]||void 0===e[0]?this.values=[]:(this.values=[],this.values[0]=parseFloat(e)),this._lastChange=new Date;else if(!0===this._rendering){for(this._userValues=e.slice(),this._oldValues.length=0,this._oldValuesToDegrees.length=0,s=0;s<this.values.length;s++)this._oldValues[s]=null!=this._temporaryValues[s]?this._temporaryValues[s]:this.values[s],this._oldValuesToDegrees[s]=null!=this._temporaryValuesToDegrees[s]?this._temporaryValuesToDegrees[s]:this._valuesToDegrees[s];this._oldValuesLength=this.values.length,e.length>1?this.values=e.slice():null===e[0]||void 0===e[0]?this.values=[]:(this.values=[],this.values[0]=parseFloat(e))}else if(null==e)this.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return this.values;this.values=[],this.values[0]=parseFloat(e)}if(this._valuesLength=this.values.length,this._getColorScheme(),this._valuesLength>this._oldValuesLength)for(var r=this._oldValuesLength;r<this._valuesLength;r++)this._oldValuesToDegrees[r]=this._geometry.baseAngle,this._oldValues[r]=this.baseValue;for(s=0;s<this._valuesLength;s++){this.values[s]<this.min?this.values[s]=this.min:this.values[s]>this.max&&(this.values[s]=this.max);var n=this.values[s];0==n&&(n=.03),i=(n-this.min)/(this.max-this.min)*(this._geometry.endAngle-this._geometry.startAngle)+this._geometry.startAngle,this._valuesToDegrees[s]=i%360}this._renderElements(),this._refreshTooltipHandlers(),this._raiseEvent("1")},_staticRefresh:function(){var e=this.animationDuration;"string"==typeof this.width&&-1!==this.width.indexOf("%")&&(this._dimensions.width=this.width),"string"==typeof this.height&&-1!==this.height.indexOf("%")&&(this._dimensions.height=this.height),this._getLiquidDimensions(),this.host.width(this.width),this.host.height(this.height),$("#"+this.element.id+" .chartContainer").width(this.width),$("#"+this.element.id+" .chartContainer").height(this.height),this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle(),this._validateGeometry(),this._validateTitle(),this._validateLabel(),this._validateValues(),this._validateTooltip(),this._measureRadius(),this.animationDuration=0,this._render(),this.animationDuration=e},propertyChangedHandler:function(e,t,i,s){var r,n=e;if(n._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&!1!==e.isInitialized&&(n.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(s!==i||"colorScheme"===t||"tooltip"===t))switch(n.animationDuration,n._titleTemplate=n._title,n._labelTemplate=n._label,n._tooltipTemplate=n._tooltip,t){case"width":case"height":n._staticRefresh();break;case"values":n.values=i,n.val(s);break;case"animationDuration":break;case"disabled":n.disabled?$(n.host).addClass(n.toThemeProperty("jqx-fill-state-disabled")):$(n.host).removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":n.geometry.startAngle=n.startAngle,n.geometry.endAngle=n.endAngle,n.values=n._userValues.slice(),n._validateValues(),n._transformValuesToAngles(),n._render();break;case"tooltip":n._validateTooltip();break;case"rendered":break;case"backgroundColor":if(n._backgroundColor=n._validateColor(n.backgroundColor,n._backgroundColor),n._ie7||n._ie8)for(r=0;r<n._valuesLength;r++)n.renderer.attr(n._barGaugeBackgroundSlices[r],{fillcolor:n._backgroundColor,strokecolor:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});else $("#"+n.element.id+" .jqx-bar-gauge-background-slice").attr({fill:n._backgroundColor,stroke:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});break;case"customColorScheme":n._attachCustomColors();break;case"colorScheme":var o,a;for(n._getColorScheme(),r=0;r<n._valuesLength;r++){o=n._label.connectorColor||n._colors[r],a=n._label.font.color||n._colors[r];var l=n._colors[r];if(n.useGradient){l=n.renderer._toLinearGradient(l,!0,[[0,1.4],[100,1]])}if(n.renderer.attr(n._barGaugeSlices[r],{fill:l}),n.renderer.attr(n._barGaugeLabelLines[r],{fill:o,stroke:o}),n.renderer.attr(n._barGaugeLabelText[r],{fill:a}),n._ie7||n._ie8){n.renderer.attr(n._barGaugeSlices[r],{fillcolor:n._colors[r],strokecolor:n._colors[r],"stroke-width":n._barGaugeSlicesStrokeWidth}),n.renderer.attr(n._barGaugeLabelLines[r],{fillcolor:o,strokecolor:o});var d=n.element.id+"Label"+r;$("#"+d+" .jqx-bargauge-label").css({color:a})}}break;default:n._staticRefresh()}},_compareArrays:function(e,t){var i=e.length;if(i!==t.length)return!1;for(var s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0},_addIEPolyfills:function(){var e,t,i,s;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),s=(i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var n,o,a=[];for(n in r)e.call(r,n)&&a.push(n);if(t)for(o=0;o<s;o++)e.call(r,i[o])&&a.push(i[o]);return a}))},destroy:function(){$("#"+this._measuredTextId).remove(),this.renderer.clear(),this.renderer=null,this._removeEventHandlers(),this._removeTooltipHandlers(),this.host.children().remove(),this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,this.element=null,delete this.element,delete this.host},_addEventHandlers:function(){var e=this;e.addHandler($(e.host),"drawStart",function(){}),e.addHandler($(e.host),"drawEnd",function(){e._refreshTooltipHandlers()}),e.addHandler($(window),"resize.jqxBarGauge"+e.host[0].id,function(){var t=!1;e._dimensions.width&&e._dimensions.width.toString().indexOf("%")>=0&&(t=!0),e._dimensions.height&&e._dimensions.height.toString().indexOf("%")>=0&&(t=!0),t&&e._staticRefresh()})},_removeEventHandlers:function(){this.removeHandler($(this.host),"drawStart"),this.removeHandler($(this.host),"drawEnd"),this.removeHandler($(window),"resize.jqxBarGauge"+this.host[0].id)},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){var i=$.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxBulletChart","",{}),e.extend(e.jqx._jqxBulletChart.prototype,{defineInstance:function(){var t={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return this===e.jqx._jqxBulletChart.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(!e.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._timer&&clearTimeout(i._timer),i._timer=setTimeout(function(){var e=i.animationDuration;i.animationDuration=0,i.render(),setTimeout(function(){i.animationDuration=e},0)},10)},!1,!0)},render:function(){this.host.children().length>0&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var t,i=this.host.width(),s=this.host.height(),r=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?t=e("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+r+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+r+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(t=e("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+i+"px; direction: "+r+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+r+";'>"+this.description+"</div></div>")),this.host.append(t);var n,o,a,l,d,h,c=t.outerWidth(),u=t.outerHeight();if(t.remove(),"horizontal"==this.orientation){if(n="jqx-bulletchart-title-container-horizontal",o="jqx-bulletchart-chart-container-horizontal",a=this._checkPercentage(this.barSize,this.host),d=0,p=i-(m=c),h=l=this.barSize,this.width&&this.width.toString().indexOf("%")>=0){var p=parseFloat(parseFloat(100*p)/i).toString()+"%",m=parseFloat(parseFloat(100*m)/i).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(n="jqx-bulletchart-title-container-vertical",o="jqx-bulletchart-chart-container-vertical",a=0,m="100%",l=u,d=this._checkPercentage(this.barSize,this.host),p=this.barSize,h=s-l);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+n+"' style='top: "+a+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+o+"' style='top: "+a+"; left: "+d+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+n+"' style='top: "+a+";'></div>"),this._titleContainer=e("#"+this.element.id+"titleContainer"),this._chartContainer=e("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:m,height:l}),this._chartContainer.css({width:p,height:h}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(e){e||this.render()},val:function(e){if(0==arguments.length||null!=e&&"object"==typeof e)return this.pointer.value;e>this._max?e=this._max:e<this._min&&(e=this._min),e!=this.pointer.value&&(this._updateValue(e,this.pointer.value),this.pointer.value=e,1==this.showTooltip&&this._updateTooltip())},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(t,i,s,r){if(s!=r||r instanceof Object){var n=!0,o=function(){e.each(s,function(e,s){null==r[e]&&(t[i][e]=s)})};switch(i){case"barSize":break;case"ranges":e.each(s,function(s,n){e.each(n,function(e,n){void 0!==r[s]&&null==r[s][e]&&(t[i][s][e]=n)})}),this._setDefaultValues();break;case"pointer":return o(),void this._updatePointer(r,s);case"target":return o(),void this._updateTarget(r,s);case"ticks":n=!1,o(),e.each(s,function(e,r){s[e]!=t[i][e]&&(n=!0)});break;case"showTooltip":if(1==r){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==r?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==n&&this.render()}},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n},_removeHandlers:function(){var t=e("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(t,"mouseenter.bulletchart"+this.element.id),this.removeHandler(t,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var e=this.ranges,t=this.ranges.length,i=0;i<t;i++){if(null==e[i].startValue||null==e[i].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");null==e[i].color&&(this.ranges[i].color="#000000"),null==e[i].opacity&&(this.ranges[i].opacity=1-1/t*i)}var s=this.pointer;null==s.value&&(this.pointer.value=65),null==s.label&&(this.pointer.label="Value"),null==s.size&&(this.pointer.size="25%"),null==s.color&&(this.pointer.color="");var r=this.target;null==r.value&&(this.target.value=85),null==r.label&&(this.target.label="Target"),null==r.size&&(this.target.size=5),null==r.color&&(this.target.color="");var n=this.ticks;null==n.position&&(this.ticks.position="near"),null==n.interval&&(this.ticks.interval=20),null==n.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var e="",t=this.ranges.length,i=0;i<t;i++){var s,r=this.ranges[i];if("horizontal"==this.orientation){var n=this.rtl?"right":"left",o=(r.startValue-this._min)*this._valueToPixelsHorizontal,a=(r.endValue-r.startValue)*this._valueToPixelsHorizontal;s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+n+": "+o+"px; width: "+a+"px; background-color: "+r.color+"; opacity: "+r.opacity+"'></div>"}else if("vertical"==this.orientation){var l=(r.startValue-this._min)*this._valueToPixelsVertical,d=(r.endValue-r.startValue)*this._valueToPixelsVertical;s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+l+"px; height: "+d+"px; background-color: "+r.color+"; opacity: "+r.opacity+"'></div>"}e+=s}this._chartContainer.append(e)},_appendPointerAndTarget:function(){var e="",t=this.element.id+"Pointer",i=this.element.id+"Target",s=this.pointer.size,r=this.target.value,n=this.target.size,o=r>0?0:parseInt(n),a=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed"),l=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var d=this._normaliseValue(s),h=this._checkPercentage(s,this._chartContainer),c=this.rtl?"right":"left",u=(r-this._min)*this._valueToPixelsHorizontal-o,p=u+parseInt(n)-this._chartContainer.width();u<0?u=0:p>0&&(u-=p);var m=this._normaliseValue(n);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+i+"' style='"+c+": "+u+"px; width: "+m+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='top: "+h+"; height: "+d+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){this._chartContainer.width();var f=this._normaliseValue(s),g=this._checkPercentage(s,this._chartContainer),v=(r-this._min)*this._valueToPixelsVertical-o;p=v+parseInt(n)-this._chartContainer.height();v<0?v=0:p>0&&(v-=p);var x=this._normaliseValue(n);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+i+"' style='bottom: "+v+"px; height: "+x+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='left: "+g+"; width: "+f+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(e)},_updatePointer:function(t,i){var s=e("#"+this.element.id+"Pointer");if(t.value>this._max?this.pointer.value=this._max:t.value<this._min&&(this.pointer.value=this._min),t.value!=i.value&&(this._updateValue(t.value,i.value),1==this.showTooltip&&this._updateTooltip()),t.label!=i.label&&1==this.showTooltip&&this._updateTooltip(),t.size!=i.size){var r=t.size;if("horizontal"==this.orientation){var n=this._checkPercentage(r,this._chartContainer),o=this._normaliseValue(r);s.css({top:n,height:o})}else if("vertical"==this.orientation){var a=this._checkPercentage(r,this._chartContainer),l=this._normaliseValue(r);s.css({left:a,width:l})}}t.color!=i.color&&(""==t.color?(s.css("background-color",""),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s.css("background-color",t.color)))},_updateTarget:function(t,i){var s=e("#"+this.element.id+"Target");if(t.value>this._max?this.target.value=this._max:t.value<this._min&&(this.target.value=this._min),t.value!=i.value||t.size!=i.size){var r=t.value,n=parseInt(t.size),o=r>0?0:n;if("horizontal"==this.orientation){this.rtl;var a=(r-this._min)*this._valueToPixelsHorizontal-o,l=a+n-this._chartContainer.width();a<0?a=0:l>0&&(a-=l),0==this.rtl?s.css("left",a):s.css("right",a),s.width(n)}else if("vertical"==this.orientation){var d=(r-this._min)*this._valueToPixelsVertical-o;l=d+n-this._chartContainer.height();d<0?d=0:l>0&&(d-=l),s.css({bottom:d,height:n})}1==this.showTooltip&&this._updateTooltip()}t.label!=i.label&&1==this.showTooltip&&this._updateTooltip(),t.color!=i.color&&(""==t.color?(s.css("background-color",""),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s.css("background-color",t.color)))},_appendTitleAndDescription:function(){var t;t="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var i=this.rtl?"rtl":"ltr",s="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+t+"' style='direction: "+i+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+t+"' style='direction: "+i+";'>"+this.description+"</div>",r=e("<div style='position: absolute; visibility: hidden;'>"+s+"</div>");this._titleContainer.append(r);var n,o=r.children(),a=e(o[0]).height()+e(o[1]).height();r.remove(),n="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+n+"' style='height: "+a+"px;'>"+s+"</div>")},_appendTicksAndLabels:function(){var t=e("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(t);var i="",s=this._min<0,r=this.ticks.size;if("horizontal"==this.orientation){var n=this._titleContainer.width(),o=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var a=this._chartContainer.height()+o;for(var l=0;l<=this._interval;l+=this.ticks.interval){var d=l*this._valueToPixelsHorizontal+n;if(l+this.ticks.interval>this._interval&&(d-=1),s)l+this._min==0&&(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+o+"px; "+u+": "+d+"px; height: "+this._chartContainer.height()+"px;'></div>",s=!1);var h=this._labelValue(l);t.html(h);var c=d-t.width()/2,u=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+a+"px; "+u+": "+d+"px; height: "+r+"px;'></div>",i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(a+r+2)+"px; "+u+": "+c+"px;'>"+h+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(o-r)+"px; "+u+": "+d+"px; height: "+r+"px;'></div>",i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(o-(r+t.height()+2))+"px; "+u+": "+c+"px;'>"+h+"</div>")}}else if("vertical"==this.orientation){var p=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var m=this._chartContainer.width();for(l=0;l<=this._interval;l+=this.ticks.interval){var f=l*this._valueToPixelsVertical;if(l+this.ticks.interval>this._interval&&(f-=1),s)l+this._min==0&&(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+p+"px; bottom: "+f+"px; width: "+m+"px;'></div>",s=!1);if("both"==this.ticks.position||"near"==this.ticks.position){i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p-r)+"px; bottom: "+f+"px; width: "+r+"px;'></div>";h=this._labelValue(l,"near");t.html(h);c=t.height()/2-1;i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p-(r+t.width()+2))+"px; bottom: "+(f-c)+"px;'>"+h+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(m+p)+"px; bottom: "+f+"px; width: "+r+"px;'></div>";h=this._labelValue(l,"far");t.html(h);c=t.height()/2-1;i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(m+p+r+2)+"px; bottom: "+(f-c)+"px;'>"+h+"</div>"}}}this.host.append(i),t.remove()},_labelValue:function(t,i){var s=t+this._min;return this.labelsFormatFunction?this.labelsFormatFunction(s,i):e.jqx.dataFormat.formatnumber(s,this.labelsFormat)},_initializeTooltip:function(){var t=this,i=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:i,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=e.proxy(this.val,this);var s=e("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(s,"mouseenter.bulletchart"+this.element.id,function(i){0==t.disabled&&(t.host.jqxTooltip("open",i.pageX,i.pageY),(i.target.id==t.element.id+"Pointer"&&""==t.pointer.color||i.target.id==t.element.id+"Target"&&""==t.target.color)&&(e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(s,"mouseleave.bulletchart"+this.element.id,function(i){0==t.disabled&&(t.host.jqxTooltip("close"),(i.target.id==t.element.id+"Pointer"&&""==t.pointer.color||i.target.id==t.element.id+"Target"&&""==t.target.color)&&(e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e(i.target).addClass(t.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var t;if(this.tooltipFormatFunction)t=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var i=e.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),s=e.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);t="<div>"+this.pointer.label+": "+i+"</div><div>"+this.target.label+": "+s+"</div>"}return t},_updateValue:function(t,i,s){var r,n,o,a=this,l=e("#"+this.element.id+"Pointer"),d=function(e,s,d){if(a._min>=0)"vertical"==e?l.css("bottom",0):1==a.rtl&&"horizontal"==e&&l.css("right",0),r=(t-a._min)*s;else{if(t>=0){"horizontal"==e?1==a.rtl?(n="right",o="left"):n="left":"vertical"==e&&(n="bottom",o="top");var h=-a._min*s}else{"horizontal"==e?1==a.rtl?n="left":(n="right",o="left"):"vertical"==e&&(n="top");h=d+a._min*s}l.css(n,h),o&&l.css(o,""),t*i<0&&("horizontal"==e?l.width(0):"vertical"==e&&l.height(0)),r=Math.abs(t*s)}return r},h=function(){s||a._raiseEvent("0")};if("horizontal"==this.orientation){var c=d("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){l.animate({width:c},a.animationDuration,h)},0)}else if("vertical"==this.orientation){var u=d("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){l.animate({height:u},a.animationDuration,h)},0)}},_checkPercentage:function(e,t){var i=-1;e.indexOf&&(i=e.indexOf("%"));var s,r;return-1==i?("horizontal"==this.orientation?s=t.height():"vertical"==this.orientation&&(s=t.width()),(s-(r=e,e.indexOf&&-1!=e.indexOf("px")?parseFloat(r.slice(0,e.indexOf("px"))):r))/2+"px"):(100-function(e){return parseFloat(e.slice(0,i))}(e))/2+"%"},_normaliseValue:function(e){return!e.indexOf||-1==e.indexOf("px")&&-1==e.indexOf("%")?e+"px":e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxButtonGroup","",{}),e.extend(e.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var t={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButtonGroup.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;i._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(i),i._baseId=i._baseId+i.element.id,i.addHandler(i.host,"selectstart",function(e){i.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.toString().indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var i=t._eventsMap[e]||e;return i+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var t=this;t.lastElement&&t.lastElement.remove(),t.lastElement=e("<div style='clear: both;'></div>");var i,s=t.host.children(),r=s.length;switch(t.mode){case"radio":t.host.attr("role","radiogroup");break;case"checkbox":case"default":t.host.attr("role","group")}for(var n=new Number(100/r).toFixed(2),o=0;o<r;o+=1)i=e(s[o]),t.width&&("horizontal"===t.orientation?(i.css("width",n+"%"),i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("white-space","nowrap"),i.css("text-overflow","ellipsis"),i.css("overflow","hidden")):(i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("width","100%"))),t._refreshButton(i,o,r);t.lastElement.appendTo(t.host)},_refreshButton:function(e,t,i){(function(e){var s=this;e=s._render(e),s._removeStyles(e),s._addStyles(e,t,i),s._performLayout(e),s._removeButtonListeners(e),s._addButtonListeners(e),s._handleButtonId(e,t),"radio"===s.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",s.disabled),s.disabled?e.addClass(s.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(s.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(t){for(var i,s=this,r=s.host.children(),n=r.length,o=0;o<n;o+=1)i=e(r[o]),s._removeStyles(i),s._removeButtonListeners(i);!1!==t&&s.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,i=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(i.call(this,"jqx-fill-state-normal")),e.removeClass(i.call(this,"jqx-group-button-normal")),e.removeClass(i.call(this,"jqx-rc-tl")),e.removeClass(i.call(this,"jqx-rc-bl")),e.removeClass(i.call(this,"jqx-rc-tr")),e.removeClass(i.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var s=this,r=this.toThemeProperty;s.host.addClass(r.call(this,"jqx-widget")),s.host.addClass(r.call(this,"jqx-rc-all")),s.host.addClass(r.call(this,"jqx-buttongroup")),e.addClass(r.call(this,"jqx-button")),e.addClass(r.call(this,"jqx-group-button-normal")),e.addClass(r.call(this,"jqx-fill-state-normal")),s.template&&e.addClass(r.call(this,"jqx-"+s.template)),s.roundedCorners&&(0===t?s._addRoundedCorners(e,!0):t===i-1&&s._addRoundedCorners(e,!1)),"horizontal"===s.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-bl"))):(e.addClass(i.call(this,"jqx-rc-tr")),e.addClass(i.call(this,"jqx-rc-br"))):t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-tr"))):(e.addClass(i.call(this,"jqx-rc-bl")),e.addClass(i.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(t){var i,s=t.val();""===s&&(s=t.html());var r=t[0].id;return t.wrap("<div/>"),(i=t.parent()).attr("style",t.attr("style")),t.remove(),e.jqx.utilities.html(i,s),i[0].id=r,i},_performLayout:function(t){"horizontal"===this.orientation?this.rtl?t.css("float","right"):t.css("float","left"):t.css("float","none"),this._centerContent(e(t.children()),t)},_mouseEnterHandler:function(t){var i=t.data.self,s=e(t.currentTarget);if(!i._isDisabled(s)&&i.enableHover){var r=i.toThemeProperty;s.addClass(r.call(i,"jqx-group-button-hover")),s.addClass(r.call(i,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(t){var i=t.data.self,s=e(t.currentTarget);if(!i._isDisabled(s)&&i.enableHover){var r=i.toThemeProperty;s.removeClass(r.call(i,"jqx-group-button-hover")),s.removeClass(r.call(i,"jqx-fill-state-hover"))}},_mouseDownHandler:function(t){var i=t.data.self,s=e(t.currentTarget);if(!i._isDisabled(s)){i._pressed=s;var r=i.toThemeProperty;s.addClass(r.call(i,"jqx-group-button-pressed")),s.addClass(r.call(i,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(t){var i=t.data.self,s=e(t.currentTarget);i._isDisabled(s)||(i._handleSelection(s),i._pressed=null,s=i._buttonId[s[0].id],i._raiseEvent(2,{index:s.num,button:s.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(t){var i=this,s=i.addHandler,r=i._getEvent;s(t,r.call(i,"mouseenter"),i._mouseEnterHandler,{self:i}),s(t,r.call(i,"mouseleave"),i._mouseLeaveHandler,{self:i}),s(t,r.call(i,"mousedown"),i._mouseDownHandler,{self:i}),s(t,r.call(i,"mouseup"),i._mouseUpHandler,{self:i}),s(e(document),r.call(i,"mouseup"),i._documentUpHandler,{self:i})},_removeButtonListeners:function(t){var i=this,s=i.removeHandler,r=i._getEvent;s(t,r.call(i,"mouseenter"),i._mouseEnterHandler),s(t,r.call(i,"mouseleave"),i._mouseLeaveHandler),s(t,r.call(i,"mousedown"),i._mouseDownHandler),s(t,r.call(i,"mouseup"),i._mouseUpHandler),s(e(document),r.call(i,"mouseup"),i._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,i=t._getSelectedButton();for(var s in i&&i.btn[0].id!==e[0].id&&t._unselectButton(i.btn,!0),t._buttonId)t._buttonId[s].selected=!0,t._unselectButton(t._buttonId[s].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,i=t._buttonId[e[0].id];i.selected?t._unselectButton(i.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;for(var i in t._selectButton(e,!1),t._buttonId)t._buttonId[i].selected=!0,t._unselectButton(t._buttonId[i].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var i in e._buttonId)e._buttonId[i].selected&&t.push(e._buttonId[i].num);return t},_getButtonByIndex:function(e){var t=this;for(var i in t._buttonId)if(t._buttonId[i].num===e)return t._buttonId[i];return null},_selectButton:function(t,i){var s=this,r=s._buttonId[t[0].id];if(!r.selected){var n=s.toThemeProperty;r.btn.addClass(n.call(this,"jqx-group-button-pressed")),r.btn.addClass(n.call(this,"jqx-fill-state-pressed")),r.selected=!0,i&&s._raiseEvent(0,{index:r.num,button:r.btn}),e.jqx.aria(r.btn,"aria-checked",!0)}},_unselectButton:function(t,i){var s=this,r=s._buttonId[t[0].id];if(r.selected){var n=s.toThemeProperty;r.btn.removeClass(n.call(this,"jqx-group-button-pressed")),r.btn.removeClass(n.call(this,"jqx-fill-state-pressed")),r.selected=!1,i&&s._raiseEvent(1,{index:r.num,button:r.btn}),e.jqx.aria(r.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var i=0;i<e.length;i+=1)t._setSelection(e[i]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){var t=this._getButtonByIndex(e);t&&this._handleSelection(t.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var t,i=this;for(var s in i.disabled=!0,i._buttonId)t=i._buttonId[s],i.disableAt(t.num);e.jqx.aria(i,"aria-disabled",!0)},enable:function(){var t,i=this;for(var s in i.disabled=!1,i._buttonId)t=i._buttonId[s],i.enableAt(t.num);e.jqx.aria(i,"aria-disabled",!1)},disableAt:function(e){var t=this._getButtonByIndex(e);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this._getButtonByIndex(e);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,s={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=s,i},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(t,i,s,r){if("theme"===i&&null!==r&&e.jqx.utilities.setTheme(s,r,t.host),"rtl"===i&&t.refresh(),"template"===i&&t.refresh(),"mode"===i)return t._unselectAll(),void t.refresh();"disabled"===i?r?t.disable():t.enable():t.refresh()}})}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(var i in t)if(t.hasOwnProperty(i)&&e==i)return t[i]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()||"button"==i.element.nodeName.toLowerCase()||"div"==i.element.nodeName.toLowerCase()){if(i._img)i._img.setAttribute("src",i.imgSrc),i._img.setAttribute("width",i.imgWidth),i._img.setAttribute("height",i.imgHeight),i._text.innerHTML=i.value;else{i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title},r=null;if(i.field.getAttribute("value"))r=i.field.getAttribute("value");else if("input"!=i.element.nodeName.toLowerCase())r=i.element.innerHTML;i.value&&(r=i.value),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var n=document.createElement("div");n.id=s.id,n.title=s.title,n.style.cssText=i.field.style.cssText,n.style.boxSizing="border-box";var o=document.createElement("img");o.setAttribute("src",i.imgSrc),o.setAttribute("width",i.imgWidth),o.setAttribute("height",i.imgHeight),n.appendChild(o),i._img=o;var a=document.createElement("span");r&&(a.innerHTML=r,i.value=r),n.appendChild(a),i._text=a,i.field.style.display="none",i.field.parentNode&&i.field.parentNode.insertBefore(n,i.field.nextSibling);var l=i.host.data();i.host=e(n),i.host.data(l),i.element=n,i.element.id=i.field.id,i.field.id=s.id;var d=new e(i.element),h=new e(i.field);if(i._className&&(d.addClass(i._className),h.removeClass(i._className)),i.field.tabIndex){var c=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=c}}i.imgSrc?i._img.style.display="inline":i._img.style.display="none",i.value?i._text.style.display="inline":i._text.style.display="none",i._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,s=e.imgWidth,r=e.imgHeight;""==e.imgSrc&&(s=0,r=0);var n=e._text.offsetWidth,o=e._text.offsetHeight,a=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=s+n+8+4+8,l=Math.max(r,o)+8+4+8;break;case"imageAboveText":case"textAboveImage":a=Math.max(s,n)+8,l=r+o+4+8+8;break;case"overlay":a=Math.max(s,n)+8,l=Math.max(r,o)+8}e.width||(e.element.style.width=a+"px",t=a),e.height||(e.element.style.height=l+"px",i=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var d={},h={},c=function(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}},u=0,p=0,m=t,f=i,g=(m-u)/2,v=(f-p)/2,x=e._img,w=e._text,y=f-p,b=m-u;switch(u+=4,p+=4,m=m-4-2,b=b-8-2,y=y-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":h={left:u,top:p,width:u+s,height:y},d={left:u+s+4,top:p,width:b-s-4,height:y};break;case"center":case"top":case"bottom":d={left:(h={left:g-n/2-s/2-2,top:p,width:s,height:y}).left+s+4,top:p,width:m-h.left-s-4,height:y};break;case"right":case"topRight":case"bottomRight":d={left:(h={left:m-n-s-4,top:p,width:s,height:y}).left+s+4,top:p,width:m-h.left-s-4,height:y}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":d={left:u,top:p,width:u+n,height:y},h={left:u+n+4,top:p,width:b-n-4,height:y};break;case"center":case"top":case"bottom":h={left:(d={left:g-n/2-s/2-2,top:p,width:n,height:y}).left+n+4,top:p,width:m-d.left-n-4,height:y};break;case"right":case"topRight":case"bottomRight":h={left:(d={left:m-n-s-4,top:p,width:n,height:y}).left+n+4,top:p,width:m-d.left-n-4,height:y}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":h={left:u,top:p,width:b,height:r},d={left:u,top:p+r+4,width:b,height:y-r-4};break;case"left":case"center":case"right":d={left:u,top:(h={left:u,top:v-r/2-o/2-2,width:b,height:r}).top+4+r,width:b,height:y-h.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:u,top:(h={left:u,top:f-r-o-4,width:b,height:r}).top+4+r,width:b,height:o}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":d={left:u,top:p,width:b,height:o},h={left:u,top:p+o+4,width:b,height:y-o-4};break;case"left":case"center":case"right":h={left:u,top:(d={left:u,top:v-r/2-o/2-2,width:b,height:o}).top+4+o,width:b,height:y-d.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:u,top:(d={left:u,top:f-r-o-4,width:b,height:o}).top+4+o,width:b,height:r}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"overlay":default:d={left:u,top:p,width:b,height:y},c(x,h={left:u,top:p,width:b,height:y},e.imgPosition,s,r),c(w,d,e.textPosition,n,o)}},createInstance:function(t){var i=this;i._setSize();i.isMaterialized();i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor);var s="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)s="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,s,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var r="";window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)&&window.top.document&&window.top.document.addEventListener("mouseup",i._topDocumentMouseupHandler)}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.refresh(),t.element.setAttribute("disabled",r),t.element.disabled=r,t.element.style.cursor=r?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,s,r){t.buttonObj.removeClass(t.element),s&&(t.buttonObj.removeClass("jqx-button-"+s),t.buttonObj.removeClass("jqx-widget-"+s),t.buttonObj.removeClass("jqx-fill-state-normal-"+s),t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))+"-"+s)),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(t){var i=this,s=i.host.find("input");return s.length>0?0==arguments.length||"object"==typeof t?s.val():(s.val(t),i.refresh(),s.val()):0==arguments.length||"object"==typeof t?"button"==i.element.nodeName.toLowerCase()?e(i.element).text():i.element.value:arguments.length>0&&i._text?(i._text.innerHTML=arguments[0],void i.refresh()):(arguments.length>0&&"DIV"===i.element.nodeName&&(i.element.innerHTML=arguments[0],i.refresh()),i.element.value=arguments[0],"button"==i.element.nodeName.toLowerCase()&&e(i.element).html(arguments[0]),void i.refresh())},_setSize:function(){var e=this,t=e.height,i=e.width;t&&(isNaN(t)||(t+="px"),e.element.style.height=t),i&&(isNaN(i)||(i+="px"),e.element.style.width=i)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",s),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(s),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var a="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),a=s+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:r:e.isPressed?n:s,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl"),e.isMaterialized()&&e.host.addClass("buttonRipple")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var s=this.height||this.element.offsetHeight,r=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var n=document.createElement("input");n.type="button",n.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(n,r,s),n.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(n),this._setSize(n,r,s);var o=null==t?{}:t[0]||{};e(n).jqxButton(o),this.wrapElement=n,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.element.disabled=s,e.wrapElement.jqxButton({disabled:s})},this.addHandler(e(n),"click",function(e){return this.disabled||i.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,s=e.jqx.mobile.isTouchDevice(),r=s?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=s?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),null!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,n,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){s||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";if(e.base.element.disabled=e.base.disabled,e.base.disabled)return o=i+" "+t,void e.base.buttonObj.addClass(o);o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template,""!=e.base.theme&&(o+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=o&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=o&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(s)&&s!=o&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(r)&&r!=o&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(n)&&n!=o&&e.base.buttonObj.removeClass(n),e.base.buttonObj.hasClass(o)||e.base.buttonObj.addClass(o)},_topDocumentMouseupHandler:function(e){this.isPressed=!1,this.refresh()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:25,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===e.jqx._jqxCalendar.prototype?t:(e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var r=new Date(i.field.getAttribute("min"));"Invalid Date"!=r&&(i.min=r)}if(i.field.getAttribute("max")){var n=new Date(i.field.getAttribute("max"));"Invalid Date"!=n&&(i.max=n)}var o=e("<div></div>",s);o[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(o);var a=i.host.data();if(i.host=o,i.host.data(a),i.element=o[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var l=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=l}}},createInstance:function(t){var i=this;if(i._createFromInput("jqxCalendar"),i.isMaterialized()){var s=window.getComputedStyle(this.element),r=s.getPropertyValue("--jqx-calendar-title-height"),n=s.getPropertyValue("--jqx-calendar-column-header-height");r&&(this.titleHeight=parseInt(r)),n&&(this.columnHeaderHeight=parseInt(n)),setTimeout(function(){i.refreshControl()},200)}this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");this.element.id;var o=this;if(this.propertyChangeMap.width=function(e,t,i,s){o.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,s){o.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(window.Globalize){var a=window.Globalize.culture(this.culture);this.localization.calendar=a.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return o.keyboardNavigation&&null!=o._handleKey&&((t=o._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var l=!1,d=this,h=!1;null!=o.width&&-1!=o.width.toString().indexOf("%")&&(h=!0),null!=o.height&&-1!=o.height.toString().indexOf("%")&&(h=!0),e.jqx.utilities.resize(this.host,function(){var e=d.host.find("#View"+o.element.id);l?d.refreshTitle(e):(l=!0,d.render()),h&&(o.refreshTimer&&clearTimeout(o.refreshTimer),o.refreshTimer=setTimeout(function(){o.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,s){s?e.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled")),o.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,s=this._getSelectedDate();if(null==s){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),s=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var r=this._getSelectedCell();this._setDateAndSwitchViews(r,t,"keyboard")}if("year"==this.view){var n=s.getMonth(),o=this._getYearAndMonthPart(this.getMinDate()),a=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:if(0==n)(l=new Date(s.getFullYear()-1,11,1))>=o?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateBackward());else(l=new Date(s.getFullYear(),n-1,1))>=o&&this._selectDate(l,"key");return!1;case 38:return(l=new Date(s.getFullYear(),n-4,1))<o&&(l=o),n-4<0?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:return(l=new Date(s.getFullYear(),n+4,1))>a&&(l=a),n+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:var l;if(11==n)(l=new Date(s.getFullYear()+1,0,1))<=a?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=a&&(this.selectedDate=a,this.navigateForward());else(l=new Date(s.getFullYear(),n+1,1))<=a&&this._selectDate(l,"key");return!1}return!0}if("decade"==this.view){var d=this._renderStartDate.getFullYear(),h=this._renderEndDate.getFullYear(),c=s.getFullYear(),u=this.getMinDate().getFullYear(),p=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(c<=d?(this.selectedDate=new Date(c-1,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,s.getMonth(),1),"key")),!1;case 38:var m=c-4;return c-4<u&&(m=u),m<d?(this.selectedDate=new Date(m,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(m,s.getMonth(),1),"key"),!1;case 40:return(m=c+4)>p&&(m=p),m>h?(this.selectedDate=new Date(m,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(m,s.getMonth(),1),"key"),!1;case 39:return c+1<=p&&(c==h?(this.selectedDate=new Date(c+1,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,s.getMonth(),1),"key")),!1}return!0}var f=new e.jqx._jqxDateTimeInput.getDateTime(s),g=this.getViewStart(),v=this.getViewEnd(),x=e.data(this.element,"View"+this.element.id);if(null==x||null==x)return!0;if(36==i)return f._setDay(1),!this._isDisabled(f.dateTime)&&(this._selectDate(f.dateTime,"key"),!1);if(35==i){var w=this.value._daysInMonth(this.value.year,this.value.month);return f._setDay(w),this._isDisabled(f.dateTime)?!1:(this._selectDate(f.dateTime,"key"),!1)}var y=1;if(t.ctrlKey&&(y=12),34==i){if(this.navigateForward(y)){if(f._addMonths(y),this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key")}return!1}if(33==i){if(this.navigateBackward(y)){if(f._addMonths(-y),this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key")}return!1}if(38==i){if(f._addDays(-7),f.dateTime<this.getMinDate())return!1;if(f.dateTime<g)if(!this.navigateBackward())return!1;if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(var b=0;b<x.cells.length;b++){var _=(r=x.cells[b]).getDate();if(r.isOtherMonth&&r.isSelected&&_<=f.dateTime){this.value.day=_.getDate(),this.navigateBackward(),this._selectDate(f.dateTime,"key");break}}return!1}if(40==i){if(f._addDays(7),f.dateTime>this.getMaxDate())return!1;if(f.dateTime>v)if(!this.navigateForward())return!1;if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(b=0;b<x.cells.length;b++){_=(r=x.cells[b]).getDate();if(r.isOtherMonth&&r.isSelected&&_>=f.dateTime){this.value.day=_.getDate(),this.navigateForward(),this._selectDate(f.dateTime,"key");break}}return!1}if(37==i){if(f._addDays(-1),f.dateTime<this.getMinDate())return!1;if(f.dateTime<g)if(!this.navigateBackward())return!1;if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(b=0;b<x.cells.length;b++){_=(r=x.cells[b]).getDate();if(r.isOtherMonth&&r.isSelected&&_<=f.dateTime){if(f.dateTime<this.getMinDate()||f.dateTime>this.getMaxDate())return!1;if(this._isDisabled(f.dateTime))return!1;this.navigateBackward(),this._selectDate(f.dateTime,"key");break}}return!1}if(39==i){if(f._addDays(1),f.dateTime>this.getMaxDate())return!1;if(f.dateTime>v)if(!this.navigateForward())return!1;if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(b=0;b<x.cells.length;b++){_=(r=x.cells[b]).getDate();if(r.isOtherMonth&&r.isSelected&&_>=f.dateTime){if(f.dateTime<this.getMinDate()||f.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(f.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var s=this.specialDates.length;this.specialDates[s]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){var t=this;this.render(),setTimeout(function(){t.refreshControl()})},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s);this.refreshCalendarCells(i,r,e),this.refreshTitle(i),this.refreshRowHeader(i,e),null!=this.selectedDate&&this._selectDate(this.selectedDate);var n=parseInt(this.month.css("padding-top")),o=this.host.height()-2*n-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(o=this.month.height()-this.titleHeight),this.showFooter&&(o-=20);var a=i.find("#cellsTable"+e),l=i.find("#calendarRowHeader"+e);a.height(o),l.height(o)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),n=(r.dayOfWeek,this.getWeekOfYear(r)),o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));o._addDays(5),o.dayOfWeek=o.dateTime.getDay();this.getWeekOfYear(o);var a=this.rowHeader.find("table");a.width(this.rowHeaderWidth);for(var l=r,d=new Array,h=0;h<6;h++){n.toString();var c=new e.jqx._jqxCalendar.cell(l.dateTime),u=h+1+this.element.id,p=e(a[0].rows[h].cells[0]);c.element=p,c.row=h,c.column=0;var m=p.find("#headerCellContent"+u);m.addClass(this.toThemeProperty("jqx-calendar-row-cell")),m[0].innerHTML=n,d[h]=c,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),n=this.getWeekOfYear(l)}var f=e.data(this.element,t[0].id);f.rowCells=d,this._refreshOtherMonthRows(f,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,s=!1,r=0;r<e.cells.length;r++){var n=e.cells[r];n.isVisible&&r<7?i=!0:n.isVisible&&r>=e.cells.length-7&&(s=!0)}i||this._displayFirstRow(!1,t),s||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),n=null;if(this.showWeekNumbers&&r[0].cells)n=e(r[0].rows[5]);var o=e(s.find("#cellTable"+s[0].id)[0].rows[5]);t?(this.showWeekNumbers&&n&&n.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&n&&n.css("display","none"),o.css("display","none"))},_displayFirstRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),n=null;if(this.showWeekNumbers&&r[0].cells)n=e(r[0].rows[0]);var o=e(s.find("#cellTable"+s[0].id)[0].rows[0]);t?(this.showWeekNumbers&&n&&n.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&n&&n.css("display","none"),o.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var s=this.host.find("#"+t.toString());null!=s&&s.remove();var r=e("<div id='"+t.toString()+"'></div>"),n=this.getVisibleDate(),o=this.getFirstDayOfWeek(n),a=new e.jqx._jqxDateTimeInput.getDateTime(o.dateTime);a._addMonths(1);var l=e.jqx._jqxCalendar.monthView(o,a,null,null,null,r);null==i||null==i?(this.host.append(r),r[0].style.width="100%",r[0].style.height="100%"):i.append(r),e.data(this.element,t,l);var d=parseInt(r.css("padding-top")),h=this.host.height()-2*d,c=h-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(c=h-this.titleHeight),this.showFooter&&(c-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var u=this.rowHeaderWidth,p=this.columnHeaderHeight;this.showWeekNumbers||(u=0),this.showDayNames||(p=0);var m="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",f="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+p+"'><td role='gridcell' id='selectCell' width='"+u+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+c+"' width='"+u+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+c+"'></td></tr></table>",g="<div id='footer' style='margin: 0px; display: none; height:"+v+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";r[0].innerHTML=m+f+g,this.header=r.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=r.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=r.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=r.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=r.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=r.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=r.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=r.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=r.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=r.find("#calendarFooter"),this._footer=r.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=r.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=r.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var v=20;if(this.showFooter&&this._footer.css("display","block"),r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=r,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(r):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var x=e("<a href='javascript:;'>"+this.todayString+"</a>");x.appendTo(this.todayButton);var w=e("<a href='javascript:;'>"+this.clearString+"</a>");w.appendTo(this.doneButton),w.addClass(this.toThemeProperty("jqx-calendar-footer")),x.addClass(this.toThemeProperty("jqx-calendar-footer"));var y=this,b="mousedown";e.jqx.mobile.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(x,b,function(){return y.today?y.today():y.setDate(new Date,"mouse"),!1}),this.addHandler(w,b,function(){return y.clear?y.clear():y.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(r),this.oldView=this.view,this.renderCalendarCells(r,o,t),null!=i&&null!=i||this.renderTitle(r),this._refreshOtherMonthRows(l,t),r.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate);var _=this;return this.addHandler(this.host,"focus",function(){_.focus()}),r}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),s=e("<div role='button' style='float: right;'></div>"),r=this.title;r.addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-header")),r.addClass(this.toThemeProperty("jqx-calendar-title-header"));var n=r.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=n.css("background-color")){var o=r.css("background-color");n.css("background-color",o)}if("transparent"!=n.css("background-image")){var a=r.css("background-image"),l=r.css("background-repeat");r.css("background-position");n.css("background-image",a),n.css("background-repeat",l),n.css("background-position","left center scroll")}}else n.css("background-color","transparent");this.disabled&&r.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var d=this.leftButton;s.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.appendTo(this.rightButton);var h=this.rightButton;this.enableTooltips&&e(d).jqxTooltip&&(e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?u=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(u=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var p=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(p),p.addClass(this.toThemeProperty("jqx-calendar-title-content"));var m=parseInt(i.width()),f=t.width()-2*m;c.find(".jqx-calendar-title-content").width(f);e.data(i,"navigateLeft",this),e.data(s,"navigateRight",this);var g=e.jqx.mobile.isTouchDevice();if(!this.disabled){var v=this;this.addHandler(c,"mousedown",function(e){if(v.enableViews){if(!v._viewAnimating&&!v._animating){var t=v.view;switch(v.oldView=t,v.view){case"month":v.view="year";break;case"year":v.view="decade"}if(-1==v.views.indexOf("year")&&"year"==v.view&&(v.view="decade"),-1==v.views.indexOf("decade")&&"decade"==v.view&&(v.view=t),t!=v.view){var i="View"+v.element.id,s=v.host.find("#"+i),r=v.getVisibleDate(),n=v.getFirstDayOfWeek(r);v.renderCalendarCells(s,n,i,!0),v.refreshTitle(s),v._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(v._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var s=e.data(i,"navigateLeft");return s.enableFastNavigation&&!g&&s.startRepeat(s,i,!0,v.navigationDelay+200),s.navigateBackward(v.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),s._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(s,"mousedown",function(t){if(v._animating)return!1;e.data(s,"navigateRightRepeat",!0);var i=e.data(s,"navigateRight");return i.enableFastNavigation&&!g&&i.startRepeat(i,s,!1,v.navigationDelay+200),i.navigateForward(v.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(s,"mouseup",function(t){e.data(s,"navigateRightRepeat",!1)}),this.addHandler(s,"mouseleave",function(t){e.data(s,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?i=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(i=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var s=this.titleHeader;if(this.titleHeader){var r=s.find(".jqx-calendar-title-content"),n=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");s.append(n),n.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=r&&r.remove()}},startRepeat:function(t,i,s,r){var n=window.setTimeout(function(){var o=e.data(i,"navigateLeftRepeat");s||(o=e.data(i,"navigateRightRepeat")),o?(r<25&&(r=25),s?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,r)):(t.navigateForward(1,"arrow"),n=t.startRepeat(t,i,!1,r))):window.clearTimeout(n)},r)},navigateForward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var s=this.getMaxDate().getFullYear();if((s<i||i>s)&&(i=s),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(this.value.month+e<=12){var n=this.value._daysInMonth(this.value.year,this.value.month+e);r>n&&(r=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1+e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else o=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(o)},navigateBackward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var s=this.getMinDate().getFullYear();if(i<s&&(i=s),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(this.value.month-e>=1){var n=this.value._daysInMonth(this.value.year,this.value.month-e);r>n&&(r=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1-e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else o=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(o)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var s=0;s<i.restrictedDates.length;s++){var r=i.restrictedDates[s];if("object"==typeof r&&null!=r.from&&null!=r.to){var n=r.from,o=r.to;if(t.valueOf()>=n.valueOf()&&t.valueOf()<=o.valueOf())return!0}else if(r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()&&r.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return-1==this.selectableDays.indexOf(t)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,s){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var r=this.table.find("#cellTable"+s.toString()),n=i,o=new Array,a=0,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;d<6;d++)for(var h=0;h<7;h++){var c=d+1,u=h;this.rtl&&(u=6-u);var p=u+1,m="#cell"+c+p+this.element.id,f=new Date(n.dateTime.getFullYear(),n.dateTime.getMonth(),n.dateTime.getDate()),g=new e.jqx._jqxCalendar.cell(f),v=e(r[0].rows[d].cells[p-1]);v[0].id=m.substring(1),g.element=v,g.row=d,g.column=h,g.isVisible=!0,g.isOtherMonth=!1,g.isToday=!1,g.isWeekend=!1,g.isHighlighted=!1,g.isSelected=!1,n.month!=this.value.month&&(g.isOtherMonth=!0,g.isVisible=this.showOtherMonthDays),this._isRestrictedDate(f)&&(g.isRestricted=!0,g.isDisabled=!0),g.isDisabled||(f<this.getMinDate()||f>this.getMaxDate()||this._isDisabled(f))&&(g.isDisabled=!0),n.month==l.month&&n.day==l.day&&n.year==l.year&&(g.isToday=!0),n.isWeekend()&&(g.isWeekend=!0),e.data(this.element,"cellContent"+m.substring(1),g),e.data(this.element,m.substring(1),g),o[a]=g,a++,e.jqx.utilities.html(v,n.day),this._applyCellStyle(g,v,v),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addDays(1)))}var x=e.data(this.element,t[0].id);null!=x&&null!=x&&(x.cells=o),this.renderedCells=o,this._refreshOtherMonthRows(x,s)}else this.refreshViews(t,i,s)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var s=this.getMinDate(),r=this.getMaxDate(),n=this.value.dateTime.getFullYear();if("decade"==this.view){n+12>r.getFullYear()&&(n=r.getFullYear()-11),n<s.getFullYear()&&(n=s.getFullYear());for(var o=0;o<i;o++){var a=new Date(s.getFullYear()+o,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){for(var l=new Date(a.getFullYear(),a.getMonth(),1),d=0;d<12;d++){var h=new Date(l.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=h.getFullYear();s.getFullYear()<=c&&c<=r.getFullYear()?(e.push(c),t.push(h),0==d&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(c),t.push(h))}break}}}else if("centuries"==this.view)for(o=0;o<i;o+=120){a=new Date(s.getFullYear()+o+120,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){(l=new Date(a.getFullYear()-130,a.getMonth(),1))<s&&(l=s);for(d=0;d<12;d++){var u=new Date(l.getFullYear()+10*d,l.getMonth(),1);l.getFullYear()>=s.getFullYear()&&u.getFullYear()<=r.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,s){for(var r=new Array,n=t.find("#cellTable"+s.toString()),o=this._getDecadeAndCenturiesData(),a=o.years,l=o.dates,d=0,h=this.getMinDate(),c=this.getMaxDate(),u=0;u<3;u++)for(var p=0;p<4;p++){var m=p;this.rtl&&(m=3-m);(y=new Date(this.value.dateTime)).setDate(1),y.setMonth(4*u+m);var f=new e.jqx._jqxCalendar.cell(y),g=n[0].rows["row"+(1+u)+this.element.id],v=e(g.cells[p]);f.isSelected=!1,f.isVisible=!0,f.element=v,f.row=u,f.column=p,f.index=r.length;var x="";if("year"==this.view){var w=this.localization.calendar.months.names[4*u+m];switch(this.monthNameFormat){case"default":w=this.localization.calendar.months.namesAbbr[4*u+m];break;case"shortest":w=this.localization.calendar.months.namesShort[4*u+m];break;case"firstTwoLetters":w=w.substring(0,2);break;case"firstLetter":w=w.substring(0,1)}x=w}else"decade"!=this.view&&"centuries"!=this.view||(null==(x=a[4*u+m])&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"),f.setDate(l[4*u+m]));var y=f.getDate();"year"==this.view?y.getMonth()==this.getDate().getMonth()&&y.getFullYear()==this.getDate().getFullYear()&&(f.isSelected=!0):y.getFullYear()==this.getDate().getFullYear()&&(f.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(y)<this._getYearAndMonthPart(h)&&(f.isDisabled=!0),this._getYearAndMonthPart(y)>this._getYearAndMonthPart(c)&&(f.isDisabled=!0)):(y.getFullYear()<h.getFullYear()&&(f.isDisabled=!0),y.getFullYear()>c.getFullYear()&&(f.isDisabled=!0)),e.jqx.utilities.html(v,x),r[d]=f,d++}var b=e.data(this.element,t[0].id);null!=b&&null!=b&&(b.cells=r),this.renderedCells=r,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t.width(this.month.width()),t},_addCellsTable:function(e,t){var i=this,s=this.showFooter?20:0;"month"!=this.view?t.height(this.month.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight-this.columnHeaderHeight-s),this._viewAnimating=!0;var r=this.host.find(".jqx-calendar-month-container");r.css("position","relative");this.host.find(".jqx-calendar-month");var n=this._createViewClone();r.append(n),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(n,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var s=this;if(s._viewAnimating=!0,s.oldView==s.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(e){}},renderViews:function(t,i,s){var r=this,n=new Array,o=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+s.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var a=t.find("#cellsTable"+t[0].id);a[0].style.borderColor="transparent";var l=this._getDecadeAndCenturiesData(),d=l.years,h=l.dates,c=0,u=this.getMinDate(),p=this.getMaxDate(),m=new Date(this.value.dateTime);m.setDate(1);for(var f=0;f<3;f++)for(var g=0;g<4;g++){var v=g;this.rtl&&(v=3-v);var x=o[0].rows["row"+(1+f)+this.element.id];(j=new Date(m)).setMonth(4*f+v);var w=new e.jqx._jqxCalendar.cell(j),y=e(x.cells[g]);w.isVisible=!0,w.element=y,w.row=f,w.column=g,w.index=n.length,w.isSelected=!1;var b="";if("year"==this.view){j.getMonth()==this.getDate().getMonth()&&j.getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0);var _=this.localization.calendar.months.names[4*f+v];switch(this.monthNameFormat){case"default":_=this.localization.calendar.months.namesAbbr[4*f+v];break;case"shortest":_=this.localization.calendar.months.namesShort[4*f+v];break;case"firstTwoLetters":_=_.substring(0,2);break;case"firstLetter":_=_.substring(0,1)}b=_}else"decade"!=this.view&&"centuries"!=this.view||(b=d[4*f+v],w.setDate(h[4*f+v]),w.getDate().getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0),null==b&&(b="<span style='cursor: default; visibility: hidden;'>2013</span>"));var j=w.getDate();if("year"==this.view){var q=new Date(j);q.setDate(1),q.setHours(0,0,0,0),q.setMonth(j.getMonth()+1),q=new Date(q.valueOf()-1),(this._getYearAndMonthPart(j)<this._getYearAndMonthPart(u)||this._getYearAndMonthPart(j)>this._getYearAndMonthPart(p)||!this._hasUnrestrictedRanges(j,q))&&(w.isDisabled=!0)}else{var T=new Date(j);T.setMonth(0),T.setDate(1),T.setHours(0,0,0,0),T.setFullYear(j.getFullYear()+1),T=new Date(T.valueOf()-1),(j.getFullYear()<u.getFullYear()||j.getFullYear()>p.getFullYear()||!this._hasUnrestrictedRanges(j,T))&&(w.isDisabled=!0)}e.jqx.utilities.html(y,b),n[c]=w,c++}e.each(n,function(){var e=this.element,t=this;r.disabled||(r.addHandler(e,"mousedown",function(e){r._setDateAndSwitchViews(t,e,"mouse")}),r.addHandler(e,"mouseover",function(e){var i=r.renderedCells[t.index];"centuries"!=r.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,r._applyCellStyle(i,i.element,i.element))}),r.addHandler(e,"mouseout",function(e){var i=r.renderedCells[t.index];"centuries"!=r.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,r._applyCellStyle(i,i.element,i.element))}))});var C=e.data(this.element,t[0].id);null!=C&&null!=C&&(C.cells=n),this.renderedCells=n,this._addCellsTable(a,o),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,s){if(!this._viewAnimating&&!this._animating){this.getDate();var r=this.renderedCells[t.index].getDate(),n=this.value.dateTime.getDate(),o=new Date(r);-1!=this.views.indexOf("month")?o.setDate(n):(o.setDate(1),r.setDate(1)),o.getMonth()==r.getMonth()&&(r=o);var a=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(a))return;if(this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l))return}else{if(r.getFullYear()<a.getFullYear())return;if(r.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(r,s),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(a)&&(r=a),this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l)&&(r=l)):(r.getFullYear()<a.getFullYear()&&(r=a),r.getFullYear()>l.getFullYear()&&(r=l)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=r.getFullYear()||this.selectedDate.getMonth()!=r.getMonth()||this.selectedDate.getDate()!=r.getDate())&&(r=this.selectedDate),this.value._setYear(r.getFullYear()),this.value._setDay(r.getDate()),this.value._setMonth(r.getMonth()+1),this.value._setDay(r.getDate());var d=this.getVisibleDate(),h=this.getFirstDayOfWeek(d),c="View"+this.element.id;if(this.renderCalendarCells(this.month,h,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,s=i.getDate(),n=e(i.element);if(0==n.length)return!1;var o=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||o(s).toString()!=o(r).toString()||(u.value._setMonth(r.getMonth()+1),u.value._setDay(r.getDate()),u.value._setYear(r.getFullYear())),i.isSelected=!1,i.isDisabled=!1,o(s)<o(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<s&&(i.isDisabled=!0),u.getMinDate()>s&&(i.isDisabled=!0),u._isDisabled(s)&&(i.isDisabled=!0),i.isDisabled||o(s)>=o(u.selection.from)&&o(s)<=o(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=s&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,s,r){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var n=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+s.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),o=this.table;if(o[0].style.borderColor="transparent",null==r){var a=o.find("#cellTable"+s.toString());null!=a&&a.remove(),o.append(n)}var l=i,d=this.showDayNames?1:0,h=this.showWeekNumbers?1:0,c=new Array,u=0,p=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(p=(t.width()-2)/7),p=parseInt(p);for(var m=new e.jqx._jqxDateTimeInput.getDateTime(new Date),f=0;f<6;f++){for(var g=0;g<7;g++){var v=f+1,x=g;this.rtl&&(x=6-x);var w=x+1,y="#cell"+v+w+this.element.id,b=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),_=new e.jqx._jqxCalendar.cell(b),j=e(n[0].rows[f].cells[w-1]);j[0].id=y.substring(1),_.isVisible=!0,_.isDisabled=!1,l.month!=this.value.month&&(_.isOtherMonth=!0,_.isVisible=this.showOtherMonthDays),this._isRestrictedDate(b)&&(_.isRestricted=!0,_.isDisabled=!0),_.isDisabled||(b<this.getMinDate()||b>this.getMaxDate()||this._isDisabled(b))&&(_.isDisabled=!0),l.month==m.month&&l.day==m.day&&l.year==m.year&&(_.isToday=!0),l.isWeekend()&&(_.isWeekend=!0),_.element=j,_.row=d,_.column=h,e.jqx.utilities.html(j,l.day),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),e.data(this.element,"cellContent"+y.substring(1),_),e.data(this.element,""+y.substring(1),_);var q=this;if(q.isMaterialized()&&(e(j).addClass("ripple"),e.jqx.ripple(e(j))),this.addHandler(j,"mousedown",function(t){if(!q.readOnly&&!q.disabled){var i=e(t.target),s=e.data(q.element,i[0].id);q._raiseEvent(3,t);if(null!=s&&null!=s){var r=s.getDate();if(q.getMinDate()<=r&&r<=q.getMaxDate()&&!s.isDisabled)if(s.isOtherMonth&&q.enableAutoNavigation)s.row<2?q.navigateBackward():q.navigateForward(),q._selectDate(s.getDate(),"mouse",t.shiftKey);else{new Date(q.getDate());q._selectDate(s.getDate(),"mouse",t.shiftKey),q.value._setYear(r.getFullYear()),q.value._setDay(1),q.value._setMonth(r.getMonth()+1),q.value._setDay(r.getDate());var n=q.host.find(".jqx-calendar-month");n.stop(),n.css("margin-left","0px");q.getDate();q._raiseEvent("2"),s.isOtherMonth&&q._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!q.disabled){var T=function(t,i){if(!q.readOnly){var s=e(t.target),r=e.data(q.element,s[0].id);if(null!=r&&null!=r){var n=r.getDate();q.getMinDate()<=n&&n<=q.getMaxDate()&&(r.isHighlighted=i,q._applyCellStyle(r,r.element,s))}}};this.addHandler(j,"mouseenter",function(e){return T(e,!0),!1}),this.addHandler(j,"mouseleave",function(e){return T(e,!1),!1})}h++,c[u]=_,u++}h=0,d++}var C=e.data(this.element,t[0].id);null!=C&&null!=C&&(C.cells=c),this.renderedCells=c,null!=r&&this._addCellsTable(o,n),this._applyCellStyles(),this._refreshOtherMonthRows(C,s)}else this.renderViews(t,i,s)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var s=this.getMinDate(),r=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(s)||t>this._getYearAndMonthPart(r))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(null==i){var n=this;if(this._animating)return;this._animating=!0;var o=this.host.find(".jqx-calendar-month-container"),a=e("<div></div>");a[0].style.width="100%",a[0].style.height="100%",a[0].style.overflow="hidden",a[0].style.position="relative",a[0].style.left="0px",a[0].style.top="-100%",o.append(a),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(p=this.host.find(".jqx-calendar-month")).stop(),p.css("margin-left","0px");var l=p.clone();this._viewClone=l;var d=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var h=parseInt(this.month.css("padding-top"));n.refreshControl(),a.css("overflow","hidden"),o.css("position","relative"),o.css("overflow","hidden"),l.css("position","absolute"),l.css("top",p.position().top-h),a.append(l),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var c=-this.month.width();t<d&&("month"==this.view&&t.getMonth()!=d.getMonth()?c=this.month.width():t.getFullYear()!=d.getFullYear()&&(c=this.month.width())),l.animate({marginLeft:parseInt(c)+"px"},this.navigationDelay,function(){l.remove()});var u=p.clone();this._newViewClone=u,u.css("position","absolute"),u.css("top",p.position().top-h),a.append(u),u.css("margin-left",-c),p.css("visibility","hidden"),u.animate({marginLeft:"0px"},this.navigationDelay,function(){u.remove(),p.css("visibility","inherit"),a.remove(),n._animating=!1})}else{var p;this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),(p=this.host.find(".jqx-calendar-month")).stop(),p.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,s){if("none"!=this.selectionMode){null!=i&&null!=i||(i="none"),null!=s&&null!=s||(s=!1);var r=e.data(this.element,"View"+this.element.id);if(null!=r&&null!=r){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var n=this.changing(this.selectedDate,t);n&&(t=n)}var o=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var a=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return a!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(s){var r=this,n=r.getDate(),a=e(r.element);a.find("#cellContent"+a[0].id);if(null==t)r.isSelected=!1,r.isDisabled=!1;else if(r.isSelected=!1,n&&(n.getMonth()==t.getMonth()&&"year"==o.view&&n.getFullYear()==t.getFullYear()||"decade"==o.view&&n.getFullYear()==t.getFullYear())){r.isSelected=!0;try{"none"!=i&&r.element.focus()}catch(e){}}o._applyCellStyle(r,a,a)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var l=this.getVisibleDate(),d=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,d,"View"+this.element.id)}var h=!1;e.each(this.renderedCells,function(r){var n=this,a=n.getDate(),l=e(n.element),d=l;if(0==l.length)return!1;if(null==t)n.isSelected=!1,n.isDisabled=!1,0==r&&(o.selection={from:null,to:null},o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i}));else if("range"!=o.selectionMode||"key"==i){if(a.getDate()==t.getDate()&&a.getMonth()==t.getMonth()&&a.getFullYear()==t.getFullYear()&&n.isSelected)return o._applyCellStyle(n,l,d),void o._raiseEvent("5",{selectionType:i});if(n.isSelected&&o._raiseEvent("6",{selectionType:i}),n.isSelected=!1,a.getDate()==t.getDate()&&a.getMonth()==t.getMonth()&&a.getFullYear()==t.getFullYear()){n.isSelected=!0,0==r&&(o.selection={date:t});try{"none"!=i&&(n.element.focus(),o.host.focus())}catch(e){}n.isOtherMonth||(o.value._setMonth(t.getMonth()+1),o.value._setDay(t.getDate()),o.value._setYear(t.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i}))}"range"==o.selectionMode&&(o._clicks=0,o.selection={from:t,to:t})}else if("range"==o.selectionMode){if("view"==i)return n.isSelected=!1,n.isDisabled=!1,o.getMaxDate()<a&&(n.isDisabled=!0),o.getMinDate()>a&&(n.isDisabled=!0),o._isRestrictedDate(a)&&(n.isDisabled=!0,n.isRestricted=!0),!n.isDisabled&&o._isDisabled(a)&&(n.isDisabled=!0),o._applyCellStyle(n,l,d),!0;if(0==r)if("none"!=i)if(null==o._clicks&&(o._clicks=0),o._clicks++,s&&o._clicks++,1==o._clicks)o.selection={from:t,to:t};else{var c=o.selection.from,u=c<=t?c:t,p=c<=t?t:c;if(u)var m=new Date(u.getFullYear(),u.getMonth(),u.getDate());if(p)var f=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59);o.selection={from:m,to:f},o._clicks=0}else null!=o.selection&&null!=o.selection.from||(o.selection={from:t,to:t},null==o._clicks&&(o._clicks=0),o._clicks++,2==o._clicks&&(o._clicks=0));var g=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};n.isOtherMonth||g(a).toString()!=g(t).toString()||(o.value._setMonth(t.getMonth()+1),o.value._setDay(t.getDate()),o.value._setYear(t.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i})),n.isSelected=!1,n.isDisabled=h,g(a)<g(o.selection.from)&&1==o._clicks&&(n.isDisabled=!0),o.getMaxDate()<a&&(n.isDisabled=!0),o.getMinDate()>a&&(n.isDisabled=!0),o._isRestrictedDate(a)&&(n.isRestricted=!0,n.isDisabled=!0),!n.isDisabled&&o._isDisabled(a)&&(n.isDisabled=!0),n.isDisabled?!o.allowRestrictedDaysInRange&&g(a)>=g(o.selection.from)&&o.selection.to==o.selection.from&&(h=!0):g(a)>=g(o.selection.from)&&g(a)<=g(o.selection.to)&&(n.isSelected=!0)}o._applyCellStyle(n,l,d)}),"range"!=o.selectionMode||0!=o._clicks?"range"!=o.selectionMode&&a!=t&&(o._raiseEvent(7,{selectionType:i}),this.change&&this.change(t)):o._raiseEvent(7,{selectionType:i})}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(null!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=s.getDate();if(s.isSelected)return r}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(null!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i];s.getDate();if(s.isSelected)return s}},_applyCellStyle:function(t,i,s){var r=this;(null==s||null!=s&&0==s.length)&&(s=i);var n="";if(n=this.toThemeProperty("jqx-rc-all"),n+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),n+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),this.isMaterialized()&&(n+=" ripple"),t.isVisible?(n+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&s.length>0&&-1!=s.html().toLowerCase().indexOf("span")&&s.css("cursor","default")):n+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),s.removeAttr("aria-selected"),t.isSelected&&t.isVisible){n+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),n+=" "+this.toThemeProperty("jqx-fill-state-pressed"),s.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",s[0].id);var o=t.getDate();this._isDisabled(o)&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(n+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),n+=" "+this.toThemeProperty("jqx-fill-state-hover"))),n+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-today")),s[0].className=n,this.specialDates.length>0){var a=this;e.each(this.specialDates,function(){null!=this.Class&&null!=this.Class&&""!=this.Class?s.removeClass(this.Class):s.removeClass(r.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(s).jqxTooltip)){var n=this.Class;e(s).jqxTooltip({value:{cell:t,specialDate:this.Date},name:a.element.id,content:this.Tooltip,position:"mouse",theme:a.theme,opening:function(e){return!!s.hasClass(r.toThemeProperty("jqx-calendar-cell-specialDate"))||!!s.hasClass(n)}})}return s.removeClass(r.toThemeProperty("jqx-calendar-cell-othermonth")),s.removeClass(r.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?(s.addClass(r.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(s.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(null!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=e(s.element),n=r.find("#cellContent"+r[0].id);0==n.length&&(n=r),this._applyCellStyle(s,r,n)}},getWeekOfYear:function(e){var t=new Date(e.dateTime),i=this.firstDayOfWeek,s=new Date(t.getFullYear(),0,1),r=s.getDay()-i;r=r>=0?r:r+7;var n,o=Math.floor((t.getTime()-s.getTime()-6e4*(t.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;if(r<4){if((n=Math.floor((o+r-1)/7)+1)>52){var a=new Date(t.getFullYear()+1,0,1).getDay()-i;n=(a=a>=0?a:a+7)<4?1:53}}else n=Math.floor((o+r-1)/7);return n},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),n=(r.dayOfWeek,this.getWeekOfYear(r),this.firstDayOfWeek),o=this.localization.calendar.days.names,a=new Array,l=r,d=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(d=(t.width()-2)/7);for(var h=0;h<7;h++){var c=o[n];switch(this.rtl&&(c=o[6-n]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[n],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-n]);break;case"shortest":c=this.localization.calendar.days.namesShort[n],this.rtl&&(c=this.localization.calendar.days.namesShort[6-n]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(l.dateTime),p=h+1+this.element.id,m=e(i[0].rows[0].cells[h]),f=h;this.enableTooltips&&e(m).jqxTooltip&&e(m).jqxTooltip({name:this.element.id,content:o[n],theme:this.theme,position:"mouse"}),n>=6?n=0:n++,h=f,u.element=m,u.row=0,u.column=h+1;var g=this._textwidth(c),v="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+p+"'>"+c+"</div>";if(m.append(v),m.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell")),m.width(d),this.disabled&&m.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),g>0&&d>0)for(;g>m.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(m.find("#columnCell"+p),c),g=this._textwidth(c);a[h]=u,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.month.width())&&this.columnHeader.width(this.month.width()),e.data(this.element,t[0].id).columnCells=a}},_format:function(t,i,s){var r=!1;try{null!=window.Globalize?r=!0:document.Globalize&&(window.Globalize=document.Globalize,r=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,r=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,r=!0),e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(r)try{return window.Globalize.cultures[this.culture]?(window.Globalize.cultures[this.culture].calendar=this.localization.calendar,window.Globalize.format(t,i,this.culture)):window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.height();return i.remove(),s},_renderRowHeader:function(t){var i=this.getVisibleDate(),s=this.getFirstDayOfWeek(i),r=(s.dayOfWeek,this.getWeekOfYear(s)),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));n._addDays(5),n.dayOfWeek=n.dateTime.getDay();this.getWeekOfYear(n);53==r&&0==n.dateTime.getMonth()&&(r=1);var o=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");o.find("table").addClass(this.toThemeProperty("jqx-reset")),o.find("td").addClass(this.toThemeProperty("jqx-reset")),o.find("tr").addClass(this.toThemeProperty("jqx-reset")),o.addClass(this.toThemeProperty("jqx-calendar-row-header")),o.width(this.rowHeaderWidth),this.rowHeader.append(o);for(var a=s,l=new Array,d=0;d<6;d++){var h=r.toString(),c=new e.jqx._jqxCalendar.cell(a.dateTime),u=d+1+this.element.id,p=e(o[0].rows[d].cells[0]);c.element=p,c.row=d,c.column=0;var m="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+h+"</div>";p.append(m),p.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[d]=c,a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(a._addWeeks(1))),r=this.getWeekOfYear(a)}e.data(this.element,t[0].id).rowCells=l},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var s=i.dayOfWeek-this.firstDayOfWeek;return s<=0&&(s+=7),e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-s))},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day;return t=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(1-i))},destroy:function(t){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=t&&this.host.remove()},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);if(n.owner=this,n.args=r,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){n.args.date=n.args.selectedDate=this.getDate(),n.args.range=this.getRange();var o=this.getViewStart(),a=this.getViewEnd();n.args.view={from:o,to:a}}if(7==t){var l=r.selectionType;l||(l=null),"key"==l&&(l="keyboard"),"none"==l&&(l=null),r.type=l}var d=this.host.trigger(n);return 0!=t&&1!=t||(d=!1),d},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),e[0].style.height="100%",e[0].style.width="100%";var t=this.month.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(window.Globalize){var n=window.Globalize.culture(t.culture);t.localization.calendar=n.calendar}t.localization.calendar&&null!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(e){}if("views"==i)return-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render();"showFooter"==i&&t.render(),"width"!=i&&"height"!=i?("theme"==i?e.jqx.utilities.setTheme(s,r,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render(),t.refreshControl()),"firstDayOfWeek"===i&&t.refreshControl()):t._setSize()}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){return{dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},e.jqx._jqxCalendar.monthView=function(e,t,i,s,r,n){return{start:e,end:t,cells:i,rowCells:s,columnCells:r,element:n}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){return e.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var o=e.jqx.position(t);s=o.left,r=o.top}s-=n.left,r-=n.top,i.onmousemove(s,r)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,s=i._mouseY,r=i._plotRect;r&&t>=r.x&&t<=r.x+r.width&&s>=r.y&&s<=r.y+r.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var o=e.jqx.position(t);s=o.left,r=o.top}s-=n.left,r-=n.top,i._mouseX=s,i._mouseY=r,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],s=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,s,i._pointMarker.iidx)}},100))}});var s=i.element.style;if(s){var r=!1;null!=s.width&&(r|=-1!=s.width.toString().indexOf("%")),null!=s.height&&(r|=-1!=s.height.toString().indexOf("%")),r&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var s=i._options;(null==s||null!=s&&!s.autoBind)&&(i.autoSync=!1,i.dataBind());var r=this.element.id;if(0==i.records.length){i.unbindDownloadComplete(r),i.bindDownloadComplete(r,function(){t.ready&&t.ready(),t.refresh()})}else t.ready&&t.ready();i.unbindBindingUpdate(r),i.bindBindingUpdate(r,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var s=i.getRect();t._render({x:1,y:1,width:s.width,height:s.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,s,r){for(var n=!1,o=0;o<this.seriesGroups.length&&!n;o++){var a=this._getXAxis(o);a&&a.rangeSelector&&(n=!0)}return e.jqx._widgetToImage(this,t,i,s,r,n?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var s=t,r=0;r<s.seriesGroups.length;r++){var n=s._getXAxis(r);if(n&&n.rangeSelector&&!n.rangeSelector.renderTo){var o=s._rangeSelectorInstances[r];if(o){var a=o.jqxChart("getInstance"),l=(a.renderEngine,a.renderer.getRect()),d=a.renderer.getContainer().find("canvas")[0].getContext("2d"),h=s._sliders[r],c="horizontal"==s.seriesGroups[r].orientation,u=c?"height":"width",p=c?"width":"height",m=c?"y":"x",f=c?"x":"y",g={};g[m]=h.startOffset+h.rect[m],g[f]=h.rect[f],g[u]=h.endOffset-h.startOffset,g[p]=h.rect[p];var v=n.rangeSelector.colorSelectedRange||"blue",x=(n.rangeSelector.colorUnselectedRange,n.rangeSelector.colorRangeLine||"grey"),w=[];w.push(a.renderer.rect(g.x,g.y,g.width,g.height,{fill:v,opacity:.1})),c?(w.push(a.renderer.line(e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(h.rect.y),e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(g.y),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(g.y+g.height),e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(h.rect.x),e.jqx._ptrnd(g.y),e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(g.y),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(h.rect.x),e.jqx._ptrnd(g.y+g.height),e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(g.y+g.height),{stroke:x,opacity:.5}))):(w.push(a.renderer.line(e.jqx._ptrnd(h.rect.x),e.jqx._ptrnd(h.rect.y),e.jqx._ptrnd(g.x),e.jqx._ptrnd(h.rect.y),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(h.rect.y),e.jqx._ptrnd(h.rect.x+h.rect.width),e.jqx._ptrnd(h.rect.y),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(g.x),e.jqx._ptrnd(h.rect.y),e.jqx._ptrnd(g.x),e.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:x,opacity:.5})),w.push(a.renderer.line(e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(h.rect.y),e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:x,opacity:.5}))),a.renderer.refresh();var y=d.getImageData(l.x,l.y,l.width,l.height);i.getContext("2d").putImageData(y,parseInt(o.css("left")),parseInt(o.css("top")),1,1,l.width,l.height);for(var b=0;b<w.length;b++)a.renderer.removeElement(w[b]);a.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,s=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],s.clear(),i._unselect(),i._hideToolTip(0);var r=i.backgroundImage;null==r||""==r?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),i._rect=t;var n=i.padding||{left:5,top:5,right:5,bottom:5},o=s.createClipRect(t),a=s.beginGroup();s.setClip(a,o);var l=s.rect(t.x,t.y,t.width-2,t.height-2);if(null==r||""==r?s.attr(l,{fill:i.backgroundColor||i.background||"white"}):s.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var d=null==i.borderLineColor?i.borderColor:i.borderLineColor;null==d&&(d=i._defaultLineColor);var h=this.borderLineWidth;(isNaN(h)||h<0||h>10)&&(h=1),s.attr(l,{"stroke-width":h,stroke:d})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&s.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(s,t);var c={x:n.left,y:n.top,width:t.width-n.left-n.right,height:t.height-n.top-n.bottom};i._paddedRect=c;var u,p=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var m=i.toThemeProperty("jqx-chart-title-text",null);u=s.measureText(i.title,0,{class:m}),s.text(i.title,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{class:m},!0,"center","center"),c.y+=u.height,c.height-=u.height}if(i.description&&i.description.length>0){var f=i.toThemeProperty("jqx-chart-title-description",null);u=s.measureText(i.description,0,{class:f}),s.text(i.description,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{class:f},!0,"center","center"),c.y+=u.height,c.height-=u.height}(i.title||i.description)&&(c.y+=p.bottom+p.top,c.height-=p.bottom+p.top);var g={x:c.x,y:c.y,width:c.width,height:c.height};i._plotRect=g,i._buildStats(g);for(var v,x=i._isPieOnlySeries(),w=i.seriesGroups,y={xAxis:{},valueAxis:{}},b=0;b<w.length&&!x;b++)if("pie"!=w[b].type&&"donut"!=w[b].type){if(!(Z=i._getXAxis(b)))throw"seriesGroup["+b+"] is missing xAxis definition";var _=Z==i._getXAxis()?-1:b;y.xAxis[_]=0}var j=i.axisPadding;isNaN(j)&&(j=5);var q={left:0,right:0,leftCount:0,rightCount:0},T=[];for(b=0;b<w.length;b++){if("pie"!=(V=w[b]).type&&"donut"!=V.type&&1!=V.spider&&1!=V.polar){v="horizontal"==V.orientation;_=(Z=i._getXAxis(b))==i._getXAxis()?-1:b;var C=(M=i._getValueAxis(b))==i._getValueAxis()?-1:b,S=v?Z.axisSize:M.axisSize,k={x:0,y:g.y,width:g.width,height:g.height},I=v?i._getXAxis(b).position:M.position;S&&"auto"!=S||(v?(S=this._renderXAxis(b,k,!0,g).width,1==(1&y.xAxis[_])?S=0:S>0&&(y.xAxis[_]|=1)):(S=i._renderValueAxis(b,k,!0,g).width,1==(1&y.valueAxis[C])?S=0:S>0&&(y.valueAxis[C]|=1))),"left"!=I&&1==i.rtl&&(I="right"),"right"!=I&&(I="left"),q[I+"Count"]>0&&q[I]>0&&S>0&&(q[I]+=j),T.push({width:S,position:I,xRel:q[I]}),q[I]+=S,q[I+"Count"]++}else T.push({width:0,position:0,xRel:0})}var D=Math.max(1,Math.max(t.width,t.height)),P={top:0,bottom:0,topCount:0,bottomCount:0},A=[];for(b=0;b<w.length;b++){if("pie"!=(V=w[b]).type&&"donut"!=V.type&&1!=V.spider&&1!=V.polar){v="horizontal"==V.orientation;C=(M=this._getValueAxis(b))==i._getValueAxis()?-1:b,_=(Z=i._getXAxis(b))==i._getXAxis()?-1:b;var M,H=v?M.axisSize:Z.axisSize;I=v?M.position:Z.position;H&&"auto"!=H||(v?(H=i._renderValueAxis(b,{x:0,y:0,width:D,height:0},!0,g).height,2==(2&y.valueAxis[C])?H=0:H>0&&(y.valueAxis[C]|=2)):(H=i._renderXAxis(b,{x:0,y:0,width:D,height:0},!0).height,2==(2&y.xAxis[_])?H=0:H>0&&(y.xAxis[_]|=2))),"top"!=I&&(I="bottom"),P[I+"Count"]>0&&P[I]>0&&H>0&&(P[I]+=j),A.push({height:H,position:I,yRel:P[I]}),P[I]+=H,P[I+"Count"]++}else A.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var B=0!=i.showLegend,z=B?i._renderLegend(i.legendLayout?i._rect:c,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(z={width:0,height:0}),c.height<P.top+P.bottom+z.height||c.width<q.left+q.right)s.endGroup();else{g.height-=P.top+P.bottom+z.height,g.x+=q.left,g.width-=q.left+q.right,g.y+=P.top;var E=[];if(!x){i._getXAxis().tickMarksColor||i._defaultLineColor;for(b=0;b<w.length;b++){if(1!=(V=w[b]).polar&&1!=V.spider&&"pie"!=V.type&&"donut"!=V.type){v="horizontal"==V.orientation;_=i._getXAxis(b)==i._getXAxis()?-1:b,C=i._getValueAxis(b)==i._getValueAxis()?-1:b,k={x:g.x,y:0,width:g.width,height:A[b].height};if("top"!=A[b].position?k.y=g.y+g.height+A[b].yRel:k.y=g.y-A[b].yRel-A[b].height,v){if(4==(4&y.valueAxis[C]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,k,!1,g),y.valueAxis[C]|=4}else{if(E.push(k),4==(4&y.xAxis[_]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,k,!1,g),y.xAxis[_]|=4}}}}if(B){var L=i.legendLayout?i._rect:c,N=c.x+e.jqx._ptrnd((c.width-z.width)/2),O=g.y+g.height+P.bottom;S=c.width,H=z.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(N=i.legendLayout.left),isNaN(i.legendLayout.top)||(O=i.legendLayout.top),isNaN(i.legendLayout.width)||(S=i.legendLayout.width),isNaN(i.legendLayout.height)||(H=i.legendLayout.height)),N+S>L.x+L.width&&(S=L.x+L.width-N),O+H>L.y+L.height&&(H=L.y+L.height-O),i._renderLegend({x:N,y:O,width:S,height:H})}if(i._hasHorizontalLines=!1,!x)for(b=0;b<w.length;b++){if(1!=(V=w[b]).polar&&1!=V.spider&&"pie"!=V.type&&"donut"!=V.type){v="horizontal"==w[b].orientation;k={x:g.x-T[b].xRel-T[b].width,y:g.y,width:T[b].width,height:g.height};"left"!=T[b].position&&(k.x=g.x+g.width+T[b].xRel);_=i._getXAxis(b)==i._getXAxis()?-1:b,C=i._getValueAxis(b)==i._getValueAxis()?-1:b;if(v){if(E.push(k),8==(8&y.xAxis[_]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,k,!1,g),y.xAxis[_]|=8}else{if(8==(8&y.valueAxis[C]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,k,!1,g),y.valueAxis[C]|=8}}}if(!(g.width<=0||g.height<=0)){for(i._plotRect={x:g.x,y:g.y,width:g.width,height:g.height},b=0;b<w.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(b,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(b=0;b<w.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(b,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var R=!1;for(b=0;b<w.length&&!R;b++){if(void 0!==(V=w[b]).annotations||e.isFunction(V.draw)||e.isFunction(V.drawBefore)){R=!0;break}}var F=s.beginGroup();if(!R){var W=s.createClipRect({x:g.x-2,y:g.y,width:g.width+4,height:g.height});s.setClip(F,W)}for(b=0;b<w.length;b++){var V=w[b],G=!1;for(var U in i._seriesTypes)if(i._seriesTypes[U]==V.type){G=!0;break}if(!G)throw'Invalid serie type "'+V.type+'"';e.isFunction(V.drawBefore)&&V.drawBefore(s,t,b,this),1!=V.polar&&1!=V.spider||-1==V.type.indexOf("pie")&&-1==V.type.indexOf("donut")&&i._renderSpiderAxis(b,g),i._renderAxisBands(b,g,!0),i._renderAxisBands(b,g,!1)}for(b=0;b<w.length;b++){V=w[b];if(i._isColumnType(V.type)?i._renderColumnSeries(b,g):-1!=V.type.indexOf("pie")||-1!=V.type.indexOf("donut")?i._renderPieSeries(b,g):-1!=V.type.indexOf("line")||-1!=V.type.indexOf("area")?i._renderLineSeries(b,g):-1!=V.type.indexOf("scatter")||-1!=V.type.indexOf("bubble")?i._renderScatterSeries(b,g):-1==V.type.indexOf("candlestick")&&-1==V.type.indexOf("ohlc")||i._renderCandleStickSeries(b,g,-1!=V.type.indexOf("ohlc")),V.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var Y=0;Y<V.annotations.length;Y++)i._renderAnnotation(b,V.annotations[Y],g)}e.isFunction(V.draw)&&i.draw(s,t,b,this)}if(s.endGroup(),0==i.enabled){var K=s.rect(t.x,t.y,t.width,t.height);s.attr(K,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(s,t),s.endGroup(),i._startAnimation("series"),i._credits&&i._credits();var X=!1;for(b=0;b<i.seriesGroups.length&&!X;b++){var Z;(Z=i._getXAxis(b))&&Z.rangeSelector&&(X=!0)}if(X){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var $=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),b=0;b<i.seriesGroups.length;b++){var J=this._getXAxis(b);-1==$.indexOf(J)&&this._renderXAxisRangeSelector(b,E[b])&&$.push(J)}}}}},_credits:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t=this,i=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(!t._isRangeSelectorInstance&&-1==location.hostname.indexOf(i.substring(4))){var s=t.renderer,r=t._rect,n={class:t.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},o=s.measureText(i,0,n),a=s.text(i,r.x+r.width-o.width-5,r.y+r.height-o.height-5,o.width,o.height,0,n);e(a).on("click",function(){location.href="http://"+i+"/?ref="+t.widgetName})}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,s,r){var n=this,o=n.renderer,a={x:i.x,y:i.y,width:i.width,height:i.height};a.width>=6&&(a.x+=3,a.width-=6),a.height>=6&&(a.y+=3,a.height-=6);for(var l={width:a.width,height:0},d=0,h=0,c=20,u=0,p=10,m=0,f=0;f<t.length;f++){var g=t[f].css;g||(g=n.toThemeProperty("jqx-chart-legend-text",null)),c=20;var v=t[f].text,x=o.measureText(v,0,{class:g});x.height>c&&(c=x.height),x.width>m&&(m=x.width),r?(0!=f&&(h+=c),h>a.height&&(h=0,d+=m+20+p,m=x.width,l.width=d+m)):(0!=d&&(d+=10),d+20+x.width>a.width&&x.width<a.width&&(d=0,h+=c,c=20,u=a.width,l.height=h+c));var w=!1;if(x.width>a.width){w=!0;for(var y=a.width,b=(N=v).split(/\s+/),_=[],j="",q=0;q<b.length;q++){var T=j+(j.length>0?" ":"")+b[q];(I=n.renderer.measureText(T,0,{class:g})).width>y&&T.length>0&&j.length>0?(_.push({text:j}),j=b[q]):j=T,q+1==b.length&&_.push({text:j})}x.width=0;for(var C=0,S=0;S<_.length;S++){var k=_[S].text,I=n.renderer.measureText(k,0,{class:g});x.width=Math.max(x.width,I.width),C+=x.height}x.height=C}var D=d+x.width<a.width&&h+x.height<i.height;if(n.legendLayout)D=a.x+d+x.width<n._rect.x+n._rect.width&&a.y+h+x.height<n._rect.y+n._rect.height;if(!s&&D){var P=t[f].seriesIndex,A=t[f].groupIndex,M=t[f].itemIndex,H=t[f].fillColor,B=t[f].lineColor,z=n._isSerieVisible(A,P,M),E=o.beginGroup(),L=z?t[f].opacity:.1;if(w){var N=v,O=(y=a.width,b=N.split(/\s+/),0);for(_=[],j="",q=0;q<b.length;q++){T=j+(j.length>0?" ":"")+b[q];(I=n.renderer.measureText(T,0,{class:g})).width>y&&T.length>0&&j.length>0?(_.push({text:j,dy:O}),O+=I.height,j=b[q]):j=T,q+1==b.length&&_.push({text:j,dy:O})}for(S=0;S<_.length;S++){k=_[S].text;O=_[S].dy;I=n.renderer.measureText(k,0,{class:g});r?n.renderer.text(k,a.x+d+15,a.y+h+O,x.width,c,0,{class:g},!1,"left","center"):n.renderer.text(k,a.x+d+15,a.y+h+O,x.width,c,0,{class:g},!1,"center","center")}var R=o.rect(a.x+d,a.y+h+5+O/2,p,p);r&&(h+=O),n.renderer.attr(R,{fill:H,"fill-opacity":L,stroke:B,"stroke-width":1,"stroke-opacity":t[f].opacity})}else{R=o.rect(a.x+d,a.y+h+5,p,p);n.renderer.attr(R,{fill:H,"fill-opacity":L,stroke:B,"stroke-width":1,"stroke-opacity":t[f].opacity}),r?n.renderer.text(v,a.x+d+15,a.y+h,x.width,x.height+5,0,{class:g},!1,"left","center"):n.renderer.text(v,a.x+d+15,a.y+h,x.width,c,0,{class:g},!1,"center","center")}n.renderer.endGroup(),n._setLegendToggleHandler(A,P,M,E)}r||u<(d+=x.width+20)&&(u=d)}if(s)return l.height=e.jqx._ptrnd(h+c+5),l.width=e.jqx._ptrnd(u),l},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,s){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[t];r.length<i+1;)r.push(!!isNaN(s)||[]);var n=r[i];if(isNaN(s))return n;for(e.isArray(n)||(r[i]=n=[]);n.length<s+1;)n.push(!0);return n[s]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(t,i,s,r){var n=!this._isSerieVisible(t,i,s);null!=r&&(n=r);var o=this.seriesGroups[t],a=o.series[i];if(this._raiseEvent("toggle",{state:n,seriesGroup:o,serie:a,elementIndex:s}),isNaN(s))this._itemsToggleState[t][i]=n;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<s;)l.push(!0);l[s]=n}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,s){var r=this.seriesGroups[e],n=r.series[t].enableSeriesToggle;if(null==n&&(n=0!=r.enableSeriesToggle),n){var o=this;this.renderer.addHandler(s,"click",function(s){o._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var n=i.seriesGroups[r];if(0!=n.showLegend)for(var o=0;o<n.series.length;o++){var a=n.series[o];if(0!=a.showLegend){var l,d=i._getSerieSettings(r,o);if("pie"!=n.type&&"donut"!=n.type){p=a.legendFormatSettings||n.legendFormatSettings,m=a.legendFormatFunction||n.legendFormatFunction;l=i._formatValue(a.displayText||a.dataField||"",p,m,r,o,NaN);v=i._getSeriesColors(r,o);var h=this._get([a.legendFillColor,a.legendColor,v.fillColor]),c=this._get([a.legendLineColor,a.legendColor,v.lineColor]);s.push({groupIndex:r,seriesIndex:o,text:l,css:a.displayTextClass,fillColor:h,lineColor:c,opacity:d.opacity})}else for(var u=i._getXAxis(r),p=a.legendFormatSettings||n.legendFormatSettings||u.formatSettings||a.formatSettings||n.formatSettings,m=a.legendFormatFunction||n.legendFormatFunction||u.formatFunction||a.formatFunction||n.formatFunction,f=i._getDataLen(r),g=0;g<f;g++){l=i._getDataValue(g,a.displayText,r),l=i._formatValue(l,p,m,r,o,g);var v=i._getColors(r,o,g);s.push({groupIndex:r,seriesIndex:o,itemIndex:g,text:l,css:a.displayTextClass,fillColor:v.fillColor,lineColor:v.lineColor,opacity:d.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,s,r,n,o,a,l){var d,h=this._getInterval(r[e],a),c=[];if((""==e||r[e].visible&&"custom"!=r[e].visible)&&(c=this._generateIntervalValues(s,h,a,o,l)),"labels"!=e){var u=o?n.left:0;if(!o&&a>1&&(u=n.left*(a+1)),1==c.length&&(u*=2),d=this._valuesToOffsets(c,t,s,i,n,!1,u),!o){var p=(n.left+n.right)*h/a;t.flip?d.unshift(d[0]+p):d.push(d[d.length-1]+p)}}else{u=n.left;1==c.length&&(u*=2),d=this._valuesToOffsets(c,t,s,i,n,o,u)}var m=this._arraysToObjectsArray([c,d],["value","offset"]);if(t[e]&&t[e].custom)for(var f=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(f,t,s,i,n,o,n.left),x=0;x<t[e].custom.length;x++)m.push({value:f[x],offset:isNaN(g[x])?v[x]:g[x]});return m},_renderXAxis:function(t,i,s,r){var n=this,o=n._getXAxis(t),a=n.seriesGroups[t],l="horizontal"==a.orientation,d={width:0,height:0},h=n._getAxisSettings(o);if(!o||!h.visible||"spider"==a.type)return d;if(!n._isGroupVisible(t)||this._isPieGroup(t))return d;for(var c=n._alignValuesWithTicks(t);n._renderData.length<t+1;)n._renderData.push({});n.rtl&&(o.flip=!0);var u=l?i.height:i.width,p=o.text,m=n._calculateXOffsets(t,u),f=m.axisStats,g=o.rangeSelector,v=0;if(g){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";v=this._selectorGetSize(o)}var x=l&&"right"==o.position||!l&&"top"==o.position;!s&&g&&(l?(i.width-=v,"right"!=o.position&&(i.x+=v)):(i.height-=v,"top"==o.position&&(i.y+=v)));var w={rangeLength:m.rangeLength,itemWidth:m.itemWidth,intervalWidth:m.intervalWidth,data:m,settings:h,isMirror:x,rect:i};n._renderData[t].xAxis=w;var y=f.interval;if(isNaN(y))return d;l&&(h.title.angle-=90,h.labels.angle-=90);var b,_=this._getInterval(h.gridLines,y),j=this._getInterval(h.tickMarks,y),q=this._getInterval(h.labels,y),T=f.min,C=f.max,S=m.padding,k=1==o.flip||n.rtl,I={min:T,max:C};f.logAxis.enabled&&(I.min=f.logAxis.minPow,I.max=f.logAxis.maxPow),"date"==o.type?(h.gridLines.offsets=this._generateDTOffsets(T,C,u,S,_,y,f.dateTimeUnit,c,NaN,!1,k),h.tickMarks.offsets=this._generateDTOffsets(T,C,u,S,j,y,f.dateTimeUnit,c,NaN,!1,k),b=this._generateDTOffsets(T,C,u,S,q,y,f.dateTimeUnit,c,NaN,!0,k)):(h.gridLines.offsets=this._getOffsets("gridLines",o,u,f,h,S,c,y),h.tickMarks.offsets=this._getOffsets("tickMarks",o,u,f,h,S,c,y),b=this._getOffsets("labels",o,u,f,h,S,c,y));var D;n.renderer.getRect().width,i.x,i.width,n._getDataLen(t);n._elementRenderInfo&&n._elementRenderInfo.length>t&&(D=n._elementRenderInfo[t].xAxis);var P,A,M=[];h.labels.formatFunction&&(P=h.labels.formatFunction),h.labels.formatSettings&&(A=e.extend({},h.labels.formatSettings)),"date"==o.type&&(o.dateFormat&&!P?A?A.dateFormat=A.dateFormat||o.dateFormat:A={dateFormat:o.dateFormat}:P||A&&(!A||A.dateFormat)||(P=this._getDefaultDTFormatFn(o.baseUnit||"day")));for(var H=0;H<b.length;H++){var B=b[H].value,z=b[H].offset;if(!isNaN(z)){var E=void 0;"date"!=o.type&&f.useIndeces&&o.dataField&&(E=Math.round(B),null==(B=n._getDataValue(E,o.dataField))&&(B="")),null!=(p=n._formatValue(B,A,P,t,void 0,E))&&""!=p.toString()||(isNaN(E)&&(E=H),E>=f.filterRange.min&&E<=f.filterRange.max&&(p=f.useIndeces?(f.min+E).toString():null==B?"":B.toString()));var L={key:B,text:p,targetX:z,x:z};D&&D.itemOffsets[B]&&(L.x=D.itemOffsets[B].x,L.y=D.itemOffsets[B].y),M.push(L)}}var N=n._getAnimProps(t),O=N.enabled&&M.length<500?N.duration:0;0==n.enableAxisTextAnimation&&(O=0);var R={items:M,renderData:w},F=n._renderAxis(l,x,h,{x:i.x,y:i.y,width:i.width,height:i.height},r,y,!1,!0,R,s,O);return l?F.width+=v:F.height+=v,F},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var n=i[r];if(n&&n.visible){var o=n.targetX,a=n.targetY;isNaN(n.x)||isNaN(n.y)||(o=n.x+(o-n.x)*t,a=n.y+(a-n.y)*t),n.element&&(this.renderer.removeElement(n.element),n.element=void 0),n.element=this.renderer.text(n.text,o,a,n.width,n.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var s=this.seriesGroups[t],r=i.x+e.jqx.getNum([s.offsetX,i.width/2]),n=i.y+e.jqx.getNum([s.offsetY,i.height/2]),o=Math.min(i.width,i.height),a=s.radius;this._isPercent(a)&&(a=parseFloat(a)/100*o/2),isNaN(a)&&(a=o/2*.6);var l=this._alignValuesWithTicks(t),d=this._get([s.startAngle,s.minAngle,0])-90;d=isNaN(d)?0:2*Math.PI*d/360;var h=this._get([s.endAngle,s.maxAngle,360])-90;if(d>(h=isNaN(h)?2*Math.PI:2*Math.PI*h/360)){var c=d;d=h,h=c}var u=e.jqx._rnd(Math.abs(d-h)/(2*Math.PI),.001,!0),p=2*Math.PI*a*u,m=this._calcGroupOffsets(t,i).xoffsets;if(m){var f=!(Math.abs(Math.abs(h-d)-2*Math.PI)>1e-5);if(s.spider){var g=this._getXAxisStats(t,this._getXAxis(t),p),v=g.interval;(isNaN(v)||0==v)&&(v=1);var x=(g.max-g.min)/v+(f?1:0);if((x=Math.round(x))>2){var w=Math.cos(Math.abs(h-d)/2/x);0==(w=e.jqx._rnd(w,.01))&&(w=1);var y=a/w;y>a&&l&&(a=y)}}return{x:r,y:n,r:a=e.jqx._ptrnd(a),adjR:this._get([y,a]),itemWidth:m.itemWidth,rangeLength:m.rangeLength,valuesOnTicks:l,startAngle:d,endAngle:h,isClosedCircle:f,axisSize:p}}},_toPolarCoord:function(t,i,s,r){var n=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),o=2*(s-i.x)*Math.PI*n/Math.max(1,i.width)+t.startAngle,a=(i.height+i.y-r)*t.r/Math.max(1,i.height),l=t.x+a*Math.cos(o),d=t.y+a*Math.sin(o);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(d)}},_renderSpiderAxis:function(t,i){var s=this,r=s._getXAxis(t),n=this._getAxisSettings(r);if(r&&n.visible){var o=s.seriesGroups[t],a=s._getPolarAxisCoords(t,i);if(a){var l=e.jqx._ptrnd(a.x),d=e.jqx._ptrnd(a.y),h=a.adjR,c=a.startAngle,u=a.endAngle;if(!(h<1)){var p=e.jqx._rnd(Math.abs(c-u)/(2*Math.PI),.001,!0),m=2*Math.PI*h*p,f=a.isClosedCircle,g=this._renderData[t].xoffsets;if(g.rangeLength){var v=g.axisStats.interval;(isNaN(v)||v<1)&&(v=1);var x="horizontal"==o.orientation;for(x&&"right"==r.position||!x&&r.position;s._renderData.length<t+1;)s._renderData.push({});var w={rangeLength:g.rangeLength,itemWidth:g.itemWidth,data:g,rect:i,settings:n};s._renderData[t].xAxis=w,s._renderData[t].polarCoords=a;for(var y=!0,b=0;b<t;b++){s._renderData[b].xAxis;var _=s._renderData[b].polarCoords,j=s._getXAxis(b),q=!1;for(var T in a)if(a[T]!=_[T]){q=!0;break}q&&j==r||(y=!1)}var C,S=n.gridLines,k=n.tickMarks,I=n.labels,D=this._getInterval(S,v),P=this._getInterval(k,v),A=this._getInterval(I,v),M=s._alignValuesWithTicks(t),H=s.renderer,B=g.axisStats,z=B.min,E=B.max,L=this._getPaddingSize(g.axisStats,r,M,m,!0,f,!1),N=1==r.flip||s.rtl;"date"==r.type?(S.offsets=this._generateDTOffsets(z,E,m,L,D,v,r.baseUnit,!0,0,!1,N),k.offsets=this._generateDTOffsets(z,E,m,L,P,v,r.baseUnit,!0,0,!1,N),C=this._generateDTOffsets(z,E,m,L,A,v,r.baseUnit,!0,0,!0,N)):(n.gridLines.offsets=this._getOffsets("gridLines",r,m,B,n,L,!0,v),n.tickMarks.offsets=this._getOffsets("tickMarks",r,m,B,n,L,!0,v),C=this._getOffsets("labels",r,m,B,n,L,!0,v));var O;s.renderer.getRect().width,i.x,i.width,s._getDataLen(t);s._elementRenderInfo&&s._elementRenderInfo.length>t&&(O=s._elementRenderInfo[t].xAxis);var R=[],F=this._getDataLen(t);for(b=0;b<C.length;b++){var W=C[b].offset,V=C[b].value;if("date"!=r.type&&B.useIndeces&&r.dataField){var G=Math.round(V);if(G>=F)continue;null==(V=s._getDataValue(G,r.dataField))&&(V="")}var U=s._formatValue(V,I.formatSettings,I.formatFunction,t,void 0,G);null!=U&&""!=U.toString()||(U=B.useIndeces?(B.min+b).toString():null==V?"":V.toString());var Y={key:V,text:U,targetX:W,x:W};O&&O.itemOffsets[V]&&(Y.x=O.itemOffsets[V].x,Y.y=O.itemOffsets[V].y),R.push(Y)}var K={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};if(!o.spider)if(1==p)H.circle(l,d,h,K);else{var X=-c/Math.PI*180,Z=-u/Math.PI*180;this.renderer.pieslice(l,d,0,h,Math.min(X,Z),Math.max(X,Z),void 0,K)}var $=R.length,J=(Math.PI,c);if(S.visible&&y){M||f||S.offsets.unshift({offset:-L.right});for(b=0;b<S.offsets.length;b++){var Q=S.offsets[b].offset;if(M||(Q+=f?L.right/2:L.right),!((le=J+2*Q*Math.PI*p/Math.max(1,m))-u>.01)){var ee=e.jqx._ptrnd(l+h*Math.cos(le)),te=e.jqx._ptrnd(d+h*Math.sin(le));H.line(l,d,ee,te,K)}}}if(k.visible&&y){var ie={stroke:k.color,fill:"none","stroke-width":k.width,"stroke-dasharray":k.dashStyle||""};M||f||k.offsets.unshift({offset:-L.right});for(b=0;b<k.offsets.length;b++){Q=k.offsets[b].offset;if(M||(Q+=f?L.right/2:L.right),!((le=J+2*Q*Math.PI*p/Math.max(1,m))-u>.01)){var se={x:l+h*Math.cos(le),y:d+h*Math.sin(le)},re={x:l+(h+5)*Math.cos(le),y:d+(h+5)*Math.sin(le)};H.line(e.jqx._ptrnd(se.x),e.jqx._ptrnd(se.y),e.jqx._ptrnd(re.x),e.jqx._ptrnd(re.y),ie)}}}var ne=[];if(o.spider){var oe=[];oe="date"==r.type?this._generateDTOffsets(z,E,m,L,v,v,r.baseUnit,!0,0,!1,N):this._getOffsets("",r,m,B,n,L,!0,v),M||f||oe.unshift({offset:-L.right});for(b=0;b<oe.length;b++){Q=oe[b].offset;M||(Q+=f?L.right/2:L.right),(le=J+2*Q*Math.PI*p/Math.max(1,m))-u>.01||ne.push(le)}w.offsetAngles=ne}var ae=s._renderSpiderValueAxis(t,i,M?a.adjR:a.r,ne);if(ae||(ae=[]),o.spider){if(!M)for(b=0;b<ae.length;b++)ae[b]=ae[b]*a.adjR/a.r;ae.push(h),this._renderSpiderLines(l,d,ae,a,ne,K)}if(y&&I.visible){w.polarLabels=[];for(b=0;b<R.length;b++){var le;(le=(360-(le=J+2*(Q=R[b].x)*Math.PI*p/Math.max(1,m))/(2*Math.PI)*360)%360)<0&&(le=360+le);var de,he=H.measureText(R[b].text,0,{class:n.labels.style}),ce=(M?a.adjR:a.r)+(k.visible?7:2),ue=n.labels;if(ue.autoRotate){var pe=e.jqx._ptRotate(l-he.width/2,d-ce-he.height,l,d,-le/180*Math.PI),me=e.jqx._ptRotate(l+he.width/2,d-ce,l,d,-le/180*Math.PI);he.width=Math.abs(pe.x-me.x),he.height=Math.abs(pe.y-me.y),de={x:Math.min(pe.x,me.x),y:Math.min(pe.y,me.y)}}else de=this._adjustTextBoxPosition(l,d,he,ce,le,!1,!1,!1);w.polarLabels.push({x:de.x,y:de.y,value:R[b].text}),H.text(R[b].text,de.x,de.y,he.width,he.height,ue.autoRotate?90-le:ue.angle,{class:ue.style},!1,ue.halign,ue.valign)}}}}}}},_renderSpiderLines:function(t,i,s,r,n,o){for(var a=this.renderer,l=(r.startAngle,r.endAngle,r.isClosedCircle),d=0;d<s.length;d++){for(var h=s[d],c=void 0,u=void 0,p=0;p<n.length;p++){var m=n[p],f=e.jqx._ptrnd(t+h*Math.cos(m)),g=e.jqx._ptrnd(i+h*Math.sin(m));c&&a.line(c.x,c.y,f,g,o),c={x:f,y:g},u||(u={x:f,y:g})}u&&l&&a.line(c.x,c.y,u.x,u.y,o)}},_renderSpiderValueAxis:function(t,i,s,r){var n=this.seriesGroups[t],o=this._getPolarAxisCoords(t,i);if(o){var a=e.jqx._ptrnd(o.x),l=e.jqx._ptrnd(o.y);s=s||o.r;var d=o.startAngle,h=o.endAngle,c=e.jqx._rnd(Math.abs(d-h)/(2*Math.PI),.001,!0);if(!(s<1)){s=e.jqx._ptrnd(s);var u=this._getValueAxis(t),p=this._getAxisSettings(u);if(u&&0!=p.visible){var m=this._stats.seriesGroups[t].mu,f=p.labels,g=f.formatSettings;-1!=n.type.indexOf("stacked")&&-1!=n.type.indexOf("100")&&!g&&(g={sufix:"%"});var v=this._get([f.step,f.unitInterval/m]);isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),this._calcValueAxisItems(t,s,v);var x=p.gridLines,w=p.tickMarks,y=(this._getInterval(x,m),this._getInterval(w,m),p.labels),b={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},_=this._renderData[t].valueAxis,j=_.items,q=d;if(j.length&&p.line.visible){isNaN(p.line.angle)||(q=2*Math.PI*p.line.angle/360);var T=a+Math.cos(q)*s,C=l+Math.sin(q)*s;if(-1==r.indexOf(q)){var S=e.extend({},b);S["stroke-width"]=p.line.lineWidth,S.stroke=p.line.color,S["stroke-dasharray"]=p.line.dashStyle,this.renderer.line(a,l,T,C,S)}}j=j.reverse();var k=this.renderer;_.polarLabels=[];for(var I=0;I<j.length-1;I++){var D=j[I];if(!isNaN(D)){var P=y.formatFunction?y.formatFunction(D):this._formatNumber(D,g),A=k.measureText(P,0,{class:y.style}),M=a+(0!=u.showTickMarks?3:2),H=l-_.itemWidth*I-A.height/2,B=e.jqx._ptRotate(M,H,a,l,q),z=e.jqx._ptRotate(M+A.width,H+A.height,a,l,q);M=Math.min(B.x,z.x),H=Math.min(B.y,z.y),A.width=Math.abs(B.x-z.x),A.height=Math.abs(B.y-z.y),M+=p.labels.textOffset.x,H+=p.labels.textOffset.y,_.polarLabels.push({x:M,y:H,value:P}),k.text(P,M,H,A.width,A.height,y.autoRotate?90+180*d/Math.PI:y.angle,{class:y.style},!1,y.halign,y.valign)}}var E=1==u.logarithmicScale?j.length:_.rangeLength,L=(Math.PI,0!=u.valuesOnTicks),N=this._stats.seriesGroups[t],O=N.mu,R=1==u.logarithmicScale;u.logarithmicScaleBase;R&&(O=1);var F={min:N.min,max:N.max,logAxis:{enabled:1==R,base:u.logarithmicScaleBase,minPow:N.minPow,maxPow:N.maxPow}};(x.visible||n.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(x.offsets=this._getOffsets("gridLines",u,s,F,p,{left:0,right:0},L,O));var W=[];if(x.visible||n.spider)for(b={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},I=0;I<x.offsets.length;I++){if((H=e.jqx._ptrnd(x.offsets[I].offset))!=s)if(n.spider)W.push(H);else if(1!=c){var V=-d/Math.PI*180,G=-h/Math.PI*180;this.renderer.pieslice(a,l,0,H,Math.min(V,G),Math.max(V,G),void 0,b)}else k.circle(a,l,H,b)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(w.visible=!1),w.visible){w.offsets=this._getOffsets("tickMarks",u,s,F,p,{left:0,right:0},L,O);var U=2*w.size;for(b={stroke:w.color,fill:"none","stroke-width":1,"stroke-dasharray":w.dashStyle||""},I=0;I<w.offsets.length;I++){var Y=w.offsets[I].offset;B={x:a+Y*Math.cos(q)-U/2*Math.sin(q+Math.PI/2),y:l+Y*Math.sin(q)-U/2*Math.cos(q+Math.PI/2)},z={x:a+Y*Math.cos(q)+U/2*Math.sin(q+Math.PI/2),y:l+Y*Math.sin(q)+U/2*Math.cos(q+Math.PI/2)};k.line(e.jqx._ptrnd(B.x),e.jqx._ptrnd(B.y),e.jqx._ptrnd(z.x),e.jqx._ptrnd(z.y),b)}}return W}}}},_renderAxis:function(t,i,s,r,n,o,a,l,d,h,c){if(s.customDraw&&!h)return{width:NaN,height:NaN};var u=s.title,p=s.labels,m=(s.gridLines,s.tickMarks),f=s.padding,g=m.visible?m.size:0,v={width:0,height:0},x={width:0,height:0};t?v.height=x.height=r.height:v.width=x.width=r.width,!h&&i&&t&&(r.x-=r.width);var w=d.renderData,y=w.itemWidth;if(u.visible&&null!=u.text&&""!=u){var b=u.angle,_=this.renderer.measureText(u.text,b,{class:u.style});x.width=_.width,x.height=_.height,h||this.renderer.text(u.text,r.x+u.offset.x+(t?i?-f.right-2+2*r.width-x.width:2+f.left:0),r.y+u.offset.y+(t?0:i?f.top+2:r.height-2-x.height-f.bottom),t?x.width:r.width,t?r.height:x.height,b,{class:u.style},!0,u.halign,u.valign,u.rotationPoint)}var j=0,q=l?-y/2:0;l&&!t&&(p.halign="center");var T=r.x,C=r.y,S=p.textOffset;S&&(isNaN(S.x)||(T+=S.x),isNaN(S.y)||(C+=S.y)),t?(T+=f.left+2+(x.width>0?x.width+2:0)+(i?r.width-x.width:0),C+=q):(T+=q,i?(C+=x.height>0?x.height+6:4,C+=g-(l?g:g/4)):C+=l?g:g/4,C+=f.top);var k=0,I=0,D=d.items;w.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(c=0);for(var P=!1,A=0,M=0;M<D.length&&p.visible;M++,j+=y)if(D[M]&&!isNaN(y)){var H=D[M].text;if(isNaN(D[M].targetX)||(j=D[M].targetX),(_=this.renderer.measureText(H,p.angle,{class:p.style})).width>I&&(I=_.width),_.height>k&&(k=_.height),A+=t?k:I,!h){if(t&&j>r.height+2||!t&&j>r.width+2)continue;var B=t?T+(i?0==x.width?g:g-2:0):T+j,z=t?C+j:C;w.itemOffsets[D[M].key]={x:B,y:z},P||(!isNaN(D[M].x)||!isNaN(D[M].y)&&c)&&(P=!0),D[M].targetX=B,D[M].targetY=z,D[M].width=t?r.width-f.left-f.right-4-g-(x.width>0?x.width+2:0):y,D[M].height=t?y:r.height-f.top-f.bottom-4-g-(x.height>0?x.height+2:0),D[M].visible=!0}}if(w.avgWidth=0==D.length?0:A/D.length,!h){var E={items:D,textSettings:p};if(!isNaN(c)&&P||(c=0),this._animateAxisText(E,0==c?1:0),0!=c){var L=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){L._animateAxisText(t,i)},E)}}if(v.width+=4+g+x.width+I+(t&&x.width>0?2:0),v.height+=4+g+x.height+k+(!t&&x.height>0?2:0),t?v.width+=f.left+f.right:v.height+=f.top+f.bottom,!h&&s.line.visible){var N={stroke:s.line.color,"stroke-width":s.line.width,"stroke-dasharray":s.line.dashStyle||""};if(t){B=r.x+r.width+(i?f.left:-f.right);B=e.jqx._ptrnd(B),this.renderer.line(B,r.y,B,r.y+r.height,N)}else{z=e.jqx._ptrnd(r.y+(i?r.height-f.bottom:f.top));this.renderer.line(e.jqx._ptrnd(r.x),z,e.jqx._ptrnd(r.x+r.width+1),z,N)}}return v.width=e.jqx._rup(v.width),v.height=e.jqx._rup(v.height),v},_drawPlotAreaLines:function(t,i,s){var r=this.seriesGroups[t],n="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=t)){var o=i?"valueAxis":"xAxis",a=this._renderData[t][o];if(a){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var d,h="";i?(h="valueAxis_"+(r.valueAxis?t:"")+(n?"swap":""),d=this._getValueAxis(t)):(h="xAxis_"+(r.xAxis||r.categoryAxis?t:"")+(n?"swap":""),d=this._getXAxis(t)),l=l[h]?l[h]:l[h]={},i||(n=!n);var c=a.settings;if(c&&!c.customDraw){var u=c.gridLines,p=c.tickMarks,m=c.padding,f=a.rect,g=this._plotRect;if(u&&p){var v=.5,x={},w={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},y=i?f.y+f.height:f.x,b=u.offsets;if(i&&!d.flip&&(b=(b=e.extend([],b)).reverse()),b&&b.length>0)for(var _=NaN,j=(b.length,0);j<b.length;j++){if(n){var q=e.jqx._ptrnd(f.y+b[j].offset);q<f.y-v&&(q=e.jqx._ptrnd(f.y)),q>f.y+f.height&&(q=f.y+f.height)}else(q=e.jqx._ptrnd(f.x+b[j].offset))>f.x+f.width+v&&(q=e.jqx._ptrnd(f.x+f.width));if(!isNaN(q)&&(isNaN(_)||!(Math.abs(q-_)<2))){if(_=q,s.gridLines&&0!=u.visible&&1!=l.gridLines&&(n?this.renderer.line(e.jqx._ptrnd(g.x),q,e.jqx._ptrnd(g.x+g.width),q,w):this.renderer.line(q,e.jqx._ptrnd(g.y),q,e.jqx._ptrnd(g.y+g.height),w)),x[q]=!0,s.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var T,C=j%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(j>0&&C)T=n?this.renderer.rect(e.jqx._ptrnd(g.x),y,e.jqx._ptrnd(g.width-1),q-y,w):this.renderer.rect(y,e.jqx._ptrnd(g.y),q-y,e.jqx._ptrnd(g.height),w),this.renderer.attr(T,{"stroke-width":0,fill:C,opacity:u.alternatingBackgroundOpacity||1})}y=q}}w={stroke:p.color,"stroke-width":p.width,"stroke-dasharray":p.dashStyle||""};if(s.tickMarks&&p.visible&&1!=l.tickMarks){var S=p.size;for(b=p.offsets,_=NaN,j=0;j<b.length;j++)if(n?((q=e.jqx._ptrnd(f.y+b[j].offset))<f.y-v&&(q=e.jqx._ptrnd(f.y)),q>f.y+f.height&&(q=f.y+f.height)):(q=e.jqx._ptrnd(f.x+b[j].offset))>f.x+f.width+v&&(q=e.jqx._ptrnd(f.x+f.width)),!isNaN(q)&&(isNaN(_)||!(Math.abs(q-_)<2))){if(x[q-1]?q--:x[q+1]&&q++,n){if(q>f.y+f.height+v)break}else if(q>f.x+f.width+v)break;_=q;var k=a.isMirror?S:-S;if(n){var I=f.x+f.width+("right"==d.position?m.left:-m.right);i||(I=f.x+(a.isMirror?m.left:-m.right+f.width)),this.renderer.line(I,q,I+k,q,w)}else{var D=f.y+(a.isMirror?f.height:0);D+=a.isMirror?-m.bottom:m.top,D=e.jqx._ptrnd(D),this.renderer.line(q,D,q,D-k,w)}}}l.tickMarks=l.tickMarks||s.tickMarks,l.gridLines=l.gridLines||s.gridLines,l.alternatingBackground=l.alternatingBackground||s.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],n=(r.orientation,this._getValueAxis(e)),o=0!=n.valuesOnTicks,a=(n.dataField,s.intervals),l=t/a,d=s.min,h=s.mu,c=1==n.logarithmicScale,u=n.logarithmicScaleBase||10,p=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(c&&(h=isNaN(n.unitInterval)?1:n.unitInterval),o||(a=Math.max(a-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var m=this._renderData[e].valueAxis;m.itemWidth=m.intervalWidth=l,m.items=[];for(var f=m.items,g=0;g<=a;g++){var v=0;v=c?p?s.max/Math.pow(u,a-g):d*Math.pow(u,g):o?d+g*h:d+(g+.5)*h,g%i==0?f.push(v):f.push(NaN)}return m.rangeLength=c&&!p?s.intervals:s.intervals*h,1!=n.flip&&(f=f.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||o[a]>"9")&&(s=o.length-(a+1))>=0)return Math.min(s,i);for(s>0&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n="horizontal"==r.orientation,o=this._getValueAxis(e);if(!o)throw"SeriesGroup "+e+" is missing valueAxis definition";var a={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return a;var l=0!=o.valuesOnTicks,d=this._stats.seriesGroups[e],h=d.mu,c=1==o.logarithmicScale,u=o.logarithmicScaleBase||10;if(c&&(h=isNaN(o.unitInterval)?1:o.unitInterval),0==h&&(h=1),isNaN(h))return a;var p=this._getAxisSettings(o),m=p.title,f=p.labels,g=o.labels||{};this._get([o.horizontalTextAlignment,g.horizontalAlignment])||0!=f.angle||(f.halign=n?"center":"right"==o.position?"left":"right");var v=this._get([f.step,f.unitInterval/h]);if(isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),!this._calcValueAxisItems(e,n?t.width:t.height,v)||!p.visible)return a;n||(m.angle=this.rtl?90:-90,"centercenter"==m.rotationPoint&&("top"==m.valign?m.rotationPoint="rightcenter":"bottom"==m.valign&&(m.rotationPoint="leftcenter")));var x=this._renderData[e].valueAxis,w=f.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!w&&(w={sufix:"%"}),f.formatFunction||w&&w.decimalPlaces||((w=w||{}).decimalPlaces=this._getDecimalPlaces([d.min,d.max,h],void 0,3));var y=p.gridLines,b=(c||this._getInterval(y,h),n?t.width:t.height),_=1==o.flip;o.flip=!_;var j={min:d.min,max:d.max,logAxis:{enabled:1==c,base:u,minPow:d.minPow,maxPow:d.maxPow}};(y.visible||o.alternatingBackgroundColor||o.alternatingBackgroundColor2)&&(y.offsets=this._getOffsets("gridLines",o,b,j,p,{left:0,right:0},l,h));var q=p.tickMarks;q.visible&&(q.offsets=this._getOffsets("tickMarks",o,b,j,p,{left:0,right:0},l,h));var T=this._getOffsets("labels",o,b,j,p,{left:0,right:0},l,h,!l);o.flip=_;var C,S=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(C=this._elementRenderInfo[e].valueAxis);for(var k=0;k<T.length;k++){var I=T[k].value;if(isNaN(T[k].offset))S.push(void 0);else{var D={key:I,text:f.formatFunction?f.formatFunction(I):isNaN(I)?I:this._formatNumber(I,w)};C&&C.itemOffsets[I]&&(D.x=C.itemOffsets[I].x,D.y=C.itemOffsets[I].y),D.targetX=T[k].offset,isNaN(D.targetX)||S.push(D)}}var P=n&&"top"==o.position||!n&&"right"==o.position||!n&&this.rtl&&"left"!=o.position,A={items:S,renderData:x},M=this._getAnimProps(e),H=M.enabled&&S.length<500?M.duration:0;return 0==this.enableAxisTextAnimation&&(H=0),x.settings=p,x.isMirror=P,x.rect=t,this._renderAxis(!n,P,p,t,s,h,c,!0,A,i,H)},_objectsArraysToArray:function(t,i){var s=[];if(!e.isArray(t))return s;for(var r=0;r<t.length;r++)s.push(t[r][i]);return s},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(t,i,s,r,n,o,a){var l=[];if(!i||!e.isArray(t))return l;var d,h=s.logAxis.base,c=s.logAxis.enabled?"logarithmic":"linear",u=i.flip,p=0,m=0;n&&!isNaN(n.left)&&(p=n.left),n&&!isNaN(n.right)&&(m=n.right),r=d=r-p-m;for(var f=0;f<t.length;f++){var g=this._jqxPlot.scale(t[f],{min:s.min.valueOf(),max:s.max.valueOf(),type:c,base:h},{min:0,max:o?r:d,flip:u},{});isNaN(g)?l.push(NaN):(isNaN(a)||(g+=a),g<=r+p+m+1?l.push(e.jqx._ptrnd(g)):l.push(NaN))}return l},_generateIntervalValues:function(e,t,i,s,r){var n=[],o=e.min,a=e.max;if(e.logAxis&&e.logAxis.enabled&&(o=e.logAxis.minPow,a=e.logAxis.maxPow),null==o||null==a)return n;if(o==a)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,o)]:[o];var l=1;i<1&&(o*=l=1e6,a*=l,i*=l);for(var d=o;d<=a;d+=i)n.push(d/l+(r?i/2:0));if(t>i){var h=[],c=Math.round(t/i);for(d=0;d<n.length;d++)d%c==0&&h.push(n[d]);n=h}if(e.logAxis&&e.logAxis.enabled)for(d=0;d<n.length;d++)n[d]=Math.pow(e.logAxis.base,n[d]);return n},_generateDTOffsets:function(t,i,s,r,n,o,a,l,d,h,c){a||(a="day");var u=[];if(t>i)return u;if(t==i)return h?u.push({offset:l?s/2:r.left,value:t}):l&&u.push({offset:s/2,value:t}),u;var p=s-r.left-r.right,m=t,f=r.left,g=f,v=o=Math.max(o,1),x=Math.min(1,o);for(o>1&&"millisecond"!=a&&(o=1);e.jqx._ptrnd(g)<=e.jqx._ptrnd(r.left+p+(l?0:r.right));){u.push({offset:g,value:m});var w=new Date(m.valueOf());if("millisecond"==a)w.setMilliseconds(m.getMilliseconds()+o);else if("second"==a)w.setSeconds(m.getSeconds()+o);else if("minute"==a)w.setMinutes(m.getMinutes()+o);else if("hour"==a){var y=w.valueOf();w.setHours(m.getHours()+o),y==w.valueOf()&&w.setHours(m.getHours()+o+1)}else"day"==a?w.setDate(m.getDate()+o):"month"==a?w.setMonth(m.getMonth()+o):"year"==a&&w.setFullYear(m.getFullYear()+o);g=f+((m=w).valueOf()-t.valueOf())*x/(i.valueOf()-t.valueOf())*p}if(c)for(var b=0;b<u.length;b++)u[b].offset=s-u[b].offset;if(v>1&&"millisecond"!=a){var _=[];for(b=0;b<u.length;b+=v)_.push({offset:u[b].offset,value:u[b].value});u=_}if(!l&&!h&&u.length>1){(_=[]).push({offset:0,value:void 0});for(b=1;b<u.length;b++)_.push({offset:u[b-1].offset+(u[b].offset-u[b-1].offset)/2,value:void 0});var j=_.length;j>1?_.push({offset:_[j-1].offset+(_[j-1].offset-_[j-2].offset)}):_.push({offset:s,value:void 0}),u=_}if(n>o){_=[];var q=Math.round(n/v);for(b=0;b<u.length;b++)b%q==0&&_.push({offset:u[b].offset,value:u[b].value});u=_}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),n=!1,o=[],a=0;a<i.series.length;a++)o[a]=this._isSerieVisible(e,a);for(var l=0;l<r;l++){var d=void 0;s||(n=!1);for(var h=0;h<i.series.length;h++)if(o[h]){var c=this._getDataValueAsNumber(l,i.series[h].dataField,e);if(!isNaN(c)){if(i.series[h].summary)if(void 0!==this._getDataValue(l,i.series[h].summary,e))continue;var u=n?c<0:c<t;if(n=!0,null==d&&(d=u),u!=d)return!0;d=u,c}}}return!1},_getValueAxis:function(e){var t=null==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i];t.seriesGroups[i]={};var r=this._getXAxis(i),n=this._getValueAxis(i),o=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height);(W=t.seriesGroups[i]).isValid=!0;var a="horizontal"==s.orientation?e.width:e.height,l=1==n.logarithmicScale,d=n.logarithmicScaleBase;isNaN(d)&&(d=10);var h=-1!=s.type.indexOf("stacked"),c=h&&-1!=s.type.indexOf("100"),u=-1!=s.type.indexOf("range"),p=-1!=s.type.indexOf("waterfall");if(p&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";c&&(W.psums=[],W.nsums=[]);var m=NaN,f=NaN,g=NaN,v=NaN,x=n?n.baselineValue:NaN;isNaN(x)&&(x=l&&!c?1:0);var w=!1;0!=x&&h&&(w=this._hasStackValueReversal(i,x))&&(x=0),h&&p&&(w=this._hasStackValueReversal(i,x));var y=this._getDataLen(i),b=0,_=NaN,j=[];if(p)for(var q=0;q<s.series.length;q++)j.push(NaN);for(var T=NaN,C=0;C<y&&W.isValid;C++){if(r.rangeSelector){var S=r.dataField?this._getDataValue(C,r.dataField,i):C;if(S&&o.isDateTime&&(S=this._castAsDate(S,r.dateFormat)),o.useIndeces&&(S=C),S&&(S.valueOf()<o.min.valueOf()||S.valueOf()>o.max.valueOf()))continue}var k=n.minValue,I=n.maxValue;n.baselineValue&&(k=isNaN(k)?x:Math.min(x,k),I=isNaN(I)?x:Math.max(x,I));var D=0,P=0;for(q=0;s.series&&q<s.series.length;q++)if(this._isSerieVisible(i,q)){var A=NaN,M=NaN,H=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var B=["Open","Low","Close","High"];for(var z in B){var E=this._getDataValueAsNumber(C,s.series[q]["dataField"+B[z]],i);isNaN(E)||(H=isNaN(M)?E:Math.min(H,E),M=isNaN(M)?E:Math.max(M,E))}}else if(u){var L=this._getDataValueAsNumber(C,s.series[q].dataFieldFrom,i),N=this._getDataValueAsNumber(C,s.series[q].dataFieldTo,i);M=Math.max(L,N),H=Math.min(L,N)}else{if(A=this._getDataValueAsNumber(C,s.series[q].dataField,i),p){if(this._isSummary(i,C))if(void 0!==this._getDataValue(C,s.series[q].summary,i))continue;h?(isNaN(T)||(A+=T),T=A):(isNaN(j[q])?j[q]=A:A+=j[q],j[q]=A)}if(isNaN(A)||l&&A<=0)continue;H=M=A}(isNaN(I)||M>I)&&(isNaN(n.maxValue)||M<=n.maxValue)&&(I=M),(isNaN(k)||H<k)&&(isNaN(n.minValue)||H>=n.minValue)&&(k=H),isNaN(A)||!h||p||(A>x?D+=A:A<x&&(P+=A))}if(c||(isNaN(n.maxValue)||(D=Math.min(n.maxValue,D)),isNaN(n.minValue)||(P=Math.max(n.minValue,P))),l&&c)for(q=0;q<s.series.length;q++)if(this._isSerieVisible(i,q)){A=this._getDataValueAsNumber(C,s.series[q].dataField,i);if(isNaN(A)||A<=0)_=.01;else{var O=0==D?0:A/D;(isNaN(_)||O<_)&&(_=O)}}else _=.01;var R=D-P;b<R&&(b=R),c&&(W.psums[C]=D,W.nsums[C]=P),(I>f||isNaN(f))&&(f=I),(k<m||isNaN(m))&&(m=k),(D>g||isNaN(g))&&(g=D),(P<v||isNaN(v))&&(v=P)}c&&(g=0==g?0:Math.max(g,-v),v=0==v?0:Math.min(v,-g)),m==f&&(!isNaN(n.minValue)&&isNaN(n.maxValue)?(m=n.minValue,f=l?m*d:m+1):isNaN(n.minValue)&&!isNaN(n.maxValue)&&(f=n.maxValue,m=l?f/d:f-1)),m==f&&(0==m?(m=-1,f=1):m<0?f=0:l?1==m&&(m/=d,f*=d):m=0);var F={gmin:m,gmax:f,gsumP:g,gsumN:v,gbase:x,isLogAxis:l,logBase:d,minPercent:_,gMaxRange:b,isStacked:h,isStacked100:c,isWaterfall:p,hasStackValueReversal:w,valueAxis:n,valueAxisSize:a};F.isStacked&&(F.gsumN<0&&(F.gmin=Math.min(F.gmin,F.gbase+F.gsumN)),F.gsumP>0&&(F.gmax=Math.max(F.gmax,F.gbase+F.gsumP))),W.context=F}this._mergeCommonValueAxisStats();for(C=0;C<t.seriesGroups.length;C++){var W;if((W=t.seriesGroups[C]).isValid){var V=this._calcOutputGroupStats(W.context);for(var z in V)W[z]=V[z];delete W.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var s=this._stats.seriesGroups[t].context;for(var r in e)s[r]=e[r]}},_calcOutputGroupStats:function(t){var i=t.gmin,s=t.gmax,r=t.gsumP,n=t.gsumN,o=t.gbase,a=t.isLogAxis,l=t.logBase,d=t.minPercent,h=t.gMaxRange,c=t.isStacked,u=t.isStacked100,p=t.isWaterfall,m=t.hasStackValueReversal,f=t.valueAxis,g=t.valueAxisSize,v=t.valueAxis.unitInterval;v||(v=this._calcInterval(i,s,Math.max(g/80,2))),i==s&&(i=o,s*=2);var x=NaN,w=0,y=0;if(a){if(u){x=0;var b=1;for(w=y=e.jqx.log(100,l);b>d;)b/=l,w--,x++;i=Math.pow(l,w)}else c&&!p&&(s=Math.max(s,r)),y=e.jqx._rnd(e.jqx.log(s,l),1,!0),s=Math.pow(l,y),w=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,w);v=l}i<n&&(n=i),s>r&&(r=s);var _=i,j=s;if(a||0!=Math.abs(j-_)%v&&(_=e.jqx._rnd(i,v,!1),j=e.jqx._rnd(s,v,!0)),u&&j>100&&(j=100),u&&!a&&(j=j>0?100:0,_=_<0?-100:0,v=f.unitInterval,(isNaN(v)||v<=0||v>=100)&&(v=10),100%v!=0))for(;v>=1&&100%v!=0;v--);return isNaN(j)||isNaN(_)||isNaN(v)?{}:(isNaN(x)&&(x=parseInt(((j-_)/(0==v?1:v)).toFixed())),a&&!u&&(x=y-w,h=Math.pow(l,x)),x<1?{}:{min:_,max:j,logarithmic:a,logBase:l,base:a?_:o,minPow:w,maxPow:y,sumP:r,sumN:n,mu:v,maxRange:h,intervals:x,hasStackValueReversal:m})},_getDataLen:function(t){var i=this.source;return null!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,s){var r=this.source;if(null!=s&&-1!=s&&(r=this.seriesGroups[s].source||r),r instanceof e.jqx.dataAdapter&&(r=r.records),!(!r||t<0||t>r.length-1))return e.isFunction(i)?i(t,r):i&&""!=i?r[t][i]:r[t]},_getDataValueAsNumber:function(e,t,i){var s=this._getDataValue(e,t,i);return this._isDate(s)?s.valueOf():("number"!=typeof s&&(s=parseFloat(s)),"number"!=typeof s&&(s=void 0),s)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(t,i){for(var s=this._getDataLen(t),r=this.seriesGroups[t],n=this._calcGroupOffsets(t,i).offsets,o=0;o<r.series.length;o++){var a=r.series[o];if(!a.customDraw){var l=this._getSerieSettings(t,o),d=(a.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(t,o)),h=d.enabled&&s<5e3&&!this._isToggleRefresh&&1!=this._isVML?d.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(h=0);var c=this._get([a.minAngle,a.startAngle]);(isNaN(c)||c<0||c>360)&&(c=0);var u=this._get([a.maxAngle,a.endAngle]);(isNaN(u)||u<0||u>360)&&(u=360);for(var p={rect:i,minAngle:c,maxAngle:u,groupIndex:t,serieIndex:o,settings:l,items:[]},m=0;m<s;m++){var f=n[o][m];if(f.visible){var g=f.fromAngle,v=f.toAngle,x=this.renderer.pieslice(f.x,f.y,f.innerRadius,f.outerRadius,g,0==h?v:g,f.centerOffset);this._setRenderInfo(t,o,m,{element:x});var w={displayValue:f.displayValue,itemIndex:m,visible:f.visible,x:f.x,y:f.y,innerRadius:f.innerRadius,outerRadius:f.outerRadius,fromAngle:g,toAngle:v,centerOffset:f.centerOffset};p.items.push(w)}}this._animatePieSlices(p,0);var y=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){y._animatePieSlices(t,i)},p)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var s=this.seriesGroups[e.groupIndex],r=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=r.visible,o=[],a=0;a<e.items.length;a++){if((p=e.items[a]).visible){var l=p.fromAngle,d=p.fromAngle+t*(p.toAngle-p.fromAngle);if(i&&i[p.displayValue]){var h=i[p.displayValue].fromAngle,c=i[p.displayValue].toAngle;l=h+(l-h)*t,d=c+(d-c)*t}o.push({index:a,from:l,to:d})}}i&&o.sort(this._sliceSortFunction);var u=NaN;for(a=0;a<o.length;a++){var p=e.items[o[a].index],m=this._getRenderInfo(e.groupIndex,e.serieIndex,p.itemIndex);l=o[a].from,d=o[a].to;i&&(!isNaN(u)&&l>u&&(l=u),u=d,a==o.length-1&&d!=o[0].from&&(d=e.maxAngle+o[0].from));var f=this.renderer.pieSlicePath(p.x,p.y,p.innerRadius,p.outerRadius,l,d,p.centerOffset);this.renderer.attr(m.element,{d:f});var g=this._getColors(e.groupIndex,e.serieIndex,p.itemIndex,"radialGradient",p.outerRadius),v=e.settings;m.colors=g,m.settings=v,this.renderer.attr(m.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,p.itemIndex,r),1==t&&this._installHandlers(m.element,"pieslice",e.groupIndex,e.serieIndex,p.itemIndex)}},_showPieLabel:function(t,i,s,r,n){var o=this._renderData[t].offsets[i][s];if(o.elementInfo.labelElement&&this.renderer.removeElement(o.elementInfo.labelElement),r||(r=this._getLabelsSettings(t,i,NaN)),r.visible){var a=o.fromAngle,l=o.toAngle,d=Math.abs(a-l);d>360&&(a=0,l=360);Math.PI,Math.PI;var h,c=d/2+a,u=(c%=360)*Math.PI*2/360;1==r.autoRotate&&(h=c<90||c>270?360-c:180-c);var p=r.linesEnabled,m=this._showLabel(t,i,s,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,h),f=r.radius||o.outerRadius+Math.max(m.width,m.height);this._isPercent(f)&&(f=parseFloat(f)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),f+=o.centerOffset,isNaN(n)&&(n=0),f+=n;var g=this.seriesGroups[t],v=g.series[i],x=e.jqx.getNum([v.offsetX,g.offsetX,this._plotRect.width/2]),w=e.jqx.getNum([v.offsetY,g.offsetY,this._plotRect.height/2]),y=this._plotRect.x+x,b=this._plotRect.y+w,_=this._adjustTextBoxPosition(y,b,m,f,c,o.outerRadius>f,0!=r.linesAngles,1==r.autoRotate),j={};if(o.elementInfo.labelElement=this._showLabel(t,i,s,{x:_.x,y:_.y,width:m.width,height:m.height},"left","top",!1,!1,!1,h,j),f>o.outerRadius+5&&0!=p){var q={lineColor:o.elementInfo.colors.lineColor,stroke:o.elementInfo.settings.stroke,opacity:o.elementInfo.settings.opacity,dashStyle:o.elementInfo.settings.dashStyle};o.elementInfo.labelArrowPath=this._updateLebelArrowPath(o.elementInfo.labelArrowPath,y,b,f,o.outerRadius+n,u,0!=r.linesAngles,q,j)}}},_updateLebelArrowPath:function(t,i,s,r,n,o,a,l,d){var h=e.jqx._ptrnd(i+(r-0)*Math.cos(o)),c=e.jqx._ptrnd(s-(r-0)*Math.sin(o)),u=e.jqx._ptrnd(i+(n+2)*Math.cos(o)),p=e.jqx._ptrnd(s-(n+2)*Math.sin(o)),m=[];m.push({x:d.x+d.width/2,y:d.y}),m.push({x:d.x+d.width/2,y:d.y+d.height}),m.push({x:d.x,y:d.y+d.height/2}),m.push({x:d.x+d.width,y:d.y+d.height/2}),a||(m.push({x:d.x,y:d.y}),m.push({x:d.x+d.width,y:d.y}),m.push({x:d.x+d.width,y:d.y+d.height}),m.push({x:d.x,y:d.y+d.height})),m=(m=m.sort(function(t,r){return e.jqx._ptdist(t.x,t.y,i,s)-e.jqx._ptdist(r.x,r.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))});for(var f=0;f<m.length;f++)m[f].x=e.jqx._ptrnd(m[f].x),m[f].y=e.jqx._ptrnd(m[f].y);var g="M "+(h=m[0].x)+","+(c=m[0].y)+" L"+u+","+p;return a&&(g="M "+h+","+c+" L"+u+","+c+" L"+u+","+p),t?this.renderer.attr(t,{d:g}):t=this.renderer.path(g,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,s,r,n,o,a,l){var d=n*Math.PI*2/360,h=e.jqx._ptrnd(t+r*Math.cos(d)),c=e.jqx._ptrnd(i-r*Math.sin(d));if(l){var u=s.width,p=s.height,m=Math.atan(p/u)%(2*Math.PI),f=d%(2*Math.PI),g=0;f<=m?g=u/2*Math.cos(d):f>=m&&f<Math.PI-m?g=p/2*Math.sin(d):f>=Math.PI-m&&f<Math.PI+m?g=u/2*Math.cos(d):f>=Math.PI+m&&f<2*Math.PI-m?g=p/2*Math.sin(d):f>=2*Math.PI-m&&f<2*Math.PI&&(g=u/2*Math.cos(d)),r+=Math.abs(g)+3;h=e.jqx._ptrnd(t+r*Math.cos(d)),c=e.jqx._ptrnd(i-r*Math.sin(d));return{x:h-=s.width/2,y:c-=s.height/2}}return o?(h-=s.width/2,c-=s.height/2):a?n>=90&&n<270?(c-=s.height/2,h-=s.width):c-=s.height/2:n>=0&&n<45||n>=315&&n<360?c-=s.height/2:n>=45&&n<135?(c-=s.height,h-=s.width/2):n>=135&&n<225?(c-=s.height/2,h-=s.width):n>=225&&n<315&&(h-=s.width/2),{x:h,y:c}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],n=r.orientation||"vertical";this._isColumnType(r.type)&&n==i&&t++}return t},_renderAxisBands:function(t,i,s){var r=s?this._getXAxis(t):this._getValueAxis(t),n=this.seriesGroups[t],o=s?void 0:n.bands;if(!o){for(var a=0;a<t;a++){if((s?this._getXAxis(a):this._getValueAxis(a))==r)return}o=r.bands}if(e.isArray(o)){var l=i,d="horizontal"==n.orientation;d&&(l={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,l);for(a=0;a<o.length;a++){var h=o[a],c=this._get([h.minValue,h.from]),u=this._get([h.maxValue,h.to]),p=s?this.getXAxisDataPointOffset(c,t):this.getValueAxisDataPointOffset(c,t),m=s?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t);if(!isNaN(p)&&!isNaN(m)){var f,g=Math.abs(p-m);if(n.polar||n.spider){var v=this._renderData[t],x=v.polarCoords;if(s)if(n.spider){var w=this.getPolarDataPointOffset(c,this._stats.seriesGroups[t].max,t),y=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t);A="M "+x.x+","+x.y;A+=" L "+w.x+","+w.y,A+=" L "+y.x+","+y.y,f=this.renderer.path(A)}else{var b={},_={x:Math.min(p,m),y:i.y,width:g,height:i.height};this._columnAsPieSlice(b,i,x,_),f=b.element}else{var j=this._toPolarCoord(x,i,i.x,v.baseOffset),q=this._toPolarCoord(x,i,i.x,p),T=this._toPolarCoord(x,i,i.x,m),C=e.jqx._ptdist(j.x,j.y,q.x,q.y),S=e.jqx._ptdist(j.x,j.y,T.x,T.y),k=Math.round(360*-x.startAngle/(2*Math.PI)),I=Math.round(360*-x.endAngle/(2*Math.PI));if(k>I){var D=k;k=I,I=D}if(n.spider){var P=v.xAxis.offsetAngles,A="",M=[S,C],H=P;for(var B in x.isClosedCircle&&(H=e.extend([],P)).push(H[0]),M){for(var z=0;z<H.length;z++){var E=0==B?z:P.length-z-1,L=x.x+M[B]*Math.cos(H[E]),N=x.y+M[B]*Math.sin(H[E]);A+=""==A?"M ":" L",A+=e.jqx._ptrnd(L)+","+e.jqx._ptrnd(N)}if(0==B){L=x.x+M[1]*Math.cos(H[E]),N=x.y+M[1]*Math.sin(H[E]);A+=" L"+e.jqx._ptrnd(L)+","+e.jqx._ptrnd(N)}}A+=" Z",f=this.renderer.path(A)}else f=this.renderer.pieslice(x.x,x.y,C,S,k,I)}}else{var O={x:Math.min(p,m),y:l.y,width:g,height:l.height};if(s||(O={x:l.x,y:Math.min(p,m),width:l.width,height:g}),d){D=O.x;O.x=O.y,O.y=D,D=O.width,O.width=O.height,O.height=D}f=0==g||1==g?this.renderer.line(e.jqx._ptrnd(O.x),e.jqx._ptrnd(O.y),e.jqx._ptrnd(O.x+(d?0:O.width)),e.jqx._ptrnd(O.y+(d?O.height:0))):this.renderer.rect(O.x,O.y,O.width,O.height)}var R=h.fillColor||h.color||"#AAAAAA",F=h.lineColor||R,W=h.lineWidth;isNaN(W)&&(W=1);var V=h.opacity;(isNaN(V)||V<0||V>1)&&(V=1),this.renderer.attr(f,{fill:R,"fill-opacity":V,stroke:F,"stroke-opacity":V,"stroke-width":W,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var s=this.seriesGroups[e],r=-1!=s.type.indexOf("stacked"),n=(r||s.series.length,this._getColumnGroupsCount(s.orientation));(isNaN(n)||0==n)&&(n=1);var o=t.rangeLength>=1?t.itemWidth:.9*i,a=s.columnsMinWidth;isNaN(a)&&(a=1),isNaN(s.columnsMaxWidth)||(a=Math.min(s.columnsMaxWidth,a)),a>o&&t.length>0&&(o=Math.max(o,.9*i/t.length));var l=a;if(!r){var d=s.seriesGapPercent;(isNaN(d)||d<0)&&(d=10);var h=a;h*=1+(d/=100),l+=s.series.length*h}return{requiredWidth:l,availableWidth:o,targetWidth:Math.max(o/n,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],s=(i.series[t],"horizontal"==i.orientation),r=this._plotRect;s&&(r={x:r.y,y:r.x,width:r.height,height:r.width});var n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){var o=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(o=1);var a=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width),d=0,h=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(h)>Math.round(l.availableWidth/o))&&(o=1,a=0),d-=h*o/2,d+=h*a;var c=i.columnsGapPercent;c<=0&&(c=0),(isNaN(c)||c>=100)&&(c=25);var u=h*(c/=100);u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(h)>Math.round(l.availableWidth)&&(u=0),h-=u,d+=u/2;var p=i.seriesGapPercent;(isNaN(p)||p<0)&&(p=10);var m=-1!=i.type.indexOf("stacked"),f=h;m||(f/=i.series.length);var g=this._get([i.seriesGap,h*p/100/(i.series.length-1)]);(1==i.polar||1==i.spider||m||i.series.length<=1)&&(g=0);var v=g*(i.series.length-1);i.series.length>1&&v>h-1*i.series.length&&(g=(v=h-1*i.series.length)/Math.max(1,i.series.length-1));var x=f-v/i.series.length,w=0,y=i.columnsMaxWidth;isNaN(y)||x>y&&(w=x-y,x=y);var b=0;if(m)b=w/2;else b=(h-x*i.series.length-v)/2+x*t+Math.max(0,t)*g;return{width:x,offset:d+b}}},_renderColumnSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){this._getDataLen(t);var r="horizontal"==s.orientation,n=i;r&&(n={x:i.y,y:i.x,width:i.height,height:i.width});var o=this._calcGroupOffsets(t,n);if(o&&0!=o.xoffsets.length){var a;1!=s.polar&&1!=s.spider||(a=this._getPolarAxisCoords(t,n));var l={groupIndex:t,rect:i,vertical:!r,seriesCtx:[],renderData:o,polarAxisCoords:a};l.columnGroupWidth=this._getColumnGroupWidth(t,o.xoffsets,r?n.height:n.width);for(var d=this._getGroupGradientType(t),h=0;h<s.series.length;h++){var c=s.series[h];if(!c.customDraw){c.dataField;var u=this._getAnimProps(t,h),p=u.enabled&&!this._isToggleRefresh&&o.xoffsets.length<100?u.duration:0,m=this._getColumnSerieWidthAndOffset(t,h),f=this._isSerieVisible(t,h),g=this._getSerieSettings(t,h),v=this._getColors(t,h,NaN,this._getGroupGradientType(t),4),x=[];if(e.isFunction(c.colorFunction)&&!a)for(var w=o.xoffsets.first;w<=o.xoffsets.last;w++)x.push(this._getColors(t,h,w,d,4));var y={seriesIndex:h,serieColors:v,itemsColors:x,settings:g,columnWidth:m.width,xAdjust:m.offset,isVisible:f};l.seriesCtx.push(y)}}this._animColumns(l,0==p?1:0);var b=this;this._enqueueAnimation("series",void 0,void 0,p,function(e,t,i){b._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&e>s&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,n){var o=this.seriesGroups[t],a=this._getPercent(o.columnsTopWidthPercent,100,0,100),l=this._getPercent(o.columnsBottomWidthPercent,100,0,100);0==a&&0==l&&(l=100);for(var d=this._getPercent(o.columnsNeckHeightPercent,NaN,0,100)/100,h=this._getPercent(o.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var m,f=(D=i[p]).seriesIndex,g=(o.series[f],e.offsets[f][s].from),v=e.offsets[f][s].to,x=e.xoffsets.data[s],w=D.isVisible;w||(v=g);var y=this._elementRenderInfo;if(w&&y&&y.length>t&&y[t].series.length>f){var b=e.xoffsets.xvalues[s];!(m=y[t].series[f][b])||isNaN(m.from)||isNaN(m.to)||(g=m.from+(g-m.from)*n,v=m.to+(v-m.to)*n,x=m.xoffset+(x-m.xoffset)*n)}m||(v=g+(v-g)*(r?1:n)),isNaN(g)&&(g=isNaN(u)?e.baseOffset:u),u=!isNaN(v)&&r?v:g,isNaN(v)&&(v=g);var _={from:g,to:v,xOffset:x};100==a&&100==l||(_.funnel=!0,_.toWidthPercent=a,_.fromWidthPercent=l),c.push(_)}if(r&&c.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var j=0,q=0,T=-1/0,C=1/0,S=1/0,k=-1/0,I=0;I<c.length;I++){var D;(D=i[I]).isVisible&&(c[I].to>=c[I].from?(q+=c[I].to-c[I].from,S=Math.min(S,c[I].from),k=Math.max(k,c[I].to)):(j+=c[I].from-c[I].to,T=Math.max(T,c[I].from),C=Math.min(C,c[I].to)))}var P=j,A=q;j*=n,q*=n;var M=0,H=0;for(I=0;I<c.length;I++){var B;if(c[I].to>=c[I].from)(B=c[I].to-c[I].from)+H>q&&(B=Math.max(0,q-H),c[I].to=c[I].from+B),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&A*d>=H?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-S)/A*(a-l)+l,!isNaN(d)&&A*d>=0+(H+B)?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-S)/A*(a-l)+l),H+=B;else(B=c[I].from-c[I].to)+M>j&&(B=Math.max(0,j-M),c[I].to=c[I].from-B),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&P*d>=M?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-T)/P*(a-l)+l,!isNaN(d)&&P*d>=0+(M+B)?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-T)/P*(a-l)+l),M+=B}}return c},_columnAsPieSlice:function(t,i,s,r){var n=this._toPolarCoord(s,i,r.x,r.y),o=this._toPolarCoord(s,i,r.x,r.y+r.height),a=e.jqx._ptdist(s.x,s.y,o.x,o.y),l=e.jqx._ptdist(s.x,s.y,n.x,n.y),d=i.width,h=180*Math.abs(s.startAngle-s.endAngle)/Math.PI,c=-(r.x-i.x)*h/d,u=-(r.x+r.width-i.x)*h/d,p=s.startAngle;if(c-=p=360*p/(2*Math.PI),u-=p,t)if(null!=t.element){var m=this.renderer.pieSlicePath(s.x,s.y,a,l,u,c,0);m+=" Z",this.renderer.attr(t.element,{d:m})}else t.element=this.renderer.pieslice(s.x,s.y,a,l,u,c,0);return{fromAngle:u,toAngle:c,innerRadius:a,outerRadius:l}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var s=this,r=t.groupIndex,n=this.seriesGroups[r],o=t.renderData,a=-1!=n.type.indexOf("waterfall"),l=this._getXAxis(r),d=-1!=n.type.indexOf("stacked"),h=t.polarAxisCoords,c=(this._getGroupGradientType(r),t.columnGroupWidth.targetWidth,-1),u=0;u<n.series.length;u++)if(this._isSerieVisible(r,u)){c=u;break}var p=NaN,m=NaN;for(u=0;u<t.seriesCtx.length;u++){var f=t.seriesCtx[u];(isNaN(p)||p>f.xAdjust)&&(p=f.xAdjust),(isNaN(m)||m<f.xAdjust+f.columnWidth)&&(m=f.xAdjust+f.columnWidth)}var g=Math.abs(m-p),v=this._get([n.columnsGapPercent,25])/100;(isNaN(v)<0||v>=1)&&(v=.25);for(var x=v*g,w=t.renderData.xoffsets,y=-1,b={},_=1==n.skipOverlappingPoints,j=w.first;j<=w.last;j++){var q=w.data[j];if(!isNaN(q)&&!(-1!=y&&Math.abs(q-y)<g-1+x&&_)){y=q;var T=this._getColumnVOffsets(o,r,t.seriesCtx,j,d,i),C=!1;if(a)for(var S=0;S<n.series.length;S++)n.series[S].summary&&w.xvalues[j][n.series[S].summary]&&(C=!0);for(S=0;S<t.seriesCtx.length;S++){var k=(f=t.seriesCtx[S]).seriesIndex,I=n.series[k],D=T[S].from,P=T[S].to,A=T[S].xOffset,M=(t.vertical?t.rect.x:t.rect.y)+f.xAdjust,H=f.settings,B=0!=f.itemsColors.length?f.itemsColors[j-o.xoffsets.first]:f.serieColors,z=this._isSerieVisible(r,k);if(z){var E={x:q=e.jqx._ptrnd(M+A),width:f.columnWidth};T[S].funnel&&(E.fromWidthPercent=T[S].fromWidthPercent,E.toWidthPercent=T[S].toWidthPercent);var L=!0;t.vertical?(E.y=D,E.height=P-D,E.height<0&&(E.y+=E.height,E.height=-E.height,L=!1)):(E.x=D<P?D:P,E.width=Math.abs(D-P),L=D-P<0,E.y=q,E.height=f.columnWidth);var N=D-P;if(!isNaN(N)){N=Math.abs(N);var O=void 0,R=s._getRenderInfo(r,k,j),F=R.element,W=R.labelElement,V=null==F;if(W&&(s.renderer.removeElement(W),W=void 0),h){var G={element:F};O=this._columnAsPieSlice(G,t.rect,h,E),F=G.element;B=this._getColors(r,k,void 0,"radialGradient",O.outerRadius)}else if(T[S].funnel){var U=this._getTrapezoidPath(e.extend({},E),t.vertical,L);V?F=this.renderer.path(U,{}):this.renderer.attr(F,{d:U})}else V?F=this.renderer.rect(E.x,E.y,t.vertical?E.width:0,t.vertical?0:E.height):1==t.vertical?this.renderer.attr(F,{x:E.x,y:E.y,height:N}):this.renderer.attr(F,{x:E.x,y:E.y,width:N});if(N<1&&(1!=i||h)?this.renderer.attr(F,{display:"none"}):this.renderer.attr(F,{display:"block"}),V&&this.renderer.attr(F,{fill:B.fillColor,"fill-opacity":H.opacity,"stroke-opacity":H.opacity,stroke:B.lineColor,"stroke-width":H.stroke,"stroke-dasharray":H.dashStyle}),W&&this.renderer.removeElement(W),!z||0==N&&i<1)R={element:F,labelElement:W},s._setRenderInfo(r,k,j,R);else{if(a&&0!=this._get([I.showWaterfallLines,n.showWaterfallLines])){if(!d||d&&S==c){var Y=d?-1:S;if(1==i&&!isNaN(o.offsets[S][j].from)&&!isNaN(o.offsets[S][j].to)){var K=b[Y];if(null!=K){var X={x:K.x,y:e.jqx._ptrnd(K.y)},Z={x:q,y:X.y},$=n.columnsTopWidthPercent/100;isNaN($)?$=1:($>1||$<0)&&($=1);var J=n.columnsBottomWidthPercent/100;isNaN(J)?J=1:(J>1||J<0)&&(J=1);var Q=t.vertical?E.width:E.height;if(X.x=X.x-Q/2+Q/2*$,C){var ee=Q*$/2;Z.x=Z.x+Q/2-(l.flip?-ee:ee)}else{ee=Q*J/2;Z.x=Z.x+Q/2-(l.flip?-ee:ee)}t.vertical||(this._swapXY([X]),this._swapXY([Z])),this.renderer.line(X.x,X.y,Z.x,Z.y,{stroke:K.color,"stroke-width":H.stroke,"stroke-opacity":H.opacity,"fill-opacity":H.opacity,"stroke-dasharray":H.dashStyle})}}}1==i&&0!=N&&(b[d?-1:S]={y:P,x:t.vertical?E.x+E.width:E.y+E.height,color:B.lineColor})}if(h){this._toPolarCoord(h,t.rect,E.x+E.width/2,E.y),Q=this._showLabel(r,k,j,E,void 0,void 0,!0);var te=O.outerRadius+10,ie=this._adjustTextBoxPosition(h.x,h.y,Q,te,(O.fromAngle+O.toAngle)/2,!0,!1,!1);W=this._showLabel(r,k,j,{x:ie.x,y:ie.y},void 0,void 0,!1,!1,!1)}else W=this._showLabel(r,k,j,E,void 0,void 0,!1,!1,L);R={element:F,labelElement:W},s._setRenderInfo(r,k,j,R),1==i&&this._installHandlers(F,"column",r,k,j)}}}}}}},_getTrapezoidPath:function(t,i,s){var r="",n=t.fromWidthPercent/100,o=t.toWidthPercent/100;if(!i){var a=t.width;t.width=t.height,t.height=a,a=t.x,t.x=t.y,t.y=a}var l=t.x+t.width/2,d=[{x:l-t.width*(s?o:n)/2,y:t.y+t.height},{x:l-t.width*(s?n:o)/2,y:t.y},{x:l+t.width*(s?n:o)/2,y:t.y},{x:l+t.width*(s?o:n)/2,y:t.y+t.height}];i||this._swapXY(d),r+="M "+e.jqx._ptrnd(d[0].x)+","+e.jqx._ptrnd(d[0].y);for(var h=1;h<d.length;h++)r+=" L "+e.jqx._ptrnd(d[h].x)+","+e.jqx._ptrnd(d[h].y);return r+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,s){var r=this,n=r.seriesGroups[t];if(n.series&&0!=n.series.length){var o="horizontal"==n.orientation,a=i;o&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=r._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var d;a.width;(n.polar||n.spider)&&2*(d=r._getPolarAxisCoords(t,a)).r;r._alignValuesWithTicks(t);for(var h=r._getGroupGradientType(t),c=[],u=0;u<n.series.length;u++)c[u]=r._getColumnSerieWidthAndOffset(t,u);for(u=0;u<n.series.length;u++)if(this._isSerieVisible(t,u)){var p=r._getSerieSettings(t,u),m=n.series[u];if(!m.customDraw){var f=e.isFunction(m.colorFunction)?void 0:r._getColors(t,u,NaN,h),g={rect:i,inverse:o,groupIndex:t,seriesIndex:u,symbolType:m.symbolType,symbolSize:m.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-dasharray":p.dashStyle,gradientType:h,colors:f,renderData:l,polarAxisCoords:d,columnsInfo:c,isOHLC:s,items:[],self:r},v=r._getAnimProps(t,u),x=v.enabled&&!r._isToggleRefresh&&l.xoffsets.length<5e3?v.duration:0;r._animCandleStick(g,0),r._enqueueAnimation("series",void 0,void 0,x,function(e,t,i){r._animCandleStick(t,i)},g)}}}}},_animCandleStick:function(t,i){var s=["Open","Low","Close","High"],r=t.columnsInfo[t.seriesIndex].width,n=t.self.seriesGroups[t.groupIndex],o=t.renderData.xoffsets,a=-1,l=Math.abs(o.data[o.last]-o.data[o.first]);l*=i;for(var d=NaN,h=NaN,c=0;c<t.columnsInfo.length;c++){var u=t.columnsInfo[c];(isNaN(d)||d>u.offset)&&(d=u.offset),(isNaN(h)||h<u.offset+u.width)&&(h=u.offset+u.width)}for(var p=Math.abs(h-d),m=0!=n.skipOverlappingPoints,f=o.first;f<=o.last;f++){var g=o.data[f];if(!isNaN(g)&&!(-1!=a&&Math.abs(g-a)<p&&m)){if(Math.abs(o.data[f]-o.data[o.first])>l)break;a=g;var v=t.items[f]=t.items[f]||{};for(var c in s){var x=t.self._getDataValueAsNumber(f,n.series[t.seriesIndex]["dataField"+s[c]],t.groupIndex);if(isNaN(x))break;var w=t.renderData.offsets[t.seriesIndex][f][s[c]];if(isNaN(w))break;v[s[c]]=w}if(g+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var y=this._toPolarCoord(t.polarAxisCoords,this._plotRect,g,w);g=y.x,w=y.y}for(var b in g=e.jqx._ptrnd(g),s)v[b]=e.jqx._ptrnd(v[b]);var _=t.colors;if(_||(_=t.self._getColors(t.groupIndex,t.seriesIndex,f,t.gradientType)),t.isOHLC){var j="M"+g+","+v.Low+" L"+g+","+v.High+" M"+(g-r/2)+","+v.Open+" L"+g+","+v.Open+" M"+(g+r/2)+","+v.Close+" L"+g+","+v.Close;t.inverse&&(j="M"+v.Low+","+g+" L"+v.High+","+g+" M"+v.Open+","+(g-r/2)+" L"+v.Open+","+g+" M"+v.Close+","+g+" L"+v.Close+","+(g+r/2)),(q=v.lineElement)||(q=this.renderer.path(j,{}),this.renderer.attr(q,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=q),1==i&&this._installHandlers(q,"column",t.groupIndex,t.seriesIndex,f)}else{var q;(q=v.lineElement)||(q=t.inverse?this.renderer.line(v.Low,g,v.High,g):this.renderer.line(g,v.Low,g,v.High),this.renderer.attr(q,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=q);var T=v.stickElement;if(g-=r/2,!T){var C=_.fillColor;v.Close<=v.Open&&_.fillColorAlt&&(C=_.fillColorAlt),T=t.inverse?this.renderer.rect(Math.min(v.Open,v.Close),g,Math.abs(v.Close-v.Open),r):this.renderer.rect(g,Math.min(v.Open,v.Close),r,Math.abs(v.Close-v.Open)),this.renderer.attr(T,{fill:C,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.stickElement=T}1==i&&this._installHandlers(T,"column",t.groupIndex,t.seriesIndex,f)}}}},_renderScatterSeries:function(t,i,s){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var n=-1!=r.type.indexOf("bubble"),o="horizontal"==r.orientation,a=i;o&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var d,h=a.width;(r.polar||r.spider)&&(h=2*(d=this._getPolarAxisCoords(t,a)).r);this._alignValuesWithTicks(t);var c=this._getGroupGradientType(t);s||(s="to");for(var u=0;u<r.series.length;u++){var p=this._getSerieSettings(t,u),m=r.series[u];if(!m.customDraw){var f=m.dataField,g=e.isFunction(m.colorFunction),v=this._getColors(t,u,NaN,c),x=NaN,w=NaN;if(n)for(var y=l.xoffsets.first;y<=l.xoffsets.last;y++){if("number"!=typeof(k=this._getDataValueAsNumber(y,m.radiusDataField||m.sizeDataField,t)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(k)||((isNaN(x)||k<x)&&(x=k),(isNaN(w)||k>w)&&(w=k))}var b=m.minRadius||m.minSymbolSize;isNaN(b)&&(b=h/50);var _=m.maxRadius||m.maxSymbolSize;isNaN(_)&&(_=h/25),b>_&&(_=b);var j=m.radius;j=isNaN(j)&&!isNaN(m.symbolSize)?"circle"==m.symbolType?m.symbolSize/2:m.symbolSize:5;var q=this._getAnimProps(t,u),T=q.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?q.duration:0,C={groupIndex:t,seriesIndex:u,symbolType:m.symbolType,symbolSize:m.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-width-symbol":p.strokeSymbol,"stroke-dasharray":p.dashStyle,items:[],polarAxisCoords:d},S=void 0;for(y=l.xoffsets.first;y<=l.xoffsets.last;y++){var k;if("number"==typeof(k=this._getDataValueAsNumber(y,f,t))){var I=l.xoffsets.data[y],D=l.xoffsets.xvalues[y],P=l.offsets[u][y][s];if(!(P<a.y||P>a.y+a.height||isNaN(I)||isNaN(P))){if(o){var A=I;I=P,P=A+i.y}else I+=i.x;if(!(!g&&S&&this.enableSampling&&e.jqx._ptdist(S.x,S.y,I,P)<1)){S={x:I,y:P};var M=j;if(n){var H=this._getDataValueAsNumber(y,m.radiusDataField||m.sizeDataField,t);if("number"!=typeof H)continue;M=b+(_-b)*(H-x)/Math.max(1,w-x),isNaN(M)&&(M=b)}l.offsets[u][y].radius=M;var B=NaN,z=NaN,E=0,L=this._elementRenderInfo;if(null!=D&&L&&L.length>t&&L[t].series.length>u){var N=L[t].series[u][D];if(N&&!isNaN(N.to)){if(B=N.to,z=N.xoffset,E=j,o){A=z;z=B,B=A+i.y}else z+=i.x;n&&(E=b+(_-b)*(N.valueRadius-x)/Math.max(1,w-x),isNaN(E)&&(E=b))}}g&&(v=this._getColors(t,u,y,c)),C.items.push({from:E,to:M,itemIndex:y,fill:v.fillColor,stroke:v.lineColor,x:I,y:P,xFrom:z,yFrom:B})}}}}this._animR(C,0);var O=this;this._enqueueAnimation("series",void 0,void 0,T,function(e,t,i){O._animR(t,i)},C)}}}}},_animR:function(t,i){for(var s=t.items,r=t.symbolType||"circle",n=t.symbolSize,o=0;o<s.length;o++){var a=s[o],l=a.x,d=a.y,h=Math.round((a.to-a.from)*i+a.from);if(isNaN(a.yFrom)||(d=a.yFrom+(d-a.yFrom)*i),isNaN(a.xFrom)||(l=a.xFrom+(l-a.xFrom)*i),t.polarAxisCoords){var c=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,d);l=c.x,d=c.y}l=e.jqx._ptrnd(l),d=e.jqx._ptrnd(d),h=e.jqx._ptrnd(h);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,s[o].itemIndex),p=u.element,m=u.labelElement;"circle"==r?(p||(p=this.renderer.circle(l,d,h),this.renderer.attr(p,{fill:a.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:a.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(p,void 0,void 0,h):this.renderer.attr(p,{r:h,cy:d,cx:l})):(p&&this.renderer.removeElement(p),p=this._drawSymbol(r,l,d,a.fill,t["fill-opacity"],a.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],n||h)),m&&this.renderer.removeElement(m),m=this._showLabel(t.groupIndex,t.seriesIndex,a.itemIndex,{x:l-h,y:d-h,width:2*h,height:2*h}),i>=1&&this._installHandlers(p,"circle",t.groupIndex,t.seriesIndex,a.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,s[o].itemIndex,{element:p,labelElement:m})}},_showMultiSeriesToolTip:function(e,t,i){for(var s=this,r='<div style="text-align:left">',n="",o=0;o<s.seriesGroups.length;o++)if(!s._isPieGroup(o)){var a=s._getXAxis(o),l=s._getValueAxis(o),d=s.seriesGroups[o],h=this._getAxisSettings(a),c=h.toolTipFormatSettings,u=h.toolTipFormatFunction,p=s._getDataValue(i,a.dataField,o);null!=a.dataField&&""!=a.dataField||(p=i),"date"==a.type&&(p=s._castAsDate(p,(c?c.dateFormat:void 0)||a.dateFormat)),u||c||"date"!=a.type||(u=this._getDefaultDTFormatFn(a.baseUnit||"day"));var m=a.displayText||a.dataField||"";""!=m&&(m+=": ");var f=m+s._formatValue(p,c,u,o,g,i);n!=f&&(""!=n&&(r+="<br />"),r+=f+"<br /><br />",n=f);for(var g=0;g<d.series.length;g++){var v=d.series[g];if(0!=d.showToolTips&&0!=v.showToolTips&&s._isSerieVisible(o,g)){var x=s._get([v.toolTipFormatSettings,d.toolTipFormatSettings,l.toolTipFormatSettings,s.toolTipFormatSettings]),w=s._get([v.toolTipFormatFunction,d.toolTipFormatFunction,l.toolTipFormatFunction,s.toolTipFormatFunction]),y=s._getFormattedValue(o,g,i,x,w);r+="<span style='color:"+s._getColors(o,g,i).lineColor+";'>"+y+"</span><br />\n"}}}var b=this._get([s.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),_=this._get([s.toolTipBackground,"#FFFFFF"]),j=this._get([s.toolTipLineColor,s._defaultLineColor]),q=this._get([s.toolTipOpacity,1]);r+="</div>";var T=this.getItemCoord(s._ttEl.gidx,s._ttEl.sidx,s._ttEl.iidx);s._createTooltip(T,s.seriesGroups[s._ttEl.gidx],r,{css:b,fill:_,stroke:j,fillOpacity:q,symbolSize:3})},_showToolTip:function(t,i,s,r,n){var o=this,a=o._getXAxis(s),l=o._getValueAxis(s);if(!o._ttEl||s!=o._ttEl.gidx||r!=o._ttEl.sidx||n!=o._ttEl.iidx){var d=o.seriesGroups[s],h=d.series[r],c=o.enableCrosshairs;o._pointMarker?(t=parseInt(o._pointMarker.x+5),i=parseInt(o._pointMarker.y-5)):c=!1;var u=c&&0==o.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);o._ttEl;if(0!=d.showToolTips&&0!=h.showToolTips){o._ttEl||(o._ttEl={}),o._ttEl.sidx=r,o._ttEl.gidx=s,o._ttEl.iidx=n;for(var p=0,m=0;m<o.seriesGroups.length;m++)for(var f=0;f<o.seriesGroups[m].series.length;f++)p++;if(o.showToolTipsOnAllSeries&&!o._isPieGroup(s)&&p>1)o._showMultiSeriesToolTip(t,i,n);else{var g=o._get([h.toolTipFormatSettings,d.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings]),v=o._get([h.toolTipFormatFunction,d.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction]),x=o._getColors(s,r,n),w=o._getDataValue(n,a.dataField,s);null!=a.dataField&&""!=a.dataField||(w=n),"date"==a.type&&(w=o._castAsDate(w,(g?g.dateFormat:void 0)||a.dateFormat));var y="";if(e.isFunction(v)){var b={},_=0;for(var j in h)0==j.indexOf("dataField")&&(b[j.substring(9,j.length).toLowerCase()]=o._getDataValue(n,h[j],s),_++);0==_?b=o._getDataValue(n,void 0,s):1==_&&(b=b[""]),y=v(b,n,h,d,w,a)}else{y=o._getFormattedValue(s,r,n,g,v);var q=this._getAxisSettings(a),T=q.toolTipFormatSettings,C=q.toolTipFormatFunction;C||T||"date"!=a.type||(C=this._getDefaultDTFormatFn(a.baseUnit||"day"));var S=o._formatValue(w,T,C,s,r,n);if(o._isPieGroup(s))w=o._getDataValue(n,h.displayText||h.dataField,s),y=(S=o._formatValue(w,T,C,s,r,n))+": "+y;else{var k=a.displayText||a.dataField||"";y=k.length>0?k+": "+S+"<br>"+y:S+"<br>"+y}}o.renderer.getRect();if(c){var I=e.jqx._ptrnd(o._pointMarker.x),D=e.jqx._ptrnd(o._pointMarker.y),P=o.crosshairsColor||o._defaultLineColor;if(d.polar||d.spider){var A=this._getPolarAxisCoords(s,this._plotRect);if(e.jqx._ptdist(I,D,A.x,A.y)>A.r)return;var M=Math.atan2(D-A.y,I-A.x),H=Math.cos(M)*A.r+A.x,B=Math.sin(M)*A.r+A.y;o._ttEl.vLine?o.renderer.attr(o._ttEl.vLine,{x1:A.x,y1:A.y,x2:H,y2:B}):o._ttEl.vLine=o.renderer.line(A.x,A.y,H,B,{stroke:P,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""})}else o._ttEl.vLine&&o._ttEl.hLine?(o.renderer.attr(o._ttEl.vLine,{x1:I,x2:I}),o.renderer.attr(o._ttEl.hLine,{y1:D,y2:D})):(o._ttEl.vLine=o.renderer.line(I,o._plotRect.y,I,o._plotRect.y+o._plotRect.height,{stroke:P,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""}),o._ttEl.hLine=o.renderer.line(o._plotRect.x,D,o._plotRect.x+o._plotRect.width,D,{stroke:P,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""}))}if(!u&&0!=o.showToolTips){var z=this._get([h.toolTipClass,d.toolTipClass,o.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),E=this._get([h.toolTipBackground,d.toolTipBackground,o.toolTipBackground,"#FFFFFF"]),L=this._get([h.toolTipLineColor,d.toolTipLineColor,o.toolTipLineColor,x.lineColor]),N=this._get([h.toolTipOpacity,d.toolTipOpacity,o.toolTipOpacity,1]),O=this.getItemCoord(s,r,n),R=0;o._pointMarker&&o._pointMarker.element&&(R=h.symbolSizeSelected,isNaN(R)&&(R=h.symbolSize),(isNaN(R)||R>50||R<0)&&(R=d.symbolSize),(isNaN(R)||R>50||R<0)&&(R=8)),o._createTooltip(O,d,y,{css:z,fill:E,stroke:L,fillOpacity:N,symbolSize:R})}}}}},_fitTooltip:function(e,t,i,s,r){var n={},o=2+r/2;if(t.x-i.width-7-o>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+o<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-o-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-o-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+o<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+o,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(var a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(t,i,s,r){var n=this,o=i.type,a=!1,l=n._ttEl.box;if(!l){a=!0;var d=1e7;(l=n._ttEl.box=document.createElement("div")).style.position="absolute",l.style.cursor="default",e(h).css({"z-index":d,"box-sizing":"content-box"}),e(l).css({"z-index":d}),e(document.body).append(l);var h=document.createElement("div");h.id="arrowOuterDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute",e(h).css({"z-index":d+1,"box-sizing":"content-box"});var c=document.createElement("div");c.id="arrowInnerDiv",c.style.width="0px",c.style.height="0px",c.style.position="absolute";var u=document.createElement("div");u.id="contentDiv",u.style.position="absolute",e(u).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),e(u).addClass("jqx-rc-all"),e(u).appendTo(e(l)),e(h).appendTo(e(l)),e(c).appendTo(e(l)),e(c).css({"z-index":d+2,"box-sizing":"content-box"})}if(s&&0!=s.length){u=e(l).find("#contentDiv")[0],h=e(l).find("#arrowOuterDiv")[0],(c=e(l).find("#arrowInnerDiv")[0]).style.opacity=h.style.opacity=r.fillOpacity,u.style.backgroundColor=r.fill,u.style.borderColor=r.stroke,u.style.opacity=r.fillOpacity;var p="<span class='"+r.css+"'>"+s+"</span>";e(u).html(p);var m=this._measureHtml(p,"jqx-rc-all jqx-button"),f=n._plotRect;if(!(m.width>f.width||m.height>f.height)){var g={width:m.width,height:m.height},v="",x=n._isColumnType(o),w=Math.max(t.x,f.x),y=Math.max(t.y,f.y);if("dataPoint"==n.toolTipAlignment){if(-1!=o.indexOf("pie")||-1!=o.indexOf("donut")){var b=(t.fromAngle+t.toAngle)/2;b*=Math.PI/180;var _=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;w=t.x=t.center.x+Math.cos(b)*_,y=t.y=t.center.y-Math.sin(b)*_,t.width=t.height=1}else x&&(i.polar||i.spider)&&(t.width=t.height=1);var j=this._fitTooltip(this._plotRect,t,g,i,r.symbolSize);""!=j.arrowLocation&&(v=j.arrowLocation,w=j.x,y=j.y,g.width=j.width,g.height=j.height)}else v="";"top"==v||"bottom"==v?(g.height+=7,w-=3.5,"bottom"==v&&(y-=7)):"left"!=v&&"right"!=v||(g.width+=7,y-=3.5,"right"==v&&(w-=7)),w+g.width>f.x+f.width&&(v="",w=f.x+f.width-g.width),y+g.height>f.y+f.height&&(v="",y=f.y+f.height-g.height);var q={x:0,y:0},T={x:0,y:0};e(u).css({width:m.width,height:m.height,left:0,top:0}),h.style["margin-top"]=h.style["margin-left"]=0,c.style["margin-top"]=c.style["margin-left"]=0,u.style["margin-top"]=u.style["margin-left"]=0;var C="7px solid",S="7px solid transparent";switch(v){case"left":q={x:0,y:(m.height-7)/2},T={x:7,y:0},u.style["margin-left"]="7px",h.style["margin-left"]="0px",h.style["margin-top"]=q.y+"px",h.style["border-left"]="",h.style["border-right"]=C+" "+r.stroke,h.style["border-top"]=S,h.style["border-bottom"]=S,c.style["margin-left"]="1px",c.style["margin-top"]=q.y+"px",c.style["border-left"]="",c.style["border-right"]=C+" "+r.fill,c.style["border-top"]=S,c.style["border-bottom"]=S;break;case"right":q={x:g.width-7,y:(m.height-7)/2},T={x:0,y:0},h.style["margin-left"]=q.x+"px",h.style["margin-top"]=q.y+"px",h.style["border-left"]=C+" "+r.stroke,h.style["border-right"]="",h.style["border-top"]=S,h.style["border-bottom"]=S,c.style["margin-left"]=q.x-1+"px",c.style["margin-top"]=q.y+"px",c.style["border-left"]=C+" "+r.fill,c.style["border-right"]="",c.style["border-top"]=S,c.style["border-bottom"]=S;break;case"top":q={x:g.width/2-3.5,y:0},T={x:0,y:7},u.style["margin-top"]=T.y+"px",h.style["margin-left"]=q.x+"px",h.style["border-top"]="",h.style["border-bottom"]=C+" "+r.stroke,h.style["border-left"]=S,h.style["border-right"]=S,c.style["margin-left"]=q.x+"px",c.style["margin-top"]="1px",c.style["border-top"]="",c.style["border-bottom"]=C+" "+r.fill,c.style["border-left"]=S,c.style["border-right"]=S;break;case"bottom":q={x:g.width/2-3.5,y:g.height-7},T={x:0,y:0},h.style["margin-left"]=q.x+"px",h.style["margin-top"]=q.y+"px",h.style["border-top"]=C+" "+r.stroke,h.style["border-bottom"]="",h.style["border-left"]=S,h.style["border-right"]=S,c.style["margin-left"]=q.x+"px",c.style["margin-top"]=q.y-1+"px",c.style["border-top"]=C+" "+r.fill,c.style["border-bottom"]="",c.style["border-left"]=S,c.style["border-right"]=S}""==v?(e(h).hide(),e(c).hide()):(e(h).show(),e(c).show()),e(l).css({width:g.width+"px",height:g.height+"px"});var k=n.host.coord();a&&(e(l).fadeOut(0,0),l.style.left=w+k.left+"px",l.style.top=y+k.top+"px"),e(l).clearQueue(),e(l).animate({left:w+k.left,top:y+k.top,opacity:1},n.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}}else e(l).fadeTo(0,0)},_measureHtml:function(t,i){var s=this._measureDiv;s||(this._measureDiv=s=document.createElement("div"),s.style.position="absolute",s.style.cursor="default",s.style.overflow="hidden",s.style.display="none",e(s).addClass(i),this.host.append(s)),e(s).html(t);var r={width:e(s).width()+2,height:e(s).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(r.height+=3),r},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},s={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},r=e.tickMarks||{},n={visible:this._get([r.visible,e.showTickMarks,!0]),color:t._get([r.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([r.unitInterval,r.interval,e.tickMarksInterval]),step:t._get([r.step,e.tickMarksStep]),dashStyle:t._get([r.dashStyle,e.tickMarksDashStyle]),width:t._get([r.lineWidth,1]),size:t._get([r.size,4]),offsets:[]},o=e.title||{},a={visible:t._get([o.visible,!0]),text:t._get([e.description,o.text]),style:t._get([e.descriptionClass,o.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,o.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,o.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([o.rotationPoint,"centercenter"]),offset:t._get([o.offset,{x:0,y:0}])},l=e.line||{},d={visible:t._get([l.visible,!0]),color:t._get([l.color,s.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,s.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},h=e.padding||{};h={left:h.left||0,right:h.right||0,top:h.top||0,bottom:h.bottom||0};var c=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:s,tickMarks:n,line:d,title:a,labels:c,padding:h,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,c.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,c.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(t,i,s,r){for(var n=this.seriesGroups[t],o=n.series[i],a=isNaN(s)?void 0:this._getDataValue(s,o.dataField,t),l=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],d={},h=0;h<l.length;h++){var c=l[h],u="labels"+c,p="label"+c,m=c.substring(0,1).toLowerCase()+c.substring(1),f=void 0;n.labels&&"object"==typeof n.labels&&(f=n.labels[m]),o.labels&&"object"==typeof o.labels&&null!=o.labels[m]&&(f=o.labels[m]),f=this._get([o[u],o[p],f,n[u],n[p]]),e.isFunction(f)?d[m]=f(a,s,o,n):d[m]=f}d.class=d.class||this.toThemeProperty("jqx-chart-label-text",null),d.visible=this._get([d.visible,o.showLabels,n.showLabels,null!=o.labels||void 0,null!=n.labels||void 0]);var g=d.padding||1;return d.padding={left:this._get([g.left,isNaN(g)?1:g]),right:this._get([g.right,isNaN(g)?1:g]),top:this._get([g.top,isNaN(g)?1:g]),bottom:this._get([g.bottom,isNaN(g)?1:g])},d},_showLabel:function(e,t,i,s,r,n,o,a,l,d,h){this.seriesGroups[e].series[t];var c={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return o?c:void 0;if(s.width<0||s.height<0)return o?c:void 0;var p=u.angle;isNaN(d)||(p=d);var m=u.offset||{},f={x:m.x,y:m.y};isNaN(f.x)&&(f.x=0),isNaN(f.y)&&(f.y=0),r=r||u.horizontalAlignment||"center",n=n||u.verticalAlignment||"center";var g=this._getFormattedValue(e,t,i,void 0,void 0,!0),v=s.width,x=s.height;if(1==a&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=n&&"middle"!=n&&(n="top"==n?"bottom":"top",f.y*=-1),c=this.renderer.measureText(g,p,{class:u.class}),o)return c;var w=0,y=0;v>0&&(""==r||"center"==r?w+=(v-c.width)/2:"right"==r&&(w+=v-c.width)),x>0&&(""==n||"center"==n?y+=(x-c.height)/2:"bottom"==n&&(y+=x-c.height)),w+=s.x+f.x,y+=s.y+f.y;var b=this._plotRect;w<=b.x&&(w=b.x+2),y<=b.y&&(y=b.y+2);var _,j=Math.max(c.width,1),q=Math.max(c.height,1);y+q>=b.y+b.height&&(y=b.y+b.height-q-2),w+j>=b.x+b.width&&(w=b.x+b.width-j-2);var T=u.backgroundColor,C=u.borderColor,S=u.padding;if(T||C){_=this.renderer.beginGroup();s=this.renderer.rect(w-S.left,y-S.top,c.width+S.left+S.right,c.height+S.bottom+S.bottom,{fill:T||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:C||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1})}var k=this.renderer.text(g,w,y,c.width,c.height,p,{class:u.class,opacity:u.opacity||1},!1,"center","center");return h&&(h.x=w-S.left,h.y=y-S.top,h.width=c.width+S.left+S.right,h.height=c.height+S.bottom+S.bottom),this._isVML&&(this.renderer.removeElement(k),this.renderer.getContainer()[0].appendChild(k)),_&&this.renderer.endGroup(),_||k}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],s=isNaN(t)?void 0:i.series[t],r=1==this.enableAnimations;i.enableAnimations&&(r=1==i.enableAnimations),s&&s.enableAnimations&&(r=1==s.enableAnimations);var n=this.animationDuration;isNaN(n)&&(n=1e3);var o=i.animationDuration;if(isNaN(o)||(n=o),s){var a=s.animationDuration;isNaN(a)||(n=a)}return n>5e3&&(n=1e3),{enabled:r,duration:n}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;var r=this._getColors(e,t,s,this._getGroupGradientType(e)),n=this._getColors(e,t,s-1,this._getGroupGradientType(e));return r.fillColor!=n.fillColor},_renderLineSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("area"),n=-1!=s.type.indexOf("stacked"),o=n&&-1!=s.type.indexOf("100"),a=-1!=s.type.indexOf("spline"),l=-1!=s.type.indexOf("step"),d=-1!=s.type.indexOf("range"),h=1==s.polar||1==s.spider;if(h&&(l=!1),!l||!a){var c=this._getDataLen(t),u=(i.width,"horizontal"==s.orientation),p=1==this._getXAxis(t).flip,m=i;u&&(m={x:i.y,y:i.x,width:i.height,height:i.width});var f=this._calcGroupOffsets(t,m);if(f&&0!=f.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var g=s.series.length-1;g>=0;g--){var v=this._getSerieSettings(t,g),x={groupIndex:t,rect:m,serieIndex:g,swapXY:u,isArea:r,isSpline:a,isRange:d,isPolar:h,settings:v,segments:[],pointsLength:0};if(this._isSerieVisible(t,g)){var w=s.series[g];if(!w.customDraw){var y,b=e.isFunction(w.colorFunction),_=f.xoffsets.first,j=_,q=this._getColors(t,g,NaN,this._getGroupGradientType(t));do{var T=[],C=[],S=[],k=0,I=0,D=NaN,P=NaN,A=NaN;if(!(f.xoffsets.length<1)){var M=this._getAnimProps(t,g),H=M.enabled&&!this._isToggleRefresh&&f.xoffsets.length<1e4&&1!=this._isVML?M.duration:0,B=_;y=!1;this._getColors(t,g,_,this._getGroupGradientType(t));for(var z=void 0,E=_;E<=f.xoffsets.last;E++){_=E;var L=f.xoffsets.data[E],N=f.xoffsets.xvalues[E];if(!isNaN(L)&&(k=L=Math.max(L,1),I=f.offsets[g][E].to,!(!b&&z&&this.enableSampling&&e.jqx._ptdist(z.x,z.y,k,I)<1))){z={x:k,y:I};var O=f.offsets[g][E].from;if(isNaN(I)||isNaN(O)){if("connect"==w.emptyPointsDisplay)continue;if("zero"!=w.emptyPointsDisplay){y=!0;break}isNaN(I)&&(I=f.baseOffset),isNaN(O)&&(O=f.baseOffset)}if(b&&this._isColorTransition(t,g,f,_)&&T.length>1){_--;break}var R=this._elementRenderInfo;if(R&&R.length>t&&R[t].series.length>g){var F=R[t].series[g][N],W=(A=e.jqx._ptrnd(F?F.to:void 0),e.jqx._ptrnd(m.x+(F?F.xoffset:void 0)));S.push(u?{y:W,x:A,index:E}:{x:W,y:A,index:E})}j=E,v.stroke<2&&(I-m.y<=1&&(I=m.y+1),O-m.y<=1&&(O=m.y+1),m.y+m.height-I<=1&&(I=m.y+m.height-1),m.y+m.height-O<=1&&(O=m.y+m.height-1)),!r&&o&&(I<=m.y&&(I=m.y+1),I>=m.y+m.height&&(I=m.y+m.height-1),O<=m.y&&(O=m.y+1),O>=m.y+m.height&&(O=m.y+m.height-1)),k=(L=Math.max(L,1))+m.x,1==s.skipOverlappingPoints&&!isNaN(D)&&Math.abs(D-k)<=1||(!l||isNaN(D)||isNaN(P)||P!=I&&T.push(u?{y:k,x:e.jqx._ptrnd(P)}:{x:k,y:e.jqx._ptrnd(P)}),T.push(u?{y:k,x:e.jqx._ptrnd(I),index:E}:{x:k,y:e.jqx._ptrnd(I),index:E}),C.push(u?{y:k,x:e.jqx._ptrnd(O),index:E}:{x:k,y:e.jqx._ptrnd(O),index:E}),D=k,P=I,isNaN(A)&&(A=I))}}if(0!=T.length){var V=T[T.length-1].index;b&&(q=this._getColors(t,g,V,this._getGroupGradientType(t)));var G=m.x+f.xoffsets.data[B],U=m.x+f.xoffsets.data[j];if(r&&1==s.alignEndPointsWithIntervals){if(G>m.x&&(G=m.x),U<m.x+m.width&&(U=m.x+m.width),p){var Y=G;G=U,U=Y}}U=e.jqx._ptrnd(U),G=e.jqx._ptrnd(G);var K=f.baseOffset;A=e.jqx._ptrnd(A);var X=e.jqx._ptrnd(I)||K;d&&(T=T.concat(C.reverse())),x.pointsLength+=T.length;var Z={lastItemIndex:V,colorSettings:q,pointsArray:T,pointsStart:S,left:G,right:U,pyStart:A,pyEnd:X,yBase:K,labelElements:[],symbolElements:[]};x.segments.push(Z)}else _++}}while(_<f.xoffsets.first+f.xoffsets.length-1||y);this._linesRenderInfo[t][g]=x}}else this._linesRenderInfo[t][g]=x}var $=this._linesRenderInfo[t],J=[];for(var E in $)J.push($[E]);J=J.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&n&&J.reverse();for(E=0;E<J.length;E++){x=J[E];this._animateLine(x,0==H?1:0);var Q=this;this._enqueueAnimation("series",void 0,void 0,H,function(e,t,i){Q._animateLine(t,i)},x)}}}}},_animateLine:function(e,t){var i=e.settings,s=e.groupIndex,r=e.serieIndex,n=this.seriesGroups[s],o=n.series[r],a=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,d=!0;e.isPolar&&(isNaN(n.endAngle)||360==Math.round(Math.abs((isNaN(n.startAngle)?0:n.startAngle)-n.endAngle))||(d=!1)),0==o.endPointsConnect&&(d=!1);for(var h=0,c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(s,e.pointsLength,h,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(h+=u.pointsArray.length,""!=p){var m=p.split(" "),f=(m.length,p);f=""!=f?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,d,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:f}):(u.pathElement=this.renderer.path(f,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==m.length&&("none"!=a||l)){var x=o.symbolSize,w=this._plotRect;for(v=0;v<m.length;v++){var y=m[v].split(",");if(!((y={x:parseFloat(y[0]),y:parseFloat(y[1])}).x<w.x||y.x>w.x+w.width||y.y<w.y||y.y>w.y+w.height)){if("none"!=a){var b=this._getColors(s,r,u.pointsArray[v].index,this._getGroupGradientType(s)),_=this._drawSymbol(a,y.x,y.y,b.fillColorSymbol,i.opacity,b.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var j=(v>0?m[v-1]:m[v]).split(",");j={x:parseFloat(j[0]),y:parseFloat(j[1])};var q=(v<m.length-1?m[v+1]:m[v]).split(",");if(q={x:parseFloat(q[0]),y:parseFloat(q[1])},y=this._adjustLineLabelPosition(s,r,u.pointsArray[v].index,y,j,q)){var T=this._showLabel(s,r,u.pointsArray[v].index,{x:y.x,y:y.y,width:0,height:0});u.labelElements.push(T)}}}}}if(1==t&&"none"!=a)for(v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",s,r,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,n){var o=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(o){var a={x:s.x-o.width/2,y:0};return a.y=s.y-1.5*o.height,a}},_calculateLine:function(t,i,s,r,n,o,a,l,d){var h,c=this.seriesGroups[t];1!=c.polar&&1!=c.spider||(h=this._getPolarAxisCoords(t,this._plotRect));var u="",p=r.length;l||0!=n.length||(p=i*a-s);for(var m=0;m<p+1&&m<r.length;m++){m>0&&(u+=" ");var f=r[m].y,g=r[m].x,v=l?o:f,x=g;if(n&&n.length>m&&(v=n[m].y,x=n[m].x,(isNaN(v)||isNaN(x))&&(v=f,x=g)),x,p<=r.length&&m>0&&m==p&&(x=r[m-1].x,v=r[m-1].y),d?(g=e.jqx._ptrnd((g-v)*(l?a:1)+v),f=e.jqx._ptrnd(f)):(g=e.jqx._ptrnd((g-x)*a+x),f=e.jqx._ptrnd((f-v)*a+v)),h){var w=this._toPolarCoord(h,this._plotRect,g,f);g=w.x,f=w.y}u+=g+","+f}return u},_buildLineCmd:function(e,t,i,s,r,n,o,a,l,d,h,c){var u=e,p=c?o+","+i:i+","+o;!a||l||t||(u=p+" "+e+" "+(c?o+","+s:s+","+o)),h&&(u=this._getBezierPoints(u));var m=u.split(" ");if(0==m.length)return"";if(1==m.length){var f=m[0].split(",");return"M "+m[0]+" L"+(parseFloat(f[0])+1)+","+(parseFloat(f[1])+1)}var g=m[0].replace("M","");return a&&!l?u=t?"M "+g+" L "+g+(h?"":" L "+g+" ")+u:"M "+p+" L "+g+" "+u:h||(u="M "+g+" L "+g+" "+u),(l&&d||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("line"),n=i.series[t],o=n.dashStyle||i.dashStyle||"",a=n.opacity||i.opacity;(isNaN(a)||a<0||a>1)&&(a=1);var l=n.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||l>15)&&(l=s?2:r?3:1);var d=n.lineWidthSymbol;return isNaN(d)&&(d=1),{stroke:l,strokeSymbol:d,opacity:a,dashStyle:o}},_getColors:function(t,i,s,r,n){var o=this.seriesGroups[t],a=o.series[i],l=this._get([a.useGradientColors,o.useGradientColors,o.useGradient,!0]),d=this._getSeriesColors(t,i,s);d.fillColor||(d.fillColor=x,d.fillColorSelected=e.jqx.adjustColor(x,1.1),d.fillColorAlt=e.jqx.adjustColor(x,4),d.fillColorAltSelected=e.jqx.adjustColor(x,3),d.lineColor=d.symbolColor=e.jqx.adjustColor(x,.9),d.lineColorSelected=d.symbolColorSelected=e.jqx.adjustColor(x,.9));var h=[[0,1.4],[100,1]],c=[[0,1],[25,1.1],[50,1.4],[100,1]],u=NaN;if(isNaN(n)||(u=2==n?h:c),l){var p={};for(var m in d)p[m]=d[m];if(d=p,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var f="verticalLinearGradient"==r?u||h:u||c,g=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var v in g){var x=d[g[v]];x&&(d[g[v]]=this.renderer._toLinearGradient(x,"verticalLinearGradient"==r,f))}}else if("radialGradient"==r){var w;u=h;("pie"==o.type||"donut"==o.type||o.polar)&&null!=s&&this._renderData[t]&&this._renderData[t].offsets[i]&&(w=this._renderData[t].offsets[i][s],u=[[0,1.3],[90,1.2],[100,1]]),d.fillColor=this.renderer._toRadialGradient(d.fillColor,u,w),d.fillColorSelected=this.renderer._toRadialGradient(d.fillColorSelected,u,w)}}return d},_installHandlers:function(e,t,i,s,r){if(!this.enableEvents)return!1;var n=this,o=this.seriesGroups[i],a=this.seriesGroups[i].series[s],l=-1!=o.type.indexOf("line")||-1!=o.type.indexOf("area");l||0==o.enableSelection||0==a.enableSelection||this.renderer.addHandler(e,"mousemove",function(e){var t=n._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==s){var o=e.pageX||e.clientX||e.screenX,a=e.pageY||e.clientY||e.screenY,l=n.host.offset();o-=l.left,a-=l.top,n._mouseX==o&&n._mouseY==a||n._ttEl&&n._ttEl.gidx==i&&n._ttEl.sidx==s&&n._ttEl.iidx==r||n._startTooltipTimer(i,s,r)}}),0!=o.enableSelection&&0!=a.enableSelection&&this.renderer.addHandler(e,"mouseover",function(o){var a=n._selected;a&&a.isLineType&&"click"==a.linesUnselectMode&&(a.group!=i||a.series!=s)||n._select(e,t,i,s,r,r)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(n._hostClickTimer),n._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(n._isColumnType(o.type)&&n._unselect(),isNaN(r)||(e.stopImmediatePropagation(),n._raiseItemEvent("click",o,a,r)))})},_getHorizontalOffset:function(t,i,s,r){var n=this._plotRect;if(0==this._getDataLen(t))return{index:void 0,value:s};var o=this._calcGroupOffsets(t,this._plotRect);if(0==o.xoffsets.length)return{index:void 0,value:void 0};var a,l=s,d=r,h=this.seriesGroups[t];(h.polar||h.spider)&&(a=this._getPolarAxisCoords(t,n));this._getXAxis(t).flip;for(var c,u,p,m,f=o.xoffsets.first;f<=o.xoffsets.last;f++){var g=o.xoffsets.data[f],v=o.offsets[i][f].to,x=0;if(a){var w=this._toPolarCoord(a,n,g+n.x,v);g=w.x,v=w.y,x=e.jqx._ptdist(l,d,g,v)}else if("horizontal"==h.orientation){var y=v;v=g+=n.y,g=y,x=e.jqx._ptdist(l,d,g,v)}else g+=n.x,x=Math.abs(l-g);(isNaN(c)||c>x)&&(c=x,u=f,p=g,m=v)}return{index:u,value:o.xoffsets.data[u],polarAxisCoords:a,x:p,y:m}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var s=this._selected.group,r=this._selected.series,n=this.seriesGroups[s],o=n.series[r],a=this._plotRect;if(this.renderer&&((a=this.renderer.getRect()).x+=5,a.y+=5,a.width-=10,a.height-=10),t<a.x||t>a.x+a.width||i<a.y||i>a.y+a.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==n.orientation;a=this._plotRect;if(-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")){var d=this._getHorizontalOffset(s,this._selected.series,t,i),h=d.index;if(null==h)return;if(this._selected.item!=h){for(var c=this._linesRenderInfo[s][r].segments,u=0;h>c[u].lastItemIndex;)if(++u>=c.length)return;var p=c[u].pathElement,m=c[u].lastItemIndex;this._unselect(!1),this._select(p,"path",s,r,h,m)}var f=this._getSymbol(this._selected.group,this._selected.series);"none"==f&&(f="circle");var g=this._calcGroupOffsets(s,a),v=g.offsets[this._selected.series][h].to,x=v;-1!=n.type.indexOf("range")&&(x=g.offsets[this._selected.series][h].from);var w=l?t:i;if(i=!isNaN(x)&&Math.abs(w-x)<Math.abs(w-v)?x:v,isNaN(i))return;if(t=d.value,l){var y=t;t=i,i=y+a.y}else t+=a.x;if(d.polarAxisCoords&&(t=d.x,i=d.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var b=this._getSeriesColors(s,r,h),_=this._getSerieSettings(s,r),j=o.symbolSizeSelected;isNaN(j)&&(j=o.symbolSize),(isNaN(j)||j>50||j<0)&&(j=n.symbolSize),(isNaN(j)||j>50||j<0)&&(j=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:f,x:t,y:i,gidx:s,sidx:r,iidx:h},this._pointMarker.element=this._drawSymbol(f,t,i,b.fillColorSymbolSelected,_.opacity,b.lineColorSymbolSelected,_.opacity,_.strokeSymbol,_.dashStyle,j),this._installHandlers(this._pointMarker.element,"pointMarker",s,r,h)),this._startTooltipTimer(s,this._selected.series,h)}}},_drawSymbol:function(e,t,i,s,r,n,o,a,l,d){var h,c=d||6,u=c/2;switch(e){case"none":return;case"circle":h=this.renderer.circle(t,i,c/2);break;case"square":u=(c-=1)/2,h=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var p="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";h=this.renderer.path(p);break;case"triangle_up":case"triangle":p="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_down":p="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_left":p="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_right":p="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";h=this.renderer.path(p);break;default:h=this.renderer.circle(t,i,c)}return this.renderer.attr(h,{fill:s,"fill-opacity":r,stroke:n,"stroke-width":a,"stroke-opacity":o,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(h,{r:c/2}),"square"!=e&&this.renderer.attr(h,{x:t,y:i})),h},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],r=this.seriesGroups[e],n=r.series[t];return null!=n.symbolType&&(i=n.symbolType),null==i&&(i=r.symbolType),"default"==i?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(e,t,i,s,r,n,o){this._cancelTooltipTimer();var a=this,l=(a.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(n)||(l=n),clearTimeout(this._tttimerHide),isNaN(s)&&(s=a._mouseX),isNaN(r)&&(r=a._mouseY-3),0==l&&a._showToolTip(s,r,e,t,i),this._tttimer=setTimeout(function(){0!=l&&a._showToolTip(s,r,e,t,i);var n=a.toolTipHideDelay;isNaN(o)||(n=o),isNaN(n)&&(n=4e3),a._tttimerHide=setTimeout(function(){a._hideToolTip(),a._unselect()},n)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,n){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var o=this.seriesGroups[i],a=o.series[s];if(0!=o.enableSelection&&0!=a.enableSelection){var l=-1!=o.type.indexOf("line")&&-1==o.type.indexOf("area");this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:n,isLineType:l,linesUnselectMode:a.linesUnselectMode||o.linesUnselectMode};var d=this._getColors(i,s,n||r,this._getGroupGradientType(i)),h=d.fillColorSelected;l&&(h="none");var c=this._getSerieSettings(i,s),u="symbol"==t?d.lineColorSymbolSelected:d.lineColorSelected;h="symbol"==t?d.fillColorSymbolSelected:h;var p="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==d.fillColorAlt&&(h=d.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:h,"stroke-width":p}),-1==o.type.indexOf("pie")&&-1==o.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",o,a,r)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var s={element:this._getRenderInfo(t.group,t.series,t.item),coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,s,r){var n=s.coord,o=n.selectedRadiusChange*r,a=e.renderer.pieSlicePath(n.center.x,n.center.y,0==n.innerRadius?0:n.innerRadius+o,n.outerRadius+o,n.fromAngle,n.toAngle,n.centerOffset);e.renderer.attr(s.element.element,{d:a}),e._showPieLabel(t.group,t.series,t.item,void 0,o)},s),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,s=e._selected.item,r=e._selected.iidxBase,n=e._selected.type,o=e.seriesGroups[t],a=o.series[i],l=-1!=o.type.indexOf("line")&&-1==o.type.indexOf("area"),d=e._getColors(t,i,r||s,e._getGroupGradientType(t)),h=d.fillColor;l&&(h="none");var c=e._getSerieSettings(t,i),u="symbol"==n?d.lineColorSymbol:d.lineColor;h="symbol"==n?d.fillColorSymbol:h,this.renderer.getAttr(e._selected.element,"fill")==d.fillColorAltSelected&&(h=d.fillColorAlt);var p="symbol"==n?1:c.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:h,"stroke-width":p}),-1==o.type.indexOf("pie")&&-1==o.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(s)||e._raiseItemEvent("mouseout",o,a,s)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,s,r){for(var n=s[t]||i[t],o=0;o<this.seriesGroups.length&&this.seriesGroups[o]!=i;o++);if(o!=this.seriesGroups.length){var a={event:t,seriesGroup:i,serie:s,elementIndex:r,elementValue:this._getDataValue(r,s.dataField,o)};n&&e.isFunction(n)&&n(a),this._raiseEvent(t,a)}},_raiseEvent:function(t,i){var s=new e.Event(t);return s.owner=this,i.event=t,s.args=i,this.host.trigger(s)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,n=[1,2,3,4,5,10,15,20,25,50,100];s<1&&(n=[.5,.25,.125,.1],r=10);var o=0;do{o=0,s>=1?r*=10:r/=10;for(var a=1;a<n.length&&Math.abs(n[o]*r-s)>Math.abs(n[a]*r-s);a++)o=a}while(o==n.length-1);return n[o]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var n=i.series,o=this._isPieGroup(t),a=0;a<s.offsets.length;a++){n.push({});for(var l=0;l<s.offsets[a].length;l++)if(o){var d=s.offsets[a][l];n[a][d.displayValue]={value:d.value,x:d.x,y:d.y,fromAngle:d.fromAngle,toAngle:d.toAngle}}else n[a][s.xoffsets.xvalues[l]]={value:s.offsets[a][l].value,valueRadius:s.offsets[a][l].valueRadius,xoffset:s.xoffsets.data[l],from:s.offsets[a][l].from,to:s.offsets[a][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};var r=this.getValueAxisDataPointOffset(t,i),n=this.getXAxisDataPointOffset(e,i),o=this._toPolarCoord(s.polarCoords,s.xAxis.rect,n,r);return{x:o.x,y:o.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,n,o){var a=this._getDataPointOffset(e,i,s,r,n,o),l=this._getDataPointOffset(t,i,s,r,n,o);return Math.abs(a-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var s=this._getXAxisRenderData(t);if(!s)return NaN;var r=s.data.axisStats,n=r.min.valueOf(),o=r.max.valueOf(),a=o-n;if(0==a&&(a=1),e.valueOf()>o||e.valueOf()<n)return NaN;var l=this._getXAxis(t),d="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",c=(e.valueOf()-n)/a,u=s.rect[d]-s.data.padding.left-s.data.padding.right;(i.polar||i.spider)&&(this._renderData[t].polarCoords.isClosedCircle&&(u=s.data.axisSize));return this._plotRect[h]+s.data.padding.left+u*(l.flip?1-c:c)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var s=this._renderData[t];if(!s)return NaN;var r=1==i.flip,n=s.logBase,o=s.scale,a=s.gbase,l=s.baseOffset;return this._getDataPointOffset(e,a,n,o,l,r)},_getDataPointOffset:function(t,i,s,r,n,o){var a;return isNaN(t)&&(t=i),a=isNaN(s)?(t-i)*r:(e.jqx.log(t,s)-e.jqx.log(i,s))*r,this._isVML&&(a=Math.round(a)),a=o?n+a:n-a},_calcGroupOffsets:function(t,i){for(var s=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&null!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var r=this._getValueAxis(t);if(!r||!s.series||0==s.series.length)return this._renderData[t];var n=1==r.flip,o=1==r.logarithmicScale,a=r.logarithmicScaleBase||10,l=[],d=-1!=s.type.indexOf("stacked"),h=d&&-1!=s.type.indexOf("100"),c=-1!=s.type.indexOf("range"),u=this._isColumnType(s.type),p=-1!=s.type.indexOf("waterfall"),m=this._getDataLen(t),f=s.baselineValue||r.baselineValue||0;h&&(f=0);var g=this._stats.seriesGroups[t];if(g&&g.isValid){var v=g.hasStackValueReversal;if(v&&(f=0),p&&d){if(v)return;f=g.base}f>g.max&&(f=g.max),f<g.min&&(f=g.min);var x=h||o?g.maxRange:g.max-g.min,w=g.min,y=g.max,b=i.height/(o?g.intervals:x),_=0;_=h?w*y<0?-((x/=2)+f)*b:-f*b:-(f-w)*b,n?_=i.y-_:_+=i.y+i.height;var j,q=[],T=[],C=[];o&&(j=e.jqx.log(y,a)-e.jqx.log(f,a),d&&(j=g.intervals,f=h?0:w),g.intervals-j,n||(_=i.y+j/g.intervals*i.height)),_=e.jqx._ptrnd(_);var S=w*y<0?i.height/2:i.height,k=[],I=[],D=d&&(u||o),P=[];l=new Array(s.series.length);for(var A=0;A<s.series.length;A++)l[A]=new Array(m);for(var M=0;M<m;M++){!p&&d&&(I=[]);for(A=0;A<s.series.length;A++){!d&&o&&(k=[]);var H=s.series[A],B=H.dataField,z=H.dataFieldFrom,E=H.dataFieldTo,L=H.radiusDataField||H.sizeDataField;l[A][M]={};var N=this._isSerieVisible(t,A);if(-1==s.type.indexOf("candle")&&-1==s.type.indexOf("ohlc")){if(d)for(;I.length<=M;)I.push(0);var O=NaN;c&&(O=this._getDataValueAsNumber(M,z,t),isNaN(O)&&(O=f));var R=NaN;R=c?this._getDataValueAsNumber(M,E,t):this._getDataValueAsNumber(M,B,t);var F=this._getDataValueAsNumber(M,L,t);if(d&&(I[M]+=N?R:0),N||(R=NaN),isNaN(R)||o&&R<=0)l[A][M]={from:void 0,to:void 0};else{var W;d&&(D?W=R>=f?q:T:R=I[M]);var V=b*(R-f);if(c&&(V=b*(R-O)),d&&D&&(P[M]?V=b*R:(P[M]=!0,V=b*(R-f))),o){for(;k.length<=M;)k.push({p:{value:0,height:0},n:{value:0,height:0}});var G=c||c?O:f,U=R>G?k[M].p:k[M].n;U.value+=R,h?(R=U.value/(g.psums[M]+g.nsums[M])*100,V=(e.jqx.log(R,a)-g.minPow)*b):(V=e.jqx.log(U.value,a)-e.jqx.log(G,a),V*=b),V-=U.height,U.height+=V}var Y=_;if(c){var K=0;K=o?(e.jqx.log(O,a)-e.jqx.log(f,a))*b:(O-f)*b,Y+=n?K:-K}if(d){if(h&&!o){var X=g.psums[M]-g.nsums[M];R>f?(V=g.psums[M]/X*S,0!=g.psums[M]&&(V*=R/g.psums[M])):(V=g.nsums[M]/X*S,0!=g.nsums[M]&&(V*=R/g.nsums[M]))}D&&(isNaN(W[M])&&(W[M]=Y),Y=W[M])}isNaN(C[M])&&(C[M]=0);var Z=C[M],$=V=Math.abs(V);if(V>=1){var J=this._isVML?Math.round(V):e.jqx._ptrnd(V)-1;V=Math.abs(V-J)>.5?Math.round(V):J}if(Z+=V-$,d||(Z=0),Math.abs(Z)>.5&&(Z>0?(V-=1,Z-=1):(V+=1,Z+=1)),C[M]=Z,A==s.series.length-1&&h){for(var Q=0,ee=0;ee<A;ee++)Q+=Math.abs(l[ee][M].to-l[ee][M].from);if((Q+=V)<S)if(V>.5)V=e.jqx._ptrnd(V+S-Q);else for(ee=A-1;ee>=0;){if(Math.abs(l[ee][M].to-l[ee][M].from)>1){l[ee][M].from>l[ee][M].to&&(l[ee][M].from+=S-Q);break}ee--}}n&&(V*=-1);var te=R<f;c&&(te=O>R);var ie=isNaN(O)?R:{from:O,to:R};te?(D&&(W[M]+=V),l[A][M]={from:Y,to:Y+V,value:ie,valueRadius:F}):(D&&(W[M]-=V),l[A][M]={from:Y,to:Y-V,value:ie,valueRadius:F})}}else{var se=["Open","Close","High","Low"];for(var re in se){var ne="dataField"+se[re];H[ne]&&(l[A][M][se[re]]=this._getDataPointOffset(this._getDataValueAsNumber(M,H[ne],t),f,o?a:NaN,b,_,n))}}}}var oe=this._renderData[t];return oe.baseOffset=_,oe.gbase=f,oe.logBase=o?a:NaN,oe.scale=b,oe.offsets=p?this._applyWaterfall(l,m,t,_,f,o?a:NaN,b,n,d):l,oe.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var s=this,r=this._getDataLen(t),n=this.seriesGroups[t],o=this._renderData[t]={},a=o.offsets=[],l=0;l<n.series.length;l++){var d=n.series[l],h=this._get([d.minAngle,d.startAngle]);(isNaN(h)||h<0||h>360)&&(h=0);var c=this._get([d.maxAngle,d.endAngle]);(isNaN(c)||c<0||c>360)&&(c=360);var u=c-h,p=d.initialAngle||0;p<h&&(p=h),p>c&&(p=c);var m=d.centerOffset||0,f=e.jqx.getNum([d.offsetX,n.offsetX,i.width/2]),g=e.jqx.getNum([d.offsetY,n.offsetY,i.height/2]),v=Math.min(i.width,i.height)/2,x=p,w=d.radius;s._isPercent(w)&&(w=parseFloat(w)/100*v),isNaN(w)&&(w=.4*v);var y=d.innerRadius;s._isPercent(y)&&(y=parseFloat(y)/100*v),(isNaN(y)||y>=w)&&(y=0);var b=d.selectedRadiusChange;s._isPercent(b)&&(b=parseFloat(b)/100*(w-y)),isNaN(b)&&(b=.1*(w-y)),a.push([]);for(var _=0,j=0,q=0;q<r;q++){var T=this._getDataValueAsNumber(q,d.dataField,t);isNaN(T)||(this._isSerieVisible(t,l,q)||1==d.hiddenPointsDisplay)&&(T>0?_+=T:j+=T)}var C=_-j;0==C&&(C=1);for(q=0;q<r;q++){T=this._getDataValueAsNumber(q,d.dataField,t);if(isNaN(T))a[l].push({});else{var S=d.displayText||d.displayField,k=this._getDataValue(q,S,t);null==k&&(k=q);var I=0,D=this._isSerieVisible(t,l,q);(D||1==d.hiddenPointsDisplay)&&(I=Math.abs(T)/C*u);var P=i.x+f,A=i.y+g,M=m;e.isFunction(m)&&(M=m({seriesIndex:l,seriesGroupIndex:t,itemIndex:q})),isNaN(M)&&(M=0);var H={key:t+"_"+l+"_"+q,value:T,displayValue:k,x:P,y:A,fromAngle:x,toAngle:x+I,centerOffset:M,innerRadius:y,outerRadius:w,selectedRadiusChange:b,visible:D};a[l].push(H),x+=I}}}return o},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var s in e)if(-1!=i.type.indexOf(e[s]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),r=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(r=!0),null==e?r:null==i.valuesOnTicks?r:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,s,r){var n=0;switch("year"!=s&&"month"!=s&&(n=i.valueOf()-t.valueOf()),s){case"year":n=this._getYearsDiff(t,i);break;case"month":n=this._getMonthsDiff(t,i);break;case"day":n/=864e5;break;case"hour":n/=36e5;break;case"minute":n/=6e4;break;case"second":n/=1e3}return"year"!=s&&"month"!=s&&0!=r&&(n=e.jqx._rnd(n,1,!0)),n},_getBestDTUnit:function(e,t,i,s,r){var n="day",o=t.valueOf()-e.valueOf();n=o<1e3?"second":o<36e5?"minute":o<864e5?"hour":o<2592e6?"day":o<31104e6?"month":"year";for(var a=[{key:"year",cnt:o/31536e6},{key:"month",cnt:o/2592e6},{key:"day",cnt:o/864e5},{key:"hour",cnt:o/36e5},{key:"minute",cnt:o/6e4},{key:"second",cnt:o/1e3},{key:"millisecond",cnt:o}],l=-1,d=0;d<a.length;d++)if(a[d].key==n){l=d;break}for(var h=-1,c=-1;l<a.length&&!(a[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,a[l].key,r),p=this._getDTIntCnt(e,t,u,a[l].key);(-1==h||h<p)&&(h=p,c=l)}return n=a[c].key},_getXAxisStats:function(t,i,s){var r=this._getDataLen(t),n="date"==i.type||"time"==i.type;if(n&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var o=this._testXAxisDateFormat();o&&this._autoDateFormats.push(o)}var a=n?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=n?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var d=this._selectorRange[t].min;isNaN(d)||(a=n?this._castAsDate(d,i.dateFormat):this._castAsNumber(d));var h=this._selectorRange[t].max;isNaN(h)||(l=n?this._castAsDate(h,i.dateFormat):this._castAsNumber(h))}for(var c,u,p=a,m=l,f=null==i.type||"auto"==i.type,g=f||"basic"==i.type,v=0,x=0,w=0;w<r&&i.dataField;w++){var y=this._getDataValue(w,i.dataField,t);y=n?this._castAsDate(y,i.dateFormat):this._castAsNumber(y),isNaN(y)||(n?v++:x++,(isNaN(c)||y<c)&&(c=y),(isNaN(u)||y>=u)&&(u=y))}f&&(!n&&x==r||n&&v==r)&&(g=!1),g&&(c=0,u=Math.max(0,r-1)),isNaN(p)&&(p=c),isNaN(m)&&(m=u),n?(this._isDate(p)||(p=this._isDate(m)?m:new Date),this._isDate(m)||(m=this._isDate(p)?p:new Date)):(isNaN(p)&&(p=0),isNaN(m)&&(m=g?Math.max(0,r-1):p)),null==c&&(c=p),null==u&&(u=m);var b=i.rangeSelector;if(b){var _=b.minValue||p;_&&n&&(_=this._castAsDate(_,b.dateFormat||i.dateFormat));var j=b.maxValue||m;j&&n&&(j=this._castAsDate(j,b.dateFormat||i.rangeSelector)),p<_&&(p=_),m<_&&(m=j),p>j&&(p=_),m>j&&(m=j)}var q,T,C=i.unitInterval;n&&((q=i.baseUnit)||(q=this._getBestDTUnit(p,m,t,s)),T="hour"==q||"minute"==q||"second"==q||"millisecond"==q);var S=1==i.logarithmicScale,k=i.logarithmicScaleBase;(isNaN(k)||k<=1)&&(k=10);C=i.unitInterval;S?C=1:(isNaN(C)||C<=0)&&(C=this._estAxisInterval(p,m,t,s,q));var I={min:p,max:m},D=this.seriesGroups[t];if(S){p||(p=1,m&&p>m&&(p=m)),m||(m=p),I={min:p,max:m};var P=e.jqx._rnd(e.jqx.log(p,k),1,!1),A=e.jqx._rnd(e.jqx.log(m,k),1,!0);m=Math.pow(k,A),p=Math.pow(k,P)}else n||!D.polar&&!D.spider||(p=e.jqx._rnd(p,C,!1),m=e.jqx._rnd(m,C,!0));return{min:p,max:m,logAxis:{enabled:S,base:k,minPow:P,maxPow:A},dsRange:{min:c,max:u},filterRange:I,useIndeces:g,isDateTime:n,isTimeUnit:T,dateTimeUnit:q,interval:C}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,s){var r=0,n=new Date(e),o=new Date(t);if(o=o.valueOf(),i<=0)return 1;for(;n.valueOf()<o;)"millisecond"==s?n=new Date(n.valueOf()+i):"second"==s?n=new Date(n.valueOf()+1e3*i):"minute"==s?n=new Date(n.valueOf()+6e4*i):"hour"==s?n=new Date(n.valueOf()+6e4*i*24):"day"==s?n.setDate(n.getDate()+i):"month"==s?n.setMonth(n.getMonth()+i):"year"==s&&n.setFullYear(n.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,n){if(isNaN(e)||isNaN(t))return NaN;var o=[1,2,5,10,15,20,50,100,200,500],a=0,l=s/(!isNaN(n)&&n>0?n:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var d=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=d&&isNaN(n)&&(l=.9*s/d)}if(l<=1)return Math.abs(t-e);for(;;){var h=a>=o.length?Math.pow(10,3+a-o.length):o[a];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,h,r):(t-e)/h)<=l)break;a++}var c=this.seriesGroups[i];return(c.spider||c.polar)&&2*h>t-e&&(h=t-e),h},_getPaddingSize:function(e,t,i,s,r,n,o){var a=e.min,l=e.max;e.logAxis.enabled&&(a=e.logAxis.minPow,l=e.logAxis.maxPow);var d=e.interval,h=e.dateTimeUnit;if(r){var c=s/Math.max(1,l-a+d)*d;return n?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!o)return{left:0,right:0};if(this._isDate(a)&&this._isDate(l)){var u,p=this._getDTIntCnt(a,l,Math.min(d,l-a),h);return{left:(u=s/Math.max(2,p))/2,right:u/2}}if(1==(p=Math.max(1,l-a))){var m=s/4;return{left:m,right:m}}return{left:(u=s/(p+1))/2,right:u/2}},_calculateXOffsets:function(t,i){var s=this.seriesGroups[t],r=this._getXAxis(t),n=[],o=[],a=this._getDataLen(t),l=this._getXAxisStats(t,r,i),d=l.min,h=l.max,c=l.isDateTime,u=l.isTimeUnit,p=this._hasColumnSeries(),m=s.polar||s.spider,f=this._get([s.startAngle,s.minAngle,0]),g=this._get([s.endAngle,s.maxAngle,360]),v=m&&!(Math.abs(Math.abs(g-f)-360)>1e-4),x=this._alignValuesWithTicks(t),w=this._getPaddingSize(l,r,x,i,m,v,p),y=h-d,b=l.filterRange;0==y&&(y=1);var _=i-w.left-w.right;m&&x&&!v&&(w.left=w.right=0);for(var j=-1,q=-1,T=0;T<a;T++){var C=void 0===r.dataField?T:this._getDataValue(T,r.dataField,t);if(l.useIndeces){if(T<b.min||T>b.max){n.push(NaN),o.push(void 0);continue}if(k=w.left+(T-d)/y*_,1==l.logAxis.enabled){var S=l.logAxis.base;k=this._jqxPlot.scale(C,{min:d.valueOf(),max:h.valueOf(),type:"logarithmic",base:S},{min:0,max:_,flip:!1})}n.push(e.jqx._ptrnd(k)),o.push(C),-1==j&&(j=T),(-1==q||q<T)&&(q=T)}else if(C=c?this._castAsDate(C,r.dateFormat):this._castAsNumber(C),isNaN(C)||C<b.min||C>b.max)n.push(NaN),o.push(void 0);else{var k=0;if(1==l.logAxis.enabled){S=l.logAxis.base;k=this._jqxPlot.scale(C,{min:d.valueOf(),max:h.valueOf(),type:"logarithmic",base:S},{min:0,max:_,flip:!1})}else if(!c||c&&u){k=(C-d)*_/y}else k=(C.valueOf()-d.valueOf())/(h.valueOf()-d.valueOf())*_;k=e.jqx._ptrnd(w.left+k),n.push(k),o.push(C),-1==j&&(j=T),(-1==q||q<T)&&(q=T)}}if(1==r.flip)for(T=0;T<n.length;T++)isNaN(n[T])||(n[T]=i-n[T]);(u||c)&&(y=this._getDateDiff(d,h,r.baseUnit),y=e.jqx._rnd(y,1,!1));var I=Math.max(1,y),D=_/I;return j==q&&1==I&&(n[j]=w.left+_/2),{axisStats:l,data:n,xvalues:o,first:j,last:q,length:-1==q?0:q-j+1,itemWidth:D,intervalWidth:D*l.interval,rangeLength:y,useIndeces:l.useIndeces,padding:w,axisSize:_}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],s=i.series[t];return 1==s.greyScale||0!=s.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(t,i,s){var r=this._getSeriesColorsInternal(t,i,s);if(this._isGreyScale(t,i))for(var n in r)r[n]=e.jqx.toGreyScale(r[n]);return r},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],n=r.series[t];if(this._isPieGroup(e)){var o=this._getDataLen(e);s=this._getItemColorFromScheme(n.colorScheme||r.colorScheme||this.colorScheme,t*o+i,e,t)}else{for(var a=0,l=0;l<=e;l++)for(var d in this.seriesGroups[l].series){if(l==e&&d==t)break;a++}var h=this.colorScheme;if(r.colorScheme){h=r.colorScheme}if(null!=h&&""!=h||(h=this.colorSchemes[0].name),!h)return s;for(l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==h){for(;a>c.colors.length;)a-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];s=c.colors[a%c.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,s){var r=this.seriesGroups[t],n=r.series[i];e.isFunction(n.colorFunction)||"pie"==r.type||"donut"==r.type||(s=NaN);var o=t+"_"+i+"_"+(isNaN(s)?"NaN":s);if(this._colorsCache.get(o))return this._colorsCache.get(o);var a,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(n.colorFunction)){var d=isNaN(s)?NaN:this._getDataValue(s,n.dataField,t);if(-1!=r.type.indexOf("range")&&!isNaN(s))d={from:this._getDataValue(s,n.dataFieldFrom,t),to:this._getDataValue(s,n.dataFieldTo,t)};if("object"==typeof(a=n.colorFunction(d,s,n,r)))for(var h in a)l[h]=a[h];else l.fillColor=a}else{for(var h in l)n[h]&&(l[h]=n[h]);n.fillColor||n.color?n.fillColor=n.fillColor||n.color:l.fillColor=this._getColorFromScheme(t,i,s)}var c={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var h in l)"object"==typeof a&&a[h]||n[h]&&(l[h]=n[h]);for(var h in l)"object"==typeof a&&a[h]||n[h]||(l[h]=e.jqx.adjustColor(l[c[h].baseColor],c[h].adjust));return this._colorsCache.set(o,l),l},_getItemColorFromScheme:function(t,i,s,r){null!=t&&""!=t||(t=this.colorSchemes[0].name);for(var n=0;n<this.colorSchemes.length&&t!=this.colorSchemes[n].name;n++);for(var o=0;o<=i;){n==this.colorSchemes.length&&(n=0);var a=this.colorSchemes[n].colors.length;if(!(o+a<=i)){var l=this.colorSchemes[n].colors[i-o];return this._isGreyScale(s,r)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}o+=a,n++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,s,r,n,o){if(null==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!s)return"";if(s){if(!e.isFunction(s))return t.toString();try{return s(t,o,n,r)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,s,r,n,o){var a=this.seriesGroups[t],l=a.series[i],d="",h=r,c=n;c||(c=l.formatFunction||a.formatFunction),h||(h=l.formatSettings||a.formatSettings),!l.formatFunction&&l.formatSettings&&(c=void 0);var u={},p=0;for(var m in l)0==m.indexOf("dataField")&&(u[m.substring(9).toLowerCase()]=this._getDataValue(s,l[m],t),p++);if(0==p&&(u=this._getDataValue(s,void 0,t)),-1!=a.type.indexOf("waterfall")&&this._isSummary(t,s)&&(u=this._renderData[t].offsets[i][s].value,p=0),c&&e.isFunction(c))try{return c(1==p?u[""]:u,s,l,a)}catch(e){return e.message}if(1==p&&this._isPieGroup(t))return this._formatValue(u[""],h,c,t,i,s);if(p>0){var f=0;for(var m in u){f>0&&""!=d&&(d+="<br>");var g="dataField"+(m.length>0?m.substring(0,1).toUpperCase()+m.substring(1):""),v=l["displayText"+(m.length>0?m.substring(0,1).toUpperCase()+m.substring(1):"")]||l[g],x=u[m];null!=x&&(x=this._formatValue(x,h,c,t,i,s),d+=!0===o?x:v+": "+x,f++)}}else null!=u&&(d=this._formatValue(u,h,c,t,i,s));return d||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var s=t.charAt(i);if(!(s>="0"&&s<="9"||","==s||"."==s)&&(("-"!=s||0!=i)&&!("("==s&&0==i||")"==s&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var s;if(i&&(s=e.jqx.dataFormat.parsedate(t,i),this._isDate(s)))return s;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(s=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[r]),this._isDate(s))return s;var n=this._detectDateFormat(t);return n&&(s=e.jqx.dataFormat.parsedate(t,n),this._isDate(s))?(this._autoDateFormats.push(n),s):(s=new Date(t),this._isDate(s)&&-1==t.indexOf(":")&&s.setHours(0,0,0,0),s)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);null!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var s=t.toString();return i&&(i.dateFormat&&(s=e.jqx.dataFormat.formatDate(t,i.dateFormat)),s=(i.prefix||"")+s+(i.sufix||"")),s},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="",r=this;r.localization&&(i=r.localization.decimalSeparator||r.localization.decimalseparator||i,s=r.localization.thousandsSeparator||r.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var n=t.prefix||"",o=t.sufix||"",a=t.decimalPlaces;isNaN(a)&&(a=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,d=e<0;d&&l&&(e*=-1);var h,c=e.toString(),u=Math.pow(10,a);if(c=(Math.round(e*u)/u).toString(),isNaN(c)&&(c=""),h=c.lastIndexOf("."),a>0)for(h<0?h=(c+=i).length-1:"."!==i&&(c=c.replace(".",i));c.length-1-h<a;)c+="0";h=(h=c.lastIndexOf(i))>-1?h:c.length;for(var p=c.substring(h),m=0,f=h;f>0;f--,m++)m%3==0&&f!==h&&(!d||f>1||d&&l)&&(p=s+p),p=c.charAt(f-1)+p;return c=p,d&&l&&(c="("+c+")"),n+c+o},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],n=e[t+3],o=e[t+4],a=e[t+5],l=Math.sqrt(Math.pow(r-i,2)+Math.pow(n-s,2)),d=l+Math.sqrt(Math.pow(o-r,2)+Math.pow(a-n,2));0==d&&(d=1);var h=.4*l/d,c=.4-h;return[r+h*(i-o),n+h*(s-a),r-c*(i-o),n-c*(s-a)]},_getBezierPoints:function(t){for(var i="",s=[],r=[],n=t.split(" "),o=0;o<n.length;o++){var a=n[o].split(",");s.push(parseFloat(a[0])),s.push(parseFloat(a[1])),!isNaN(s[s.length-1])&&isNaN(s[s.length-2])}var l=s.length;if(l<=1)return"";if(2==l)return i="M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[0]+1)+","+e.jqx._ptrnd(s[1]+1)+" ";for(o=0;o<l-4;o+=2)r=r.concat(this._calculateControlPoints(s,o));for(o=2;o<l-5;o+=2)i+=" C"+e.jqx._ptrnd(r[2*o-2])+","+e.jqx._ptrnd(r[2*o-1])+" "+e.jqx._ptrnd(r[2*o])+","+e.jqx._ptrnd(r[2*o+1])+" "+e.jqx._ptrnd(s[o+2])+","+e.jqx._ptrnd(s[o+3])+" ";return i=l<=4||Math.abs(s[0]-s[2])<3||Math.abs(s[1]-s[3])<3||this._isVML?"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i:"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" Q"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" "+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i,l>=4&&(Math.abs(s[l-2]-s[l-4])<3||Math.abs(s[l-1]-s[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(r[2*l-10])+","+e.jqx._ptrnd(r[2*l-9])+" "+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,n,o){s<0&&(s=0),null==o&&(o="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:s,fn:r,context:n,easing:o})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=(new Date).getTime(),s={};for(var r in this._animGroups){for(var n=this._animGroups[r].animations,o=this._animGroups[r].startTick,a=0,l=0;l<n.length;l++){var d=n[l],h=i-o;d.duration>a&&(a=d.duration);var c=d.duration>0?h/d.duration:1,u=c;if(d.easing&&0!=d.duration&&(u=e.easing[d.easing](c,h,0,1,d.duration)),c>1&&(c=1,u=1),d.fn)d.fn(d.key,d.context,u);else{var p={};for(r=0;r<d.properties.length;r++){var m=d.properties[r],f=0;f=1==c?m.to:u*(m.to-m.from)+m.from,p[m.key]=f}this.renderer.attr(d.key,p)}}o+a>i&&(s[r]={startTick:o,animations:n})}this._animGroups=s,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}for(var r in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r=s.seriesGroups[e],n=r.series[t],o=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(o.x)||isNaN(o.y)||isNaN(o.fromAngle)||isNaN(o.toAngle))return{x:NaN,y:NaN};var a=this._plotRect,l=o.fromAngle*(Math.PI/180),d=o.toAngle*(Math.PI/180),h=a.x+o.center.x+Math.cos(l)*o.outerRadius,c=a.x+o.center.x+Math.cos(d)*o.outerRadius,u=a.y+o.center.y-Math.sin(l)*o.outerRadius,p=a.y+o.center.y-Math.sin(d)*o.outerRadius,m=Math.min(h,c),f=Math.abs(c-h);return o={x:m,y:v=Math.min(u,p),width:f,height:Math.abs(p-u),center:o.center,centerOffset:o.centerOffset,innerRadius:o.innerRadius,outerRadius:o.outerRadius,selectedRadiusChange:o.selectedRadiusChange,fromAngle:o.fromAngle,toAngle:o.toAngle}}if(-1!=r.type.indexOf("column")||-1!=r.type.indexOf("waterfall")){var g=this._getColumnSerieWidthAndOffset(e,t);o.height=Math.abs(o.y.to-o.y.from),o.y=Math.min(o.y.to,o.y.from),o.x+=g.offset,o.width=g.width}else if(-1!=r.type.indexOf("ohlc")||-1!=r.type.indexOf("candlestick")){g=this._getColumnSerieWidthAndOffset(e,t);var v=o.y,x=Math.min(v.Open,v.Close,v.Low,v.High),w=Math.max(v.Open,v.Close,v.Low,v.High);o.height=Math.abs(w-x),o.y=x,o.x+=g.offset,o.width=g.width}else if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area"))o.width=o.height=0,o.y=o.y.to;else if(-1!=r.type.indexOf("bubble")||-1!=r.type.indexOf("scatter")){o.center={x:o.x,y:o.y.to};var y=o.y.radius;"circle"!=n.symbolType&&null!=n.symbolType&&(y/=2),o.y=o.y.to,o.radius=y,o.width=2*y,o.height=2*y}if(o=this._fixCoords(o,e),r.polar||r.spider){var b=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,o.x,o.y);o.x=b.x,o.y=b.y,o.center&&(o.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,o.center.x,o.center.y))}return-1==r.type.indexOf("bubble")&&-1==r.type.indexOf("scatter")||(o.x-=y,o.y-=y),o},_getItemCoord:function(e,t,i){var s,r,n=this.seriesGroups[e];if(!n||!this._renderData)return{x:NaN,y:NaN};if(!n.series[t])return{x:NaN,y:NaN};var o=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var l=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:s=o.x+a.x+Math.cos(l)*a.outerRadius,y:r=o.y+a.y-Math.sin(l)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(s=o.x+this._renderData[e].xoffsets.data[i],r=this._renderData[e].offsets[t][i],isNaN(s)||!r)return{x:NaN,y:NaN};var d={};for(var h in r)d[h]=r[h];return{x:s,y:d}},getXAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getXAxis(i),n=this._plotRect,o=0,a=NaN,l=this._renderData[0].xoffsets.axisStats,d=0,h=0;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var c=this._getPolarAxisCoords(i,n);if(e.jqx._ptdist(t.x,t.y,c.x,c.y)>c.r)return NaN;var u=Math.atan2(c.y-t.y,t.x-c.x);(u=Math.PI/2-u)<0&&(u=2*Math.PI+u),a=u*c.r;var p=c.startAngle+Math.PI/2,m=c.endAngle+Math.PI/2;d=p*c.r,h=m*c.r,o=(m-p)*c.r;var f=this._getPaddingSize(l,r,r.valuesOnTicks,o,!0,c.isClosedCircle,this._hasColumnSeries());c.isClosedCircle?(o-=f.left+f.right,h-=f.left+f.right):r.valuesOnTicks||(d+=f.left,h-=f.right)}else{if("horizontal"!=s.orientation){if(t<n.x||t>n.x+n.width)return NaN;a=t-n.x,o=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;a=t-n.y,o=n.height}if(this._renderData[i]&&this._renderData[i].xoffsets)o-=(f=this._renderData[i].xoffsets.padding).left+f.right,a-=f.left;h=o}return this._jqxPlot.scale(a,{min:d,max:h},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:r.flip})}},getValueAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getValueAxis(i),n=this._plotRect,o=0,a=NaN;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,n);a=e.jqx._ptdist(t.x,t.y,l.x,l.y),a=(o=l.r)-a}else if("horizontal"==s.orientation){if(t<n.x||t>n.x+n.width)return NaN;a=t-n.x,o=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;a=t-n.y,o=n.height}var d=this._stats.seriesGroups[i];return this._jqxPlot.scale(a,{min:0,max:o},{min:d.min.valueOf(),max:d.max.valueOf(),type:d.logarithmic?"logarithmic":"linear",base:d.logBase,flip:!r.flip})}},_detectDateFormat:function(t,i){var s={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(s=e.extend({},s,i));var r=[];for(var n in e.isArray(t)?r=t:r.push(t),s)s[n]={format:s[n],count:0};for(var o=0;o<r.length;o++){var a=r[o];if(null!=a&&null!=a)for(var n in s){null!=e.jqx.dataFormat.parsedate(a,s[n].format)&&s[n].count++}}var l={key:void 0,count:0};for(var n in s)s[n].count>l.count&&(l.key=n,l.count=s[n].count);return l.key?s[l.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),s=t._getDataLen(e),r={};if(t.localization&&t.localization.patterns)for(var n in t.localization.patterns)r["local_"+n]=t.localization.patterns[n];for(var o=[],a=0;a<s&&a<10;a++){var l=t._getDataValue(a,i.dataField,e);null!=l&&null!=l&&o.push(l)}return t._detectDateFormat(o,r)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var s=this._renderData;return!i||!s||s.length<=e?0:i.series[t]?s[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var s=this.seriesGroups[e];if(s.polar||s.spider){for(var r=0;r<i.polarLabels.length;r++){var n=i.polarLabels[r];t.push({offset:{x:n.x,y:n.y},value:n.value})}return t}var o=this._getXAxis(e),a=this.getXAxisRect(e),l="top"==o.position||"right"==o.position,d="horizontal"==s.orientation;for(r=0;r<i.data.length;r++)d?t.push({offset:{x:a.x+(l?0:a.width),y:a.y+i.data.data[r]},value:i.data.xvalues[r]}):t.push({offset:{x:a.x+i.data.data[r],y:a.y+(l?a.height:0)},value:i.data.xvalues[r]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var s=this._getValueAxis(e),r="top"==s.position||"right"==s.position,n=this.seriesGroups[e],o="horizontal"==n.orientation;if(n.polar||n.spider){for(var a=0;a<i.polarLabels.length;a++){var l=i.polarLabels[a];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(a=0;a<i.items.length;a++)o?t.push({offset:{x:i.itemOffsets[i.items[a]].x+i.itemWidth/2,y:i.rect.y+(r?i.rect.height:0)},value:i.items[a]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[a]].y+i.itemWidth/2},value:i.items[a]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,s,r){var n=this.getItemCoord(e,t,i);isNaN(n.x)||isNaN(n.y)||this._startTooltipTimer(e,t,i,n.x,n.y,s,r)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var s=this.seriesGroups[e],r=this.renderer;if(!isNaN(e)){var n=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),o=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),a=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(s.polar||s.spider){var d=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!d||isNaN(d.x)||isNaN(d.y)?(n=t.x,o=t.y):(n=d.x,o=d.y)}if(isNaN(o)||isNaN(n))return!1;if("horizontal"==s.orientation){var h=n;n=o,o=h,h=a,a=l,l=h}t.offset&&(isNaN(t.offset.x)||(n+=t.offset.x,a+=t.offset.x),isNaN(t.offset.y)||(o+=t.offset.y,l+=t.offset.y));var c,u,p=this._get([t.width,a-n]),m=this._get([t.height,l-o]);switch(t.type){case"rect":c=r.rect(n,o,p,m);break;case"circle":c=r.rect(n,o,t.radius);break;case"line":c=r.rect(n,o,a,l);break;case"path":c=r.path(t.path)}if(r.attr(c,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text){var f=t.text,g=0,v=0;f.offset&&(isNaN(f.offset.x)||(g+=f.offset.x),isNaN(f.offset.y)||(v+=f.offset.y)),u=r.text(f.value,n+g,o+v,NaN,NaN,f.angle,{},!0===f.clip,f.horizontalAlignment||"center",f.verticalAlignment||"center",f.rotationPoint||"centermiddle"),r.attr(u,{fill:f.fillColor,stroke:f.lineColor,class:f.class})}for(var x=["click","mouseenter","mouseleave"],w=this,y=0;y<x.length;y++){var b=this._getEvent(x[y])||x[y];c&&this.renderer.addHandler(c,b,function(){w._raiseAnnotationEvent(t,b)}),u&&this.renderer.addHandler(u,b,function(){w._raiseAnnotationEvent(t,b)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,i){var s=this;s._isTouchDevice=e.jqx.mobile.isTouchDevice();var r=s.seriesGroups[t],n=s._getXAxis(t),o=n?n.rangeSelector:void 0;s._isSelectorRefresh||(o&&o.renderTo?o.renderTo:s.host).find(".rangeSelector").remove();if(!n||0==n.visible||"spider"==r.type)return!1;if(!s._isGroupVisible(t))return!1;if(!o)return!1;var a="horizontal"==r.orientation;o.renderTo&&(a=!1),s.rtl&&(n.flip=!0);var l=a?this.host.height():this.host.width();l-=4;var d=this._getXAxisStats(t,n,l),h=n.position;if(o.renderTo&&o.position&&(h=o.position),!this._isSelectorRefresh){var c=o.renderTo,u=e("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(c||this.renderer.getContainer());if(c)u.css({width:c.width(),height:c.height()}),i.width=c.width(),i.height=c.height();else{var p=this.host.coord();p.top=0,p.left=0;var m=this._selectorGetSize(n);a?(u.css("left",p.left+1+i.x+("right"!=h?-m:i.width)),u.css("top",p.top),u.css("height",l),u.css("width",m),i.height=m):(u.css("left",p.left+1),u.css("top",p.top+i.y+("top"!=h?i.height:-m)),u.css("height",m),u.css("width",l))}this._refreshSelector(t,n,d,u,i,a)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,i,s,r,n,o){var a={},l=i.rangeSelector;this.seriesGroups[t];for(var d in l)a[d]=l[d];delete a.padding;var h=a.minValue,c=a.maxValue;null==h&&(h=Math.min(s.min.valueOf(),s.dsRange.min.valueOf())),null==c&&(c=Math.max(s.max.valueOf(),s.dsRange.max.valueOf())),this._isDate(s.min)&&(h=new Date(h)),this._isDate(s.max)&&(c=new Date(c));var u=i.position;l.renderTo&&l.position&&(u=l.position),a.dataField=i.dataField,delete a.rangeSelector,a.type=i.type,a.baseUnit=l.baseUnit||i.baseUnit,a.minValue=h,a.maxValue=c,a.flip=i.flip,a.position=u;var p=2,m=2,f=2,g=2;l.renderTo||(p=o?0:n.x,m=o?0:this._rect.width-n.x-n.width,f=o?n.y:5,g=o?this._paddedRect.height-this._plotRect.height:5);var v=l.padding;v=null!=v||l.renderTo?{left:v&&v.left?v.left:p,top:v&&v.top?v.top:f,right:v&&v.right?v.right:m,bottom:v&&v.bottom?v.bottom:g}:{left:p,top:f,right:m,bottom:g};var x=i.rangeSelector.dataField;for(d=0;null==x&&d<this.seriesGroups.length;d++)for(var w=0;null==x&&w<this.seriesGroups[d].series.length;w++)x=this.seriesGroups[d].series[w].dataField;var y={padding:v,_isRangeSelectorInstance:!0,title:l.title||"",description:l.description||"",titlePadding:l.titlePadding,colorScheme:l.colorScheme||this.colorScheme,backgroundColor:l.backgroundColor||this.backgroundColor||"transparent",backgroundImage:l.backgroundImage||"",showBorderLine:l.showBorderLine||!!l.renderTo,borderLineWidth:l.borderLineWidth||this.borderLineWidth,borderLineColor:l.borderLineColor||this.borderLineColor,rtl:l.rtl||this.rtl,greyScale:l.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:a,seriesGroups:[{orientation:o?"horizontal":"vertical",valueAxis:{visible:!1},type:i.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([i.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([i.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([i.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([i.rangeSelector.seriesGapPercent,25]),series:[{dataField:x,opacity:.8,lineWidth:1}]}]};i.rangeSelector.seriesGroups&&(y.seriesGroups=i.rangeSelector.seriesGroups),i.rangeSelector.valueAxis&&(y.valueAxis=i.rangeSelector.valueAxis),y.showBorderLine||(y.borderLineWidth=1,y.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),y.showBorderLine=!0);var b=this;b._supressBindingRefresh=!0,r.empty(),r.jqxChart(y),b._rangeSelectorInstances[t]=r,b._supressBindingRefresh=!1,r.on(b._getEvent("mousemove"),function(){b._unselect(),b._hideToolTip()});var _=r.jqxChart("getInstance");if(_._plotRect){var j=_._paddedRect;if(j.height=_._plotRect.height,o||"top"!=u){if(o){var q=_._renderData[0].xAxis.rect.width;j.width-=q,"right"!=u&&(j.x+=q)}}else j.y+=_._renderData[0].xAxis.rect.height;b._createSliderElements(t,r,j,l),b.removeHandler(e(document),b._getEvent("mousemove")+"."+this.element.id,b._onSliderMouseMove),b.removeHandler(e(document),b._getEvent("mousedown"),b._onSliderMouseDown),b.removeHandler(e(document),b._getEvent("mouseup")+"."+this.element.id,b._onSliderMouseUp),b.addHandler(e(document),b._getEvent("mousemove")+"."+this.element.id,b._onSliderMouseMove,{self:this,groupIndex:t,renderTo:r,swapXY:o}),b.addHandler(e(r),b._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:r,swapXY:o}),b.addHandler(e(document),b._getEvent("mouseup")+"."+this.element.id,b._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:r,swapXY:o})}},_createSliderElements:function(t,i,s,r){i.find(".slider").remove();var n=r.selectedRangeColor||"blue",o=e.jqx.getByPriority([r.selectedRangeOpacity,.1]),a=e.jqx.getByPriority([r.unselectedRangeOpacity,.5]),l=r.unselectedRangeColor||"white",d=r.rangeLineColor||"grey",h=e("<div class='slider' style='position: absolute;'></div>");for(h.css({background:n,opacity:o,left:s.x,top:s.y,width:s.width,height:s.height}),h.appendTo(i);this._sliders.length<t+1;)this._sliders.push({});var c="<div class='slider' style='position: absolute;  background: "+l+"; opacity: "+a+";'></div>",u="<div class='slider' style='position: absolute; background:"+d+"; opacity: "+a+";'></div>",p="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+d+";'></div>";this._sliders[t]={element:h,host:i,_sliderInitialAbsoluteRect:{x:h.coord().left,y:h.coord().top,width:s.width,height:s.height},_hostInitialAbsolutePos:{x:i.coord().left,y:i.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:s,left:e(c),right:e(c),leftTop:e(u),rightTop:e(u),leftBorder:e(u),leftBar:e(p),rightBorder:e(u),rightBar:e(p)},this._sliders[t].left.appendTo(i),this._sliders[t].right.appendTo(i),this._sliders[t].leftTop.appendTo(i),this._sliders[t].rightTop.appendTo(i),this._sliders[t].leftBorder.appendTo(i),this._sliders[t].rightBorder.appendTo(i),this._sliders[t].leftBar.appendTo(i),this._sliders[t].rightBar.appendTo(i);var m=this._renderData[t].xAxis.data.axisStats,f=m.min.valueOf(),g=m.max.valueOf(),v=this._valueToOffset(t,f),x=this._valueToOffset(t,g);if(v>x){var w=x;x=v,v=w}"horizontal"!=this.seriesGroups[t].orientation?h.css({left:Math.round(s.x+v),top:s.y,width:Math.round(x-v),height:s.height}):h.css({top:Math.round(s.y+v),left:s.x,height:Math.round(x-v),width:s.width}),this._setSliderPositions(t,v,x)},_setSliderPositions:function(e,t,i){var s=this.seriesGroups[e],r=this._getXAxis(e),n=r.rangeSelector,o="horizontal"==s.orientation;r.rangeSelector.renderTo&&(o=!1);var a=r.position;n.renderTo&&n.position&&(a=n.position);var l=this._sliders[e],d=o?"top":"left",h=o?"left":"top",c=o?"height":"width",u=o?"width":"height",p=o?"y":"x",m=o?"x":"y",f=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(d,f[p]),l.left.css(h,f[m]),l.left.css(c,t),l.left.css(u,f[u]),l.right.css(d,f[p]+i),l.right.css(h,f[m]),l.right.css(c,f[c]-i+1),l.right.css(u,f[u]),l.leftTop.css(d,f[p]),l.leftTop.css(h,f[m]+(o&&"right"==a||!o&&"top"!=a?0:f[u])),l.leftTop.css(c,t),l.leftTop.css(u,1),l.rightTop.css(d,f[p]+i),l.rightTop.css(h,f[m]+(o&&"right"==a||!o&&"top"!=a?0:f[u])),l.rightTop.css(c,f[c]-i+1),l.rightTop.css(u,1),l.leftBorder.css(d,f[p]+t),l.leftBorder.css(h,f[m]),l.leftBorder.css(c,1),l.leftBorder.css(u,f[u]);var g=f[u]/4;g>20&&(g=20),g<3&&(g=3),l.leftBar.css(d,f[p]+t-3),l.leftBar.css(h,f[m]+f[u]/2-g/2),l.leftBar.css(c,5),l.leftBar.css(u,g),l.rightBorder.css(d,f[p]+i),l.rightBorder.css(h,f[m]),l.rightBorder.css(c,1),l.rightBorder.css(u,f[u]),l.rightBar.css(d,f[p]+i-3),l.rightBar.css(h,f[m]+f[u]/2-g/2),l.rightBar.css(c,5),l.rightBar.css(u,g)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=t.data.self;i._sliders[t.data.groupIndex]&&(null==i._resizeState.state&&i._testAndSetReadyResize(t),"ready"==i._resizeState.state&&(e.jqx._rangeSelectorTarget=i,i._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],s=this._sliders[e],r=s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,n=r.min.valueOf(),o=r.max.valueOf()-n;0==o&&(o=1);var a=this._getXAxis(e),l="horizontal"==i.orientation?"height":"width",d=(t.valueOf()-n)/o;return s.getRect()[l]*(a.flip?1-d:d)},_offsetToValue:function(e,t){var i=this._sliders[e],s=this.seriesGroups[e],r=this._getXAxis(e),n="horizontal"==s.orientation?"height":"width",o=i.getRect()[n];0==o&&(o=1);var a=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,l=a.min.valueOf(),d=a.max.valueOf(),h=t/o*(d-l)+l;return 1==r.flip&&(h=d-t/o*(d-l)),this._isDate(a.min)||this._isDate(a.max)?h=new Date(h):((null==r.dataField||a.useIndeces)&&(h=Math.round(h)),h<a.min&&(h=a.min),h>a.max&&(h=a.max)),h},_onSliderMouseUp:function(t){var i=e.jqx._rangeSelectorTarget;if(i){var s=t.data.groupIndex,r=t.data.swapXY,n=i._sliders[s];if(n&&"resizing"==i._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),i._resizeState={},i.host.css("cursor","default");var o=r?"top":"left",a=r?"y":"x",l=n.element.coord()[o],d=l+(r?n.element.height():n.element.width()),h=n.getRect(),c=i._offsetToValue(s,l-h[a]),u=i._offsetToValue(s,d-h[a]);!n.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&u.valueOf()-c.valueOf()>864e5&&(c.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var p=i._getXAxis(s);if(p.flip){var m=c;c=u,u=m}for(var f=0;f<i.seriesGroups.length;f++){i._getXAxis(f)==p&&(i._selectorRange[f]={min:c,max:u})}i._isSelectorRefresh=!0;var g=i.enableAnimations;i._raiseEvent("rangeSelectionChanging",{instance:i,minValue:c,maxValue:u}),i.enableAnimations=!1,i.update(),i.enableAnimations=g,i._raiseEvent("rangeSelectionChanged",{instance:i,minValue:c,maxValue:u})}}},_onSliderMouseMove:function(t){var i=t.data.self,s=(t.data.renderTo,t.data.groupIndex),r=i._sliders[s],n=t.data.swapXY;if(r){var o=r.getRect(),a=r.element,l=e.jqx.position(t),d=a.coord(),h=n?"top":"left",c=n?"height":"width",u=n?"y":"x";if("resizing"==i._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==i._resizeState.side){var p=Math.round(l[h]-d[h]),m=o[u];if(d[h]+p>=m&&d[h]+p<=m+o[c]){var f=parseInt(a.css(h)),g=Math.max(2,(n?a.height():a.width())-p);a.css(c,g),a.css(h,f+p)}}else if("right"==i._resizeState.side){var v=n?a.height():a.width();p=Math.round(l[h]-d[h]-v),m=o[u];if(d[h]+v+p>=m&&d[h]+p+v<=m+o[c]){g=Math.max(2,v+p);a.css(c,g)}}else if("move"==i._resizeState.side){v=n?a.height():a.width(),f=parseInt(a.css(h)),p=Math.round(l[h]-i._resizeState.startPos);d[h]+p>=o[u]&&d[h]+p+v<=o[u]+o[c]&&(i._resizeState.startPos=l[h],a.css(h,f+p))}var x=parseInt(a.css(h))-r.rect[u],w=x+(n?a.height():a.width());i._setSliderPositions(s,x,w)}else i._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var i=t.data.self,s=t.data.renderTo,r=t.data.groupIndex,n=i._sliders[r],o=t.data.swapXY,a=n.getRect(),l=n.element,d=e.jqx.position(t),h=l.coord(),c=o?"left":"top",u=o?"top":"left",p=o?"width":"height",m=i._isTouchDevice?30:5;d[c]>=h[c]&&d[c]<=h[c]+a[p]?Math.abs(d[u]-h[u])<=m?(s.css("cursor",o?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"left"}):Math.abs(d[u]-h[u]-(o?l.height():l.width()))<=m?(s.css("cursor",o?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"right"}):d[u]+m>h[u]&&d[u]-m<h[u]+(o?l.height():l.width())?(s.css("cursor","pointer"),i._resizeState={state:"ready",side:"move",startPos:d[u]}):(s.css("cursor","default"),i._resizeState={}):(s.css("cursor","default"),i._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],s=0;s<i.series.length;s++){if(void 0!==i.series[s].summary)if(void 0!==this._getDataValue(t,i.series[s].summary,e))return!0}return!1},_applyWaterfall:function(e,t,i,s,r,n,o,a,l){var d=this.seriesGroups[i];if(0==e.length)return e;for(var h=s,c={},u=[],p=void 0,m=[],f=0;f<d.series.length;f++)m.push(this._isSerieVisible(i,f));for(var g={},v=0;v<t;v++){var x=s,w=0,y=this._isSummary(i,v);for(f=0;f<e.length;f++)if(m[f]){var b=0;if(y){b=x==s?r:0,e[f][v].value=c[f],e[f][v].summary=!0,p=e[f][v].value<b,a&&(p=!p);var _=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[f][v].value,b,b,NaN,o,s,a):this._getDataPointOffsetDiff(e[f][v].value+w,0==w?r:w,b||r,n,o,s,a),e[f][v].to=x+(p?_:-_),e[f][v].from=x,l&&(w+=e[f][v].value,x=e[f][v].to)}else{var j=l?-1:f;if(!isNaN(e[f][v].value)){void 0===g[j]&&(b=r,g[j]=!0),p=e[f][v].value<b,a&&(p=!p);var q=NaN;_=NaN;q=l?h:0==v?s:e[f][u[f]].to;_=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[f][v].value,b,b,NaN,o,s,a):this._getDataPointOffsetDiff(e[f][v].value+(isNaN(c[j])?0:c[j]),isNaN(c[j])?r:c[j],b||r,n,o,q,a),e[f][v].to=h=q+(p?_:-_),e[f][v].from=q,isNaN(c[j])?c[j]=e[f][v].value:c[j]+=e[f][v].value,-1==j&&(isNaN(c[f])?c[f]=e[f][v].value:c[f]+=e[f][v].value),l||(u[f]=v)}}}}return e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var r=i.element.nextSibling,n=!1;!r||"#text"!=r.nodeName&&"span"!=r.nodeName||(n=!0);var o=0,a=e("<div></div>",s);if(n){a.append(r);var l=e("<span>"+e(r).text()+"</span>");l.appendTo(e(document.body)),o+=l.width(),l.remove()}a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+o+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(a);var d=i.host.data();if(i.host=a,i.host.data(d),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=16);var i=parseInt(this.boxSize)+"px",s="16px",r=Math.floor((parseInt(this.boxSize)-16)/2),n=r;r+="px",n+="px",16!=parseInt(this.boxSize)?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+r+"; top: "+n+"; width: "+s+"; height: "+s+';"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox(),this.isMaterialized()&&(e(this.checkbox).addClass("ripple"),e.jqx.ripple(e(this.checkbox),this.host,"checkbox"))},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown";e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,i,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.clickTime=new Date,t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(i){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault&&i.preventDefault(),e(t.checkbox).removeClass("active"),(!t.clickTime||t.clickTime&&new Date-t.clickTime>300)&&e(t.checkbox).addClass("active"),t.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(i){if(e(t.checkbox).removeClass("active"),!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault&&i.preventDefault(),t.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown";e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates(),this.host.attr("checked",this.checked)},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t),e?this.element.setAttribute("checked",!0):this.element.removeAttribute("checked")},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),this.element.setAttribute("checked",!0),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}var s=this.changeType;this._raiseEvent("0",{checked:!0}),this.changeType=s,this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;this.element.removeAttribute("checked"),e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")}));var i=this.changeType;this._raiseEvent("1"),this.changeType=i,this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));this.changeType;this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var s=this.events[t],r=new e.Event(s);r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"checked"==i&&r!=s)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=s&&(r?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===e.jqx._jqxColorPicker.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.getAttribute("value")){var r=i.field.getAttribute("value");i.color=new e.jqx.color({hex:r})}i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var n=e("<div></div>",s);n[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(n);var o=i.host.data();if(i.host=n,i.host.data(o),i.element=n[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var a=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=a}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this,t=e.color.h,i=100-e.color.v,s=e.colorMap.height(),r=e.colorMap.width(),n=t*r/360,o=i*s/100;if("saturation"==this.colorMode){a=(a=100-e.color.s)*s/100,e._saturation=100-e.color.s,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8),e.colorMapImageOverlay.css("opacity",(100-e.color.s)/100)}else{var a;n=(t=e.color.s)*r/100,o=i*s/100;a=(a=360-e.color.h)*s/360,e._hue=e.color.h,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){var e=this;e.color.setRgb(e.red.val(),e.green.val(),e.blue.val()),e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},_setPosition:function(t,i,s){var r=parseInt(t.pageX),n=parseInt(i.offset().left),o=parseInt(t.pageY),a=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);r=l.left,o=l.top}-1==s[0].className.indexOf("jqx-color-picker-bar")&&s.css("margin-left",r-8-n),o>=a&&o<=a+i.height()&&s.css("margin-top",o-8-a)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!t.disabled)return t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var i=function(e){var i;(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode)?((i=t._valuesFromMouse(e,t.colorMap,360,100)).x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)):((i=t._valuesFromMouse(e,t.colorMap,100,100)).x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y));t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},s="mousedown.picker"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,s,function(e){t.disabled||(t.beginDrag=!0,i(e))});var r="mousemove.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),r,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var n=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},o="mousemove.colorBar"+this.element.id,a="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,a,function(e){t.disabled||(t.beginDragBar=!0,n(e))}),this.addHandler(e(document),o,function(e){t.disabled||1==t.beginDragBar&&(n(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,s="mousedown.colorBar"+t,r="mouseup.colorBar"+t,n="mousedown.picker"+t,o="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,s=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,o=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorMap,o),this.removeHandler(this.colorBar,s),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),o),this.removeHandler(e(document),i),this.removeHandler(e(document),r)},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:s})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=s,s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,s,r){var n=0,o=0,a=i.offset(),l=i.height(),d=i.width(),h=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);h=u.left,c=u.top}return n=h<a.left?0:h>a.left+d?d:h-a.left+1,o=c<a.top?0:c>a.top+l?l:c-a.top+1,{x:parseInt(n/d*s),y:parseInt(o/l*r)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e))>i?i:e<t?t:e},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var t=this;t.red.val(t.color.r),t.green.val(t.color.g),t.blue.val(t.color.b),t.hex.val(t.color.hex);var i=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(i.setHsv(this.color.h,100,this.color.v),t.colorBar.css("background","#"+i.hex)):(i.setHsv(this.color.h,100,100),t.colorMap.css("background-color","#"+i.hex)),t.preview.css("background","#"+this.color.hex),t.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var s=this.red.prev().outerWidth()-this.hex.prev().outerWidth();s<4&&(s=4),this.hex.css("margin-left",s+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return r>0?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",s="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(s=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(s)}},validateHex:function(e){return(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,s;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),s=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(s)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,s=parseInt(e.l)/100;if(s<=.5)var r=s*(1+i);else r=s+i-s*i;var n=2*s-r,o=t+1/3,a=t,l=t-1/3;return{r:Math.round(255*this.hueToRgb(n,r,o)),g:Math.round(255*this.hueToRgb(n,r,a)),b:Math.round(255*this.hueToRgb(n,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,s=e.b/255,r={h:0,s:0,v:0},n=0,o=0;if(t>=i&&t>=s?(o=t,n=i>s?s:i):i>=s&&i>=t?(o=i,n=t>s?s:t):(o=s,n=i>t?t:i),r.v=o,r.s=o?(o-n)/o:0,r.s){var a=o-n;r.h=t==o?(i-s)/a:i==o?2+(s-t)/a:4+(t-i)/a,r.h=parseInt(60*r.h),r.h<0&&(r.h+=360)}else r.h=0;return r.s=parseInt(100*r.s),r.v=parseInt(100*r.v),r},hsvToRgb:function(e){var t={r:0,g:0,b:0},i=e.h,s=e.s,r=e.v;if(0==s)t.r=t.g=t.b=0==r?0:parseInt(255*r/100);else{360==i&&(i=0),i/=60,s/=100,r/=100;var n=parseInt(i),o=i-n,a=r*(1-s),l=r*(1-s*o),d=r*(1-s*(1-o));switch(n){case 0:t.r=r,t.g=d,t.b=a;break;case 1:t.r=l,t.g=r,t.b=a;break;case 2:t.r=a,t.g=r,t.b=d;break;case 3:t.r=a,t.g=l,t.b=r;break;case 4:t.r=d,t.g=a,t.b=r;break;case 5:t.r=r,t.g=a,t.b=l}t.r=parseInt(255*t.r),t.g=parseInt(255*t.g),t.b=parseInt(255*t.b)}return t},setRgb:function(e,t,i){var s=function(e){return e<0||e>255?0:isNaN(parseInt(e))?0:e};this.r=s(e),this.g=s(t),this.b=s(i);var r=this.rgbToHsv(this);this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var s=this.hslToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var s=this.hsvToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMaterialColorPicker","",{}),e.extend(e.jqx._jqxMaterialColorPicker.prototype,{defineInstance:function(){var t={events:["colorchange"]};return this===e.jqx._jqxMaterialColorPicker.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._renderGrid(),this._addHandlers()},_renderGrid:function(){var e=this,t=document.createElement("div");e._renderShades(),e._renderColorPalette(),e._renderColorLabels(),t.classList="jqx-labels-and-palette",t.appendChild(e._colorLabelsContainer),t.appendChild(e._paletteContainer),e.element.appendChild(t)},_renderColorPalette:function(){for(var e=[["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000"],["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162"],["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff"],["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea"],["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe"],["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff"],["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea"],["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4"],["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5"],["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853"],["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17"],["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00"],["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600"],["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00"],["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00"],["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00"],["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"],["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"],["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]],t=document.createElement("div"),i=0,s=e.length;i<s;i++){var r=e[i],n=this._renderRow(r,"jqx-color-cell",!1);t.appendChild(n)}t.className="jqx-palette",this._paletteContainer=t},_renderShades:function(){var e=document.createElement("div"),t=this._renderRow([50,100,200,300,400,500,600,700,800,900,"A 100","A 200","A 400","A 700"],"jqx-shade-cell",!0);e.className="jqx-shades",e.appendChild(t),this.element.appendChild(e)},_renderColorLabels:function(){var e=document.createElement("div"),t=this._renderRow(["Red","Pink","Purple","Deep Purple","Indigo","Blue","Light Blue","Cyan","Teal","Green","Light Green","Lime","Yellow","Amber","Orange","Deep Orange","Brown","Grey","Blue Grey"],"jqx-color-label",!0);e.className="jqx-color-labels",e.appendChild(t),this._colorLabelsContainer=e},_renderRow:function(e,t,i){for(var s=document.createElement("ul"),r=0,n=e.length;r<n;r++){var o=e[r],a=document.createElement("li");i?a.innerHTML=o:(a.style.background=o,a.setAttribute("data-color",o)),a.className=t,s.appendChild(a)}return s},_addHandlers:function(){var e=this;this.host.find(".jqx-color-cell").on("click",function(){e._currentColorHex=event.target.getAttribute("data-color"),e._currentColorRgb=event.target.style.background,e._raiseEvent(0,{color:e.getColor()})})},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},getColor:function(){var e=this._currentColorRgb.match(/\d+/g);return{hex:this._currentColorHex.substring(1),r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])}},destroy:function(){this.host.remove()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComboBox","",{}),e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var t={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:17,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,hint:!0,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:2e3,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxComboBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this.host.attr("role","combobox"),e.jqx.aria(this,"aria-autocomplete","both"),null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");if(e.jqx.aria(this),this.isMaterialized()){var i=window.getComputedStyle(this.element),s=i.getPropertyValue("--jqx-dropdown-animation"),r=i.getPropertyValue("--jqx-list-item-height"),n=i.getPropertyValue("--jqx-action-button-size");n&&(this.arrowSize=parseInt(n)),s&&"default"==this.animationType&&(this.animationType=s.trim()),r&&-1===this.itemHeight&&(this.itemHeight=parseInt(r))}""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var t=(d=this).element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){d.field=d.element,d.field.className&&(d._className=d.field.className);var i={title:d.field.title};d.field.id.length?i.id=d.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":i.id=e.jqx.utilities.createId()+"_jqxComboBox";var s=e("<div></div>",i);d.width||(d.width=e(d.field).width()),d.height||(d.height=e(d.field).outerHeight()),d.element.style.cssText=d.field.style.cssText,e(d.field).hide().after(s);var r=d.host.data();if(d.host=s,d.host.data(r),d.element=s[0],d.element.id=d.field.id,d.field.id=i.id,d._className&&(d.host.addClass(d._className),e(d.field).removeClass(d._className)),d.field.tabIndex){var n=d.field.tabIndex;d.field.tabIndex=-1,d.element.tabIndex=n}if(""!=d.field.innerHTML){var o=e.jqx.parseSourceTag(d.field);d.source=o.items,-1==d.selectedIndex&&(d.selectedIndex=o.index)}}else if(d.host.find("li").length>0||d.host.find("option").length>0){o=e.jqx.parseSourceTag(d.element);d.source=o.items}d.removeHandlers(),d.isanimating=!1,d.id=e.jqx.utilities.createId(),d.element.innerHTML="";var a=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'></div><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'></div></div></div>");if(d.comboStructure=a,null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";d.touch=e.jqx.mobile.isTouchDevice(),!0===d.touchMode&&(d.touch=!0),d.host.append(a),d.dropdownlistWrapper=d.host.find("#dropdownlistWrapper"),d.dropdownlistArrow=d.host.find("#dropdownlistArrow"),d.dropdownlistContent=d.host.find("#dropdownlistContent"),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content")),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-widget-content")),d.dropdownlistWrapper[0].id="dropdownlistWrapper"+d.element.id,d.dropdownlistArrow[0].id="dropdownlistArrow"+d.element.id,d.dropdownlistContent[0].id="dropdownlistContent"+d.element.id,d.template&&d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-"+d.template)),d.dropdownlistContent.append(e('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),d.input=d.dropdownlistContent.find("input"),d.input.addClass(d.toThemeProperty("jqx-combobox-input")),d.input.addClass(d.toThemeProperty("jqx-widget-content")),d.host.attr("tabindex")&&(d.input.attr("tabindex",d.host.attr("tabindex")),d.host.removeAttr("tabindex"));var l=e("<label></label>");this.hint&&(l[0].innerHTML=this.placeHolder),l.addClass(d.toThemeProperty("jqx-input-label")),d.dropdownlistWrapper.append(l),d.label=l;var d,h=e("<span></span>");d.dropdownlistWrapper.append(h),h.addClass(d.toThemeProperty("jqx-input-bar")),d.bar=h,(d=this).template&&(d.bar.addClass(d.toThemeProperty("jqx-"+d.template)),d.label.addClass(d.toThemeProperty("jqx-"+d.template))),d._addInput(),d.rtl&&(d.input.css({direction:"rtl"}),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-rtl")));try{var c="listBox"+d.id,u=e(e.find("#"+c));u.length>0&&u.remove(),e.jqx.aria(this,"aria-owns",c),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-multiline",!1),d.listBoxContainer&&d.listBoxContainer.jqxListBox("destroy"),d.container&&d.container.remove();var p=e("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+d.id+"'><div id='innerListBox"+d.id+"'></div></div>");p.hide(),"element"==d.dropDownContainer?p.appendTo(d.host):p.appendTo(document.body),p.addClass(d.toThemeProperty("jqx-listbox-container")),d.container=p,d.listBoxContainer=e(e.find("#innerListBox"+d.id));var m=d.width;"auto"!=d.dropDownWidth&&(m=d.dropDownWidth),null==d.dropDownHeight&&(d.dropDownHeight=200),d.container.width(parseInt(m)+25),d.container.height(parseInt(d.dropDownHeight)+25),d._ready=!1,d.addHandler(d.listBoxContainer,"bindingComplete",function(t){d.listBox||(d.listBox=e.data(d.listBoxContainer[0],"jqxListBox").instance),d._ready||(d.ready&&d.ready(),d._ready=!0),d._raiseEvent("6")}),d.addHandler(d.listBoxContainer,"itemAdd",function(e){d._raiseEvent("7",e.args)}),d.addHandler(d.listBoxContainer,"itemRemove",function(e){d._raiseEvent("8",e.args)}),d.addHandler(d.listBoxContainer,"itemUpdate",function(e){d._raiseEvent("9",e.args)});d.listBoxContainer.jqxListBox({autoItemsHeight:d.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:d.checkboxes,emptyString:d.emptyString,autoBind:!d.remoteAutoComplete&&d.autoBind,renderer:d.renderer,rtl:d.rtl,itemHeight:d.itemHeight,selectedIndex:d.selectedIndex,incrementalSearch:!1,width:m,scrollBarSize:d.scrollBarSize,autoHeight:d.autoDropDownHeight,height:d.dropDownHeight,groupMember:d.groupMember,searchMember:d.searchMember,displayMember:d.displayMember,valueMember:d.valueMember,source:d.source,theme:d.theme,rendered:function(){if(d.listBox=e.data(d.listBoxContainer[0],"jqxListBox").instance,d.remoteAutoComplete)if(d.autoDropDownHeight?(d.container.height(d.listBox.virtualSize.height+25),d.listBoxContainer.height(d.listBox.virtualSize.height),d.listBox._arrange()):(d.listBox._arrange(),d.listBox.ensureVisible(0),d.listBox._renderItems(),d.container.height(d.listBoxContainer.height()+25)),null!=d.searchString&&d.searchString.length>=d.minLength){var t=d.listBoxContainer.jqxListBox("items");t&&t.length>0?d.isOpened()||d.open():d.close()}else d.close();else d.renderSelection("mouse"),d.multiSelect&&d.doMultiSelect(!1);d.rendered&&d.rendered()}}),"element"==d.dropDownContainer?d.listBoxContainer.css({position:"absolute",top:0,left:0}):d.listBoxContainer.css({position:"absolute",zIndex:d.popupZIndex,top:0,left:0}),d.listBoxContainer.css("border-top-width","1px"),d.listBoxContainer.addClass(d.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&d.listBoxContainer.addClass(d.toThemeProperty("jqx-noshadow")),d.template&&d.listBoxContainer.addClass(d.toThemeProperty("jqx-"+d.template+"-item")),d.listBox=e.data(d.listBoxContainer[0],"jqxListBox").instance,d.listBox.enableSelection=d.enableSelection,d.listBox.enableHover=d.enableHover,d.listBox.equalItemsWidth=d.equalItemsWidth,d.listBox._arrange(),d.addHandler(d.listBoxContainer,"unselect",function(e){d.multiSelect||d._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),d.addHandler(d.listBoxContainer,"change",function(e){d.multiSelect||(d.selectedIndex=d.listBox.selectedIndex,d._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==d.animationType?d.container.css("display","none"):d.container.hide(),!1}catch(e){throw e}if((d=this).input.attr("disabled",d.disabled),e.jqx.browser.msie&&e.jqx.browser.version<8||(d.isMaterialized()&&d.hint?d.label[0].innerHTML=d.placeHolder:d.input.attr("placeholder",d.placeHolder)),d.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(d.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-disabled"))):(t.host.removeClass(d.toThemeProperty("jqx-combobox-state-disabled")),t.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(d.toThemeProperty("jqx-combobox-content-disabled"))),t.input.attr("disabled",t.disabled),e.jqx.aria(t,"aria-disabled",t.disabled),t.input.attr("disabled",t.disabled)},d.disabled&&(d.host.addClass(d.toThemeProperty("jqx-combobox-state-disabled")),d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-disabled"))),d.host.addClass(d.toThemeProperty("jqx-combobox-state-normal")),d.host.addClass(d.toThemeProperty("jqx-combobox")),d.host.addClass(d.toThemeProperty("jqx-rc-all")),d.host.addClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-widget-content")),d.dropdownlistArrowIcon=e("<div></div>"),"top"==d.dropDownVerticalAlignment?d.dropdownlistArrowIcon.addClass(d.toThemeProperty("jqx-icon-arrow-up")):d.dropdownlistArrowIcon.addClass(d.toThemeProperty("jqx-icon-arrow-down")),d.dropdownlistArrowIcon.addClass(d.toThemeProperty("jqx-icon")),d.dropdownlistArrow.append(d.dropdownlistArrowIcon),d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-combobox-arrow-normal")),d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-fill-state-normal")),d.rtl?d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-rc-l")):d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-rc-r")),d._setSize(),d._updateHandlers(),d.addHandler(d.input,"keyup.textchange",function(e){d._writeTimer&&clearTimeout(d._writeTimer),d._writeTimer=setTimeout(function(){d._search(e);d.cinput&&d.input&&(d.displayMember?d._updateInputSelection():d.cinput[0].value=d.input[0].value)},50)}),e.jqx.browser.msie&&e.jqx.browser.version<8&&d.host.parents(".jqx-window").length>0){var f=d.host.parents(".jqx-window").css("z-index");p.css("z-index",f+10),d.listBoxContainer.css("z-index",f+10)}d.checkboxes?(d.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1),d.remoteAutoComplete||(d.searchString=""),this.bar.css("top",this.host.height())},_addInput:function(){var t=this.host.attr("name");this.cinput=e("<input type='hidden'/>"),this.host.append(this.cinput),t&&this.cinput.attr("name",t)},_updateInputSelection:function(){if(this.cinput){var t=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var i=this.getSelectedItem();null!=i?(this.cinput.val(i.value),t.push(i.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)s=this.getSelectedItems();else var s=this.getCheckedItems();var r="";if(null!=s)for(var n=0;n<s.length;n++)n==s.length-1?r+=s[n].value:r+=s[n].value+",",t.push(s[n].value);this.cinput.val(r)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(t){var i=this;if(9!=t.keyCode&&"none"!=i.searchMode&&null!=i.searchMode&&"undefined"!=i.searchMode&&16!=t.keyCode&&17!=t.keyCode&&20!=t.keyCode&&!i.checkboxes){if(i.multiSelect){var s=e("<span style='visibility: hidden; white-space: nowrap;'>"+document.createTextNode(i.input.val())+"</span>");s.addClass(i.toThemeProperty("jqx-widget")),e(document.body).append(s);var r=s.width()+15;s.remove(),r>i.host.width()&&(r=i.host.width()),r<25&&(r=25),i.input.css("width",r+"px"),0==i.selectedItems.length?(i.input.css("width","100%"),i.isMaterialized()||i.input.attr("placeholder",i.placeHolder)):i.isMaterialized()||i.input.attr("placeholder","");var n=parseInt(this._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px";0,i.container.css("top",n);var o=parseInt(i.host.height());i.dropdownlistArrow.height(o)}if(!i.isanimating){if(t.altKey&&38==t.keyCode)return i.hideListBox("altKey"),!1;if(t.altKey&&40==t.keyCode)return i.isOpened()||i.showListBox("altKey"),!1}if(37==t.keyCode||39==t.keyCode)return!1;if(!t.altKey&&18!=t.keyCode&&!(t.keyCode>=33&&t.keyCode<=40||(t.ctrlKey||i.ctrlKey)&&88!=t.keyCode&&86!=t.keyCode)){var a=i.input.val();if(0==a.length&&!i.autoComplete)return i.listBox.searchString=i.input.val(),i.listBox.clearSelection(),i.hideListBox("search"),void(i.searchString=i.input.val());if(i.remoteAutoComplete){i=this;var l=function(){i.listBox.vScrollInstance.value=0};if(a.length>=i.minLength){if(!t.ctrlKey&&!t.altKey){if(i.searchString!=a)null==i.listBoxContainer.jqxListBox("source")&&i.listBoxContainer.jqxListBox({source:i.source}),i._searchTimer&&clearTimeout(i._searchTimer),13!=t.keyCode&&27!=t.keyCode&&(i._searchTimer=setTimeout(function(){if(l(),i.autoDropDownHeight&&(i.listBox.autoHeight=!0),i.searchString=i.input.val(),null==i.search)throw"'search' function is not defined";i.search(i.input.val())},i.remoteAutoCompleteDelay));i.searchString=a}}else i._searchTimer&&clearTimeout(i._searchTimer),l(),i.searchString="",i.search(""),i.listBoxContainer.jqxListBox({source:null})}else{if(a!==(i=this).searchString){if("27"!=t.keyCode&&"13"!=t.keyCode){var d=i.input[0].value,h=i._updateItemsVisibility(a),c=h.matchItems;i.autoComplete&&i.autoItemsHeight&&(i.input[0].value=d);var u=h.index;if(!i.autoComplete&&!i.remoteAutoComplete)if(!i.multiSelect||i.multiSelect&&u>=0)i.listBox.selectIndex(u),i.listBox.isIndexInView(u)?i.listBox._renderItems():i.listBox.ensureVisible(u);i.autoComplete&&0===c.length&&i.hideListBox("search")}if("13"==t.keyCode){if("block"==i.container.css("display")&&!i.isanimating)return i.hideListBox("keyboard"),void(i._oldvalue=i.listBox.selectedValue)}else if("27"==t.keyCode){if("block"==i.container.css("display")&&!i.isanimating){var p;if(i.multiSelect)i.input.val(""),i.listBox.selectedValue=null;else if(p=i.listBox.getVisibleItem(i._oldvalue)){i=this;setTimeout(function(){i.autoComplete&&i._updateItemsVisibility(""),i.listBox.selectIndex(p.index),i.renderSelection("api")},i.closeDelay)}else i.clearSelection();return i.hideListBox("keyboard"),i.renderSelection("api"),t.preventDefault(),!1}}else i.isOpened()||i.opening||t.ctrlKey||i.listBox.visibleItems&&i.listBox.visibleItems.length>0&&i.input.val()!=i.searchString&&null!=i.searchString&&-1!=u&&i.showListBox("search"),i.searchString=i.input.val(),""==i.searchString&&(i.listBox.itemsByValue[""]||(u=-1,i.multiSelect||i.clearSelection())),null!=(p=i.listBox.getVisibleItem(u))&&i._updateInputSelection()}}}}},val:function(e){if(!this.input)return"";var t;return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length?(t=this.getSelectedItem())?t.value:this.input.val():(null!=(t=this.getItemByValue(e))?this.selectItem(t):this.input.val(e),this.input.val())},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(t){var i=this.getItems();if(null==i)return{index:-1,matchItem:new Array};var s=this,r=-1,n=new Array,o=0;e.each(i,function(i){var a="";if(!this.isGroup){a=(a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":l=e.jqx.string.contains(a,t);break;case"equals":l=e.jqx.string.equals(a,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":l=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":l=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(a,t)}if(s.autoComplete&&!l&&(this.visible=!1),l&&s.autoComplete&&(n[o++]=this,this.visible=!0,r=this.visibleIndex),""==t&&s.autoComplete&&(this.visible=!0,l=!1),s.multiSelect&&(this.disabled=!1,(s.selectedItems.indexOf(this.value)>=0||s._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,l=!1)),s.multiSelect){if(l&&!s.autoComplete)return-1===r&&(r=this.visibleIndex),!0}else if(l&&!s.autoComplete)return r=this.visibleIndex,!1}}),this.listBox.searchString=t;s=this;var a=function(){if(!s.multiSelect){for(var e=0,t=!1,i=null,r=0;r<s.listBox.items.length;r++)s.listBox.selectedIndexes[r]=-1,s.listBox.items[r].disabled||0==t&&(e=(i=s.listBox.items[r]).visibleIndex,t=!0);s.listBox.selectedIndex=-1,s.listBox.selectedIndex=e,s.listBox.selectedIndexes[e]=e,s.listBox.visibleItems.length>0?s.listBox.selectedValue=i?i.value:null:s.listBox.selectedValue=null,s.listBox.ensureVisible(0)}};if(!this.autoComplete)return a(),{index:r,matchItems:n};this.listBox.renderedVisibleItems=new Array;var l=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var d=this.listBox.selectedValue,h=this.listBox.getItemByValue(d);if(this.multiSelect)a();else if(h)if(h.visible){this.listBox.selectedIndex=h.visibleIndex;for(var c=0;c<this.listBox.items.length;c++)this.listBox.selectedIndexes[c]=-1;this.listBox.selectedIndexes[h.visibleIndex]=h.visibleIndex}else{for(c=0;c<this.listBox.items.length;c++)this.listBox.selectedIndexes[c]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var u=this.listBox._calculateVirtualSize().height;if(u<l&&(l=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(u+25),this.listBox.invalidate(),this._disableSelection=!1;else if(u<parseInt(this.dropDownHeight)){var p="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=p+u,this.container.height(u+25+p),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(l),{index:r,matchItems:n}},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a&&(n[r++]=this)}}),n},_resetautocomplete:function(){e.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var t=window.getComputedStyle(this.element),i=2*parseInt(t.borderLeftWidth);("border-box"===t.boxSizing||isNaN(i))&&(i=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-i+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-i+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-i+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-i+"px");var s=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(s=!0,this.element.style.width=this.width,i>0&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(s=!0,this.element.style.height=this.height),s){var r=this,n=this.host.width();"auto"!=this.dropDownWidth&&(n=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:n}),this.container.width(parseInt(n)+25),this._arrange()}(r=this).oldWidth=r.host.width(),r.oldHeight=r.host.height(),e.jqx.utilities.resize(this.host,function(){var e=r.host.width(),t=r.host.height();e==r.oldWidth&&t==r.oldHeight||(r.multiSelect&&r.host.height(r.height),r._arrange(),r.multiSelect&&r.host.height("auto"),r.hideListBox("api")),r.oldWidth=e,r.oldHeight=t})},isOpened:function(){var t=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=t&&t==this.listBoxContainer)},_updateHandlers:function(){var t=this;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){t.isOpened()&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(e(document),"mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top,l=!0;e.pageY>=s&&e.pageY<=s+t.host.height()+2&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=a&&e.pageY<=a+t.container.height()-20&&e.pageX>=o&&e.pageX<o+t.container.width()&&(l=!1),l&&t.close()}}));var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.dropdownlistArrow,i,function(i){!function(i){if(!t.disabled){var s="block"==t.container.css("display");if(!t.isanimating){if(s)return t.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!0;if(t.autoDropDownHeight&&(t.container.height(t.listBoxContainer.height()+25),t.listBoxContainer.jqxListBox("autoHeight")||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25))),t.showListBox("api"),e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){t.input.focus()},10)}}}()}),this.addHandler(this.dropdownlistArrowIcon,i,function(e){}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(e){t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.bar.addClass("focused"),t.label.addClass("focused"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.bar.removeClass("focused"),t.label.removeClass("focused"),t.isOpened()||t.opening||("dropDownList"==t.selectionMode&&t._selectOldValue(),t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if(t.ctrlKey=e.ctrlKey,"none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&i&&!t.isanimating){if(-1!=t.listBox.selectedIndex){t.renderSelection("mouse");var s=t.listBox.selectedIndex;(r=t.listBox.getVisibleItem(s))&&(t.listBox.selectedValue=r.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")}return"13"==e.keyCode&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"9"==e.keyCode}if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1;if(e.altKey&&"block"==t.host.css("display")&&(t.isanimating||(38==e.keyCode?t.isOpened()&&t.hideListBox("altKey"):40==e.keyCode&&(t.isOpened()||t.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&t.isOpened()&&!t.isanimating){var r;if("27"==e.keyCode)if(t.multiSelect)t.listBox.selectedValue=null,t.input.val("");else(r=t.listBox.getItemByValue(t._oldvalue))?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(r.index),t.renderSelection("api")},t.closeDelay):t.clearSelection();return t.hideListBox("keyboard"),"9"==e.keyCode?!0:(t.renderSelection("api"),e.preventDefault(),!1)}var n=e.keyCode;if(i&&!t.disabled&&8!=n)return t.listBox._handleKeyDown(e);if(!(t.disabled||i||33!=(n=e.keyCode)&&34!=n&&35!=n&&36!=n&&38!=n&&40!=n))return t.listBox._handleKeyDown(e);if(8===n&&t.multiSelect&&0===t.input.val().length){var o=t.selectedItems[t.selectedItems.length-1];return t.selectedItems.pop(),t._selectedItems.pop(),o&&(t._raiseEvent("3",{index:o.index,type:"keyboard",item:o}),t._raiseEvent("4",{index:o.index,type:"keyboard",item:o})),t.listBox.selectedValue=null,t.doMultiSelect(),!1}t.isMaterialized()&&t.hint&&setTimeout(function(){0===t.input[0].value.length?(t.element.removeAttribute("hint"),t.label[0].innerHTML=t.placeHolder):t.hint&&t.element.setAttribute("hint",!0)})}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled&&("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(e.args.type),t.multiSelect||t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&e.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),!0===t.touch&&(t.checkboxes||t.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var t="mousedown";this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,t),this.removeHandler(this.dropdownlistArrow,t)}},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(t){if(null!=t&&"none"!=t&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){var i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)i=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var s=this.getCheckedItems();i=null!=s&&s.length>0?s[0]:null}if(this.hint&&(this.label[0].innerHTML=this.placeHolder),null!=i?this.hint&&this.element.setAttribute("hint",!0):this.element.removeAttribute("hint"),this.bar.css("top",this.host.height()),null==i){var r=e.jqx.browser.msie&&e.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),r||(this.isMaterialized()?(this.label[0].innerHTML=this.placeHolder,this.input.removeAttr("placeholder")):this.input.attr("placeholder",this.placeHolder)),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var n=e("<span></span>");null!=i.label&&null!=i.label&&i.label.toString().length>0?e.jqx.utilities.html(n,i.label):null!=i.value&&null!=i.value&&i.value.toString().length>0?e.jqx.utilities.html(n,i.value):null!=i.title&&null!=i.title&&i.title.toString().length>0?e.jqx.utilities.html(n,i.title):e.jqx.utilities.html(n,this.emptyString);n.outerHeight();if(this.checkboxes){for(var o=this.getCheckedItems(),a="",l=0;l<o.length;l++)l==o.length-1?a+=o[l].label:a+=o[l].label+", ";this.input.val(a)}else this.input.val(n.text());if(n.remove(),this._updateInputSelection(),this.renderSelectedItem){var d=this.renderSelectedItem(this.listBox.selectedIndex,i);null!=d&&(this.input[0].value=d)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),s=this.selectedItems.indexOf(i.value);s>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return e.each(this.selectedItems,function(){var e;(e=i.getItemByValue(this))?t.push(e):(e=i._selectedItems[this])&&t.push(e)}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;if(t){var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=t||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),this.element.setAttribute("opened",!0),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=t&&(this._updateItemsVisibility(""),this.multiSelect))for(var i=this.getVisibleItems(),s=0;s<i.length;s++)if(!i[s].disabled){this.ensureVisible(s);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=t&&(this._oldvalue=this.listBox.selectedValue),e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var r=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:r}),this.listBoxContainer[0].style.width=r+"px",this.container.width(parseInt(r)+25)}if("auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")){r=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:r+1}),this.container.width(parseInt(r)+25)}var n,o=this,a=this.listBoxContainer,l=this.listBox,d=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));n=h+"px","element"===this.dropDownContainer&&(d=parseInt(this.host.outerHeight())-1+"px",n=0);var c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1,(e.jqx.utilities.hasTransform(this.host)||null!=c&&c)&&(n=e.jqx.mobile.getLeftPos(this.element),d=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(d=parseInt(d)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",n),this.container.css("top",d),l._arrange();var u=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),m=Math.abs(p-this.host.width());p>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if("top"==this.dropDownVerticalAlignment){var f=a.height();u=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"));var g=parseInt(this.host.outerHeight()),v=parseInt(d)-Math.abs(f+g+23);this.container.css("top",v)}if(this.enableBrowserBoundsDetection){var x=this.testOffset(a,{left:parseInt(this.container.css("left")),top:parseInt(d)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=x.top?(u=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"))):a.css("top",0),this.container.css("top",x.top),this.container.css("top",x.top),parseInt(this.container.css("left"))!=x.left&&this.container.css("left",x.left)}if("none"==this.animationType||"transform"===this.animationType)this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,a),a.css("margin-top",0),a.css("opacity",1);else{this.container.css("display","block");var w=a.outerHeight();a.stop(),"fade"==this.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,a)})):(a.css("opacity",1),u?a.css("margin-top",w):a.css("margin-top",-w),this.isanimating=!0,this.opening=!0,a.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,a)}))}l._renderItems(),u?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),a.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),a.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),a.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",l),a.addClass(this.toThemeProperty("jqx-popup-show"))}},doMultiSelect:function(t){this.checkboxes&&(this.multiSelect=!1);var i=this;if(!this.multiSelect){var s=i.dropdownlistContent.find(".jqx-button"),r="mousedown";if(this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove(),!(a=this.listBox.items))return;for(var n=0;n<a.length;n++)a[n].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection&&!this.validateSelection(this.listBox.selectedValue))return;this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var o=this.getItemByValue(this.listBox.selectedValue);o&&o.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(o),this._raiseEvent("2",{index:o.index,item:o}),this._raiseEvent("4",{index:o.index,item:o}))}this.listBox.selectedIndex=-1}if(a=this.listBox.items){for(n=0;n<a.length;n++)a[n].disabled=!1,(this.selectedItems.indexOf(a[n].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(a[n].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var a="";r="mousedown",s=i.dropdownlistContent.find(".jqx-button");this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove(),i.input.detach(),this.selectedItems.length>0?(i.input.css("width","25px"),this.isMaterialized()&&i.hint?i.label[0].innerHTML=this.placeHolder:i.input.attr("placeholder","")):(i.input.css("width","100%"),i.isMaterialized()&&i.hint?i.label[0].innerHTML=this.placeHolder:i.input.attr("placeholder",this.placeHolder)),i.isMaterialized()&&i.hint&&setTimeout(function(){0===i.selectedItems.length?(i.element.removeAttribute("hint"),i.label[0].innerHTML=i.placeHolder):i.hint&&i.element.setAttribute("hint",!0)}),e.each(this.selectedItems,function(t){var s=i.getItemByValue(this);s&&!i.remoteAutoComplete||(s=i._selectedItems[t]);var r=e('<div style="overflow: hidden; float: left;"></div>');if(r.addClass(i.toThemeProperty("jqx-button")),r.addClass(i.toThemeProperty("jqx-combobox-multi-item")),r.addClass(i.toThemeProperty("jqx-fill-state-normal")),r.addClass(i.toThemeProperty("jqx-rc-all")),s){var n=s.label;if(i.renderSelectedItem){var o=i.renderSelectedItem(t,s);o&&(n=o)}""==r[0].innerHTML&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: left;" href="#">'+n+"</a>"),i.rtl&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: right;" href="#">'+n+"</a>");var a=i.rtl?"left":"right";if(i.showCloseButtons){var l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>'),i.rtl){l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>')}r[0].innerHTML+=l}}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#"></a>');i.dropdownlistContent.append(r)}),i.dropdownlistContent.append(i.input),i.input.val(""),!1!==t&&(i.input.focus(),setTimeout(function(){i.input.focus()},10));s=i.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(r="mousedown"),this.addHandler(s,r,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;if(i.disabled)return!0;var s=e(t.target).attr("data-value");return i.getItemByValue(s)&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(s.find(".jqx-icon-close"),r,function(t){if(!i.disabled){var s=e(t.target).parent().parent().find("a").attr("data-value"),r=i.getItemByValue(s);if(r||i.remoteAutoComplete&&!r&&i.selectedItems.indexOf(s)>=0){i.listBox.selectedValue=null;var n=i.selectedItems.indexOf(s),o=r&&r.index>=0?r.index:n;if(n>=0)i.selectedItems.splice(n,1),(l=i._selectedItems[n])||(l=r),i._selectedItems.splice(n,1),i._raiseEvent("3",{index:o,type:"mouse",item:l}),i._raiseEvent("4",{index:o,type:"mouse",item:l}),i.doMultiSelect();else for(var a=0;a<i.selectedItems.length;a++){var l;if((l=i.selectedItems[a])==s){i.selectedItems.splice(a,1),i._selectedItems.splice(a,1),i._raiseEvent("3",{index:o,type:"mouse",item:r}),i._raiseEvent("4",{index:o,type:"mouse",item:r}),i.doMultiSelect();break}}}}}),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),i.dropdownlistArrow.height(this.host.height()),i._updateInputSelection()}},hideListBox:function(t){var i=this.listBoxContainer,s=this.listBox,r=this.container;if("none"!=this.container[0].style.display){this.element.setAttribute("opened",!1),e.jqx.aria(this,"aria-expanded",!1),"keyboard"!=t&&"mouse"!=t||(this.listBox.searchString=""),i.removeClass("jqx-popup-show"),("keyboard"==t||"mouse"==t&&this.multiSelect)&&this.doMultiSelect();var n=this;if(e.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if("transform"===this.animationType)setTimeout(function(){r.css("display","none")},this.closeDelay);else if(!this.ishiding){var o=i.outerHeight();i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0;var a=-o;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=o),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){n.isanimating=!1,r.css("display","none"),n.ishiding=!1})):i.animate({"margin-top":a},this.closeDelay,function(){n.isanimating=!1,r.css("display","none"),n.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",s)}},closeOpenedListBox:function(t){var i=t.data.that,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(!e(t.target).ischildof(i.host)){var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return i.element.id==this.id&&(n=!0),!1}}),null==r||n||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=(this.arrowSize,this.arrowSize),r=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(s=0,0,this.dropdownlistArrow.hide(),r=0,this.host.css("cursor","arrow"));var n=t-s-1*r;n>0&&(this.dropdownlistContent[0].style.width=n+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+n+"px"),this.dropdownlistContent[0].style.height=i+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=s+"px",this.dropdownlistArrow[0].style.height=i+"px",this.dropdownlistArrow[0].style.left=1+n+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(i);var o=this.input.height();0==o&&(o=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var a=parseInt(i)/2-parseInt(o)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);i=parseInt(this.host.height());this.dropdownlistArrow.height(i);var l=parseInt(this.host.css("min-height"));(a=parseInt(l)/2-parseInt(o)/2)>0&&this.input.css("margin-top",a),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),this.dropdownlistArrow.height(this.host.height())}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=e.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i){t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.dropDownListArrow.removeClass(t.toThemeProperty("jqx-"+s)),t.dropDownListArrow.addClass(t.toThemeProperty("jqx-"+t.template));var n=this;n.bar.removeClass(n.toThemeProperty("jqx-"+s)),n.label.removeClass(n.toThemeProperty("jqx-"+s)),n.bar.addClass(n.toThemeProperty("jqx-"+n.template)),n.label.addClass(n.toThemeProperty("jqx-"+n.template))}if("dropDownVerticalAlignment"==i&&(t.close(),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderSelectedItem"==i&&t.renderSelection("mouse"),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"touchMode"===i&&(t.listBoxContainer.jqxListBox({touchMode:r}),t.touch=e.jqx.mobile.isTouchDevice(),!0===t.touchMode&&(t.touch=!0),t._updateHandlers()),"multiSelect"==i)if(r)t.doMultiSelect(!1);else{for(var o=t.listBox.items,a=-1,l=0;l<o.length;l++)o[l].disabled=!1,(t.selectedItems.indexOf(o[l].value)>=0||t._disabledItems.indexOf(t.value)>=0)&&(o[l].disabled=!0,a=o[l].index);if(t.doMultiSelect(!1),t.listBox._renderItems(),!o)return;t.listBox.selectedIndex=a,t.renderSelection("mouse"),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange()}if("showArrow"==i&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),"placeHolder"==i&&(t.isMaterialized()?t.label.innerHTML=t.placeHolder:t.input.attr("placeholder",t.placeHolder)),"popupZIndex"==i&&t.listBoxContainer.css({zIndex:t.popupZIndex}),"promptText"==i&&(t.placeHolder=r),"autoOpen"==i&&t._updateHandlers(),"renderer"==i&&(t.listBox.renderer=t.renderer),"itemHeight"==i&&(t.listBox.itemHeight=r),"source"==i&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),null==t.source&&t.clearSelection(),t.multiSelect&&(t.selectedItems=new Array,t._selectedItems=new Array,t.doMultiSelect(!1))),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var d=t.width;"auto"!=t.dropDownWidth&&(d=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:d,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(d)+25)}if("autoComplete"==i&&t._resetautocomplete(),"checkboxes"==i&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(t,"aria-readonly",!0)):e.jqx.aria(t,"aria-readonly",!1)),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(s,r,t.host)),"rtl"==i&&(t.render(),t.refresh()),"width"==i||"height"==i){if(t._setSize(),"width"==i&&"auto"==t.dropDownWidth){d=t.host.width();t.listBoxContainer.jqxListBox({width:d}),t.container.width(parseInt(d)+25)}t._arrange(),t.close()}"selectedIndex"==i&&(t.listBox.selectIndex(r),t.renderSelection("mouse"))}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){var t={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,hint:!0,template:"",events:["change"]};return this===e.jqx._jqxComplexInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;t._firefox="mozilla"===e.jqx.browser.browser,t._currentNumber={},t._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),t.render()},render:function(){var t=this;if(t.isMaterialized()){var i=e("<label></label");this.hint&&(i[0].innerHTML=this.placeHolder),i.addClass(t.toThemeProperty("jqx-input-label"));var s=e("<span></span>");if(s.addClass(t.toThemeProperty("jqx-input-bar")),"INPUT"===t.element.nodeName.toUpperCase()){var r=e("<div></div>");r.addClass(t.toThemeProperty("jqx-input-group jqx-complex-input-group")),this.host.after(r);var n=this.element,o=this.host.data();r.append(n),r.append(i),r.append(s)}else this.host.append(i),this.host.append(s),this.host.addClass(t.toThemeProperty("jqx-input-group jqx-complex-input-group")),s.css("top",6+this.element.offsetHeight);t.bar=s,t.label=i}if("DIV"===t.element.nodeName.toUpperCase()){t.baseHost=t.host;o=t.host.data();t.host=t.baseHost.children("input"),t.element=t.host[0],t.host.data(o)}if(!0===t.spinButtons){if(!t.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");t._appendSpinButtons()}if(t._addClasses(),t._setSize(),t._removeHandlers(),t._addHandlers(),"exponential"===t.decimalNotation&&-1!==t.value.toLowerCase().indexOf("e")){var a=t._exponentialToDecimal(t.value),l=a.realPart,d=a.imaginaryPart,h=l+" "+(d<0?"-":"+")+" "+Math.abs(d)+"i";t._currentNumber={value:h,realPart:l,imaginaryPart:d}}else t._currentNumber={value:t.value,realPart:t._getReal(t.value),imaginaryPart:t._getImaginary(t.value)};"default"===t.decimalNotation?t.element.value=t.value:t._setNotation(),t._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.host.destroy()},val:function(t){var i,s,r=this;if("string"!=typeof t&&("object"!=typeof t||!1!==e.isEmptyObject(t)))return r.element.value;if("string"==typeof t)if(-1===(t=t.toLowerCase()).indexOf("e"))i=r._getReal(t),s=r._getImaginary(t);else{var n=r._exponentialToDecimal(t);i=1*n.realPart,s=1*n.imaginaryPart}else"object"==typeof t&&!1===e.isEmptyObject(t)&&(i=t.real,s=t.imaginary);var o=i+" "+(s>=0?"+":"-")+" "+Math.abs(s)+"i";o!==r._currentNumber.value&&(r.element.value=o,r._onChange(r.value),"default"!==r.decimalNotation&&r._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(t){(!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value);var i=e.trim(t),s="";if(0===(t.match(/i/g)||[]).length)return parseFloat(i);function r(t){return i=i.slice(0,t),i=e.trim(i),parseFloat(s+""+i)}"+"===t.charAt(0)?i=i.slice(1,t.length):"-"===t.charAt(0)&&(i=i.slice(1,t.length),s="-");var n=i.indexOf("+");if(-1!==n)return r(n);var o=i.indexOf("-");return-1!==o?r(o):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(t){if((!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return 0;var i=e.trim(t),s="";function r(t,s){return i=i.slice(t+1,i.indexOf("i")),""===(i=e.trim(i))&&(i=1),parseFloat(s+""+i)}"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(s="-"===i.charAt(0)?"-":"+",i=e.trim(i.slice(1,t.length)));var n=i.indexOf("+");if(-1!==n)return r(n,"+");var o=i.indexOf("-");return-1!==o?r(o,"-"):""===(i=s+""+i.slice(0,i.indexOf("i")))||"+"===i?1:"-"===i?-1:parseFloat(i)},getDecimalNotation:function(e,t){var i=this;"real"===e?e=i._currentNumber.realPart:"imaginary"===e&&(e=i._currentNumber.imaginaryPart);var s,r,n,o,a=e.toExponential();return"scientific"===t?(r=(s=a).indexOf("e"),n=s.slice(r+1),o=(o=s.slice(0,r+1)).replace("e","Ã10"),o=(o+=i._toSuperScript(n)).replace("+","")):"engineering"===t?function(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t),n=parseInt(s,10)%3;r*=Math.pow(10,n);var o=e.slice(0,t).length-n-2;return o>=0&&(r=r.toFixed(o)),r+"Ã10"+i._toSuperScript((parseInt(s,10)-n).toString())}(a):a},propertyChangedHandler:function(t,i,s,r){var n=this;if(r!==s)switch(i){case"template":t.template&&(t._upbutton.removeClass(n.toThemeProperty("jqx-"+s)),t._downbutton.removeClass(n.toThemeProperty("jqx-"+s)),t._upbutton.addClass(n.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(n.toThemeProperty("jqx-"+t.template)));break;case"width":case"height":t._setSize();break;case"decimalNotation":"default"===r?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=r,t._onChange(s);break;case"spinButtons":var o=function(){t.host.removeClass(t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))};if(t._spinButtonsContainer){var a=t.host.width(),l=t._spinButtonsContainer.outerWidth();!1===r?(t.host.width(a+l),t._spinButtonsContainer.hide(),t.host.addClass(t.toThemeProperty("jqx-rc-all"))):(t.host.width(a-l),t._spinButtonsContainer.show(),o())}else if(!0===r){var d=e("<div></div>");if(t.baseHost)t.host.after(d),t.render();else{var h=t.element.id;t.host.removeAttr("id"),t.host.wrap('<div id="'+h+'" style="display: inline-block;"></div>');var c=e("#"+h);c.append(d);var u=t.host.data();u.jqxComplexInput.host=c,u.jqxComplexInput.element=c[0],t.baseHost=c,t.baseHost.data(u),t.render()}o()}break;case"placeHolder":t._refreshPlaceHolder(s);break;case"roundedCorners":t._spinButtonsContainer?!0===r?!1===t.rtl?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l"))):!1===t.rtl?(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r"))):(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l"))):!0===r?t.host.addClass(t.toThemeProperty("jqx-rc-all")):t.host.removeClass(t.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===r?(t.host.attr("disabled",!0),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":t._spinButtonsContainer&&(!0===r?(t.host.addClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),!0===t.roundedCorners&&(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))):(t.host.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),!0===t.roundedCorners&&(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r")))));break;case"theme":e.jqx.utilities.setTheme(s,r,t.host)}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,i.type=this.changeType,this.changeType=null,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_appendSpinButtons:function(){var t=this;t._spinButtonsContainer=e(t.baseHost.children("div")),t._spinButtonsContainer.attr("unselectable","on"),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),!1===t.rtl?t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));var i='<div unselectable="on" class="'+t.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+t.toThemeProperty("jqx-input-icon")+'"></div></div>';t._upbutton=e(i),t._spinButtonsContainer.append(t._upbutton),t._downbutton=e(i),t._spinButtonsContainer.append(t._downbutton),t._upArrow=t._upbutton.find("div"),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),t._downArrow=t._downbutton.find("div"),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t._upArrow.add(t._downArrow).attr("unselectable","on"),t.template&&(t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template)))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),e.baseHost&&(e.baseHost.addClass(e.toThemeProperty("jqx-widget jqx-complex-input-parent")),e.host.addClass(e.toThemeProperty("jqx-complex-input-child"))),!0===e.roundedCorners&&(e._spinButtonsContainer?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):e.host.addClass(e.toThemeProperty("jqx-rc-all"))),!0===e.disabled&&(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))),!0===e.rtl&&e.host.add(e._spinButtonsContainer).addClass(e.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(e){var t=this;"placeholder"in t.element?t.host.attr("placeHolder",t.placeHolder):""!==t.element.value&&t.element.value!==e||(t.element.value=t.placeHolder)},_setSize:function(){var t=this;function i(){var i=t.baseHost.height(),s=parseInt(t.host.css("border-left-width"),10)+parseInt(t.host.css("border-right-width"),10)+parseInt(t.host.css("padding-left"),10)+parseInt(t.host.css("padding-right"),10),r=0;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(r=s,t.host.height(t.baseHost.height()-2*(parseInt(t.host.css("border-top-width"),10)+parseInt(t.host.css("border-bottom-width"),10)+parseInt(t.host.css("padding-top"),10)+parseInt(t.host.css("padding-bottom"),10)))),t._spinButtonsContainer){var n="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1)?1:0;t.host.width(t.baseHost.width()-s-t._spinButtonsContainer.outerWidth()-r-n),e.jqx.browser.msie&&e.jqx.browser.version<8&&t._spinButtonsContainer.height(i-2*(parseInt(t._spinButtonsContainer.css("border-top-width"),10)+parseInt(t._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(t._spinButtonsContainer.css("padding-top"),10)+parseInt(t._spinButtonsContainer.css("padding-bottom"),10)))}else t.host.width(t.baseHost.width()-s-r)}t.baseHost?(t.baseHost.width(t.width),t.baseHost.height(t.height),i()):(t.host.width(t.width),t.host.height(t.height)),e.jqx.browser.msie&&e.jqx.browser.version<9&&t.host.css("line-height",t.host.height()+"px");var s=t.baseHost||t.host;e.jqx.utilities.resize(s,function(){i(),(e.jqx.browser.msie&&e.jqx.browser.version<9||!e.jqx.browser.msie)&&"string"==typeof t.height&&"%"===t.height.charAt(t.height.length-1)&&t.host.css("line-height",t.host.height()+"px")})},_addHandlers:function(){var t,i=this;t=i.baseHost?i.baseHost[0].id:i.element.id;var s=[8,9,13,32,35,36,37,38,39,40,46];if(i.addHandler(i.host,"focus.jqxComplexInput"+t,function(){if(i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._spinButtonsContainer&&i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-fill-state-focus")),i.bar&&i.bar.addClass("focused"),i.label&&i.label.addClass("focused"),"placeholder"in i.element||i.element.value!==i.placeHolder||(i.element.value=""),"default"!==i.decimalNotation){var e=i._getCaretPosition();i.element.value=i._currentNumber.value,i._setCaretPosition(e)}}),i.addHandler(i.host,"blur.jqxComplexInput"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._spinButtonsContainer&&i._spinButtonsContainer.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i.bar&&i.bar.removeClass("focused"),i.label&&i.label.removeClass("focused"),(i.element.value!==i.value||"placeholder"in i.element||!("placeholder"in i.element)&&""===i.element.value)&&i._onChange(i.value),"placeholder"in i.element||""!==i.element.value&&i.element.value!==i.placeHolder||(i.element.value=i.placeHolder),"default"!==i.decimalNotation&&i._setNotation()}),i.addHandler(i.host,"keydown.jqxComplexInput"+t,function(e){var t=e.charCode?e.charCode:e.which;if(i.changeType="keyboard",!0!==e.ctrlKey||67!==t&&86!==t&&88!==t){var r=String.fromCharCode(t);if(t>=96&&t<=105&&(r=(t-96).toString(),t-=48),(!i._firefox&&187===t||i._firefox&&61===t)&&!0===e.shiftKey?r="+":(!i._firefox&&189===t||i._firefox&&173===t)&&!1===e.shiftKey?r="-":190===t&&!1===e.shiftKey&&(r="."),!0!==i._allowedCharacters.test(r))return-1!==s.indexOf(t)&&void 0;if("+"===r||"-"===r){if((i.element.value.match(/-/g)||[]).length+(i.element.value.match(/\+/g)||[]).length>1)return!1}else if("."===r){if((i.element.value.match(/\./g)||[]).length>1)return!1}else if("i"===r.toLowerCase()&&-1!==i.element.value.indexOf(r.toLowerCase()))return!1}}),i.addHandler(i.host,"keypress.jqxComplexInput"+t,function(e){13===(e.charCode?e.charCode:e.which)&&i.element.value!==i.value&&i._onChange(i.value)}),i._spinButtonsContainer){var r=i._upbutton.add(i._downbutton);i.addHandler(i._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t,function(){i.disabled||""===i.value||null===i.value||(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement(!0))}),i.addHandler(i._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t,function(){i.disabled||""===i.value||null===i.value||i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t,function(){i.disabled||""===i.value||null===i.value||(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement(!1))}),i.addHandler(i._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t,function(){i.disabled||""===i.value||null===i.value||i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(r,"mouseenter.jqxComplexInputSpinButtons"+t,function(t){if(!i.disabled&&""!==i.value&&null!==i.value){var s=e(t.target);s.hasClass("jqx-icon-arrow-up")||s.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(r,"mouseleave.jqxComplexInputSpinButtons"+t,function(t){if(!i.disabled&&""!==i.value&&null!==i.value){var s=e(t.target);s.hasClass("jqx-icon-arrow-up")||s.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t,function(){i._upbutton.add(i._downbutton).removeClass(i.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var t,i=this;if(t=i.baseHost?i.baseHost[0].id:i.element.id,i.removeHandler(i.host,"focus.jqxComplexInput"+t),i.removeHandler(i.host,"blur.jqxComplexInput"+t),i.removeHandler(i.host,"keydown.jqxComplexInput"+t),i.removeHandler(i.host,"keypress.jqxComplexInput"+t),i._spinButtonsContainer){var s=i._upbutton.add(i._downbutton);i.removeHandler(i._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t),i.removeHandler(i._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t),i.removeHandler(i._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t),i.removeHandler(i._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t),i.removeHandler(s,"mouseenter.jqxComplexInputSpinButtons"+t),i.removeHandler(s,"mouseleave.jqxComplexInputSpinButtons"+t),i.removeHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t)}},_onChange:function(t){var i,s,r=this,n=r.element.value.toLowerCase();if(""!==e.trim(n)&&e.trim(n)!==r.placeHolder){if(-1!==n.indexOf("++")||-1!==n.indexOf("+-")){var o=n.indexOf("+");n=n.slice(0,o+1)+""+n.slice(o+2,n.length)}else if(-1!==n.indexOf("--")||-1!==n.indexOf("-+")){var a=n.indexOf("-");n=n.slice(0,a+1)+""+n.slice(a+2,n.length)}if(-1!==n.indexOf("..")){var l=n.indexOf(".");n=n.slice(0,l+1)+""+n.slice(l+2,n.length)}var d=r._getReal(n),h=r._getImaginary(n),c=h>=0?"+":"-";if(i=d,s=h,isNaN(i)||isNaN(s))return void(r.element.value=t);r.element.value=d+" "+c+" "+Math.abs(h)+"i",r.value=r.element.value}else i=0,s=0,r.value="";r.value!==t&&(r._currentNumber={value:r.value,realPart:i,imaginaryPart:s},r._raiseEvent("0",{value:r.value,oldValue:t,realPart:i,imaginaryPart:s}))},_incrementOrDecrement:function(e){var t,i,s=this,r=s.host.is(":focus"),n=s.element.value,o=s._currentNumber.realPart,a=s._currentNumber.imaginaryPart;function l(t){var i,r,n,o=t.toString(),a=o.indexOf(".");return-1!==a?(r=parseInt(o.slice(0,a),10),n=o.slice(o.indexOf(".")+1),i="."):(r=t,n="",i=""),t=!0===e?r+s.spinButtonsStep:r-s.spinButtonsStep,t=parseFloat(t+""+i+n)}r&&(t=s._getCaretPosition()),a>=0?i=n.indexOf("+"):("-"===n.charAt(0)&&(n=n.slice(1,n.length)),i=n.indexOf("-")),void 0===t||t<=i?o=l(o):a=l(a);var d=o+" "+(a>=0?"+":"-")+" "+Math.abs(a)+"i";s.element.value=d,s._onChange(s.value),r?s._setCaretPosition(t):"default"!==s.decimalNotation&&s._setNotation()},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,s=t.slice(i),r=s.indexOf("+"),n=s.indexOf("-");i=-1!==r&&(r<n||-1===n)?r:n;var o=s.slice(i),a=t.replace(o,""),l=(o=o.slice(0,o.length-1)).charAt(0);return o=e.trim(o.slice(1)),"-"===l&&(o="-"+o),{realPart:a=1*parseFloat(a).toFixed(20),imaginaryPart:o=1*parseFloat(o).toFixed(20)}},_setNotation:function(){var e=this,t=e.getDecimalNotation(e._currentNumber.realPart,e.decimalNotation),i=e.getDecimalNotation(Math.abs(e._currentNumber.imaginaryPart),e.decimalNotation),s=e._currentNumber.imaginaryPart>=0?"+":"-";e.element.value=t+" "+s+" "+i+"i"},_toSuperScript:function(e,t){for(var i="-0123456789",s="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",r="",n=0;n<e.length;n++)if(!0===t){var o=s.indexOf(e.charAt(n));r+=-1!==o?i[o]:e[n]}else{var a=i.indexOf(e.charAt(n));r+=-1!==a?s[a]:e[n]}return r}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!this.hasOwnProperty(s)&&!this.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+s+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:36,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:35,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:40,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===e.jqx._jqxDataTable.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;if(13!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.isMaterialized()){var s=window.getComputedStyle(i.element),r=s.getPropertyValue("--jqx-grid-column-height"),n=s.getPropertyValue("--jqx-scrollbar-size");r&&36===this.columnsHeight&&(i.columnsHeight=parseInt(r))}if(n&&(i.scrollbarsize=n,e.jqx.utilities.scrollBarSize=n),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var o=i.host.find("tbody tr"),a=i.host.find("th"),l=new Array;0===a.length&&(a=o[0],o.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var d=[],h=0;h<o.length;h++){for(var c=o[h],u={},p=0;p<a.length;p++){var m=e.trim(e(a[p]).text());if(0===h){var f={name:m};if(i.columns[p]&&i.columns[p].cellsFormat){var g=i.columns[p].cellsFormat.toLowerCase();-1==g.indexOf("p")&&-1==g.indexOf("c")&&-1==g.indexOf("n")&&-1==g.indexOf("f")||(f.type="number"),-1==g.indexOf("d")&&-1==g.indexOf("m")&&-1==g.indexOf("y")&&-1==g.indexOf("h")&&-1==g.indexOf("m")&&-1==g.indexOf("s")&&-1==g.indexOf("t")||(f.type="date")}l.push(f)}var v=e(c).find("td:eq("+p+")");if(l[p].type){var x=i.getvaluebytype(e.trim(v.text()),l[p]);u[m]=x}else u[m]=e.trim(v.text())}d[d.length]=u}i.host.wrap("<div></div>");var w=i.host.parent(),y=i.host.data();y.jqxDataTable.host=w,y.jqxDataTable.element=w[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=w[0],i.host=w,i.host.data(y);var b={dataFields:l,localdata:d,datatype:"array"},_=new e.jqx.dataAdapter(b);i.source=_}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var j=i.source._source.datafields;j&&j.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-datatable")),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),s=e(window).height(),r=i.host.width(),n=i.host.height();i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=n}))},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),null!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var o=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1)};o(),s._resizeTimer=setTimeout(function(){var e=s.host.width(),t=s.host.height();s._oldWidth==e&&s._oldHeight==t||o()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],n=0;n<r.length;n++){var o=r[n];void 0!==t[o]&&(this.gridlocalization[o]=t[o])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,n="inherit",o=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)a=e;else var a=this.host.height();this.columnGroups?a-=this.showHeader?this.columnsheader.height():0:a-=this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&s>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var d=this.table.height();s!=d&&(s=d,!l&&s>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})))}0==this.scrollBarSize&&(r=0);var h=this.table?this.table.width():0;h>3&&(h-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-r;if(h>u&&!t){if(this.hScrollBar[0].style.visibility=n,this.hScrollBar.jqxScrollBar({max:h-u}),r=4+parseInt(i),0==i&&(r=0),!l){if(s>a-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+h-u});var p="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=n,this._updatecolumnwidths(),p&&this.hScrollBar.jqxScrollBar({max:h-u+r+c});var m=this.table?this.table.width():0;m>3&&(m-=3),m!=h&&m<u&&(this.hScrollBar.jqxScrollBar({max:c+m-u}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-a+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.escape_HTML(this.columns.records[i].text)):s)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=1;this.filter.find(".filterrow-hidden").length>0&&(s=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var r=1==s?i.length:0;t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),s=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r);var n=this.filter.find(".filterrow"),o=1;this.filter.find(".filterrow-hidden").length>0&&(o=0),this.filter.height(this.filterHeight-1+this.filterHeight*n.length*o),r+=this.filterHeight,i-=parseInt(this.filterHeight);var a=1==o?n.length:0;r+=this.filterHeight*a,i-=this.filterHeight*a}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var l=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=l&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(s);var d=parseInt(this.scrollBarSize),h=2,c=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(c=d+4),"hidden"!=this.hScrollBar[0].style.visibility&&(h=d+4+2),0==d&&(c=0,h=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(h-2),p=this._arrangeAutoWidth(c+1);if(u||p){t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var m=this._measureTopAndHeight();r=m.top,i=m.height}}var f=0;this.pageable&&(f=this.pagerHeight,"top"!=this.pagerPosition&&(h+=this.pagerHeight)),this.showAggregates&&(h+=this.aggregatesHeight,f+=this.aggregatesHeight),this.showstatusbar&&(h+=this.statusBarHeight,f+=this.statusBarHeight),this.hScrollBar[0].style.height!=d+"px"&&(this.hScrollBar[0].style.height=parseInt(d)+"px"),this.hScrollBar[0].style.top==r+i-4-d-f+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-d-f-1+"px",this.hScrollBar[0].style.left="0px");var g=this.hScrollBar[0].style.width,v=!1,x=!1;0==c?g!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):g!=t-d-4+"px"&&(this.hScrollBar[0].style.width=t-d-4+"px",v=!0),this.vScrollBar[0].style.width!=d+"px"&&(this.vScrollBar[0].style.width=d+"px",x=!0),this.vScrollBar[0].style.height!=parseInt(i)-h+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-h+"px",x=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(d)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(d)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:d+2}));var w=this.vScrollInstance;w.disabled=this.disabled;var y=this.hScrollInstance;y.disabled=this.disabled,v&&y.refresh(),x&&w.refresh();var b=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(d)+3+"px",e.bottomRight[0].style.height=parseInt(d)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(d)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(b(this),this.content[0].style.width!=t-c+"px"&&(this.content[0].style.width=t-c+"px"),this.content[0].style.height!=i-h+3+"px"&&(this.content[0].style.height=i-h+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",c),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",c),this.table)){var _=this.table.width();_<t-c&&(this.content.css("left",t-_+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-_+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-d-f+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-d-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),b(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!n.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){n._loading=!1,n.rowsByKey=new Array;var o=n.source._source.datafields;if(n.groups&&n.groups.length>0){var a=Object.prototype.toString,l=n.groups[0];if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!n.source.records.sort){var d=new Array,h=0,c={};e.each(c,function(){d[0+h++]=this}),c=d}n.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=a}for(var u=0;u<n.source.records.length;u++){var p=n.source.records[u];if(n.rowsByKey[p.uid]=p,p.records&&p.records.length>0){var m=function(e){for(var t=0;t<e.length;t++)e[t]&&(n.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&m(e[t].records))};m(p.records)}if(0===u){var f=!1;if(o)for(var g=0;g<o.length;g++)if(o[g]&&!o[g].type){f=!0,o[g].type="string";var v=p[o[g].name];if(null==v)continue;if(!0!==v&&!1!==v||(o[g].type="boolean"),null!=v&&v.toString().indexOf(n.gridlocalization.currencysymbol)>-1||v.toString().indexOf(n.gridlocalization.percentsymbol)>-1){var x=v.toString().split(" ").length,w=new Number(n._toNumber(v.toString()));isNaN(w)||1!=x||(o[g].type="number")}(e.jqx.dataFormat.isNumber(v)||!isNaN(parseFloat(v))&&isFinite(v))&&(o[g].type="number"),e.jqx.dataFormat.isDate(v)&&(o[g].type="date")}if(f)for(g=0;g<o.length;g++){var y=n.source.getvaluebytype(p[o[g].name],o[g]);if(null!=y&&"number"==o[g].type){var b=y;b=new Number(n._toNumber(b.toString())),isNaN(b)||(y=b)}p[o[g].name]=y}}}if("pager"===i||"filter"===i||"sort"===i?n.refresh():n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n.pageable&&(n.disabled||n.pagernexttop&&(n.pagerfirsttop.jqxButton({disabled:!1}),n.pagerfirstbottom.jqxButton({disabled:!1}),n.pagerlasttop.jqxButton({disabled:!1}),n.pagerlastbottom.jqxButton({disabled:!1}),n.pagernexttop.jqxButton({disabled:!1}),n.pagerprevioustop.jqxButton({disabled:!1}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),n.pagernextbottom.jqxButton({disabled:!1}),n.pagerpreviousbottom.jqxButton({disabled:!1}))),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),s&&s(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,n.ready&&n.ready(),(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var _=6e3+Math.floor(4e3*Math.random()+1),j=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(j)](function(){e(n._gridRenderElement).hide("slow",function(){e(n._gridRenderElement).remove()})},_)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval(function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=t,r=i;r.owner=this;var n=new e.Event(s);n.owner=this,n.args=r;var o=this.host.trigger(n);return i=n.args,o},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),n=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>n&&this.hScrollBar.jqxScrollBar("setPosition",r+t-n)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var s=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.filterable&&(n+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(n+=this.pagerHeight),this.showtoolbar&&(n+=this.toolbarHeight),r-=n,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeight),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var o=this.host.coord().top+n,a=s,l=r+a,d=i.coord().top+s-o,h=(d=Math.round(d))+i.outerHeight();if(h=Math.round(h),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(d<a){var m=d-i.height();return m<0&&(m=0),this.vScrollBar.jqxScrollBar("setPosition",m)}return h>l?this.vScrollBar.jqxScrollBar("setPosition",4+h-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),s=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(s+t)},this.content[0].appendChild(r),this._gridRenderElement=r}}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++){if(this.dataview.filters[s].datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var r=e.jqx.isHidden(e(i.filtericon))?0:16;r+=e.jqx.isHidden(e(i.sortasc))?0:16,r+=e.jqx.isHidden(e(i.sortdesc))?0:16;var n=e(e(e(i.element).children()[0]).children()[0]);this.rtl?r>0?n.css("margin-left",4+r+"px"):n.css("margin-left","4px"):r>0?n.css("margin-right",4+r+"px"):n.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var o=0;o<this.columns.length;o++){var a=this.columns[o];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var d=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.filterable?t.filter[0].style.visibility="inherit":t.filter[0].style.visibility="hidden",t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.dataCollection(t.element):t._initializeColumns();var i=!1,s=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0),i?t.element.style.width=t.width:t.host.width(t.width),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(s=!0),s?t.element.style.height=t.height:t.host.height(t.height),t._lastHostWidth=t.host.width(),t._lastHostHeight=t.host.height(),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.gridcontent=t.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.gridcontent.remove();var r=t.columnsHeight;r=t._preparecolumnGroups(),t.columnsheader.height(r),t.content.append(t.columnsheader),t.content.append(t.gridcontent),t._rendercolumnheaders(),t.tableheight=null,t.gridcontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table),t._renderrows(),t.filterable&&t._renderfilter(),t.pageable&&t._initpager(),t._arrange(),t.renderStatusBar&&t.renderStatusBar(t.statusbar),t.rendertoolbar&&t.rendertoolbar(t.toolbar),t.showAggregates&&t._updateaggregates(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._showicons(),t._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerHeight-28)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){var r;this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(r=this.pagerRenderer())&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv),null!=(r=this.pagerRenderer())&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",s),this.toppagerdiv.css("top",s);var n=function(s,r){var n=this,o=e('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),a=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),m=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');o.attr("disabled",n.disabled);var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(f[0].id="gridpagerlist"+r+n.element.id,n.removeHandler(l,"mousedown"),n.removeHandler(l,"mouseup"),n.removeHandler(l,"click"),n.removeHandler(d,"mousedown"),n.removeHandler(d,"mouseup"),n.removeHandler(d,"click"),n.removeHandler(h,"mousedown"),n.removeHandler(h,"mouseup"),n.removeHandler(h,"click"),n.removeHandler(c,"mousedown"),n.removeHandler(c,"mouseup"),n.removeHandler(c,"click"),n.rtl?(l.attr("title",n.gridlocalization.pagerpreviousbuttonstring),d.attr("title",n.gridlocalization.pagernextbuttonstring)):(d.attr("title",n.gridlocalization.pagerpreviousbuttonstring),l.attr("title",n.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+r]=h,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=d,this["pagergotoinput"+r]=o,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=a,this["pagershowrowscombo"+r]=f,this["pagerbuttons"+r]=m,"default"==n.pagerMode){n.rtl?(c.attr("title",n.gridlocalization.pagerfirstbuttonstring),h.attr("title",n.gridlocalization.pagerlastbuttonstring)):(h.attr("title",n.gridlocalization.pagerfirstbuttonstring),c.attr("title",n.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");g.addClass(n.toThemeProperty("jqx-icon-arrow-first")),h.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");v.addClass(n.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),n.rtl?(s.append(c),s.append(l),s.append(m),s.append(d),s.append(h)):(s.append(h),s.append(d),s.append(m),s.append(l),s.append(c)),c.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),h.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var x=n.rtl?"right":"left";m.css("float",x),c.css("float",x),h.css("float",x),l.css("float",x),d.css("float",x),u.css("float",n.rtl?"left":"right"),n.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else n.rtl||(s.append(l),s.append(d));l.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),d.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var w=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");w.addClass(n.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(w);var y=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");if(y.addClass(n.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(y),n.rtl||s.append(u),"default"!=n.pagerMode){n.rtl?(s.append(a),s.append(o),s.append(p),s.append(f),s.append(u),s.append(l),s.append(d)):(s.append(f),s.append(p),s.append(o),s.append(a));var b=n.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:n.rtl,disabled:n.disabled,source:b,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:n.theme});for(var _=0,j=0;j<b.length;j++)this.pageSize>=b[j]&&(_=j);a[0].innerHTML=t,f.jqxDropDownList({selectedIndex:_});var q=o.find("input");q.addClass(n.toThemeProperty("jqx-input")),q.addClass(n.toThemeProperty("jqx-widget-content")),this.rtl&&q.css("direction","rtl");n=this;this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){if(e.args){n.vScrollInstance&&n.vScrollInstance.setPosition(0);var t=e.args.index;n.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),n.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=n.dataview.pagenum*n.dataview.pagesize,s=b[t],r=n.pageSize;n.pageSize=parseInt(s),isNaN(n.pageSize)&&(n.pageSize=10),s>=100?(n.pagershowrowscombotop.jqxDropDownList({width:55}),n.pagershowrowscombobottom.jqxDropDownList({width:55})):(n.pagershowrowscombotop.jqxDropDownList({width:44}),n.pagershowrowscombobottom.jqxDropDownList({width:44})),n.dataview.pagesize=n.pageSize;var o=Math.floor(i/n.dataview.pagesize);if(o!==n.dataview.pagenum||parseInt(s)!==parseInt(r))n._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:r,pageSize:n.dataview.pagesize}),n.goToPage(o)||(n.serverProcessing?n.updateBoundData("pager"):n.refresh())}}),(o=o.find("input")).addClass(n.toThemeProperty("jqx-grid-pager-input")),o.addClass(n.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),n.addHandler(o,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=o.val();return t=parseInt(t),isNaN(t)||n.goToPage(t-1),!1}}),n.addHandler(o,"change",function(){var e=o.val();e=parseInt(e),isNaN(e)||n.goToPage(e-1)})}p[0].innerHTML=i,n.addHandler(l,"mouseenter",function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(d,"mouseenter",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mouseleave",function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(d,"mouseleave",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mousedown",function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(l,"mouseup",function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(d,"mousedown",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(d,"mouseup",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===n.pagerMode&&(n.addHandler(c,"mouseenter",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(h,"mouseenter",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mouseleave",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(h,"mouseleave",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mousedown",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(h,"mousedown",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))}),n.addHandler(c,"mouseup",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(h,"mouseup",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))})),n.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),w.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected")))}),n.addHandler(l,"click",function(){l.jqxButton("disabled")||(n.rtl?n.goToPrevPage():n.goToNextPage())}),n.addHandler(d,"click",function(){d.jqxButton("disabled")||(n.rtl?n.goToNextPage():n.goToPrevPage())}),"default"===this.pagerMode&&(n.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(n.rtl){var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}else n.goToPage(0)}),n.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(n.rtl)n.goToPage(0);else{var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),n.call(this,this.pagerdiv,"bottom"),n.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&null!=t||(t=0),-1==t&&(t=0),t<0)return!1;var s=this.dataview.totalrecords,r=this.dataview.pagenum,n=Math.ceil(s/this.pageSize);return t>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=n-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),s=0,r=function(n,o){for(var a=0;a<o.length;a++)0==t.dataview.filters.length&&(o[a]._visible=!0),!1!==o[a]._visible&&s++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||o[a].records&&(o[a][i.expanded]||o[a][i.leaf])&&!1!==o[a]._visible&&(r(n+1,o[a].records),t.treeGrid&&e(t.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=n&&s--)};r(0,this.dataview.rows),this.dataview.totalrecords=s}else this.dataview.totalrecords=this.dataview.rows.length;var n=this.dataview.pagenum*this.pageSize,o=(this.dataview.pagenum+1)*this.pageSize;o>=this.dataview.totalrecords&&(o=this.dataview.totalrecords);var a=this.dataview.totalrecords;n++;var l=Math.ceil(a/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&((l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&l--,l++,a=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var d=this.pagergotoinputbottom.find("input");d.val(this.dataview.pagenum+1),d.attr("title","1 - "+l),(d=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),d.attr("title","1 - "+l)}}else{var h="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var p=1+u,m=this.dataview.pagenum/c;p+=Math.floor(m)*c;var f=this.toTP("jqx-grid-pager-number");if(f+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=h,this.pagerbuttonstop[0].innerHTML=h,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var v=function(){g.click(function(i){if(!t.disabled){var s=e(i.target).attr("data-page");t.goToPage(parseInt(s)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){g=this.pagerbuttonsbottom.find("a");v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){g=this.pagerbuttonstop.find("a");v()}}if(0==o&&o<n&&(n=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n,this.pagerdetailstop[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n):(this.pagerdetailsbottom[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a,this.pagerdetailstop[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a)),"default"==this.pagerMode){var x=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",x),this.toppagerdiv.css("min-width",x)}n>o&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columnGroups.length;i++){if((d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=s(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r;if((d=this.columns.records[i]).columngroup)(r=s(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=d=this.columns.records[i];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var s=t.host.coord(),r=t.host.width(),n=t.host.height(),o=!1,a=!1;if((i.pageY<s.top||i.pageY>s.top+n)&&(o=!0,a=!0),(i.pageX<s.left||i.pageX>s.left+r)&&(o=!0,!0),o){var l=function(t){var s=e(t.children()[0]).data();if(s&&!s.jqxWidget&&(s=t.data()),s||(s=t.data()),s.jqxWidget&&s.jqxWidget.container&&"block"==s.jqxWidget.container[0].style.display){var r=s.jqxWidget,n=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!a||!(i.pageY<n||i.pageY>l))&&(o=!0,r.close(),!0)}},d=t._editors;if(d)for(var h=0;h<d.length;h++){var c=d[h].editor,u=l(c),p=c.attr("aria-owns");if(p){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}else if(p=c.children().attr("aria-owns")){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}if(!1===u)return}}o&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var i=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&t._renderhorizontalscroll():t._timer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},5)};var s="mousedown";this.isTouchDevice()&&(s=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(s="mousedown"));var r=function(e,i){for(var s=null,r=t._table.coord(),n=r.top,o=r.left,a=t._table[0].rows,l=0;l<a.length;l++)for(var d=a[l].cells,h=0;h<d.length;h++){var c=d[h],u=c.offsetLeft+o,p=c.offsetTop+n,m=c.offsetWidth,f=c.offsetHeight;if(0!==m&&0!==f){if(!(p<=i&&i<p+f))break;if(u<=e&&e<u+m){s=c;break}}}return s},n=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var s=e[i],r=s.className;r=(r=r.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),s.className=r}};if(i(e),t._pinnedTable&&e.length>0)i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){n(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var o=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,s=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,r=0;s>0&&t.rtl&&(s=0,r=1);for(var n=s;n<i.length-r;n++){i[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length){var o=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;for(n=s;n<o.length-r;n++){o[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var s=i.pageX,a=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=r(s,a);if(!l)return!0;var d=e(l).parent();return n(),!(!t.rowDetails||!t.treeGrid||"row-details"!=d.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===d.attr("data-key")||(o(d),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,s,function(i){i.target;var s=null;if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord();var n,a=i.pageX,l=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(a=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice())if(a=(n=e.jqx.position(i)).left,l=n.top,isNaN(a)||isNaN(l))a=(n=e.jqx.position(i.originalEvent)).left,l=n.top;s=r(a,l);var d=e(s).parent(),h=d.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==h){var u=e(s).index(),p=t.columns.records[u];if(h==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==s)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else{if(null!=t.editKey&&t.editSettings.saveOnSelectionChange)if(!t.endroweditbykey(t.editKey))return!0}if(t.clickedTD=s,(x=t.rowinfo[h])&&x.group)return!0;var m=!1;if(x){var f=t.getrowdisplayindex(x.row),g=t.getrowindex(x.row);t._raiseEvent("rowClick",{index:f,boundIndex:g,key:h,row:x.row,originalEvent:i,dataField:p.datafield});var v=(new Date).getTime();t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==h&&v-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:f,boundIndex:g,key:h,row:x.row,originalEvent:i,dataField:p.datafield}),m=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,s.className.indexOf("jqx-grid-group")>=0)x.expanded?t.hidedetailsbykey(h):t.showdetailsbykey(h);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)x.expanded?t.treeGrid.collapseRow(h):t.treeGrid.expandRow(h),o(t._getuirow(h)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){u=e(s).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==h&&t.editSettings.editOnDoubleClick&&m){t.beginroweditbykey(h,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(h,"mouse",!1),t._lastSelectedKey=h,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var x=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var w=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]").index(),y=d.index();return t._selectRange(y,w),t.selectrowbykey(h,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=h,t.clickTime=new Date,"custom"===t.selectionMode||(x&&(x.selected?t.unselectrowbykey(h,"mouse",!1):t.selectrowbykey(h,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}x.checked?t.treeGrid.uncheckRow(h):t.treeGrid.checkRow(h),o(t._getuirow(h)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),s=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,r=t.rowDetails&&!t.treeGrid?1:0,n=0;r>0&&t.rtl&&(r=0,n=1);for(var o=0;o<i.length;o++){var a=i[o].cells;if(s)var l=s[o].cells;var d=null;if(i[o].getAttribute&&(d=i[o].getAttribute("data-key")),t.rowinfo[d]&&"none"!==t.selectionMode)if(t.rowinfo[d].selected)for(var h=r;h<a.length-n;h++){var c=a[h];e(c).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),l&&e(l[h]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(h=r;h<a.length-n;h++){c=a[h];if(l)var u=l[h];var p=c.className;p=(p=(p=(p=p.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+t.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+t.theme,""),c.className=p,u&&(u.className=p)}}},_selectRange:function(t,i){var s=e(e(this._table.children()[1]).children()[i]);if(t>i)for(var r=i,n=s;r<t;){var o=(n=n.next()).attr("data-key");this._doSelection(o,!0,!1),r++}else if(t<i)for(r=i,n=s;r>t;){o=(n=n.prev()).attr("data-key");this._doSelection(o,!0,!1),r--}},_getuikey:function(t,i){var s=null,r=e(this._table.children()[1]).children();if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i)for(;n;){if(n=n.next())if(!n.attr("data-role"))return s=n.attr("data-key")}else if("prev"==i)for(;n;){if(n=n.prev())if(!n.attr("data-role"))return s=n.attr("data-key")}return null}return s},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),s=new Array,r=function(s,n){if(n)for(var o=0;o<n.length;o++)if(n[o]&&!1!==n[o]._visible){var a=e.extend({},n[o]);s.push(a),n[o][i.expanded]?(a.records=new Array,r(a.records,n[o].records)):t.dataview.filters.length>0&&(a.records=new Array,r(a.records,n[o].records))}};return r(s,this.dataViewRecords),s},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,s=function(){var i=e(this._table.children()[1]).children(),s=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var n=0,o=0;o<i.length;o++){var a=e(i[o]);if(!(a.children()[0].getAttribute("colspan")>0)){if(n===r+t)return s=a.attr("data-key");n++}}return s}if(this.rowDetails)for(n=0,o=0;o<i.length;o++){if(n===t+r)return s=e(i[o]).attr("data-key");o%2==1&&n++}else s=e(i[r+t]).attr("data-key");return s};if(null==(i=s.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var n=this.getRows()[t];if(n&&null!=n.uid)return n.uid;if(isNaN(r))return null;this.goToPage(r),i=s.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._table.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._pinnedTable.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(null==t||0==t.length)return-1;var s=this.renderedRecords;null!=i&&(s=s.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var n=this.columns.records[r].datafield;else new Array;var o=new Array;return e.each(s,function(i){var s=this[n];s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&o.push(this.uid)}),o},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),s=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,n=this._lastSelectedKey,o=(this.rowinfo[n],this._getuirow(n)),a=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(o){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(r))return!0;if(this.editable&&null==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(o.attr("data-key")),null==this.editKey&&!l&&!a&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var d=String.fromCharCode(r),h=!isNaN(parseInt(d));if(r>=65&&r<=97||h||8==r||32==r||46==r){if(t.shiftKey||(d=d.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==d||(this._searchString+=d)),32==r&&(this._searchString+=" "),this._searchTime=new Date,(n=this.getSelection()).length>=1){for(var c=n[0].uid,u=-1,p=0;p<this.renderedRecords.length;p++)if(this.renderedRecords[p].uid==c){u=p;break}if(0==(m=this._getMatches(this._searchString,u)).length||m.length>0&&m[0]==c)var m=this._getMatches(this._searchString)}else m=this._getMatches(this._searchString);if(m.length>0){if((n=this.getSelection()).length>=1){var f=m.indexOf(n[0].uid);if(-1==f)this.clearSelection(!1),this.selectrowbykey(m[0]);else{var g=f+1;g>=m.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(m[g])}}else this.clearSelection(!1),this.selectrowbykey(m[0]);this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){s._searchString="",s._lastSearchString=""},500)}if(null!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){var x=this.editKey,w=null;for(p=v+1;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){w=this.columns.records[p];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,w))}else if(9==r&&t.shiftKey&&v>0){x=this.editKey;var y=null;for(p=v-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){y=this.columns.records[p];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,y))}if(9==r){var b=this.rowinfo[this.editKey];u=this.getrowindex(b),o=this._getuirow(this.editKey);if(t.shiftKey||w){if(!y&&t.shiftKey){for(_=null,p=this.columns.records.length-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.prev())if(!o.attr("data-role")){j=o.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;b=this.rowsByKey[j],u=this.getrowindex(b),q=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:j,index:q,boundIndex:u,row:this.rowsByKey[j]}),this.endroweditbykey(this.editKey,!1),this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)}}}}else{for(var _=null,p=0;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.next())if(!o.attr("data-role")){var j=o.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;var b=this.rowsByKey[j],u=this.getrowindex(b),q=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:j,index:q,boundIndex:u,row:this.rowsByKey[j]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)):this.beginroweditbykey(this.editKey,_)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var T=String.fromCharCode(r).toLowerCase();if("c"==T||"x"==T)if((n=this.getSelection()).length>=1){for(var C="",S=0;S<this.renderedRecords.length;S++){var k=this.renderedRecords[S];for(p=0;p<n.length;p++){if((b=n[p]).uid===k.uid){for(var I=0;I<this.columns.records.length;I++){C+=this.getCellTextByKey(b.uid,this.columns.records[I].displayfield),I<this.columns.records.length-1&&(C+="\t")}C+="\r\n";break}}}if(""!=C&&(C=C.substring(0,C.length-1)),window.clipboardData)window.clipboardData.setData("Text",C);else{var D=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');D.val(C),e("body").append(D),D.select(),setTimeout(function(){document.designMode="off",D.select(),D.remove()},100)}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){if((n=this.getSelection()).length>1){for(p=0;p<n.length;p++){var P=n[p].uid;this.rowinfo[P].checked?this.treeGrid.uncheckRow(P,!1):this.treeGrid.checkRow(P,!1)}return this._renderrows(),!1}if(c=o.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var A=o.index(),M=function(t){var i=null,r=e(s._table.children()[1]).children().length-1,n=e(e(s._table.children()[1]).children()[r]);if(n.attr("data-role"))for(;n;){if(n=n.prev())if(!n.attr("data-role")){i=n.attr("data-key");break}}else i=n.attr("data-key");return"all"==t?{row:n,key:i}:i},H=function(t){var i=null,r=e(e(s._table.children()[1]).children()[0]);if(r.attr("data-role"))for(;r;){if(r=r.next())if(!r.attr("data-role")){i=r.attr("data-key");break}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},B=(c=null,function(){if(l||a||s.clearSelection(!1),33==r||37==r){var e=A;(c=s._getuikey(e,"prev"))||(c=H())}else if(34==r||39==r){e=A;(c=s._getuikey(e,"next"))||(c=M())}else 38==r?c=M():40==r&&(c=H());s._lastSelectedKey=c;var t=s.rowsByKey[c],i=(e=s.getrowindex(t),s.getrowdisplayindex(t));s._raiseEvent("rowSelect",{key:c,index:i,boundIndex:e,row:s.rowsByKey[c]}),s._doSelection(c,!0,!0),s.host.focus()});if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){s.clearSelection(!1);var e=H();a||l?s._selectRange(o.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")}(),!1;if(35==r||l&&40==r)return function(){s.clearSelection(!1);var e=M("all"),t=e.key;a||l?s._selectRange(o.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")}(),!1;if(33==r||37==r){c=o.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==r){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(B):this.goToPrevPage(B),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(B),!1}else if(34==r||39==r){c=o.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==r){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){var z=this.rowinfo[c].row.records;for(p=0;p<z.length;p++)if(z[p]._visible){c=z[p].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(B):this.goToNextPage(B),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(B),!1}else if(38==r){for(;o;){if(o=o.prev())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToPrevPage(B),!1}else if(40==r){for(;o;){if(o=o.next())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToNextPage(B),!1}if(null!=c){if(l||a||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(l||a)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;b=this.rowsByKey[c],u=this.getrowindex(b);s._updateSelection();q=this.getrowdisplayindex(b);return this._raiseEvent("rowUnselect",{key:c,index:q,boundIndex:u,row:b}),!1}this._lastSelectedKey=c;b=this.rowsByKey[c],u=this.getrowindex(b);this._doSelection(c,!0,!1),s._updateSelection();q=this.getrowdisplayindex(b);if(this._raiseEvent("rowSelect",{key:c,index:q,boundIndex:u,row:b}),this.treeGrid)if(37==r){var E=null;if(o=this._getuirow(c))o.attr("data-role")||(E=o.attr("data-key"));if(this.pageable&&null==E&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){E=null;if(o=this._getuirow(c))o.attr("data-role")||(E=o.attr("data-key"));this.pageable&&null==E&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null!=e){var s;if("singlerow"===this.selectionMode&&this.clearSelection(!1),s=this.rowinfo[e])s.selected=t,this.ensurerowvisiblebykey(e);else this.ensurerowvisiblebykey(e),(s=this.rowinfo[e])?s.selected=t:this.rowinfo[e]={selected:t};"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),n=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:n,boundIndex:r,row:s.row})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var s=this.exportSettings.columnsHeader;null==s&&(s=!0);var r=this.exportSettings.hiddenColumns;null==r&&(r=!1);var n=this.exportSettings.serverURL,o=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;null==a&&(a=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var d=this,h=this.getRows();if(1==this.exportSettings.recordsInView&&(h=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)h=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",h),u=function(t,i){for(var s=0;s<t.length;s++){var r=e.extend({},t[s]);if(i.push(r),r.records&&r.records.length>0)for(var n=u(r.records,new Array),o=0;o<n.length;o++)n[o].leaf,i.push(n[o])}return i},p=u.call(this,c,new Array);h=p}if(0==h.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var m=new Array,f=0;f<this.columns.records.length;f++)!r&&this.columns.records[f].hidden||m.push(e.extend({},this.columns.records[f]));if(this.groups&&this.groups.length>0&&m.length>0){var g=this._names();for(f=0;f<h.length;f++)h[f][g.leaf]||(d.rtl?h[f][m[m.length-1].displayfield]=h[f].label:h[f][m[0].displayfield]=h[f].label)}var v=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());g=this._names();var w=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[g.expanded]||!i[g.expanded]&&a;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&s&&w(e[t].records)}};if(w(x),"xml"!=i&&"json"!=i){var y=m.length;for(f=0;f<v;f++){(O=new t(this,this)).width=this.indentWidth,O.datafield="Level"+f,O.displayfield="Level"+f,O.align="center",O.cellsalign="center",O.text="",this.rtl?m.splice(y,0,O):m.splice(f,0,O)}var b=new Array,_=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),j=function(t){for(var s=0;s<t.length;s++){for(var r=e.extend({},t[s]),n=0;n<r[g.level];n++)r["Level"+n]="";var o=r[g.expanded]||!r[g.expanded]&&a;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=o?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="");for(n=r[g.level]+1;n<v;n++)r["Level"+n]="";if(_&&!r[g.leaf]&&(d.rtl?r[m[m.length-v-1].displayfield]=r.label:r[m[v].displayfield]=r.label),r.aggregate){var l="xls"==i?"_AG":"";for(n=v;n<m.length;n++){var h=n;d.rtl&&(h=m.length-n-1),null!=r[m[h].displayfield]&&(r[m[h].displayfield]=l+r[m[h].displayfield])}}b.push(r),o&&!r[g.leaf]&&j(r.records)}};j(x),h=b}else h=x}var q=null!=r&&r,T={},C={},S=this.host.find(".jqx-grid-cell:first"),k=this.host.find(".jqx-grid-cell-alt:first"),I=this;S.removeClass(I.toThemeProperty("jqx-grid-cell-selected")),S.removeClass(I.toThemeProperty("jqx-fill-state-pressed")),k.removeClass(I.toThemeProperty("jqx-grid-cell-selected")),k.removeClass(I.toThemeProperty("jqx-fill-state-pressed")),S.removeClass(I.toThemeProperty("jqx-grid-cell-hover")),S.removeClass(I.toThemeProperty("jqx-fill-state-hover")),k.removeClass(I.toThemeProperty("jqx-grid-cell-hover")),k.removeClass(I.toThemeProperty("jqx-fill-state-hover"));for(var D="cell",P=1,A=1,M=[],H=0;H<m.length;H++){if(""!=(O=m[H]).cellclassname)if(O.customCellStyles=new Array,"string"==typeof O.cellclassname)O.customCellStyles.push(O.cellclassname);else for(f=0;f<h.length;f++){var B=f,z=O.cellclassname(B,O.displayfield,h[f][O.displayfield],h[f]);z&&(O.customCellStyles[f]=z)}}if(e.each(m,function(t){var r=t;d.treeGrid&&(t>=v?r=m.length-v-1:v>0&&t<v&&(r=0));var n=e(d._table[0].rows[0].cells[r]);if(d._table[0].rows.length>1&&0==(o=e(d._table[0].rows[1].cells[r])).length)var o=e(d._table[0].rows[1].cells[0]);if(0==n.length)n=e(d._table[0].rows[0].cells[0]);var a=this,l=function(e){if(e.removeClass(I.toThemeProperty("jqx-cell")),e.removeClass(I.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(I.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(I.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(I.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(l(n),o&&l(o),null==this.displayfield)return!0;if(d.showAggregates&&d.getcolumnaggregateddata)if(d.treeGrid){M.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,function(e,t){for(var i=0;i<e.length;i++){var s=e[i];0===s.level&&t.push(s)}return t}(h,[])))}else M.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,h));var c=d._getexportcolumntype(this);!this.exportable||this.hidden&&!q||(T[this.displayfield]={},T[this.displayfield].text=this.text,T[this.displayfield].width=parseInt(this.width),isNaN(T[this.displayfield].width)&&(T[this.displayfield].width=60),T[this.displayfield].width>500&&(T[this.displayfield].width=500),T[this.displayfield].formatString=this.cellsFormat,T[this.displayfield].localization=d.gridlocalization,T[this.displayfield].type=c,T[this.displayfield].cellsAlign=this.cellsalign,T[this.displayfield].hidden=!s,T[this.displayfield].index=r,T[this.displayfield].maxIndex=m.length),D="cell"+P;var u=this.element;if("json"!=i&&"xml"!=i){var p=function(e,t,s,r,n,o,a,l,d){C[e]={index:1+a,maxIndex:m.length},o.rtl&&(C[e].index=m.length-a),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(C[e]["font-size"]=t.css("font-size"),C[e]["font-weight"]=t.css("font-weight"),C[e]["font-style"]=t.css("font-style"),C[e]["background-color"]=o._getexportcolor(t.css("background-color")),C[e].color=o._getexportcolor(t.css("color")),C[e]["border-color"]=o._getexportcolor(t.css("border-top-color"))),s?C[e]["text-align"]=n.align:(C[e]["text-align"]=n.cellsalign,C[e].formatString=n.cellsFormat,C[e].dataType=c),"html"!=i&&"pdf"!=i||(C[e]["border-top-width"]="0px",o.rtl?(C[e]["border-left-width"]="1px",C[e]["border-right-width"]="0px",a==m.length-v-1&&s&&(C[e]["border-right-width"]="1px")):(C[e]["border-left-width"]="0px",C[e]["border-right-width"]="1px"),C[e]["border-bottom-width"]="1px",t&&(C[e]["border-top-style"]=t.css("border-top-style"),C[e]["border-left-style"]=t.css("border-left-style"),C[e]["border-right-style"]=t.css("border-right-style"),C[e]["border-bottom-style"]=t.css("border-bottom-style")),s?(0!=a||o.rtl?a==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e]["border-top-width"]="1px",C[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=a||o.rtl?a==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e].height=t.css("height")),o.treeGrid&&!s&&(C[e].index-1<v?o.rtl?C[e]["border-left-width"]="0px":C[e]["border-right-width"]="0px":C[e].index-1==v&&(o.rtl?C[e]["border-right-width"]="0px":C[e]["border-left-width"]="0px")))),!n.exportable||n.hidden&&!q||(1==l?(T[n.displayfield].customCellStyles||(T[n.displayfield].customCellStyles=new Array),T[n.displayfield].customCellStyles[d]=e):s?T[n.displayfield].style=e:r?T[n.displayfield].cellAltStyle=e:T[n.displayfield].cellStyle=e)};if(p("column"+A,u,!0,!1,this,d,t),A++,p(D,n,!1,!1,this,d,t),d.altRows&&p(D="cellalt"+P,o,!1,!0,this,d,t),this.customCellStyles){for(var f in a.customCellStyles)n.removeClass(a.customCellStyles[f]);for(var f in a.customCellStyles)n.addClass(a.customCellStyles[f]),p(D+a.customCellStyles[f],n,!1,!1,this,d,t,!0,f),n.removeClass(a.customCellStyles[f])}P++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var E=v+1;if(this.rtl&&(E=m.length-v),C["column"+E]){var L=C["column"+E];L.merge=v,L["border-left-width"]="1px";for(C["cell"+E],f=0;f<m.length;f++){E=f+1;if(this.rtl&&(E=m.length-f),C["column"+E].level=f,C["column"+E].maxLevel=v,C["cell"+E].maxLevel=v,(O=m[f]).customCellStyles)for(var N in O.customCellStyles)C["cell"+E+O.customCellStyles[N]]&&(C["cell"+E+O.customCellStyles[N]].maxLevel=v);C["cellalt"+E]&&(C["cellalt"+E].maxLevel=v)}for(f=0;f<v;f++){E=f+1;var O,R=f;if(this.rtl&&(E=m.length-f),(F=C["column"+E]).disabled=!0,C["cell"+E].level=R,C["cell"+E].maxLevel=v,C["column"+E].level=R,C["cellalt"+E]&&(C["cellalt"+E].level=R,C["cellalt"+E].maxLevel=v),(O=m[f]).customCellStyles)for(var N in O.customCellStyles)C["cell"+E+O.customCellStyles[N]]&&(C["cell"+E+O.customCellStyles[N]].maxLevel=v,C["cell"+E+O.customCellStyles[N]].level=R);if(("html"==i||"pdf"==i||"xls"==i)&&(F["font-size"]=L["font-size"],F["font-weight"]=L["font-weight"],F["font-style"]=L["font-style"],F["background-color"]=L["background-color"],F.color=L.color,F["border-color"]=L["border-color"],"html"==i||"pdf"==i)){F["border-top-width"]=L["border-top-width"],F["border-left-width"]=L["border-left-width"],this.rtl&&(F["border-right-width"]=L["border-right-width"],0==f&&(F["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(F["border-left-width"]="0px"):F["border-left-width"]="0px",this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px",F["border-bottom-width"]="0px";var F=C["cell"+E];this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px"}}}}if(this.showAggregates){var W=[],V="xls"==i?"_AG":"",G=0;this.rowDetails&&!this.treeGrid&&G++,M.length>0&&(e.each(m,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(W[t]||(W[t]={}),W[t]){var i=d._getaggregatename(this.aggregates[t]),s=d._getaggregatetype(this.aggregates[t]),r=M[e-G];r&&(W[t][this.displayfield]=V+i+": "+r[s])}}),e.each(m,function(e){for(var t=0;t<W.length;t++)null==W[t][this.displayfield]&&(W[t][this.displayfield]=V)})),e.each(W,function(){h.push(this)})}I=this;var U=e.jqx.dataAdapter.ArrayExporter(h,T,C,n,this.treeGrid&&("xml"==i||"json"==i));if(null==l){this._renderrows();var Y=this.treeGrid&&("xml"==i||"json"==i),K=U.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(W,function(){h.pop(this)}),setTimeout(function(){I.exporting=!1},50),K}Y=this.treeGrid&&("xml"==i||"json"==i);U.exportToFile(i,l,n,o,Y),this.showAggregates&&e.each(W,function(){h.pop(this)}),this._renderrows(),setTimeout(function(){I.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseFloat(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,s){var r=this,n=this.rowsByKey[t],o=this.getrowindex(n),a=n;if(null!=a&&a[i]==s)return!1;if(null==a||null!==a[i]||""!==s){var l="";if(null!=a&&a[i]!==s){var d,h=this.getColumn(i),c="string";if(v=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var u="";e.each(v,function(){if(this.name==h.displayfield)return this.type&&(u=this.type),!1}),u&&(c=u)}if(l=a[i],!h.nullable||null!=s&&""!==s&&h.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(l)||"number"==c||"float"==c||"int"==c||"decimal"==c&&"date"!=c)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(l)||"date"==c)&&""!=s){var p=s;"Invalid Date"!=(p=new Date(p))&&null!=p?s=p:"Invalid Date"==p&&(s=p=new Date)}if(a[i]===s)return}if(r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null,a[i]=s,this.treeGrid)(d=this.treeGrid.getRow(t))&&(d[i]=s);if(null!=s&&null!=s.label)if(a[(h=this.getColumn(i)).displayfield]=s.label,a[i]=s.value,this.treeGrid)(d=this.treeGrid.getRow(t))&&(d[h.displayfield]=s.label,d[i]=s.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var m=o,f=this.source._source._localdata()[m];this.source.suspendKO=!0;var g=f;if(g[i]&&g[i].subscribe)null!=s&&null!=s.label?(g[h.displayfield](s.label),g[i](s.value)):g[i](s);else{var v=this.source._source.datafields,x=null;if(v&&e.each(v,function(){if(this.name==i)return x=this.map,!1}),null==x)null!=s&&null!=s.label?(g[i]=s.value,g[h.displayfield]=s.label):g[i]=s;else{var w=x.split(this.source.mapChar);if(w.length>0){for(var y=g,b=0;b<w.length-1;b++)y=y[w[b]];y[w[w.length-1]]=s}}this.source._source._localdata.replace(f,e.extend({},g))}this.source.suspendKO=!1}if(this.source.updaterow){try{var _=t;null==this.source.updaterow(_,a,function(e){0==e&&this.setCellValue(n,i,l,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(n,i,l)}}var j=this.getrowdisplayindex(n);h=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:s,oldValue:l,dataField:i,displayField:h.displayfield,key:t,boundIndex:o,index:j,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var s=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsFormat,this.gridlocalization))),s},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1;var s=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(s>0){var r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);if(r.level<s)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&null!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var n=this.editSettings.editSingleCell;if(!i&&n&&this.columns.records&&this.columns.records.length>0){for(var o=0;o<this.columns.records.length&&(!(i=this.columns.records[o]).editable||i.hidden);o++);if(!i)return!1}if(n&&i&&!i.editable)return this.editKey=null,!1;n&&(this.editColumn=i);var a=this;r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);var l=this.getrowindex(r),d=this._getuirow(t),h=this._getpinneduirow(t);this._editors=new Array;var c=!1;if(d){var u=d[0].cells,p=0;for(o=0;o<u.length;o++){var m=this.columns.records[o],f=u[o];if(!m.rowDetailscolumn&&!(m.checkboxcolumn||(m.pinned&&(f=h[0].cells[o]),n&&i&&m.datafield!=i.datafield||(e(f).removeClass(this.toTP("jqx-grid-cell-selected")),e(f).removeClass(this.toTP("jqx-fill-state-pressed")),e(f).removeClass(this.toTP("jqx-grid-cell-hover")),e(f).removeClass(this.toTP("jqx-fill-state-hover")),"none"==m.columntype)))){var g=e(f).outerWidth(),v=e(f).width();0===p&&(p=e(f).outerHeight()-1),e(f).css("padding","0px");var x="<div style='height:"+p+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>",w=this.getCellTextByKey(t,m.displayfield);f.innerHTML=x;var y=e(f.firstChild);switch(m.columntype){case"textbox":case"default":var b=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(y);if(this.rtl&&b.css("direction","rtl"),b.addClass(this.toThemeProperty("jqx-input")),b.addClass(this.toThemeProperty("jqx-widget-content")),b.addClass(this.toThemeProperty("jqx-cell-editor")),b[0].onfocus=function(t){setTimeout(function(){var i;t?(i=e(t.target).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield):(i=e(document.activeElement).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield);a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.gridcontent&&(a.gridcontent[0].scrollLeft=0,a.gridcontent[0].scrollTop=0)},10)},m.editable){if(!c){c=!0;var _=e.jqx.browser.msie&&e.jqx.browser.version>10;_||b.focus();var j=b;setTimeout(function(){var e=j.val().length;_||j.focus();try{if("selectionStart"in j[0])j[0].setSelectionRange(0,e);else{var t=j[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else b.attr("disabled",!0),b.attr("readOnly",!0),b.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(b.width(v),b.height(p),e.jqx.browser.msie&&e.jqx.browser.version<9&&b.css("line-height",parseInt(p)+"px"),b.css("text-align",m.cellsalign),null===w&&(w=""),null==w&&(w=""),b.val(w),m.createeditor){var q=w;w=this.getCellValueByKey(t,m.displayfield);m.createeditor(this.treeGrid?t:l,w,b,q,v,p)}if(this._editors.push({column:m,editor:b}),""!=m.cellsFormat&&(-1==m.cellsFormat.indexOf("p")&&-1==m.cellsFormat.indexOf("c")&&-1==m.cellsFormat.indexOf("n")&&-1==m.cellsFormat.indexOf("f")||b.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(a._selection(b).length>0)return!0;var r="",n=b.val();if(m.cellsFormat.length>1){var o=parseInt(m.cellsFormat.substring(1));isNaN(o)&&(o=0)}else o=0;if(o>0&&-1!=n.indexOf(a.gridlocalization.decimalseparator)&&a._selection(b).start>n.indexOf(a.gridlocalization.decimalseparator))return!0;for(var l=0;l<n.length-o;l++){var d=n.substring(l,l+1);null!=d.match(/^[0-9]+$/)&&(r+=d)}return!(r.length>=11)&&void 0})),m.initeditor){q=w,w=this.getCellValueByKey(t,m.displayfield);m.initeditor(this.treeGrid?t:l,w,b,q,v,p)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var T=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(y),C=e.trim(m.datafield).split(" ").join("");-1!=C.indexOf(".")&&(C=C.replace(".",""));var S=this.editorsCache["templateeditor_"+C];if("custom"==m.columntype)S=this.editorsCache["customeditor_"+C+"_"+t];q=w,w=this.getCellValueByKey(t,m.displayfield);if(S)(b=S).width(g),b.height(p),b.appendTo(T);else(b=e("<div style='border: none;'></div>")).width(g),b.height(p),S=b,null===w&&(w=""),"custom"!=m.columntype?this.editorsCache["templateeditor_"+C]=b:this.editorsCache["customeditor_"+C+"_"+t]=b,b.appendTo(T),m.createeditor&&m.createeditor(this.treeGrid?t:l,w,b,q,g,p);m.initeditor&&m.initeditor(this.treeGrid?t:l,w,b,q,g,p),this._editors.push({column:m,editor:b})}}}}this.editKey=t,this.beginUpdate();var k=this.getrowdisplayindex(r);if(this._raiseEvent("rowBeginEdit",{key:t,index:k,boundIndex:l,row:this.rowsByKey[t]}),n){var I=null,D=null;(r=this.rowsByKey[t])&&(I=r[i.datafield],D=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:I,displayValue:D,key:t,index:k,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(t,i,s,r){var n=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(n=i.val(),""!=t.cellsFormat){var o="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var l="";e.each(a,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l&&(o=l)}var d="date"===o||"time"===o;if("number"===o||"float"===o||"int"===o||"integer"===o||"string"===o&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===n&&t.nullable)return"";n=this._toNumber(n),n=new Number(n),isNaN(n)&&(n="")}if(d||"string"===o&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===n&&t.nullable)return"";var h=n;("Invalid Date"==(n=new Date(n))||null==n||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(n=e.jqx.dataFormat.parsedate(h,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=n&&null!=n||(n=""))}}t.displayfield!=t.datafield&&(n={label:n,value:n})}if(t.geteditorvalue){var c=this.getCellValueByKey(r,t.displayfield);n=t.geteditorvalue(this.treeGrid?r:s,c,i)}}return n},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),n=t._editors,o=(e=t.editKey,t._getuirow(e)),a=0;a<n.length;a++){var l=n[a].editor,d=n[a].column,h=t._geteditorvalue(d,l,r,e);if(d.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),p=t.gridlocalization.validationstring;null!=u.message&&(p=u.message),("boolean"==typeof u?u:u.result)||(null!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(o,c,p,l),i=!1)}catch(e){t._showvalidationpopup(o,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(t,i){var s=this;if(null!==s.editKey){if(this.endEdit)if(!1===this.endEdit(t))return;var r=s.rowsByKey[t],n=s.getrowindex(r),o=s._editors,a=s.editKey;s._getuirow(a);if(!0!==i){var l=!0;if(o&&(l=s._validateEditors(a))){for(var d=e.extend({},r),h=e.extend({},r),c=0;c<o.length;c++){var u=o[c].editor,p=o[c].column,m=s._geteditorvalue(p,u,n,a);m&&null!=m.label?(d[p.displayfield]=m.label,d[p.datafield]=m.value):d[p.displayfield]=m}s.updaterowbykey(s.editKey,d,!1,function(){s.dataview._sortHierarchyData=null,s.dataview._sortData=null;for(var i=0;i<o.length;i++){var l=o[i].editor,d=o[i].column,c=s._geteditorvalue(d,l,n,a),u=h[d.displayfield];if(c&&null!=c.label?(r[d.displayfield]=c.label,r[d.datafield]=c.value):r[d.displayfield]=c,s.treeGrid){var p=s.treeGrid.getRow(a);p&&(p[d.displayfield]=c)}if(s.editorsCache){var m=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},f="customeditor_"+d.displayfield+"_"+t,g="templateeditor_"+d.displayfield;if(s.editorsCache[f]){var v=e(s.editorsCache[f]).data(),x=s.editorsCache[f];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),m(v),s.editorsCache[f].detach()}s.editorsCache[g]&&(s.editorsCache[g].detach(),v=e(s.editorsCache[g]).data(),x=s.editorsCache[g],!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),m(v))}c!=u&&(s.beginUpdate(),s._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:d.datafield,displayField:d.displayfield,key:t,index:n,row:r}),s.endUpdate(!1))}})}if(!l)return!1}return s._detachEditors(a),!0}},_detachEditors:function(t){var i=this,s=i.rowsByKey[t],r=i.getrowindex(s);if(i.editorsCache)for(var n in i.editorsCache){var o=e(i.editorsCache[n]).data();if(o&&o.jqxWidget){var a=o.jqxWidget.element.className;if(a.indexOf("dropdownlist")>=0||a.indexOf("datetimeinput")>=0||a.indexOf("combobox")>=0||a.indexOf("menu")>=0)if(o.jqxWidget.isOpened)o.jqxWidget.isOpened()&&o.jqxWidget.close()}e(i.editorsCache[n]).detach()}i.beginUpdate();var l=i.getrowdisplayindex(s);if(i.editSettings.editSingleCell){var d=null,h=null;(s=i.rowsByKey[t])&&(d=s[i.editColumn.datafield],h=s[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:h,key:t,index:l,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:l,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,s,r){if(null==s)s=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(s),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.hide(),o.hide(),n.prependTo(this.table),o.prependTo(this.table);var a=this.hScrollInstance.value,l=parseInt(a),d=this.getColumn(i).uielement;if(t){var h=t;n.css("top",parseInt(h.position().top)+30+"px");var c=parseInt(n.css("top"));o.css("top",c-11),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=!1;c>=this._table.height()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(h.position().top)-h.outerHeight()-5)<0&&(c=0,o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),n.css("top",c+"px"),o.css("top",c+n.outerHeight()-9));var p=-l+parseInt(e(d).position().left),m=parseInt(this._table.css("left"));isNaN(m)&&(m=0),0!=m&&(l=0),o.css("left",l+p+30);var f=n.width();if(f+p>this.host.width()-20)p-=f+p-this.host.width()+40;u?n.css("left",l+parseInt(e(d).position().left)-n.outerWidth()):n.css("left",l+p),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(n.show(),o.show())}),r.mouseleave(function(){n.hide(),o.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:n,validationrow:o}}},addRow:function(t,i,s,r){if(null!=i){this._datachanged=!0,null==s&&(s="last");var n=!1,o=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0,l=a?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;l=a?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var d=new Array;e.each(i,function(e,t){var s=o.dataview.getid(o.dataview.source.id,i[e],l+e);d.push(s),o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=s)}),t=d}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,s){var r=t[e];o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var h=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,s,n){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var o=t.vScrollInstance.value,a=!1;if(e.isArray(s)?e.each(s,function(e,s){var o=null;null!=i&&null!=i[e]&&(o=i[e]),this.uid=o,t.rowsByKey[o]=this,i==r&&(r=null),a=t.source.addRecord(this,n,r,h)}):(s.uid=i,t.rowsByKey[i]=s,i==r&&(r=null),a=t.source.addRecord(s,n,r,h)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,d=t.groups[0];if(Object.prototype.toString="function"==typeof d?d:function(){return this[d]},!t.source.records.sort){var c=new Array,u=0,p=[];e.each(p,function(){c[0+u++]=this}),p=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,null!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.vScrollInstance.setPosition(o),a};if(this.source.addrow){var u=function(e,r){1!=e&&null!=e||(null!=r&&(t=r),c(o,t,i,s))};try{null==(n=o.treeGrid?this.source.addrow(t,i,s,r,u):this.source.addrow(t,i,s,u))&&(n=!0)}catch(e){n=!1}if(0==n)return!1}else c(this,t,i,s);return n}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){this._datachanged=!0;var i=!1,s=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var s=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){var e=this;if(t.rowsByKey[e]){if(s=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),r=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var n=t.rowinfo[e].row.records,o=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&o(e[i].records)}};n&&(o(n),delete t.rowinfo[e])}t.source.deleteRecord(e),r&&i&&r.records&&0==r.records.length&&(r[i.leaf]=!0,t.rowinfo[r.uid][i.leaf]=!0)}});else{s=!1;if(t.rowsByKey[i]){if(s=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var n=t._names(),o=t.rowsByKey[i][n.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var a=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&l(e[i].records)}};a&&l(a)}delete t.rowinfo[i],t.source.deleteRecord(i),o&&n&&o.records&&0==o.records.length&&(o[n.leaf]=!0,t.rowinfo[o.uid][n.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),s};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||r(s,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,s,r){if(null!=t&&null!=i){var n=this.that,o=!1,a=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var n=!1;if(e.isArray(i))e.each(i,function(e,i){var s=t.rowsByKey[this],o=function(t,i){s?s[this]=r[e]:n=!1,n=!0};o(),t.treeGrid&&(s=t.treeGrid.getRow(this),o())});else{var o=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);n=!0}else n=!1};o(l=t.rowsByKey[i]),t.treeGrid&&o(l=t.treeGrid.getRow(i))}var a=t.vScrollInstance.value;if(null!=s&&1!=s||null!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.rowsByKey[i],d=t.getrowindex(l),h=t.source._source._localdata()[d];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},l)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(a),n};if(this.source.updaterow){try{null==(o=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(a(n,t,i),r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange()))}))&&(o=!0)}catch(e){o=!1}}else(o=a(n,t,i))&&r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange());return o}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=!1!==i;this._doSelection(e,!0,s);var r=this.rowsByKey[e],n=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:o,boundIndex:n,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:n,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),o.addClass(this.toThemeProperty("jqx-grid-group-expand")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().show();var a=r.next();if(a.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,d=this.initRowDetails(t,i.row,e(e(a).children().children().children()[0]),i);i.details=e(a).children().children().children()[0],i.initialized=!0,!1!==d&&i.detailsHeight==l||(!1===d&&(i.expanded=!1,i.nodetails=!0,a.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:h,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.addClass(this.toThemeProperty("jqx-icon-arrow-left")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.addClass(this.toThemeProperty("jqx-grid-group-collapse")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand")),o.addClass(this.toThemeProperty("jqx-icon-arrow-right")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var a=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:a,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==o&&(o=l),n>t+e){a=l;break}}return++a>i+s&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=this.columns.records.length-0,n=this.columns.records,o=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),o&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a=0;a<0+r;a++){if(n[a].pinned){var l=null;if(this.showAggregates&&this.statusbar[0].cells&&(l=this.statusbar[0].cells[a]),this.filterrow&&this.filterrow[0].cells)var d=this.filterrow[0].cells[a];if(this.rtl)s[0].cells[a].style.marginLeft=-parseInt(t)+"px",l&&(l.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&d&&(d.style.marginLeft=-parseInt(t)+"px");else s[0].cells[a].style.marginLeft=i+"px",l&&(l.style.marginLeft=i+"px"),this.filterrow&&d&&(d.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){var p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<c;u++){p=u;if(m=this.columns.records[p].element[0],!this.columns.records[p].pinned)if(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var f;for(h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<c;u++){var g;p=u;if((m=this.columns.records[p].element[0]).parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var n,o=this,a=new e.jqx.dataCollection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",a.add(n));this.rowDetails&&!this.treeGrid&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.editable=!1,n.rowDetailscolumn=!0,n.groupable=!1,n.draggable=!1,n.pinned=!0,n.filterable=!1,n.resizable=!1,n.text="",a.add(n));var d=new Array;e.each(this.columns,function(e){if(null!=o.columns[e]){var i=new t(o,this);if(i.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(s||(o.source._source.datafields?o.source._source.datafields.push({name:e.toString()}):(o.source._source.datafields=new Array,o.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");d[this.datafield]=!0}a.add(i)}}),this.rtl&&a.records.reverse(),this.columns=a},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],s=e(i).find("input:first"),r=e(i).find(".filterconditions"),n=this.columns.records[t];if(n.filterable){s.val("");var o,a=this.getcolumntypebydatafield(n),l=new e.jqx.filter;switch(a){case"number":case"int":case"float":case"decimal":o="numericfilter",l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":o="booleanfilter",l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":o="datefilter",l.getoperatorsbyfiltertype("datefilter");break;case"string":o="stringfilter",l.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===o?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){var i,s=this;i="a"==t||"asc"==t||"ascending"==t||1==t,s.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1},s.sortcolumn=null!=t?e:null,s.source.sort&&(s.dataview.sortfield=e,s.dataview.sortfielddirection=null==t?"":i?"asc":"desc",s.source.sort&&!this._loading&&s.source.sort(e,t)),s.dataview.sortBy(e,t),s._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null;i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='width: 200px; height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var n=new Array,o=0;o<t.columns.records.length;o++)t.columns.records[o].datafield&&t.columns.records[o].filterable&&n.push({label:t.columns.records[o].text,value:t.columns.records[o].displayfield});var a=n.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var d=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:a,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:n,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d;var h=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};35!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=h,this.addHandler(d,"select",function(e){var t=e.args.item.value;h(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(d.jqxDropDownList)var n=d.jqxDropDownList("getSelectedItem");var o=function(i,s,r){var n=new e.jqx.filter,o=t.getcolumntypebydatafield(i),a=t._getfiltertype(o);if("datefilter"==a)var l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==a||"booleanfilter"==a){"numericfilter"==a&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=n.createfilter(a,s,"CONTAINS");return n.operator=r,n.addfilter(0,l),n};if("simple"!==t.filterMode){if(n){var a=n.value,l=o(c=t.getColumn(a),i,"and");i.length>0?(t.removeFilter(a),t.addFilter(a,l),t.applyFilters()):(t.removeFilter(a),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var h=0;h<t.columns.records.length;h++){var c;l=o(c=t.columns.records[h],i,"or");t.addFilter(c.datafield,l)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(s.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){c()}),this.filterinput=s,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var s=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];if(o.filterable){!0===i&&n.val("");for(var a=0;a<t.dataview.filters.length;a++){var l=t.dataview.filters[a];if(l.datafield===o.displayfield){n.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];o.hidden?r.style.visibility="hidden":r.style.visibility="inherit",o.filterable&&(r.style.left=parseInt(0)+parseInt(o.uielement[0].style.left)+"px",r.style.width=6+o.width+"px",n[0]&&(n[0].style.width=o.width-6-22+"px"))}};t._updateFilterRow=s,t._arrangeFilterRow=r;var n=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),n(),s(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(n(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),s(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),h(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?h(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,s=(t.filterinput.val(),0);s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=e(r).find(".filterconditions"),a=t.columns.records[s],l="";if(a.filterable){var d,h;a.displayfield===i&&t.filterinput.val(n.val());var c=t.getcolumntypebydatafield(a),u=new e.jqx.filter;switch(c){case"number":case"int":case"float":case"decimal":d="numericfilter",h=u.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":d="booleanfilter",h=u.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":d="datefilter",h=u.getoperatorsbyfiltertype("datefilter");break;case"string":d="stringfilter",h=u.getoperatorsbyfiltertype("stringfilter")}if(0==o.length)l="stringfilter"===d?h[2]:h[0];else{var p=o.jqxDropDownList("getSelectedItem");l=p?h[p.index]:"stringfilter"===d?h[2]:h[0]}var m=n.val();if(m.length>0||0==m.length&&"NOT_NULL"==l||0==m.length&&"NOT_EMPTY"==l||0==m.length&&"EMPTY"==l||0==m.length&&"NULL"==l){var f=a.displayfield,g=new e.jqx.filter;"numericfilter"==d&&(","==t.gridlocalization.decimalseparator&&m.indexOf(t.gridlocalization.decimalseparator)>=0&&(m=m.replace(t.gridlocalization.decimalseparator,".")),m.indexOf(t.gridlocalization.currencysymbol)>=0&&(m=m.replace(t.gridlocalization.currencysymbol,"")),m.indexOf(t.gridlocalization.percentagesymbol)>=0&&(m=m.replace(t.gridlocalization.percentagesymbol,"")));u=g.createfilter(d,m,l,null,a.cellsFormat,t.gridlocalization);g.addfilter(0,u),t.addFilter(f,g)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var s=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=s,s[0].cells=new Array,s.height(24),s.width(t.table.width());var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=t.filterinput.val();e.each(t.columns.records,function(){var o=this,a=e("<div></div>").appendTo(s);if(a.css("position","absolute"),a.css("left",0+parseInt(o.uielement[0].style.left)),o.pinned&&(a.css("z-index",t.tableZIndex+t.columns.records.length),a.addClass(t.toThemeProperty("jqx-widget-header"))),s[0].cells.push(a[0]),!this.filterable)return!0;var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(a);l.keydown(function(e){13===e.keyCode&&i()}),o.displayfield===r&&l.val(n),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"));var d=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(a);d.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus(function(){t.ensureColumnVisible(o.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield)},10)}),d.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(d),d.remove();var s,r=t.getcolumntypebydatafield(o),n=t._getfiltersbytype(r);s="string"===r?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:s,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:n,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){l.focus(),setTimeout(function(){l.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),l[0].style.width=o.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(s)}();var s=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(s),n=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(s);r.css("left",0),n.css("left",0),r.css("top","4px"),n.css("top","4px"),r.jqxButton({theme:t.theme}),n.jqxButton({theme:t.theme}),n.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),r.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var r="";if(e.each(s,function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1}),r)return r}return"string"},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,s=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var n=this.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&this.host.attr("hideFocus","true");var a=i.groups.length,l=new Array,d=this.source.records;if(d=this.dataview.evaluate(d),this.dataViewRecords=d,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var h=d;if(this.pageable&&this.serverProcessing&&d.length>this.dataview.pagesize)h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,0);i.rootRecordsLength=u.length,u=function(e){for(var t=0,s=new Array,r=0;r<e.length;r++){var n=e[r];if(0==n.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&s.push(n),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return s}(u)}else u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,c);var p=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&s.records.length>0)for(var r=p(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t};h=l=p.call(i,u,new Array),this.rowsByKey=new Array;for(var m=0;m<h.length;m++){var f=h[m];this.rowsByKey[f.uid]=f}}l=h;this.renderedRecords=l;var g=l.length,v=this.tableZIndex,x=0,w=0;if(o)for(var y=0;y<n;y++){(O=(S=this.columns.records[y]).width)<S.minwidth&&(O=S.minwidth),O>S.maxwidth&&(O=S.maxwidth);var b=e('<table><tr><td role="gridcell" style="max-width: '+O+"px; width:"+O+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(b);var _=b.find("td");x=1+parseInt(_.css("padding-left"))+parseInt(_.css("padding-right")),b.remove();break}var j=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",q="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+j+"' id='table"+this.element.id+"'><colgroup>",T="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+j+"' id='pinnedtable"+this.element.id+"'><colgroup>",C=0;for(y=0;y<n;y++){var S;if((S=this.columns.records[y]).hidden)C++,0;else{if((O=S.width)<S.minwidth&&(O=S.minwidth),O>S.maxwidth&&(O=S.maxwidth),(O-=x)<0&&(O=0),o){var k=O;if(y==C&&k++,S.rowDetailscolumn)T+="<col style='max-width: "+(k=k+4)+"px; width: "+k+"px;'>",q+="<col style='max-width: "+k+"px; width: "+k+"px;'>";else T+="<col style='max-width: "+k+"px; width: "+k+"px;'>",q+="<col style='max-width: "+k+"px; width: "+k+"px;'>"}else T+="<col style='max-width: "+O+"px; width: "+O+"px;'>",q+="<col style='max-width: "+O+"px; width: "+O+"px;'>";w+=O}}q+="</colgroup>",T+="</colgroup>",this._hiddencolumns=!1;var I=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var D='<tr role="row">',P=this.host.height();if(this.pageable&&(P-=this.pagerHeight,"both"===this.pagerPosition&&(P-=this.pagerHeight)),P-=this.columnsHeight,this.filterable){var A=this.filter.find(".filterrow"),M=1;this.filter.find(".filterrow-hidden").length>0&&(M=0),P-=this.filterHeight+this.filterHeight*A.length*M}this.showstatusbar&&(P-=this.statusBarHeight),this.showAggregates&&(P-=this.aggregatesHeight),P<25&&(P=25),"hidden"!=this.hScrollBar[0].style.visibility&&(P-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(P=300);b='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+P+"px; height: "+P+"px; max-width:"+w+"px; width:"+w+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");b+='" class="'+(r+=" "+this.toTP("jqx-center-align"))+'">',b+=this.gridlocalization.emptydatastring,q+=D+=b+="</td>",T+=D,this.table[0].style.width=w+2+"px",s=w}var H=this.getRows(),B=new Array;for(m=0;m<l.length;m++){var z=(f=l[m]).uid;void 0===f.uid&&(f.uid=this.dataview.generatekey());D='<tr data-key="'+z+'" role="row" id="row'+m+this.element.id+'">';var E='<tr data-key="'+z+'" role="row" id="row'+m+this.element.id+'">';if(a>0&&f.level<a)D='<tr data-role="row-group" data-key="'+z+'" role="row" id="row'+m+this.element.id+'">',E='<tr data-role="row-group" data-key="'+z+'" role="row" id="row'+m+this.element.id+'">';var L=0,N=0;for(y=0;y<n;y++){var O,R=this.columns.records[y];(R.pinned||this.rtl&&this.columns.records[n-1].pinned)&&(I=!0),(O=R.width)<R.minwidth&&(O=R.minwidth),O>R.maxwidth&&(O=R.maxwidth),(O-=x)<0&&(O=0);r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");R.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===R.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&m%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var F="";if(a>0&&f.level<a)if(o)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),F+=' colspan="'+n+'"';k=0;for(var W=0;W<n;W++){var V=i.columns.records[W],G=V.width;G<V.minwidth&&(O=V.minwidth),G>V.maxwidth&&(O=V.maxwidth),(G-=x)<0&&(G=0),V.hidden||(k+=G)}O=k}b='<td role="gridcell" '+F+' style="max-width:'+O+"px; width:"+O+"px;";var U='<td role="gridcell" '+F+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+O+"px; width:"+O+"px;";y==n-1&&1==n&&(b+="border-right-color: transparent;",U+="border-right-color: transparent;");var Y=!1;a>0&&f.level<a&&(Y=!0),Y?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=R.cellsalign&&("right"===R.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[f.uid]&&(this.rowinfo[f.uid].selected&&!R.rowDetailscolumn&&this.editKey!==f.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[f.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),R.hidden?Y||(b+="display: none;",U+="display: none;",this._hiddencolumns=!0):(L+=x+O,0==N&&(b+="border-left-width: 0px;",U+="border-left-width: 0px;"),N++),a>0&&o&&Y&&y>=a&&(b+="font-size: 1px; border-color: transparent;  color: transparent;",U+="font-size: 1px; border-color: transparent; color: transparent;"),R.pinned&&(b+="pointer-events: auto;",U+="pointer-events: auto;"),!Y&&R.rowDetailscolumn&&(this.rowinfo[f.uid]?this.rowinfo[f.uid].nodetails||(this.rowinfo[f.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!R.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var K=i._getcellvalue(R,f),X=R.cellsFormat;if(a>0&&f.level<a&&(K=f.label,X=i.getColumn(i.groups[f.level]).cellsFormat),""!=X&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(K)?K=e.jqx.dataFormat.formatdate(K,X,i.gridlocalization):(e.jqx.dataFormat.isNumber(K)||!isNaN(parseFloat(K))&&isFinite(K))&&(K=e.jqx.dataFormat.formatnumber(K,X,i.gridlocalization))),Y)this.groupsRenderer&&(K=this.groupsRenderer(K,f,f.level));else{if(""!=R.cellclassname&&R.cellclassname)if("string"==typeof R.cellclassname)r+=" "+R.cellclassname;else{var Z=R.cellclassname(m,R.datafield,K,f);Z&&(r+=" "+Z)}if(""!=R.cellsRenderer&&R.cellsRenderer){if(-1===($=H.indexOf(f))&&f.originalRecord)var $=H.indexOf(f.originalRecord);(K=R.cellsRenderer($,R.datafield,K,f))&&(K.indexOf("<jqx-")>=0||K.indexOf(" ng-")>=0)&&B.push({rowKey:f.uid,row:$,column:R.datafield,value:K,columnIndex:y})}}if(b+='" class="'+r+'">',b+=K,b+="</td>",U+='" class="'+r+'">',U+=K,U+="</td>",R.pinned?(E+=b,D+=b):(D+=b,I&&(E+=U)),a>0&&!o&&f.level<a)break}if(0==s&&(this.table[0].style.width=L+2+"px",s=L),q+=D+="</tr>",T+=E+="</tr>",this.rowinfo[f.uid]?("group"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].group=Y),"row"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].row=f),"details"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].details=null),"detailsHeight"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].detailsHeight=200),"initialized"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].initialized=!1),"expanded"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].expanded=!1)):this.rowinfo[f.uid]={group:Y,row:f,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[f.uid].row=f),this.rowDetails){var J=this.rowinfo[f.uid].detailsHeight;if(this.rowinfo[f.uid])if(this.rowinfo[f.uid].expanded)var Q='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+J+"px; max-height: "+J+"px; height: "+J+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Q='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+J+"px; max-height: "+J+"px; height: "+J+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Q='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+J+"px; max-height: "+J+"px; height: "+J+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),q+=Q+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+J+"px; max-height: "+J+"px; height: "+J+'px;"><div data-role="details"></div></div></td></tr>',T+=Q}}if(q+="</table>",T+="</table>",I){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(T+q)}):i.table[0].innerHTML=T+q;var ee=this.table.find("#table"+this.element.id),te=this.table.find("#pinnedtable"+this.element.id);if(te.css("float","left"),te.css("pointer-events","none"),ee.css("float","left"),te[0].style.position="absolute",ee[0].style.position="relative",ee[0].style.zIndex=v-10,te[0].style.zIndex=v+10,this._table=ee,this._table[0].style.left="0px",this._pinnedTable=te,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=s+"px",this._table[0].style.width=s+"px",this.rtl&&s>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-s+parseInt(this.element.style.width)+"px"),this.rowDetails)for(m=0;m<g;m++){z=(f=l[m]).uid;if(this.rowinfo[z].details){var ie=e(this._table.children()[1]).children("[data-key="+z+"]"),se=e(this._pinnedTable.children()[1]).children("[data-key="+z+"]");if(ie){var re=se.next(),ne=e(e(re).children().children());ne.children().detach(),ne.append(this.rowinfo[f.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(q)}):i.table[0].innerHTML=q;W=this.table.find("#table"+this.element.id);this._table=W,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=s+"px"),0===g&&(this._table[0].style.width=2+s+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),B&&B.length>0){this._table[0].rows;e.each(B,function(){this.row;var t=this.rowKey,s=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var n=r[0].cells[s];e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+n.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,s){if(!((d=this.getColumn(t)).pinned||d.hidden||d.checkboxcolumn||d.grouped)){var r=this.columns.records.indexOf(d);this.columns.records.splice(r,1),this.columns.records.splice(i,0,d);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var a=this;if(null!=a.filterrow)e(a.filterrow.children()[0]);this.columnsrow[0].cells=[];if(e.each(this.columns.records,function(e,t){var i=this.uielement;a.columnsrow.append(i),a.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=a.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",n),a.columnsrow[0].cells[a.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(n+=r)}),this.groupable){var l=this.groups.length;l>0&&r-l>=0&&(r-=l,i-=l)}this.rowDetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionMode&&r-1>=0&&(r--,i--);var d=this._columns[r];this._columns.splice(r,1),this._columns.splice(i,0,d),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:d.datafield,oldIndex:r,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,s=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var n=parseInt(r.pageX),o=parseInt(r.pageY);if(a){var l=t.getTouches(r)[0];null!=l&&(n=parseInt(l.pageX),o=parseInt(l.pageY))}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:p+"px"}),s=!1,n>=h&&n<=h+t.host.width()&&o>=c&&o<=c+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.columnsheader.coord(),f=m.top+t.columnsheader.height();if(null!=t.columnsdropline)if(o>=m.top&&o<=f){if(i=t._handlereordercolumnsdroplines(n),t.columnGroups&&-1!=i){var g=0;g+=t._pinnedColumnsLength();var v=i.index;if(v>=g){var x=t.columns.records[v];if(null!=x){var w=t.columns.records.indexOf(t.getColumn(x.datafield));if(null==x.datafield)w=t.columns.records.indexOf(t.getcolumnbytext(x.text));var y=e.data(t.reordercolumn[0],"reorderrecord"),b=x;if(t.columns.records.indexOf(t.getColumn(y))<w&&"before"==i.position&&(b=t.columns.records[w-1]),b.columngroup!=t.getColumn(y).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),a)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var n=0;e.each(t.columns.records,function(i){var o=this;if(o.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:0,height:2},!0;0==n&&(s=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),n++;var a=2+t.columnsHeight;t.columnshierarchy&&(r=e(o.uielement).coord().top,a=e(o.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:o.width,height:a},s+=o.width})}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(a){var n=t.getTouches(r)[0];parseInt(n.pageX),parseInt(n.pageY)}var o=t.host.coord();parseInt(o.left),parseInt(o.top);if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),d=t.columns.records.indexOf(t.getColumn(l));t.reordercolumn.remove(),t.reordercolumn=null;var h=0;if(h+=t._pinnedColumnsLength(),null!=l){if(s&&-1!=i){var c=i.index;if(c>=h){var u=t.columns.records[c];if(null!=u){var p=t.columns.records.indexOf(t.getColumn(u.datafield));if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columnGroups){var m=u;if(d<p&&"before"==i.position&&(m=t.columns.records[p-1]),m.columngroup!=t.getColumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}d<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):d>p&&t.setcolumnindex(l,p)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(t,i,s){var r=this,n=i;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=e("<div></div>");var o=t.clone();r.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();o.width(t.width()+16),r.reordercolumn.append(o),r.reordercolumn.height(t.height()),r.reordercolumn.width(o.width()),r.reordercolumn.append(r.reordercolumnicon),e(document.body).append(r.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.reordercolumn.css("left",n.left+r.dragmousedown.left),r.reordercolumn.css("top",n.top+r.dragmousedown.top),null!=s&&s&&(r.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.width(2),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var n=i.pageX,o=i.pageY;if(r){var a=s.getTouches(i)[0];n=a.pageX,o=a.pageY}s.dragmousedown={left:n,top:o};var l=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(n)-parseInt(l.left),top:parseInt(o-l.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,o,function(n){if(!t.draggable)return!0;if(null==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var d=s.getTouches(n)[0];null!=d&&(a=d.pageX,l=d.pageY)}if(o={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var h=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(h>3||c>3)&&(s._createreordercolumn(i,o,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=s.pageX;if(i)d=e.jqx.mobile.getTouches(s)[0].pageX;o+=a;var h=l>0?n+l:0,c=0==l||t._startcolumnwidth+d-n<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=o&&(0!=h&&s.pageX<h?t.resizeline.css("left",d):0==h&&t.resizeline.css("left",d),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var n=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var s=0;t.pageable&&"top"!=t.pagerPosition&&(s=t.pagerHeight);var n="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-n-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-s-i-n),e.show("fast")};n(t.resizeline),n(t.resizestartline),t.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)n=t._startcolumnwidth-s+r;var o=t._resizecolumn.width;t._resizecolumn.width=n,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var a=0;a<t._columns.length;a++)if(t._columns[a].datafield===t._resizecolumn.datafield){t._columns[a].width=t._resizecolumn.width;break}t.hScrollBar[0].style.visibility;var l=t._resizecolumn.displayfield;t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:o,newWidth:n})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;o()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var s="";if(null!=this.columns&&null!=this.columns.records){var r=this,n=!1;e.each(this.columns.records,function(e,n){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){n=0,"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize;0==r.scrollBarSize&&0,n=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*i/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=Math.round(n)}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var o=this.columnsheader.find("#columntable"+this.element.id);if(0!=o.length){var a=0,l=o.find(".jqx-grid-column-header"),d=0;e.each(this.columns.records,function(o,h){var c=e(l[o]),u=!1,p=this.width,m=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(p=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,p=Math.round(p),u=!0),"auto"==this.width||this._width||u)if(u)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(c[0].style.width)!=p&&(c.width(p),this.width=p);else{var f=Math.floor(t*(this.text.length/s.length));isNaN(f)&&(f=this.minwidth);var g=t*(this.text.length/s.length)-f;if((a+=g)>=1&&(a-=1,f++),a>=.5&&o==r.columns.records.length-1&&f++,f<0){var v=e("<span>"+r.escape_HTML(this.text)+"</span>");e(document.body).append(v),f=10+v.width(),v.remove()}f<this.minwidth&&(f=this.minwidth),f>this.maxwidth&&(f=this.maxwidth),this._width="auto",this.width=f,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=d&&c.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,m!==this.width&&(n=!0)}),this.columnsheader.width(2+d),o.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){t.columns.records.length>t.headerZIndex&&(t.headerZIndex=t.columns.records.length+10),this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r="",n=this.host.width(),o=n,a=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;(i=parseFloat(this.width)*o/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),a[a.length]=this):l[l.length]=this}),this.rtl){var d=0;a.reverse();for(h=this.columns.records.length-1;h>=this.columns.records.length-a.length;h--)this.columns.replace(h,a[d++]);for(c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var h=0;h<a.length;h++)this.columns.replace(h,a[h]);for(var c=0;c<l.length;c++)this.columns.replace(a.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,m=0;e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-=i.level*t.columnsHeight}(this.datafield,this),p=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=t.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,f=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===a&&(f[0].style.borderLeftColor="transparent"),t.columnGroups&&(f[0].style.height=p+"px",f[0].style.bottom="0px",this.pinned&&(f[0].style.zIndex=h)),this.uielement=f,this.element=f,""!=this.classname&&this.classname&&f.addClass(this.classname);var g=this.width,v=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(g=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,g=Math.round(g),v=!0),"auto"==this.width||this._width||v)if(v)g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),f.width(g),this.width=g;else{var x=Math.floor(n*(this.text.length/r.length)),w=n*(this.text.length/r.length)-x;if((m+=w)>=1&&(m-=1,x++),m>=.5&&a==t.columns.records.length-1&&x++,isNaN(x)&&(x=this.minwidth),x<0){var y=e("<span>"+t.escape_HTML(this.text)+"</span>");e(document.body).append(y),x=10+y.width(),y.remove()}x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=parseInt(x),g=this.width,f.width(this.width)}else g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),f[0].style.width=parseInt(g)+"px";this.hidden&&f.css("display","none");var b=e(f.children()[0]);i[0].cells[a]=f[0];var _=null!=this.renderer?this.renderer(t.escape_HTML(this.text),this.align,p):t._rendercolumnheader(t.escape_HTML(this.text),this.align,p,t);if(null==_&&(_=t._rendercolumnheader(t.escape_HTML(this.text),this.align,p,t)),null!=this.renderer&&(_=e(_)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){b.append(e(_))}):this.renderer?b.append(e(_)):_&&(b[0].innerHTML=_),null!=_){var j=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');b.append(j);var q=j.children();this.sortasc=q[1],this.sortdesc=q[2],this.filtericon=q[0],this.iconscontainer=j,t.rtl&&(j.css("margin-left","0px"),j.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(f),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,f);var T=this;if(t.addHandler(f,"click",function(e){if(T.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(T)),e.preventDefault()}),t.columnsResize){var C=!1,S="mousemove";t.isTouchDevice()&&(C=!0,S=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(f,S,function(i){if(!T.resizable)return t.resizablecolumn=null,!0;var s=parseInt(i.pageX),r=5,n=parseInt(f.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(f).left),t._handlecolumnsResize){if(C)return r=40,(s=e.jqx.mobile.getTouches(i)[0].pageX)>=n+T.width-r?(t.resizablecolumn={columnelement:f,column:T},f.css("cursor","col-resize")):(f.css("cursor",""),t.resizablecolumn=null),!0;var o=T.width;if(t.rtl&&(o=0),s>=n+o-r){if(s<=n+o+r)return t.resizablecolumn={columnelement:f,column:T},f.css("cursor","col-resize"),!1;f.css("cursor",""),t.resizablecolumn=null}else f.css("cursor",""),s<n+o-r&&(T._animating||T._menuvisible||f.mouseenter()),t.resizablecolumn=null}})}(f.css("left",s),this.hidden||(s+=g),T.rendered)&&(T.rendered(e(b[0].firstChild),T.align,p)&&null!=j&&j.hide())}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),this.columnsrow=i,t.columnsheader.append(i),i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columnGroupslevel-1;a++)for(i=0;i<this.columnGroups.length;i++){var l=this.columnGroups[i],d=l.level;if(d===a){var h=d*this.columnsHeight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseInt(s.element[0].style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsHeight,m=s--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));f.append(g),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=h+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",o.append(f),l.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):n.hidden||(t+=n.width,s=Math.min(parseInt(n.element[0].style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsHeight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var a=s,l=-1;if(this.treeGrid){var d=new Array,h=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&h(e[t].records))};h(s),s=d}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var c=new Array;for(o=0;o<s.length;o++)s[o]&&!1!==s[o]._visible&&c.push(s[o]);s=c;var u=new Array;for(o=0;o<a.length;o++)a[o]&&!1!==a[o]._visible&&u.push(a[o]);a=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,l);if(this.treeGrid)if((0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}var f;p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)){m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e],r.aggregates=o),l},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesRenderer){if(i){o=t.aggregatesRenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");s.html(o)}}else e.each(i,function(){for(n in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=n;i=r._getaggregatename(i),t.html(i+":"+this[n]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),s.append(t)}});else if(s.children().remove(),s.html(""),t.aggregatesRenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesRenderer({},t,s,null);s.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var s=0;s<i;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s],o=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,o,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0,s=0;s<t;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s];r&&(r.width(n.width),r[0].style.left=i+"px",n.hidden&&n.hideable?r.css("display","none"):i+=n.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,o=new Array;this.aggregates[0].cells=o;for(var a=0;a<s;a++){var l=this.columns.records[a],d=this._calculateaggregate(l),h=l.width;h<l.minwidth&&(h=l.minwidth),h>l.maxwidth&&(h=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",n++),0==a&&u.css("border-left-width","0px")):u.css("z-index",n--),u.width(h),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=h,o[o.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(var i=0;i<t.columns.records.length;i++)t._removecolumnhandlers(t.columns.records[i]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var s="mousemove.resize"+t.element.id,r="mousedown.resize"+t.element.id,n="mouseup.resize"+t.element.id;t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n);s="mousemove.reorder"+t.element.id,r="mousedown.reorder"+t.element.id,n="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n),t.filterable){if(t.filterrow)for(i=0;i<t.filterrow[0].cells.length;i++){var o=t.filterrow[0].cells[i],a=e(o).find(".filterconditions");t.columns.records[i];a.length>0&&a.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");var l=t.pagerbuttonsbottom.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove();l=t.pagerbuttonstop.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columnGroups"===i)t._render();else if("columns"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var n=!1,o=0;o<r.length;o++)if(parseInt(r[o])==t.pageSize){n=!0;break}n||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var a=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(a/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(s))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:t.dataview.pagesize}),t.goToPage(l)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var s=!!t._source,r=null;this._sortData=null,this._sortHierarchyData=null,s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n,o=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};if(n=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=n.totalrecords,r._options.originaldata=n.originaldata,r._options.recordids=n.recordids,r._options.cachedrecords=new Array,r._options.pagenum=n.pagenum,r._options.pageable=n.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==n.pagesize&&(n.pagesize=10),r._options.pagesize=n.pagesize,this.source=t,void 0!==i);var a=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(q=function(){o(a),a.update()})(),r.bindBindingUpdate(a.grid.element.id,q);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(q=function(e){o(a),a.update()})(),void r.bindBindingUpdate(a.grid.element.id,q);for(var l=[],d=0,h={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter;if(p.getfilters){var m=p.getfilters();h[u+"operator"]=p.operator;for(var f=0;f<m.length;f++){m[f].datafield=u;var g=m[f].value;if("datefilter"==m[f].type)if(m[f].value&&m[f].value.toLocaleString){var v=this.grid.getColumn(m[f].datafield);if(v&&v.cellsformat){var x=this.grid.source.formatDate(m[f].value,v.cellsformat,this.grid.gridlocalization);h["filtervalue"+d]=x||m[f].value.toLocaleString()}else h["filtervalue"+d]=g.toString()}else h["filtervalue"+d]=g.toString();else h["filtervalue"+d]=g.toString(),m[f].data&&(h["filterid"+d]=m[f].data.toString()),m[f].id&&(h["filterid"+d]=m[f].id.toString());h["filtercondition"+d]=m[f].condition,h["filteroperator"+d]=m[f].operator,h["filterdatafield"+d]=u;var w={label:g.toString()};m[f].data&&(w.value=m[f].data.toString()),m[f].id?w.value=m[f].id.toString():w.value=g.toString(),w.condition=m[f].condition,w.operator=0==m[f].operator?"and":"or",w.field=u,w.type=m[f].type;var y=!1;if(l.length>0)for(var b=0;b<l.length;b++){var _=l[b];if(_.field==u){_.filters.push(w),y=!0;break}}y||(l.push({field:u,filters:[]}),l[l.length-1].filters.push(w)),d++}}}h.filterGroups=l,h.filterslength=d,e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize});var j=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var q=function(){var t=function(){o(a),a.update()};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,q),r._source.loaderror=function(e,t,i){q()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),r._options.data=j}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,s=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1});for(var n=new Array,o=0;o<t.length;o++)n.push(e.extend({originalRecord:t[o]},t[o]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var a=n.sort(function(e,t){return i._compare(e,t,r)}).reverse();else a=n.sort(function(e,t){return i._compare(e,t,r)});return this._sortData=a,Object.prototype.toString=s,a},this._compare=function(t,i,s){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var s=this;e.each(t,function(e){this.uid=i,s.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var n=new Array,o=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,o=0;o<this.filters.length;o++){var a=this.filters[o].filter,l=s[this.filters[o].datafield],d=a.evaluate(l);r=null==r?d:"or"==a.operator?r||d:r&&d}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),n[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var a=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];a.push(s),s.records&&s.records.length>0&&l(s,s.records)}};l(null,t),o.call(this,a,r);for(var d=0;d<r.length;d++)for(var h=r[d];h.parent;){var c=h.parent;n[c.uid]||(c._visible=!0,n[c.uid]=c),h=c}r=t}else o.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){s=this;var u=new Array;this._sortData=null;var p=function(t,i){s._sortData=null;var r=null;if(s.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<s.source.hierarchy.groupingDataFields.length){r=new Array;for(var n=0;n<i.length;n++)r.push(e.extend({originalRecord:i[n]},i[n]))}else r=s._sort(i);else r=s._sort(i);t.records?t.records=r:t=t.concat(r);for(n=0;n<r.length;n++)r[n].records&&r[n].records.length&&p(r[n],r[n].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(o=this.rows[this.rows.length-1][t])&&(o=null);for(var r=1;r<=100;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(null!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&this.grid.rowsByKey[s]){var o;null==(o=this.rows[this.rows.length-1][t])&&(o="");for(r=1;r<=1e3;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+s])return"jqx"+s;for(r=s+1;r<=100;r++){if(!this.grid.rowsByKey["jqx"+r]){if(this.grid.rowsByKey["jqx"+r])continue;return"jqx"+r}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDateTimeInput","",{}),e.extend(e.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:e.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:2e3,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,hint:!0,allowKeyboardDelete:!0,yearCutoff:null,editMode:"default",localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxDateTimeInput.prototype?t:(e.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,t)},createInstance:function(t){var i="",s=this;if(!s.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(s.isMaterialized()){var r=window.getComputedStyle(this.element),n=r.getPropertyValue("--jqx-dropdown-animation"),o=r.getPropertyValue("--jqx-datetimeinput-dropdown-width")||280,a=r.getPropertyValue("--jqx-datetimeinput-dropdown-height")||280;n&&"default"==this.animationType&&(this.animationType=n.trim()),o&&(this.dropDownWidth=o),a&&(this.dropDownHeight=a)}if("dd/MM/yyyy"!=s.formatString){var l=s.formatString.split(" ");if(l&&l.length>1){for(var d="",h=0;h<l.length;h++)"1"==l[h].length?d+=s._getFormatValue(l[h]):d+=l[h],h<l.length-1&&(d+=" ");s.formatString=d}}if("input"==s.element.nodeName.toLowerCase()){var c=s.element.getAttribute("type");if(c&&"dd/MM/yyyy"==s.formatString){if("date"==c&&(s.formatString="d"),"datetime"==c){var u=s._getFormatValue("d")+" "+s._getFormatValue("t");s.formatString=u,s.showTimeButton=!0}"time"==c&&(s.formatString="t",s.showTimeButton=!0,s.showCalendarButton=!1)}if(s.field=s.element,s.field.getAttribute("min")){var p=new Date(s.field.getAttribute("min"));s._isValidDate(p)&&(s.min=p)}if(s.field.getAttribute("max")){var m=new Date(s.field.getAttribute("max"));s._isValidDate(m)&&(s.max=m)}s.field.className&&(s._className=s.field.className);var f={title:s.field.title};s.field.value&&(f.value=s.field.value),s.field.id.length?f.id=s.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":f.id=e.jqx.utilities.createId()+"_jqxDateTimeInput";var g=e("<div></div>",f);g[0].style.cssText=s.field.style.cssText,s.width||(s.width=e(s.field).width()),s.height||(s.height=e(s.field).outerHeight()),e(s.field).hide().after(g);var v=s.host.data();if(s.host=g,s.host.data(v),s.element=g[0],s.element.id=s.field.id,s.field.id=f.id,s._className&&(s.host.addClass(s._className),e(s.field).removeClass(s._className)),s.field.tabIndex){var x=s.field.tabIndex;s.field.tabIndex=-1,s.element.tabIndex=x}}if(s.host.attr("value")){i=!0;var w,y=s.host.attr("value");if("range"!=s.selectionMode)null==(w=new Date(y))||isNaN(w)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(w))}null!=s.value&&s.value instanceof Date?s.value=e.jqx._jqxDateTimeInput.getDateTime(s.value):null!=s.value&&"string"==typeof s.value&&(null==(w=new Date(s.value))||isNaN(w)?s.value.indexOf(",")>=0&&(s.value=s.value.replace(/\,/g,"/"),null==(w=new Date(s.value))||isNaN(w)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(w))):s.value=e.jqx._jqxDateTimeInput.getDateTime(w));if(this._initTimeRange(),this._validateTimeRange(),s.host.attr("data-role","input"),s.render(),e.jqx.aria(this),null!=s.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+s.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null"),s.minDate!==s.defaultMinDate&&(s.min=s.minDate),s.maxDate!==s.defaultMaxDate&&(s.max=s.maxDate),s.setMaxDate(s.max,!1),s.setMinDate(s.min,!1),"range"!==s.selectionMode&&s.value&&s.value.dateTime&&s.min&&s.max&&(s.value.dateTime<s.min||s.value.dateTime>s.max)&&(s.value.dateTime<s.min&&(s.value.dateTime=s.min),s.value.dateTime>s.max&&(s.value.dateTime=s.max),s._updateText()),"range"==s.selectionMode)if(i){var b=(y=s.host.attr("value")).substring(0,y.indexOf("-")),_=y.substring(y.indexOf("-")+1),j=new Date(b),q=new Date(_);null==j||isNaN(j)||null==q||isNaN(q)||s.setRange(j,q)}else null!=s.getDate()&&s.setRange(s.getDate(),s.getDate());s._getMask(),"full"===s.editMode&&null===s.value&&void 0!==s._mask[0]&&(s.dateTimeInput[0].value=s._mask[0])},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),s=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=s}if(this.timeRange.max){e=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var r=this.timeRange.max.split(":");i=parseInt(r[0]),s=parseInt(r[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=s}}},_format:function(t,i,s){var r=!1;try{null!=window.Globalize&&(r=!0),document.Globalize&&(window.Globalize=document.Globalize,r=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,r=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,r=!0),e.global)return e.global.format(t,i,this.culture);if(!r){if(e.jqx.dataFormat)return t instanceof Date?e.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?e.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):e.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return i=window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}},render:function(){var t=this;t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=e.jqx.utilities.createId();e.jqx.utilities.createId(),e.jqx.utilities.createId();t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=e.jqx.mobile.isTouchDevice();var i=e("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host);t.dateTimeInput=e("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.isMaterialized()||t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove();var s=t.host.attr("name");s&&t.dateTimeInput.attr("name",s),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=e(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.showTimeButton||t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.timeButtonIcon=e(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r"));var r=this;if(t._arrange(),null!=e.jqx._jqxCalendar&&null!=e.jqx._jqxCalendar)try{var n="calendar"+t.id,o=e(e.find("#"+n));o.length>0&&o.remove(),e.jqx.aria(this,"aria-owns",n),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-readonly","range"==t.selectionMode);var a=e("<div class='jqx-calendar-container' style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>");"opera"==e.jqx.utilities.getBrowser().browser&&a.hide(),a.addClass(t.toThemeProperty("jqx-calendar-container")),"element"==t.dropDownContainer?a.appendTo(t.host):a.appendTo(document.body),t.container=a,t.calendarContainer=e(e.find("#innerCalendar"+t.id)).jqxCalendar({titleFormat:this.titleFormat,restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),"element"==t.dropDownContainer?t.calendarContainer.css({position:"absolute",top:0,left:0}):t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=e(e.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=e.data(t.calendarContainer[0],"jqxCalendar").instance;r=this;t._calendar.today=function(){r.today()},t._calendar.clear=function(){r.clear()},"opera"==e.jqx.utilities.getBrowser().browser&&a.show(),a.height(parseInt(t.calendarContainer.height())+25),a.width(parseInt(t.calendarContainer.width())+25),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(e){}if(e.global&&e.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,i,s,n){n?(t.host.addClass(r.toThemeProperty("jqx-input-disabled")),t.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(r.toThemeProperty("jqx-input-disabled"))),e.jqx.aria(t,"aria-disabled",n)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){r.setDate(new Date)},10)}),t.cookies){var l=e.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id);null!=l&&t.setDate(new Date(l))}if(e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var d=t.host.parents(".jqx-window").css("z-index");t.container.css("z-index",d+10),t.calendarContainer.css("z-index",d+10)}"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid"))),this._addBarAndLabel(this.dateTimeInput),this._updateHint(!0),t.template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),this._setSize(),this._arrange()},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){var t=window.getComputedStyle(this.element),i=2*parseInt(t.borderLeftWidth),s=t.boxSizing;0===this.element.offsetWidth&&(i=2),("border-box"===s||isNaN(i))&&(i=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-i+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-i+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-i+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-i+"px");var r=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(r=!0,this.host.width(this.width),i>0&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(r=!0,this.host.height(this.height));var n=this;if(r&&this.calendarContainer){this._arrange();var o=this.host.width();"auto"!=this.dropDownWidth&&(o=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:o}),this.container.width(parseInt(o)+25)}e.jqx.utilities.resize(this.host,function(){n.calendarContainer&&n._arrange()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=window.getComputedStyle(this.element),r=2*parseInt(s.borderLeftWidth);("border-box"===s.boxSizing||isNaN(r))&&(r=0);var n=this.buttonSize,o=2;if(!this.showCalendarButton&&!this.showTimeButton){n=0;this.calendarButton.hide(),o=0}this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var a=t-n-1*o;if(this.showTimeButton&&this.showCalendarButton)a=t-2*n-1*o;else if(this.showTimeButton||this.showCalendarButton)a=t-n-1*o;a>0&&(this.dateTimeInput[0].style.width=a+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+a+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=n+1+"px",this.calendarButton[0].style.left=1+a+"px",this.timeButton[0].style.width=n+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+a+"px":this.timeButton[0].style.left=1+a+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var l=this.dateTimeInput.height();if(0==l&&"full"!=this.renderMode?(l=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):l=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),(h=parseInt(i)/2-parseInt(l)/2)>0){var d=this.dateTimeInput.css("font-size");""==d&&(d=13);var h=i-2-parseInt(d)-2;isNaN(h)&&(h=0),h<0&&(h=0);var c=h/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(c=h/4),this.dateTimeInput[0].style.paddingTop=Math.round(c)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(c)+"px"}this.rtl&&(this.calendarButton[0].style.width=n+"px",this.timeButton[0].style.width=n+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",n+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(e(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(e(window),"resize."+this.id)},isOpened:function(){var t=e.data(document.body,"openedJQXCalendar"+this.id);return null!=t&&t==this.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return!s&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;e._firstFocusDate=e.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(e){}},_addHandlers:function(){this.element.id,this.element;var t=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){t.isOpened()&&t.close()}),this.addHandler(this.host,"mouseenter",function(){if(!t.disabled&&t.enableHover){t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-hover")))}}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.removeClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(e(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),e.jqx.mobile.isTouchDevice()&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var s=e.data(document.body,"openedJQXCalendar"+t.id);if(null!=s&&s==t.calendarContainer)return t.handleCalendarKey(i,t)}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return!(t.isOpened()&&!t._calendar._viewAnimating&&"month"==t._calendar.view)||(t.hideCalendar("selected","keyboard"),t.dateTimeInput.focus(),!1);if(9==e.keyCode){if(t.isOpened())return t.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return!t.isOpened()||(t.hideCalendar(null,"keyboard"),t.dateTimeInput.focus(),!1);if(t.timePopup=!1,84==e.keyCode&&(t.timePopup=!0),115==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){e.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=t.selectionMode?t.hideCalendar("selected","mouse"):0==t._calendar._clicks&&t.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){t.closeCalendarAfterSelection&&t._calendar.value&&e.data(document.body,"openedJQXCalendarValue",new e.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(t.bar.removeClass("focused"),t.label.removeClass("focused"),t._endFullEdit(),null!=t.value){t.isEditing=!1;t.value.dateTime.getDay(),t._oldDT;t._validateValue(!0),e.stopPropagation&&e.stopPropagation(),t._updateText(),t._raiseEvent(9,e)}t.isOpened()||t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){if(t._firstFocusDate=t.getDate(),null!=t.value?("range"!=t.selectionMode?t._oldDT=new Date(t.value.dateTime):t._oldDT=t.getRange(),setTimeout(function(){var e=t._selection();t.isEditing=!0,t._validateValue(),t._updateText(),t._setSelectionStart(0),t._selectGroup(-1,e),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))})):(t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),t.bar.addClass("focused"),t.label.addClass("focused"),e.preventDefault)return e.preventDefault(),!1});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(e){var i="block"==t.container.css("display");if(t.timePopup=!1,t.calendarPopup=!0,!t.disabled&&!t.isanimating){if(i)return t.hideCalendar(),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,i,function(e){var i="block"==t.container.css("display");if(t.timePopup=!0,t.calendarPopup=!1,!t.disabled&&!t.isanimating){if(i)return t.hideCalendar("mouse","mouse"),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){var i=this.value;return t._fullEditInProgress&&t._enteredValue&&void 0!==t._mask[i.length]&&(this.value=this.value+t._mask[i.length]),t._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return t._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e="99"+(e=e.replace(".","")),"dateTimeInput"+(e/=1)},setMaxDate:function(t,i){null!=t&&(null==t||"string"!=typeof t||(t=new Date(t),this._isValidDate(t)))&&(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=i&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),e.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&(null==t||"string"!=typeof t||(t=new Date(t),this._isValidDate(t)))&&(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=i&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),e.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t=!1;try{null!=window.Globalize&&(t=!0)}catch(e){}try{if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(t){var i=Globalize.culture(this.culture);this.localization.calendar=i.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(e){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("dropDownVerticalAlignment"==i&&t.close(),"template"==i&&(t.bar.removeClass(t.toThemeProperty("jqx-"+s)),t.label.removeClass(t.toThemeProperty("jqx-"+s)),t.timeButton.removeClass(t.toThemeProperty("jqx-"+s)),t.calendarButton.removeClass(t.toThemeProperty("jqx-"+s)),t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),"restrictedDates"==i&&t.calendarContainer.css({restrictedDates:r}),"popupZIndex"==i&&t.calendarContainer.css({zIndex:r}),"showCalendarButton"==i&&t._arrange(),"showTimeButton"==i&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==i&&(t._calendar.selectionMode=r,t.refreshValue()),"min"==i&&("string"==typeof r?t.setMinDate(new Date(r)):t.setMinDate(r)),"max"==i&&("string"==typeof r?t.setMaxDate(new Date(r)):t.setMaxDate(r)),"value"==i)if(null!=r&&r instanceof Date){if(isNaN(r.getFullYear())||isNaN(r.getMonth())||isNaN(r.getDate()))return void(this.value=s);r=e.jqx._jqxDateTimeInput.getDateTime(r)}else if(null!=r&&"string"==typeof r){var n=new Date(r);null==n||isNaN(n)||(this.value=e.jqx._jqxDateTimeInput.getDateTime(n))}if("views"==i&&t.calendarContainer.jqxCalendar({views:r}),"enableViews"==i&&t.calendarContainer.jqxCalendar({enableViews:r}),"selectableDays"==i&&t.calendarContainer.jqxCalendar({selectableDays:r}),"showFooter"==i&&t.calendarContainer.jqxCalendar({showFooter:r}),"rtl"==i&&(t.calendarContainer.jqxCalendar({rtl:r}),r?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=i&&"clearString"!=i||t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==i&&t.calendarContainer.jqxCalendar({dayNameFormat:r}),"firstDayOfWeek"==i&&t.calendarContainer.jqxCalendar({firstDayOfWeek:r}),"showWeekNumbers"==i&&t.calendarContainer.jqxCalendar({showWeekNumbers:r}),"culture"==i||"localization"==i?t._applyCulture():"formatString"!=i&&("yearCutoff"!==i||null!==r&&null!==s)||("formatString"===i&&t._getMask(),t.items=new Array,t._loadItems()),"theme"==i&&(e.jqx.utilities.setTheme(s,r,t.host),t.calendarContainer.jqxCalendar({theme:r})),"width"==i||"height"==i)return t.close(),void t.refresh();t._setOption(i,r,s),"dropDownWidth"!=i&&"dropDownHeight"!=i||(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(this.getMinDate()):(this._calendar._clicks=1,this.setRange(this.getMinDate(),this.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},_isValidDate:function(e){return null==e||"object"==typeof e&&(!(null===e||!e.getFullYear)||!("Invalid Date"==e||e.valueOf()<0||isNaN(e.valueOf())))},setDate:function(t){var i=this.getDate();if(null!=t&&"string"==typeof t){var s=t;if(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),t=new Date(t),this._isValidDate(t)||(t=s)),t.toString().indexOf("-")>=0&&(t=t.replace(/\-/g,"/"),t=new Date(t),this._isValidDate(t)||(t=s),t.getFullYear&&isNaN(t.getFullYear)&&(t=s)),""!=t){var r=t;if(null===(t=null!=window.Globalize?window.Globalize.parseDate(r,this.formatString,this.culture):e.jqx.dataFormat?e.jqx.dataFormat.parsedate(r,this.formatString,this.localization.calendar):new Date(t))&&null!==r&&this._isValidDate(r)&&(t=r),!this._isValidDate(t))return}}if(null!=t&&"null"!=t&&"undefined"!=t||this.allowNullDate||(t=this.min),this._isValidDate(t)||(t=null),null!=t&&"null"!=t&&"undefined"!=t&&""!==t){if(!(t<this.getMinDate()||t>this.getMaxDate()))return null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-i?(this._raiseEvent("0",t,i),this._raiseEvent("9",t,i),!0):void 0}else null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,i),this._raiseEvent("9",t,i))},getDate:function(){return null==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if("object"!=typeof t||this._isValidDate(t)||(t=null),"object"!=typeof i||this._isValidDate(i)||(i=null),(null==t||"string"!=typeof t||(t=new Date(t),this._isValidDate(t)))&&(null==i||"string"!=typeof i||(i=new Date(i),this._isValidDate(i)))&&!(t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(t,i),i&&t&&i.valueOf()!=t.valueOf()?this._range={from:t,to:i}:this._range=this._calendar.getRange();var s=t;null!=s&&s.getFullYear&&(null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(s.getFullYear()),this.value._setMonth(s.getMonth()+1),this.value._setHours(s.getHours()),this.value._setMinutes(s.getMinutes()),this.value._setSeconds(s.getSeconds()),this.value._setMilliseconds(s.getMilliseconds()),this.value._setDay(s.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=0;t<this.items.length;t++){var i=this.editors[t].value;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:i>1&&(i=1);break;case"Character":break;case"Day":i<1?i=1:i>31&&(i=31);break;case"FORMAT_hh":i<1?i=1:i>12&&(i=12);break;case"FORMAT_HH":i<0?i=0:i>23&&(i=23);break;case"Millisecond":i<0?i=0:i>999&&(i=999);break;case"Minute":i<0?i=0:i>59&&(i=59);break;case"Month":i<1?i=1:i>12&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:i>59&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[t].value!=i&&(this.editors[t].value=i,!0)}this.updateValue(e),null!=this.value&&!0===e&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},spinDown:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){this.calendarContainer;var t=this._calendar,i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var s=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,s},handleCalendarKey:function(t,i){e(t.target);var s=e.data(document.body,"openedJQXCalendar"+this.id);if(null!=s&&s.length>0)return i._passKeyToCalendar(t);return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+23):0),i},open:function(e){this.timePopup="time"==e,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},initTimePopup:function(){this.timePopupElement=e("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var t="";t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var s=this.timePopupElement.find("input");s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(s,"mousedown",function(e){e.stopPropagation()});var r=function(t){t.target.className.indexOf("hour")>=0&&o._decrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._decrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._decrementMeridian(e(t.target))},n=function(t){t.target.className.indexOf("hour")>=0&&o._incrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._incrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._incrementMeridian(e(t.target))};this.addHandler(s,"wheel",function(e){!function(e,t){if(t.isEditing){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&null!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(i<0?r(e):n(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}}(e,o)}),this.addHandler(s,"keydown",function(t){e(t.target);if(t.ctrlKey)if(38==t.keyCode){if(o.isOpened())return o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!o.isOpened())return o.showCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1;40==t.keyCode?(r(t),t.preventDefault()):38==t.keyCode?(n(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),o.hideCalendar("cancel"),o.dateTimeInput.focus())}),this.hourInput=e(s[0]),this.minuteInput=e(s[1]),this.secondInput=e(s[2]),this.mssecondInput=e(s[3]),this.meridianInput=e(s[4]),this.hourInput2=e(s[5]),this.minuteInput2=e(s[6]),this.secondInput2=e(s[7]),this.mssecondInput2=e(s[8]),this.meridianInput2=e(s[9]);var o=this,a=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=e(a[0]),this.hourIncrement2=e(a[1]),this.addHandler(s,"change",function(t){var s=e(t.target);if(s.val().length<=1&&s.val("0"+e(t.target).val()),t.target.className.indexOf("hour")>=0){var r=parseInt(e(t.target).val());if(i.indexOf("HH")>=0)for(;r>24;)r-=24;else for(;r>12;)r-=12;r<10&&(r="0"+r),s.val()!=r&&s.val(r)}if(t.target.className.indexOf("minute")>=0||t.target.className.indexOf("second")>=0){for(r=parseInt(e(t.target).val());r>59;)r--;r<10&&(r="0"+r),s.val()!=r&&s.val(r)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,i.indexOf("HH")>=0?t>23&&(t=0):t>12&&(t=1),t<10&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());++t>59&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());++t>999&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,i.indexOf("HH")>=0?t<0&&(t=23):t<1&&(t=12),t<10&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());--t<0&&(t=59),t<10&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());--t<0&&(t=999),t<10&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput2)});var l=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=e(l[0]),this.minuteIncrement2=e(l[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput2)});var d=this.timePopupElement.find(".increment-second-column");this.secondIncrement=e(d[0]),this.secondIncrement2=e(d[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput2)});var h=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=e(h[0]),this.millisecondsIncrement2=e(h[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput2)});var c=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=e(c[0]),this.meridianIncrement2=e(c[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput2)});var u=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=e(u[0]),this.hourDecrement2=e(u[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput2)});var p=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=e(p[0]),this.minuteDecrement2=e(p[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput2)});var m=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=e(m[0]),this.secondDecrement2=e(m[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput2)});var f=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=e(f[0]),this.millisecondsDecrement2=e(f[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput2)});var g=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=e(g[0]),this.meridianDecrement2=e(g[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput2)});var v=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var x=function(t){var s=t.find("tr");-1==i.indexOf("mm")&&(o.minuteInput.hide(),o.minuteInput2.hide(),e(e(s[0]).children()[1]).hide(),e(e(s[0]).children()[2]).hide(),e(e(s[1]).children()[1]).hide(),e(e(s[1]).children()[2]).hide(),e(e(s[2]).children()[1]).hide(),e(e(s[2]).children()[2]).hide()),-1==i.indexOf("ss")&&(o.secondInput.hide(),o.secondInput2.hide(),e(e(s[0]).children()[3]).hide(),e(e(s[0]).children()[4]).hide(),e(e(s[1]).children()[3]).hide(),e(e(s[1]).children()[4]).hide(),e(e(s[2]).children()[3]).hide(),e(e(s[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(o.meridianInput.hide(),o.meridianInput2.hide(),e(e(s[0]).children()[7]).hide(),e(e(s[0]).children()[8]).hide(),e(e(s[1]).children()[7]).hide(),e(e(s[1]).children()[8]).hide(),e(e(s[2]).children()[7]).hide(),e(e(s[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(o.mssecondInput.hide(),o.mssecondInput2.hide(),e(e(s[0]).children()[5]).hide(),e(e(s[0]).children()[6]).hide(),e(e(s[1]).children()[5]).hide(),e(e(s[1]).children()[6]).hide(),e(e(s[2]).children()[5]).hide(),e(e(s[2]).children()[6]).hide())};1==v.length?x(v):(x(e(e(v)[1])),x(e(e(v)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(o),this.meridianInput.val(r)}}else{t=this.getRange().from;if(this.hourInput){if(t)i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(o),this.meridianInput.val(r)}t=this.getRange().to;if(this.hourInput2){if(t)i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput2.val(i),this.minuteInput2.val(s),this.secondInput2.val(n),this.mssecondInput2.val(o),this.meridianInput2.val(r)}}},showCalendar:function(){var t=this.calendarContainer,i=this._calendar;if(e.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var s=this.timeContainer.find("input"),r=0,n=0;n<s.length;n++)"none"!=s[n].style.display&&(r+=50);this.container.width(parseInt(r)),this.touch||setTimeout(function(){s[0].focus(),e(s[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());this.container;var o,a=this,l=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(l=parseInt(this.host.outerHeight())-1+"px",o=0),o=d+"px";this.container.css("left",o),this.container.css("top",l);var h=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==a.selectionMode){this._validateValue(),this._updateText();var c=null!=this.value?this.value.dateTime:new Date;i.setDate(c)}this.closeCalendarAfterSelection=h;var u=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),m=Math.abs(p-this.host.outerWidth()+2);if(this.rtl||(m-=2),p>this.host.width()){this.container.css("left",23+parseInt(Math.round(d))-m+"px")}else this.container.css("left",25+parseInt(Math.round(d))+m+"px")}if("top"==this.dropDownVerticalAlignment){var f=t.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),u=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"));var g=parseInt(this.host.outerHeight()),v=parseInt(l)-Math.abs(f+g+23);this.container.css("top",v)}if(this.enableBrowserBoundsDetection){var x=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=x.top?(u=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",x.top),parseInt(this.container.css("left"))!=x.left&&this.container.css("left",x.left)}if(this._raiseEvent(7,t),"none"!=this.animationType&&"transform"!=this.animationType){this.container.css("display","block");var w=parseInt(t.outerHeight());t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),u?t.css("margin-top",w):t.css("margin-top",-w),this.timePopup&&(u?this.timeContainer.css("margin-top",w):this.timeContainer.css("margin-top",-w),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.calendarContainer.focus()}))}else t.stop(),a.isanimating=!1,a.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),e.data(document.body,"openedJQXCalendar"+a.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.addClass(this.toThemeProperty("jqx-popup-show")),this.isMaterialized()&&this._calendar.refresh()},hideCalendar:function(t,i){i&&(this.changeType=i);var s=this.calendarContainer,r=this.container,n=this;if(e.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode&&this.hourInput){var o=this.getDate(),a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12)),o||(o=new Date),o.setHours(a,l,d,h),this.setDate(o)}else if(this.hourInput&&"selected"!=t){var u=this.getRange();a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var p=u.from;p||(p=new Date),p.setHours(a,l,d,h);a=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),d=parseInt(this.secondInput2.val()),h=parseInt(this.mssecondInput2.val()),c=this.meridianInput2.val();""==l&&(l=0),""==d&&(d=0),""==h&&(h=0),"none"!=this.meridianInput2.css("display")&&(c.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var m=u.to;if(m||(m=new Date),m.setHours(a,l,d,h),m.valueOf()<p.valueOf())return!1;this.setRange(p,m)}else if("selected"==t)return;if(e.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType&&"transform"!=this.animationType){var f=s.outerHeight();s.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?s.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}):s.animate({"margin-top":g},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}):this.timeContainer.animate({"margin-top":g},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}))}else"transform"===this.animationType?setTimeout(function(){r.css("display","none")},this.closeDelay):r.css("display","none");null!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,s),this.calendarContainer.removeClass(this.toThemeProperty("jqx-popup-show"))},_updateSelectedDate:function(){var t=this.value;null==t&&((t=new e.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var i=t.hour,s=t.minute,r=t.second,n=t.millisecond;if("range"!=this.selectionMode||null!=this._calendar.getRange().from){(a=new e.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime))._setHours(i),a._setMinutes(s),a._setSeconds(r),a._setMilliseconds(n);var o=this.setDate(a.dateTime);if("range"==this.selectionMode&&!o&&this._oldDT){var a,l=this.getRange(),d=(this._oldDT,!1),h=!1,c=this._oldDT.from;if(null!=(a=l.from)&&c&&a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()&&a.getHours()==c.getHours()&&a.getMinutes()==c.getMinutes()&&a.getSeconds()==c.getSeconds()&&(d=!0),null!=(a=l.to)&&(c=this._oldDT.to)&&a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()&&a.getHours()==c.getHours()&&a.getMinutes()==c.getMinutes()&&a.getSeconds()==c.getSeconds()&&(h=!0),d&&h)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}else this.setDate(null)},_closeOpenedCalendar:function(t){var i=e(t.target),s=e.data(document.body,"openedJQXCalendar"+t.data.me.id),r=!1;if(e.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),e(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var n=t.data.me.host.coord(),o=t.data.me.host.width(),a=t.data.me.host.height(),l=parseInt(n.top),d=parseInt(n.left);if(l<=t.pageY&&t.pageY<=l+a&&d<=t.pageX&&t.pageX<=d+o)return!0}if(null!=s&&!r&&s.length>0){var h=s[0].id.toString().toString().substring(13);e(document).find("#"+h);!1!==t.data.me.hideCalendar()&&e.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t=this,i="";(0==t.items.length&&null!=t.value&&t._loadItems(),null!=t.value)&&(t.items.length>=1&&(i=t.format(t.value,0,t.items.length)),t.dateTimeInput.val()!=i&&t._raiseEvent(1,t.value));if("range"==t.selectionMode){var s=t.getRange(),r=t.format(t.value,0,t.items.length);if(s.to){var n=e.jqx._jqxDateTimeInput.getDateTime(s.from);r=t.format(n,0,t.items.length);var o=e.jqx._jqxDateTimeInput.getDateTime(s.to);" - "==(i=r+" - "+t.format(o,0,t.items.length))&&(i="")}else i=""}t.dateTimeInput.val(i)},format:function(e,t,i){for(var s="",r=t;r<i;++r){var n=this.items[r],o=n.dateParser(e,this);if(this.isEditing&&"ReadOnly"!=n.type&&"range"!=this.selectionMode){var a="Day"==n.type&&n.format.length>2;if("FORMAT_AMPM"==n.type&&(a=!0,o=0==this.editors[r].value?this.editors[r].amString:this.editors[r].pmString),!a)if(null!==this.yearCutoff&&"Year"===n.type&&"yy"===n.format)o=this.editors[r].value.toString().substring(2);else for(o=n.dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);o.length<this.editors[r].maxEditPositions;)o="0"+o}s+=o}return s},_getFormatValueGroupLength:function(e){for(var t=1;t<e.toString().length;++t)if(e.substring(t,t+1)!=e.substring(0,1))return t;return e.length},_parseFormatValue:function(t){for(var i=new Array,s=t.toString(),r=0;s.length>0;){var n=this._getFormatValueGroupLength(s),o=null;switch(s.substring(0,1)){case":":case"/":n=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var a=s.indexOf(s[0],1);o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1+Math.max(1,a-1)),"ReadOnly",this.culture),n=Math.max(1,a+1);break;case"\\":s.length>=2&&(o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1),"ReadOnly",this.culture),n=2);break;case"d":case"D":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Day",this.culture);break;case"f":case"F":n>7&&(n=7),o=n>3?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Millisecond",this.culture);break;case"g":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture);break;case"h":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_hh",this.culture);break;case"H":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_HH",this.culture);break;case"m":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Minute",this.culture);break;case"M":n>4&&(n=4),o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Month",this.culture);break;case"s":case"S":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Second",this.culture);break;case"t":case"T":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_AMPM",this.culture);break;case"y":case"Y":n>1?o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Year",this.culture):(n=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),null,"ReadOnly",this.culture));break;case"z":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture);break;default:n=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture)}i[r]=e.extend(!0,{},o),s=s.substring(n),r++}return i},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,s=e.hour,r=e.millisecond,n=e.second,o=e.minute,a=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":0==(d=s%12)&&(d=12),this.editors[l].value=s>=0&&s<12?0:1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var d;0==(d=s%12)&&(d=12),this.editors[l].value=d;break;case"FORMAT_HH":this.editors[l].value=s;break;case"Millisecond":this.editors[l].value=r;break;case"Minute":this.editors[l].value=o;break;case"Month":this.editors[l].value=a;break;case"Second":this.editors[l].value=n;break;case"Year":this.editors[l].value=t}}},updateValue:function(t){if(!(this.isEditing||this.items&&0==this.items.length)){for(var i=1,s=1,r=0,n=0,o=0,a=0,l=1,d=!1,h=!1,c=!1,u=!1,p=!1,m=!1,f=!1,g=new Array,v=null,x=0,w=0;w<this.items.length;w++)switch(this.items[w].type){case"FORMAT_AMPM":this.editors[w].value,v=this.editors[w];break;case"Character":break;case"Day":this.items[w].format.length<3&&(s=this.editors[w].value,g[x++]=this.editors[w],0==s&&(s=1),c=!0);break;case"FORMAT_hh":r=this.editors[w].value,u=!0;break;case"FORMAT_HH":r=this.editors[w].value,u=!0;break;case"Millisecond":n=this.editors[w].value,f=!0;break;case"Minute":a=this.editors[w].value,p=!0;break;case"Month":h=!0,0==(l=this.editors[w].value)&&(l=1);break;case"ReadOnly":break;case"Second":o=this.editors[w].value,m=!0;break;case"Year":if(d=!0,i=this.editors[w].value,this.editors[w].getDateTimeItem().format.length<3){var y="1900";if(4==y.Length)i+=100*parseInt(""+y[0]+y[1])}0==i&&(i=1)}var b=null!=this.value?new Date(this.value.dateTime):null;if(i>0&&l>0&&s>0&&a>=0&&r>=0&&o>=0&&n>=0){var _=this.value;null!=_&&(d||(i=_.year),h||(l=_.month),c||(s=_.day));try{if(l>12&&(l=12),l<1&&(l=1),t&&_._daysInMonth(i,l)<=s&&(s=_._daysInMonth(i,l),null!=g&&g.length>0))for(w=0;w<g.length;w++)g[w].value=s;null!=v&&(0==v.value?r>=12&&(r-=12):r+12<24&&(r+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(i)),this.value._setDay(s),this.value._setMonth(l),u&&this.value._setHours(r),p&&this.value._setMinutes(a),m&&this.value._setSeconds(o),f&&this.value._setMilliseconds(n),this._validateTimeRange()}catch(e){this.value=_}if(null!=b)if(!(this.value.dateTime.getFullYear()==b.getFullYear()&&this.value.dateTime.getDate()==b.getDate()&&this.value.dateTime.getMonth()==b.getMonth()&&this.value.dateTime.getHours()==b.getHours()&&this.value.dateTime.getMinutes()==b.getMinutes()&&this.value.dateTime.getSeconds()==b.getSeconds())){if(this.changing){var j=this.changing(b,this.value.dateTime);j&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(j))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}var q=this.editors.indexOf(this.activeEditor);this.items[q];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(t,i,s){var r=this.events[t],n={};n.owner=this,null==i&&(i={}),null==s&&(s=i);var o=i.charCode?i.charCode:i.keyCode?i.keyCode:0,a=!0,l=this.readonly,d=new e.Event(r);if(d.owner=this,d.args=n,d.args.date=this.getDate(),9==t&&(d.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var h=d.args.date;if(this._oldDT){if(null!=h&&h.getFullYear()==this._oldDT.getFullYear()&&h.getMonth()==this._oldDT.getMonth()&&h.getDate()==this._oldDT.getDate()&&h.getHours()==this._oldDT.getHours()&&h.getMinutes()==this._oldDT.getMinutes()&&h.getSeconds()==this._oldDT.getSeconds())return!0;e.jqx.aria(this,"aria-valuenow",this.getDate()),e.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null")}d.args.oldValue=s,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(d.args.date=this.getRange(),this._oldDT){h=d.args.date.from;if(9==t){var c=!1,u=!1,p=this._oldDT.from;if(null!=h&&p&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(c=!0),null!=(h=d.args.date.to)&&(p=this._oldDT.to)&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(u=!0),c&&u)return!0;c=null==(c=d.args.date.from)?"":c.toString(),u=null==(u=d.args.date.to)?"":u.toString(),e.jqx.aria(this,"aria-valuenow",c+"-"+u),e.jqx.aria(this,"aria-valuetext",this.getText()),c&&u&&e.jqx.aria(this,"aria-label","Current focused range is "+c.toLocaleString()+"-"+u.toLocaleString())}}d.args.oldValue=s,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(a=this.host.trigger(d),d.stopPropagation&&d.stopPropagation());var m=this;if(l||2!=t||this.disabled||setTimeout(function(){m.isEditing=!0,this.selectionMode,m._selectGroup(-1)},25),4==t){if(l||this.disabled){if(8!=o&&46!=o||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==o)return!0;if(!i.altKey)return!1}a=this._handleKeyDown(i,o)}else if(5==t){if(9==o)return!0;if(l||this.disabled)return!1}else if(6==t){if(9==o)return!0;if(l||this.disabled)return!1;a=this._handleKeyPress(i,o)}return a},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var e=this._selection(),t="",i=this.dateTimeInput.val();if(e.start>0||e.length>0)for(var s=e.start;s<e.end;s++)t+=i[s];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i)if(i.positions==i.maxEditPositions){this.editorText="";var s=i.value,r=!1;switch(this.items[e].type){case"FORMAT_AMPM":s<0?s=0:s>1&&(s=1);break;case"Character":break;case"Day":s<1?s=1:s>31&&(s=31);break;case"FORMAT_hh":s<1?s=1:s>12&&(s=12);break;case"FORMAT_HH":s<0?s=0:s>23&&(s=23);break;case"Millisecond":s<0?s=0:s>99&&(s=99);break;case"Minute":s<0?s=0:s>59&&(s=59);break;case"Month":s<1?s=1:s>12&&(s=12);break;case"ReadOnly":break;case"Second":s<0?s=0:s>59&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}return i.value!=s&&(r=!0),!r&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(e,t){if(!this._fullEditInProgress){var i=this._selection(),s=e.ctrlKey||e.metaKey;if(s&&97==t||s&&65==t)return!0;if(8==t)return i.start>0&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(27===t)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(i.start>=0){this.changeType="keyboard";var r=String.fromCharCode(t),n=parseInt(r);if("p"!=r&&"a"!=r&&"A"!=r&&"P"!=r||this.activeEditor&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=r&&"P"!=r?1!=this.activeEditor.value||"a"!=r&&"A"!=r||this.spinDown():this.spinUp()),!isNaN(n)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=this.editors.indexOf(this.activeEditor),a=null;if(this.isEditing=!0,"ReadOnly"!=o.type&&(a=this.activeEditor),null!=a&&0==a.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(r),null!=a&&this.editorText.length>=a.maxEditPositions&&(this.editorText=""),this.editorText+=r;var l=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var d=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==d&&l&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(t)}this._enteredValue=!0},_getLastEditableEditorIndex:function(){for(var e=this.items.length-1;e>=0;e--)if("ReadOnly"!=this.items[e].type)return e;return-1},_handleKeyDown:function(t,i){var s=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard","keyboard"),!1;if(!s.isOpened())return s.showCalendar("keyboard","keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(s.isOpened())return s.showTimeButton&&!s.showCalendarButton&&(s.timePopup=!0),s.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showTimeButton&&!s.showCalendarButton&&(s.timePopup=!0),s.showCalendar("keyboard","keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showCalendar("keyboard","keyboard"),!1;if(s.isOpened())return 9==t.keyCode?(s.hideCalendar("selected","keyboard"),!0):void 0;s._selection();var r=t.ctrlKey||t.metaKey;if(r&&99==i||r&&67==i)return s._saveSelectedText(t),!0;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i){s.val();var n=this,o=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return e("body").append(o),o.select(),setTimeout(function(){var e=o.val();n.setDate(e),o.remove()},100),!0}if(!(s._fullEditInProgress||"full"===s.editMode&&null===s.value)){if(8==i||46==i){if(t.altKey||r||46!=i){if(null!=s.activeEditor){var a=s.editors.indexOf(s.activeEditor);if(s.activeEditor.positions>=0){var l=s._format(Number(s.activeEditor.value),"d"+s.activeEditor.maxEditPositions,s.culture);if(l=l.substring(0,s.activeEditor.positions)+"0"+l.substring(s.activeEditor.positions+1),parseInt(l)<s.activeEditor.minValue&&(l=s._format(Number(s.activeEditor.minValue),"d"+s.activeEditor.maxEditPositions,s.culture)),s.enableAbsoluteSelection?s.activeEditor.value=l:s.activeEditor.value=s.activeEditor.minValue,s._validateValue(),s._updateText(),s.changeType="keyboard",8==i){var d=this;s.enableAbsoluteSelection&&s.activeEditor.positions>0?setTimeout(function(){d.activeEditor.positions=d.activeEditor.positions-1,d._selectGroup(a)},10):setTimeout(function(){d._doLeftKey()},10)}else s._selectGroup(a)}else s._doLeftKey()}}else s.isEditing=!1,s.allowKeyboardDelete&&(s.changeType="keyboard",s.allowNullDate?s.setDate(null):"range"!=s.selectionMode?s.setDate(s.getMinDate()):s.setRange(s.getMinDate(),s.getMinDate()));return!1}if(38==i)return this.spinUp(),s.changeType="keyboard",!1;if(40==i)return this.spinDown(),s.changeType="keyboard",!1;if(9==i){if(null==s.value)return!0;if(t.shiftKey)var h=this._doLeftKey();else h=this._doRightKey();return!h}if(37==i){if(this._editor)return(h=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!h;h=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor)return(h=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!h;h=this._doRightKey();return!1}var c=this._isSpecialKey(i);return null==this.value&&(i>=48&&i<=57||i>=96&&i<=105)&&(s.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!e.jqx.browser.mozilla||(!!(e.jqx.browser.mozilla&&e.jqx.browser.version>24)||c)}if(13==i&&s._fullEditInProgress){if(s._endFullEdit(),null!=s.value){s.isEditing=!1,s._validateValue(!0),s._updateText(),s._raiseEvent(9,event);for(var u=s.editors.length-1,p=s.editors[u];p&&void 0===p.formatValueLength;)u--,p=s.editors[u];p&&void 0!==p.formatValueLength&&(s.activeEditor=p,s._selectGroup(u))}}else s._fullEditInProgress=!0,delete s._enteredValue},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.dateTimeInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)t=this._selection();for(var i="",s="",r=null,n=0;n<this.items.length;n++){if(s=this.items[n].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[n].type)if(!("Day"==this.items[n].type&&this.items[n].format.length>2)&&"FORMAT_AMPM"!=this.items[n].type)if(null!==this.yearCutoff&&"Year"===this.items[n].type&&"yy"===this.items[n].format)s=this.editors[n].value.toString().substring(2);else for(s=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);s.length<this.editors[n].maxEditPositions;)s="0"+s;if(i+=s,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&this.items[n].format.length>2))if(null!=e&&-1!=e){if(n>=e){var o=i.length-s.length,a=s.length;this.enableAbsoluteSelection&&!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions),o==this.dateTimeInput.val().length&&o--,this._setSelection(o,o+a),r=this.editors[n],this.activeEditor=r;break}}else if(i.length>=t.start){r=this.editors[n],this.activeEditor=r;o=i.length-s.length,a=1;this.enableAbsoluteSelection?!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions):a=s.length,this._setSelection(o,o+a);break}}n<this.items.length&&-1==e&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var l=this._selection();if(0==l.length&&l.start>0)this._getLastEditableEditorIndex()}},_getLastEditableEditorIndex:function(){for(var e=-1,t=0;t<this.editors.length;t++)"ReadOnly"!=this.items[t].type&&("Day"==this.items[t].type&&this.items[t].format.length>2||(e=t));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&(this.selectionMode,this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.dateTimeInput[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):(e.label[0].innerHTML="",e.hint&&e.element.setAttribute("hint",!0))})},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText(),this._updateHint()},_getYearBasedOnCutoff:function(e){var t=this.yearCutoff.toString(),i=parseFloat(t.substring(2)),s=parseFloat(t.substring(0,2));return parseFloat(e)<i&&s++,parseFloat(s+""+e)},_endFullEdit:function(){var t=this;if(t._fullEditInProgress){var i=t.dateTimeInput[0].value;if(delete t._fullEditInProgress,delete t._enteredValue,""===i)t.value=null;else{var s=new Date(i);if(isNaN(s.getTime()))null===t.value&&t._updateText();else{if(t.items=[],t.yearCutoff){var r=s.getFullYear().toString();if(-1===i.indexOf(r)&&i.indexOf(r.slice(2))){var n=t._getYearBasedOnCutoff(r.slice(2));s.setFullYear(n)}}t.value=e.jqx._jqxDateTimeInput.getDateTime(s)}}}},_getMask:function(){var e=this,t=e.formatString,i={d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},s={};i[t]&&(t=i[t]);for(var r,n=t.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=0,l=0,d=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(r=d.exec(n));){var h=n.slice(a,r.index);if(""!==h&&(s[a]=h),a=d.lastIndex,(l+=e._appendPreOrPostMatch(h,o))%2)o.push(r[0]);else{var c,u=r[0],p=u.length;switch(u){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":c="(\\D+)";break;case"tt":case"t":c="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":c="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":c="(\\d\\d?)";break;case"zzz":c="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":c="([+-]?\\d\\d?)";break;case"/":c="(\\/)",s[a-1]="/";break;default:throw"Invalid date format pattern '"+u+"'."}c&&o.push(c)}}e._appendPreOrPostMatch(n.slice(a),o),o.push("$"),e._mask=s},_appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){return null==e?"":t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(e,t,i){return null==e?"":i._format(e.toString(),1==t.length?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var s=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i);return e.extend({},s);case"Character":return null;case"Day":var r,n=t.year,o=t.month;r=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;t.day;null!=r&&t.dayOfWeek+1;var a=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(n,o),1==this.format.length?1:2,2,r,this,i);return e.extend({},a);case"FORMAT_hh":var l=t.hour%12;0==l&&(l=12);var d=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(l,1,12,1==this.format.length?1:2,2,this,i);return e.extend({},d);case"FORMAT_HH":var h=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i);return e.extend({},h);case"Millisecond":var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i);return e.extend({},c);case"Minute":var u=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i);return e.extend({},u);case"Month":var p;p=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var m=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,p,this,i);return e.extend({},m);case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var f=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i);return e.extend({},f);case"Year":var g=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,null!==i.yearCutoff&&"yy"===this.format?2:4,this,i);return e.extend({},g)}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},_createYearEditor:function(t,i,s,r){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,i<4?99:9999,2==i?2:1,i>3?4:2,s),this.initializeYearEditor(t,i,s.culture),this.handleYears=!0,this.that=r,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var s=e;s=Math.min(s,9999),s=Math.max(s,1),s=this.formatValueLength<4?s%100:s,this.updateActiveEditor(s),this.value=s},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,s,r,n,o,a,l,d){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(s,r,1,o,l),this.currentValue=t,this.value=i,this.days=a,this.handleDays=!0,this.that=d,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths){if(null!=this.dateTimeMonths){t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}}else if(null!==this.that.yearCutoff&&this.handleYears&&2===this.formatValueLength){if(null==e||0==e.length)return this.deleteValue();var i=e.substring(0,1);if(isNaN(i))return;this.positions>=this.maxEditPositions&&(this.positions=0);var s=this.value.toString().substring(2);return s=s.substring(0,this.positions)+i+s.substring(this.positions+1),this.value=this.that._getYearBasedOnCutoff(s),this.positions+=1,!0}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(var i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},insertLongString:function(e,t){if(e.length>0)for(var i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},_createMonthEditor:function(t,i,s,r,n){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,r),this.dateTimeMonths=s,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=n,this},insertLongString2:function(e,t){if(e.length>0)for(var i=0;i<11;++i){var s=(this.value+i)%12+1;if(this.dateTimeMonths[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},insertShortString2:function(e,t){if(1==e.length)for(var i=0;i<11;++i){var s=(this.value+i)%12+1;if(this.dateTimeMonths[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},correctMaximumValue:function(e){var t=this.maxValue;return null!==this.that.yearCutoff&&"Year"===this.item.type&&"yy"===this.item.format&&(t=9999),e>t&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,s,r,n,o,a){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,s,r,n,o),this.that=a,this},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,s,r,n){return this.format=e,this.value=-1,this.item=r,this.that=n,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,s,r,n){return this.format=e,this.value=t,this.minValue=0,this.amString=i,this.pmString=s,this.item=r,this.that=n,i==s&&(this.amString="<"+i,this.pmString=">"+s),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var s=this.amString[0],r=t[0],n=this.pmString[0];s.toString()==r.toString()?(this.value=0,i=!0):n.toString()==r.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(e){return{dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){return null!=e&&null!=e||(e=this.dateTime),e.getDay()%6==0},dayOfYear:function(e){null!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){null!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){null!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){null!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(e<1||e>9999)throw"invalid year";return e%4==0&&(e%100!=0||e%400==0)},_dateToTicks:function(e,t,i){if(e>=1&&e<=9999&&t>=1&&t<=12){var s=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=s[t]-s[t-1])return 864e9*(365*(e-=1)+e/4-e/100+e/400+s[t-1]+i-1)}},_daysInMonth:function(e,t){if(t<1||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){return 1e7*(3600*e+60*t+i)},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}}},function(e){e.jqx.jqxWidget("jqxDocking","",{}),e.extend(e.jqx._jqxDocking.prototype,{defineInstance:function(){var t={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===e.jqx._jqxDocking.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(e){1!=e&&this._performLayout()},_refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var i=e.Event("resize");this.host.trigger(i)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[e].addClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[e].removeClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var t=this.host.children("div"),i=0;i<t.length;i+=1)this._panels.push(e(t[i])),this._renderWindows(e(t[i]))},focus:function(t){this.focusedWindow&&e(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!e.isEmptyObject(t)&&"string"===e.type(t)&&e("#"+t).length>0?this.focusedWindow=e("#"+t)[0]:this.focusedWindow=this._windows[0][0],e(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(t){for(var i=t.children("div"),s=0;s<i.length;s+=1)this._windows.push(e(i[s])),e(i[s]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:e(i[s]).css("width"),maxWidth:Number.MAX_VALUE}),e(i[s]).detach(),t.append(e(i[s]));t.append('<div class="spacer" style="clear: both;"></div>');var r=this;if(this.keyboardNavigation){var n=function(t){if(13===t.keyCode?r.focusedWindow&&e(r.focusedWindow).jqxWindow("showCollapseButton")&&e(r.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(r.focusedWindow&&27===t.keyCode&&"esc"===e(r.focusedWindow).jqxWindow("keyboardCloseKey")||r.focusedWindow&&e(r.focusedWindow).jqxWindow("keyboardCloseKey")==t.keyCode)&&e(r.focusedWindow).jqxWindow("closeWindow",t),9===t.keyCode){if(null==r.focusedWindow)r.focusedWindow=r._windows[0],e(r.focusedWindow).focus(),t.stopPropagation();else{var i=-1;if(e.each(r._windows,function(e,t){this[0]==r.focusedWindow&&(i=e)}),t.shiftKey?i--:i++,i>=r._windows.length||i<0)return e(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=null,t.stopPropagation(),!0;var s=r._windows[i];s||(s=r._windows[0]),e(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=s[0],e(r.focusedWindow).focus()}e(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&(t.preventDefault(),t.stopPropagation())}};e.each(r._windows,function(t,i){var s=e(this);r.removeHandler(s,"focus"),r.removeHandler(s,"blur"),r.removeHandler(s,"mousedown"),r.addHandler(s,"mousedown",function(t){r.focusedWindow&&e(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=s[0],e(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus")),e(r.focusedWindow).focus()}),r.addHandler(s,"focus",function(t){r.focusedWindow&&e(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=s[0],e(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus"))}),r.addHandler(s,"blur",function(t){if(e(document.activeElement).ischildof(e(s)))return!0;e(s).removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),r.removeHandler(s,"keydown"),r.addHandler(s,"keydown",function(e){n(e)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(e){n(e)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(t){r.focusedWindow&&(e(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var e,t=this.host.width(),i=0,s=0;s<this._panels.length;s+=1)(e=this._panels[s]).css("height","auto"),e.css("min-width","auto"),e[0].style.width="auto","vertical"===this.orientation?(e.css("width","auto"),e.css("float","none")):(i+=this._handleHorizontalSize(e,i,t),s>0&&e.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&i<t&&this._fillContainer(t,i)},_handleHorizontalSize:function(e,t,i){var s,r=i/this._panels.length,n=e.outerWidth()-e.width();if(e.css("float","left"),"auto"===e[0].style.width||0===parseInt(e.css("width"),10)){var o=99.99/this._panels.length;return e[0].style.width=o+"%",e.outerWidth()}return t+e.outerWidth()>=i&&(t+r<i?(s=r-n,e.css("min-width",s),e.width(s)):(s=e.width()-(t+e.outerWidth()-i),e.css("min-width",s),e.width(s))),e.outerWidth()},_fillContainer:function(t,i){var s=this._panels.length,r=this._panels[s-1];r.width();e.jqx.browser.msie&&e.jqx.browser.version<9&&this._panels.length},_performWindowsLayout:function(){for(var e,t=0;t<this._windows.length;t+=1)e=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(e?"floating"!==e.mode&&(this._windows[t].css("margin",this.windowsOffset),this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],e)},_setWindowSize:function(e,t){if("floating"!==t.mode&&e.ischildof(this.host)){var i=e.parent().width()-(e.outerWidth()-e.width())-2*this.windowsOffset;this.orientation,e.jqxWindow("width",i)}this._setWindowOption(e,"size",{width:e.width(),height:e.height()})},_setWindowsOptions:function(e){for(var t=0;t<this._windows.length;t+=1){var i,s=this._windows[t].attr("id"),r=this._getWindowOptions(s);if(!e);i=null,this.windowsMode&&this.windowsMode.hasOwnProperty(s)?(i=this.windowsMode[s],this._setWindowOption(this._windows[t],"mode",i)):void 0!==r&&void 0===r.mode&&(i=this.mode,this._setWindowOption(this._windows[t],"mode",i)),e&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==i?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this.removeHandler(this._windows[e],"moving",this._itemDragging),this.removeHandler(this._windows[e],"moved",this._itemDrop),this.removeHandler(this._windows[e],"resized",this._itemResized),this.removeHandler(this._windows[e],"collapse",this._collapsed),this.removeHandler(this._windows[e],"expand",this._expanded)},_addEventListeners:function(){for(var t=0;t<this._windows.length;t+=1)this._addEventListenersTo(this._windows[t]);var i=this;e.jqx.utilities.resize(this.host,function(){i._performLayout()})},_addEventListenersTo:function(e){this.addHandler(e,"moving",this._itemDragging,{self:this}),this.addHandler(e,"moved",this._itemDrop,{self:this}),this.addHandler(e,"resized",this._itemResized,{self:this}),this.addHandler(e,"collapse",this._collapsed,{self:this}),this.addHandler(e,"expand",this._expanded,{self:this})},_itemDragging:function(t){var i=t.data.self,s=e(t.target),r=i._getWindowOptions(s);if(s.removeClass(i.toThemeProperty("jqx-docking-window")),s.css("margin","0px"),i._dragging||i._prepareForDragging(s),"floating"!==r.mode){var n={x:t.args.pageX,y:t.args.pageY},o=i._getMouseOverPanel(n);return o?i._mouseOverPanel(o,n):i._mouseLeavePanel(),i._draggedFired||(i._raiseEvent(1,{window:e(s).attr("id")}),i._draggedFired=!0),!0}},_prepareForDragging:function(t){this._dragging=!0;var i={parent:t.parent(),next:t.next(),prev:t.prev()};this._setWindowOption(t,"lastPosition",i),t.detach(),e(document.body).append(t),this._setDraggingStyles(t),this._draggingItem=t},_setDraggingStyles:function(e){e.css({position:"absolute",left:e.offset().left,top:e.offset().top}),e.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(e){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],e,!1))return this._panels[t];return null},_mouseOverPanel:function(e,t){if(this._dragging){var i=e.children("div"),s=this._getHoverWindow(t,i);if("indicator"===s)return;var r=this._centerOffset(s,t);this._handleIndicator(e,s,r)}},_getHoverWindow:function(t,i){if(this._isMouseOverItem(this._indicator,t,!0))return"indicator";for(var s=0;s<i.length;s+=1)if(this._isMouseOverItem(e(i[s]),t,!0))return e(i[s]);return null},_centerOffset:function(e,t){if(e){var i,s={x:e.offset().left,y:e.offset().top},r=e.height();e.width();return i=s.y+r/2,t.y>i?"next":"prev"}return"all"},_handleIndicator:function(e,t,i){var s=this._getIndicator(t);"all"===i?"vertical"===this.orientation?s.insertBefore(e.children(".spacer")):e.append(s):"prev"===i?s.insertBefore(t):s.insertAfter(t),this._resizeIndicator(s,e)},_getIndicator:function(){var t=this._indicator;return t||(t=e('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=t,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),t},_resizeIndicator:function(e,t){"horizontal"===this.orientation?(e.width(t.width()-(e.outerWidth(!0)-e.width())),e.height(this._draggingItem.height())):(e.width(this._draggingItem.width()),e.height(this._draggingItem.height()))},_mouseLeavePanel:function(e){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(t){var i=t.data.self,s=e(t.currentTarget);i._dragging=!1,i._indicator?(s.detach(),s.insertAfter(i._indicator),i._indicator.remove(),i._dropFixer(s)):i._dropHandler(s),s.fadeTo(0,1),s.focus(),i._indicator=null,i._cookieExporter(),i._draggedFired=!1,i._raiseEvent(0,{window:s.attr("id")})},_dropFixer:function(e){e.css("position","static"),e.addClass(this.toThemeProperty("jqx-docking-window")),e.css("margin",this.windowsOffset),e.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(e)},_dropHandler:function(e){this._getWindowOptions(e);"docked"===this.mode?this._dropDocked(e):this._dropFloating(e)},_dropDocked:function(e){var t=this._getWindowOptions(e).lastPosition;e.detach(),t.next[0]?e.insertBefore(t.next):t.prev[0]?e.insertAfter(t.prev):t.parent.append(e),this._dropFixer(e)},_fixWindowSize:function(t){e(t).jqxWindow({width:t.parent().width()-(t.outerWidth()-t.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(t){var i=t.data.self,s=e(t.currentTarget);i._setWindowOption(s,"size",{width:t.args.width,height:t.args.height}),i._cookieExporter()},_dropFloating:function(t){var i;e(t).jqxWindow("collapsed")||(i=this._getWindowOptions(t),e(t).jqxWindow("enableResize",i.resizable)),e(document.body).append(t),this._restoreWindowSize(t)},_restoreWindowSize:function(t){var i=this._getWindowOptions(t);e(t).jqxWindow({width:i.size.width})},_isMouseOverItem:function(e,t,i){if(!e)return!1;var s=e.outerWidth(!0),r=e.outerHeight(!0),n=e.width(),o=e.height(),a=e.offset().top,l=e.offset().left;return i&&(a-=(r-o)/2,l-=(s-n)/2,n=s,o=r),l<=t.x&&l+n>=t.x&&a<=t.y&&a+o+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){if(this.cookies){var t=e.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==t&&(this.importLayout(t),this.layoutImported=!0)}},_cookieExporter:function(){this.cookies&&e.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(e,t){for(var i=0;i<t.length;i+=1)if(e[0]===t[i][0])return i;return-1},_exportFixed:function(){for(var t,i,s=[],r="",n=0;n<this._panels.length;n+=1){r+='"panel'+n+'": {',t=this._panels[n].children();for(var o=0;o<t.length;o+=1)(i=e(t[o])).attr("id")&&(s.push(i),r+='"'+i.attr("id")+'":{"collapsed":'+i.jqxWindow("collapsed")+"},");t.length>1&&(r=r.substring(0,r.length-1)),r+="},"}return{JSON:r=r.substring(0,r.length-1),children:s}},_exportFloating:function(t){var i,s="";s+='"floating":{';for(var r=0;r<this._windows.length;r+=1)i=e(this._windows[r]),-1===this._indexOf(i,t)&&(s+='"'+i.attr("id")+'":{"x":"'+i.css("left")+'","y":"'+i.css("top")+'","width":"'+i.jqxWindow("width")+'","height":"'+i.jqxWindow("height")+'","collapsed":'+i.jqxWindow("collapsed")+"},");return","===s.substring(s.length-1,s.length)&&(s=s.substring(0,s.length-1)),s+="}"},_importFixed:function(t){for(var i in t)if("orientation"!==i&&"floating"!==i&&t.hasOwnProperty(i)){var s=i.substring(i.length-1,i.length);s=parseInt(s,10);var r=t[i];for(var i in r)e("#"+i).css("position","static"),r[i].collapsed&&function(t){setTimeout(function(){e("#"+t).jqxWindow("collapsed",!0)},0)}(i),this._panels[s].append(e("#"+i)),"horizontal"===this.orientation&&this._fixWindowSize(e("#"+i))}},_importFloating:function(t){var i,s=t.floating;for(var r in s)s.hasOwnProperty(r)&&(e("#"+r).css("position","absolute"),e(document.body).append(e("#"+r)),i=this._dragging,e("#"+r).jqxWindow("move",s[r].x,s[r].y),this._dragging=i,e("#"+r).jqxWindow("width",s[r].width),e("#"+r).jqxWindow("height",s[r].height),e("#"+r).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(t){setTimeout(function(){e("#"+t).jqxWindow("collapsed",s[t].collapsed)},0)}(r),e("#"+r).fadeTo(0,1))},_getWindowOptions:function(e){return"object"==typeof e&&null!==e&&(e=e.length>0?e.attr("id"):e.id),this._windowOptions[e]},_setWindowOption:function(e,t,i){"object"==typeof e&&null!==e&&(e=e.length>0?e.attr("id"):e.id),void 0===this._windowOptions[e]&&(this._windowOptions[e]={}),this._windowOptions[e][t]=i,"mode"===t&&this.setWindowMode(e,i)},_expanded:function(e){e.data.self._cookieExporter()},_collapsed:function(e){e.data.self._cookieExporter()},_raiseEvent:function(t){var i=e.Event(this._events[t]);return i.args=arguments[1],this.host.trigger(i)},_moveWindow:function(t,i,s){var r=i.children(),n=null,o=0;e.each(r,function(i){"static"==e(this).css("position")&&(o==s&&this!=t[0]&&(n=this),o++)}),o<=s?t.appendTo(i):null!=n&&t.insertBefore(n),t.css("position","static")},propertyChangedHandler:function(t,i,s,r){switch(i){case"rtl":e.each(t._windows,function(){this.jqxWindow({rtl:r})});break;case"theme":e.each(t._windows,function(){this.jqxWindow({theme:r})});break;case"orientation":case"height":case"width":t._performLayout(),t._cookieExporter();break;case"panelsRoundedCorners":t._removeClasses(),t._addClasses();break;case"disabled":r?(t.disabled=!1,t.disable()):(t.disabled=!0,t.enable());break;case"windowsMode":case"mode":t._setWindowsOptions(!1);break;case"cookies":t._cookieExporter();break;case"windowsOffset":t._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var t=0;t<this._windows.length;t+=1)this._windows[t][0].style.opacity="",e(this._windows[t]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var t=0;t<this._windows.length;t+=1)e(this._windows[t]).jqxWindow("enable")}},move:function(t,i,s){if(i=this._panels[i]){var r=e(i.children(".spacer"));r.detach(),t=e("#"+t),"floating"!==this._getWindowOptions(t).mode&&(this._moveWindow(t,i,s),i.append(r),this._cookieExporter(),this._dropFixer(t))}},exportLayout:function(){var e="{",t=this._exportFixed();return e+=t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"',e+="}"},importLayout:function(t){try{var i=e.parseJSON(t);this.orientation=i.orientation,this._performLayout(),this._importFixed(i),this._importFloating(i)}catch(e){alert("Invalid JSON string.")}},setWindowMode:function(t,i){t=e("#"+t);var s=this._getWindowOptions(t);"floating"===i?(t.css("position","absolute"),this._windowOptions[t.attr("id")].mode=i):"floating"===s.mode&&"absolute"===t.css("position")&&(s.lastPosition?this._dropDocked(t):(this._panels[0].append(t),this._dropFixer(t))),this._windowOptions[t.attr("id")].mode=i},hideCloseButton:function(t){e("#"+t).jqxWindow("showCloseButton",!1)},showCloseButton:function(t){e("#"+t).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(t){e("#"+t).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(t){e("#"+t).jqxWindow("showCollapseButton",!0)},expandWindow:function(t,i){e("#"+t).jqxWindow("expand",i)},collapseWindow:function(t,i){e("#"+t).jqxWindow("collapse",i)},setWindowProperty:function(t,i,s){e("#"+t).jqxWindow(i,s)},getWindowProperty:function(t,i){return e("#"+t).jqxWindow(i)},setWindowPosition:function(t,i,s){t=e("#"+t);"floating"===this._getWindowOptions(t).mode&&(t.css("position","absolute"),e(t).jqxWindow("move",i,s,null,!1))},hideAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!0)},pinWindow:function(t){e("#"+t).jqxWindow("draggable",!1)},unpinWindow:function(t){e("#"+t).jqxWindow("draggable",!0)},setDraggingMode:function(t){var i=e("#"+t);this._prepareForDragging(i),i.fadeTo(0,1)},enableWindowResize:function(t){"absolute"===(t=e("#"+t)).css("position")&&(this._setWindowOption(t,"resizable",!0),t.jqxWindow("enableResize",!0))},disableWindowResize:function(t){t=e("#"+t),this._setWindowOption(t,"resizable",!1),t.jqxWindow("enableResize",!1)},addWindow:function(t,i,s,r){var n="#"+t;e(n).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:e(n).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(e(n)),this._windows.push(e(n)),i?this._setWindowOption(e(n),"mode",i):this._setWindowOption(e(n),"mode",this.mode),this._setWindowOption(e(n),"resizable",!0),this._setWindowOption(e(n),"size",{width:e(n).width(),height:e(n).height()}),"floating"==i?e(n).jqxWindow({enableResize:!0}):e(n).jqxWindow({enableResize:!1}),null!=this._panels[s]&&this._setWindowOption(e(n),"size",{width:this._panels[s].width(),height:this._panels[s].height()}),this._addEventListenersTo(e(n)),void 0!==s&&void 0!==r&&this.move(t,s,r),this._dropFixer(e(n))},closeWindow:function(t){e("#"+t).jqxWindow("closeWindow")}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),e.extend(e.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var t={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===e.jqx._jqxDockingLayout.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;if(!t.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._addClasses(),!0!==t.base._initiallyHidden&&(t._createOverlay(),t._createEdgeOverlays())},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){for(var i=this.base,s=i.element.id,r=i._find(document.body,"."+s+"FloatGroup"),n=0;n<r.length;n++){var o=e(r[n]);o.off(),o.jqxWindow("destroy")}i.loadLayout(t)}},destroy:function(){for(var t=this.base,i=t.element.id,s=t._find(document.body,"."+i+"FloatGroup"),r=0;r<s.length;r++){var n=e(s[r]);n.off(),n.jqxWindow("destroy")}this._removeHandlers(),t.destroy()},addFloatGroup:function(e,t,i,s,r,n,o){var a=this.base,l={type:"floatGroup",width:e,height:t,position:i,items:[],programmaticallyAdded:!0},d={type:s,title:r,content:n,initContent:o};l.items.push(d),a.layout.push(l),a.render()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.base.host.trigger(r)},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var t=this,i=t.base,s=i.element.id;t.removeHandler(e(document),"mousemove.jqxDockingLayout"+s),t.removeHandler(i.host,"mouseleave.jqxDockingLayout"+s),i._touchDevice&&(t.removeHandler(e(document),"touchmove.jqxDockingLayout"+s),t.removeHandler(e(document),"touchend.jqxDockingLayout"+s))},_removeByDragHandler:function(t,i,s,r,n){void 0===r&&(r=t.args.draggedIndex),void 0===n&&(n=!0);var o=this,a=o.base,l=i.items,d=l[r],h=a._find(i.widget,".jqx-ribbon-content-section")[r],c=a._detachChildNodes(h);s.hasClass("jqx-ribbon")||(s=e(a._find(s,".jqx-ribbon")[0])),o.base._suppressResizeHandler=!0,o._createFloatGroup(t,d.title,c,"documentGroup",i,d),o.base._closeDocumentPanel(r,l,i,s,n),o.base._suppressResizeHandler=!1},_floatTabbedGroup:function(t,i,s){for(var r,n,o=this,a=o.base,l=[],d=e(a._find(i,".jqx-ribbon")[0]),h=a._find(d,".jqx-ribbon-content-section"),c=0;c<t.items.length;c++){var u=t.items[c],p=a._detachChildNodes(h[c]);u.selected&&(r=u.title,n=c),l.push(p)}o._createFloatGroup(s,r,l,"tabbedGroup",t,null,n),o.base._close(t),s&&(s.target.style.cursor="")},_addTabbedGroupHandlers:function(t,i){var s,r=this,n=r.base,o=n.element.id,a=n._find(i,".jqx-layout-window-header")[0],l=!1,d=n._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function h(e){!0===l&&!0!==n._clickedToResize&&(r._floatTabbedGroup(t,i,e),l=!1)}r.addHandler(a,d[0]+".jqxDockingLayout"+o,function(e){if(!1!==t.allowDrag&&(l=!0,e.target.style.cursor="move",n._touchDevice)){var i=e.originalEvent.touches[0];s=document.elementFromPoint(i.pageX,i.pageY)}}),r.addHandler(a,d[1]+".jqxDockingLayout"+o,function(e){l=!1,e.target.style.cursor=""}),n._touchDevice?r.addHandler(e(document),"touchmove.jqxDockingLayout"+o,function(e){!0===n._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];s!==document.elementFromPoint(t.pageX,t.pageY)&&h({pageX:t.pageX,pageY:t.pageY,target:s})}):r.addHandler(a,"mouseleave.jqxDockingLayout"+o,function(e){h({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,i,s){var r=this,n=r.base._detachChildNodes(i);r._createFloatGroup(s,t,n,"autoHideGroup",e,e),r.base._close(e)},_addAutoHideGroupHandlers:function(t,i,s,r){var n,o=this,a=o.base,l=a.element.id,d=!1,h=a._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function c(e){!0===d&&(o._floatAutoHideGroup(t,s,r,e),d=!1,e.target.style.cursor="")}o.addHandler(i,h[0]+".jqxDockingLayout"+l,function(e){if(!1!==t.parent.allowDrag&&(d=!0,e.target.style.cursor="move",a._touchDevice)){var i=e.originalEvent.touches[0];n=document.elementFromPoint(i.pageX,i.pageY)}}),o.addHandler(i,h[1]+".jqxDockingLayout"+l,function(e){d=!1,e.target.style.cursor=""}),a._touchDevice?o.addHandler(e(document),"touchmove.jqxDockingLayout"+l,function(e){!0===a._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];n!==document.elementFromPoint(t.pageX,t.pageY)&&c({pageX:t.pageX,pageY:t.pageY,target:n})}):o.addHandler(i,"mouseleave.jqxDockingLayout"+l,function(e){c({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(t,i,s,r,n,o,a){var l,d,h,c,u,p,m=this,f=m.base,g=document.createElement("div");if(g.className=f.toThemeProperty("jqx-docking-layout-group-floating")+" "+f.element.id+"FloatGroup",g.innerHTML="<div></div><div></div>",document.body.appendChild(g),g=e(g),"documentGroup"===r)t&&(l=t.args.x,d=t.args.y),h=n.widget.width(),c=n.widget.height(),u=s;else if("tabbedGroup"===r){t&&(l=t.pageX,d=t.pageY),h=n.widget.width(),c=n.widget.height(),u="",p=document.createElement("div");var v=document.createElement("div"),x=document.createElement("ul");x.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(m.rtl?"rtl":"ltr");for(var w=0;w<n.items.length;w++){var y=n.items[w],b=document.createElement("div"),_=document.createElement("li");_.innerHTML=y.title,x.appendChild(_);for(var j=0;j<s[w].length;j++)s[w][j].appendTo(b);v.appendChild(b)}p.appendChild(x),p.appendChild(v),u=p=e(p)}else"autoHideGroup"===r&&(t&&(l=t.pageX,d=t.pageY),h=e(f._find(n.parent.widget,".jqx-ribbon-content")[0]).width(),c=n.parent.widget.height(),u=s);if(!l&&!d){var q=f.host.offset();l=(f.host.width()-h)/2+q.left+100,d=(f.host.height()-c)/2+q.top+10}g.on("moved close",function(e){m._hideOverlays();var t=g.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&m._updateOverlayGroup(t._overlayGroup),m._clearTextSelection(),m._windowCreate=!1,m._hideOverlays()):(f._raiseEvent("4",{element:g,floatGroup:g.current}),t._overlayGroup&&(t._overlayGroup.removed=!0,m._updateOverlayGroups()),t.removed=!0,f._updateLayout(f.layout))}),g.on("resized",function(t){var i=g.current,s=e(this).offset();i.width=t.args.width,i.height=t.args.height,i.position.x=s.left,i.position.y=s.top,i._overlayGroup&&m._updateOverlayGroup(i._overlayGroup)}),g.jqxWindow({theme:f.theme,title:i,content:u,width:h,maxWidth:null,height:c,maxHeight:null,position:{x:l-100,y:d-10},closeButtonAction:"close",rtl:f.rtl,initContent:function(){var e,s=this._header,h=f._touchDevice?"touchstart":"mousedown";e="autoHideGroup"===r?n.parent:n,t&&(m._draggedWindow={fromGroup:e,fromPanel:o,title:i,element:g},s.trigger("mousedown",[l,d]),m._windowDragged=!0,m._windowCreate=!0,m._interval(),f.resizable&&(f._overlay[0].style.display="block"),m._showEdgeOverlays()),s.on(h,function(){m._windowDragged=!0,g.current._overlayGroup&&(g.current._overlayGroup.self=!0),m._interval(),f.resizable&&(f._overlay[0].style.display="block"),m._draggedWindow={fromGroup:e,fromPanel:o,title:i,element:g},m._showEdgeOverlays()}),s.on("mouseup",function(){m._hideOverlays(),m._windowCreate=!1}),"tabbedGroup"===r&&(p.jqxRibbon({theme:f.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:a,selectionMode:"click",animationType:"none",rtl:f.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),p.on("select",function(e){if(!e.owner.widgetName||"jqxRibbon"===e.owner.widgetName){var t=g.current.items[0].items[e.args.selectedIndex];g.jqxWindow("setTitle",t.title),t.selected=!0}}),p.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(g.current.items[0].items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(e){f._swapPanelsInLayout(g.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),p.on("_removeByDrag",function(e){m._removeByDragHandler(e,g.current.items[0],p),1===g.current.items[0].items.length&&p.jqxRibbon({_removeByDrag:!1})}))}});var T,C,S={type:"floatGroup",parent:{type:"host"},widget:g,position:{x:l-100,y:d-10},index:f.layout.length,width:h,height:c};if(g.current=S,o)S.items=[],f._copyItem(o,S.items),T=S.items,C=S;else{S.items=[{type:"tabbedGroup",items:[],parent:S,widget:p}],T=S.items[0].items;for(var k=0;k<n.items.length;k++)f._copyItem(n.items[k],T);C=S.items[0]}for(var I=0;I<T.length;I++)T[I].parent=C;f.layout.push(S),m._raiseEvent("0",{item:S}),m._trackFloatGroups()},_interval:function(){var e=this;if(!0===e._oldIE){var t=e._overlayWidth,i=e._overlayHeight;e._oldIEInterval=setInterval(function(){e._checkPosition(t,i),e._windowCreate&&e._draggedWindow.element.jqxWindow("move",e._x-50,e._y-10)},1e3)}},_createOverlay:function(){var t=this,i=t.base,s=i.element.id;t._overlay=document.createElement("div"),t._overlay.className=i.toThemeProperty("jqx-docking-layout-overlay"),t._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+i.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+i.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+i.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+i.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+i.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+i.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+i.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',t._overlay=e(t._overlay);var r=i._find(t._overlay,".jqx-docking-layout-overlay-square-center")[0];t._overlayCenter=e(r.firstChild),t._dropOverlay=document.createElement("div"),t._dropOverlay.className=t.toThemeProperty("jqx-docking-layout-drop-overlay"),t._dropOverlayHelper=e(t._dropOverlay),i._ie7?e("body").append(t._overlay,t._dropOverlay):(i.element.appendChild(t._overlay[0]),i.element.appendChild(t._dropOverlay)),t._overlayWidth=t._overlay[0].offsetWidth,t._overlayHeight=t._overlay[0].offsetHeight,t._overlay[0].style.display="none",t._addOverlayHandlers(),t._squares=[i._find(t._overlay,".jqx-docking-layout-overlay-square-top")[0],i._find(t._overlay,".jqx-docking-layout-overlay-square-left")[0],r,i._find(t._overlay,".jqx-docking-layout-overlay-square-right")[0],i._find(t._overlay,".jqx-docking-layout-overlay-square-bottom")[0]],t._sansCenter=[e(i._find(e(t._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),e(i._find(e(t._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),e(i._find(e(t._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),e(i._find(e(t._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])];var n=!1;function o(i,s,r,n){t._dropOverlay.style.display="block",t._dropOverlay.style.width=i+"px",t._dropOverlay.style.height=s+"px",e(t._dropOverlay).offset({left:r,top:n})}function a(s){if(s=t._closest(s,"jqx-docking-layout-overlay-square"),n=s,!e(i._find(s,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")){var r=t._dropToGroup.element.width(),a=t._dropToGroup.element.height(),l=t._dropToGroup.element.offset();s.hasClass("jqx-docking-layout-overlay-square-top")?o(r,a/2,l.left,l.top):s.hasClass("jqx-docking-layout-overlay-square-left")?o(r/2,a,l.left,l.top):s.hasClass("jqx-docking-layout-overlay-square-center")&&!t._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?o(r,a,l.left,l.top):s.hasClass("jqx-docking-layout-overlay-square-right")?o(r/2,a,l.left+r/2,l.top):s.hasClass("jqx-docking-layout-overlay-square-bottom")?o(r,a/2,l.left,l.top+a/2):i._touchDevice&&(t._dropOverlay.style.display="none",n=!1)}}function l(s){var r=t._dropToGroup.settings;if(e(i._find(s,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))t._hideOverlays();else{if(s.hasClass("jqx-docking-layout-overlay-square-top"))t._dropHandler(0,"vertical","height","top");else if(s.hasClass("jqx-docking-layout-overlay-square-left"))t._dropHandler(0,"horizontal","width","left");else if(s.hasClass("jqx-docking-layout-overlay-square-center")){var n,o,a=t._getDraggedWindowInformation(),l=a.title,d=a.content;if("documentGroup"===r.type?(n=r.widget,o="documentPanel"):"tabbedGroup"===r.type&&(n="floatGroup"===r.parent.type?r.widget:e(i._find(r.widget,".jqx-ribbon")[0]),o="layoutPanel"),"layoutGroup"===r.type)t._dropToEmptyLayoutGroup(a);else for(var h=0;h<l.length;h++){n.jqxRibbon({_suppressReorder:!0}),n.jqxRibbon("addAt",i._find(n,".jqx-ribbon-content-section").length,{title:l[h],content:d[h]},!0);var c=r.items.length,u={type:o,title:l[h],parent:r,index:c,detachedContent:a.content[h],docked:!0};r.items.push(u),i._addRightClickHandler(e(i._find(n,".jqx-ribbon-item")[c]),{current:u}),n.jqxRibbon({_suppressReorder:!1})}"floatGroup"===r.parent.type&&r.widget.jqxRibbon({_removeByDrag:!0}),t._clearTextSelection(),t._raiseEvent("1",{position:"center",item:r})}else s.hasClass("jqx-docking-layout-overlay-square-right")?t._dropHandler(1,"horizontal","width","right"):s.hasClass("jqx-docking-layout-overlay-square-bottom")&&t._dropHandler(1,"vertical","height","bottom");t._removeFloatGroupObject(t._draggedWindow.element.current),t._draggedWindow.element.remove(),t._hideOverlays()}}i._touchDevice?(t.addHandler(e(document),"touchmove.jqxDockingLayout"+s,function(i){if(t._windowDragged){i.preventDefault();var s=i.originalEvent.touches[0];a(e(document.elementFromPoint(s.pageX,s.pageY)))}}),t.addHandler(e(document),"touchend.jqxDockingLayout"+s,function(){!1!==n&&(l(n),n=!1)})):e.each(t._squares,function(){t.addHandler(this,"mouseenter.jqxDockingLayout"+s,function(){a(e(this))}),t.addHandler(this,"mouseleave.jqxDockingLayout"+s,function(){t._dropOverlay.style.display="none"}),t.addHandler(this,"mouseup.jqxDockingLayout"+s,function(){l(e(this))})})},_addOverlayHandlers:function(){var t=this,i=t._overlayWidth,s=t._overlayHeight;t.base._touchDevice?t.addHandler(e(document),"touchmove.jqxDockingLayout"+t.base.element.id,function(e){var r=e.originalEvent.touches[0];t._x=r.pageX,t._y=r.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,s),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",r.pageX-50,r.pageY-10))}):t.addHandler(e(document),"mousemove.jqxDockingLayout"+t.base.element.id,function(e){t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,s),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var i=this,s=i.base,r=i._x,n=i._y,o=0;o<s._overlayGroups.length;o++){var a=s._overlayGroups[o];if(!a.self){var l=a.width,d=a.height,h=a.offset,c=h.left,u=h.top;if(r>=c&&r<=c+l&&n>=u&&n<=u+d){if(("documentGroup"===a.settings.type&&"documentGroup"===i._draggedWindow.fromGroup.type||"tabbedGroup"===a.settings.type&&("tabbedGroup"===i._draggedWindow.fromGroup.type||"autoHideGroup"===i._draggedWindow.fromGroup.type)||"layoutGroup"===a.settings.type)&&!1!==a.settings.allowDrop)i._overlayCenter.removeClass(s.toThemeProperty("jqx-fill-state-disabled"));else if(i._overlayCenter.addClass(s.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===a.settings.parent.type)return;for(var p=0;p<i._sansCenter.length;p++)"floatGroup"===a.settings.parent.type?i._sansCenter[p].addClass(s.toThemeProperty("jqx-fill-state-disabled")):i._sansCenter[p].removeClass(s.toThemeProperty("jqx-fill-state-disabled"));return i._overlay[0].style.display="block",i._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(u+d/2-t/2,10)}),void(i._dropToGroup=a)}}}i._overlay[0].style.display="none"},_dropHandler:function(t,i,s,r){var n,o,a=this,l=a.base,d=a._dropToGroup.settings,h=d.parent,c=a._getDraggedWindowInformation(),u=c.title,p=c.content,m=c.groupType,f=c.itemType,g=[];if(h.orientation===i){n=d.index+t,(o={type:m,parent:h})[s]=a._draggedWindow.element[s]();for(var v=0;v<u.length;v++)g.push({type:f,title:u[v],parent:o,prevent:!0,selected:a._getFloatGroupItemSelection(v),detachedContent:p[v],docked:!0});o.items=g,a._setOptimalDimension(s,o,d),h.items.splice(n,0,o)}else{var x,w;"width"===s?(x="height",w="minHeight"):(x="width",w="minWidth");var y={type:"layoutGroup",orientation:i,parent:d.parent,index:d.index};y[x]=d[x],d[w]&&(y[w]=d[w]),d.parent.items.splice(d.index,1),d.parent.items.splice(d.index,0,y),d.parent=y,o={type:m,parent:y};for(var b=0;b<u.length;b++)g.push({type:f,title:u[b],parent:o,prevent:!0,selected:a._getFloatGroupItemSelection(b),detachedContent:p[b],docked:!0});o.items=g,delete d[x],d[s]="50%",o[s]="50%",y.items=[d],y.items.splice(0+t,0,o)}l.render();for(var _=l._find(o.widget,".jqx-ribbon-content-section"),j=0;j<_.length;j++)for(var q=e(_[j]),T=p[j],C=0;C<T.length;C++)p[j][C].appendTo(q);a._clearTextSelection(),l._raiseEvent("1",{item:d}),a._raiseEvent("1",{position:r,item:o})},_setOptimalDimension:function(e,t,i){var s,r="width"===e?"minWidth":"minHeight",n=i[r]||this.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],o=i.parent.widget[e]();s=parseFloat(i[e])-n/o*100;var a=t[e]/o*100;if(s<a){t[e]=parseFloat(i[e])/2+"%",t[r]=parseInt(parseFloat(t[e])/100*o,10),i[e]=parseFloat(i[e])-parseFloat(t[e])+"%";var l=parseInt(parseFloat(i[e])/100*o,10);l<n&&(i[r]=l)}else t[e]=a+"%",i[e]=parseFloat(i[e])-a+"%"},_dropToEmptyLayoutGroup:function(e){var t=this,i=t._dropToGroup.settings,s={type:e.groupType,items:[],parent:i},r=e.content;"horizontal"===i.orientation?s.width="100%":"vertical"===i.orientation&&(s.height="100%");for(var n=0;n<e.title.length;n++){var o={type:e.itemType,title:e.title[n],parent:s,prevent:!0,selected:t._getFloatGroupItemSelection(n),detachedContent:r[n],docked:!0};s.items.push(o)}i.items.push(s),t.base.render();for(var a=t.base._find(s.widget,".jqx-ribbon-content-section"),l=0;l<a.length;l++)for(var d=0;d<r[l].length;d++)r[l][d].appendTo(a[l])},_getFloatGroupItemSelection:function(e){return!!this._draggedWindow.fromPanel||this._draggedWindow.element.current.items[0].items[e].selected},_createEdgeOverlays:function(){function t(t){var r,n,o="left"===t||"right"===t?"horizontal":"vertical",a='<div class="'+s.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+o)+'"><div class="'+s.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+o)+'"></div><div class="'+s.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+o)+'"></div></div>',l='<div class="'+s.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+o)+'"><div class="'+s.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+t)+'"></div></div>';return n="left"===t||"top"===t?a+l:l+a,(r=document.createElement("div")).className=s.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),r.innerHTML='<div class="'+s.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+n+"</div>",s._ie7?document.body.appendChild(r):s.element.appendChild(r),i._edgeOverlays.push(r),e(r)}var i=this,s=i.base;i._edgeOverlays=[],i._leftOverlay=t("left"),i._rightOverlay=t("right"),i._topOverlay=t("top"),i._bottomOverlay=t("bottom"),i._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(t,i,r,n){s._dropOverlay.style.display="block",s._dropOverlay.style.width=t,s._dropOverlay.style.height=i,e(s._dropOverlay).offset({left:r,top:n})}var i,s=this,r=s.base,n=r.element.id,o=!1;function a(n){switch(i=r.host.offset(),n=s._closest(e(n),"jqx-docking-layout-overlay-square-edge")[0],o=n,n){case s._leftOverlay[0]:t("100px",r.host.height()+"px",i.left,i.top);break;case s._rightOverlay[0]:t("100px",r.host.height()+"px",i.left+r.host.width()-100,i.top);break;case s._topOverlay[0]:t(r.host.width()+"px","100px",i.left,i.top);break;case s._bottomOverlay[0]:t(r.host.width()+"px","100px",i.left,i.top+r.host.height()-100);break;default:r._touchDevice&&(o=!1)}}function l(e){switch(e){case s._leftOverlay[0]:s._dropToEdge("left",0,"horizontal","width");break;case s._rightOverlay[0]:s._dropToEdge("right",r.layout[0].items.length-1,"horizontal","width");break;case s._topOverlay[0]:s._dropToEdge("top",0,"vertical","height");break;case s._bottomOverlay[0]:s._dropToEdge("bottom",r.layout[0].items.length-1,"vertical","height")}}r._touchDevice?(s.addHandler(e(document),"touchmove.jqxDockingLayout"+n,function(t){if(s._windowDragged){t.preventDefault();var i=t.originalEvent.touches[0];a(e(document.elementFromPoint(i.pageX,i.pageY)))}}),s.addHandler(e(document),"touchend.jqxDockingLayout"+n,function(){!1!==o&&(l(o),o=!1)})):e.each(s._edgeOverlays,function(){s.addHandler(this,"mouseenter.jqxDockingLayout"+n,function(){a(this)}),s.addHandler(this,"mouseleave.jqxDockingLayout"+n,function(){s._dropOverlay.style.display="none"}),s.addHandler(this,"mouseup.jqxDockingLayout"+n,function(){l(this)})})},_dropToEdge:function(e,t,i,s){var r,n,o=this,a=o.base,l=a.layout[0],d=o._getDraggedWindowInformation(),h=d.title,c=d.content,u=d.groupType,p=d.itemType,m=[];if(o._removeFloatGroupObject(o._draggedWindow.element.current),l.orientation===i){(r={type:u,parent:l})[s]=o._draggedWindow.element[s]();for(var f=0;f<h.length;f++)m.push({type:p,title:h[f],parent:r,prevent:!0,selected:o._getFloatGroupItemSelection(f),detachedContent:c[f],docked:!0});r.items=m,n=l.items[t],o._setOptimalDimension(s,r,n),"left"===e||"top"===e?l.items.splice(t,0,r):l.items.push(r)}else{var g;"width"===s?(g="height","minHeight"):(g="width","minWidth");var v={type:"layoutGroup",orientation:i,parent:l.parent,index:l.index};r={type:u,parent:v};for(var x=0;x<h.length;x++)m.push({type:p,title:h[x],parent:r,prevent:!0,selected:o._getFloatGroupItemSelection(x),detachedContent:c[x],docked:!0});r.items=m,delete l[g],delete r[g],r[s]="50%",l[s]="50%",l.parent=v,v.items="left"===e||"top"===e?[r,l]:[l,r],a.layout[0]=v,n=l}a.render();for(var w=a._find(r.widget,".jqx-ribbon-content-section"),y=0;y<w.length;y++)for(var b=0;b<c[y].length;b++)c[y][b].appendTo(w[y]);o._clearTextSelection(),a._raiseEvent("1",{item:n}),o._raiseEvent("1",{position:e+"-edge",item:r}),o._draggedWindow.element.remove(),o._hideOverlays()},_showEdgeOverlays:function(){var e=this,t=e.base,i=t.host.width(),s=t.host.height(),r=t.host.offset(),n=!0,o=!0,a=!0,l=!0;!function e(t){if(t.items&&0!==t.items.length){var i=t.orientation,s=t.items[0],r=t.items[t.items.length-1];"horizontal"===i?("autoHideGroup"===s.type?n=n&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===r.type?o=o&&!1:"layoutGroup"===r.type&&e(r)):"vertical"===i&&("autoHideGroup"===s.type?a=a&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===r.type?l=l&&!1:"layoutGroup"===r.type&&e(r))}}(t.layout[0]),n&&(e._leftOverlay[0].style.display="block"),o&&(e._rightOverlay[0].style.display="block"),a&&(e._topOverlay[0].style.display="block"),l&&(e._bottomOverlay[0].style.display="block"),e._leftOverlay.offset({left:r.left+5,top:r.top+s/2-20}),e._rightOverlay.offset({left:r.left+i-40,top:r.top+s/2-20}),e._topOverlay.offset({left:r.left+i/2-20,top:r.top+5}),e._bottomOverlay.offset({left:r.left+i/2-20,top:r.top+s-40})},_hideOverlays:function(){var e=this,t=e.base;e._windowDragged=!1,!0===e._oldIE&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay[0].style.display="none";for(var i=0;i<e._edgeOverlays.length;i++)e._edgeOverlays[i].style.display="none";e._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var e,t,i=this,s=i.base,r=[],n=[];if(i._draggedWindow.fromPanel)r.push(i._draggedWindow.title),n.push(s._detachChildNodes(s._find(i._draggedWindow.element,".jqx-window-content")[0]));else for(var o=s._find(i._draggedWindow.element,".jqx-ribbon-content-section"),a=0;a<i._draggedWindow.element.current.items[0].items.length;a++){var l=i._draggedWindow.element.current.items[0].items[a];r.push(l.title),n.push(s._detachChildNodes(o[a]))}return"documentGroup"===i._draggedWindow.fromGroup.type?(e="documentGroup",t="documentPanel"):(e="tabbedGroup",t="layoutPanel"),{title:r,content:n,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this.base,t=1;t<e.layout.length;t++){var i=e.layout[t];if("tabbedGroup"===i.items[0].type){var s=i.items[0].widget,r={element:s,width:s.width(),height:s.height(),offset:s.offset(),settings:i.items[0]};i._overlayGroup=r,e._overlayGroups.push(r)}}},_updateOverlayGroup:function(e){if(e){var t=e.element;e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1}},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;t>=0;t--){!0===e[t].removed&&e.splice(t,1)}},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}},_closest:function(t,i){if(t.hasClass(i))return t;for(var s=e(t[0].parentNode);null!==s[0]&&"#document"!==s[0].nodeName;){if(s.hasClass(i))return s;s=e(s[0].parentNode)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDockPanel","",{}),e.extend(e.jqx._jqxDockPanel.prototype,{defineInstance:function(){var t={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return this===e.jqx._jqxDockPanel.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=e(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},render:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(e,t){this.width=e,this.height=t,this.render()},performLayout:function(){if(!this.disabled){var t=this.childrenCount,i=0,s=0,r=0,n=0,o=this,a=this.host.width(),l=this.host.height();this.sizeCache.length<this.$wrapper.children().length&&e.each(this.$wrapper.children(),function(t){var i=e(this);i.css("position","absolute");var s={width:i.css("width"),height:i.css("height")};o.sizeCache[t]=s}),e.each(this.$wrapper.children(),function(d){var h=this.getAttribute("dock");null==h&&(h="left"),d==t-1&&o.lastchildfill&&(h="fill");var c=e(this);c.css("position","absolute"),c.css("width",o.sizeCache[d].width),c.css("height",o.sizeCache[d].height);var u={width:c.outerWidth(),height:c.outerHeight()},p={x:r,y:n,width:Math.max(0,a-(r+i)),height:Math.max(0,l-(n+s))};if(d<t)switch(h){case"left":r+=u.width,p.width=u.width;break;case"top":n+=u.height,p.height=u.height;break;case"right":i+=u.width,p.x=Math.max(0,a-i),p.width=u.width;break;case"bottom":s+=u.height,p.y=Math.max(0,l-s),p.height=u.height}c.css("left",p.x),c.css("top",p.y),c.css("width",p.width),c.css("height",p.height)}),this._raiseevent(0)}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(t,i,s){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],n=new e.Event(r);return n.previousValue=i,n.currentValue=s,n.owner=this,this.host.trigger(n)}},propertyChangedHandler:function(e,t,i,s){this.isInitialized&&e.render()},refresh:function(){this.render()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDragDrop","",{}),e.extend(e.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return this===e.jqx._jqxDragDrop.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var t=e.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var i=this._getRelativeOffset(this.host),s=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(s={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=s.left+i.left+"px",this.element.style.top=s.top+i.top+"px"}this._validateProperties(),this._idHandler(t),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=e(this.dropTarget)),this._refresh(),t+=1,e.data(document.body,"jqx-draggables",t),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=e(document);break;case"body":t=e(document.body);break;default:t=e(this.appendTo)}return t},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(i){return!!t.disabled||(e.jqx.mobile.isTouchDevice()?void 0:(i.preventDefault(),!1))}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,function(e){t._mouseUp(e)},{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i="";window.parent&&document.referrer&&(i=document.referrer),-1!=i.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",function(){t._mouseUp(t)},!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",function(){t._mouseUp(t)}))}}catch(e){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),s=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;return t._mouseStarted||(t._clear(e),!0),s&&(t._mouseDownEvent=e),!!t._isTouchDevice||(1!==e.which||!s||void e.preventDefault())},_mouseMove:function(e){var t=e.data.self;return!!t.disabled||(t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted))},_mouseUp:function(e){this._clear(e)},_clear:function(e){var t;return!!(t=e.data&&e.data.self?e.data.self:this).disabled||(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),!!t._isTouchDevice&&void 0)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return!!this._movedDistance||(t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance)&&(this._movedDistance=!0,!0)},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=e.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){e(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){e(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return!this.disabled&&(!!this._getHandle(e)&&(this._disableSelection(this.host),!0))},_getScrollParent:function(t){var i;return i=e.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position",1))&&/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?e(document):i},_mouseStart:function(t){var i=this._getMouseCoordinates(t);this._getParentOffset(this.host);this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},e.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,t);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(t,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host);this.position;return{left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(t,i,s){if(this.dropTarget){var r=!1,n=this;e.each(this.dropTarget,function(e,o){if((r=n._overItem(o,t,i,s)).over)return!1})}return r},_overItem:function(t,i,s,r){var n=(t=e(t)).offset(),o=t.outerHeight(),a=t.outerWidth();if(t&&t[0]!==this.element){var l=!1;switch(this.tolerance){case"intersect":i.left+s>n.left&&i.left<n.left+a&&i.top+r>n.top&&i.top<n.top+o&&(l=!0);break;case"fit":s+i.left<=n.left+a&&i.left>=n.left&&r+i.top<=n.top+o&&i.top>=n.top&&(l=!0)}return{over:l,target:t}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),s=this._over(e,t,i);s.over?(this._targetEnterFired&&s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:s.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(s.target)),this._oldtarget=s.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||s.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||s.target))}},_mouseStop:function(e){var t=this._fixPosition(),i={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(this.dropped,this.dropped=!1),!!(this.element&&this.element.parentNode||"original"!==this.feedback)&&(this._dropElement(t),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(t,i.width,i.height).over&&this.onTargetDrop(this._over(t,i.width,i.height).target),this._revertHandler(),!1)},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);(e=this.position).left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||e.isFunction(this.revert)&&this.revert()){var t=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?e(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,e(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?e(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(e){var t;if(t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||t[0]!==this.element){t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(t){t=t||this.feedback;this._offsetParent=t.offsetParent();var i=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if("relative"===(e=e||this.feedback).css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),void 0!==this.restricter.left&&void 0!==this.restricter.top&&void 0!==this.restricter.height&&void 0!==this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:e(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:e(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:e(window).scrollLeft())+e("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:e(window).scrollTop())+(e("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var t=e(this.restricter),i=t[0];if(i){var s="hidden"!==e(i).css("overflow");this._restricter=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=t}},_convertPositionTo:function(t,i){var s,r,n;return i||(i=this.position),s="absolute"===t?1:-1,r="absolute"!==this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,n=/(html|body)/i.test(r[0].tagName),this._getPosition(i,s,n,r)},_getPosition:function(t,i,s,r){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:r.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:r.scrollLeft())*i)}},_generatePosition:function(t){var i,s="absolute"!=this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,r=/(html|body)/i.test(s[0].tagName),n=this._getMouseCoordinates(t),o=n.left,a=n.top;if(this.originalPosition&&this.restricter){if(this._restrictiveContainer){var l=this._restrictiveContainer.offset();i=[this._restricter[0]+l.left,this._restricter[1]+l.top,this._restricter[2]+l.left,this._restricter[3]+l.top]}else i=this._restricter;n.left-this._offset.click.left<i[0]&&(o=i[0]+this._offset.click.left),n.top-this._offset.click.top<i[1]&&(a=i[1]+this._offset.click.top),n.left-this._offset.click.left>i[2]&&(o=i[2]+this._offset.click.left),n.top-this._offset.click.top>i[3]&&(a=i[3]+this._offset.click.top)}return{top:a-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():r?0:s.scrollTop()),left:o-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():r?0:s.scrollLeft())}},_raiseEvent:function(t,i){if(null==this.triggerEvents||0!=this.triggerEvents){var s=this._events[t],r=e.Event(s);return(i=i||{}).position=this.position,i.element=this.element,e.extend(i,this.data),i.feedback=this.feedback,r.args=i,this.host.trigger(r)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,s,r){"dropTarget"===i?"string"==typeof r&&(t.dropTarget=e(r)):"disabled"==i?r&&t._enableSelection(t.host):"cursor"==i&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(e){window.jqxListBoxDragDrop=function(){e.extend(e.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var s=e.host.offset(),r=i-parseInt(s.top),n=t-parseInt(s.left),o=e._hitTest(n,r);if(r<0)return null;if(null!=o){var a=parseInt(s.left),l=a+e.host.width();return a<=t+o.width/2&&t<=l?o:null}if(e.items&&e.items.length>0){var d=e.items[e.items.length-1];if(e.groups.length<2&&d.top+d.height+15>=r)return d}return null},_handleDragStart:function(t,i){e.jqx.mobile.isTouchDevice()&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){if(i.allowDrag&&!i.disabled){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i.isDragging=!0,i._dragCancel=!1;var s=i._getMouseCoordinates(t),r=i._hitTestBounds(i,s.left,s.top),n=e.find(".jqx-listbox");i._listBoxes=n,e.each(i._listBoxes,function(){if(!e.jqx.isHidden(e(this))){var t=e.data(this,"jqxListBox").instance;t._enableHover=t.enableHover,t.enableHover=!1,e.jqx.mobile.setTouchScroll(!1,i.element.id)}});var o=function(){i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),e.each(i._listBoxes,function(){if(!e.jqx.isHidden(e(this))){var t=e.data(this,"jqxListBox").instance;null!=t._enableHover&&(t.enableHover=t._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id))}})};if(null==r||r.isGroup)null==r&&o();else{if(i._dragItem=r,i.dragStart)if(0==i.dragStart(r))return o(),!1;r.disabled&&o(),i._raiseEvent(4,{label:r.label,value:r.value,dragSourceElement:i.element,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){var s=this;t.off("dragging"),t.on("dragging",function(t){var r=t.args;if(!i._dragCancel){var n=i._getMouseCoordinates(t);i._lastDraggingPosition=n,i._dragOverItem=null,i.feedbackElement.hide();var o=s._getBestMatchItem(i,n);e.each(i._listBoxes,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),s=t.top+20,a=e(this).height()+s-40,l=t.left,d=l+e(this).width(),h=e.data(this,"jqxListBox").instance,c=h._hitTestBounds(h,n.left,n.top),u=h.vScrollInstance;if(c&&h.allowDrop&&!h.disabled&&c.element&&o&&o.item&&e(this)[0]==o.item[0]){i._dragOverItem=c,i.feedbackElement.show();var p=e(c.element).offset().top+1;n.top>p+c.height/2&&(p+=c.height),i.feedbackElement.css("top",p),i.feedbackElement.css("left",l),"visible"!=h.vScrollBar.css("visibility")?i.feedbackElement.width(e(this).width()):i.feedbackElement.width(e(this).width()-20),n.left>=l&&n.left<d?r.position.top<s&&r.position.top>=s-30?(clearInterval(h._autoScrollTimer),0!=u.value&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){h.scrollUp()||clearInterval(h._autoScrollTimer)},100)):r.position.top>a&&r.position.top<a+30?(clearInterval(h._autoScrollTimer),"hidden"!=h.vScrollBar.css("visibility")&&u.value!=u.max&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){h.scrollDown()||clearInterval(h._autoScrollTimer)},100)):clearInterval(h._autoScrollTimer):(null==i._dragOverItem&&i.feedbackElement.hide(),clearInterval(h._autoScrollTimer))}})}})},_getBestMatchItem:function(t,i){for(var s={},r=e.find(".jqx-listbox"),n=0;n<r.length;n++){var o=e(r[n]);if(!e.jqx.isHidden(o)){var a=parseInt(o.offset().left),l=a+o.width(),d=o.jqxListBox("getInstance");if(clearInterval(d._autoScrollTimer),null!=d._enableHover&&(d.enableHover=d._enableHover,e.jqx.mobile.setTouchScroll(!0,t.element.id)),null!=t._dragItem){var h=i.left>=a&&i.left<=l,c=i.left-t._dragItem.width/2>=a&&i.left-t._dragItem.width/2<=l,u=i.left-t._dragItem.width/2>=a&&i.left-t._dragItem.width/2<=l;if(h||c||u){var p=parseInt(o.offset().top),m=p+o.height();if(i.top>=p&&i.top<=m){var f=i.left+t._dragItem.width/2-(a+l)/2;(isNaN(s.distance)||s.distance>f)&&(s={distance:f,item:o})}}}}}return s},_handleDragEnd:function(t,i){var s=this;e.find(".jqx-listbox");t.off("dragEnd"),t.on("dragEnd",function(t){clearInterval(i._autoScrollTimer);var r=e.jqx.mobile.isTouchDevice()?i._lastDraggingPosition:i._getMouseCoordinates(t);e.find(".jqx-listbox");if(i.feedbackElement.remove(),!i._dragCancel){var n=s._getBestMatchItem(i,r).item,o=i._dragItem,a=null;if(null!=n&&n.length>0){var l=(d=e.data(n[0],"jqxListBox").instance).allowDrop;if(a=d.element,l&&!d.disabled){var d,h=(d=e.data(n[0],"jqxListBox").instance)._hitTestBounds(d,r.left,r.top);if(null==(h=i._dragOverItem)||h.isGroup){if("none"!=d.dropAction){if(d.content.find(".draggable").length>0&&d.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){if(0==(c=i.dragEnd(i._dragItem,null,t.args)))return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;null==c&&(c=!0)}d.addItem(i._dragItem),"default"==d.dropAction&&(o.visibleIndex>0&&i.selectIndex(o.visibleIndex-1),i.removeItem(o,!0)),d.clearSelection(),d.selectIndex(d.items.length-1)}}else{var c=!0;if(i.dragEnd){if(0==(c=i.dragEnd(o,h,t.args)))return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;null==c&&(c=!0)}if(c){h.visibleIndex;if("none"!=d.dropAction){if(h.element)var u=e(h.element).offset().top+1;else u=e(d.element).offset().top+1;d.content.find(".draggable").length>0&&d.content.find(".draggable").jqxDragDrop("destroy"),r.top>u+h.height/2?d.insertAt(i._dragItem,h.index+1):d.insertAt(i._dragItem,h.index),"default"==i.dropAction&&(o.visibleIndex>0&&(i.clearSelection(),i.selectIndex(o.visibleIndex-1)),i.removeItem(o,!0));var p=function(){for(var e=h.visibleIndex,t=e-2;t<=e+2;t++)if(d.items&&d.items.length>t){var i=d.items[t];if(null!=i&&i.value==o.value)return i.visibleIndex}return e}();d.clearSelection(),d.selectIndex(p)}}}}}else{if(i.dragEnd)if(0==i.dragEnd(o,t.args))return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return null!=o&&i._raiseEvent(5,{label:o.label,value:o.value,index:o.index,dropTargetElement:a,originalEvent:t.args}),!1}t.stopPropagation()})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.content.find(".draggable");if(t.length>0){var i=this;t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.width(r+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})},window.jqxTreeDragDrop=function(){e.extend(e.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,s){var r=null;if(t._visibleItems){var n=parseInt(t.host.offset().left),o=t.host.outerWidth();e.each(t._visibleItems,function(a){if(i>=n&&i<n+o&&this.top+5<s&&s<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&null!=(r=t.getItem(l[0])))return r.height=this.height,r.top=this.top,!1}})}return r},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.jqx.mobile.isTouchDevice()&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i._dragCancel=!1;t.args.position;var s=e.find(".jqx-tree");return i._trees=s,e.each(s,function(){var s=e.data(this,"jqxTree").instance,r=s.host.find(".draggable");if(s._syncItems(r),s.allowDrag&&!s.disabled){var n=e(t.target).parents("li:first");if(n.length>0){var o=s.getItem(n[0]);if(o){if(i._dragItem=o,s.dragStart)if(0==s.dragStart(o))return i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:s}),!1;s._raiseEvent(8,{label:o.label,value:o.value,originalEvent:t.args})}}}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){(t=this.host.find(".draggable")).off("dragging"),t.on("dragging",function(t){t.args.position;var s=i._trees;if(!i._dragCancel){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var r=!0,n=i._getMouseCoordinates(t);i._lastDraggingPosition=n,e.each(s,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),s=t.top+20,o=e(this).height()+s-40,a=(p=t.left)+e(this).width(),l=e.data(this,"jqxTree").instance;if(!l.disabled&&l.allowDrop){var d=l.vScrollInstance,h=l._hitTestBounds(l,n.left,n.top);if(null!=h&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(l.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=h,h.element)){i.feedbackElement.show();var c=h.top,u=n.top;i._dropPosition="before",u>c+h.height/3&&(c=h.top+h.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),u>h.top+h.height-h.height/3&&(c=h.top+h.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",c);var p=-2+parseInt(h.titleElement.offset().left);i.feedbackElement.css("left",p),i.feedbackElement.width(e(h.titleElement).width()+12)}n.left>=p&&n.left<a?(n.top+20>=s&&n.top<=s+l.host.height()&&(r=!1),n.top<s&&n.top>=s-30?(clearInterval(l._autoScrollTimer),0!=d.value&&i.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollUp(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):n.top>o&&n.top<o+30?(clearInterval(l._autoScrollTimer),d.value!=d.max&&i.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollDown(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):clearInterval(l._autoScrollTimer)):clearInterval(l._autoScrollTimer)}}),r&&i.feedbackElement&&i.feedbackElement.hide()}})},_handleDragEnd:function(t,i){t.off("dragEnd"),t.on("dragEnd",function(t){i.host.find(".draggable");clearInterval(i._autoScrollTimer);t.args.position;var s=i._trees,r=null,n=e.jqx.mobile.isTouchDevice()?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.each(s,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),s=t+e(this).width(),o=e.data(this,"jqxTree").instance;if(clearInterval(o._autoScrollTimer),null!=i._dragItem&&n.left>=t&&n.left<s){var a=parseInt(e(this).offset().top),l=a+e(this).height();n.top>=a&&n.top<=l&&(r=e(this))}});var o=i._dragItem;if(null!=r&&r.length>0){if(r.jqxTree("allowDrop")){var a=e.data(r[0],"jqxTree").instance,l=i._dragOverItem;if(null!=l&&i._dragOverItem.treeInstance.element.id==a.element.id){var d=!0;if(i.dragEnd&&(0==(d=i.dragEnd(o,l,t.args,i._dropPosition,r))&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),null==d&&(d=!0)),d){var h=function(){var e=i._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),i._dragItem.treeInstance=a,i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))};if("none"!=a.dropAction&&i._dragItem.id!=i._dragOverItem.id)if("inside"==i._dropPosition)a._drop(i._dragItem.element,i._dragOverItem.element,-1,a),h();else{var c=0;"after"==i._dropPosition&&c++,a._drop(i._dragItem.element,i._dragOverItem.parentElement,c+e(i._dragOverItem.element).index(),a),h()}a._render(!0,!1);var u=a.host.find(".draggable");i._syncItems(u),i._dragOverItem=null,i._dragItem=null,a._refreshMapping(),a._updateItemsNavigation(),a.selectedItem=null,a.selectItem(o.element),a.checkboxes&&a._updateCheckStates(),a._render(!0,!1)}}else if("none"!=a.dropAction&&a.allowDrop){d=!0;if(i.dragEnd&&(0==(d=i.dragEnd(o,l,t.args,i._dropPosition,r))&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),null==d&&(d=!0)),d){i._dragItem.parentElement=null,a._drop(i._dragItem.element,null,-1,a);var p=i._dragItem.treeInstance;p._refreshMapping(),p._updateItemsNavigation(),p.checkboxes&&p._updateCheckStates();u=p.host.find(".draggable");i._syncItems(u),i._dragItem.treeInstance=a,a.items[a.items.length]=i._dragItem,a._render(!0,!1),a._refreshMapping(),a.selectItem(o.element),a._updateItemsNavigation();u=a.host.find(".draggable");a._syncItems(u),a.checkboxes&&a._updateCheckStates(),i._dragOverItem=null,i._dragItem=null}}}}else if(i.dragEnd&&0==i.dragEnd(o,t.args))return!1;return null!=o&&i._raiseEvent(7,{label:o.label,value:o.value,originalEvent:t.args}),!1})},_drop:function(t,i,s,r){if(!(e(i).parents("#"+t.id).length>0||null!=i&&i.id==t.id)){var n;if(r.element.innerHTML.indexOf("UL"))var o=r.host.find("ul:first");if(null==i&&null==i)null==s||-1==s?o.append(t):0==o.children("li").eq(s).length?o.children("li").eq(s-1).after(t):o.children("li").eq(s)[0].id!=t.id&&o.children("li").eq(s).before(t);else if(null==s||-1==s)if(0==(n=(i=e(i)).find("ul:first")).length){var a=e("<ul></ul>");e(i).append(a),n=i.find("ul:first"),(l=r.itemMapping["id"+i[0].id].item).subtreeElement=n[0],l.hasItems=!0,n.addClass(r.toThemeProperty("jqx-tree-dropdown")),n.append(t),t=n.find("li:first"),l.parentElement=t}else n.append(t);else if(0==(n=(i=e(i)).find("ul:first")).length){var l;a=e("<ul></ul>");if(e(i).append(a),n=i.find("ul:first"),i)(l=r.itemMapping["id"+i[0].id].item).subtreeElement=n[0],l.hasItems=!0;n.addClass(r.toThemeProperty("jqx-tree-dropdown")),n.append(t),t=n.find("li:first"),l.parentElement=t}else 0==n.children("li").eq(s).length?n.children("li").eq(s-1).after(t):n.children("li").eq(s)[0].id!=t.id&&n.children("li").eq(s).before(t)}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.host.find(".draggable"),i=this;if(t.length>0)t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.width(r+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),!0===t.jqxDragDrop("isDestroyed")&&t.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}})}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var s in i)this._addFn(e.jqx._jqxDraw.prototype,i[s]);return e.jqx._jqxDraw.prototype,t},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var s=i.getRect();t._render({x:1,y:1,width:s.width,height:s.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,s,r){return e.jqx._widgetToImage(this,t,i,s,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var s=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+s[0]+s[1]+s[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var s=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(s);r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),s=e.jqx.hslToRgb(r);t="#";for(var n=0;n<3;n++){var o=Math.round(s[n]);1==(o=e.jqx.decToHex(o)).toString().length&&(t+="0"),t+=o}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,s){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(s)]},e.jqx.hexToRgb=function(t,i,s){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(s)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),r=parseFloat(t[2]);if(0==s)a=l=d=r;else var n=r<.5?r*(1+s):r+s-r*s,o=2*r-n,a=e.jqx.hueToRgb(o,n,i+1/3),l=e.jqx.hueToRgb(o,n,i),d=e.jqx.hueToRgb(o,n,i-1/3);return[255*a,255*l,255*d]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,s=parseFloat(e[0])/255,r=parseFloat(e[1])/255,n=parseFloat(e[2])/255,o=Math.max(s,r,n),a=Math.min(s,r,n),l=(o+a)/2;if(o==a)t=i=0;else{var d=o-a;switch(i=l>.5?d/(2-o-a):d/(o+a),o){case s:t=(r-n)/d+(r<n?6:0);break;case r:t=(n-s)/d+2;break;case n:t=(s-r)/d+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),o=Math.asin((e-i)/n)+r;return{x:e=i+Math.cos(o)*n,y:t=s+Math.sin(o)*n}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return(e*=s)%(t*=s)/s},e.jqx._rnd=function(t,i,s,r){if(isNaN(t))return t;void 0===r&&(r=!0);var n=t-(1==r?t%i:e.jqx._mod(t,i));return t==n?n:(s?t>n&&(n+=i):n>t&&(n-=i),1==i?Math.round(n):n)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,o){s||(s=1);var a=Math.abs(r-n),l=a>180?1:0;a>=360&&(n=r+359.99);var d=r*Math.PI*2/360,h=n*Math.PI*2/360,c=e,u=e,p=t,m=t,f=!isNaN(i)&&i>0;if(f&&(o=0),o+i>0){if(o>0){var g=(a/2+r)*Math.PI*2/360;e+=o*Math.cos(g),t-=o*Math.sin(g)}if(f){var v=i;c=e+v*Math.cos(d),p=t-v*Math.sin(d),u=e+v*Math.cos(h),m=t-v*Math.sin(h)}}var x=e+s*Math.cos(d),w=e+s*Math.cos(h),y=t-s*Math.sin(d),b=t-s*Math.sin(h),_="",j=Math.abs(Math.abs(n-r)-360)>.02;return f?(_="M "+u+","+m,_+=" a"+i+","+i,_+=" 0 "+l+",1 "+(c-u)+","+(p-m),_+=j?" L"+x+","+y:" M"+x+","+y,_+=" a"+s+","+s,_+=" 0 "+l+",0 "+(w-x)+","+(b-y),j&&(_+=" Z")):(_="M "+w+","+b,_+=" a"+s+","+s,_+=" 0 "+l+",1 "+(x-w)+","+(y-b),j&&(_+=" L"+e+","+t,_+=" Z")),_},measureText:function(t,i,s,r,n){var o=n._getTextParts(t,i,s),a=o.width,l=o.height;0==r&&(l/=.6);var d={};if(isNaN(i)&&(i=0),0==i)d={width:e.jqx._rup(a),height:e.jqx._rup(l)};else{var h=i*Math.PI*2/360,c=Math.abs(Math.sin(h)),u=Math.abs(Math.cos(h)),p=Math.abs(a*c+l*u),m=Math.abs(a*u+l*c);d={width:e.jqx._rup(m),height:e.jqx._rup(p)}}return r&&(d.textPartsInfo=o),d},alignTextInRect:function(t,i,s,r,n,o,a,l,d,h){var c=d*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),m=n*u,f=n*p;"center"==a||""==a||"undefined"==a?t+=s/2:"right"==a&&(t+=s),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-o/2:"top"==l&&(i+=o/2);var g="middle";-1!=(h=h||"").indexOf("top")?g="top":-1!=h.indexOf("bottom")&&(g="bottom");var v="center";return-1!=h.indexOf("left")?v="left":-1!=h.indexOf("right")&&(v="right"),"center"==v?(t-=f/2,i-=m/2):"right"==v&&(t-=f,i-=m),"top"==g?(t-=o*u,i+=o*p):"middle"==g&&(t-=o*u/2,i+=o*p/2),{x:t=e.jqx._rup(t),y:i=e.jqx._rup(i)}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),s=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){i=!0,s=!0;for(var r=this.host,n=0,o=0;r&&r.position&&r[0].parentNode;){var a=r.position();n+=parseFloat(a.left)-parseInt(a.left),o+=parseFloat(a.top)-parseInt(a.top),r=r.parent()}i=parseFloat(n)==parseInt(n),s=parseFloat(o)==parseInt(o)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),s||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?i=(i=i.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)void 0!==t[s]&&"NaN"===t[s].toString()?i.setAttribute(s,0):i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]};if(void 0===t)return r;var n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElementNS(this._svgns,"text");this.attr(a,s);for(var l=0;l<n.length;l++){var d,h=n[l],c=a.ownerDocument.createTextNode(h);a.appendChild(c),o.appendChild(a);try{d=a.getBBox()}catch(e){}var u=e.jqx._rup(d.width),p=e.jqx._rup(.6*d.height);a.removeChild(c),r.width=Math.max(r.width,u),r.height+=p+(l>0?4:0),r.parts.push({width:u,height:p,text:h})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,d,h,c){var u,p=this._measureText(t,o,a,!0).textPartsInfo,m=p.parts;if(d||(d="center"),h||(h="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var f=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(s)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(n)+2});this.setClip(u,f)}var g,v,x=this._activeParent();g=p.width,v=p.height,(isNaN(r)||r<=0)&&(r=g),(isNaN(n)||n<=0)&&(n=v);var w=r||0,y=n||0;if(!o||0==o){s+=v,"center"==h||"middle"==h?s+=(y-v)/2:"bottom"==h&&(s+=y-v),r||(r=g),n||(n=v);x=this._activeParent();for(var b=0,_=m.length-1;_>=0;_--){var j=document.createElementNS(this._svgns,"text");this.attr(j,a),this.attr(j,{cursor:"default"});var q=j.ownerDocument.createTextNode(m[_].text);j.appendChild(q);var T=i,C=m[_].width,S=m[_].height;"center"==d?T+=(w-C)/2:"right"==d&&(T+=w-C),this.attr(j,{x:e.jqx._rup(T),y:e.jqx._rup(s+b),width:e.jqx._rup(C),height:e.jqx._rup(S)}),x.appendChild(j),b-=m[_].height+4}return u?(this.endGroup(),u):j}var k=e.jqx.commonRenderer.alignTextInRect(i,s,r,n,g,v,d,h,o,c);i=k.x,s=k.y;var I=this.shape("g",{transform:"translate("+i+","+s+")"}),D=this.shape("g",{transform:"rotate("+o+")"});I.appendChild(D);for(b=0,_=m.length-1;_>=0;_--){var P=document.createElementNS(this._svgns,"text");this.attr(P,a),this.attr(P,{cursor:"default"});q=P.ownerDocument.createTextNode(m[_].text);P.appendChild(q);T=0,C=m[_].width,S=m[_].height;"center"==d?T+=(p.width-C)/2:"right"==d&&(T+=p.width-C),this.attr(P,{x:e.jqx._rup(T),y:e.jqx._rup(b),width:e.jqx._rup(C),height:e.jqx._rup(S)}),D.appendChild(P),b-=S+4}return x.appendChild(I),u&&this.endGroup(),I},line:function(e,t,i,s,r){var n=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(n,r),n},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=Math.max(1,e.jqx._rnd(s,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1));var o=this.shape("rect",{x:t,y:i,width:s,height:r});return n&&this.attr(o,n),o},circle:function(e,t,i,s){var r=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),d=this.shape("path");return d.setAttribute("d",l),a&&this.attr(d,a),d},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"linearGradient");this.attr(o,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r});for(var a=0;a<s.length;a++){var l=s[a],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),o.appendChild(d)}return this._defs.appendChild(o),this._gradients[n]=!0,n},_toRadialGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+"r"+(null!=s?s.key:""),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"radialGradient");null==s?this.attr(o,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(o,{cx:s.x,cy:s.y,r:s.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var a=0;a<i.length;a++){var l=i[a],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),o.appendChild(d)}return this._defs.appendChild(o),this._gradients[n]=!0,n}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var s=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){s=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]},n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElement("v:textbox");this.attr(a,s),o.appendChild(a);for(var l=0;l<n.length;l++){var d=n[l],h=document.createElement("span");h.appendChild(document.createTextNode(d)),a.appendChild(h),s&&s.class&&(h.className=s.class);var c=e(a),u=e.jqx._rup(c.width()),p=e.jqx._rup(.6*c.height());if(0==p&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=c.css("font-size");m&&(p=parseInt(m),isNaN(p)&&(p=0))}a.removeChild(h),r.width=Math.max(r.width,u),r.height+=p+(l>0?2:0),r.parts.push({width:u,height:p,text:d})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,d,h){var c;a&&a.stroke&&(c=a.stroke),null==c&&(c="black");var u,p=this._measureText(t,o,a,!0),m=p.textPartsInfo.parts,f=p.width,g=p.height;if((isNaN(r)||0==r)&&(r=f),(isNaN(n)||0==n)&&(n=g),d||(d="center"),h||(h="center"),(m.length>0||l)&&(u=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(s),width:e.jqx._rup(r),height:e.jqx._rup(n)});this.setClip(u,v)}var x=this._activeParent(),w=r||0,y=n||0,b=0,_=0;"center"==d?b+=(w-f)/2:"right"==d&&(b+=w-f),"center"==h?_=(y-g)/2:"bottom"==h&&(_=y-g),0==(o=Math.abs(o)>45?90:0)?(s+=g+_,i+=b):(i+=f+b,s+=_);for(var j,q=0,T=m.length-1;T>=0;T--){var C=m[T],S=(f-C.width)/2;0==o&&"left"==d?S=0:0==o&&"right"==d?S=f-C.width:90==o&&(S=(g-C.width)/2);var k=q-C.height;_=90==o?S:k,b=90==o?k:S,(j=document.createElement("v:textbox")).style.position="absolute",j.style.left=e.jqx._rup(i+b),j.style.top=e.jqx._rup(s+_),j.style.width=e.jqx._rup(C.width),j.style.height=e.jqx._rup(C.height),90==o&&(j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",j.style.height=e.jqx._rup(C.height)+5);var I=document.createElement("span");I.appendChild(document.createTextNode(C.text)),a&&a.class&&(I.className=a.class),j.appendChild(I),x.appendChild(j),q-=C.height+(T>0?2:0)}return u?(this.endGroup(),x):j},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){var n="M "+e+","+t+" L "+i+","+s+" X E",o=this.path(n);return this.attr(o,r),o},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=e.jqx._rup(s),r=e.jqx._rup(r);var o=this.shape("rect",n);return o.style.position="absolute",o.style.left=t,o.style.top=i,o.style.width=s,o.style.height=r,o.strokeweight=0,n&&this.attr(o,n),o},circle:function(t,i,s,r){var n=this.shape("oval");return t=e.jqx._ptrnd(t-s),i=e.jqx._ptrnd(i-s),s=e.jqx._rup(s),n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=2*s,n.style.height=2*s,r&&this.attr(n,r),n},updateCircle:function(t,i,s,r){null==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),null==s&&(s=parseFloat(t.style.top)+parseFloat(t.style.height)/2),null==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),s=e.jqx._ptrnd(s-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=s,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,s,r,n,o,a){r||(r=1);var l=Math.abs(n-o);l>360&&(n=0,o=360);var d=n*Math.PI*2/360,h=o*Math.PI*2/360,c=t,u=i,p=!isNaN(s)&&s>0;if(p&&(a=0),a>0){var m=(l/2+n)*Math.PI*2/360;t+=a*Math.cos(m),i-=a*Math.sin(m)}if(p){var f=s;c=e.jqx._ptrnd(t+f*Math.cos(d)),u=e.jqx._ptrnd(i-f*Math.sin(d)),e.jqx._ptrnd(t+f*Math.cos(h)),e.jqx._ptrnd(i-f*Math.sin(h))}e.jqx._ptrnd(t+r*Math.cos(d));var g=e.jqx._ptrnd(t+r*Math.cos(h)),v=(e.jqx._ptrnd(i-r*Math.sin(d)),e.jqx._ptrnd(i-r*Math.sin(h)));r=e.jqx._ptrnd(r),s=e.jqx._ptrnd(s),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var x=Math.round(65535*n),w=Math.round(65536*(o-n));s<0&&(s=1);var y="";return p?(y="M"+c+" "+u,y+=" AE "+t+" "+i+" "+s+" "+s+" "+x+" "+w,y+=" L "+g+" "+v,x=Math.round(65535*(n-o)),y+=" AE "+t+" "+i+" "+r+" "+r+" "+(w=Math.round(65536*o))+" "+x,y+=" L "+c+" "+u):(y="M"+t+" "+i,y+=" AE "+t+" "+i+" "+r+" "+r+" "+x+" "+w),y+=" X E"},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),d=this.path(l,a);return a&&this.attr(d,a),d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);null!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,s){if(this._ie8mode)return t;var r="grd"+t.replace("#","")+(i?"v":"h"),n="#"+r;if(this._gradients[n])return n;var o=document.createElement(this._createElementMarkup("fill"));o.type="gradient",o.method="linear",o.angle=i?0:90;for(var a="",l=0;l<s.length;l++){var d=s[l];d>0&&(a+=", "),a+=d[0]+"% "+e.jqx.adjustColor(t,d[1])}o.colors=a;var h=document.createElement(this._createElementMarkup("shapetype"));return h.appendChild(o),h.id=r,this.canvas.appendChild(h),n}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var s in t)i[s]=t[s];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){var r=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.path(this.pieSlicePath(e,t,i,s,r,n,o),a);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(t,i,s){var r="Arial",n="10pt",o="";if(s&&s.class){var a=this._getCSSStyle(s.class);a.fontSize&&(n=a.fontSize),a.fontFamily&&(r=a.fontFamily),a.fontWeight&&(o=a.fontWeight)}this.ctx.font=o+" "+n+" "+r;for(var l={width:0,height:0,parts:[]},d=t.toString().split("<br>"),h=0;h<d.length;h++){var c=d[h],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var m=.6*p.offsetHeight;document.body.removeChild(p),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=m+(h>0?4:0),l.parts.push({width:u,height:m,text:c})}return l},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d,h){var c=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:a,halign:l,valign:d,rotateAround:h});if(o&&this.attr(c,o),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",o&&o.class){var u=this._getCSSStyle(o.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,o,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(s<=0||isNaN(s))&&this.attr(c,{width:p.width}),(r<=0||isNaN(r))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,s){if(this._renderers._gradients[t])return t;for(var r=[],n=0;n<s.length;n++)r.push({percent:s[n][0]/100,color:e.jqx.adjustColor(t,s[n][1])});var o="gr"+this._gradientId++;return this.createGradient(o,i?"vertical":"horizontal",r),o},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",s),n},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var s=t.ctx;if(s.fillStyle="transparent",null!=i["fill-opacity"]?s.globalAlpha=i["fill-opacity"]:null!=i.opacity?s.globalAlpha=i.opacity:s.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,n="horizontal"!=t._gradients[i.fill].orientation,o="radial"==t._gradients[i.fill].orientation,a=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),d=e.jqx.ptrnd(i.x+(n?0:i.width)),h=e.jqx.ptrnd(i.y+(n?i.height:0));if(("circle"==i.type||"path"==i.type||"rect"==i.type)&&o){var c=e.jqx.ptrnd(i.x),u=e.jqx.ptrnd(i.y),p=i.innerRadius||0,m=i.outerRadius||i.r||0;"rect"==i.type&&(c+=i.width/2,u+=i.height/2),r=s.createRadialGradient(c,u,p,c,u,m)}o||((isNaN(a)||isNaN(d)||isNaN(l)||isNaN(h))&&(a=0,l=0,d=n?0:s.canvas.width,h=n?s.canvas.height:0),r=s.createLinearGradient(a,l,d,h));for(var f=t._gradients[i.fill].colorStops,g=0;g<f.length;g++)r.addColorStop(f[g].percent,f[g].color);s.fillStyle=r}else i.fill&&(s.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var s=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(null==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==s)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{n=this._parsePoint(i),o=this._parsePoint(i);e.quadraticCurveTo(n.x,n.y,o.x,o.y),this._currentPoint=o}else{var n=this._parsePoint(i),o=this._parsePoint(i),a=this._parsePoint(i);e.bezierCurveTo(n.x,n.y,o.x,o.y,a.x,a.y),this._currentPoint=a}else e.lineTo(s.x,s.y),this._currentPoint=s;else{var l=this._parseNumber(i),d=this._parseNumber(i),h=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==d)continue;var m=this._currentPoint,f={x:Math.cos(h)*(m.x-p.x)/2+Math.sin(h)*(m.y-p.y)/2,y:-Math.sin(h)*(m.x-p.x)/2+Math.cos(h)*(m.y-p.y)/2},g=Math.pow(f.x,2)/Math.pow(l,2)+Math.pow(f.y,2)/Math.pow(d,2);g>1&&(l*=Math.sqrt(g),d*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(d,2)-Math.pow(l,2)*Math.pow(f.y,2)-Math.pow(d,2)*Math.pow(f.x,2))/(Math.pow(l,2)*Math.pow(f.y,2)+Math.pow(d,2)*Math.pow(f.x,2)));isNaN(v)&&(v=0);var x={x:v*l*f.y/d,y:v*-d*f.x/l},w={x:(m.x+p.x)/2+Math.cos(h)*x.x-Math.sin(h)*x.y,y:(m.y+p.y)/2+Math.sin(h)*x.x+Math.cos(h)*x.y},y=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},j=_([1,0],[(f.x-x.x)/l,(f.y-x.y)/d]),q=[(f.x-x.x)/l,(f.y-x.y)/d],T=[(-f.x-x.x)/l,(-f.y-x.y)/d],C=_(q,T);b(q,T)<=-1&&(C=Math.PI),b(q,T)>=1&&(C=0),0==u&&C>0&&(C-=2*Math.PI),1==u&&C<0&&(C+=2*Math.PI);b=l>d?l:d;var S=l>d?1:l/d,k=l>d?d/l:1;e.translate(w.x,w.y),e.rotate(h),e.scale(S,k),e.arc(0,0,b,j,j+C,1-u),e.scale(1/S,1/k),e.rotate(-h),e.translate(-w.x,-w.y)}else{if(null==(I=this._parsePoint(i)))break;e.lineTo(I.x,I.y),this._currentPoint=I}else{var I;if(null==(I=this._parsePoint(i)))break;e.moveTo(I.x,I.y),this._currentPoint=I,null==s&&(s=I)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var s=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),n=e.jqx.ptrnd(i.width),o=e.jqx.ptrnd(i.height),a=i.halign,l=i.valign,d=i.angle,h=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;null==p&&(p=!0),t.save(),a||(a="center"),l||(l="center"),p&&(t.rect(s,r,n,o),t.clip());var m=i.textWidth,f=i.textHeight,g=n||0,v=o||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,d&&0!=d){var x=e.jqx.commonRenderer.alignTextInRect(s,r,n,o,m,f,a,l,d,h);s=x.x,r=x.y;var w=d*Math.PI*2/360;t.translate(s,r),t.rotate(w);b=0;var y=c.width;for(_=u.length-1;_>=0;_--){q=0;"center"==a?q+=(y-u[_].width)/2:"right"==a&&(q+=y-u[_].width),t.fillText(u[_].text,q,b),b-=u[_].height+4}t.restore()}else{r+=f,"center"==l||"middle"==l?r+=(v-f)/2:"bottom"==l&&(r+=v-f),n||(n=m),o||(o=f);for(var b=0,_=u.length-1;_>=0;_--){var j=u[_],q=s,T=u[_].width;u[_].height;"center"==a?q+=(g-T)/2:"right"==a&&(q+=g-T),t.fillText(j.text,q,r+b),b-=j.height+(_>0?4:0)}t.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var s=t,r=s.renderer=null;if(document.createElementNS&&"HTML5"!=s.renderEngine&&"VML"!=s.renderEngine&&!(r=new e.jqx.svgRenderer).init(i)){if("SVG"==s.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=s.renderEngine){if(!(r=new e.jqx.vmlRenderer).init(i)){if("VML"==s.renderEngine)throw"Your browser does not support VML";return null}s._isVML=!0}if(null==r&&("HTML5"==s.renderEngine||null==s.renderEngine)&&!(r=new e.jqx.HTML5Renderer).init(i))throw"Your browser does not support HTML5 Canvas";return s.renderer=r,r},e.jqx._widgetToImage=function(t,i,s,r,n,o){var a=t;if(!a)return!1;null!=s&&""!=s||(s="image."+i);var l=a.renderEngine,d=a.enableAnimations;if(a.enableAnimations=!1,a.renderEngine="HTML5",a.renderEngine!=l)try{a.refresh()}catch(e){return a.renderEngine=l,a.refresh(),a.enableAnimations=d,!1}var h=a.renderer.getContainer().find("canvas")[0],c=!0;e.isFunction(o)&&(c=o(t,h));var u=!0;return c&&(u=e.jqx.exportImage(h,i,s,r,n)),a.renderEngine!=l&&(a.renderEngine=l,a.refresh(),a.enableAnimations=d),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,s,r,n){if(!t)return!1;var o="pdf"===i.toLowerCase();if(o&&(i="jpeg"),null!=s&&""!=s||(s="image."+i),null==r||""==r)throw"Please specifiy export server";var a=!0;try{if(t){var l=t.toDataURL("image/"+i);if(o){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=595;switch(e.jqx.pdfExport.paperSize){case"legal":d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=1008);break;case"letter":d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=792);break;case"a3":d=841;"portrait"!==e.jqx.pdfExport.orientation&&(d=1190);break;case"a4":d=595;"portrait"!==e.jqx.pdfExport.orientation&&(d=842);break;case"a5":d=420;"portrait"!==e.jqx.pdfExport.orientation&&(d=595)}var h=72*e(t).width()/96;h>=d-20&&(h=d-20);try{var c=new window.pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize)}catch(t){c=new window.jqxPdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize)}return c.addImage(l,"JPEG",10,10,h,0),void c.save(s)}if(l=l.replace("data:image/"+i+";base64,",""),n)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:s},async:!1,success:function(e,t,i){a=!0},error:function(e,t,i){a=!1}});else{var u=document.createElement("form");u.method="POST",u.action=r,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=s,p.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",u.appendChild(p),u.appendChild(m),u.submit(),document.body.removeChild(u),a=!0}}}catch(e){a=!1}return a}}(jqxBaseFramework),function(e){window.jqxPlot=function(){},window.jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r>i)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(t,i,s,r){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!r||!0!==r.ignore_range))return NaN;var n=NaN,o=1;if(void 0===i.type||"logarithmic"!=i.type){var a=Math.abs(i.max-i.min);a||(a=1),o=Math.abs(t-Math.min(i.min,i.max))/a}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var d=Math.min(i.min,i.max);d<=0&&(d=1);var h=Math.max(i.min,i.max);h<=0&&(h=1);var c=e.jqx.log(h,l);h=Math.pow(l,c);var u=e.jqx.log(d,l);d=Math.pow(l,u);var p=e.jqx.log(t,l);o=Math.abs(p-u)/(c-u)}if("logarithmic"===s.type){l=s.base;isNaN(l)&&(l=10);c=e.jqx.log(s.max,l),u=e.jqx.log(s.min,l);s.flip&&(o=1-o);p=Math.min(u,c)+o*Math.abs(c-u);n=Math.pow(l,p)}else n=Math.min(s.min,s.max)+o*Math.abs(s.max-s.min),s.flip&&(n=Math.max(s.min,s.max)-n+s.min);return n},axis:function(t,i,s){if(s<=1)return[i,t];(isNaN(s)||s<2)&&(s=2);for(var r=0;Math.round(t)!=t&&Math.round(i)!=i&&r<10;)t*=10,i*=10,r++;for(var n=(i-t)/s;r<10&&Math.round(n)!=n;)t*=10,i*=10,n*=10,r++;for(var o=[1,2,5],a=0;;){var l=a%o.length,d=Math.floor(a/o.length),h=Math.pow(10,d)*o[l];l=(a+1)%o.length,d=Math.floor((a+1)/o.length);var c=Math.pow(10,d)*o[l];if(n>=h&&n<c)break;a++}for(var u=c,p=[],m=e.jqx._rnd(t,u,!1),f=r<=0?1:Math.pow(10,r);m<i+u;)p.push(m/f),m+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:17,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",placeHolder:"",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:1500,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,hint:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;i.width||(i.width=200),i.height||(i.height=25),i.isanimating=!1;var s=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(i.isMaterialized()){var r=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation");r&&"default"==this.animationType&&(this.animationType=r.trim())}i.host.attr("tabindex")?(s.attr("tabindex",i.host.attr("tabindex")),i.host.removeAttr("tabindex")):s.attr("tabindex",0),i.focusable||s.removeAttr("tabIndex"),e.jqx.aria(this),i.popupContent=i.host.children(),i.host.attr("role","button"),0==i.popupContent.length?(i.popupContent=e("<div>"+i.host.text()+"</div>"),i.popupContent.css("display","block"),i.element.innerHTML=""):i.popupContent.detach();var n=this;i.addHandler(i.host,"loadContent",function(e){n._arrange()});try{var o="dropDownButtonPopup"+i.element.id,a=e(e.find("#"+o));a.length>0&&a.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",o);var l=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+i.element.id+"'></div>");l.addClass(i.toThemeProperty("jqx-widget-content")),l.addClass(i.toThemeProperty("jqx-dropdownbutton-popup")),l.addClass(i.toThemeProperty("jqx-popup")),l.addClass(i.toThemeProperty("jqx-rc-all")),"element"!=i.dropDownContainer&&l.css("z-index",i.popupZIndex),l.addClass(i.toThemeProperty("jqx-listbox-container")),e.jqx.browser.msie&&l.addClass(i.toThemeProperty("jqx-noshadow")),i.popupContent.appendTo(l),"element"==i.dropDownContainer?l.appendTo(i.host):l.appendTo(document.body),i.container=l,i.container.css("visibility","hidden")}catch(e){}i.touch=e.jqx.mobile.isTouchDevice(),i.dropDownButtonStructure=s,i.host.append(s),i.dropDownButtonWrapper=i.host.find("#dropDownButtonWrapper"),i.firstDiv=i.dropDownButtonWrapper.parent(),i.dropDownButtonArrow=i.host.find("#dropDownButtonArrow"),i.arrow=e(i.dropDownButtonArrow.children()[0]),i.dropDownButtonContent=i.host.find("#dropDownButtonContent"),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content")),i.dropDownButtonWrapper.addClass(i.toThemeProperty("jqx-disableselect")),i.rtl&&i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-rtl"));var d=this;i.host.parents()&&i.addHandler(i.host.parents(),"scroll.dropdownbutton"+i.element.id,function(e){d.isOpened()&&d.close()}),i.addHandler(i.dropDownButtonWrapper,"selectstart",function(){return!1}),i.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+i.element.id,i.dropDownButtonArrow[0].id="dropDownButtonArrow"+i.element.id,i.dropDownButtonContent[0].id="dropDownButtonContent"+i.element.id;d=this;i.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},i.disabled&&(i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled")));var h=i.toThemeProperty("jqx-rc-all")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-widget")+" "+i.toThemeProperty("jqx-widget-content")+" "+i.toThemeProperty("jqx-dropdownlist-state-normal");if(i.host.addClass(h),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.arrow.addClass(i.toThemeProperty("jqx-icon")),i.template&&i.host.addClass(i.toThemeProperty("jqx-"+i.template)),i._setSize(),i.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.container.css("display","none"),i.host.parents(".jqx-window").length>0)){var c=i.host.parents(".jqx-window").css("z-index");l.css("z-index",c+10),i.container.css("z-index",c+10)}},setContent:function(e){var t=this;t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return this.dropDownButtonContent.text();this.dropDownButtonContent.html(e)},getContent:function(){var e=this;return e.dropDownButtonContent.children().length>0?e.dropDownButtonContent.children():e.dropDownButtonContent.text()},_setSize:function(){var t=this,i=window.getComputedStyle(this.element),s=2*parseInt(i.borderLeftWidth);("border-box"===i.boxSizing||isNaN(s))&&(s=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-s+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-s+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-s+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-s+"px");var r=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(r=!0,t.host.width(t.width),s>0&&this.host.css("box-sizing","border-box")),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(r=!0,t.host.height(t.height));var n=this;r&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){n._arrange()})},isOpened:function(){var t=e.data(document.body,"openedJQXButton"+this.element.id);return null!=t&&t==this.popupContent},focus:function(){try{this.host.focus()}catch(e){}},render:function(){(s=this).removeHandlers();var t=this;s.touch||(s.addHandler(s.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),s.addHandler(s.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),!1)})),t.autoOpen&&(s.addHandler(s.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),s.addHandler(e(document),"mousemove."+t.element.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top,l=!0;e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=a&&e.pageY<=a+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(l=!1),l&&t.close()}})),s.addHandler(s.dropDownButtonWrapper,"mousedown",function(e){if(!t.disabled){var i="visible"==t.container.css("visibility");if(!t.isanimating){if(i)return t.close(),!1;t.open(),t.focusable||e.preventDefault&&e.preventDefault()}}}),s.touch&&s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+s.element.id,t.closeOpenedDropDown,{me:this,popup:s.container,id:s.element.id}),s.addHandler(e(document),"mousedown."+s.element.id,t.closeOpenedDropDown,{me:this,popup:s.container,id:s.element.id}),s.addHandler(s.host,"keydown",function(e){var i="visible"==t.container.css("visibility");return"none"==t.host.css("display")||("13"==e.keyCode&&(t.isanimating||i&&t.close()),115==e.keyCode?(t.isanimating||(t.isOpened()?t.isOpened()&&t.close():t.open()),!1):(e.altKey&&"block"==t.host.css("display")&&(38==e.keyCode?t.isOpened()&&t.close():40==e.keyCode&&(t.isOpened()||t.open())),void("27"==e.keyCode&&(t.ishiding||(t.close(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex))))))}),s.addHandler(s.firstDiv,"focus",function(){t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),s.addHandler(s.firstDiv,"blur",function(){t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))});var i=e("<label></label");this.hint&&(i[0].innerHTML=this.placeHolder),i.addClass(t.toThemeProperty("jqx-input-label")),t.dropDownButtonWrapper.append(i),t.label=i;var s,r=e("<span></span>");t.dropDownButtonWrapper.append(r),r.addClass(t.toThemeProperty("jqx-input-bar")),t.bar=r,t.bar.css("top",this.host.height()),(s=this).template&&(s.bar.addClass(s.toThemeProperty("jqx-"+s.template)),s.label.addClass(s.toThemeProperty("jqx-"+s.template)))},removeHandlers:function(){var t=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=this,n=t.outerWidth(),o=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(i.left+n>a&&n>r.host.width()){var d=r.host.coord().left,h=n-r.host.width();i.left=d-h+2}return i.left<0&&(i.left=parseInt(r.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+s+22):0),i},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var s=t.host.width();t.container.width(parseInt(s))}i._raiseEvent("2");var r,n=t.popupContent,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),a=parseInt(Math.round(t.host.coord(!0).left));r=a+"px";t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,n.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",o);var d=!1,h=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(a))-i+"px"):t.container.css("left",parseInt(Math.round(a))+i+"px")}};if(h.call(this),"top"==t.dropDownVerticalAlignment){var c=n.height();d=!0,t.container.height(n.outerHeight()),n.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(t.host.outerHeight()),p=parseInt(o)-Math.abs(c+u);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(n.outerHeight()!=t.container.height()){t.container.height(n.outerHeight());var e=parseInt(o)-Math.abs(n.height()+u);t.container.css("top",e)}},50),n.css("top",23),t.container.css("top",p)}if(t.enableBrowserBoundsDetection){var m=t.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=m.top?(d=!0,t.container.height(n.outerHeight()),n.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(n.outerHeight()!=i.container.height()){var e=i.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(n.outerHeight())}},50)):n.css("top",0),t.container.css("top",m.top),parseInt(t.container.css("left"))!=m.left&&t.container.css("left",m.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,n),n.css("margin-top",0),n.css("opacity",1),t._raiseEvent("0"),h.call(i);else if("transform"===t.animationType)t.container.css("visibility","visible"),t.container.css("display","block"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,n),n.css("margin-top",0),n.css("opacity",1),t._raiseEvent("0"),h.call(i);else{t.container.css("visibility","visible");var f=n.outerHeight();i.isanimating=!0,"fade"==t.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),h.call(i)):(n.css("opacity",1),d?n.css("margin-top",f):n.css("margin-top",-f),h.call(i),n.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}d?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),t.container.addClass("jqx-popup-show")},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,i=t.popupContent,s=t.container,r=this;r._raiseEvent("3");var n=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(n=!0),t.isOpened()){if(s.removeClass("jqx-popup-show"),e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),n&&t.container.css("display","none");else if("transform"===t.animationType)setTimeout(function(){r.isanimating=!1,t.container.css("visibility","hidden"),t.container.css("display","none")},this.closeDelay);else if(!r.ishiding){r.isanimating=!0,i.stop();var o=i.outerHeight();i.css("margin-top",0);var a=-o;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(a=o),"fade"==t.animationType?(i.css({opacity:1}),i.animate({opacity:0},t.closeDelay,function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,n&&s.css("display","none")})):i.animate({"margin-top":a},t.closeDelay,function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,n&&s.css("display","none")})}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,s=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(s.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}}),r||i.close(),!0},refresh:function(){this._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(r>0&&(e.dropDownButtonContent[0].style.width=r+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(s)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-3)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,t.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(t,i){var s=this;null==i&&(i={owner:null}),2!=t||s.contentInitialized||s.initContent&&(s.initContent(),s.contentInitialized=!0);var r=s.events[t];i.owner=this;var n=new e.Event(r);return n.owner=this,2!=t&&3!=t&&4!=t||(n.args=i),s.host.trigger(n)},resize:function(e,t){var i=this;i.width=e,i.height=t,i._setSize(),i._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(t,i,s,r){null!=this.isInitialized&&0!=this.isInitialized&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("dropDownVerticalAlignment"===i&&t.close(),"template"==i&&(t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"rtl"==i&&(r?(t.dropDownButtonArrow.css("float","left"),t.dropDownButtonContent.css("float","right")):(t.dropDownButtonArrow.css("float","right"),t.dropDownButtonContent.css("float","left"))),"autoOpen"==i&&t.render(),"theme"==i&&null!=r&&e.jqx.utilities.setTheme(s,r,t.host),"width"!=i&&"height"!=i||(t._setSize(),t._arrange())))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:17,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:2e3,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,hint:!0,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){if(this.isMaterialized()){var t=window.getComputedStyle(this.element),i=t.getPropertyValue("--jqx-dropdown-animation"),s=t.getPropertyValue("--jqx-list-item-height");i&&"default"==this.animationType&&(this.animationType=i.trim()),s&&-1===this.itemHeight&&(this.itemHeight=parseInt(s))}this.render()},render:function(){(c=this).width||(c.width=200),c.height||(c.height=25),c.host.addClass(c.toThemeProperty("jqx-dropdownlist"));var t=c.element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){c.field=c.element,c.field.className&&(c._className=c.field.className);var i={title:c.field.title};c.field.id.length?i.id=c.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",i);c.width||(c.width=e(c.field).width()),c.height||(c.height=e(c.field).outerHeight()),s[0].style.cssText=c.field.style.cssText,e(c.field).hide().after(s);var r=c.host.data();if(c.host=s,c.host.data(r),c.element=s[0],c.element.id=c.field.id,c.field.id=i.id,c._className&&(c.host.addClass(c._className),e(c.field).removeClass(c._className)),c.field.tabIndex){var n=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=n}var o=e.jqx.parseSourceTag(c.field);c.source=o.items,-1==c.selectedIndex&&(c.selectedIndex=o.index)}else if(c.host.find("li").length>0||c.host.find("option").length>0){o=e.jqx.parseSourceTag(c.element);c.source=o.items}c.element.innerHTML="",c.isanimating=!1,c.id=c.element.id||e.jqx.utilities.createId(),c.host.attr("role","combobox"),e.jqx.aria(c,"aria-autocomplete","both"),e.jqx.aria(c,"aria-readonly",!1);var a="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");c.host.attr("tabindex")||c.host.attr("tabindex",0);c.touch=e.jqx.mobile.isTouchDevice(),c.comboStructure=a,c.element.innerHTML=a,c.dropdownlistWrapper=e(c.element.firstChild.firstChild),c.dropdownlistArrow=e(c.dropdownlistWrapper[0].firstChild.nextSibling),c.arrow=e(c.dropdownlistArrow[0].firstChild),c.dropdownlistContent=e(c.dropdownlistWrapper[0].firstChild),c.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),c.rtl&&c.dropdownlistContent.addClass(c.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),c.addHandler(c.dropdownlistWrapper,"selectstart",function(){return!1}),c.dropdownlistWrapper[0].id="dropdownlistWrapper"+c.element.id,c.dropdownlistArrow[0].id="dropdownlistArrow"+c.element.id,c.dropdownlistContent[0].id="dropdownlistContent"+c.element.id,c._addInput();var l=e("<label></label");this.hint&&(l[0].innerHTML=this.placeHolder),l.addClass(c.toThemeProperty("jqx-input-label")),c.dropdownlistWrapper.append(l),c.label=l;var d=e("<span></span>");c.dropdownlistWrapper.append(d),d.addClass(c.toThemeProperty("jqx-input-bar")),c.bar=d,c.bar.css("top",this.host.height());var h=this;h.template&&(h.bar.addClass(h.toThemeProperty("jqx-"+h.template)),h.label.addClass(h.toThemeProperty("jqx-"+h.template))),"Please Choose:"!=c.promptText&&(c.placeHolder=c.promptText);var c,u=c.toThemeProperty("jqx-widget")+" "+c.toThemeProperty("jqx-dropdownlist-state-normal")+" "+c.toThemeProperty("jqx-rc-all")+" "+c.toThemeProperty("jqx-fill-state-normal");c.element.className+=" "+u,c._firstDiv=e(c.element.firstChild);try{var p="listBox"+c.id,m=e(e.find("#"+p));m.length>0&&m.remove(),e.jqx.aria(c,"aria-owns",p),e.jqx.aria(c,"aria-haspopup",!0);var f=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+c.id+"'><div id='innerListBox"+c.id+"'></div></div>");f.hide(),f.addClass(c.toThemeProperty("jqx-listbox-container")),"element"==c.dropDownContainer?f.appendTo(c.host):f.appendTo(document.body),c.container=f,c.listBoxContainer=e(e.find("#innerListBox"+c.id));var g=c.width;"auto"!=c.dropDownWidth&&(g=c.dropDownWidth),null==g&&0==(g=c.host.width())&&(g=c.dropDownWidth),null==c.dropDownHeight&&(c.dropDownHeight=200);c.container.width(parseInt(g)+25),c.container.height(parseInt(c.dropDownHeight)+25),c._ready=!1,c.addHandler(c.listBoxContainer,"bindingComplete",function(t){c.listBox||(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance),c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse"),c._ready||(c.ready&&c.ready(),c._ready=!0),c._raiseEvent("6")}),c.addHandler(c.listBoxContainer,"itemAdd",function(e){c._raiseEvent("7",e.args)}),c.addHandler(c.listBoxContainer,"itemRemove",function(e){c._raiseEvent("8",e.args)}),c.addHandler(c.listBoxContainer,"itemUpdate",function(e){c._raiseEvent("9",e.args)}),c.listBoxContainer.jqxListBox({filterHeight:c.filterHeight,filterPlaceHolder:c.filterPlaceHolder,filterDelay:c.filterDelay,autoItemsHeight:c.autoItemsHeight,filterable:c.filterable,allowDrop:!1,allowDrag:!1,autoBind:c.autoBind,_checkForHiddenParent:!1,focusable:c.focusable,touchMode:c.touchMode,checkboxes:c.checkboxes,rtl:c.rtl,_renderOnDemand:!0,emptyString:c.emptyString,itemHeight:c.itemHeight,width:g,searchMode:c.searchMode,incrementalSearch:c.incrementalSearch,incrementalSearchDelay:c.incrementalSearchDelay,groupMember:c.groupMember,searchMember:c.searchMember,displayMember:c.displayMember,valueMember:c.valueMember,height:c.dropDownHeight,autoHeight:c.autoDropDownHeight,scrollBarSize:c.scrollBarSize,selectedIndex:c.selectedIndex,source:c.source,theme:c.theme,rendered:function(){c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse")},renderer:c.renderer,filterChange:function(e){c.autoDropDownHeight&&c.container.height(c.listBoxContainer.height()+25)}}),"element"===c.dropDownContainer?c.listBoxContainer.css({position:"absolute",top:0,left:0}):c.listBoxContainer.css({position:"absolute",zIndex:c.popupZIndex,top:0,left:0}),c.template&&c.listBoxContainer.addClass(c.toThemeProperty("jqx-"+c.template+"-item")),c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBox.enableSelection=c.enableSelection,c.listBox.enableHover=c.enableHover,c.listBox.equalItemsWidth=c.equalItemsWidth,c.listBox.selectIndex(c.selectedIndex),c.listBox._arrange(),c.listBoxContainer.addClass(c.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&c.listBoxContainer.addClass(c.toThemeProperty("jqx-noshadow")),c.addHandler(c.listBoxContainer,"unselect",function(e){c._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),c.addHandler(c.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?c._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(c.isOpened()||c._raiseEvent("4",{index:c.selectedIndex,type:"keyboard",item:c.getItem(c.selectedIndex)})))}),"none"==c.animationType?c.container.css("display","none"):c.container.hide()}catch(e){console&&console.log(e)}if((c=c).propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},c.disabled&&(c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==c.dropDownVerticalAlignment?c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-up")):c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c.arrow.addClass(c.toThemeProperty("jqx-icon")),"simple"===c.renderMode&&(c.arrow.remove(),c.host.removeClass(c.toThemeProperty("jqx-fill-state-normal")),c.host.removeClass(c.toThemeProperty("jqx-rc-all"))),c.template&&c.host.addClass(c.toThemeProperty("jqx-"+c.template)),c._updateHandlers(),c._setSize(),c._arrange(),c.listBox&&c.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&c.host.parents(".jqx-window").length>0){var v=c.host.parents(".jqx-window").css("z-index");f.css("z-index",v+10),c.listBoxContainer.css("z-index",v+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length))return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var t=window.getComputedStyle(this.element),i=2*parseInt(t.borderLeftWidth),s=t.boxSizing;0===this.element.offsetWidth&&(i=2),("border-box"===s||isNaN(i))&&(i=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-i+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-i+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-i+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-i+"px");var r=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(r=!0,this.element.style.width=this.width,i>0&&(this.host.css("box-sizing","border-box"),this.listBoxContainer.css("box-sizing","border-box"))),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(r=!0,this.element.style.height=this.height);var n=this;if(r){var o=this.host.width()+2;"auto"!=this.dropDownWidth&&(o=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25)}e.jqx.utilities.resize(this.host,function(){!function(){if(n._arrange(),"auto"==n.dropDownWidth){var e=n.host.width()+2;n.listBoxContainer.jqxListBox({width:e}),n.container.width(parseInt(e)+25)}}()},!1,this._checkForHiddenParent)},isOpened:function(){var t=e.data(document.body,"openedJQXListBox"+this.id);return null!=t&&t==this.listBoxContainer},_updateHandlers:function(){var t=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top,l=!0;e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=a&&e.pageY<=a+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(l=!1),l&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),null==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.addClass("focused"),t.label.addClass("focused")}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.removeClass("focused"),t.label.removeClass("focused")}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.addClass("focused"),t.label.addClass("focused")}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.removeClass("focused"),t.label.removeClass("focused")})},removeHandlers:function(){var t="mousedown";this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(this.hint&&(this.label&&(this.label[0].innerHTML=this.placeHolder),null!=t?this.element.setAttribute("hint",!0):this.element.removeAttribute("hint")),this.bar.css("top",this.host.height()),null==t){var o;(o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder),this.isMaterialized()&&!this.element.getAttribute("default-placeholder")&&this.hint&&(o[0].innerHTML="",this.label&&(this.label[0].innerHTML=this.placeHolder));var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var d=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var h=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(d))/2);return"border-box"===this.host.css("box-sizing")&&(c=parseInt((parseInt(h-2)-parseInt(d))/2)),c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(o=e(document.createElement("span")))[0].setAttribute("unselectable","on");try{o[0].style.color="inherit"}catch(e){}o[0].style.borderWidth="0px",o[0].style.backgroundColor="transparent",o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{null!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):null!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(o,"")):null!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):""!=t.label&&null!=t.label||(u=!0,e.jqx.utilities.html(o,""))}catch(e){}""===(a=this.dropdownlistContent[0].style.paddingTop)&&(a="0px"),""===(l=this.dropdownlistContent[0].style.paddingBottom)&&(l="0px"),o[0].style.paddingTop=a,o[0].style.paddingBottom=l,0===(d=o.outerHeight())&&(d=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(o,"");var p=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),f="",g=0;g<m.length;g++)g==m.length-1?f+=m[g].label:f+=m[g].label+",";o.text(f),p&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||p&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else{var v=this.host.width()-this.arrowSize-1;this.width&&"auto"!==this.width&&(p&&(this.rtl||o.css("max-width",v+"px")),o[0].style.overflow="hidden",o[0].style.display="block",o[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||p&&(v<0&&(v=0),o[0].style.width=v+"px"),o[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=o[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}h=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));c=parseInt((parseInt(h)-parseInt(d))/2);"border-box"===this.host.css("box-sizing")&&(c=parseInt((parseInt(h-2)-parseInt(d))/2)),c>=0&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var o=s[n].value;null!=o&&(n==s.length-1?r+=o:r+=o+",",t.push(o))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||this.hint||this.isMaterialized()||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}if("auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")){t=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:t+1}),this.container.width(parseInt(t)+25)}var i,s=this,r=this.listBoxContainer,n=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px","element"===this.dropDownContainer&&(o=parseInt(this.host.outerHeight())-1+"px",i=0);if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),n._arrange();var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),h=-2+Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-h+"px"):this.container.css("left",25+parseInt(Math.round(a))+h+"px")}if("top"==this.dropDownVerticalAlignment){var c=r.height();l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(this.host.outerHeight()),p=parseInt(o)-Math.abs(c+u+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType||"transform"===this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{r.css("opacity",1);var f=r.outerHeight();l?r.css("margin-top",f):r.css("margin-top",-f),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}l?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.element.setAttribute("opened",!0),r.addClass(this.toThemeProperty("jqx-popup-show"))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(this.element.removeAttribute("opened"),t.removeClass("jqx-popup-show"),e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if("transform"===this.animationType)setTimeout(function(){s.css("display","none")},this.closeDelay);else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(r>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=r+"px":r<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),(t=2+e.dropdownlistContent.width()+s+6)<47&&(t=47),e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*s/t,o=100*r/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=o+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.close(),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&r!=s){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){n=2+t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxEditor","",{}),e.extend(e.jqx._jqxEditor.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return this===e.jqx._jqxEditor.prototype?t:(e.extend(!0,this,t),this.localization=this.defaultLocalization,t)},createInstance:function(i){var s=this;s.textArea=s.host;var r=s.host.attr("contenteditable");if(s.host.addClass(s.toThemeProperty("jqx-widget")),1==r||"true"==r){s.inline=!0,s.widget=s.host,s.editorDocument=document,s.selection=new t(s.editorDocument);var n=e("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");n.insertBefore(s.host),s.toolbarContainer=n,s.toolbar=n.find(".jqx-editor-toolbar"),s.editor=s.host,s.contentEditableElement=s.element}else{var o=e("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");s.widget=o,s.widget[0].className=s.widget[0].className+" "+s.element.className;try{s.widget[0].style=s.element.style}catch(e){}var a=e.trim(s.host.html())+"&#8203;";"default"==s.lineBreak||"div"==s.lineBreak?a="<div>"+a+"</div>":"p"==s.lineBreak&&(a="<p>"+a+"</p>"),a=(a=a.replace(/&lt;/gi,"<")).replace(/&gt;/gi,">"),s.host.css("display","none"),s.host.after(o),o.find("iframe").after(s.host),s.container=o.find(".jqx-editor-container"),s.toolbarContainer=o.find(".jqx-editor-toolbar-container"),s.toolbar=o.find(".jqx-editor-toolbar"),s.iframe=o.find("iframe"),s.content=o.find(".jqx-editor-content");var l=function(){s.editorDocument=s.iframe[0].contentWindow.document,s.selection=new t(s.editorDocument);var i=0;s.addHandler(s.iframe,"load",function(){if(++i>1){s.iframe.off("load"),s.content.find("iframe").remove();e("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(s.content);s.iframe=o.find("iframe"),l()}}),e.jqx.browser.mozilla||(s.editorDocument.designMode="On"),s.editorDocument.open();var r,n=s.rtl?"direction:rtl;":"",d=e.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";(s.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+s.fontFamily+"; background:#fff; min-height:100%; "+n+"}"+d+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+e.map(s.stylesheets,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),s.contentEditableElement=s.editorDocument.body,s.host.is("textarea"))?(s._textArea=s.element,(r=s.host.data()).jqxEditor.host=o,r.jqxEditor.element=o[0],s.element=o[0],o[0].id=s._textArea.id,s._textArea.id=s._textArea.id+"TextArea",e(s.element).addClass(s.toThemeProperty("jqx-widget")),s.host=e(s.element),s.host.data(r)):((r=s.host.data()).jqxEditor.host=o,r.jqxEditor.element=o[0],s.element=o[0],s.host=e(s.element),s.host.data(r));try{s.editorDocument.execCommand("useCSS",!1,!1),s.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(e){}try{s.editorDocument.execCommand("styleWithCSS",0,!0)}catch(e){}s.editorDocument.close(),s.editor=e(s.editorDocument.body),s.editor.html(a).attr("spellcheck",!1).attr("autocorrect","off")};l(),e.jqx.utilities.resize(s.host,function(){s.widget.css("width",s.width),s.widget.css("height",s.height),s._arrange()})}},focus:function(){var t=this;e.jqx.browser.mozilla&&(t.focused||(t.iframe&&t.iframe.focus(),t.selection.selectNode(t.editor[0].firstChild,!0),t.selection.getRange().collapse(!0))),t.editor.focus();var i=null!=t.range?t.range:t.getRange();t.selectRange(i)},print:function(){var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),e.document.close()},refresh:function(t){var i=this;e.each(this.defaultLocalization,function(e,t){i.localization[e]||(i.localization[e]=t)}),i._removeHandlers(),i.toolbar.addClass(i.toThemeProperty("jqx-widget-header")),i.content?(i.widget.css("width",i.width),i.widget.css("height",i.height),i.widget.addClass(i.toThemeProperty("jqx-editor")),i.widget.addClass(i.toThemeProperty("jqx-widget")),i.widget.addClass(i.toThemeProperty("jqx-rc-all")),i.widget.addClass(i.toThemeProperty("jqx-widget-header")),i.content.addClass(i.toThemeProperty("jqx-widget-content")),i.container.addClass(i.toThemeProperty("jqx-editor-container"))):(i.toolbarContainer.addClass(i.toThemeProperty("jqx-widget-header")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-editor-toolbar-inline")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-widget")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-rc-all")),i.toolbarContainer.hide(),i.toolbarContainer.css("position","absolute"),i.editor.addClass(i.toThemeProperty("jqx-editor-inline")),i.toolbarContainer.css("width",i.host.outerWidth()+"px"));var s=i.toolbarContainer.index();if("top"==i.toolbarPosition&&0!=s||"bottom"==i.toolbarPosition&&1!=s)switch(i.toolbarPosition){case"bottom":i.toolbarContainer.insertAfter(i.content);break;case"top":default:i.toolbarContainer.insertBefore(i.content)}var r=i.tools;if(!1!==r){var n=r.split(" "),o=r.split(" | "),a=function(t,s){e.each(s,function(r,n){var o=i.commands[this];if(o){if(i.createCommand){var a=i.createCommand(this.toString());o=e.extend(o,a)}}else{if(!i.createCommand)return!0;if(!(o=i.createCommand(this.toString())))return!0;i.commands[this]||(i.commands[this]=o)}switch(i.localization[this]&&(o.tooltip=i.localization[this]),o.type){case"list":o.widget&&o.widget.jqxDropDownList("destroy");var l="formatblock"==o.command||"fontname"==o.command||"fontsize"==o.command,d=o.value||[],h=new Array,c=o.placeHolder||"Please Choose:";"fontname"==o.command?e.each(d,function(){var e=i.localization[this.label];h.push({label:e,value:this.value})}):"formatblock"==o.command?(c=i.localization.format,e.each(d,function(){if(this.label.indexOf("Header")>=0)var e=this.label.replace("Header",i.localization.Header);else e=i.localization[this.label];h.push({label:e,value:this.value})})):h=d;var u={enableBrowserBoundsDetection:!0,touchMode:i.touchMode,width:o.width||100,height:o.height||25,dropDownWidth:o.dropDownWidth||"auto",autoDropDownHeight:(o.value&&o.value.length)<12,placeHolder:c,source:h,theme:i.theme,hint:!1,keyboardSelection:!1,focusable:!1,disabled:i.disabled,rtl:i.rtl,selectionRenderer:"fontsize"==o.command?function(){return"<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+o.command)+"'></div>"}:null,renderer:l?function(e,t,i){return"formatblock"==o.command?"<"+i+' unselectable="on" style="padding: 0px; margin: 0px;">'+t+"</"+i+">":"fontname"==o.command?'<span unselectable="on" style="font-family: '+i+';">'+t+"<span>":"fontsize"==o.command?'<span unselectable="on" style="font-size: '+i+';">'+t+"<span>":void 0}:null},p="jqx-disableselect "+i.toThemeProperty("jqx-editor-dropdownlist")+" "+i.toThemeProperty("jqx-editor-toolbar-item");(q=e("<div unselectable='on' class='"+p+"'></div>")).appendTo(t),q.jqxDropDownList(u),o.init&&o.init(q);n=null;var m=null,f="";i.addHandler(q,"mousedown",function(t){if(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0){var i=e(".jqx-editor-dropdownlist");e.each(i,function(t,i){i!=q[0]&&e(i).jqxDropDownList("close")})}}),i.addHandler(q,"open",function(e){i.focused||i.focus(),i.updating=!0,i.activeElement=q,n=q.val(),f=""}),i.addHandler(q,"change",function(t){i.updating=!1,i.activeElement=null,m=q.val(),f=t.args.type,e.jqx.browser.msie&&e.jqx.browser.version<9&&i.focus()}),i.addHandler(q,"close",function(e){i.updating=!1,i.activeElement=null,n!=m&&("mouse"!=f&&"keyboard"!=f||i._refreshTools())}),i._addCommandHandler(q,"change",o.command,null,o);break;case"colorPicker":o.widget&&(e(o.colorPicker).remove(),o.widget.jqxDropDownButton("destroy"));var g=e('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+o.command);p="jqx-disableselect "+i.toThemeProperty("jqx-editor-dropdownpicker")+" "+i.toThemeProperty("jqx-editor-toolbar-item");(q=e("<div unselectable='on' class='"+p+"'></div>")).appendTo(t),q.append(g),q.jqxDropDownButton({hint:!1,touchMode:i.touchMode,disabled:i.disabled,enableBrowserBoundsDetection:!0,width:o.width||45,height:o.height||25,rtl:i.rtl,focusable:!1,theme:i.theme});var v=e('<div unselectable="on" style="z-index: 55;">'),x=i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+o.command),w=e("<div unselectable='on' class='"+x+"'></div>");v.append(w);var y=e('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+o.command).css("background-color",o.value);v.append(y),q.jqxDropDownButton("setContent",v),g.append(e(i.colorPickerTemplate)),o.colorPicker=g,o.init&&o.init(q),g.find("tr").attr("role","row").attr("unselectable","on"),g.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),g.find("div").attr("unselectable","on"),i.addHandler(q,"mousedown",function(t){if(e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),e(".jqx-editor-dropdownpicker").length>0){var i=e(".jqx-editor-dropdownpicker");e.each(i,function(t,i){i!=q[0]&&e(i).jqxDropDownButton("close")})}}),i.addHandler(q,"open",function(){i.focused||i.focus(),i.updating=!0,i.activeElement=g}),i.addHandler(q,"close",function(e){i.updating=!1,i.activeElement=null,n!=m&&("mouse"!=f&&"keyboard"!=f||i._refreshTools())}),i.addHandler(g,"keydown",function(t){var i=t.keyCode,s=e(g).find(".jqx-editor-color-picker-selected-cell"),r=g.find("tr"),n=r.length,a=s.parent().children().length,l=s.index(),d=-999,h=s.parent();switch(e.each(r,function(e,t){if(this==h[0])return d=e,!1}),i){case 27:q.jqxDropDownButton("close");break;case 13:e(s).trigger("mousedown");break;case 38:d--;break;case 40:d++;break;case 39:l++;break;case 37:l--}if(d>=0&&d<=n&&l>=0&&l<=a){h=g.find("tr")[d];var c=e(h).children()[l],u=e(c).children().css("background-color");o.val(u)}});var b=e(g).find("td");o.val=function(t){var s=i._rgbToHex(t);e.each(b,function(){var t=e(this).children().css("background-color");if(i._rgbToHex(t)==s)return b.removeClass("jqx-editor-color-picker-selected-cell"),e(this).addClass("jqx-editor-color-picker-selected-cell"),e("#bar-"+o.command).css("background",t),!1})},o.val(o.value),i._addCommandHandler(b,"mousedown",o.command,null,o);break;case"button":case"toggleButton":default:o.widget&&("button"==o.type?o.widget.jqxButton("destroy"):o.widget.jqxToggleButton("destroy"));var _=o.command,j=o.action,q=(x=i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+_),w=e("<div unselectable='on' class='"+x+"'></div>"),e("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(i.toThemeProperty("jqx-editor-toolbar-button")));o.init?_&&q.append(w):q.append(w),q.appendTo(t),"button"==o.type?q.jqxButton({disabled:i.disabled,rtl:i.rtl,theme:i.theme}):"toggleButton"==o.type&&q.jqxToggleButton({disabled:i.disabled,rtl:i.rtl,uiToggle:!1,theme:i.theme}),o.init&&o.init(q),o.toggled=!1,o.toggle=function(){o.toggled=!o.toggled},i.addHandler(q,"mousedown",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),e.jqx.mobile.isTouchDevice()?i._addCommandHandler(q,"mousedown",_,j,o):i._addCommandHandler(q,"click",_,j,o)}if(o.widget=q,q){try{""!=o.tooltip&&(o.widget.attr("title",o.tooltip),o.widget.attr("data-tooltip",o.tooltip)),o.command&&o.widget.attr("data-command",o.command),o.widget.attr("aria-label",o.tooltip)}catch(e){}"button"!=o.type&&"toggleButton"!=o.type||(s.length>2&&(0==r?(q.css("border-right-radius","0px"),q.addClass(i.toThemeProperty("jqx-rc-l"))):r==s.length-1&&(q.css("border-left-radius","0px"),q.addClass(i.toThemeProperty("jqx-rc-r"))),q.removeClass(i.toThemeProperty("jqx-rc-all"))),0!=r&&r!=s.length-1&&s.length>2?(q.css("border-left-radius","0px"),q.css("border-right-radius","0px"),q.removeClass(i.toThemeProperty("jqx-rc-all"))):2==s.length?(0==r?(q.css("border-right-radius","0px"),q.addClass(i.toThemeProperty("jqx-rc-l"))):(q.css("border-left-radius","0px"),q.addClass(i.toThemeProperty("jqx-rc-r"))),q.removeClass(i.toThemeProperty("jqx-rc-all"))):1==s.length&&q.css("margin-right","0px"))}})};if(i.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==o.length)a(i.toolbar,n);else{for(var l=0;l<o.length;l++){n=o[l].split(" ");var d=i.toThemeProperty("jqx-editor-toolbar-group")+" "+i.toThemeProperty("jqx-fill-state-normal"),h=e("<div class='"+d+"'></div>");h.addClass(i.toThemeProperty("jqx-rc-all")),i.toolbar.append(h),a(h,n)}var c=i.toolbar.find(".jqx-editor-toolbar-group"),u=c.length;for(l=0;l<u;l++)0==e(c[l]).children().length&&e(c[l]).remove()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(".jqx-editor-toolbar-group").css("float","left"),e(".jqx-editor-toolbar-group").children().css("float","left"),e(".jqx-editor-toolbar-group").css("zoom","1"),e(".jqx-editor-toolbar-group").children().css("zoom","1"))}i._arrange(),i._addHandlers()},_arrange:function(){var t=this;t.content&&(""==t.tools||0==t.tools?(t.content.height(t.container.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-6),t.content.css("margin-top","4px"),t.toolbar.hide()):(t.toolbar.show(),t.content.css("margin-top","0px"),t.content.height(t.container.outerHeight()-t.toolbar.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-2),"top"!=t.toolbarPosition&&(t.content.css("margin-top","4px"),t.content.css("margin-bottom","0px"))),e.jqx.browser.msie&&e.jqx.browser.version<8&&(t.content.css("margin-top","4px"),t.content.height(t.container.height()-t.toolbar.outerHeight()-2*parseInt(t.container.css("padding-bottom"))-10),t.content.width(t.container.width()-2*parseInt(t.container.css("padding-left"))-2)),t.editor.height()<t.content.height()&&t.editor.height(t.content.height()))},propertyChangedHandler:function(t,i,s,r){var n=t;null!=n.isInitialized&&0!=n.isInitialized&&"pasteMode"!=i&&"lineBreak"!=i&&"editable"!=i&&("disabled"==i&&t._refreshTools(),"width"!=i&&"height"!=i&&"toolbarPosition"!=i?("theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),t.refresh()):t._arrange())},selectRange:function(e){e||(e=this.getRange()),this.selection.selectRange(e)},getRange:function(){return this.selection.getRange()},getSelectedElement:function(){var e,t,i,s,r=this;try{if(r.editorDocument.getSelection){var n=r.editorDocument.getSelection();return i=(e=n.getRangeAt(n.rangeCount-1)).startContainer,s=e.endContainer,t=e.commonAncestorContainer,"#text"==i.nodeName&&(t=t.parentNode),"#text"==i.nodeName&&(i=i.parentNode),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"#text"==s.nodeName&&(s=s.parentNode),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(t=i),s}if(r.editorDocument.selection){if(!(e=r.editorDocument.selection.createRange()).duplicate)return null;t=e.parentElement();var o=e.duplicate(),a=e.duplicate();return o.collapse(!0),a.moveToElementText(o.parentElement()),a.setEndPoint("EndToStart",o),i=o.parentElement(),o=e.duplicate(),(a=e.duplicate()).collapse(!1),o.moveToElementText(a.parentElement()),o.setEndPoint("StartToEnd",a),s=a.parentElement(),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(t=i),s}}catch(e){return null}return null},_addHandlers:function(){var t=this;t.addHandler(t.toolbar,"mousedown.editor"+t.element.id,function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1});var i=function(){if(t._textArea&&(t.updating||(t._textArea.value=t.val())),t.changed&&(t._raiseEvent("change"),t.changed=!1),t.focused=!1,t.inline){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-editor-inline-focus")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeOut("fast")}},s=function(){if(t.focused=!0,t.inline){if(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(t.toThemeProperty("jqx-editor-inline-focus")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeIn("fast");var e=t.host.coord();"bottom"!=t.toolbarPosition?t.toolbarContainer.offset({left:e.left,top:e.top-t.toolbarContainer.outerHeight()-5}):t.toolbarContainer.offset({left:e.left,top:e.top+5+t.host.height()})}};e.jqx.browser.mozilla&&this.addHandler(e(document),"mousedown.editor"+t.element.id,function(e){i()}),t.addHandler(t.editor,"blur.editor"+t.element.id,function(e){i()}),t.addHandler(t.editor,"focus.editor"+t.element.id,function(e){s()}),t.addHandler(t.editor,"beforedeactivate.editor"+t.element.id,function(e){t.range=t.getRange()}),t.addHandler(t.editor,"mousedown.editor"+t.element.id,function(i){i.target.href||t.linkPopup&&t.linkPopup.remove(),t.range=t.getRange(),e.jqx.browser.mozilla&&(s(),i.stopPropagation()),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),t.inline&&t.editor.focus()}),e.jqx.mobile.isTouchDevice()&&(t.addHandler(e(t.editorDocument),"selectionchange.editor"+t.element.id,function(){t.editorDocument.activeElement!=t.editor[0]&&setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)}),t.addHandler(e(t.editorDocument),"touchstart.editor"+t.element.id,function(){setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)})),t.addHandler(t.editor,"mouseup.editor"+t.element.id,function(e){if("source"==t._documentMode)return!0;t.range=t.getRange(),t._refreshTools(null,!0)}),t.addHandler(t.editor,"keydown.editor"+t.element.id,function(i){if(t.keyPressed&&t.keyPressed(i),"source"==t._documentMode)return!0;if(e.jqx.browser.mozilla&&(t.focused||s()),t.changeType="keyboard",t.disabled)return i.preventDefault&&i.preventDefault(),!1;if(t.updating){if(t.activeElement){var r=e.Event("keydown");e.extend(r,i),t.activeElement.trigger(r)}return i.preventDefault&&i.preventDefault(),!1}var n=i||window.event,o=n.keyCode,a=String.fromCharCode(o).toLowerCase();if(!t.editable){var l=[9,33,34,35,36,37,38,39,40,40,45];-1!=e.inArray(n.keyCode,l)||n.ctrlKey&&"c"==a||n.ctrlKey&&"a"==a||i.preventDefault()}if(t.selection.getText().length>0||t.linkPopup){l=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(-1!=!e.inArray(n.keyCode,l)||65==n.keyCode&&n.ctrlKey&&!n.altKey&&!n.shiftKey)&&(t._refreshToolsTimer&&clearTimeout(t._refreshToolsTimer),t._refreshToolsTimer=setTimeout(function(){t._refreshTools(null,!0,n.keyCode)},10))}if(13==o&&"default"!=t.lineBreak){var d=t.getSelectedElement();if(d){switch(d.nodeName.toLowerCase()){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var h=d;null!=h;){if("#document"==h.nodeName){h=t.editorDocument.body;break}if(h.parentNode==t.editorDocument.body||h==t.editorDocument.body)break;h=h.parentNode}}if(h){var c=t.getRange();"<div></div>"==t.editorDocument.body.innerHTML&&"br"!=t.lineBreak&&t.selection.insertContent("&#8203;"),"div"==t.lineBreak?h==t.editorDocument.body?e(h).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(h):"p"==t.lineBreak?h==t.editorDocument.body?e(h).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(h):t.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),t.selectRange(c);var u=e(t.editorDocument).find("#INSERTION_MARKER");return"br"!=t.lineBreak?t.selection.selectNode(e(u).prev()[0],!0):(t.selection.selectNode(u[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(u[0])),u.remove(),t.selection.collapse(!1),h&&h.nodeName&&"br"==t.lineBreak&&"#text"!=h.nodeName.toLowerCase()&&(t.selection.selectNode(h,!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(h),t.selection.collapse(!1)),"br"!=t.lineBreak&&(c=t.getRange()).select&&c.select(),i.preventDefault&&i.preventDefault(),!1}}if(n.ctrlKey&&("k"==a||"u"==a||"b"==a||"i"==a)){i.preventDefault&&i.preventDefault();var p=null;switch(a){case"k":p="link";break;case"u":p="underline";break;case"b":p="bold";break;case"i":p="italic"}return t.commands[p].widget&&t.commands[p].widget.trigger("click"),!1}}),t.addHandler(t.editor,"paste.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.readOnly)return!0;t.updating=!0,t.readOnly=!0;try{var s=t.getRange();"text"!=t.pasteMode||e.jqx.browser.mozilla?t.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):t.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>');var r=e(window).scrollTop(),n=e(t.editorDocument).find(".jqx-editor-paste-element");if(n.css("top",r+"px"),t.editor[0].createTextRange){i.preventDefault();var o=t.editor[0].createTextRange();o.moveToElementText(n[0]),o.execCommand("Paste")}else{var a=t.editorDocument.createRange();a.selectNodeContents(n[0]),t.selectRange(a)}"text"!=t.pasteMode||e.jqx.browser.mozilla||n.select(),t.marker=n,setTimeout(function(){t.selectRange(s);var i=function(e){var i=t.editorDocument.createElement("div"),s=t.editorDocument.createDocumentFragment();for(i.innerHTML=e;i.firstChild;)s.appendChild(i.firstChild);return s};if("text"!=t.pasteMode){var r=i(t.marker.html());if(r.firstChild&&"jqx-editor-paste-element"===r.firstChild.className){for(var n=[],o=0,a=r.childNodes.length;o<a;o++)n.push(r.childNodes[o].innerHTML);r=i(n.join("<br />"))}var l=document.createElement("div");l.appendChild(r.cloneNode(!0));var d=l.innerHTML}else{d=t.marker.val();if(""!=t.marker.html()&&-1==t.marker.val().indexOf("\n")){d=(d=(d=(d=(d=(d=t.marker.html()).replace(/&nbsp;/gm,"")).replace(/\n\n/gm,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<li[^>]*>/gi,"\n")).replace(/<p[^>]*>/gi,"\n"),t.marker.html(d);d=t.marker.text()}}var h=function(e,i){i?e=t.paragraphise?(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<p>\s<\/p>/gi,""):e.replace(/\n/g,"<br />"):((e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<html[^>]*?>(.*)/gim,"$1")).replace(/<\/html>/gi,"")).replace(/<body[^>]*?>(.*)/gi,"$1")).replace(/<\/body>/gi,"")).replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,"")).replace(/<(?:meta|link)[^>]*>\s*/gi,"")).replace(/<\\?\?xml[^>]*>/gi,"")).replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"")).replace(/<o:p>\s*<\/o:p>/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;")).replace(/<\/?\w+:[^>]*>/gi,"")).replace(/<\!--[\s\S]*?-->/g,"")).replace(/<\!\[[\s\S]*?\]>/g,"")).replace(/\s*mso-[^:]+:[^;"']+;?/gi,"")).replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3")).replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3")).replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,"")).replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"')).replace(/\s*text-indent: 0cm\s*;/gi,"")).replace(/\s*text-indent: 0cm\s*"/gi,'"')).replace(/\s*text-align: [^\s;]+;?"/gi,'"')).replace(/\s*page-break-before: [^\s;]+;?"/gi,'"')).replace(/\s*font-variant: [^\s;]+;?"/gi,'"')).replace(/\s*tab-stops:[^;"']*;?/gi,"")).replace(/\s*tab-stops:[^"']*/gi,"")).replace(/\s*face="[^"']*"/gi,"")).replace(/\s*face=[^ >]*/gi,"")).replace(/\s*font-family:[^;"']*;?/gi,"")).replace(/\s*font-size:[^;"']*;?/gi,"")).replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,"")).replace(/\s*style='\s*'/gi,"")).replace(/\s*style="\s*"/gi,"")).replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;")).replace(/<span\s*[^>]*><\/span>/gi,"")).replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2")).replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1")).replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;")).replace(/<h\d>\s*<\/h\d>/gi,"")).replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<h(\d)([^>]*)>/gi,"<h$1>")).replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>")).replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>")).replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")).replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>")).replace(/<\s+[^>]*>/gi,"")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).trim&&(e=e.trim()),t.paragraphise?"<p"!==e.substr(0,2)&&(e=(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<br[^>]*>/gi,"</p><p>")):(e.replace(/<p>/gi,"<br />"),e.replace(/<\/p>/gi,"")),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br[^>]*><\/p>/gim,"</p>")).replace(/<p>&nbsp;<\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/MsoNormal/gi,"")).replace(/<\/?meta[^>]*>/gi,"")).replace(/<\/?xml[^>]*>/gi,"")).replace(/<\?xml[^>]*\/>/gi,"")).replace(/<!--(.*)-->/gi,"")).replace(/<!--(.*)>/gi,"")).replace(/<!(.*)-->/gi,"")).replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,"")).replace(/<w:[^>]*\/>/gi,"")).replace(/<\/?w:[^>]*>/gi,"")).replace(/<m:[^>]*\/>/gi,"")).replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,"")).replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,"")).replace(/<o:[^>]*\/>/gi,"")).replace(/<\/?m:[^>]*>/gi,"")).replace(/style=\"([^>]*)\"/gi,"")).replace(/style=\'([^>]*)\'/gi,"")).replace(/class=\"(.*)\"/gi,"")).replace(/class=\'(.*)\'/gi,"")).replace(/<b>/gi,"<strong>")).replace(/<\/b>/gi,"</strong>")).replace(/<p[^>]*>/gi,"<p>")).replace(/<\/p[^>]*>/gi,"</p>")).replace(/<span[^>]*>/gi,"")).replace(/<\/span[^>]*>/gi,"")).replace(/<st1:[^>]*>/gi,"")).replace(/<\/st1:[^>]*>/gi,"")).replace(/<font[^>]*>/gi,"")).replace(/<\/font[^>]*>/gi,"")).replace("  ","")).replace(/<strong><\/strong>/gi,"")).replace(/<p><\/p>/gi,"")).replace(/\/\*(.*)\*\//gi,"")).replace(/<!--/gi,"")).replace(/-->/gi,"")).replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,"")).trim());return e}(d,"text"==t.pasteMode);t.getRange();t.selection.insertContent(h+"<span id='INSERTION_MARKER'>&nbsp;</span>"),t.marker.remove();var c=e(t.editorDocument).find("#INSERTION_MARKER");t.selection.selectNode(c[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(c[0]),c.remove(),t.selection.collapse(!1),c.removeAttr("id"),t._refreshTools(),t.changed=!0},100),t.updating=!1,t.readOnly=!1}catch(e){console&&console.log(e)}}),t.addHandler(t.editor,"keyup.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.updating||t.disabled||!t.editable)return i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1;t.range=t.getRange(),t.changed=!0;var s=i||window.event;s.keyCode;(-1!=e.inArray(s.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46])||65==s.keyCode&&s.ctrlKey&&!s.altKey&&!s.shiftKey)&&t._refreshTools(null,!0,s.keyCode)}),t.addHandler(t.editor,"click.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.editImage&&(e(t.editImage).removeClass("jqx-editor-focus"),t.editImage=null),"img"==i.target.tagName.toLowerCase()){var s=i.target;t.editImage=s,e(t.editImage).addClass("jqx-editor-focus")}}),t.addHandler(t.editor,"dblclick.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if("img"==i.target.tagName.toLowerCase()){var s=i.target;e("#imageWindow"+this.element.id).length>0&&(t.editImage=s,t._updateImageWindow())}})},_updateLinkWindow:function(){var t=this,i=e("#linkWindow"+this.element.id);i.jqxWindow({position:{center:t.widget}}),i.jqxWindow("open");var s=i.find("input"),r=i.find(".jqx-editor-link-checkbox"),n=i.find("button:first"),o=e(i.find("button")[1]);if(t.editLink&&t.editLink.href)s[0].value=t.editLink.href||"",s[1].value=e(t.editLink).text()||t.editLink.href,r.val("_blank"==e(t.editLink).attr("target")),o.show();else{if(s[0].value="",s[1].value="",!t.selection.isCollapsed()){var a=t.selection.getText();a.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?s[0].value=a:s[1].value=a}r.val(!1),o.hide()}s[0].value.length>0?n.jqxButton({disabled:!1}):n.jqxButton({disabled:!0})},_updateImageWindow:function(){var t=this,i=t.editImage;i||(i=e("<img>")[0]);var s=e("#imageWindow"+this.element.id);s.jqxWindow({position:{center:t.widget}}),s.jqxWindow("open");var r=s.find("input"),n=e(s.find("button")[1]);t.editImage?n.show():n.hide(),r[0].value=i.src,""==r[0].value&&(r[0].value=""),r[1].value=i.alt,"auto"!=i.style.width?r[2].value=i.style.width:r[2].value="","auto"!=i.style.height?r[3].value=i.style.height:r[3].value="",i.style.marginLeft&&"0px"!=i.style.marginLeft?r[4].value=i.style.marginLeft:r[4].value="",i.style.marginTop&&"0px"!=i.style.marginTop?r[5].value=i.style.marginTop:r[5].value="";var o=s.find(".jqx-editor-align"),a=e(i).css("float");"left"==a?o.jqxDropDownList({selectedIndex:1}):"right"==a?o.jqxDropDownList({selectedIndex:2}):o.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var e=this;e.editor&&(e.removeHandler(e.editor,"paste.editor"+e.element.id),e.removeHandler(e.editor,"blur.editor"+e.element.id),e.removeHandler(e.editor,"focus.editor"+e.element.id),e.removeHandler(e.editor,"click.editor"+e.element.id),e.removeHandler(e.editor,"mousedown.editor"+e.element.id),e.removeHandler(e.editor,"mouseup.editor"+e.element.id),e.removeHandler(e.editor,"keyup.editor"+e.element.id),e.removeHandler(e.editor,"keydown.editor"+e.element.id),e.removeHandler(e.editor,"beforedeactivate.editor"+e.element.id),e.removeHandler(e.editor,"dblclick.editor"+e.element.id)),e.toolbar&&e.removeHandler(e.toolbar,"mousedown.editor"+e.element.id)},getParentByTag:function(e,t){t=t.toLowerCase();var i=e;do{if(""==t||i.nodeName.toLowerCase()==t)return i}while(i=i.parentNode);return e},isStyleProperty:function(e,t,i,s){t=t.toLowerCase();var r=e;do{if(r.nodeName.toLowerCase()==t&&r.style[i]==s)return!0}while(r=r.parentNode);return!1},setStyleProperty:function(e,t){this.style[t]=!1;var i=this.getParentByTag(e,t);i&&i.tagName.toLowerCase()==t&&(this.style[t]=!0),"del"==t&&this.getParentByTag(e,"strike")&&"strike"==this.getParentByTag(e,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(e){var t=this;if((e=t.getSelectedElement()?t.getSelectedElement():e)&&t.setStyleProperty)try{if(window.getComputedStyle){"#text"==e.nodeName.toLowerCase()&&(e=t.editor[0]);var i=401==(s=window.getComputedStyle(e,null)).getPropertyValue("font-weight")?700:s.getPropertyValue("font-weight");t.style={fontStyle:s.getPropertyValue("font-style"),fontSize:s.getPropertyValue("font-size"),textDecoration:s.getPropertyValue("text-decoration"),fontWeight:i,fontFamily:s.getPropertyValue("font-family"),textAlign:s.getPropertyValue("text-align"),color:t._rgbToHex(s.color),backColor:t._rgbToHex(s.backgroundColor)},t.style.fontStyle=s.getPropertyValue("font-style"),t.style.vAlign=s.getPropertyValue("vertical-align"),t.style.del=t.isStyleProperty(e,"span","textDecoration","line-through"),t.style.u=t.isStyleProperty(e,"span","textDecoration","underline");t.style.backColor||(t.style.backColor=t._rgbToHex(function(e){for(var t="transparent";e&&(window.getComputedStyle(e).backgroundColor==t||"rgba(0, 0, 0, 0)"==window.getComputedStyle(e).backgroundColor);)e=e.parentNode;return e?window.getComputedStyle(e).backgroundColor:t}(e)))}else{var s=e.currentStyle;t.style={fontStyle:s.fontStyle,fontSize:s.fontSize,textDecoration:s.textDecoration,fontWeight:s.fontWeight,fontFamily:s.fontFamily,textAlign:s.textAlign,color:t._rgbToHex(s.color),backColor:t._rgbToHex(s.backgroundColor)}}t.setStyleProperty(e,"h1"),t.setStyleProperty(e,"h2"),t.setStyleProperty(e,"h3"),t.setStyleProperty(e,"h4"),t.setStyleProperty(e,"h5"),t.setStyleProperty(e,"h6"),t.setStyleProperty(e,"del"),t.setStyleProperty(e,"sub"),t.setStyleProperty(e,"sup"),t.setStyleProperty(e,"u"),"a"==e.nodeName.toLowerCase()&&"underline"==t.style.textDecoration&&(t.style.u=!0),(t.style.h1||t.style.h2||t.style.h3||t.style.h4||t.style.h5||t.style.h6)&&(t.style.heading=!0)}catch(e){return null}},_refreshTools:function(t,i,s){var r=this;if(!r.updating&&((t=r.getSelectedElement()?r.getSelectedElement():t)&&r.setStyleProperty)){r.updateStyle(t);var n=r.readOnly;if(r.readOnly=!0,!1!==r.tools){var o=r.tools.split(" "),a=r.tools.split(" | "),l=function(t){e.each(t,function(e,t){var i=r.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("clearSelection"),i.widget.jqxDropDownList({disabled:r.disabled});break;case"colorPicker":i.val(i.value),i.widget.jqxDropDownButton({disabled:r.disabled});break;case"toggleButton":i.widget.jqxToggleButton("unCheck"),i.widget.jqxToggleButton({disabled:r.disabled});break;case"button":default:i.widget.jqxButton({disabled:r.disabled})}})};if(0==a.length)l(o);else for(var d=0;d<a.length;d++){l(o=a[d].split(" "))}if(r.style){var h=function(s){e.each(s,function(s,n){var o,a=r.commands[this];if(!a)return!0;if(a.refresh)return a.refresh(a.widget,r.style),!0;switch(a.type){case"list":if("fontname"==a.command){for(var l=-1,d=999,h=0;h<a.value.length;h++){n=a.value[h].label.toLowerCase();var c=r.style.fontFamily.toLowerCase().indexOf(n);c>=0&&(c<d&&(l=h),d=Math.min(d,c))}a.widget.jqxDropDownList("selectIndex",l)}else if("formatblock"==a.command){n=null;r.style.h1?n="h1":r.style.h2?n="h2":r.style.h3?n="h3":r.style.h4?n="h4":r.style.h5?n="h5":r.style.h6&&(n="h6"),a.widget.jqxDropDownList("selectItem",n)}else if("fontsize"==a.command){var u="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),p=-1;try{-1==(p=t.getAttribute("size")-1)&&(p=r.editorDocument.queryCommandValue(a.command)-1)}catch(e){}var m=u[p];a.widget.val(m)}break;case"colorPicker":var f="number"!=typeof(o=r.editorDocument.queryCommandValue(a.command))?o:"rgb("+(255&o)+", "+((65280&o)>>8)+", "+((16711680&o)>>16)+")";"backcolor"==a.command&&null==r.style.backColor&&(f="#FFFFFF");var g=r._rgbToHex(f);g?a.val(g):"forecolor"==a.command?a.val(r.style.color):"backcolor"==a.command&&a.val(r.style.backColor);break;case"toggleButton":if("viewsource"==a.command)return;if(!a.command)return;var v=!1,x=r.editorDocument.queryCommandState(a.command)&&r.editorDocument.queryCommandEnabled(a.command);if("createlink"==a.command&&"a"==t.nodeName.toLowerCase()){var w=!0;if(-1==e(t).text().indexOf(r.selection.getText())&&""!=r.selection.getText()&&(w=!1),w){r.linkPopup&&r.linkPopup.remove(),x=!0,r.linkPopup=e("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+r.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+t.href+"'>"+t.href+"</a> - <a style='color:#222222;' href='#change'>"+r.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+r.localization.Remove+"</a></div>").appendTo(r.editor);var y=e(t).coord(),b=y.left;y.left+r.linkPopup.width()>r.editor.width()&&(b=r.editor.width()-r.linkPopup.width()-15),r.linkPopup.offset({top:e(t).height()+y.top+5,left:b}),r.addHandler(r.linkPopup,"mousedown",function(i){if(i.target&&i.target.href)switch(e(i.target).index()){case 1:r.editor.focus(),r.selection.selectNode(t,!0),r.commands.link.widget.trigger("click");break;case 2:try{r.editor.focus(),r.selection.selectNode(t),r.execute("unlink"),r.commands.underline.toggled=!1,r.selection.collapse(!1),r._refreshTools()}catch(e){}break;default:window.open(i.target.href,"_blank")}return i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1})}}"bold"==a.command?(r.style.fontWeight&&(r.style.fontWeight>=600||"bold"==r.style.fontWeight)&&(v=!0),r.selection.isCollapsed()?a.toggled=x:a.toggled=x||v,x=a.toggled):"italic"==a.command?(r.style.fontStyle&&"italic"==r.style.fontStyle&&(v=!0),i?a.toggled=x:x=a.toggled):"underline"==a.command?(r.style.u&&(v=!0),i?a.toggled=x:x=a.toggled):"justifyleft"==a.command?"left"==r.style.textAlign&&(v=!0):"justifyright"==a.command?"right"==r.style.textAlign&&(v=!0):"justifycenter"==a.command?"center"==r.style.textAlign&&(v=!0):"justifyfull"==a.command?"justify"==r.style.textAlign&&(v=!0):e.each(r.style,function(e,t){a.command==e.toLowerCase()&&(v=!0)});var _=x;v&&-1!=a.command.indexOf("justify")?a.widget.jqxToggleButton("check"):_?a.widget.jqxToggleButton("check"):v&&!1===r.range.collapsed?a.widget.jqxToggleButton("check"):e.jqx.browser.msie&&e.jqx.browser.version<9&&v&&!r.selection.isCollapsed()&&a.widget.jqxToggleButton("check");break;case"button":default:a.refresh&&a.refresh(a.widget,r.style)}})};if(0==a.length)h(o);else for(d=0;d<a.length;d++){h(o=a[d].split(" "))}}}r.readOnly=n}},_rgbToHex:function(e){if(e){if("#"===e.substr(0,1))return 4==e.length?"#"+(i=e.substr(1,1))+i+(s=e.substr(2,1))+s+(r=e.substr(3,1))+r:e;var t=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(e);if(!t)return null;var i=parseInt(t[2],10).toString(16),s=parseInt(t[3],10).toString(16),r=parseInt(t[4],10).toString(16);return"#"+((1==i.length?"0"+i:i)+(1==s.length?"0"+s:s)+(1==r.length?"0"+r:r))}return null},_preventDefault:function(t,i){!1!==i&&(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close")),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1},_addCommandHandler:function(t,i,s,r,n){var o,a=this;switch(!s&&n.init&&(s="custom"),s){case"custom":switch(n.type){case"list":o=function(t){"source"!=a._documentMode&&"none"!=t.args.type&&(n.value=e(this).val(),a.execute("custom",n),a.readOnly||a._refreshTools()),a._preventDefault(t,!1)};break;case"colorPicker":o=function(t){if("source"!=a._documentMode){e(n.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){var i=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{i=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+s).css("background",i),n.widget.val=function(){var e,t="number"!=typeof(e=i)?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")";return a._rgbToHex(t)},n.widget.jqxDropDownButton("close"),a.execute("custom",n)}return a._preventDefault(t),!1};break;case"button":case"toggleButton":default:o=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t);e(this).attr("data-command");return"source"!=a._documentMode&&(n.toggle&&n.toggle(),a.execute("custom",n),a._refreshTools()),!1}}break;case"formatblock":o=function(t){"source"!=a._documentMode&&"none"!=t.args.type&&(a.execute(e(this).attr("data-command"),"<"+e(this).val()+">",n),a.readOnly||(a.commands.bold.toggled=!1,a._refreshTools())),a._preventDefault(t,!1)};break;case"fontsize":o=function(t){if("source"!=a._documentMode&&"none"!=t.args.type){var i=e(this).val(),s="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),r=e(this).jqxDropDownList("getSelectedIndex");r=1+s.indexOf(i);a.execute(e(this).attr("data-command"),r,n)}a._preventDefault(t,!1)};break;case"fontname":o=function(t){if("source"!=a._documentMode&&"none"!=t.args.type){var i=e(this).val();a.execute(e(this).attr("data-command"),i,n)}a._preventDefault(t,!1)};break;case"forecolor":case"backcolor":o=function(t){if("source"!=a._documentMode){e(n.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){var i=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{i=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+s).css("background",i),n.widget.jqxDropDownButton("close"),a.execute(s,i,n)}return a._preventDefault(t),!1};break;case"viewsource":o=function(t){return a.linkPopup&&a.linkPopup.remove(),n.toggle(),a.setMode(n.toggled),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t),!1};break;case"insertimage":o=function(e){a._insertImageAction(e,a,n)};break;case"createlink":o=function(e){a._createLinkAction(e,a,n)};break;default:o=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t);var i=e(this).attr("data-command");if("source"!=a._documentMode){if("underline"==i&&a.getSelectedElement()){var s=a.getSelectedElement();if(s&&"a"==s.nodeName.toLowerCase())return n.toggled?e(s).css("text-decoration","none"):e(s).css("text-decoration","underline"),n.toggle(),a._refreshTools(),!1}n.toggle&&n.toggle(),a.execute(i,e(this).val(),n),a._refreshTools()}return!1}}return a.addHandler(t,i,o),!1},_createLinkAction:function(t,i,s){if("source"!=(i=this)._documentMode){i.focused||i.editor.focus(),i.range=i.getRange();var r=i.getSelectedElement();if("a"==r.nodeName.toLowerCase()?i.editLink=r:i.editLink=null,e("#linkWindow"+this.element.id).length>0)return i.editLink&&i.selection.selectNode(r,!0),i._updateLinkWindow(),i._preventDefault(t),!1;var n=e("<div class='jqx-editor-window jqx-editor-link-window'><div>"+i.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+i.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+i.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");n[0].id="linkWindow"+this.element.id;var o=n.find("input");o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-input"));var a=n.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:i.theme,height:23,width:180}),l=n.find("button:first").jqxButton({theme:i.theme,disabled:!0}),d=e(n.find("button")[1]).jqxButton({theme:i.theme}),h=n.find("button:last").jqxButton({theme:i.theme});l.val(i.localization.Ok),h.val(i.localization.Cancel),d.val(i.localization.Remove),i.addHandler(h,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){i.editor.focus(),i.selectRange(i.range),i._refreshTools(),i._preventDefault(e)}),(!i.editLink||i.editLink&&!i.editLink.href)&&d.hide();var c=!1;if(i.addHandler(e(o[0]),"focus",function(){c=""==o[1].value||o[1].value==o[0].value}),i.addHandler(e(o[1]),"keyup",function(e){e.keyCode&&(13==e.keyCode&&l.trigger("click"),27==e.keyCode&&h.trigger("click"))}),i.addHandler(e(o[0]),"keyup change",function(e){o[0].value.length>0?l.jqxButton({disabled:!1}):l.jqxButton({disabled:!0}),c&&(o[1].value=o[0].value),e.keyCode&&(13==e.keyCode&&l.trigger("click"),27==e.keyCode&&h.trigger("click"))}),i.addHandler(d,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){n.jqxWindow("close");try{i.editor.focus(),i.selection.selectNode(i.editLink),i.execute("unlink"),i.selection.collapse(!1),i.commands.underline.toggled=!1,i._refreshTools()}catch(e){}i._preventDefault(e)}),i.addHandler(l,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){var r=n.find("input"),o=e("<a>"+(r[1].value||r[0].value)+"</a>");a.val()&&o.attr("target","_blank"),o[0].href=e.trim(r[0].value),-1==r[0].value.indexOf("http")&&-1==r[0].value.indexOf("mailto")&&(o[0].href="http://"+e.trim(r[0].value)),i.focused||i.editor.focus(),i.range&&i.selectRange(i.range),i.editLink&&e(i.editLink).remove(),i.execute("insertHTML",o[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",s),i.editor.focus();var l=e(i.editorDocument).find("#INSERTION_MARKER");i.selection.selectNode(l[0],!0),i.getRange().setStartAfter&&i.getRange().setStartAfter(l[0]),l.remove(),i.selection.collapse(!1),i._refreshTools(),i._preventDefault(t)}),i.updating=!0,n.appendTo(document.body),i.addHandler(n,"open",function(){i.updating=!0,setTimeout(function(){i.range=i.getRange(),e(o[0]).focus()},25)}),n.jqxWindow({resizable:!1,width:280,okButton:l,cancelButton:h,theme:i.theme,isModal:!0,position:{center:i.widget}}),i.addHandler(n,"close",function(){i.updating=!1}),i.focused||(i.editor.focus(),i.selectRange(i.range)),i.editLink)o[0].value=i.editLink.href||"",o[1].value=e(i.editLink).text(),a.val("_blank"==e(i.editLink).attr("target"));else if(!i.selection.isCollapsed()){var u=i.selection.getText();u.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?o[0].value=u:o[1].value=u}return o[0].value.length>0?l.jqxButton({disabled:!1}):l.jqxButton({disabled:!0}),i._preventDefault(t),!1}i._preventDefault(t)},_insertImageAction:function(t,i,s){if("source"!=i._documentMode){if(i.focused||i.editor.focus(),i.range=i.getRange(),e("#imageWindow"+this.element.id).length>0)return i._updateImageWindow(),i._preventDefault(t),!1;var r=e("<div class='jqx-editor-window jqx-editor-image-window'><div>"+i.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+i.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+i.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+i.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");r[0].id="imageWindow"+this.element.id;var n=r.find("input");n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-widget-content")),n.addClass(i.toThemeProperty("jqx-input")),r.find(".jqx-editor-align").jqxDropDownList({hint:!1,autoDropDownHeight:!0,selectedIndex:0,theme:i.theme,height:23,width:180,source:[i.localization["not set"],i.localization.Left,i.localization.Right]});var o=r.find("button:first").jqxButton({theme:i.theme}),a=r.find("button:last").jqxButton({theme:i.theme}),l=e(r.find("button")[1]).jqxButton({theme:i.theme});return o.val(i.localization.Ok),a.val(i.localization.Cancel),l.val(i.localization.Remove),l.hide(),i.addHandler(l,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus"),e(i.editImage).remove(),i.editImage=null,i._preventDefault(t),r.jqxWindow("close"),i._raiseEvent("change")}),i.addHandler(a,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus"),i.editImage=null,i._preventDefault(t)}),i.addHandler(o,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus");var n=r.find("input"),o=(i.editImage?e(i.editImage):e('<img style="border: 1px solid transparent;">')).attr("src",n[0].value).attr("unselectable","on");n[1].value&&o.attr("alt",n[1].value).attr("title",n[1].value),n[2].value&&!isNaN(parseInt(n[2].value))?o.width(n[2].value):o.css("width","auto"),n[3].value&&!isNaN(parseInt(n[3].value))?o.height(n[3].value):o.css("height","auto"),n[4].value?"auto"==n[4].value.toString()?(o.css("margin-left","auto"),o.css("margin-right","auto")):-1!=n[4].value.toString().indexOf("%")?(o.css("margin-left",parseInt(n[4].value)+"%"),o.css("margin-right",parseInt(n[4].value)+"%")):(o.css("margin-left",parseInt(n[4].value)+"px"),o.css("margin-right",parseInt(n[4].value)+"px")):(o.css("margin-left","0px"),o.css("margin-right","0px")),n[5].value?"auto"==n[5].value.toString()?(o.css("margin-top","auto"),o.css("margin-bottom","auto")):-1!=n[5].value.toString().indexOf("%")?(o.css("margin-top",parseInt(n[5].value)+"%"),o.css("margin-bottom",parseInt(n[5].value)+"%")):(o.css("margin-top",parseInt(n[5].value)+"px"),o.css("margin-bottom",parseInt(n[5].value)+"px")):(o.css("margin-top","0px"),o.css("margin-bottom","0px"));var a=r.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==a?o.css("float","left"):2==a?o.css("float","right"):0==a&&o.css("float","none"),o.css("resize",!1),o[0].oncontrolselect=function(){return!1},o[0].selectstart=function(){return!1},!i.editImage){i.focused||i.editor.focus(),i.range&&i.selectRange(i.range),i.execute("insertHTML",o[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",s),i.editor.focus();var l=e(i.editorDocument).find("#INSERTION_MARKER");i.selection.selectNode(l[0],!0),i.getRange().setStartAfter&&i.getRange().setStartAfter(l[0]),l.remove(),i.selection.collapse(!1),i._refreshTools(),i._preventDefault(t)}i.editImage=null,i._preventDefault(t)}),r.appendTo(document.body),i.updating=!0,i.addHandler(r,"open",function(){i.updating=!0,setTimeout(function(){i.range=i.getRange(),e(n[0]).focus()},25)}),r.jqxWindow({resizable:!1,width:280,okButton:o,cancelButton:a,theme:i.theme,isModal:!0,position:{center:i.widget}}),i.addHandler(r,"close",function(){i.updating=!1}),i.focused||(i.editor.focus(),i.selectRange(i.range)),i._preventDefault(t),!1}i._preventDefault(t)},editmode:function(t){var i=this;if(t||i.readOnly){if(t&&i.readOnly){s=i.editor.find("#sourceText").text();i.editor.html(s),i.buttons.hasOwnProperty("html")&&i.buttons.html.removeClass("active"),i.editor.attr("contentEditable",!0),i._addHandlers()}}else{i._removeHandlers(),i.editor.attr("contentEditable",!1);var s=document.createTextNode(i.editor.html()),r=e("<pre>");r.html(s).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),i.editor.html(r),i.buttons.hasOwnProperty("html")&&i.buttons.html.addClass("active"),r.focus()}i.readOnly=!t},setMode:function(t){var s,r=this;r.range||(r.editor.focus(),r.range=r.getRange());var n=r.editor[0];if(t){r._documentMode="source";var o=new i,a=o.HTMLtoXML(n.innerHTML);a=o.FormatHTML(a),s=document.createTextNode(a),n.innerHTML="";var l=document.createElement("pre");n.contentEditable=!1,l.style.height="100%",l.style.margin="0px",l.style.outline="none",l.style.display="block",l.id="sourceText",l.contentEditable=!0,l.appendChild(s),n.appendChild(l),this.readOnly=!0}else this._documentMode="html",document.all?n.innerHTML=n.innerText:n.textContent?n.innerHTML=n.textContent:((s=document.createRange()).selectNodeContents(n.firstChild),n.innerHTML=s.toString()),n.contentEditable=!0,r.readOnly=!1,r._refreshTools(),r.editor.focus(),r.selection.selectNode(r.editor[0]),r.editor.scrollTop(0),r.selection.collapse(!0);if(e.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:t});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:t});break;case"button":this.widget.jqxButton({disabled:t});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:t})}}),r.editor.focus(),e.jqx.browser.mozilla){var d=e("<a href='#'>anchor</a>");r.editor.prepend(d),d.focus(),d.remove(),r.selection.collapse(!0)}r.commands.html.widget&&(r.commands.html.widget.jqxToggleButton({toggled:"source"==t||1==t}),r.commands.html.toggled="source"==t||1==t)},execute:function(t,i,s){var r=this;if(!r.readOnly){var n=r.editorDocument;if("source"==r._documentMode)return;r.changeType="mouse",r.linkPopup&&r.linkPopup.remove(),r.editor.focus(),e.jqx.browser.mozilla,e.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var o=function(t){try{if(t.command&&"inserthtml"==t.command.toLowerCase()){var i=r.getRange(),s=t.value;-1==s.toString().indexOf("<")&&(s="<span>"+t.value+"</span>"),r.selection.insertContent(s+"<span id='INSERTION_MARKER'>&nbsp;</span>"),r.selectRange(i),setTimeout(function(){var t=e(r.editorDocument).find("#INSERTION_MARKER");r.selection.selectNode(e(t).prev()[0],!0),t.remove(),r.selection.collapse(!1)},10)}else if(t.command){if(!n.queryCommandEnabled(t.command))return!1;n.execCommand(t.command,!1,t.value)}else{if(!n.queryCommandEnabled(t))return!1;n.execCommand(t,!1,t)}}catch(e){}};if("custom"==t)(a=i.action(i.widget,r.editor))&&o(a);else try{var a;if(s&&s.action)o(a=s.action(s.widget,r.editor));else if(n.queryCommandEnabled(t))n.execCommand(t,!1,i);else{if("insertHTML"!=t)return!1;r.selection.insertContent(i)}}catch(e){if("insertHTML"!=t)return!1;r.selection.insertContent(i)}e.jqx.mobile.isTouchDevice()&&setTimeout(function(){r.iframe&&r.iframe[0].contentWindow.focus()},500),r._raiseEvent("change",{command:t,args:i}),r.changed=!0,r.range=r.getRange()}},destroy:function(){var t=this;t._removeHandlers();var i=t.tools.split(" "),s=t.tools.split(" | ");e.jqx.utilities.resize(this.host,null,!0);var r=function(i){e.each(i,function(i,s){var r=t.commands[this];if(!r)return!0;switch(r.type){case"list":r.widget.jqxDropDownList("destroy");break;case"colorPicker":r.colorPicker.remove(),r.widget.jqxDropDownButton("destroy");break;case"toggleButton":r.widget.jqxToggleButton("destroy");break;case"custom":t.destroyTool&&t.destroyTool(this);break;case"button":default:r.widget.jqxToggleButton("destroy"),"insertimage"===r.command?e("#imageWindow"+t.element.id).length>0&&(e("#imageWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#imageWindow"+t.element.id).find("button").jqxButton("destroy")):"createlink"===r.command&&e("#linkWindow"+t.element.id).length>0&&(e("#linkWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#linkWindow"+t.element.id).find("button").jqxButton("destroy"),e("#linkWindow"+t.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})};if(0==s.length)r(i);else for(var n=0;n<s.length;n++){r(i=s[n].split(" "))}var o=e("#linkWindow"+this.element.id),a=e("#imageWindow"+this.element.id);o&&o.length>0&&o.jqxWindow("destroy"),a&&a.length>0&&a.jqxWindow("destroy"),t.inline?t.toolbar.remove():(t.widget.remove(),t.host.remove()),t.iframe.remove(),t.iframe=null,t.selection=null,t.editorDocument=null,t.contentEditableElement=null},val:function(e){if(void 0!==e&&"source"===e){var t=this.editor[0];"source"===this._documentMode&&(t=this.editor.find("pre:first")[0]);var s=new i,r=s.HTMLtoXML(t.innerHTML);return r=s.FormatHTML(r)}return null!=e&&"object"!=typeof e&&this.editor.html(e),"source"===this._documentMode?this.editor.find("pre:first").html():this.editor.html()},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),"source"==this._documentMode)return!0;var s=t;i.type=this.changeType,this.changeType=null;var r=i;r.owner=this;var n=new e.Event(s);if(n.owner=this,n.args=r,this._textArea)var o=e(this._textArea).trigger(n);else o=this.host.trigger(n);return i=n.args,o}});var t=function(t){var i={initialize:function(e){this.document=e},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var e=this.getSelection();if(!e)return null;try{return e.rangeCount>0?e.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(e){return this.document.body.createTextRange()}},selectRange:function(e){if(e.select)e.select();else{var t=this.getSelection();t.addRange&&(t.removeAllRanges(),t.addRange(e))}},selectNode:function(e,t){var i=this.getRange(),s=this.getSelection();if(i.moveToElementText)i.moveToElementText(e),i.select();else if(s.addRange)try{t?i.selectNodeContents(e):i.selectNode(e),s.removeAllRanges(),s.addRange(i)}catch(e){}else s.setBaseAndExtent(e,0,e,1);return e},isCollapsed:function(){var e=this.getRange();return!e.item&&(0==e.boundingWidth||this.getSelection().isCollapsed)},collapse:function(e){var t=this.getRange(),i=this.getSelection();t.select?(t.collapse(e),t.select()):e?i.collapseToStart():i.collapseToEnd()},getContent:function(){var t=this.getRange(),i=e("<div>")[0];return this.isCollapsed()?"":(t.cloneContents?i.appendChild(t.cloneContents()):null!=t.item||null!=t.htmlText?e(i).html(t.item?t.item(0).outerHTML:t.htmlText):e(i).html(t.toString()),e(i).html())},getText:function(){var e=this.getRange(),t=this.getSelection();return this.isCollapsed()?"":e.text||(t.toString?t.toString():"")},getNode:function(){var i=this.getRange();if(!e.jqx.browser.msie||e.jqx.browser.version>=9){var s=null;if(i)for(s=i.commonAncestorContainer,i.collapsed||i.startContainer==i.endContainer&&i.startOffset-i.endOffset<2&&i.startContainer.hasChildNodes()&&(s=i.startContainer.childNodes[i.startOffset]);"element"!=typeof s;)s=s.parentNode;return t.id(s)}return t.id(i.item?i.item(0):i.parentElement())},insertContent:function(e){var t=this.getRange();if(t.pasteHTML)t.pasteHTML(e),t.collapse(!1),t.select();else if(t.insertNode)if(t.deleteContents(),t.createContextualFragment)t.insertNode(t.createContextualFragment(e));else{var i=this.document,s=i.createDocumentFragment(),r=i.createElement("div");s.appendChild(r),r.outerHTML=e,t.insertNode(s)}}};return i.initialize(t),i},i=function(){var e=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,t=/^<\/([-A-Za-z0-9_]+)[^>]*>/,i=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,s=h("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),r=h("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),n=h("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),o=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),a=h("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),l=h("script,style"),d=this.HTMLParser=function(d,h){var c,u,p,m=[];for(m.last=function(){return this[this.length-1]};d;){if(u=!0,m.last()&&l[m.last()])d=d.replace(new RegExp("(.*)</"+m.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),h.chars&&h.chars(t),""}),v("",m.last());else if(0==d.indexOf("\x3c!--")?(c=d.indexOf("--\x3e"))>=0&&(h.comment&&h.comment(d.substring(4,c)),d=d.substring(c+3),u=!1):0==d.indexOf("</")?(p=d.match(t))&&(d=d.substring(p[0].length),p[0].replace(t,v),u=!1):0==d.indexOf("<")&&(p=d.match(e))&&(d=d.substring(p[0].length),p[0].replace(e,g),u=!1),u){var f=(c=d.indexOf("<"))<0?d:d.substring(0,c);d=c<0?"":d.substring(c),h.chars&&h.chars(f)}d}function g(e,t,l,d){if(t=t.toLowerCase(),r[t])for(;m.last()&&n[m.last()];)v("",m.last());if(o[t]&&m.last()==t&&v("",t),(d=s[t]||!!d)||m.push(t),h.start){var c=[];l.replace(i,function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:a[t]?t:"";c.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})}),h.start&&h.start(t,c,d)}}function v(e,t){if(t)for(i=m.length-1;i>=0&&m[i].toLowerCase()!=t.toLowerCase();i--);else var i=0;if(i>=0){for(var s=m.length-1;s>=i;s--)h.end&&h.end(m[s]);m.length=i}}v()};function h(e){for(var t={},i=e.split(","),s=0;s<i.length;s++)t[i[s]]=!0;return t}this.HTMLtoXML=function(e){var t="";return e=(e=e.replace(/\r/gi,"")).replace(/\n/gi,""),d(e,{start:function(e,i,s){t+="<"+e;for(var r=0;r<i.length;r++)t+=" "+i[r].name+'="'+i[r].escaped+'"';t+=(s?"/":"")+">"},end:function(e){t+="</"+e+">\r\n"},chars:function(e){t+=e},comment:function(e){t+="\x3c!--"+e+"--\x3e"}}),t},this.FormatHTML=function(e,t){var i,s,r,n,o;for(s=(t=t||{}).indent_size||4,r=t.indent_char||" ",n=t.brace_style||"collapse",1/0,o=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(i=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}},this.get_content=function(){for(var e="",t=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(i=!0),this.line_char_count--;else{if(i){if(this.line_char_count>=this.max_char){t.push("\n");for(var s=0;s<this.indent_level;s++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;i=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",i=new RegExp("</"+e+"\\s*>","igm");i.lastIndex=this.pos;var s=i.exec(this.input),r=s?s.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,i="",s=[],r=!1;do{if(this.pos>=this.input.length)return s.length?s.join(""):["","TK_EOF"];i=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(i,this.Utils.whitespace)?(r=!0,this.line_char_count--):("'"!==i&&'"'!==i||s[1]&&"!"===s[1]||(i+=this.get_unformatted(i),r=!0),"="===i&&(r=!1),s.length&&"="!==s[s.length-1]&&">"!==i&&r&&(this.line_char_count>=this.max_char?(this.print_newline(!1,s),this.line_char_count=0):(s.push(" "),this.line_char_count++),r=!1),"<"===i&&(e=this.pos-1),s.push(i))}while(">"!==i);var n,a=s.join("");n=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");var l=a.substring(1,n).toLowerCase();if("/"===a.charAt(a.length-2)||this.Utils.in_array(l,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===l)this.record_tag(l),this.tag_type="SCRIPT";else if("style"===l)this.record_tag(l),this.tag_type="STYLE";else if(this.Utils.in_array(l,o)){var d=this.get_unformatted("</"+l+">",a);s.push(d),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&s.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&s.push(this.input.charAt(t+1)),this.tag_type="SINGLE"}else"!"===l.charAt(0)?-1!=l.indexOf("[if")?(-1!=a.indexOf("!IE")&&(d=this.get_unformatted("--\x3e",a),s.push(d)),this.tag_type="START"):-1!=l.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!=l.indexOf("[cdata[")?(d=this.get_unformatted("]]>",a),s.push(d),this.tag_type="SINGLE"):(d=this.get_unformatted("--\x3e",a),s.push(d),this.tag_type="SINGLE"):("/"===l.charAt(0)?(this.retrieve_tag(l.substring(1)),this.tag_type="END"):(this.record_tag(l),this.tag_type="START"),this.Utils.in_array(l,this.Utils.extra_liners)&&this.print_newline(!0,this.output));return s.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var i="",s="",r=!0;do{if(this.pos>=this.input.length)return s;if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===i||"\r"===i){s+="\n",this.line_char_count=0;continue}}s+=i,this.line_char_count++,r=!0}while(-1==s.indexOf(e));return s},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,i,s,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=i,this.brace_style=r,this.indent_level=0,this.max_char=s,this.line_char_count=0;for(var n=0;n<this.indent_size;n++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var i=0;i<this.indent_level;i++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,r,s,1/0,n);;){var a=i.get_token();if(i.token_text=a[0],i.token_type=a[1],"TK_EOF"===i.token_type)break;switch(i.token_type){case"TK_TAG_START":i.print_newline(!1,i.output),i.print_token(i.token_text),i.indent(),i.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===i.last_token&&""===i.last_text){var l=i.token_text.match(/\w+/)[0],d=i.output[i.output.length-1].match(/<\s*(\w+)/);null!==d&&d[1]===l||i.print_newline(!0,i.output)}i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var h=i.token_text.match(/^\s*<([a-z]+)/i);h&&i.Utils.in_array(h[1],o)||i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_CONTENT":""!==i.token_text&&i.print_token(i.token_text),i.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==i.token_text){i.output.push("\n");var c=i.token_text;if("keep"==t.indent_scripts)var u=0;else if("separate"==t.indent_scripts)u=-i.indent_level;else u=1;var p=i.get_full_indent(u),m=c.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(i.indent_string).length-1,f=i.get_full_indent(u-m);(c=c.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+f).replace(/\s*$/,""))&&(i.print_token(c),i.print_newline(!0,i.output))}i.current_mode="TAG"}i.last_token=i.token_type,i.last_text=i.token_text}return i.output.join("")}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)t.refresh();else{this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var s=this._headerText.className;this._headerElement.className=s,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===s&&!1===i?(this.expanded=!1,this.expand()):!1===s&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",s="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?s+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(s+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(s)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0);break;case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0;break;case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxFileUpload","",{}),e.extend(e.jqx._jqxFileUpload.prototype,{defineInstance:function(){var t={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};return this===e.jqx._jqxFileUpload.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;if(void 0===t.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");t._createFromInput("jqxFileUpload"),e.jqx.browser.msie?e.jqx.browser.version<11&&(t._ieOldWebkit=!0,e.jqx.browser.version<8&&(t._ie7=!0)):e.jqx.browser.webkit&&(t._ieOldWebkit=!0),t._fluidWidth="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1),t._fluidHeight="string"==typeof t.height&&"%"===t.height.charAt(t.height.length-1),t._render(!0)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var r=e("<div></div>",s);r[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(r);var n=i.host.data();if(i.host=r,i.host.data(n),i.element=r[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var o=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=o}}},_render:function(t){var i=this;i._setSize(),i._addClasses(),!0===t?i._appendElements():i._removeHandlers(),i._addHandlers(),i._ie7&&(i._borderAndPadding("width",i.host),"auto"!==i.height&&i._borderAndPadding("height",i.host)),e.jqx.utilities.resize(i.host,null,!0),e.jqx.utilities.resize(i.host,function(){if(i._fluidWidth){i._ie7&&(i.host.css("width",i.width),i._borderAndPadding("width",i.host));for(var e=0;e<i._fileRows.length;e++){var t=i._fileRows[e],s=t.fileRow;i._ie7&&(s.css("width","100%"),i._borderAndPadding("width",s)),i.renderFiles||i._setMaxWidth(t)}if(i.rtl&&i._ieOldWebkit)for(var r=0;r<i._forms.length;r++){var n=i._browseButton.position();i._forms[r].form.css({left:n.left,top:n.top})}}i._ie7&&i._fluidHeight&&(i.host.css("height",i.height),i._borderAndPadding("height",i.host))})},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){var e=this;e.cancelAll(),e._removeHandlers(!0),e.host.remove()},browse:function(){if(!(e.jqx.browser.msie&&e.jqx.browser.version<10)){var t=this;(!0===t.multipleFilesUpload||!1===t.multipleFilesUpload&&0===t._fileRows.length)&&t._forms[t._forms.length-1].fileInput.click()}},_uploadFile:function(e){var t=this;0===t._uploadQueue.length&&t._uploadQueue.push(e),t.renderFiles||(e.uploadFile.add(e.cancelFile).hide(),e.loadingElement.show()),e.fileInput.attr("name",t.fileInputName),t._raiseEvent("2",{file:e.fileName}),e.form[0].submit(),t._fileObjectToRemove=e},uploadFile:function(e){var t=this._fileRows[e];void 0!==t&&this._uploadFile(t)},uploadAll:function(){var e=this;if(e._fileRows.length>0){for(var t=e._fileRows.length-1;t>=0;t--)e._uploadQueue.push(e._fileRows[t]);e._uploadFile(e._fileRows[0])}},cancelFile:function(e){this._removeSingleFileRow(this._fileRows[e])},cancelAll:function(){var e=this;if(e._fileRows.length>0){for(var t=0;t<e._fileRows.length;t++)e._removeFileRow(e._fileRows[t]);setTimeout(function(){e._browseButton.css("margin-bottom",0)},400),e._fileRows.length=0,e._hideButtons(!0)}},propertyChangedHandler:function(t,i,s,r){var n=t.element.id;if("localization"===i)return!r.browseButton||s&&r.browseButton===s.browseButton||(t._browseButton.text(r.browseButton),t._browseButton.jqxButton({width:"auto"})),!r.uploadButton||s&&r.uploadButton===s.uploadButton||(t._uploadButton.text(r.uploadButton),t._uploadButton.jqxButton({width:"auto"})),!r.cancelButton||s&&r.cancelButton===s.cancelButton||(t._cancelButton.text(r.cancelButton),t._cancelButton.jqxButton({width:"auto"})),void(t.renderFiles||(!r.uploadFileTooltip||s&&r.uploadFileTooltip===s.uploadFileTooltip||e("#"+n+" .jqx-file-upload-file-upload").attr("title",r.uploadFileTooltip),!r.uploadFileTooltip||s&&r.cancelFileTooltip===s.cancelFileTooltip||e("#"+n+" .jqx-file-upload-file-cancel").attr("title",r.cancelFileTooltip)));if(r!==s)switch(i){case"width":if(t.host.css("width",r),t._ie7){t._borderAndPadding("width",t.host);for(var o=0;o<t._fileRows.length;o++){var a=t._fileRows[o].fileRow;a.css("width","100%"),t._borderAndPadding("width",a)}}return void(t._fluidWidth="string"==typeof r&&"%"===r.charAt(r.length-1));case"height":return t.host.css("height",r),t._ie7&&t._borderAndPadding("height",t.host),void(t._fluidHeight="string"==typeof r&&"%"===r.charAt(r-1));case"uploadUrl":for(var l=0;l<t._forms.length;l++)t._forms[l].form.attr("action",r);return;case"accept":for(var d=0;d<t._forms.length;d++)t._forms[d].fileInput.attr("accept",r);return;case"theme":return e.jqx.utilities.setTheme(s,r,t.host),t._browseButton.jqxButton({theme:r}),t._uploadButton.jqxButton({theme:r}),void t._cancelButton.jqxButton({theme:r});case"browseTemplate":return void t._browseButton.jqxButton({template:r});case"uploadTemplate":return void t._uploadButton.jqxButton({template:r});case"cancelTemplate":return void t._cancelButton.jqxButton({template:r});case"disabled":return t._browseButton.jqxButton({disabled:r}),t._uploadButton.jqxButton({disabled:r}),t._cancelButton.jqxButton({disabled:r}),void(!0===r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));case"rtl":return void function(i){var s=i?"addClass":"removeClass";t._browseButton[s](t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton[s](t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton[s](t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton[s](t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var r=0;r<t._fileRows.length;r++){var n=t._fileRows[r];n.fileNameContainer[s](t.toThemeProperty("jqx-file-upload-file-name-rtl")),n.cancelFile[s](t.toThemeProperty("jqx-file-upload-file-cancel-rtl")),n.uploadFile[s](t.toThemeProperty("jqx-file-upload-file-upload-rtl")),n.loadingElement[s](t.toThemeProperty("jqx-file-upload-loading-element-rtl"))}}(r)}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_borderAndPadding:function(e,t){var i;i="width"===e?parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10)+parseInt(t.css("padding-left"),10)+parseInt(t.css("padding-right"),10):parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10),t.css(e,t[e]()-i)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),!0===e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var t=this,i="Browse",s=90,r="Upload All",n=90,o="Cancel All",a=90,l=t.element.id;t.localization&&(t.localization.browseButton&&(i=t.localization.browseButton,s="auto"),t.localization.uploadButton&&(r=t.localization.uploadButton,n="auto"),t.localization.cancelButton&&(o=t.localization.cancelButton,a="auto")),t._browseButton=e('<button id="'+l+'BrowseButton" class="'+t.toThemeProperty("jqx-file-upload-button-browse")+'">'+i+"</button>"),t.host.append(t._browseButton),t._browseButton.jqxButton({theme:t.theme,width:s,template:t.browseTemplate,disabled:t.disabled}),t._browseButton.after('<div style="clear: both;"></div>'),t._bottomButtonsContainer=e('<div class="'+t.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),t.host.append(t._bottomButtonsContainer),t._uploadButton=e('<button id="'+l+'UploadButton" class="'+t.toThemeProperty("jqx-file-upload-button-upload")+'">'+r+"</button>"),t._bottomButtonsContainer.append(t._uploadButton),t._uploadButton.jqxButton({theme:t.theme,width:n,template:t.uploadTemplate,disabled:t.disabled}),t._cancelButton=e('<button id="'+l+'CancelButton" class="'+t.toThemeProperty("jqx-file-upload-button-cancel")+'">'+o+"</button>"),t._bottomButtonsContainer.append(t._cancelButton),t._cancelButton.jqxButton({theme:t.theme,width:a,template:t.cancelTemplate,disabled:t.disabled}),t._bottomButtonsContainer.after('<div style="clear: both;"></div>'),t.rtl&&(t._browseButton.addClass(t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton.addClass(t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),t._uploadIframe=e('<iframe name="'+l+'Iframe" class="'+t.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),t.host.append(t._uploadIframe),t._iframeInitialized=!1,t._uploadQueue=[],t._forms=[],t._addFormAndFileInput(),t._fileRows=[]},_addFormAndFileInput:function(){var t=this,i=t.element.id,s=e('<form class="'+t.toThemeProperty("jqx-file-upload-form")+'" action="'+t.uploadUrl+'" target="'+i+'Iframe" method="post" enctype="multipart/form-data"></form>');t.host.append(s);var r=e('<input type="file" class="'+t.toThemeProperty("jqx-file-upload-file-input")+'" />');if(t.accept&&r.attr("accept",t.accept),s.append(r),t._ieOldWebkit){var n=t._browseButton.position(),o=t._browseButton.outerWidth(),a=t._browseButton.outerHeight(),l=t.rtl&&t._ie7?12:0;s.css({left:n.left-l,top:n.top,width:o,height:a}),s.addClass(t.toThemeProperty("jqx-file-upload-form-ie9")),r.addClass(t.toThemeProperty("jqx-file-upload-file-input-ie9")),t.addHandler(s,"mouseenter.jqxFileUpload"+i,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(s,"mouseleave.jqxFileUpload"+i,function(){t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(s,"mousedown.jqxFileUpload"+i,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxFileUpload"+i,function(){t._browseButton.hasClass("jqx-fill-state-pressed")&&t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))})}t.addHandler(r,"change.jqxFileUpload"+i,function(){var n,o=this.value;o=-1!==o.indexOf("fakepath")?o.slice(12):o.slice(o.lastIndexOf("\\")+1),n=e.jqx.browser.msie&&e.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size;var a=t._addFileRow(o,s,r,n);1===t._fileRows.length&&(t._browseButton.css("margin-bottom","10px"),t._hideButtons(!1)),t._ieOldWebkit&&(t.removeHandler(s,"mouseenter.jqxFileUpload"+i),t.removeHandler(s,"mouseleave.jqxFileUpload"+i),t.removeHandler(s,"mousedown.jqxFileUpload"+i)),t._addFormAndFileInput(),t.removeHandler(r,"change.jqxFileUpload"+i),!0===t.autoUpload&&t._uploadFile(a)}),!0===t._ieOldWebkit&&t.addHandler(r,"click.jqxFileUpload"+i,function(e){!1===t.multipleFilesUpload&&t._fileRows.length>0&&e.preventDefault()}),t._forms.push({form:s,fileInput:r})},_addFileRow:function(t,i,s,r){var n,o,a,l,d,h=this,c="Cancel",u="Upload File";n=e('<div class="'+h.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),0===h._fileRows.length?h._browseButton.after(n):h._fileRows[h._fileRows.length-1].fileRow.after(n),h.renderFiles?n.html(h.renderFiles(t)):(o=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+t+"</div>"),n.append(o),h.localization&&(h.localization.cancelFileTooltip&&(c=h.localization.cancelFileTooltip),h.localization.uploadFileTooltip&&(u=h.localization.uploadFileTooltip)),l=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+c+'"><div class="'+h.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),n.append(l),d=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+u+'"><div class="'+h.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),n.append(d),a=e('<div class="'+h.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),n.append(a),h.rtl&&(o.addClass(h.toThemeProperty("jqx-file-upload-file-name-rtl")),l.addClass(h.toThemeProperty("jqx-file-upload-file-cancel-rtl")),d.addClass(h.toThemeProperty("jqx-file-upload-file-upload-rtl")),a.addClass(h.toThemeProperty("jqx-file-upload-loading-element-rtl"))),h._setMaxWidth({fileNameContainer:o,uploadFile:d,cancelFile:l})),h._ie7&&(h._borderAndPadding("width",n),h._borderAndPadding("height",n),h.renderFiles||(h._borderAndPadding("height",o),h._borderAndPadding("height",d),h._borderAndPadding("height",l)));var p={fileRow:n,fileNameContainer:o,fileName:t,uploadFile:d,cancelFile:l,loadingElement:a,form:i,fileInput:s,index:h._fileRows.length};return h._addFileHandlers(p),h._fileRows.push(p),h._raiseEvent("0",{file:t,size:r}),p},_setMaxWidth:function(e){var t=this,i=e.cancelFile.outerWidth(!0)+e.uploadFile.outerWidth(!0),s=t._ie7?6:0,r=t.host.width()-parseInt(t.host.css("padding-left"),10)-parseInt(t.host.css("padding-right"),10)-i-s-7;e.fileNameContainer.css("max-width",r)},_addFileHandlers:function(e){var t=this;if(!t.renderFiles){var i=t.element.id;t.addHandler(e.uploadFile,"mouseenter.jqxFileUpload"+i,function(){!1===t.disabled&&e.uploadFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"mouseleave.jqxFileUpload"+i,function(){!1===t.disabled&&e.uploadFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"click.jqxFileUpload"+i,function(){!1===t.disabled&&t._uploadFile(e)}),t.addHandler(e.cancelFile,"mouseenter.jqxFileUpload"+i,function(){!1===t.disabled&&e.cancelFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"mouseleave.jqxFileUpload"+i,function(){!1===t.disabled&&e.cancelFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"click.jqxFileUpload"+i,function(){!1===t.disabled&&t._removeSingleFileRow(e)})}},_removeSingleFileRow:function(e){var t=this;if(t._removeFileRow(e),t._fileRows.splice(e.index,1),0===t._fileRows.length)setTimeout(function(){t._browseButton.css("margin-bottom",0)},400),t._hideButtons(!0);else for(var i=0;i<t._fileRows.length;i++)t._fileRows[i].index=i},_removeFileRow:function(e){var t=this,i=t.element.id;t.renderFiles||(t.removeHandler(e.uploadFile,"mouseenter.jqxFileUpload"+i),t.removeHandler(e.uploadFile,"mouseleave.jqxFileUpload"+i),t.removeHandler(e.uploadFile,"click.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"mouseenter.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"mouseleave.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"click.jqxFileUpload"+i)),e.fileRow.fadeOut(function(){e.fileRow.remove(),e.form.remove()}),t._raiseEvent("1",{file:e.fileName})},_hideButtons:function(e){!0===e?this._bottomButtonsContainer.fadeOut():this._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var t=this,i=t.element.id;t._ieOldWebkit||t.addHandler(t._browseButton,"click.jqxFileUpload"+i,function(){t.browse()}),t.addHandler(t._uploadButton,"click.jqxFileUpload"+i,function(){t.uploadAll()}),t.addHandler(t._cancelButton,"click.jqxFileUpload"+i,function(){t.cancelAll()}),t.addHandler(t._uploadIframe,"load.jqxFileUpload"+i,function(){if((e.jqx.browser.chrome||e.jqx.browser.webkit)&&(t._iframeInitialized=!0),!1===t._iframeInitialized)t._iframeInitialized=!0;else{var i=t._uploadIframe.contents().find("body").html();t._uploadQueue.length>0&&t._raiseEvent("3",{file:t._uploadQueue[t._uploadQueue.length-1].fileName,response:i}),t._fileObjectToRemove&&(t._removeSingleFileRow(t._fileObjectToRemove),t._fileObjectToRemove=null),t._uploadQueue.pop(),t._uploadQueue.length>0&&t._uploadFile(t._uploadQueue[t._uploadQueue.length-1])}})},_removeHandlers:function(t){var i=this,s=i.element.id;if(i.removeHandler(i._browseButton,"click.jqxFileUpload"+s),i.removeHandler(i._uploadButton,"click.jqxFileUpload"+s),i.removeHandler(i._cancelButton,"click.jqxFileUpload"+s),i.removeHandler(i._uploadIframe,"load.jqxFileUpload"+s),!0===t){var r=i._forms[i._forms.length-1];i.removeHandler(r.fileInput,"change.jqxFileUpload"+s),i._ieOldWebkit&&(i.removeHandler(r.form,"mouseenter.jqxFileUpload"+s),i.removeHandler(r.form,"mouseleave.jqxFileUpload"+s),i.removeHandler(r.form,"mousedown.jqxFileUpload"+s),i.removeHandler(e("body"),"mouseup.jqxFileUpload"+s))}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxForm","",{}),e.extend(e.jqx._jqxForm.prototype,{defineInstance:function(){e.extend(!0,this,{padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#F5F5F5",borderColor:"#E5E5E5",value:{},template:[{type:"text",label:"TextBox 1"},{type:"text",label:"TextBox 2"}]})},createInstance:function(e){var t=this;t._isInitialized=!1,t.host.addClass(t.toThemeProperty("jqx-widget")),t._renderAndInit(),this._setValue(this.value),this._prevValue=this._getValue(),t._isInitialized=!0},destroy:function(){this._destroyElements(),this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_destroyElements:function(){for(var t=0;t<this.template.length;t++){if(e.isArray(this.template[t].columns))for(var i=0;i<this.template[t].columns.length;i++){var s=t+"_"+i;this._getComponentById(s).off(),this.host.find("#rowWrap_el_"+s).remove()}this._getComponentById(t).off(),this._getComponentLabelById(t).off(),this._getComponentLabelById(t).removeData(),this.host.find("#rowWrap_el_"+t).remove()}this.host.find("#formWrap").remove()},val:function(e){if(null==e)return this._getValue();this._setValue(e)},_onChangeHandler:function(t){if(this.isInitialized&&!this._suppressEvents){var i=this._getValue();if(!this._prevValue||JSON.stringify(i)!=JSON.stringify(this._prevValue)){var s=new e.Event("formDataChange");s.args={value:i,previousValue:this._prevValue},s.owner=this;var r=this.host.trigger(s);return s.cancel?this._setValue(this._prevValue):this._prevValue=i,r}}},_onButtonClick:function(t,i){if(this.isInitialized){var s=new e.Event("buttonClick");return s.args={name:i.name,text:t.val()},s.owner=this,this.host.trigger(s)}},submit:function(e,t,i){var s=this,r=s._getValue(!0),n="<form id='jqx_fromToSubmit'";e&&(n+=' action="'+e+'"'),t&&(n+=' target="'+t+'"'),i&&"get"===i.toString().toLowerCase()?n+=' method="GET"':n+=' method="POST"',n+=">";for(var o=0;o<r.length;o++){var a=r[o].value,l=r[o].tool,d=l.name;null==d&&(d=l.id),null==d&&(d=l.bind),("button"!=l.type&&"label"!=l.type||l.submit&&0!=l.submit)&&(0!=l.submit&&void 0!==d&&(n+='<input type="hidden" ',n+=' name="'+d+'"',n+=' value="'+a+'"',n+=">"))}n+="</form>",s.host.find("#formSubmit").html(n),s.host.find("#jqx_fromToSubmit").submit()},_getValue:function(t){for(var i={},s=[],r=0;r<this.template.length;r++){var n=this.template[r],o="el_"+this.element.id+r;if(e.isArray(n.columns))for(var a=0;a<n.columns.length;a++){var l=n.columns[a],d=o+"."+a;if("option"!=l.type||"jqxDropDownList"==l.component){void 0===(c=this._getComponentById(r+"_"+a).val())&&(c=null),null==l.bind||this._setObjectProperty(i,l.bind,c),t&&s.push({tool:l,value:c})}else{var h=this._radioGroupGetValue(l,d);null==l.bind||this._setObjectProperty(i,l.bind,h),t&&s.push({tool:l,value:h})}}else if("option"!=n.type||"jqxDropDownList"==n.component){var c;void 0===(c=this._getComponentById(r).val())&&(c=null),null==n.bind||this._setObjectProperty(i,n.bind,c),t&&s.push({tool:n,value:c})}else{h=this._radioGroupGetValue(n,o);null==n.bind||this._setObjectProperty(i,n.bind,h),t&&s.push({tool:n,value:h})}}return t?s:e.extend({},this._prevValue,i)},_getObjectProperty:function(e,t){if("object"!=typeof e||void 0===e||void 0===t||""==t)return e;for(var i=t.split("."),s=e,r=0;r<i.length;r++)s=s[i[r]];return s},_setObjectProperty:function(e,t,i){if(void 0!==e)if(null!=t&&""!=t){for(var s=t.split("."),r=0;r<s.length-1;)null==e[s[r]]&&(e[s[r]]={}),r++;e[s[r]]=i}else e=i},_setValue:function(t){this._suppressEvents=!0;for(var i=0;i<this.template.length;i++){var s=this.template[i],r="el_"+this.element.id+i,n=void 0;if(e.isArray(s.columns))for(var o=0;o<s.columns.length;o++){var a=s.columns[o],l=r+"."+o;if(a.bind)if(n=this._getObjectProperty(t,a.bind),"option"!=a.type||"jqxDropDownList"==a.component){var d=this._getComponentById(i+"_"+o);void 0!==t&&d.val(n)}else this._radioGroupSetValue(a,l,n)}else if(s.bind)if(n=this._getObjectProperty(t,s.bind),"option"!=s.type||"jqxDropDownList"==s.component){var h=this._getComponentById(i);"label"!=s.type?void 0!==t&&h.val(n):h.html(n)}else this._radioGroupSetValue(s,r,n)}this._prevValue=t,this._suppressEvents=!1},_radioGroupGetValue:function(e,t){for(var i=0;i<e.options.length;i++){var s=t+"_option_"+i,r=this.host.find("#"+s);if(r.length>0)if(1==r.jqxRadioButton("val"))return void 0!==e.options[i].value?e.options[i].value:e.options[i].label}},_radioGroupSetValue:function(e,t,i){for(var s=0;s<e.options.length;s++){if(void 0!==e.options[s].value){if(i!==e.options[s].value)continue}else if(i!==e.options[s].label)continue;var r=t+"_option_"+s,n=this.host.find("#"+r);n.length>0&&n.jqxRadioButton("val",!0)}},_getToolStyle:function(e){var t="display: block;";return e.height&&(t+="height: "+e.height+";"),void 0!==e.valign?t+="vertical-align: "+e.valign+";":t+="vertical-align: middle;",t},_getAlignMargin:function(e,t){if(!e||!e[t])return"";var i=["left","right","top","bottom"],s={},r="";if(e[t]&&(s={},"left"==e[t]?(s.left="0px",s.right="auto"):"right"==e[t]?(s.left="auto",s.right="0px"):(s.left="auto",s.right="auto")),s)for(var n in i)s[i[n]]&&(r+="margin-"+i[n]+": "+s[i[n]]+";");return r},_getPaddingAndMarginStyle:function(t,i){var s="",r=["left","right","top","bottom"],n=i?"labelpadding":"padding",o=i?"labelmargin":"margin",a=e.extend({left:5,top:5,right:5,bottom:5},t[n]);for(var l in a)a[l]=isNaN(a[l])?parseFloat(a[l].toString()):a[l];var d=t[o];if(a)for(var l in r)a[r[l]]&&(s+="padding-"+r[l]+": "+a[r[l]]+"px;");if(d)for(var l in r)d[r[l]]&&(s+="margin-"+r[l]+": "+d[r[l]]+";");return s},_getToolLabelStyle:function(e){var t="display:block;";return void 0!==e.labelheight?t+="height: "+e.labelheight+";":t+="height: 100%;",void 0!==e.labelvalign?t+="vertical-align: "+e.labelvalign+";":void 0!==e.valign?t+="vertical-align: "+e.valign+";":t+="vertical-align: middle;",t},_renderAndInit:function(){var e=this._createTemplateHtml();this.host.append(e),this._initTools()},refresh:function(e){var t=this;if(t._isInitialized&&!0!==e){var i=t.val();t._destroyElements(),t._renderAndInit(),t._prevValue=i,t.val(i)}},_createTemplateHtml:function(){this.groups;for(var e="padding-left: "+parseFloat(this.padding.left)+"px;padding-right: "+parseFloat(this.padding.right)+"px;padding-top: "+parseFloat(this.padding.top)+"px;padding-bottom: "+parseFloat(this.padding.bottom)+"px;",t="<table id='formWrap' style='background-color: "+this.backgroundColor+"; width: 100%; white-space: nowrap; border: 1px solid "+this.borderColor+";"+e+"' cellpadding='0' cellspacing='0'><div id='formSubmit' style='display:hidden;'><div>",i=this.template,s=0;s<i.length;s++){var r="el_"+this.element.id+s,n=this.template[s];t+=this._getToolTemplate(n,r)}return t+="</table>"},_beginRow:function(e,t,i){void 0===t&&(t="auto");var s="<tr style='width: 100%; height: "+t+";' id='rowWrap_"+e+"' "+(i=i?"valign='"+i+"'":"")+">";return s+="<td style='width: 100%;'><table style='width: 100%; white-space: nowrap; border: 0px;' cellspacing='0' cellpadding='0'><tr style='width: 100%'>"},_endRow:function(){return"<td style='width: auto; background: transparent;'> </tr></table></td></tr>"},_beginColumn:function(e,t){t||(t=""),void 0===e&&(e="auto");var i="<td style='width:"+e+"; background: transparent;'>";return i+="<div style='display:block; overflow: visible; width: 100%; background: transparent;'>"},_endColumn:function(){return"</div></td>"},_splitLabelToolWidth:function(t,i){var s=i?"auto":t.columnwidth,r=t.labelwidth,n=e.extend({left:5,top:5,right:5,bottom:5},t.padding),o=e.extend({left:5,top:5,right:5,bottom:5},t.labelpadding);for(var a in n)n[a]=isNaN(n[a])?parseFloat(n[a].toString()):n[a];for(var a in o)o[a]=isNaN(o[a])?parseFloat(o[a].toString()):o[a];return""!=t.label&&null!=t.label||(r=0,o={left:0,right:0,top:0,bottom:0}),"top"==t.labelposition||"bottom"==t.labelposition?(void 0===r&&(r=s),void 0===s&&(s=r),s&&-1!=s.toString().indexOf("%")&&r&&-1!=r.toString().indexOf("%")&&(s=r=Math.max(parseFloat(s),parseFloat(r))+"%"),s&&-1==s.toString().indexOf("%")&&r&&-1==r.toString().indexOf("%")&&(s=r=Math.max(parseFloat(s),parseFloat(r))+"px"),[r,s]):void 0===r?void 0!==s&&"auto"!==s?["auto",s]:"right"==t.labelposition?"right"==t.align||"center"==t.align||"middle"==t.align?["auto","100%"]:["100%","auto"]:["auto","100%"]:-1!==r.toString().indexOf("%")?(r=parseFloat(r),void 0!==s?-1!==s.toString().indexOf("%")?(s=parseFloat(s),[Math.min(100,r)+"%",Math.min(s,100-r)+"%"]):(s=parseFloat(s),[Math.min(100,r)+"%",s]):[Math.min(100,r)+"%",Math.max(0,100-r)+"%"]):(r=parseFloat(r)+o.left+o.right,null==s?[r+"px","calc(100% - "+r+"px)"]:[r+"px",s])},_getToolTemplate:function(t,i,s,r){var n={};for(var o in t)n[o.toLowerCase()]=t[o];if(e.isArray(n.columns)&&isNaN(s)){for(var a=this._beginRow(i,n.rowheight||"auto"),l=0;l<n.columns.length;l++){var d=this._getToolTemplate(n.columns[l],i+"_"+l,void 0,!0),h="auto";void 0!==n.columns[l].columnWidth?h=n.columns[l].columnWidth:void 0!==n.columns[l].width&&(h=n.columns[l].width),a+=this._beginColumn(h),a+="<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+d+"</table>",a+=this._endColumn()}return a+=this._endRow()}if("option"==n.type&&"jqxDropDownList"!=n.component&&isNaN(s)){var c=this._beginRow(i,n.rowheight||"auto",n.valign);for(l=0;l<n.options.length;l++){d=this._getToolTemplate(n,i+"_option_"+l,l,!0);if("horizontal"==n.optionslayout){h=100/Math.max(1,n.options.length)+"%";n.columnwidth&&(h=n.columnwidth),c+=this._beginColumn(h),c+="<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+d+"</table>",c+=this._endColumn()}else c+=d}return c+=this._endRow()}var u=n.labelposition,p=n.label;"option"!=n.type||"jqxDropDownList"==n.component||isNaN(s)||(p=n.options[s].label);void 0===p&&(p="");c="";var m=this._getToolLabelStyle(n)+this._getPaddingAndMarginStyle(n,!0),f=this._getToolStyle(n)+this._getPaddingAndMarginStyle(n,!1),g=this._getAlignMargin(n,"align"),v="text-align: left;";"center"==n.labelalign||"middle"==n.labelalign?v="text-align: center":"right"==n.labelalign&&(v="text-align: right");var x="text-align: left;";"center"==n.align||"middle"==n.align?x="text-align: center":"right"==n.align&&(x="text-align: right");var w=this._splitLabelToolWidth(n,r),y=p;if(n.required){var b="<span class='' style='color:red;'>*</span>";y=n.requiredposition&&"left"==n.requiredposition.toLowerCase()?b+" "+p:p+" "+b}var _="";("boolean"==n.type||"option"==n.type&&!isNaN(s))&&(_+="; cursor: pointer;");var j="<div class='' style='"+m+"'><div style='"+v+_+";' id='label_"+i+"'>"+y+"</div></div>",q="<div style='"+(void 0!==n.info&&"left"!=n.infoposition?"margin-left: -3px;":"margin-right: -3px;")+"' class='"+this.toThemeProperty("jqx-info-icon")+"' title='"+n.info+"'></div>",T="<div style='background: transparent;"+f+"'><div style='width: auto; height: auto; "+g+"' id='"+i+"'></div></div>";("text"==n.type||"button"==n.type?T="<div style='background: transparent;"+f+x+"'><input style='width: auto; height: auto; "+g+"' id='"+i+"' type='"+n.type+"'/></div>":"password"==n.type&&(T="<div style='background: transparent;"+f+x+"'><input type='password' style='width: auto; height: auto; "+g+"' id='"+i+"'/></div>"),"option"!=n.type||"jqxDropDownList"==n.component||isNaN(s))||(void 0===(h=n.width)&&(h="15px"),w=[n.labelwidth||"auto",h],!n.labelposition||"top"!=n.labelposition&&"bottom"!=n.labelposition||(w=["100%","100%"]),T="<div style='background: transparent;"+f+g+x+"'><div style='width: "+h+"; height: 100%; "+g+x+";' id='"+i+"'></div></div>");return void 0!==n.info&&""!==n.info&&(T="left"==n.infoposition?"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+g+"'><tr><td>"+q+"</td><td>"+T+"</td></tr></table>":"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+g+"'><tr><td>"+T+"</td><td>"+q+"</td></tr></table>"),"right"==u?(c+=this._beginRow(i,n.rowheight||"auto",n.valign),c+=this._beginColumn(w[1]),c+=T,""!=p&&(c+=this._endColumn(),c+=this._beginColumn(w[0]),c+=j),c+=this._endColumn(),c+=this._endRow()):"top"==u?(c+=this._beginRow(i,n.rowheight||"auto",n.valign),c+=this._beginColumn(n.columnwidth),""!=p&&(c+=j),c+=T,c+=this._endColumn(),c+=this._endRow()):"bottom"==u?(c+=this._beginRow(i,n.rowheight||"auto",n.valign),c+=this._beginColumn(n.columnwidth),c+=T,""!=p&&(c+=j),c+=this._endColumn(),c+=this._endRow()):(c+=this._beginRow(i,n.rowheight||"auto",n.valign),""!=p&&(c+=this._beginColumn(w[0]),c+=j,c+=this._endColumn()),c+=this._beginColumn(w[1]),c+=T,c+=this._endColumn(),c+=this._endRow()),c},_initTools:function(t,i){var s=t||this.template;null==i&&(i="");for(var r=0;r<s.length;r++){var n=s[r];if(e.isArray(n.columns))this._initTools(n.columns,r+"_");else{var o=i+r;switch(n.type){case"color":this._initColorTool(o);break;case"option":"jqxDropDownList"==n.component?this._initOptionToolDropDownList(o):this._initOptionTool(o);break;case"dropdownlist":this._initOptionToolDropDownList(o);break;case"number":this._initNumberTool(o);break;case"boolean":case"checkbox":this._initBooleanTool(o);break;case"text":this._initTextTool(o);break;case"password":this._initPasswordTool(o);break;case"label":this._initLabelTool(o);break;case"date":case"time":case"datetime":this._initDateTimeTool(o);break;case"button":this._initButtonTool(o);break;case"custom":this._initCustomTool(o)}!1===n.visible&&this._showhideComponent(void 0,o,!1),n.theme&&this._setToolTheme(n,o)}}},_setToolTheme:function(e,t){var i=this._getComponentById(t),s=e.theme||this.theme;switch(e.type){case"option":"jqxDropDownList"==e.component&&i.jqxDropDownList("theme",s);break;case"number":i.jqxNumberInput("theme",s);break;case"text":i.jqxInput("theme",s);break;case"password":i.jqxPasswordInput("theme",s)}},_initOptionTool:function(t){for(var i=this,s="el_"+this.element.id+t,r=i._getTool(t),n=0;n<r.options.length;n++){var o=s+"_option_"+n,a=i.host.find("#"+o);a.length>0&&a.jqxRadioButton({width:25,theme:i.theme,groupName:"group_"+t}).on("change",function(e){i._onChangeHandler(e)});var l=i.host.find("#label_"+o);l.data("el",a),l.on("mousedown",function(t){e(this).data("el").jqxRadioButton("toggle")})}},_initOptionToolDropDownList:function(t){var i=this,s="el_"+this.element.id+t,r=i._getTool(t),n=this.host.find("#"+s),o=[];if(r.options&&e.isArray(r.options))for(var a=0;a<r.options.length;a++)o.push(r.options[a]);if(r.init)r.init(n);else{var l=isNaN(parseFloat(r.width))?"auto":r.width;r.width&&-1!=r.width.toString().indexOf("%")&&void 0===r.columnwidth&&(l="100%");var d=isNaN(parseFloat(r.height))?"30px":r.height;n.jqxDropDownList({theme:i.theme,width:l||"auto",autoDropDownHeight:!0,height:d,enableBrowserBoundsDetection:!0,source:o,selectedIndex:0})}n.on("change",function(e){i._onChangeHandler(e)})},_initNumberTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"30px":s.height;r.jqxNumberInput({theme:t.theme,width:n,height:o,inputMode:"simple"})}r.on("change",function(e){t._onChangeHandler(e)})},_initBooleanTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"30px":s.height,a=1==s.isThreeState;if(void 0!==s.component&&"jqxCheckBox"!=s.component)return;r.jqxCheckBox({theme:t.theme,width:n,height:o,hasThreeStates:a})}r.on("change",function(e){t._onChangeHandler(e)}),t.host.find("#label_"+i).on("mousedown",function(e){var s=t.host.find("#"+i).val();t.host.find("#"+i).val(!s)})},_initTextTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"30px":s.height;r.jqxInput({theme:t.theme,width:n,height:o})}r.on("change",function(e){t._onChangeHandler(e)})},_initLabelTool:function(t){var i="el_"+this.element.id+t,s=this._getTool(t),r=this.host.find("#"+i);if(s.render&&e.isFunction(s.render)){var n=s.render();r.html(n||"")}},_getTool:function(t){var i=t.split("_"),s=this.template[i[0]];return i[1]?e.isArray(s.columns)&&s.columns.length>i[1]?s.columns[i[1]]:void 0:s},_initCustomTool:function(e){var t="el_"+this.element.id+e,i=this._getTool(e),s=this.host.find("#"+t);i.init&&i.init(s)},_initButtonTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"30px":s.height;r.jqxButton({theme:t.theme,width:n,height:o}),r.val(void 0===s.text?"Button":s.text)}this.host.find("#"+i).on("click",function(e){t._onButtonClick(r,s)})},_initPasswordTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"25px":s.height;r.jqxPasswordInput({theme:t.theme,width:n,height:o})}r.on("change",function(e){t._onChangeHandler(e)})},_initDateTimeTool:function(e){var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=this.host.find("#"+i);if(s.init)s.init(r);else{var n=isNaN(parseFloat(s.width))?"auto":s.width,o=isNaN(parseFloat(s.height))?"30px":s.height,a=s.formatString;a||(a="time"==s.type?"hh mm ss tt":"date"==s.type?"MM/dd/yyyy":"MM/dd/yyyy hh:mm:ss tt"),r.jqxDateTimeInput({theme:t.theme,width:n,height:o,formatString:a,showTimeButton:"date"!=s.type,showCalendarButton:"time"!=s.type})}r.on("valueChanged",function(e){t._onChangeHandler(e)})},getComponentByName:function(t){if(e.isArray(this.template))for(var i=0;i<this.template.length;i++){if(this.template[i].name==t)return this._getComponentById(i);if(e.isArray(this.template[i].columns))for(var s=0;s<this.template[i].columns.length;s++)if(this.template[i].columns[s].name==t)return this._getComponentById(i+"_"+s)}},_getComponentById:function(e){return this.host.find("#el_"+this.element.id+e)},_getComponentLabelById:function(e){return this.host.find("#label_el_"+e)},hideComponent:function(e){this._showhideComponent(e,void 0,!1)},showComponent:function(e){this._showhideComponent(e,void 0,!0)},_showhideComponent:function(t,i,s){if(e.isArray(this.template)){var r="";if(void 0===i)for(var n=0;n<this.template.length;n++){if(this.template[n].name==t){r=n;break}if(this.template[n].bind==t){r=n;break}if(e.isArray(this.template[n].columns))for(var o=0;o<this.template[n].length;o++){if(this.template[n].columns[o].name==t){r=n+"_"+o;break}if(this.template[n].columns[o].bind==t){r=n+"_"+o;break}}}else r=i;if(""!=r){var a=this.host.find("#rowWrap_el_"+this.element.id+r);a&&0!=a.length&&(s?a.show():a.hide())}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",hint:!0,_opened:!1,$popup:e("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};return this===e.jqx._jqxFormattedInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e._Long(),e._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},e.render()},render:function(){var t=this;if(t._radixNumber=t._getRadix(t.radix),""!==t.value&&(t._number=new t.longObj.math.Long.fromString(t.value.toString(),t._radixNumber)),this.element instanceof HTMLInputElement){var i=e("<div></div>");i.addClass(t.toThemeProperty("jqx-input-group")),this.host.after(i);var s=this.element,r=this.host.data();i.append(s),i[0].id=this.element.id,this.element.removeAttribute("id"),this.element.setAttribute("hint",!0),i[0].style=this.element.style,t.input=t.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),this.input.length>0&&(this.input=this.input[0]),e(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),this.element.style=""}if(t.baseHost&&(t.host=t.baseHost,t.element=t.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;s=this.host.find("input");var n=!1;if(e.each(s,function(){var t=this.type;if(null===t||"text"===t||"textarea"===t)return s=e(this),n=!0,!1}),!n)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");if(s.length>0){this.baseHost=e(this.element);r=this.host.data();this.host=s,this.element=s[0],this.host.data(r),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group")),this.baseHost.addClass(this.toThemeProperty("jqx-formattedinput"));var o=this.baseHost.children();e.each(o,function(i){if(e(this).addClass(t.toThemeProperty("jqx-input-group-addon")),e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&e(this).addClass(t.toThemeProperty("jqx-rc-l")),i===o.length-1&&e(this).addClass(t.toThemeProperty("jqx-rc-r")),this!==t.element&&e(this).addClass(t.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()){t.appendSpinButtons=function(i){t._spinButtonsContainer=e(i),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var s='<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+t.toThemeProperty("jqx-input-icon")+'"></div></div>';t._upbutton=e(s),t._spinButtonsContainer.append(t._upbutton),t._downbutton=e(s),t._spinButtonsContainer.append(t._downbutton),t._upArrow=t._upbutton.find("div"),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),t._downArrow=t._downbutton.find("div"),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.template&&(t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),t._spinButtonsStepLong=new t.longObj.math.Long.fromNumber(t.spinButtonsStep)};var s=function(i){t._addon=e(i),t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon")),t._arrow||(t._arrow=e('<div class="'+t.toThemeProperty("jqx-icon")+" "+t.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),t._arrow.appendTo(t._addon)),t.template&&t._addon.addClass(t.toThemeProperty("jqx-"+t.template))};!1===t.rtl?t._spinButtonsContainer||!0!==t.spinButtons?t._addon||!0!==t.dropDown||2!==i&&(1!==i||!1!==t.spinButtons)||s(this):t.appendSpinButtons(this):t._addon||!0!==t.dropDown?t._spinButtonsContainer||!0!==t.spinButtons||1!==i&&(0!==i||!1!==t.dropDown)||(t.appendSpinButtons(this),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),!0===t.dropDown&&t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl"))):(s(this),!0===t.spinButtons&&t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl")))}})}}t._inputAndAddon=t.host,t.baseHost&&(t._spinButtonsContainer&&(t._inputAndAddon=t._inputAndAddon.add(t._spinButtonsContainer)),t._addon&&(t._inputAndAddon=t._inputAndAddon.add(t._addon))),t.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),e.jqx.aria(this,"aria-haspopup",!0),""!==t.value&&null!==t.value?(!0===t.upperCase?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),10===t._radixNumber&&"exponential"===t.decimalNotation?t.element.value=t._getDecimalNotation("exponential"):t.element.value=t.value):t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled")),10!==t._radixNumber&&"-9223372036854775808"===t.min.toString()?t._minLong=new t.longObj.math.Long.fromNumber(t.min):t._setMinMax("min"),10!==t._radixNumber&&"9223372036854775807"===t.max.toString()?t._maxLong=new t.longObj.math.Long.fromNumber(t.max):t._setMinMax("max"),this._addBarAndLabel(this.baseHost&&e(this.baseHost.children()[this.baseHost.children.length-1])||this.host),t.isMaterialized()&&setTimeout(function(){if(t.hint&&(t.label[0].innerHTML=t.placeHolder),!t.baseHost)return 0===t.element.value.length?t.element.removeAttribute("hint"):t.element.setAttribute("hint",!0),void t.bar.css("top","");0===t.element.value.length?t.baseHost[0].removeAttribute("hint"):t.baseHost[0].setAttribute("hint",!0)})},_refreshClasses:function(t){var i=t?"addClass":"removeClass";this.host[i](this.toThemeProperty("jqx-widget-content")),this.host[i](this.toThemeProperty("jqx-input")),this.host[i](this.toThemeProperty("jqx-formatted-input")),this.host[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.$popup[i](this.toThemeProperty("jqx-noshadow")),this.$popup[i](this.toThemeProperty("jqx-input-popup")),this.$popup[i](this.toThemeProperty("jqx-menu")),this.$popup[i](this.toThemeProperty("jqx-menu-vertical")),this.$popup[i](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[i](this.toThemeProperty("jqx-rc-all")),this.$popup[i](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[i](this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host[i](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[i](this.toThemeProperty("jqx-rc-r"))):(this.host[i](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[i](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-r")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-l")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[i](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[i](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[i](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},refresh:function(){var t=this;if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var i=0,s=this.baseHost.height()-2;e.jqx.browser.msie&&e.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),e.each(this.baseHost.children(),function(){return this.className.indexOf("jqx-input-bar")>=0||(this.className.indexOf("jqx-input-label")>=0||(e(this).css("height","100%"),e.jqx.browser.msie&&e.jqx.browser.version<8&&e(this).css("height",s+"px"),void(this!==t.element&&(i+=e(this).outerWidth()))))});var r="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1)?1:0;if(this.host.css("width",this.baseHost.width()-i-r+"px"),e.jqx.browser.msie&&e.jqx.browser.version<9){t._spinButtonsContainer&&(!1===t.rtl||!0===t.rtl&&t._addon)&&t._spinButtonsContainer.css("border-left-width","0"),t._addon&&(!1===t.rtl?t._addon.css("border-left-width","0"):t._spinButtonsContainer||t._addon.css("border-right-width","0"));var n=0;if(e.jqx.browser.version<8){var o=0,a=parseInt(t.host.css("border-left-width"),10)+parseInt(t.host.css("border-right-width"),10),l=parseInt(t.host.css("padding-left"),10)+parseInt(t.host.css("padding-right"),10);t._spinButtonsContainer&&(a+=parseInt(t._spinButtonsContainer.css("border-left-width"),10)+parseInt(t._spinButtonsContainer.css("border-right-width"),10),l+=parseInt(t._spinButtonsContainer.css("padding-left"),10)+parseInt(t._spinButtonsContainer.css("padding-right"),10),t._addon||(o=2)),t._addon&&(a+=parseInt(t._addon.css("border-left-width"),10)+parseInt(t._addon.css("border-right-width"),10),l+=parseInt(t._addon.css("padding-left"),10)+parseInt(t._addon.css("padding-right"),10),t._spinButtonsContainer||(o=2)),t.host.width(t.host.width()-(l+a)-o),n=6}t.host.height(t.baseHost.height()-(parseInt(t.host.css("border-top-width"),10)+parseInt(t.host.css("border-bottom-width"),10)+parseInt(t.host.css("padding-top"),10)+parseInt(t.host.css("padding-bottom"),10)+n));var d=t.host.height()+"px";t.host.css("min-height",d),t.host.css("line-height",d)}}t.baseHost&&t.bar&&t.bar.css("top",1+t.host.outerHeight())}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var e=this;if(this.isMaterialized()&&this.hint)this.label[0].innerHTML=this.placeHolder;else if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{e=this;""===this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value===e.placeHolder&&(e.element.value="")}),this.host.blur(function(){""!==e.element.value&&e.element.value!==e.placeHolder||(e.element.value=e.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(e.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(t,i,s,r){if("placeHolder"!==i)if("template"==i&&t.template&&(t._upbutton.removeClass(t.toThemeProperty("jqx-"+s)),t._downbutton.removeClass(t.toThemeProperty("jqx-"+s)),t._addon.removeClass(t.toThemeProperty("jqx-"+s)),t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._addon.addClass(t.toThemeProperty("jqx-"+t.template))),"theme"!==i)if("disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"!==i||s.toString().toUpperCase()===r.toString().toUpperCase())if(s===r||"radix"!==i){if(s!==r&&"decimalNotation"===i&&10===t._radixNumber&&(t.element.value="exponential"===r?t._getDecimalNotation("exponential"):t._number.toString(10)),s!==r&&("min"===i||"max"===i))return t._setMinMax(i),t._validateValue(t.value,!0),void(t.value=t.element.value);if(s===r||"upperCase"!==i||""===t.element.value){if("spinButtons"===i)return s!==r?void(t._spinButtonsContainer?n(t._spinButtonsContainer,r):o("spinButtons",r)):void 0;if(s!==r&&"spinButtonsStep"===i&&(t._spinButtonsStepLong=new t.longObj.math.Long.fromNumber(r)),"dropDown"===i)return s!==r?void(t._addon?n(t._addon,r):o("dropDown",r)):void 0;t.refresh()}else!0===r?(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case")),t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")))}else t._changeRadix(r);else t.val(r);else e.jqx.utilities.setTheme(s,r,t.host);else t._refreshPlaceHolder();function n(e,i){var s=t.host.width(),r=e.outerWidth();!1===i?(t.host.width(s+r),e.hide(),!0===t.rtl&&(!0===t.spinButtons&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===t.dropDown&&t._addon.removeClass(t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(t.host.width(s-r),e.show(),!0===t.rtl&&!0===t.spinButtons&&!0===t.dropDown&&(t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function o(i,s){if(!0===s){var r=e("<div></div>");if(t.baseHost){var n=t.baseHost.children("div");!1===t.rtl&&"spinButtons"===i||!0===t.rtl&&"dropDown"===i?n.before(r):n.after(r),t.render(),t.host.width(t.host.width()-r.outerWidth())}else{var o=t.element.id;t.host.removeAttr("id"),t.host.wrap('<div id="'+o+'" style="display: inline-block;"></div>');var a=e("#"+o);!1===t.rtl?a.append(r):a.prepend(r);var l=t.host.data();l.jqxFormattedInput.host=a,l.jqxFormattedInput.element=a[0],t.baseHost=a,t.baseHost.data(l),t.render(),t.refresh()}}}},select:function(e,t,i){var s=this;i||(i=s.$popup.find(".jqx-fill-state-pressed").attr("data-value")),s._changeRadix(parseInt(i,10)),s._setMaxLength(!0),s.close()},val:function(t){var i=this;if(!t&&""!==t||"object"==typeof t&&!0===e.isEmptyObject(t)||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&!0===e.isEmptyObject(t))return i.element.value;if("exponential"===t||"scientific"===t||"engineering"===t)return i._getDecimalNotation(t);var s=i._getRadix(t);return i._number.toString(s)}if((t=t.toString()).toUpperCase()!==i.element.value.toString().toUpperCase()){var r=i.element.value;!0===i.upperCase&&(t=t.toUpperCase());for(var n=t.split(""),o=0;o<n.length;o++)if(!i._regex[""+i._radixNumber].test(n[o]))return;var a=i._validateValue(t,!0);return i._raiseEvent("2",{value:a,oldValue:r,radix:i._radixNumber}),i.value=a,a}return t},_changeRadix:function(e){var t=this,i=t._getRadix(e),s=""!==t.value?t._number.toString(i):"",r=t.radix,n=t.value;t.radix=e,t._radixNumber=i,t.element.value=s,t.value=s,this._raiseEvent("3",{radix:e,oldRadix:r,value:s,oldValue:n})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,2==t&&(i.type=this.changeType,this.changeType=null),r.args=i,r.preventDefault&&r.preventDefault(),this.baseHost?this.baseHost.trigger(r):this.host.trigger(r)},open:function(){var t=this;if(t._setPopupOptions(),t._render(t._popupOptions),!e.jqx.isHidden(this.host)){var i;if(i=t.baseHost?e.extend({},t.baseHost.coord(!0),{height:t.baseHost[0].offsetHeight}):e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight}),0===this.$popup.parent().length){var s=this.element.id+"_popup";this.$popup[0].id=s,e.jqx.aria(this,"aria-owns",s)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:i.top+i.height,left:i.left}).show();var r=0,n=this.$popup.children();return e.each(n,function(){r+=e(this).outerHeight(!0)-1}),this.$popup.height(r),this._opened=!0,t.baseHost&&(t._addon.addClass(t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),t._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){var t=this;return this.$popup.hide(),this._opened=!1,t.baseHost&&(t._addon.removeClass(t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),t._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(t){var i,s=this;switch(t=e(t).map(function(t,i){var r,n=i;switch(t){case 0:r=2;break;case 1:r=8;break;case 2:r=10;break;case 3:r=16}(t=e(s.item).attr("data-value",r)).find("a").html(n).attr("data-value",r);var o="";return s.rtl&&(o=" "+s.toThemeProperty("jqx-rtl")+" "+s.toThemeProperty("jqx-formatted-input-item-rtl")),t[0].className=s.toThemeProperty("jqx-item")+" "+s.toThemeProperty("jqx-menu-item")+" "+s.toThemeProperty("jqx-formatted-input-item")+" "+s.toThemeProperty("jqx-rc-all")+o,t[0]}),s._radixNumber){case 2:i=0;break;case 8:i=1;break;case 10:i=2;break;case 16:i=3}if(t.eq(i).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(t),this.dropDownWidth)this.$popup.width(this.dropDownWidth);else if(s.baseHost){var r="string"==typeof s.width&&"%"===s.width.charAt(s.width.length-1)?1:0;this.$popup.width(this.baseHost.outerWidth()-6-r)}else this.$popup.width(this.host.outerWidth()-6);return this},next:function(){var t=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();t.length||(t=e(this.$popup.find("li")[0])),t.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();e.length||(e=this.$popup.find("li").last()),e.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var t=this;if(this.addHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",e.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(e){e.stopPropagation(),e.preventDefault()}),t.baseHost){var i=t.baseHost.attr("id");if(t._spinButtonsContainer){var s=t._upbutton.add(t._downbutton);t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.changeType="mouse",t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t.changeType="mouse",t._downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(s,"mouseenter.jqxFormattedInputSpinButtons"+i,function(i){if(!t.disabled&&""!==t.value&&null!==t.value){var s=e(i.target);s.hasClass("jqx-icon-arrow-up")||s.children().hasClass("jqx-icon-arrow-up")?(t._upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))):(t._downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}}),t.addHandler(s,"mouseleave.jqxFormattedInputSpinButtons"+i,function(i){if(!t.disabled&&""!==t.value&&null!==t.value){var s=e(i.target);s.hasClass("jqx-icon-arrow-up")||s.children().hasClass("jqx-icon-arrow-up")?(t._upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))):(t._downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}}),t.addHandler(e("body"),"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._upbutton.add(t._downbutton).removeClass(t.toThemeProperty("jqx-fill-state-pressed"))})}t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.addClass(t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.removeClass(t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon.add(t._arrow),"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){!0===t._opened&&t.close();var e=0;t._spinButtonsContainer&&(e+=t._spinButtonsContainer.outerWidth()),t._addon&&(e+=t._addon.outerWidth()),t.host.css("width",t.baseHost.width()-e-1)})}},removeHandlers:function(){var t=this;if(this.removeHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",e.proxy(this.mouseenter,this)),t.baseHost){var i=t.baseHost.attr("id");if(t._spinButtonsContainer){var s=t._upbutton.add(t._downbutton);t.removeHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i),t.removeHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i),t.removeHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i),t.removeHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i),t.removeHandler(s,"mouseenter.jqxFormattedInputSpinButtons"+i),t.removeHandler(s,"mouseleave.jqxFormattedInputSpinButtons"+i),t.removeHandler(e("body"),"mouseup.jqxFormattedInputSpinButtons"+i)}t._addon&&(t.removeHandler(t._addon,"click.jqxFormattedInputAddon"+i),t.removeHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i),t.removeHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i),t.removeHandler(t._addon.add(t._arrow),"blur.jqxFormattedInputAddon"+i))}},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){var i=this;i.changeType="keyboard",this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t);var s=t.charCode?t.charCode:t.which,r=String.fromCharCode(s);if(s>=96&&s<=105&&(r=s-96,s-=48),!0===t.altKey){if(40===s)return void(i._addon&&this.open());if(38===s)return void(i._addon&&this.close())}if(!0===t.ctrlKey){if(67===s)return;if(65===s)return void i.selectAll()}var n=[8,9,13,37,38,39,40,46,88],o=i._regex[""+i._radixNumber];if(!(-1!==n.indexOf(s)||o.test(r)||o.test(t.key)||o.test(t.char)))return t.preventDefault(),!1;var a=i.host[0].selectionStart,l=i.host[0].selectionEnd-a,d=this._getCaretPosition(this.host[0]),h=this.element.value,c=h.split("");if(8===s)l>0?c.splice(a,l):c.splice(d-1,1);else if(46===s)l>0?c.splice(a,l):c.splice(d,1);else if(88===s)!0===t.ctrlKey?l>0&&c.splice(a,l):t.preventDefault();else if(189===s)"-"===c[0]?(c.splice(0,1),i._minus=!1):(c.splice(0,0,"-"),i._minus=!0),t.preventDefault();else{var u=-1===n.indexOf(s)?r:"";l>0?(c.splice(a,l),c.splice(a,0,u)):c.splice(d,0,u)}(c=c.join(""))!==h&&(!1===i._validateValue(c,!1)?i._inputAndAddon.addClass(i.toThemeProperty("jqx-input-invalid")):i._inputAndAddon.removeClass(i.toThemeProperty("jqx-input-invalid")))},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){var t=this;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(e,this):t._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===t._radixNumber&&(!0===t._minus?t.element.value="-"+t.element.value:t.element.value=t.element.value.slice(1))}e.stopPropagation(),e.preventDefault(),""!==t.element.value?(t.upperCase?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled"))),t.isMaterialized()&&t.hint&&setTimeout(function(){t.label[0].innerHTML=t.placeHolder,t.baseHost&&(0===t.element.value.length?t.baseHost[0].removeAttribute("hint"):t.baseHost[0].setAttribute("hint",!0))})},_getCaretPosition:function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},onBlur:function(){var e=this;e._opened&&e.close(),e._setMaxLength(),e._inputAndAddon.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._change(),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._getDecimalNotation("exponential")),e._refreshPlaceHolder()},onFocus:function(){var e=this;e._setMaxLength(!0),e._inputAndAddon.addClass(e.toThemeProperty("jqx-fill-state-focus")),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._number.toString(10))},click:function(t){t.stopPropagation(),t.preventDefault();var i=e(t.target).attr("data-value");this.select(t,this,i)},mouseenter:function(t){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e(t.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var e=this,t=e.value,i=e._validateValue(e.element.value,!0);e._inputAndAddon.removeClass(e.toThemeProperty("jqx-input-invalid")),i.toUpperCase()!==t.toString().toUpperCase()&&(e._raiseEvent("2",{value:i,oldValue:t,radix:e._radixNumber}),e.value=i)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var e=this;e._popupOptions=new Array,""!==e.value?(e._popupOptions.push(e._number.toString(2)+" <em>(BIN)</em>"),e._popupOptions.push(e._number.toString(8)+" <em>(OCT)</em>"),e._popupOptions.push(e._number.toString(10)+" <em>(DEC)</em>"),e._popupOptions.push(e._number.toString(16)+" <em>(HEX)</em>")):(e._popupOptions.push("BIN"),e._popupOptions.push("OCT"),e._popupOptions.push("DEC"),e._popupOptions.push("HEX"))},_validateValue:function(e,t){var i=this;if(""!==e){var s=new i.longObj.math.Long.fromString(e.toString(),i._radixNumber);if(s.lessThan(i._minLong)){if(t){i._number=i._minLong;var r=i._minLong.toString(i._radixNumber);return 16===i._radixNumber&&!0===i.upperCase&&(r=r.toUpperCase()),i.element.value=r,r}return!1}if(s.greaterThan(i._maxLong)){if(t){i._number=i._maxLong;var n=i._maxLong.toString(i._radixNumber);return 16===i._radixNumber&&!0===i.upperCase&&(n=n.toUpperCase()),i.element.value=n,n}return!1}return!t||(i._number=s,i.element.value=e,e)}return!t||(i.element.value="",e)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var s=new Array,r=0;r<11;r++){for(var n=parseInt(e.charAt(r),8).toString(2);3!==n.length;)n="0"+n;s.push(n)}"0"===(i=s.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var o=new Array,a=0;a<8;a++){for(var l=parseInt(e.charAt(a),16).toString(2);4!==l.length;)l="0"+l;o.push(l)}i=o.join("")}for(var d="",h=0;h<i.length;h++){d+="1"===i.charAt(h)?"0":"1"}return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t;if(!0===e)switch(this._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;this.host.attr("maxlength",t)},_setMinMax:function(e){var t=this;t["_"+e+"Long"]=new t.longObj.math.Long.fromString(t[e].toString(),t._radixNumber)},_getDecimalNotation:function(e){var t=this;var i,s,r,n,o=function(e){if("0"===e)return parseInt(e,10).toExponential();var t;"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var s=e.slice(1,e.length);return""!==s&&(s="."+s),t+""+e.charAt(0)+s+"e+"+i}(t._number.toString(10));return"scientific"===e?(s=(i=o).indexOf("e"),r=i.slice(s+1),n=(n=i.slice(0,s+1)).replace("e","Ã10"),n=(n+=t._toSuperScript(r)).replace("+","")):"engineering"===e?function(e){var i=e.indexOf("e"),s=e.slice(i+1),r=e.slice(0,i),n=parseInt(s,10)%3;r*=Math.pow(10,n);var o=e.slice(0,i).length-n-2;return o>=0&&(r=r.toFixed(o)),r+"Ã10"+t._toSuperScript((parseInt(s,10)-n).toString())}(o):o},_toSuperScript:function(e,t){for(var i="-0123456789",s="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",r="",n=0;n<e.length;n++)if(!0===t){var o=s.indexOf(e.charAt(n));r+=-1!==o?i[o]:e[n]}else{var a=i.indexOf(e.charAt(n));r+=-1!==a?s[a]:e[n]}return r},_incrementOrDecrement:function(e){var t=this;t._number.toString(t._radixNumber)!==t.element.value&&(t._number=new t.longObj.math.Long.fromString(t.element.value,t._radixNumber)),t._number=t._number[e](t._spinButtonsStepLong),t.element.value=t._number.toString(t._radixNumber),t._change()},_negativeBinary:function(e,t){var i="";for(e=e.slice(1,e.length);e.length<64;)e="0"+e;for(var s=0;s<e.length;s++){i+="1"===e.charAt(s)?"0":"1"}for(var r=!0,n="",o=i.length-1;o>=0;o--){var a;"0"===i.charAt(o)?!0===r?(a="1",r=!1):a="0":a=!0===r?"0":"1",n=a+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var l="",d=22;d>=1;d--){var h=n[3*d-3]+""+n[3*d-2]+n[3*d-1];l=parseInt(h,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;u>=1;u--){var p=n[4*u-4]+""+n[4*u-3]+n[4*u-2]+n[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}},_Long:function(){var e=this;e.longObj=new Object;var t=e.longObj;t.math=new Object,t.math.Long=new Object,t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(-128<=e&&e<128){var i=t.math.Long.IntCache[e];if(i)return i}var s=new t.math.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(t.math.Long.IntCache[e]=s),s},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:e<0?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var s=i||10;if(s<2||36<s)throw new Error("radix out of range: "+s);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),s).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.math.Long.fromNumber(Math.pow(s,8)),n=t.math.Long.ZERO,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),s);if(a<8){var d=t.math.Long.fromNumber(Math.pow(s,a));n=n.multiply(d).add(t.math.Long.fromNumber(l))}else n=(n=n.multiply(r)).add(t.math.Long.fromNumber(l))}return n},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var s,r,n=i||10;if(n<2||36<n)throw new Error("radix out of range: "+n);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var o=t.math.Long.fromNumber(n),a=this.div(o);return s=a.multiply(o).subtract(this),a.toString(n)+s.toInt().toString(n)}switch(n){case 2:case 8:case 16:return r="-"+this.negate().toString(2),e._negativeBinary(r,n);default:return r="-"+this.negate().toString(n)}}var l=t.math.Long.fromNumber(Math.pow(n,6));for(s=this,r="";;){var d=s.div(l),h=s.subtract(d.multiply(l)).toInt().toString(n);if((s=d).isZero())return h+r;for(;h.length<6;)h="0"+h;r=""+h+r}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,d=0,h=0,c=0,u=0;return c+=(u+=n+(65535&e.lowBits))>>>16,u&=65535,h+=(c+=r+l)>>>16,c&=65535,d+=(h+=s+a)>>>16,h&=65535,d+=i+o,d&=65535,t.math.Long.fromBits(c<<16|u,d<<16|h)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return u+=(p+=n*d)>>>16,p&=65535,c+=(u+=r*d)>>>16,u&=65535,c+=(u+=n*l)>>>16,u&=65535,h+=(c+=s*d)>>>16,c&=65535,h+=(c+=r*l)>>>16,c&=65535,h+=(c+=n*a)>>>16,c&=65535,h+=i*d+s*l+r*a+n*o,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,s;{if(this.equals(t.math.Long.MIN_VALUE))return e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE)?t.math.Long.MIN_VALUE:e.equals(t.math.Long.MIN_VALUE)?t.math.Long.ONE:(i=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.math.Long.ZERO)?e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE:(s=this.subtract(e.multiply(i)),i.add(s.div(e)));if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO}if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=t.math.Long.ZERO;for(s=this;s.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var n=Math.ceil(Math.log(i)/Math.LN2),o=n<=48?1:Math.pow(2,n-48),a=t.math.Long.fromNumber(i),l=a.multiply(e);l.isNegative()||l.greaterThan(s);)i-=o,l=(a=t.math.Long.fromNumber(i)).multiply(e);a.isZero()&&(a=t.math.Long.ONE),r=r.add(a),s=s.subtract(l)}return r},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var i=this.lowBits;if(e<32){var s=this.highBits;return t.math.Long.fromBits(i<<e,s<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework),function(e){var t={defineInstance:function(){var t={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(i.that=this,e.jqx.aria(i),i._radius=i.radius,i.endAngle=i.endAngle*Math.PI/180+Math.PI/2,i.startAngle=i.startAngle*Math.PI/180+Math.PI/2,"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10)}else if("u"===i.int64){try{BigNumber}catch(e){throw new Error("jqxGauge: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max)}else i.value=new Number(i.value);i._refresh(),i.renderer.getContainer().css("overflow","hidden"),!1!==i.int64?i.setValue(i._value64,0):i.setValue(i.value,0),e.jqx.utilities.resize(i.host,function(){i._refresh(!0)}),i.host.addClass(i.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!e.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t=this._getScale(this.width,"width",this.host.parent()),i=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),r=this.host;r.width(t),r.height(i),this.radius=0;var n=(this._getScale(this._radius,"width",this.host)||t/2)-s,o=(this._getScale(this._radius,"height",this.host)||i/2)-s;if(this.radius=Math.min(n,o),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(r[0].innerHTML="<div />"),this._gaugeParent=r.children(),this._gaugeParent.width(t),this._gaugeParent.height(i),e){var a=this.renderer.getContainer();a[0].style.width=t+"px",a[0].style.height=i+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_refresh:function(t){var i=this;if(t)return i._ticksIterator=0,i._labelsIterator=0,i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._pointer=null,i._ranges=[],i.niceInterval&&(i._labels&&e(i._labels).remove(),i._labels=[],i._ticks&&(e(i._ticks).remove(),i._ticks=[])),i._hostInit(t),void i._render(t);i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._labels&&e(i._labels).remove(),i._cap&&e(i._cap).remove(),i._ticks&&e(i._ticks).remove(),i._border&&e(i._border).remove(),i._caption&&e(i._caption).remove(),i._caption=null,i._labels=[],i._cap=null,i._ticks=[],i._ranges=[],i._border=null,i._pointer=null,i._validateProperties(),i._removeElements(),i._hostInit(),i._render(),i.setValue(this.value,0),i._editableLabels())},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},refresh:function(e){!0!==e&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){return(parseInt(this.border.style["stroke-width"],10)||1)/2},_removeCollection:function(t){for(var i=0;i<t.length;i+=1)e(t[i]).remove();t=[]},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e){var t=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius)}var i=this.border.style.fill;t=this._outerBorderOffset();i||(i="#BABABA"),this.border.showGradient&&(i.indexOf("url")<0&&i.indexOf("#grd")<0?this._originalColor=i:i=this._originalColor,i=this.renderer._toLinearGradient(i,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=i,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(t){var i="visible",s=this._outerBorderOffset();this.cap.visible||(i="hidden");var r,n=this._originalRadius,o=this._getSize(this.cap.size);t?(this._cap.setAttribute("cx",n+s),this._cap.setAttribute("cy",n+s),this._cap.setAttribute("r",o),this._capCenter=[n,n]):(r=this.renderer.circle(n+s,n+s,o),this._capCenter=[n,n],this.renderer.attr(r,this.cap.style),e(r).css("visibility",i),this._cap=r)},_addTicks:function(t){var i,s,r,n=this,o=this.ticksMinor,a=this.ticksMajor,l={};if(!1!==a.visible||!1!==o.visible||!1!==this.labels.visible){var d=0;if("s"===n.int64)if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=(new e.jqx.math).fromString(a.interval.toString(),10),i=(new e.jqx.math).fromString(o.interval.toString(),10)):(i=(r=this._max64.subtract(this._min64)).div((new e.jqx.math).fromString(o.number.toString(),10)),s=r.div((new e.jqx.math).fromString(a.number.toString(),10))),this.niceInterval){f(this._min64),v(this._min64);for(var h=p=this._min64.subtract(this._min64.modulo(s)).add(s);h.greaterThanOrEqual(this._min64);h=h.subtract(i))m=h;for(var c=m,u=p;(c.lessThan(this._max64)||u.lessThan(this._max64))&&!((d+=1)>250)&&(u.lessThanOrEqual(this._max64)&&(f(u),l[u.toString()]=!0,c.equals(p)?Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&v(u):u.add(s).lessThan(this._max64)?v(u):Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&v(u)),!l[c.toString()]&&c.lessThanOrEqual(n._max64)&&g(c),!n._checkForOverflow(c,i)&&!n._checkForOverflow(u,s));c=c.add(i),u=u.add(s));f(this._max64),v(this._max64)}else for(c=(new e.jqx.math).fromString(n.min.toString(),10),u=(new e.jqx.math).fromString(n.min.toString(),10);(c.lessThanOrEqual(n._max64)||u.lessThanOrEqual(n._max64))&&!((d+=1)>250);c=c.add(i),u=u.add(s))u.lessThanOrEqual(n._max64)&&a.visible&&(f(u),l[u.toString()]=!0),!l[c.toString()]&&o.visible&&c.lessThanOrEqual(n._max64)&&g(c);else if("u"===n.int64)if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=new BigNumber(a.interval),i=new BigNumber(o.interval)):(i=(r=this._max64.subtract(this._min64)).divide(new BigNumber(o.number)),s=r.divide(new BigNumber(a.number))),this.niceInterval){f(this._min64),v(this._min64);for(h=p=this._min64.subtract(this._min64.mod(s)).add(s);-1!==h.compare(this._min64);h=h.subtract(i))m=h;for(c=m,u=p;(-1===c.compare(this._max64)||-1===u.compare(this._max64))&&!((d+=1)>250);c=c.add(i),u=u.add(s))1!==u.compare(this._max64)&&(f(u),l[u.toString()]=!0,0===c.compare(p)?Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&v(u):-1===u.add(s).compare(this._max64)?v(u):Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&v(u)),l[c.toString()]||1===c.compare(n._max64)||g(c);f(this._max64),v(this._max64)}else for(c=new BigNumber(n.min),u=new BigNumber(n.min);(1!==c.compare(n._max64)||1!==u.compare(n._max64))&&!((d+=1)>250);c=c.add(i),u=u.add(s))1!==u.compare(n._max64)&&a.visible&&(f(u),l[u.toString()]=!0),!l[c.toString()]&&o.visible&&1!==c.compare(n._max64)&&g(c);else if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=a.interval,i=o.interval):(i=(r=this.max-this.min)/o.number,s=r/a.number),this.niceInterval){f(this.min),v(this.min);var p,m;for(h=p=this.min-this.min%s+s;h>=this.min;h-=i)m=h;for(c=m,u=p;(c<this.max||u<this.max)&&!((d+=1)>250);c+=i,u+=s)u<=this.max&&(f(u),l[u.toFixed(5)]=!0,c===p?Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&v(u):u+s<this.max?v(u):Math.abs(this._getAngleByValue(u)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&v(u)),!l[c.toFixed(5)]&&c<=this.max&&g(c);f(this.max),v(this.max)}else for(c=this.min,u=this.min;(c<=this.max||u<=this.max)&&!((d+=1)>250);c+=i,u+=s)u<=this.max&&a.visible&&(f(u),l[u.toFixed(5)]=!0),!l[c.toFixed(5)]&&o.visible&&c<=this.max&&g(c);this._handleTicksVisibility()}function f(e){a.visible&&n._drawTick({angle:n._getAngleByValue(e),distance:n._getDistance(n.ticksDistance),style:a.style,size:n._getSize(a.size),type:"major"},t)}function g(e){o.visible&&n._drawTick({angle:n._getAngleByValue(e),distance:n._getDistance(n.ticksDistance),style:o.style,size:n._getSize(o.size),type:"minor"},t)}function v(e){n.labels.visible&&n._addLabel({angle:n._getAngleByValue(e),value:s>=1?e:new Number(e).toFixed(2),distance:n._getDistance(n._getLabelsDistance()),style:n.labels.className},t)}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,s=this.that,r=e.angle,n=e.distance,o=e.size,a=s._outerBorderOffset(),l=s._originalRadius,d=l-n,h=d-o,c=l+a+d*Math.sin(r),u=l+a+d*Math.cos(r),p=l+a+h*Math.sin(r),m=l+a+h*Math.cos(r);(e.style.class=s.toThemeProperty("jqx-gauge-tick-"+e.type),s._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),m=Math.round(m)),t&&!s.niceInterval)?((i=s._ticks[s._ticksIterator]).setAttribute("x1",c),i.setAttribute("x2",p),i.setAttribute("y1",u),i.setAttribute("y2",m),s._ticksIterator++):(i=s.renderer.line(c,u,p,m,e.style),s._ticks.push(i))},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,s=0;s<i.length;s+=1)this._addRange(i[s],t,e);else t="hidden"},_getMaxRangeSize:function(){for(var e,t,i=-1,s=0;s<this.ranges.length;s+=1)(e=this.ranges[s].startWidth)>i&&(i=e),(t=this.ranges[s].endWidth)>i&&(i=t);return i},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),s=this._getDistance(e),r=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<s+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+r/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<s)return this._getSize(this.border.size)+this._originalRadius/20;return s},_addRange:function(e,t,i){var s=this.that;if(!("s"===s.int64&&(e._startValue64.lessThan(s._min64)||e._endValue64.greaterThan(s._max64))||"u"===s.int64&&(-1===e._startValue64.compare(s._min64)||1===e._endValue64.compare(s._max64))||!1===s.int64&&(e.startValue<s.min||e.endValue>s.max))){var r,n=s.int64?s._getAngleByValue(e._startValue64):s._getAngleByValue(e.startValue),o=s.int64?s._getAngleByValue(e._endValue64):s._getAngleByValue(e.endValue),a=s._originalRadius,l=a-s._getRangeDistance(e.startDistance,e.startWidth),d=a-s._getRangeDistance(e.endDistance,e.endWidth),h=e.startWidth,c=e.endWidth,u=s._outerBorderOffset(),p={x:a+u+l*Math.sin(n),y:a+u+l*Math.cos(n)},m={x:a+u+d*Math.sin(o),y:a+u+d*Math.cos(o)},f=s._getProjectionPoint(n,a+u,l,h),g=s._getProjectionPoint(o,a+u,d,c),v="default";Math.abs(o-n)>Math.PI&&(v="opposite"),r=s._isVML?s._rangeVMLRender(p,m,a,f,g,c,h,l,d,v):s._rangeSVGRender(p,m,a,f,g,c,h,l,d,v),e.style.visibility=t,e.style.class=s.toThemeProperty("jqx-gauge-range"),e=s.renderer.path(r,e.style),s._ranges.push(e)}},_rangeSVGRender:function(e,t,i,s,r,n,o,a,l,d){var h="",c=(a=i-a,["0,1","0,0"]);return"opposite"===d&&(c=["1,1","1,0"]),h="M"+e.x+","+e.y+" ",h+="A"+(i-a)+","+(i-a)+" 100 "+c[0]+" "+t.x+","+t.y+" ",h+="L "+r.x+","+r.y+" ",h+="A"+(i-n-a)+","+(i-n-a)+" 100 "+c[1]+" "+s.x+","+s.y+" ",h+="L "+e.x+","+e.y+" ",h+="z"},_rangeVMLRender:function(e,t,i,s,r,n,o,a,l,d){i-=i-a+10;var h="",c=Math.floor(i+(o+n)/2),u=(a=Math.floor(i-a),l=Math.floor(l),(s.x+r.x)/2),p=(s.y+r.y)/2,m=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y)),f=Math.floor(u+Math.sqrt(i*i-m/2*(m/2))*(s.y-r.y)/m),g=Math.floor(p+Math.sqrt(i*i-m/2*(m/2))*(r.x-s.x)/m),v=(e.x+t.x)/2,x=(e.y+t.y)/2,w=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),y=Math.floor(v+Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(e.y-t.y)/w),b=Math.floor(x+Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(t.x-e.x)/w);return"opposite"===d&&(f=Math.floor(u-Math.sqrt(i*i-m/2*(m/2))*(s.y-r.y)/m),g=Math.floor(p-Math.sqrt(i*i-m/2*(m/2))*(r.x-s.x)/m),y=Math.floor(v-Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(e.y-t.y)/w),b=Math.floor(x-Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(t.x-e.x)/w)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},h="m "+t.x+","+t.y,h+="at "+(y-c)+" "+(b-c)+" "+(c+y)+" "+(c+b)+" "+t.x+","+t.y+" "+e.x+","+e.y,h+="l "+s.x+","+s.y,h+="m "+t.x+","+t.y,h+="l "+r.x+","+r.y,h+="at "+(f-i)+" "+(g-i)+" "+(i+f)+" "+(i+g)+" "+r.x+","+r.y+" "+s.x+","+s.y,h+="qx "+s.x+" "+s.y},_getProjectionPoint:function(e,t,i,s){return{x:t+(i-s)*Math.sin(e),y:t+(i-s)*Math.cos(e)}},_addLabels:function(t){var i=this,s=i._getLabelInterval();if(i.labels.visible&&"0"!==i.labels.interval.toString()){var r=this._getDistance(this._getLabelsDistance()),n=0;if("s"===i.int64)for(var o=(new e.jqx.math).fromNumber(i.min.toString(),10);o.lessThanOrEqual(i._max64)&&!((n+=1)>250)&&(!o.lessThan(i._min64)&&!o.greaterThan(i._max64));o=o.add(s))this._addLabel({angle:this._getAngleByValue(o),value:o.toString(),distance:r,style:this.labels.className});else if("u"===i.int64)for(o=new BigNumber(i.min);1!==o.compare(i._max64)&&!((n+=1)>250)&&(-1!==o.compare(i._min64)&&1!==o.compare(i._max64));o=o.add(s))this._addLabel({angle:this._getAngleByValue(o),value:o.toString(),distance:r,style:this.labels.className});else for(o=this.min;o<=this.max&&!((n+=1)>250);o+=s)this._addLabel({angle:this._getAngleByValue(o),value:s>=1?o:new Number(o).toFixed(2),distance:r,style:this.labels.className},t)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return e=e.width,"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?t<i-1.5*e?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i=this.that,s=e.angle,r=i._originalRadius,n=r-e.distance,o=i.labels.offset,a=i._outerBorderOffset(),l=r+a+n*Math.sin(s)+o[0],d=r+a+n*Math.cos(s)+o[1],h=e.value,c=e.style||"",u=i.labels.fontSize;h=i._formatLabel(h.toString());var p={class:c};if(u&&(p["font-size"]=u),i.labels.fontFamily&&(p["font-family"]=i.labels.fontFamily),i.labels.fontWeight&&(p["font-weight"]=i.labels.fontWeight),i.labels.fontStyle&&(p["font-style"]=i.labels.fontStyle),t&&!i.niceInterval){var m=i._labels[i._labelsIterator],f=i.renderer._measureText(h,0,p,!0),g=f.textPartsInfo,v=(g.parts,g.width,g.height);m.setAttribute("x",Math.round(l)-f.width/2+(f.width-g.width)/2),m.setAttribute("y",Math.round(d)+v+(f.height-v)/2),i._labelsIterator++}else{var x=i.renderer.measureText(h,0,p),w=0;void 0!==u&&Math.PI>s&&(w=-x.width/2*(parseInt(u)/25),parseInt(u)<=10&&(w*=-1)),p.class=this.toThemeProperty("jqx-gauge-label"),m=i.renderer.text(h,Math.round(l)-x.width/2+w,Math.round(d),x.width,x.height,0,p),i._labels.push(m)}},_addCaption:function(e){if(!1!==this.caption.visible){var t=this.that,i=t.caption.value,s=t.toThemeProperty("jqx-gauge-caption"),r=t.caption.offset,n=t.renderer.measureText(i,0,{class:s}),o=t._getPosition(this.caption.position,n,r),a=(t.caption.style,t._outerBorderOffset());if(e)this._caption.setAttribute("x",o.left+a),this._caption.setAttribute("y",o.top+a);else{var l=t.renderer.text(i,o.left+a,o.top+a,n.width,n.height,0,{class:s});this._caption=l}}},_getPosition:function(e,t,i){var s=0,r=0,n=this._originalRadius;switch(e){case"left":s=(n-t.width)/2,r=n-t.height/2;break;case"right":s=n+(n-t.width)/2,r=n-t.height/2;break;case"bottom":s=(2*n-t.width)/2,r=(n+2*n-t.height)/2;break;default:s=(2*n-t.width)/2,r=(n+t.height)/2}return{left:s+i[0],top:r+i[1]}},_addPointer:function(t){var i="visible";this.pointer.visible||(i="hidden");this._originalRadius;var s,r=this._getSize(this.pointer.length),n=this._getAngleByValue(this.value),o=this.pointer.pointerType;s=this._computePointerPoints(this._getSize(this.pointer.width),n,r,"default"!==o),this._pointer=this.renderer.path(s,this.pointer.style),e(this._pointer).css("visibility",i)},_computePointerPoints:function(e,t,i,s){return s?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var s=this._originalRadius-.5,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o+i*r,l=s+o+i*n,d=s+o+e*n,h=s+o-e*r,c=s+o-e*n,u=s+o+e*r;return this._isVML&&(d=Math.round(d),c=Math.round(c),h=Math.round(h),u=Math.round(u),a=Math.round(a),l=Math.round(l)),"M "+d+","+h+" L "+c+","+u+" L "+a+","+l},_computeRectPoints:function(e,t,i){var s=this._originalRadius,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o-e*n+i*r,l=s+o+e*r+i*n,d=s+o+e*n+i*r,h=s+o-e*r+i*n,c=s+o+e*n,u=s+o-e*r,p=s+o-e*n,m=s+o+e*r;return this._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),m=Math.round(m),a=Math.round(a),l=Math.round(l),d=Math.round(d),h=Math.round(h)),"M "+c+","+u+" L "+p+","+m+" L "+a+","+l+" "+d+","+h},_getAngleByValue:function(t){var i,s,r,n,o=this,a=o.startAngle,l=a-o.endAngle;if(!1!==o.int64){t="s"===o.int64?(new e.jqx.math).fromString(t.toString(),10):new BigNumber(t),i=o._min64,s=o._max64.subtract(i),r=t.subtract(i),"u"===o.int64&&(r=r.intPart());var d,h,c=s.toString(),u=r.toString();if(c.length>15){var p=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),d=parseFloat(c),u.length>p){var m=u.length-p;u=u.slice(0,m)+"."+u.slice(m)}else if(u.length===p)u="0."+u;else{for(var f="0.",g=0;g<p-u.length;g++)f+="0";u=f+""+u}h=parseFloat(u)}else d=parseFloat(s.toString()),h=parseFloat(r.toString());n=l*h/d+a+Math.PI}else n=l*(r=t-(i=o.min))/(s=o.max-i)+a+Math.PI;return n},_setValue:function(t){var i=this;if("s"===i.int64&&t.lessThanOrEqual(i._max64)&&t.greaterThanOrEqual(i._min64)||"u"===i.int64&&1!==t.compare(i._max64)&&-1!==t.compare(i._min64)||!1===i.int64&&t<=i.max&&t>=i.min){var s=i._getAngleByValue(t),r=i.pointer.pointerType,n=i._computePointerPoints(i._getSize(i.pointer.width),s,i._getSize(i.pointer.length),"default"!==r);i._isVML?(i._pointer&&e(i._pointer).remove(),i._pointer=i.renderer.path(n,i.pointer.style)):i.renderer.attr(i._pointer,{d:n}),!1!==i.int64?(i.value=t.toString(),"s"===i.int64?i._value64=(new e.jqx.math).fromString(i.value,10):i._value64=new BigNumber(i.value)):i.value=t,e.jqx.aria(i,"aria-valuenow",t.toString())}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(t,i,s,r){r!=s&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("min"==i&&(!0===t.int64?t._min64=(new e.jqx.math).fromString(r.toString(),10):this.min=parseInt(r),e.jqx.aria(t,"aria-valuemin",r)),"max"==i&&(!0===t.int64?t._max64=(new e.jqx.math).fromString(r.toString(),10):this.max=parseInt(r),e.jqx.aria(t,"aria-valuemax",r)),"disabled"===i?(r?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",r)):"value"===i?(this.value=s,this.setValue(r)):("startAngle"===i?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===i?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===i?(this.pointer.style=null,this.cap.style=null):"radius"===i&&(this._radius=r),"animationDuration"!==i&&"easing"!==i&&this._refresh()),this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(e,t){if(this.host)return new this._tickConstructor(e,t);function i(i,s){!1===t.int64?i[s]=parseFloat(e[s]):i[s]=e[s],i[s]||(i[s]=5)}e=e||{},this.size=t._validatePercentage(e.size,"10%"),i(this,"interval"),i(this,"number"),this.style=e.style||{stroke:"#898989","stroke-width":1},void 0===e.visible?this.visible=!0:this.visible=e.visible},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._capConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._pointerConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),this.width=t._validatePercentage(e.width,"2%")},_labelsConstructor:function(t,i){if(this.host)return new this._labelsConstructor(t,i);void 0===(t=t||{}).visible?this.visible=!0:this.visible=t.visible,this.offset=t.offset,this.offset instanceof Array||(this.offset=[0,-10]),t.interval||(t.interval=20),!1!==i.int64?(this.interval=t.interval,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(t.interval.toString(),10):this._interval64=new BigNumber(t.interval)):this.interval=parseFloat(t.interval),t.number||(t.number=5),this.number=t.number,this.distance=i._validatePercentage(t.distance,"38%"),this.position=t.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle},_captionConstructor:function(e,t){if(this.host)return new this._captionConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,0])},_rangeConstructor:function(t,i){if(this.host)return new this._rangeConstructor(t,i);t=t||{},this.startDistance=i._validatePercentage(t.startDistance,"5%"),this.endDistance=i._validatePercentage(t.endDistance,"5%"),this.style=t.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(t.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(t.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===t.startValue&&(t.startValue=0),void 0===t.endValue&&(t.endValue=100),!1!==i.int64?(this.startValue=t.startValue,this.endValue=t.endValue,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(t.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(t.endValue.toString(),10)):(this._startValue64=new BigNumber(t.startValue),this._endValue64=new BigNumber(t.endValue))):(this.startValue=parseFloat(t.startValue,10),this.endValue=parseFloat(t.endValue,10))},_borderConstructor:function(e,t){if(this.host)return new this._borderConstructor(e,t);e=e||{},this.size=t._validatePercentage(e.size,"10%"),this.style=e.style||{stroke:"#cccccc"},void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void 0===e.visible?this.visible=!0:this.visible=e.visible}},i={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var t,i=this,s=i.labels;if("default"===i.tickMode)i.niceInterval?t=i._getNiceInterval("jqxGauge"===i.widgetName?"radial":"linear"):!1===i.int64?t=s.interval:(s._interval64||(s._interval64="s"===i.int64?(new e.jqx.math).fromNumber(s.interval):new BigNumber(s.interval)),t=s._interval64);else if(!1===i.int64){t=(r=i.max-i.min)/s.number}else{var r=i._max64.subtract(i._min64);t="s"===i.int64?r.div((new e.jqx.math).fromNumber(s.number)):r.divide(new BigNumber(s.number))}return t},_getMaxLabelSize:function(){var t=this,i=this.max,s=this.min;s=t._formatLabel(s),i=t._formatLabel(i);var r=e('<div style="position: absolute; visibility: hidden;" class="'+t.toThemeProperty("jqx-gauge-label")+'"></div>');r.css({"font-size":t.labels.fontSize,"font-family":t.labels.fontFamily,"font-weight":t.labels.fontWeight,"font-style":t.labels.fontStyle}),e("body").append(r),r.html(s);var n={width:r.width(),height:r.height()};r.html(i);var o={width:r.width(),height:r.height()};return r.remove(),n.width>o.width?n:o},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var t=this;t._timeout&&clearTimeout(this._timeout),t._timeout=null,e.jqx.utilities.resize(t.host,null,!0),t._removeElements(),t.renderer.clear(),t.renderer=null;var i=e.data(t.element,"jqxGauge");i&&delete i.instance,t.host.children().remove(),t._caption=null,t._caption=null,t._pointer=null,t._labels=[],t._cap=null,t._ticks=[],t._ranges=[],t._border=null,t._gauge=null,t._caption=null,t.renderer=null,t._animations=[],t.host.removeData(),t.host.removeClass(),t.host.remove(),t.that=null,t.element=null,t._gaugeParent=null,delete t._gaugeParent,delete t.element,delete t.host},_validatePercentage:function(e,t){return 0===parseFloat(e)||e&&parseInt(e,10)||(e=t),e},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if((t=this._schemes[i]).name===e)return t.colors;return null},setValue:function(t,i){var s=this;s.disabled||(i=i||s.animationDuration||0,"s"===s.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(s._max64)&&(t=(new e.jqx.math).fromString(s._max64.toString(),10)),t.lessThan(s._min64)&&(t=(new e.jqx.math).fromString(s._min64.toString(),10)),s._animate(s._value64,t,i)):"u"===s.int64?(1===(t=new BigNumber(t)).compare(s._max64)&&(t=new BigNumber(s._max64)),-1===t.compare(s._min64)&&(t=new BigNumber(s._min64)),s._animate(s._value64,t,i)):(t>s.max&&(t=s.max),t<s.min&&(t=s.min),s._animate(s.value,t,i)),e.jqx.aria(s,"aria-valuenow",t.toString()))},_animate:function(e,t,i){var s=this;s._timeout&&s._endAnimation(s.int64?s._value64:s.value,!1),i?s._animateHandler(e,t,0,i):s._endAnimation(t,!0)},_animateHandler:function(t,i,s,r){var n=this;s<=r?this._timeout=setTimeout(function(){if(!1!==n.int64){var o=i.subtract(t);if("s"===n.int64){var a=(new e.jqx.math).fromNumber(100*e.easing[n.easing](s/r,s,0,1,r),10);n._value64=t.add(o.multiply(a).div((new e.jqx.math).fromNumber(100,10)))}else{a=new BigNumber(100*e.easing[n.easing](s/r,s,0,1,r));n._value64=t.add(o.multiply(a).divide(100))}n.value=n._value64.toString(),n._setValue(n._value64)}else n.value=t+(i-t)*e.easing[n.easing](s/r,s,0,1,r),n._setValue(n.value);n._raiseEvent(0,{value:n.value.toString()}),n._animateHandler(t,i,s+n._animationTimeout,r)},this._animationTimeout):this._endAnimation(i,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i||{},this.host.trigger(s)},_getNiceInterval:function(t,i){function s(e){return Math.log(parseFloat(e))/Math.LN10}var r=this,n="width";"linear"===t&&"vertical"===r.orientation&&(n="height");var o=e.jqx.browser.msie?0:1,a=e('<span class="'+r.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),l=r._formatLabel(r.min),d=r._formatLabel(r.max);a.css({"font-size":r.labels.fontSize,"font-family":r.labels.fontFamily,"font-weight":r.labels.fontWeight,"font-style":r.labels.fontStyle}),e("body").append(a),a.text(l);var h=a[n]()+o;a.text(d);var c=a[n]()+o;a.remove();var u,p,m=Math.max(c,h),f=1;if("radial"===t){var g;g=r._innerRadius<50?.3:r._innerRadius<150?.6:r._innerRadius<250?.7:1,f=8/Math.max(1,s(r._innerRadius))*g}else{var v=0;m>105&&(v=(m-105)/100),f=1.5+v}m*=f,"radial"===t?(p=Math.abs(r.startAngle-r.endAngle)*r._innerRadius,u=Math.round(p)):u=r._getScaleLength();var x,w,y,b,_,j,q=Math.ceil(u/m);return!0===i&&(q*="radial"===t?4:3),!1===r.int64?(x=r.max-r.min,w=Math.floor(s(x)-s(q)),j=(_=x<2*(b=q*(y=Math.pow(10,w)))?1:x<3*b?2:x<7*b?5:10)*y):(x=new BigNumber(r.max).subtract(new BigNumber(r.min)),w=Math.floor(s(x.toString())-s(q)),y=new BigNumber(10).pow(new BigNumber(w)),b=new BigNumber(q).multiply(y),_=-1===x.compare(new BigNumber(2*b))?1:-1===x.compare(new BigNumber(3*b))?2:-1===x.compare(new BigNumber(7*b))?5:10,-1===(j=new BigNumber(_).multiply(y)).compare(1)&&(j=new BigNumber(1)),"s"===r.int64&&(j=(new e.jqx.math).fromString(j.toString()))),j},_styleLabels:function(){},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),s=new BigNumber(e.toString()),r=new BigNumber(t.toString());return 1===s.add(r).compare(i)},_formatLabel:function(t,i){var s,r=this,n=r.labels.formatValue,o=r.labels.formatSettings;return n?s=n(t,i):o?void 0!==o.radix?s=(new e.jqx.math).getRadixValue(t,r.int64,o.radix):void 0!==o.outputNotation&&"default"!==o.outputNotation&&"decimal"!==o.outputNotation?s=(new e.jqx.math).getDecimalNotation(t,o.outputNotation,o.decimalDigits,o.digits):void 0!==o.decimalDigits?s=Number(t).toFixed(o.decimalDigits):void 0!==o.digits&&(s=Number(t).toPrecision(o.digits)):s=t,s},_editableLabels:function(t){var i=this;function s(t,s){var r=i.renderer.measureText(i._formatLabel(s),0,{class:i.toThemeProperty("jqx-gauge-label")});o.offset(e(t).offset()),n.style.width=r.width+10+"px",n.style.height=r.height+"px",n.style.visibility="visible",n.value=s,o.select()}if(i.editableLabels){var r=i._labels;if(0===r.length)return;var n,o,a=r[0],l=r[r.length-1];!0!==t?(n=document.createElement("input"),o=e(n),n.className="jqx-gauge-label-input",i.element.appendChild(n)):(o=i.host.children("input"),n=o[0]),a.style.cursor="text",l.style.cursor="text",i.addHandler(e(a),"dblclick.jqxGauge"+i.element.id,function(e){s(this,i.min),i._editedProperty="min"}),i.addHandler(e(l),"dblclick.jqxGauge"+i.element.id,function(e){s(this,i.max),i._editedProperty="max"});var d=/^-?\d+\.?\d*$/;function h(t,s,r,n){if(t===i[s].toString())return!1;if("s"===i.int64){var o=(new e.jqx.math).fromString(t,10);if("min"===s&&-1!==o.compare(i["_"+n+"64"])||"max"===s&&1!==o.compare(i["_"+n+"64"]))return!1;i[r]=o,i[s]=t}else if("u"===i.int64){var a=new BigNumber(t);if(-1===a.compare(0)||"min"===s&&-1!==a.compare(i["_"+n+"64"])||"max"===s&&1!==a.compare(i["_"+n+"64"]))return!1;i[r]=a,i[s]=t}else{if("min"===s&&t>=i[n]||"max"===s&&t<=i[n])return!1;i[s]=parseFloat(t)}}!0!==t&&i.addHandler(o,"blur.jqxGauge"+i.element.id,function(t){var s=this.value;if(n.style.visibility="hidden",d.test(s)){if("min"===i._editedProperty){if(!1===h(s,"min","_min64","max"))return;e.jqx.aria(i,"aria-valuemin",s)}else{if(!1===h(s,"max","_max64","min"))return;e.jqx.aria(i,"aria-valuemax",s)}i.refresh(),i.renderer instanceof e.jqx.HTML5Renderer&&i.renderer.refresh()}})}}},s={defineInstance:function(){var t={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===e.jqx._jqxLinearGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){e.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var t=this;if("s"===t.int64){if(!e.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");e.jqx.longInt(t),t._value64=(new e.jqx.math).fromString(t.value.toString(),10),t._min64=(new e.jqx.math).fromString(t.min.toString(),10),t._max64=(new e.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(e){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}e.jqx.utilities.resize(this.host,function(){t.refresh(!1,!1)})},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},refresh:function(e,t){var i=this;if(i._nearLabels=[],i._farLabels=[],i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),!1!==t&&i.setValue(i.value,1),!e)){var s=i.labels.position;"both"!==s&&"near"!==s||(i._labels=i._nearLabels,i._editableLabels()),"both"!==s&&"far"!==s||(i._labels=i._farLabels,i._editableLabels("both"===s||void 0))}},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?e.extend(this,linearVerticalGauge):e.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),(e=this.renderer.getContainer()).width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var t,i=this.background.style,s=e.jqx._rup(this._getBorderSize()),r="rect";i=this._handleShapeOptions(i),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(r="roundrect"),this._Vml||(i.x=s,i.y=s),t=this.renderer.shape(r,i),this._isVML&&this._fixVmlRoundrect(t,i)}},_handleShapeOptions:function(e){var t=this.background.style.fill;this._getBorderSize();return t||(t="#cccccc"),this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var t,i,s,r,n,o=this.ticksMinor,a=this.ticksMajor;"s"===this.int64?((t=this._max64.subtract(this._min64)).isNegative()&&(t=t.negate()),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a._interval64,s=o._interval64):(i=t.div((new e.jqx.math).fromNumber(a.number)),s=t.div((new e.jqx.math).fromNumber(o.number)))):"u"===this.int64?(t=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a._interval64,s=o._interval64):(i=t.divide(new BigNumber(a.number)),s=t.divide(new BigNumber(o.number)))):(t=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a.interval,s=o.interval):(i=t/a.number,s=t/o.number)),r={size:this._getSize(a.size),style:a.style,visible:a.visible,interval:i,type:"major"},n={size:this._getSize(o.size),style:o.style,visible:o.visible,interval:s,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(r),this._ticksRenderHandler(n)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(r.isFar=!0,n.isFar=!0,this._ticksRenderHandler(r),this._ticksRenderHandler(n)),this._renderConnectionLine()},_ticksRenderHandler:function(e){if(e.visible||"minor"!==e.type){this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height");var t=this._getBorderSize(),i=this._calculateTickOffset()+this._getMaxTickSize();e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t)}},_drawTicks:function(t,i,s){var r,n,o=this,a=t.interval,l="vertical"===o.orientation?"width":"height",d="vertical"===o.orientation?"height":"width",h=o._getMaxLabelSize()[l],c=o._getMaxLabelSize()[d],u=o._getInterval("ticksMajor"),p=o._getInterval("ticksMinor");function m(e){if(r=o._valueToCoordinates(e),(!t.checkOverlap||!o._overlapTick(e,u,p))&&(t.visible&&o._renderTick(t.size,r,t.style,s),o.niceInterval&&o.labels.visible)){"vertical"===o.orientation?o._getSize(o.ticksOffset[1],"height"):o._getSize(o.ticksOffset[0],"width"),i;var n,a=t.isFar?"far":"near";if(n="near"===a?o._calculateTickOffset()-h+i+o._getSize(o.labels.offset):o._calculateTickOffset()+2*o._getMaxTickSize()+h+i+o._getSize(o.labels.offset),!1===o.int64){if(e!==o.min&&Math.abs(o._valueToCoordinates(o.min)-r)<c)return;if(e!==o.max&&Math.abs(o._valueToCoordinates(o.max)-r)<c)return}else if("s"===o.int64){if(!1===e.equals(o._min64)&&Math.abs(o._valueToCoordinates(o._min64)-r)<c)return!1;if(!1===e.equals(o._max64)&&Math.abs(o._valueToCoordinates(o._max64)-r)<c)return}else if("u"===o.int64){if(0!==e.compare(o._min64)&&Math.abs(o._valueToCoordinates(o._min64)-r)<c)return!1;if(0!==e.compare(o._max64)&&Math.abs(o._valueToCoordinates(o._max64)-r)<c)return}var l=o.labels.position;"major"===t.type&&("both"===l||"near"===l&&!0!==t.isFar||"far"===l&&t.isFar)&&o._renderLabel(r,a,n,h,e)}}if(o.niceInterval)if("s"===o.int64){if(m(o._min64),n=o._min64.subtract(o._min64.modulo(a)).add(a),"minor"===t.type)for(var f=n;f.greaterThanOrEqual(o._min64);f=f.subtract(a))n=f;for(var g=n;g.lessThan(o._max64)&&!o._checkForOverflow(g,a);g=g.add(a))m(g);m(o._max64)}else if("u"===o.int64){if(m(o._min64),n=o._min64.subtract(o._min64.mod(a)).add(a),"minor"===t.type)for(f=n;-1!==f.compare(o._min64);f=f.subtract(a))n=f;for(g=n;-1===g.compare(o._max64);g=g.add(a))m(g);m(o._max64)}else{if(m(o.min),n=o.min-o.min%a+a,"minor"===t.type)for(f=n;f>=o.min;f-=a)n=f;for(g=n;g<=o.max;g+=a)m(g);m(o.max)}else if("s"===o.int64)for(g=(new e.jqx.math).fromString(o._min64.toString(),10);g.lessThanOrEqual(o._max64);g=g.add(a))m(g);else if("u"===o.int64)for(g=new BigNumber(o._min64);1!==g.compare(o._max64);g=g.add(a))m(g);else for(g=o.min;g<=o.max;g+=a)m(g)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height");return"vertical"===this.orientation&&(t=e),t},_getInterval:function(t){var i,s=this;if("default"===s.tickMode)i=!0===s.niceInterval?s._getNiceInterval("linear","ticksMinor"===t):!1!==s.int64?s[t]._interval64:s[t].interval;else{var r,n=s[t].number;!1!==s.int64?(r=s._max64.subtract(s._min64),i="s"===s.int64?r.div((new e.jqx.math).fromNumber(n)):r.divide(new BigNumber(n))):i=(r=s.max-s.min)/s[t].number}return i},_overlapTick:function(e,t,i){return"s"===this.int64?!!(e=e.add(this._min64)).modulo(i).equals(e.modulo(t)):"u"===this.int64?0===(e=e.add(this._min64)).mod(i).compare(e.mod(t)):(e+=this.min)%i==e%t},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){this._getScaleLength();var e,t,i=this._getBorderSize(),s=this._getMaxTickSize()+i;if(!1!==this.int64?(e=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,e,s,t,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var r=this._getSize(this.ticksOffset[0],"width");this.renderer.line(r+e-t,s,r,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,s){var r=this._handleTickCoordinates(e,t,s);this.renderer.line(Math.round(r.x1),Math.round(r.y1),Math.round(r.x2),Math.round(r.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=e},_renderLabels:function(){if(this.labels.visible){var e,t=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),s=this.labels.position,r="height",n=this._getBorderSize(),o=this._calculateTickOffset()+i;"vertical"===this.orientation&&(t=this._getSize(this.ticksOffset[1],"height"),r="width"),e=this._getMaxLabelSize()[r],"near"!==s&&"both"!==s||this._labelListRender(o-i-e+n,t+n,e,"near"),"far"!==s&&"both"!==s||this._labelListRender(o+i+e+n,t+n,e,"far")}},_labelListRender:function(t,i,s,r){var n,o,a,l,d,h=this._getScaleLength();t+=this._getSize(this.labels.offset),!1!==this.int64?(d=this._max64.subtract(this._min64),"default"===this.tickMode?(n=this.labels._interval64,o="s"===this.int64?d.div(n).toNumber():parseFloat(d.divide(n).toString())):(o=this.labels.number,n="s"===this.int64?d.div((new e.jqx.math).fromNumber(o)):d.divide(o)),l="vertical"===this.orientation?this._max64:this._min64):(d=Math.abs(this.max-this.min),"default"===this.tickMode?o=d/(n=this.labels.interval):n=d/(o=this.labels.number),l="vertical"===this.orientation?this.max:this.min),a=h/o;for(var c=0;c<=o;c+=1)this._renderLabel(i,r,t,s,l),!1!==this.int64?l="vertical"===this.orientation?l.subtract(n):l.add(n):l+="vertical"===this.orientation?-n:n,i+=a},_renderLabel:function(e,t,i,s,r){var n,o,a,l,d=this.labels,h={class:this.toThemeProperty("jqx-gauge-label")},c=(this.labels.interval,"");d.fontSize&&(c+="font-size: "+d.fontSize+";"),d.fontFamily&&(c+="font-family: "+d.fontFamily),d.fontWeight&&(c+="font-weight: "+d.fontWeight),d.fontStyle&&(c+="font-style: "+d.fontStyle),""!==c&&(h.style=c),a=this._formatLabel(r.toString(),t),o=this.renderer.measureText(a,0,h),"vertical"===this.orientation?(n="near"===t?s-o.width:0,l=this.renderer.text(a,Math.round(i)+n-s/2,Math.round(e-o.height/2),o.width,o.height,0,h)):(n="near"===t?s-o.height:0,l=this.renderer.text(a,Math.round(e-o.width/2),Math.round(i)+n-s/2,o.width,o.height,0,h)),"near"===t?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(l):this._nearLabels.unshift(l):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(l):this._farLabels.unshift(l)},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),s=this._getSize(this.rangeSize,t),r=0;r<this.ranges.length;r+=1)(e=this.ranges[r]).size=s,this._renderRange(e,i)},_renderRange:function(t,i){this._getScaleLength();var s,r,n=this._getBorderSize(),o=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),d=this._getSize(t.size);!1!==this.int64?(s=this._valueToCoordinates(t._endValue64),r=t._startValue64,"s"===this.int64&&r.lessThan(this._min64)?r=(new e.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===r.compare(this._min64)&&(r=new BigNumber(this._min64))):(s=this._valueToCoordinates(t.endValue),(r=t.startValue)<this.min&&(r=this.min));var h,c,u=Math.abs(this._valueToCoordinates(r)-s);"vertical"===this.orientation?h=this.renderer.rect(o+l+i-d+n,s,t.size,u,t.style):(c=u,h=this.renderer.rect(this._valueToCoordinates(r),a+l+n,c,t.size,t.style)),this.renderer.attr(h,t.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var e={fill:"#FFFFFF","fill-opacity":0};this.tankStyle?(e.stroke=this.tankStyle.stroke,e["stroke-width"]=this.tankStyle.strokeWidth):(e.stroke="#A1A1A1",e["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,e),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),!1!==this.int64?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var e,t,i=this._valueToCoordinates(),s=this._getBorderSize(),r=this._getSize(this.ticksOffset[0],"width"),n=this._getSize(this.ticksOffset[1],"height"),o=this._getMaxTickSize(),a=this._getSize(this.pointer.size),l=this._getSize(this.pointer.offset),d={};!1!==this.int64?(i=this._valueToCoordinates(this._max64),e=this._valueToCoordinates(this._min64)):(i=this._valueToCoordinates(this.max),e=this._valueToCoordinates(this.min)),t=Math.abs(e-i),d="vertical"===this.orientation?{left:r+o+l+1+s,top:i,height:t,width:a}:{left:e,top:n+o+l-a-1+s,height:a,width:t},this._isVML?(this._tank.style.top=d.top,this._tank.style.left=d.left,this._tank.style.width=d.width,this._tank.style.height=d.height):(this.renderer.attr(this._tank,{x:d.left}),this.renderer.attr(this._tank,{y:d.top}),this.renderer.attr(this._tank,{width:d.width}),this.renderer.attr(this._tank,{height:d.height}))},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){var t=this._getArrowPathByValue(e);this._pointer=this.renderer.path(t,this.pointer.style)},_getArrowPathByValue:function(e){var t,i,s,r=this._getBorderSize(),n=Math.ceil(this._valueToCoordinates(e))+r,o=r,a=Math.ceil(this._getSize(this.ticksOffset[0],"width")),l=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),d=Math.ceil(this._getMaxTickSize()),h=Math.ceil(this._getSize(this.pointer.size)),c=Math.ceil(Math.sqrt(h*h/3));"vertical"===this.orientation?t="M "+(o+=a+d+l)+" "+n+" L "+(i=l>=0?o+h:o-h)+" "+(n-c)+" L "+i+" "+(n+c):(o+=a+d+l+this._getMaxLabelSize().height,this._isVML&&(o-=2),s=n,n=o,t="M "+(o=s)+" "+n+" L "+(o-c)+" "+(i=n-h)+" L "+(o+c)+" "+i);return t},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var t,i,s=this._valueToCoordinates(e),r=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),a=this._getMaxTickSize(),l=this._getSize(this.pointer.size),d=this._getSize(this.pointer.offset),h={};t=!1!==this.int64?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),i=Math.abs(t-s),h="vertical"===this.orientation?{left:n+a+d+1+r,top:s,height:i,width:l}:{left:t,top:o+a+d-l-1+r,height:l,width:i},this._setRectAttrs(h)},_performArrowPointerLayout:function(t){var i=this._getArrowPathByValue(t);this._isVML?(this._pointer&&e(this._pointer).remove(),this._renderArrowPointerByValue(t)):this.renderer.attr(this._pointer,{d:i})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,s,r=this._getBorderSize(),n=this._getScaleLength(),o=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height");if(!1!==this.int64){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var l,d,h=t.toString(),c=i.toString();if(c.length>15){var u=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),d=parseFloat(c),h.length>u){var p=h.length-u;h=h.slice(0,p)+"."+h.slice(p)}else if(h.length===u)h="0."+h;else{for(var m="0.",f=0;f<u-h.length;f++)m+="0";h=m+""+h}l=parseFloat(h)}else"s"===this.int64?(l=t.toNumber(),d=i.toNumber()):(l=parseFloat(t.toString()),d=parseFloat(i.toString()));s=l/d*n}else s=(t=Math.abs(this.min-e))/(i=Math.abs(this.max-this.min))*n;return"vertical"===this.orientation?this._height-s-(this._height-a-n)+r:s+o},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||"tankStyle"===i&&"arrow"===t.pointer.pointerType)){if("min"==i&&("s"===t.int64?t._min64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64?t._min64=new BigNumber(r):this.min=parseFloat(r),e.jqx.aria(this,"aria-valuemin",r)),"max"==i&&("s"===t.int64?t._max64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64?t._max64=new BigNumber(r):this.max=parseFloat(r),e.jqx.aria(this,"aria-valuemax",r)),"disabled"===i)r?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",r);else if("value"===i)null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=s,this.setValue(r);else{if("colorScheme"===i)this.pointer.style=null;else if("orientation"===i&&s!==r){var n=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=n}"animationDuration"!==i&&"easing"!==i&&this.refresh()}this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);e=e||{},this.style=e.style||{stroke:"#cccccc",fill:null},e.visible||void 0===e.visible?this.visible=!0:this.visible=!1,!{rectangle:!0,roundedRectangle:!0}[e.backgroundType]?this.backgroundType="roundedRectangle":this.backgroundType=e.backgroundType,"roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(t,i){if(this.host)return new this._tickConstructor(t,i);this.size=i._validatePercentage(t.size,"10%"),t.interval?this.interval=t.interval:this.interval=5,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=5,this.style=t.style||{stroke:"#A1A1A1","stroke-width":"1px"},void 0===t.visible?this.visible=!0:this.visible=t.visible},_labelsConstructor:function(t,i){if(this.host)return new this._labelsConstructor(t,i);this.position=t.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.visible=t.visible,!1!==this.visible&&!0!==this.visible&&(this.visible=!0),t.interval?this.interval=t.interval:this.interval=10,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=10,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle,this.offset=i._validatePercentage(t.offset,0)},_rangeConstructor:function(t,i){if(this.host)return new this._rangeConstructor(t,i);t.startValue?this.startValue=t.startValue:this.startValue=i.min,t.endValue?this.endValue=t.endValue:this.endValue=i.max,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new e.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===i.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),this.style=t.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,!0!==this.visible&&!1!==this.visible&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};e.extend(t,i),e.extend(s,i),e.jqx.jqxWidget("jqxLinearGauge","",{}),e.jqx.jqxWidget("jqxGauge","",{}),e.extend(e.jqx._jqxGauge.prototype,t),e.extend(e.jqx._jqxLinearGauge.prototype,s)}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.adaptivehidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.selectable=!1,this.autofill=!0,this._applyStyle=function(){var e=this;return e.hovered?(e.style.headerBackgroundHoveredColor&&(e.element.style.backgroundColor=e.style.headerBackgroundHoveredColor),void(e.style.headerHoveredColor&&(e.element.style.color=e.style.headerHoveredColor))):e.selected?(e.style.headerBackgroundSelectedColor&&(e.element.style.backgroundColor=e.style.headerBackgroundSelectedColor),void(e.style.headerSelectedColor&&(e.element.style.color=e.style.headerSelectedColor))):(e.style.headerBackgroundColor?e.element.style.backgroundColor=e.style.headerBackgroundColor:e.element.style.backgroundColor="",void(e.style.headerColor?e.element.style.color=e.style.headerColor:e.element.style.color=""))},this._applyCellStyle=function(e){var t=this,i=!1;if(e.length)for(var s=0;s<e.length;s++)this._applyCellStyle(e[s]);else if((t.style.backgroundColor||t.style.color||t.style.hoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)&&(i=!0),i){if(e.className.indexOf("hover")>=0)return t.style.backgroundHoveredColor&&(e.style.backgroundColor=t.style.backgroundHoveredColor),void(t.style.hoveredColor&&(e.style.color=t.style.hoveredColor));if(e.className.indexOf("selected")>=0)return t.style.backgroundSelectedColor&&(e.style.backgroundColor=t.style.backgroundSelectedColor),void(t.style.selectedColor&&(e.style.color=t.style.selectedColor));t.style.backgroundColor&&(e.style.backgroundColor=t.style.backgroundColor),t.style.color&&(e.style.color=t.style.color)}},this.style={headerBackgroundColor:"",headerColor:"",headerBackgroundHoveredColor:"",headerHoveredColor:"",headerBackgroundSelectedColor:"",headerSelectedColor:"",backgroundColor:"",color:"",backgroundHoveredColor:"",hoveredColor:"",backgroundSelectedColor:"",selectedColor:""},this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var s=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"selectable")&&(this.selectable=e.jqx.get(i,"selectable")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"style")&&(this.style=e.jqx.get(i,"style")),e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"adaptivehidden")&&(this.adaptivehidden=e.jqx.get(i,"adaptivehidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"autofill")&&(this.autofill=e.jqx.get(i,"autofill")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!s.hasOwnProperty(r)&&!s.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+r+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={adaptive:!1,adaptivewidth:600,disabled:!1,width:600,height:400,pagerheight:40,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:32,columnsheight:36,filterrowheight:36,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,sortmode:"one",filterable:!1,filtermode:"default",filterbarmode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showrowlines:!0,showcolumnlines:!0,showcolumnheaderlines:!0,showtoolbar:!1,showfilterbar:!1,toolbarheight:36,showstatusbar:!1,statusbarheight:36,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:16,autoshowcolumnsmenubutton:!0,showcolumnsactionbutton:!1,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",autofill:!1,enableoptimization:!0,enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],charting:{appendTo:null,colorScheme:"scheme02",dialog:{header:"Data Visualization",height:400,width:400,position:"center",enabled:!0},ready:null,formatSettings:{}},events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},_applyThemeSettings:function(){var t=this;if(t.isMaterialized()){var i=window.getComputedStyle(t.element),s=i.getPropertyValue("--jqx-grid-row-height"),r=i.getPropertyValue("--jqx-grid-column-height"),n=i.getPropertyValue("--jqx-grid-show-column-lines"),o=i.getPropertyValue("--jqx-grid-filter-menu-items-height"),a=i.getPropertyValue("--jqx-scrollbar-size");s&&32===this.rowsheight&&(t.rowsheight=parseInt(s)),r&&36===this.columnsheight&&(t.columnsheight=parseInt(r)),n&&(t.showcolumnlines=t.showcolumnheaderlines=parseInt(n)),t.filterMenuItemsHeight=o?parseInt(o):23,a&&(t.scrollbarsize=a,e.jqx.utilities.scrollBarSize=a)}},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i._undoRedo=[],i._undoRedoIndex=-1,i._applyThemeSettings(),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var s="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='filter' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}(h=i.source._source.datafields)&&h.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=s,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset")),this.filterbar=this.host.find("#filter"),this.filterbar[0].id="filter"+this.element.id,this.filterbar.addClass(this.toTP("jqx-widget-header")),this.filterbar.addClass(this.toTP("jqx-grid-toolbar"));var r=i.host.find("#verticalScrollBar"+i.element.id),n=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!r.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=n.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=!!i.host.parent()&&299==i.host.parent().css("z-index"),i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&"function"!=typeof i.rowdetailstemplate&&(null==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),null==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),null==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>i.headerZIndex&&(i.headerZIndex=i.columns.length+100),i.theme&&i.theme.indexOf("material")>=0){var o=e("<span>Test</span>"),a=e("<span>Test</span>");o.addClass(i.toTP("jqx-grid-row-cell")),a.addClass(i.toTP("jqx-grid-column-header-cell")),i.host.append(o),i.host.append(a);var l=o.outerHeight(),d=a.outerHeight();l>this.rowsheight&&(i.rowsheight=l,this._cellheight=l),d>this.columnsheight&&(i.columnsheight=d,this._columnHeight=d),o.remove(),a.remove()}var h;if(31!=i.rowsheight&&i._measureElement("cell"),(32!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source)if(null==(h=i.source.datafields)&&i.source._source&&(h=i.source._source.datafields),h)for(var c=0;c<i.columns.length;c++){if((a=i.columns[c])&&a.cellsformat&&a.cellsformat.length>2)for(var u=0;u<h.length;u++)if(h[u].name==a.datafield&&!h[u].format){h[u].format=a.cellsformat;break}}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showfilterbar&&i.filterbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var p=i.that,m=function(){p.content&&(p.content[0].scrollTop=0,p.content[0].scrollLeft=0),p.gridcontent&&(p.gridcontent[0].scrollLeft=0,p.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",function(){m()}),i.addHandler(i.content,"scroll",function(e){return m(),!1}),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var s=e(window).width(),r=e(window).height(),n=t.host.width(),o=t.host.height();if(t.pageable){var a=t.host.find(".jqx-grid-pager-input");s<350?a.hide():a.show()}if(t.autoheight&&(t._lastHostWidth=r),t._lastHostWidth!=n||t._lastHostHeight!=o){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=n,t._lastHostHeight!=o)}t._lastWidth=s,t._lastHeight=r,t._lastHostWidth=n,t._lastHostHeight=o});var i=t.host.width(),s=t.host.height();t._lastHostWidth=i,t._lastHostHeight=s}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return"light"!==this.theme&&"dark"!==this.theme||this._isIE10()||(i+=10)>36&&(i=36),t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,s=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(s(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(s(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(s(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(s(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(s(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(s(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(s(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(s(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(s(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(s(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],n=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,s(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(s(),t+=" jqxcalendar.js"):(s(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&n("dropdownlist");for(var o=0;o<this.columns.length;o++){var a;if(null!=this.columns[o])if(n(a=this.columns[o].columntype),this.filterable&&this.showfilterrow)"checkedlist"!=(a=this.columns[o].filtertype)&&"bool"!=a||n("checkbox"),"date"==a&&n("datetimeinput")}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var s=this.that;s._newmax=null;var r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),s._resizeTimer&&clearTimeout(s._resizeTimer);if(s.resizingGrid=!0,!e.jqx.isHidden(s.host)){if(s.editcell&&(s.endcelledit(s.editcell.row,s.editcell.column,!0,!0),s._oldselectedcell=null),n!=s._oldHeight||1==i){var o=s.groupable&&s.groups.length>0,a=s.vScrollBar.css("visibility");if(!s.autoheight){if(s.virtualmode&&(s._pageviews=new Array),o||s.rowdetails||s.pageable){s._arrange(),s.prerenderrequired=!0;n=Math.round(s.host.height())+2*s.rowsheight,s._gettableheight();var l=Math.round(n/s.rowsheight),d=Math.max(s.dataview.totalrows,s.dataview.totalrecords);s.pageable&&(d=s.pagesize,s.pagesize>Math.max(s.dataview.totalrows,s.dataview.totalrecords)&&s.autoheight?d=Math.max(s.dataview.totalrows,s.dataview.totalrecords):s.autoheight||s.dataview.totalrows<s.pagesize&&(d=Math.max(s.dataview.totalrows,s.dataview.totalrecords)));s.rowsheight,s._getpagesize();!s.pageable&&s.autoheight&&(l=d),s.virtualsizeinfo&&(s.virtualsizeinfo.visiblerecords=l),s.rendergridcontent(!0,!1),s._renderrows(s.virtualsizeinfo)}else{s._arrange(),s.virtualsizeinfo=s._calculatevirtualheight();var n=Math.round(s.host.height())+2*s.rowsheight;parseInt(n)>=parseInt(s._oldHeight)&&(s.prerenderrequired=!0),s._renderrows(s.virtualsizeinfo),s.rtl&&(s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths())}a!=s.vScrollBar.css("visibility")&&(s.vScrollInstance.setPosition(0),s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths())}}if(r!=s._oldWidth||1==t){var h=!1;if(s.editcell&&s.editcell.editor)switch(s.editcell.columntype){case"dropdownlist":if(h=s.editcell.editor.jqxDropDownList("isOpened")||s.editcell.editor.jqxDropDownList("isanimating")&&!s.editcell.editor.jqxDropDownList("ishiding"))return s.editcell.editor.jqxDropDownList({openDelay:0}),s.editcell.editor.jqxDropDownList("open"),void s.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=s.editcell.editor.jqxComboBox("isOpened")||s.editcell.editor.jqxComboBox("isanimating")&&!s.editcell.editor.jqxComboBox("ishiding"))return s.editcell.editor.jqxComboBox({openDelay:0}),s.editcell.editor.jqxComboBox("open"),void s.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=s.editcell.editor.jqxDateTimeInput("isOpened")||s.editcell.editor.jqxDateTimeInput("isanimating")&&!s.editcell.editor.jqxDateTimeInput("ishiding"),s.editcell.editor.jqxDateTimeInput({openDelay:0}),s.editcell.editor.jqxDateTimeInput("open"),void s.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=s.hScrollBar.css("visibility");s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths(),0==t&&s._oldWidth>r||i&&0!=s.dataview.rows.length||s._renderrows(s.virtualsizeinfo),c!=s.hScrollBar.css("visibility")&&s.hScrollInstance.setPosition(0)}s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1}}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,s,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),s=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(s+t)},this.content[0].appendChild(r),this._gridRenderElement=r}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);if(t.okstring&&(this.gridlocalization.okstring=t.okstring),t.cancelstring&&(this.gridlocalization.cancelstring=t.cancelstring),t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),null!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),null!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var s in this._filterrowcache)e(this._filterrowcache[s]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filtersearchstring:"Search:",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",okstring:"Ok",cancelstring:"Cancel"}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var s=i*t._measureMenuElement()+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(s+=224,e.jqx.browser.msie&&e.jqx.browser.version<8&&(s+=20)),s},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu);var s=e("<ul></ul>"),r=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),n=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),a='<div class="jqx-grid-groupby-icon"></div>',l=e('<li class="'+i+'">'+a+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+a+this.gridlocalization.groupremovestring+"</li>"),h=e('<li type="separator"></li>'),c=e('<li class="filter '+i+'" style="height: 224px;" ignoretheme="true"><div class="filter"></div></li>');this.gridmenu.addClass("jqx-grid-menu");var u=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var m=200;p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var f=e("<span>"+p+"</span>");f.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(f),m=f.outerWidth()+60,f.remove();var g=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(s.append(r),this.menuitemsarray[0]=r[0],s.append(n),this.menuitemsarray[1]=n[0],s.append(o),this.menuitemsarray[2]=o[0],g=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(s.append(l),this.menuitemsarray[3]=l[0],s.append(d),this.menuitemsarray[4]=d[0],g+=2);var v=g*this._measureMenuElement()+9,x=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=c[0],this.menuitemsarray[6]=c[0],s.append(h),s.append(c),v+=220,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var w=e(c).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=w,this.filtermenu=e(c),m+=20,this.adaptive&&this.element.offsetWidth<this.adaptivewidth&&(m=this.element.offsetWidth-50),this._initfilterpanel(this,w,"",m),this._initfilterpanel(this,this.excelfilterpanel,"",m,!0),x=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}this.gridmenu.append(s),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",49),e("#listBoxfilter2"+this.element.id).css("z-index",49),e("#listBoxfilter3"+this.element.id).css("z-index",49),e("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",49)})),null==this.menuitemsarray[0]&&"light"!==this.theme&&"dark"!==this.theme&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){var s=e(t.gridmenu.find(".jqx-item")).toArray(),r=function(e){for(var t=s.indexOf(e)-1;t>=0;t--)if(!(s[t].className.indexOf("disabled")>=0))return s[t];return e},n=function(e){for(var t=s.indexOf(e)+1;t<s.length;t++)if(!(s[t].className.indexOf("disabled")>=0))return s[t];return e},o=function(){var e=s[s.length-1];return e.className.indexOf("disabled")>=0?r(e):e},a=function(t){e(s).removeClass("jqx-fill-state-focus");for(var i=0;i<s.length;i++)s[i].active=!1;t&&(e(t).addClass("jqx-fill-state-focus"),t.active=!0)};if((l=function(){for(var e=0;e<s.length;e++)if(s[e].active)return s[e];return null})()||t.filterable||(s[0].active=!0),t.keyboardmenunavigation&&t.keyboardnavigation){if(40===i.keyCode){var l=l();a(n(l))}else if(38===i.keyCode){l=l();a(r(l))}if(9===i.keyCode){if(!l()){if(i.shiftKey)if(document.activeElement===e.find("#filter1"+t.element.id)[0])a(o()),e(e.find("#filter1"+t.element.id)).removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault();else if(document.activeElement===e.find("#filter1"+t.element.id+"ex")[0])a(o()),e(e.find("#filter1"+t.element.id)+"ex").removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault();return!0}if(i.shiftKey){l=l();a(r(l)),i.stopPropagation(),i.preventDefault()}else{(l=l())===o()&&t.filterable&&!t.showfilterrow?(a(null),e(e.find("#filter1"+t.element.id)).length>0?e(e.find("#filter1"+t.element.id)).jqxDropDownList("focus"):e(e.find("#filter1"+t.element.id+"ex")).length>0&&e(e.find("#filter1"+t.element.id+"ex")).jqxListBox("focus")):a(n(l)),i.stopPropagation(),i.preventDefault()}}}if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode){s=t.gridmenu.find(".jqx-item");if(l=l())e(l).trigger("click"),a(null);else if(t._buildfilter&&t.filterable&&!t.showfilterrow){if(e.find("#filter1"+t.element.id).length>0)var d="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),h="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),u="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");var p=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus"),m=e(e.find("#filterbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(p){var f=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,f),t.gridmenu.jqxMenu("close")}else if(m&&!d&&!h&&!u){f=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,c,f)}}var g=t.selectedcells.length>0||t.selectedrowindexes.length>0;t.clearselection();var v=t.getdisplayrows()[0];if(v){var x=t.getboundindex(v);t.selectionmode.indexOf("cell")>=0?g&&t.selectcell(x,t.columns.records[0].displayfield):g&&t.selectrow(x)}}}),"auto"!=this.popupwidth&&(m=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:1e3,width:m,height:v,autoCloseOnClick:x,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});var y=document.querySelectorAll(".jqx-menu-wrapper");if(this.gridmenu.parent().attr("tabindex",y.length-1),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",c[0].id,"closeOnClick",!1),this.rtl){var b=this.that;e.each(s.find("li"),function(){e(this).addClass(b.toTP("jqx-rtl"))});var _=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};_(o),_(n),_(r),_(l),_(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var s=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=e("<span>"+i+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),s=r.outerWidth()+60,r.remove();var n=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(n=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n+=2);var o=n*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(o+=224,s+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(o+=20),this.isTouchDevice()&&(o+=30)),null==this.menuitemsarray[0]&&"light"!==this.theme&&"dark"!==this.theme&&(o=65),"auto"!=this.popupwidth&&(s=this.popupwidth),"auto"!=this.popupheight&&(o=this.popupheight),this.gridmenu.jqxMenu({width:s,height:o})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,s=!1;if(null==t.target||null!=t.target&&null==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var r=i.gridmenu.coord(),n=t.pageX,o=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!s){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((l=new Date)-a<100)return;if(l-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l;a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;if((l=new Date)-a<100)return;if(l-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(n>=r.left&&n<=r.left+i.gridmenu.width()&&o>=r.top&&o<=r.top+i.gridmenu.height())){if(i.columnmenuclosing){var d=e.data(document.body,"contextmenu"+i.element.id);if(d||(d={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,d.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},openColumnChooser:function(t,i){var s=this;i||(i="Columns"),t&&!e.isEmptyObject(t)||(t=s.columns.records);for(var r=[],n=0;n<t.length;n++)null!==t[n].text&&r.push({label:t[n].text,value:t[n].datafield,checked:!t[n].hidden});var o=document.createElement("div");o.innerHTML="<div>"+i+'</div><div style="overflow:hidden;"></div>';var a=document.createElement("div");a.style.width="100%",a.style.height="calc(100% - 30px)";var l=new jqxListBox(a,{width:"100%",height:"calc(100% - 30px)",checkboxes:!0,source:r}),d=new jqxWindow(o,{width:400,height:400,position:"center",isModal:!0}),h=document.createElement("button");h.innerHTML=this.gridlocalization.okstring;var c=document.createElement("button");c.innerHTML=this.gridlocalization.cancelstring,h.style.width="50%",h.style.height="100%",c.style.width="50%",c.style.height="100%";var u=document.createElement("div");u.style.height="30px",d.open(),setTimeout(function(){o.querySelector(".jqx-widget-content").appendChild(a),o.querySelector(".jqx-widget-content").appendChild(u),u.appendChild(h),u.appendChild(c),h=new jqxButton(h,{theme:s.theme}),c=new jqxButton(c,{theme:s.theme}),h.element.style.borderTopRightRadius="0px",h.element.style.borderBottomRightRadius="0px",h.element.style.borderTopLeftRadius="0px",h.element.style.borderBottomLeftRadius="0px",c.element.style.borderTopLeftRadius="0px",c.element.style.borderBottomLeftRadius="0px",c.element.style.borderTopRightRadius="0px",c.element.style.borderBottomRightRadius="0px",c.element.style.marginLeft="-2px",l.on("checkChange",function(){var e=l.getCheckedItems();h.disabled=0===e.length}),h.on("click",function(){d.destroy(),s.beginupdate();for(var e=l.getItems(),t=0;t<e.length;t++){var i=e[t];!1===i.checked?s.hidecolumn(i.value):s.showcolumn(i.value)}s.endupdate()}),c.on("click",function(){d.destroy()})},100),d.on("close",function(){d.destroy()})},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var s=i.args,r=0;r<t.menuitemsarray.length;r++){if(s==t.menuitemsarray[r]){if(null!=e(s).attr("ignoretheme"))return;var n=e.data(document.body,"contextmenu"+t.element.id),o=n.column;t.filterable&&t.gridmenu.jqxMenu("close");var a=o.displayfield;if(null==a&&(a=o.datafield),null!=n)switch(r){case 0:t.sortby(a,"ascending",null);break;case 1:t.sortby(a,"descending",null);break;case 2:t.sortby(a,null,null);break;case 3:t.addgroup(a);break;case 4:t.removegroup(a);break;case 5:var l=e(t.menuitemsarray[6]);e(l).css("display","block")}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumns:this.getsortcolumns?this.getsortcolumns():[],sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.details[i]=this.details}})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var s=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var r=this,n=0;n<r.columns.records.length;n++)r.columns.records[n].datafield!=t&&e(r.columns.records[n].element).trigger("mouseleave");setTimeout(function(){"block"==e(s)[0].style.display&&e(s).trigger("click"),r._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height()))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t;if(null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var s=this._getmenuitembyindex(5);if(s){var r=e(s).find("#filter1"+this.element.id),n=e(s).find("#filter2"+this.element.id),o=e(s).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"))}this.focus()}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var s=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var r=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),null!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);var n=null;if(null!=t&&(n=null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),this._columnClassNameCache=new Array,!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!r.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer){if(!r._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");r._initpager()}if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null,r._postrender("data");else{var n=r.vScrollInstance.value,o=r.hScrollInstance.value,a=r.source?r.source.datatype:"array";if("local"!=a||"array"!=a){var l=null==r.virtualsizeinfo||null!=r.virtualsizeinfo&&0==r.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(d=!0),0==t)return r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=new Array,r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()),r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo)),void r._postrender("data");d?i="filter":null!=r.sortcolumn&&(i="sort")}if(!r.virtualmode||l||r.virtualmode&&r.pageable)if(1==r.initializedcall&&"pagechanged"==i)n=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data");else if("filter"==i)r.virtualmode,r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._updatefocusedfilter(),r._postrender("data");else if("sort"==i){if(r.virtualmode)r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data");else{if(r._render(!0,!0,!1,!1,!1),"many"===r.sortmode)for(var h in r.sortcolumns)r.sortby(h,r.sortcolumns[h],r.source.sortcomparer);else r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer);r._postrender("data")}r.source.sort&&r._updatefocusedfilter()}else"data"==i?(r._render(!0,!0,!1,!1,!1),r._postrender("data")):"state"==i?(r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):(r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data"));else r.virtualmode&&1==t&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):r.virtualmode&&!r.pageable&&0==t&&null!=i?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):r.virtualmode&&0==r.dataview.totalrecords&&r.dataview.filters.length>0?(r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode),r._postrender("data")):(r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r._postrender("data"));r.vScrollInstance.value!=n&&n<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(n),r.hScrollInstance.value!=o&&o<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(o)}}if(r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1}))),r._raiseEvent(11),r.initializedcall)r._updateTouchScrolling();else{var c=function(){if(r._raiseEvent(0),r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),"many"===r.sortmode&&r.sortable&&r.source&&r.source.sortcolumns)for(var t=r.source.sortcolumns,i=0;i<t.length;i++)r.sortby(t[i],"asc"===r.source.sortdirections[i]);if(r.renderstatusbar&&r.renderstatusbar(r.statusbar),r.rendertoolbar&&r.rendertoolbar(r.toolbar),r._rendercelltexts&&r._rendercelltexts(),r._gridRenderElement){e(r._gridRenderElement).show("slow");var n=6e3+Math.floor(4e3*Math.random()+1),o=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();s[e.camelCase(o)](function(){e(r._gridRenderElement).hide("slow",function(){e(r._gridRenderElement).remove()})},n)}r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)};if(e.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){e.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,c(),r._initmenu())},200)):c(),null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&r.height.toString().indexOf("%"),"hidden"==r.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),r.autowidth||"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(null!=n?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i,s=this._getpagesize(),r=Math.floor(e/s),n=this.scrollmode;if(this.scrollmode="physical",this._pageviews[r]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0){for(var o=this.getdisplayrows(),a=0,l=0;l<o.length;l++){var d=o[l];if(d.boundindex===e){var h=this.vScrollInstance.value,c=this._gettableheight()-this.rowsheight;(a<h||a>h+c)&&this.scrolltop(a-this.rowsheight),a===h&&this.scrolltop(a-this.rowsheight);break}for(var u=d.parentItem,p=!0;u;){if(u&&!((i=u).group&&(t.expandedgroups[i.uniqueid]?t.expandedgroups[i.uniqueid].expanded:void 0))){p=!1;break}u=u.parentItem}p&&(a+=this.rowsheight,this.details[l]&&0==this.details[l].rowdetailshidden&&(a+=this.details[l].rowdetailsheight))}return this.scrollmode=n,!0}var m=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){r=Math.floor(e/s);if(this.dataview.pagenum!=r){if(this.groupable&&this.groups.length>0)return!0;if(this.editcell)return setTimeout(function(){t.pagerpageinput.focus()},25),!1;this.gotopage(r),m=!0}}h=this.vScrollInstance.value,c=this._gettableheight()-this.rowsheight;var f=s*(e/s-r);if(f=Math.round(f),this._pageviews[r]){var g=(a=this._pageviews[r].top)+f*this.rowsheight;if(this.rowdetails)for(l=s*r;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(g+=this.details[l].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=g+this.rowsheight&&(g=this.vScrollInstance.max),g<h?(this.scrolltop(g),m=!0):g>h+c+2&&(this.scrolltop(g-c),m=!0)}else if(this.pageable){g=f*this.rowsheight;if(this.rowdetails)for(l=s*r;l<s*r+f;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(g+=this.details[l].rowdetailsheight);(g<h||g>h+c)&&(this.scrollto(0,g),m=!0)}return this.scrollmode=n,m},ensurecellvisible:function(e,t){var i=this.that,s=this.hScrollInstance.value,r=i.hScrollInstance.max;i.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(r=0);var n=this.ensurerowvisible(e),o=0;if(this.columns.records){var a=s,l=this.hScrollBar[0].style.visibility,d=this.vScrollBar[0].style.visibility;if("hidden"==l)return;for(var h=this.element.offsetWidth,c=0,u="visible"==d?20:0,p=!1,m=0;m<this.columns.records.length;m++){var f=this.columns.records[m];if(f.hidden)break;if(f.datafield==t){var g=0,v=i.rtl?r-s:a;o+f.width>v+h-u?(g=o+f.width-h+u,i.rtl&&(g=r-g),i.scrollleft(g),p=!0):o<=v&&(g=o-f.width,i.rtl&&(g=r-g),i.scrollleft(g),p=!0),0==c?(i.rtl?i.scrollleft(r):i.scrollleft(0),p=!0):c==i.columns.records.length-1&&"visible"==i.hScrollBar.css("visibility")&&(i.rtl?i.scrollleft(i.hScrollBar.jqxScrollBar("min")):i.scrollleft(i.hScrollBar.jqxScrollBar("max")),p=!0);break}c++,o+=f.width}p||i.scrollleft(a)}return n},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e||null==t)return!1;if(this.heightboundrows[e]={index:e,height:t},(e=this.getrowvisibleindex(e))<0)return!1;if(this.rows.records[e])this.rows.records[e].height=t;else{var s=new i(this,null);s.height=t,this.rows.replace(e,s)}return this.heights[e]=t,this.rendergridcontent(!0),!0},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,s,r){if(!(null==t||null==t||t<0)){var n=t+"_";if(this._rowdetailscache[n]){var o=this._rowdetailscache[n].element;e(o).remove(),this._rowdetailscache[n]=null}var a=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:s,rowdetailshidden:r,key:a}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,s,r,a)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(null!=s){var r=s[t];s[t]=i;var n=this._getcolumn(e);switch(null!=n&&(n[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==s.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:r};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:n},a=(this.that,0);a<this.detailboundrows.length;a++)if(null!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==n){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){if(null==e)return!1;if(e<0)return!1;if(this.details[e])return this.details[e];if(this.rowdetailstemplate){if("function"==typeof this.rowdetailstemplate){var t=this.rowdetailstemplate(e);return void 0===t.rowdetailshidden&&(t.rowdetailshidden=!0),void 0===t.rowdetailsheight&&(t.rowdetailsheight=200),void 0===t.rowdetails&&(t.rowdetails="<div></div>"),t}return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var s=this.vScrollInstance.value,r=!i.rowdetailshidden,n=this.getboundindex(e);null!=n&&(this.detailsVisibility[n]=r);var o=this._setrowdetailsvisibility(t,i,r);return 0!==s&&"hidden"!==this.vScrollBar.css("visibility")&&(s<=this.vScrollInstance.max?this.vScrollInstance.setPosition(s):this.vScrollInstance.setPosition(this.vScrollInstance.max)),o}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){var s="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(e):this.rowdetailstemplate;void 0===s.rowdetailshidden&&(s.rowdetailshidden=!0),void 0===s.rowdetailsheight&&(s.rowdetailsheight=200),void 0===s.rowdetails&&(s.rowdetails="<div></div>"),this.details[e]={rowdetailshidden:s.rowdetailshidden,rowdetailsheight:s.rowdetailsheight,rowdetails:s.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var n=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:n.rowdetails,height:n.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:n.rowdetails,height:n.rowdetailsheight}),this._setrowdetails(e,n.rowdetails,n.rowdetailsheight,n.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,s=new Array,r=new Array,n=t.groupable&&t.groups.length>0,o=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&n&&(a=this.dataview.rows.length);for(var l=0;l<a&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],h=null;if(t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex]).setdata(d):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate){var c="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(h.boundindex):this.rowdetailstemplate;h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden,void 0===h.rowdetailshidden&&(h.rowdetailshidden=!0),void 0===h.rowdetailsheight&&(h.rowdetailsheight=200),void 0===h.rowdetails&&(h.rowdetails="<div></div>")}var u=this.details[h.visibleindex];if(u?(h.rowdetails=u.rowdetails,h.rowdetailsheight=u.rowdetailsheight,h.rowdetailshidden=u.rowdetailshidden,void 0===h.rowdetailshidden&&(h.rowdetailshidden=!0),void 0===h.rowdetailsheight&&(h.rowdetailsheight=200),void 0===h.rowdetails&&(h.rowdetails="<div></div>")):this.rowdetailstemplate||(h.rowdetails=null),n&&this.pageable&&null!=h.parentbounddata){var p=s[h.parentbounddata.uniqueid];if(null!=p){var m=this._findgroupstate(p.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!m,!1),h.hidden=this.hiddens[h.visibleindex]}null!=p&&null!=p&&(h.parentrow=p,p.subrows[p.subrows.length++]=h)}if(!h.hidden){var f=d.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),h.height=this.heights[f],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),s[h.uniqueid]=h,r[o++]=h,h.top=e,e+=h.height;var g=f;t.rows.replace(g,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),r.length>0&&(this._pagescache[this.dataview.pagenum]=r)}}},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_updateaddnewrowui:function(t){for(var i=this,s="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,r=i.columns.records.length,n=0,o=0;o<r;o++){(a=i.columns.records[o]).addnewrowwidget&&e(a.addnewrowwidget).detach()}for(o=0;o<r;o++){var a,l=(a=i.columns.records[o]).width;l<a.minwidth&&(l=a.minwidth),l>a.maxwidth&&(l=a.maxwidth);var d=e(s[0].cells[o]);d.css("left",n);d.width()==l&&!1,t&&!0,d.width(l),d[0].left=n,a.addnewrowwidget&&(d.html(""),d.append(a.addnewrowwidget)),a.hidden&&a.hideable||a.adaptivehidden?d.css("display","none"):n+=l}var h=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==h.indexOf("add")&&-1==h.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==h.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==h.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==h.indexOf("delete")&&i.addnewrowdeletebutton.hide();var c=e(s.children()[0]);c.width(parseInt(n)+2),c.height(i.everpresentrowheight),c.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var s=e.columns.records[i];s.addnewrowwidget&&(s.destroyeverpresentrowwidget?s.destroyeverpresentrowwidget(s.addnewrowwidget):s.addnewrowwidget.remove(),s.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,s=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),r=0,n=t.columns.records.length,o=t.toThemeProperty("jqx-grid-cell");o+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),o+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var a=n+10,l=new Array;t.that;i[0].cells=l,s.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),s.css("max-height",t.everpresentrowheight+"px"),i.append(s);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(c),d.append(u),d.append(p);var m=t.everpresentrowactions.split(" ");-1==m.indexOf("add")&&-1==m.indexOf("addBottom")&&h.hide(),-1==m.indexOf("update")&&c.hide(),-1==m.indexOf("reset")&&p.hide(),-1==m.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,h.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},s={},r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);s[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.value,s[c.displayfield]=o.label)}}var a=!1;for(r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,o,s),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}}if(a)return d.hide(),void t.focus();for(r=0;r<n;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=o,c.datafield!=c.displayfield&&(i[c.datafield]=o.value,i[c.displayfield]=o.label),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var u=t.getselectedcells()[0].rowindex;else u=t.selectedrowindexes[0];var p=t.getrowdata(u);p&&t.updaterow(p.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];var s=t.getrowdata(i);s&&t.deleterow(s.uid)}for(var r=0;r<n;r++){var o=t.columns.records[r];o.reseteverpresentrowwidgetvalue&&o.reseteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),h.mousedown(function(e){for(var i={},s={},r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);s[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.value,s[c.displayfield]=o.label),c.datafield!=c.displayfield&&(s[c.datafield]=o.label,s[c.displayfield]=o.value)}}var a=!1;for(r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,o,s),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}}if(a)return d.hide(),void t.focus();for(r=0;r<n;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.label,s[c.displayfield]=o.value),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,u),d.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;i<n;i++){var s=t.columns.records[i];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget),s.addnewrowwidget&&(s.addnewrowwidget.attr("title",""),s.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()});for(var f=0;f<n;f++){var g=t.columns.records[f],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var x=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+o+'"></div>');if(s.append(x),x.css("left",r),t.rtl?(x.css("z-index",a++),x.css("border-left-width","1px")):x.css("z-index",a--),"auto"==v&&(v=0),x[0].style.width=parseFloat(v)+"px",x[0].left=r,g.hidden&&g.hideable||g.adaptivehidden?x.css("display","none"):r+=v,l[l.length]=x[0],g.checkboxcolumn){var w=t.toThemeProperty("jqx-grid-cell");w+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),w+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),x.removeClass().addClass(w)}else{var y=!0;if(t.rtl){if(t.groupable){b=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+b+f>n-1&&(y=!1)}t.showrowdetailscolumn&&t.rowdetails&&f==n-1&&(y=!1)}else{if(t.groupable){var b=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+b>f&&(y=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==f&&(y=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var s=0;s<t.columns.records.length;s++){var r=t.columns.records[s];if(r.seteverpresentrowwidgetvalue){var n=t.getcelltext(i,r.displayfield);r.seteverpresentrowwidgetvalue(r.addnewrowwidget,n)}}},y)if(g.createeverpresentrowwidget){g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,x,d,function(){h.trigger("mousedown")}),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,x,d)}else{t._measureElement("column");var _=t.everpresentrowheight/2-t._columnheight/2;if(_<0&&(_=6),_+="px","addButtonColumn"===g.datafield){var j=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");x.append(j),j.mousedown(function(){h.trigger("mousedown")});continue}if("resetButtonColumn"===g.datafield){j=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");x.append(j),j.mousedown(function(){p.trigger("mousedown")});continue}!function(i,s,r){var o=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(o[0].id=e.jqx.utilities.createId(),o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-input")),o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-enableselect")),o.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),o.css("text-align",r.cellsalign),i.rtl&&o.css("direction","rtl"),i.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+r.text),o.appendTo(s),o.css("width","100%"),o.css("height",i.everpresentrowheight+"px"),o.css("line-height",i.everpresentrowheight+"px"),o.css("max-height",i.everpresentrowheight+"px"),o.css("margin","0px"),o.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&(t.selectionmode.indexOf("cell")>=0?t.getselectedcells()[0].rowindex:t.selectedrowindexes[0]),o.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(r);"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:o.coord().top+i.everpresentrowheight-1,left:e>0?o.coord().left:o.coord().left-1});var s=d.children().width();return"right"===r.cellsalign?(s=h.width()+p.width(),d.children().css("left",s-s+"px")):d.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),r.addnewrowwidget=o,r.reseteverpresentrowwidgetvalue||(r.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),r.seteverpresentrowwidgetvalue||(r.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!r.geteverpresentrowwidgetvalue){var a=r;r.geteverpresentrowwidgetvalue=function(i,s,r){var l=s.val();if(!1!==r&&a.validateeverpresentrowwidgetvalue){for(var d={},h=0;h<n;h++){var c=t.columns.records[h];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);d[c.datafield]=u,c.datafield!=c.displayfield&&(d[c.datafield]=u.value,d[c.displayfield]=u.label)}}var p=a.validateeverpresentrowwidgetvalue(a.displayfield,l,d),m=t.gridlocalization.validationstring;if(null!=p.message&&(m=p.message),!("boolean"==typeof p?p:p.result))return o.addClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title",m),"invalid editor state";o.removeClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title","")}var f="string",g=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(g){var v="";e.each(g,function(){if(this.name==a.displayfield)return this.type&&(v=this.type),!1}),v&&(f=v)}if("number"===f){var x=parseFloat(l);if(isNaN(x))return null}return"date"===f?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===f||"boolean"===f?"true"===l||"1"==l||"false"!==l&&"0"!=l&&(!0===l?l:!1===l&&l):l}}o.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),o.blur(function(){o.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),r.initeverpresentrowwidget&&r.initeverpresentrowwidget(r.datafield,s,d)}(this,x,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&s.css("z-index",a--),s.width(parseFloat(r)+2),i.addClass(o),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showfilterbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),i=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var s=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(s=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?s=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(s=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=s*this.rowsheight,n=0,o=0,a=0,l=this._getpagesize(),d=l*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(i=s),s+l>0)for(;h<=s+l;){if(n+=d,h-l<s&&h>=s){var c=h-s;c>0&&(a-=d,this._pageviews[o-1]={top:a,height:d-c*this.rowsheight});break}this._pageviews[o++]={top:a,height:d},a=n,h+=l}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var u=0;if(this.columns&&this.columns.records){for(h=0;h<this.columns.records.length;h++)u+=isNaN(this.columns.records[h].width)?this.columns.records[h].minwidth:this.columns.records[h].width;!isNaN(u)&&parseInt(u)>this.host.width()&&(t-=30)}}return r>t&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-t})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=l,this.dataview.updateview(),{visiblerecords:i,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),s=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=s*this.rowsheight,n=0,o=0,a=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(s,r,0)),this.autoheight&&this._arrange();else for(var c=0;c<s;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(null==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),null==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),null==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height;else{o+=u.height;var p=0;if(this.rowdetails){if(this.rowdetailstemplate&&!u.details){var m="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate():this.rowdetailstemplate;void 0===m.rowdetailshidden&&(m.rowdetailshidden=!0),void 0===m.rowdetailsheight&&(m.rowdetailsheight=200),void 0===m.rowdetails&&(m.rowdetails="<div></div>"),u.details=m}u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(o+=p=u.details.rowdetailsheight,r+=p)}n+=u.height+p}(++d>=h||c==s-1)&&(this._pageviews[a++]={top:l,height:o},o=0,l=n,d=0)}var f=this._gettableheight();if(r>f)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height)<0&&(r=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(r<=f||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),r-f>0)if("deferred"!=this.scrollmode){var g=r-f,v=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:g}),g!=v&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r});else this.vScrollBar.jqxScrollBar({value:0,max:r});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){if("data"!=e&&"sort"!=e&&"filter"!=e&&"cells"!=e&&"pagechanged"!=e&&"pagesizechanged"!=e&&!this.virtualmode){if(this.virtualsizeinfo=null,this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];i.destroywidget&&i.widget&&i.destroywidget&&i.destroywidget(i.widget)}this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())}this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columngroups.length;i++){var s=t.columngroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columngroups.length;i++){if((d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup)(r=s(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r;if((d=this.columns.records[i]).columngroup)(r=s(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=d=this.columns.records[i];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columngroups.length;i++){var d=this.columngroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,s,r,n){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var o=this;return o.___hiddenTimer&&(clearInterval(o.___hiddenTimer),o.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(o.host)||(clearInterval(o.___hiddenTimer),o.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==i||i,this._newmax=null,s)if(this._requiresupdate||0!=r&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in a.beginupdate(),e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var s=e.path.split(".");a.setcolumnproperty(a.columns[s[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){a.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==r&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),s?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,s),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==n||1==n)&&this._updatelistfilters(!s),(this.filterable&&"simple"===this.filtermode||"default"===this.filtermode&&this.showfilterbar)&&this._renderfilter(),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var s=this._overlayElement.css("left");this._overlayElement.css("left",s+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",1800),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",1900),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);if(!this._loading)for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],s=0;for(var r in this.groupsVisibility)r==i.group&&this.groupsVisibility[r]&&(!0,this._setgroupstate(i,!0,!1),s++);if(s>0){!1;var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(t,i){if(this.updating())return!1;null!=t&&null!=t||(t=!1),this._requiresupdate=t;var s=this.prerenderrequired;this.prerenderrequired&&this._arrange();var r=this.that;if(null!=(i=i)&&null!=i||(i=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),i?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),s){var n=this.tableheight;this._arrange(),n!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)}if(this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var o=0,a=r.element.offsetWidth-2;e.each(this.columns.records,function(e,t){if(o+=this.width,"adaptive"===this.columntype)return!0;o>=a&&(this.adaptivehidden=!0)}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}return!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,s="";if(null!=this.columns&&null!=this.columns.records){var r=this.that,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,o=this.adaptive&&this.element.offsetWidth<=this.adaptivewidth,a=0;if(o){var l=1;e.each(this.columns.records,function(e,t){this.adaptivehidden&&l++});var d=this.vScrollBar[0].offsetWidth>0?this.vScrollBar[0].offsetWidth+4:0;"hidden"==this.vScrollBar.css("visibility")&&(d=0);var h=this.columns.records.length-l;a=(this.element.offsetWidth-32-d)/h}e.each(this.columns.records,function(e,o){if(!(this.hidden&&this.hideable||this.adaptivehidden))if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){o=0;var a="hidden"==r.vScrollBar[0].style.visibility?0:r.scrollbarsize+5;(r.scrollbarautoshow||0==r.scrollbarsize)&&(a=0);var l=i;o=parseFloat(this.width)*l/100,a+=n,null!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*(l-a)/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=o}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var c=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>c)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var u=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var p=0;p<this.dataview.rows.length;p++)this.dataview.rows[p].group&&0===this.dataview.rows[p].level&&(u+=this.rowsheight);u>c?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=n,this.columnsheader){var m=this.columnsheader.find("#columntable"+this.element.id);if(0!=m.length){var f=0,g=this,v=0;e.each(this.columns.records,function(n,o){var l=e(this.element);this.hidden||this.adaptivehidden||"none"!==this.element.style.display||(this.element.style.display="block"),this.adaptivehidden&&(this.element.style.display="none");var d=!1,h=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(h=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,d=!0),a>0&&"adaptive"!==this.columntype)l.width(a),this.adaptivewidth=a;else if("auto"==this.width||this._width||d)if(d)h<this.minwidth&&"auto"!=this.minwidth&&(h=this.minwidth,this.width=h),h>this.maxwidth&&"auto"!=this.maxwidth&&(h=this.maxwidth,this.width=h),parseInt(l[0].style.width)!=h&&(l.width(h),this.width=h);else{var c=Math.floor(t*(this.text.length/s.length));if(t-(v+=c)<3&&t!=v&&t-v>.01?t-v==1?c++:c+=2:n==r.columns.records.length-1&&v<t&&(c+=t-v),isNaN(c)&&(c=this.minwidth),isNaN(c)&&(c=this.minwidth),c==1/0&&(c=0),c<0){var u=e("<span>"+g.escape_HTML(this.text)+"</span>");e(document.body).append(u),c=10+u.width(),u.remove()}c<this.minwidth&&(c=this.minwidth),c>this.maxwidth&&(c=this.maxwidth),this._width="auto",this.width=c,l.width(this.width)}else parseInt(l[0].style.width)!=this.width&&l.width(this.width);parseInt(l[0].style.left)!=f&&l.css("left",f),this.hidden&&this.hideable||this.adaptivehidden||(a>0&&"adaptive"!==this.columntype?f+=a:f+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+f),m.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==f?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r=0,n="",o=this.host.width(),a=o,l=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!(this.hidden&&this.hideable||this.adaptivehidden))if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;var s="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;s+=h,(i=parseFloat(this.width)*(a-s)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this}),this.rtl){var c=0;l.reverse();for(u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var m=this.headerZIndex,f=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&f++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(this.columngroups?g-=this.everpresentrowheight:g=this.columnsheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var x=0;if(this.pageable){if(this.pageable)for(var w=0;w<this.dataview.rows.length;w++)this.dataview.rows[w].group&&0===this.dataview.rows[w].level&&(x+=this.rowsheight)}else x=this.dataview.loadedrootgroups.length*this.rowsheight;x>v&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else o-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=h;var y=document.createDocumentFragment(),b=0;if(e.each(this.columns.records,function(l,d){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){var s=t.columngroupslevel*t.columnsheight;return s-=i.level*t.columnsheight}(this.datafield,this),g=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+m+1:150+m-1,u=t.rtl?m++:m--,p=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=g+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=c)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,x=!0),"auto"==this.width||this._width||x){if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden&&!this.adaptivehidden){var w=Math.floor(o*(this.text.length/n.length));if(o-(b+=w)<3&&o!=b&&o-b>.01?o-b==1?w++:w+=2:l==t.columns.records.length-1&&b<o&&(w+=o-b),isNaN(w)&&(w=this.minwidth),w<0){var _=e("<span>"+this.text+"</span>");e(document.body).append(_),w=10+_.width(),_.remove()}w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=w,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth,this.width=v),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth,this.width=v),p[0].style.width=parseInt(v)+"px";(this.hidden&&this.hideable||this.adaptivehidden)&&p.css("display","none");var j=e(p.children()[0]),q=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");q+=" "+t.toTP("jqx-icon-arrow-down");var T=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+q+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||T.css("margin-left",-16),t.rtl&&T.css("left","0px"),this.columnsmenu=T[0],i[0].cells[l]=p[0],T[0].style.width=parseInt(t.columnsmenuwidth)+"px";var C=t.columnsmenu,S=!1,k=!1,I=t.groupable&&f>0&&s<f||t.rowdetails&&s<f;if(t.rtl&&(I=t.groupable&&f>0&&s<f||t.rowdetails&&s<f,I&=l>t.columns.records.length-1-f),I)s++,C&=!1,this.sortable=!1,this.editable=!1,k=!0;else{var D=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==D&&(D=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(D=e(D)),C&=!0,S=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){j.append(e(D))}):this.renderer?j.append(e(D)):D&&(j[0].innerHTML=D),null!=D){var P=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div><div class="sorticon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; visibility: hidden; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sorticon")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');T.addClass(t.toTP("jqx-widget-header")),j.append(P);var A=P.children();this.sorticon=A[3],this.sortasc=A[1],this.sortdesc=A[2],this.filtericon=A[0],this.iconscontainer=P,t.rtl&&(P.css("margin-left","0px"),P.css("left","0px"),e(this.sorticon).css("float","left"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],C&&(t._handlecolumnsmenu(t,j,p,T,this),this.menu||T.hide()),y.appendChild(p[0]),t.groupable&&S){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var M=this;M._applyStyle(),t.addHandler(p,"mouseenter",function(e){M.hovered=!0,M._applyStyle()}),t.addHandler(p,"mouseleave",function(e){M.hovered=!1,M._applyStyle()});var H=function(e,i,s){if(e.selectable){var r=t.getrows();if(void 0===e.selected&&(e.selected=!1),i.shiftKey&&void 0!==t._clickedcolumn||(t._clickedcolumn=e),i.shiftKey&&t._clickedcolumn&&void 0===s){var n=t.columns.records.indexOf(t._clickedcolumn),o=t.columns.records.indexOf(e),a=Math.min(n,o),l=Math.max(n,o);t.clearselection();for(var d=a;d<=l;d++)H(t.columns.records[d],i,!0);return void t._renderrows(this.virtualsizeinfo)}s?e.selected=!0:(i.ctrlKey||t.clearselection(),e.selected=!e.selected);for(d=0;d<r.length;d++)t._applycellselection(r[d].boundindex,e.displayfield,e.selected,!1,!1);e.selected?e.element.setAttribute("selected",""):e.element.removeAttribute("selected"),e._applyStyle(),void 0===s&&(t.virtualsizeinfo=t._calculatevirtualheight(),t._renderrows(t.virtualsizeinfo))}};if(t.addHandler(p,"click",function(e){if(M.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(M)}H(M,e),e.preventDefault(),t._raiseEvent(7,{column:M.getcolumnproperties(),datafield:M.datafield,originalEvent:e})}),M.toggleSelection=H,M.resizable&&t.columnsresize&&!k){var B=!1,z="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(B=!0,z=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,z,function(i){var s=parseInt(i.pageX),r=5,n=parseInt(p.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(B)return r=40,(s=t.getTouches(i)[0].pageX)>=n+M.width-r?(t.resizablecolumn={columnelement:p,column:M},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0;var o=M.width;if(t.rtl&&(o=0),s>=n+o-r){if(s<=n+o+r)return t.resizablecolumn={columnelement:p,column:M},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),s<n+o-r&&(M._animating||M._menuvisible||p.mouseenter()),t.resizablecolumn=null}})}(p.css("left",r),this.hidden&&this.hideable||this.adaptivehidden||(r+=v),M.rendered)&&(M.rendered(e(j[0].firstChild),M.align,g)&&null!=P&&P.hide());if(M.checkboxcolumn){if(P&&P.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");j.html('<div style="cursor: pointer; margin-left: 3px; top: 50%; margin-top: -9px; position: relative;"></div>');var E=j.find("div:first");E.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0}),E.addClass(t.toThemeProperty("jqx-checkbox")),M.checkboxelement=E;var L=E.data().jqxCheckBox.instance;t._checkboxcolumn=M,L.updated=function(e,i,s){t._checkboxcolumnupdating=!0,t.disabled&&(E.jqxCheckBox({disabled:t.disabled}),i=s),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),i[0].appendChild(y),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var _=e("<div style='position: relative !important; '></div>");_[0].id="filterrow."+this.element.id,_.height(this.filterrowheight),this.filterrow=_}this.filterrow.width(2+r),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var j=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");j[0].id="addnewrowtop."+this.element.id,j.height(this.everpresentrowheight),this.addnewrowtop=j}this.addnewrowtop.width(2+r),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var q=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");q[0].id="addnewrowbottom."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowbottom=q}this.addnewrowbottom.width(2+r),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==r?"hidden":"inherit",i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this.that,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level;if(d===a){var h=d*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseFloat(s.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,m=s--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){g=e("<div style='height: 100%; width: 100%;'></div>");var v=l.renderer(l.text,l.align,p);g.html(v)}f.append(g),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),this.showcolumnheaderlines||(f[0].style.borderRightColor="transparent",f[0].style.borderBottomColor="transparent",f[0].style.boxShadow="none"),f[0].style.top=h+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",o.append(f),l.element=f,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):n.hidden||(t+=n.width,s=Math.min(parseFloat(n.element.style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsheight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,s,r,n){t.dragmousedown=null,r[0].id=t.dataview.generatekey(),i.append(r),s[0].columnsmenu=r[0],n.element=s[0];var o=this.columnsmenuwidth+1,a="mouseenter";if(t.isTouchDevice()&&(a="touchstart"),t.addHandler(s,a,function(i){var a=parseInt(i.pageX),l=t.columnsresize&&n.resizable?3:0,d=parseInt(s.coord().left);t.hasTransform&&(d=e.jqx.utilities.getOffset(s).left);var h=n.width;if(t.rtl&&(h=0),0!=l&&a>=d+h-l&&a<=d+h+l)return!1;var c=t.vScrollInstance.isScrolling();n.menu&&t.autoshowcolumnsmenubutton&&!c&&!t.disabled&&function(){if(!n.menu)return!1;if(!t.resizing){if(n._menuvisible&&t._hasOpenedMenu)return!1;if(n._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations)r.css("display","block"),r.stop(),n.iconscontainer.stop(),t.rtl?(r.css("margin-left",-o),r.animate({"margin-left":"0px"},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0})):(r.css("margin-left","0px"),r.animate({"margin-left":-o},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0})),e=t.rtl?o:-(32+o),n.iconscontainer.animate({"margin-left":e},"fast");else{r.css("display","block");var e=t.rtl?16:-48;n.iconscontainer.css("margin-left",e+"px"),n._animating=!1,n._menuvisible=!0}}}()}),!t.autoshowcolumnsmenubutton){r.css("display","block");var l=t.rtl?16:-48;n.iconscontainer.css("margin-left",l+"px"),t.rtl?r.css({"margin-left":"0px"}):r.css({"margin-left":-o})}t.addHandler(s,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&n.menu){var s=e.data(document.body,"contextmenu"+t.element.id);if(null!=s&&r[0].id==s.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?r.css("margin-left","0px"):r.css("margin-left",-o),r.stop(),n.iconscontainer.stop(),t.rtl?r.animate({"margin-left":-o},"fast",function(){r.css("display","none"),n._menuvisible=!1}):r.animate({"margin-left":0},"fast",function(){r.css("display","none"),n._menuvisible=!1});a=t.rtl?0:-32;n.iconscontainer.animate({"margin-left":a},"fast")}else{r.css("display","none");var a=t.rtl?0:-32;n.iconscontainer.css("margin-left",a+"px"),n._menuvisible=!1}}});var d=!0,h="",c=e(n.filtericon);t.addHandler(r,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(h=e.data(document.body,"contextmenu"+t.element.id))&&(h=h.column.datafield)}),t.addHandler(c,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(h=e.data(document.body,"contextmenu"+t.element.id))&&(h=h.column.datafield)});var u=function(){if(!n.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=n.datafield&&(t.columns.records[i]._menuvisible=!1);var s=r.coord(!0),o=r.height();if(!d&&(d=!0,h==n.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),s=e.jqx.utilities.getOffset(r)),a.left+t.host.width()>parseInt(s.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",s.left,s.top+o):t.gridmenu.jqxMenu("open",r.width()+s.left-t.gridmenu.width(),s.top+o),t.gridmenu.width()<100&&t._arrangemenu(),t.adaptive&&t.element.offsetWidth<t.adaptivewidth){t.gridmenu.jqxMenu("close"),t.gridmenu.jqxMenu("open",a.left,s.top+o);var l=0;for(i=0;i<t.columns.records.length;i++){var c=t.columns.records[i];c.hidden||c.adaptivehidden||"adaptive"===c.columntype||(l+=c.adaptivewidth)}t.gridmenu.width(l),t.gridmenu.height(t.content.height())}(!t.filterable||t.filterable&&t.showfilterrow)&&setTimeout(function(){t.gridmenu.focus();for(var i=t.gridmenu.find(".jqx-item"),s=0;s<i.length;s++)i[s].active&&(i[s].active=!1);var r=i[0];i[0].className.indexOf("disabled")>=0&&(r=i[1]),e(i).removeClass("jqx-fill-state-focus"),e(r).addClass("jqx-fill-state-focus"),r.active=!0},225),t._hasOpenedMenu=!0;var u=t._getmenuitembyindex(0),p=t._getmenuitembyindex(1),m=t._getmenuitembyindex(2),f=t._getmenuitembyindex(3),g=t._getmenuitembyindex(4),v=t._getmenuitembyindex(5);if(null!=u&&null!=p&&null!=m){var x=n.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",u.id,!x),t.gridmenu.jqxMenu("disable",p.id,!x),t.gridmenu.jqxMenu("disable",m.id,!x),null!=n.displayfield){var w=(y=t.getsortinformation())&&y.sortcolumns&&y.sortcolumns.find(function(e){return e.dataField===n.displayfield});if(t.sortcolumn==n.displayfield||w){var y=t.getsortinformation();x&&(y.sortdirection.ascending?t.gridmenu.jqxMenu("disable",u.id,!0):t.gridmenu.jqxMenu("disable",p.id,!0))}else t.gridmenu.jqxMenu("disable",m.id,!0)}}if(null!=f&&null!=g&&(t.groupable&&n.groupable?t.groups&&-1!=t.groups.indexOf(n.datafield)?(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",g.id,!1)):(t.gridmenu.jqxMenu("disable",f.id,!1),t.gridmenu.jqxMenu("disable",g.id,!0)):(t.gridmenu.jqxMenu("disable",g.id,!0),t.gridmenu.jqxMenu("disable",f.id,!0))),null!=v){t.menuOwner=n,t._updatefilterpanel(t,v,n);var b=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(b+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(b+=2);var _=36*b+6;_=b*t._measureMenuElement()+20;e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=20,e(v).height(220)),t.isTouchDevice()&&(_+=10),t.filterable&&t.showfiltermenuitems&&(n.filterable?(t.gridmenu.height(_+230),e(v).css("display","block")):(t.gridmenu.height(_),e(v).css("display","none")))}t.columnmenuopening&&(!1===t.columnmenuopening(t.gridmenu,n.displayfield,t.gridmenu.height())&&setTimeout(function(){t._closemenu()}));e.data(document.body,"contextmenu"+t.element.id,{column:n,columnsmenu:r[0]})};t.addHandler(c,"click",function(e){return!!n.menu&&(t.showfilterrow||("block"!=r[0].style.display&&s.trigger("mouseenter"),setTimeout(function(){"block"!=r[0].style.display&&s.trigger("mouseenter"),u()},200)),!1)}),t.addHandler(r,"click",function(e){return!!n.menu&&(u(),!1)}),t.isTouchDevice()&&t.addHandler(r,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!n.menu&&(t._hasOpenedMenu?t._closemenu():u(),!1)})},_removecolumnhandlers:function(t){var i=this.that,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);if(i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click"),i.removeHandler(s,"mousemove"),i.columnsreorder&&(i.removeHandler(s,"mousedown.drag"),i.removeHandler(s,"mousemove.drag")),i.removeHandler(s,"dragstart"),s[0].columnsmenu){var n=e(s[0].columnsmenu);i.removeHandler(n,"click"),i.removeHandler(n,"mousedown"),i.removeHandler(n,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,s){return s.columngroups?(i/2-this._columnheight/2<0&&6,"px"):32!=this.columnsheight&&(this.columnsheight/2-this._columnheight/2<0&&6,"px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; line-height: '+i+'px;"><a href="#">'+e+"</a></div>":'<a style="line-height: '+i+"px; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,s){var r=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var n=this.source.totalrecords;isNaN(n)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=n&&(r.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||r.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews());var o=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(o(),function(){if(r.rendergridrows){var e=r._startboundindex;null==e&&(e=0);var t=e+1+r.dataview.pagesize;if(null!=e&&null!=t){var s=!!r.source._source;if((s?r.source._source.recordstartindex:r.source.recordstartindex)!=e||1==i){if(s){if(t>=r.source._source.totalrecords&&((e=(t=r.source._source.totalrecords)-r.dataview.pagesize-1)<0&&(e=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==e))return;r.source._source.recordstartindex=e,r.source._source.recordendindex=t}else r.source.recordstartindex=e,r.source.recordendindex=t;r.updatebounddata("cells")}}}}(),this.loadondemand=!1);var l=null==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?o():this.autoheight?o():l||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){o()},5)):o()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return"";var i="<table>",s=r.deferreddatafields;null==s&&r.columns.records.length>0&&(s=new Array).push(r.columns.records[0].displayfield);for(var n=0;n<s.length;n++){var o=s[n],a=r._getcolumnbydatafield(o);if(a){var l=r._getcellvalue(a,d);""!=a.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,a.cellsformat,r.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,a.cellsformat,r.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"}(d.bounddata);h!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=h,this._scrollelementcontent=h)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(o(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),d&&r.ensurerowvisible(d.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((l=null==this._browser?this._isIE10():this._browser)||a)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void o();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)o();else{var c=this._jqxgridrendertimer;null!=c&&clearTimeout(c),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?c=setTimeout(function(){o()},this._updatedelay):(c=null,o()),this._jqxgridrendertimer=c):(this._jqxgridrendertimer=c,o())}}if(r.autorowheight&&!r.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),p=this._pageviews[0].height;if(p>u)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-u>0){if("deferred"!=this.scrollmode){var m=p-u,f=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:m}),Math.round(m)!=Math.round(f))this.vScrollBar.jqxScrollBar("value")>m&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.table[0].rows.length,r=this.columnsrow,n=this.groupable&&this.groups.length>0?this.groups.length:0,o=this.columns.records.length-n,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<s;d++)for(var h=this.table[0].rows[d],c=0;c<n+o;c++){if(null!=(u=h.cells[c]))if(a[c].pinned)if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px"}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<s;d++)for(h=this.table[0].rows[d],c=0;c<n+o;c++){var u;if(null!=(u=h.cells[c]))if(a[c].pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,m=null,f=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(f=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(m=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d)r[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px")}else if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px")}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,r,n,o){var a=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if((this.rowdetails||this.rtl||this.editcell&&a||this.width&&this.width.toString().indexOf("%")>=0&&!a&&!this.editcell||this.exporting)&&!o)return{start:0,end:i+s};var l=0,d=-1,h=i+s,c=!1;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var u=0;u<i+s;u++){if(c||this.columns.records[u].pinned&&n&&(c=!0),this.columns.records[u].hidden||this.columns.records[u].adaptivehidden||(l+=this.columns.records[u].width),l>=e&&-1==d&&(d=u),l>t+e){h=u;break}}return++h>i+s&&(h=i+s),(-1==d||c)&&(d=0),{start:d,end:h}},_getvirtualcolumnsindexes:function(e,t,i,s,r){var n=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if(this.enableoptimization&&(this.rowdetails||this.rtl||this.editcell&&n||this.width&&this.width.toString().indexOf("%")>=0&&!n&&!this.editcell||this.exporting))return{start:0,end:i+s};if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+s};var o=0,a=-1,l=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var d=0;d<i+s;d++){if(this.columns.records[d].hidden||this.columns.records[d].adaptivehidden||(o+=this.columns.records[d].width),o>=e&&-1==a&&(a=d),o>t+e){l=d;break}}return++l>i+s&&(l=i+s),-1==a&&(a=0),{start:a,end:l}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews);if(-1==i)return null;i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[s]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,s=t.value,r=i.value,n=parseInt(s),o=parseInt(r),a=this._gettableheight(),l=null!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(a+=29),"deferred"==this.scrollmode&&0!=this._newmax&&n>this._newmax&&null!=this._newmax&&(n=this._newmax);var d=t.isScrolling()||i.isScrolling()||this._keydown,h=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(n=0),!this.pageable){var c=this._findvisiblerow(n,this._pageviews);-1==c&&(this._clearvisualrows(),this._renderemptyrow(),this._updaterowdetailsvisibility()),c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,m=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum],g=m;g<0&&(g=0);var v=0,x=0,w=0,y=0,b=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(b=this.dataview.pagesize),h&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var q=this.rowsheight,T=this._rendercell,C=this._getvisualcolumnsindexes(o,l,u,p,h,!0),S=C.start,k=C.end,I=this._getvirtualcolumnsindexes(o,l,u,p,h),D=I.start,P=I.end;e.jqx.browser.msie&&e.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=f?f[g].bounddata.boundindex:0,this._startvisibleindex=null!=f?f[g].bounddata.visibleindex:0;var A=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var M=function(e){return!(!e||!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},H=0;H<A.length;H++){for(var B=A[H],z=0;z<D;z++){var E=z;if(!this.columns.records[E].pinned&&null!=this.columns.records[E].datafield){M(N=B.cells[E])&&N.parentNode.removeChild(N);var L=this.columns.records[E].element;this.columns.records[E]._rendered=!1,M(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&M(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E])}}for(z=P;z<this.columns.records.length;z++){E=z;if(!this.columns.records[E].pinned&&null!=this.columns.records[E].datafield){M(N=B.cells[E])&&N.parentNode.removeChild(N);L=this.columns.records[E].element;this.columns.records[E]._rendered=!1,M(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&M(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E])}}for(z=D;z<P;z++){var N;E=z;M(N=B.cells[E])||B.appendChild(N);L=this.columns.records[E].element;this.columns.records[E]._rendered=!0,L.selectable&&(N.removeAttribute("selected"),L.selected&&N.setAttribute("selected","")),M(L)||this.columnsrow[0].appendChild(L),this.filterrow&&this.showfilterrow&&!M(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[E])}}for(var O=0;O<b&&x<b;O++){var R=null!=f?f[g+O]:null;if(this.virtualmode&&O>=this.source.totalrecords&&(R=null),null==R){if(g=-O,this._pagescache[this.dataview.pagenum+1])f=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var F=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){f=void 0;break}this.dataview.pagenum++,f=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),f=this._pagescache[this.dataview.pagenum])}while(null==f&&this.dataview.pagenum<F)}null!=f&&(R=f[g+O])}if(null!=R){if(R.hidden)continue;if(this._endboundindex=this._startboundindex+O,this._endvisibleindex=this._startvisibleindex+O,0==O){var W=Math.abs(n-R.top);this.table[0].style.top=-W+"px";var V=this.table;e.jqx.browser.chrome&&setTimeout(function(){V[0].style.top=.01-W+"px"},50),y=-W}if(!(B=this.table[0].rows[x]))continue;parseInt(B.style.height)!=R.height&&(B.style.height=parseInt(R.height)+"px"),w+=R.height;var G=this.rowdetails&&R.rowdetails,U=!R.rowdetailshidden;G&&U&&(B.style.height=parseInt(R.height-R.rowdetailsheight)+"px",b++);var Y=this._isrowselected(!0,R);for(z=S;z<k;z++){E=z;this._rendervisualcell(T,j,Y,G,U,h,_,B,R,E,x,d)}if(null!=R.group&&this._rendergroup&&this._rendergroup(_,B,R,u,p,x,l),this.autorowheight&&(this.autoheight||this.pageable)){for(q=this.rowsheight,z=S;z<k;z++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[z].datafield&&this.editcell.row==this.getboundindex(R)&&this.editcell.editor?q=Math.max(q,this.editcell.editor.height()):B.cells[z].firstChild&&(q=Math.max(q,8+parseInt(B.cells[z].firstChild.offsetHeight)));B.style.height=parseInt(q)+"px",this.heights[this._startboundindex+O]=q,G&&U&&(q+=R.rowdetailsheight),R.height=q}if(this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:B,details:!1},G&&U){x++;B=this.table[0].rows[x];this._renderrowdetails(j,B,R,u,p,x),this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:B,details:!0}}if(!this.autorowheight&&w+y>=a)break}else{this._clearvisualrow(o,h,x,u,p),w+v+y<=a&&(v+=q)}x++}if(this._horizontalvalue=o,v>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var K=this._pageviews[this._pageviews.length-1],X=t.max,Z=K.top+K.height-a;"visible"==this.hScrollBar.css("visibility")&&(Z+=this.scrollbarsize+22),X==Z||this.autorowheight||Z>=0&&("deferred"!=this.scrollmode?(t.max=Z,t.setPosition(t.max)):this._newmax!=Z&&(this._newmax=Z,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var $=0,J=0;for(H=0;H<this.visiblerows.length;H++){var Q=this.visiblerows[H];Q.top=$,$+=Q.height,J+=Q.height;G=this.rowdetails&&Q.rowdetails,U=!Q.rowdetailshidden,B=this.table[0].rows[H];G&&U&&H++;for(z=S;z<k;z++){var ee=this.columns.records[z];if(!ee.hidden&&!ee.adaptivehidden&&!ee.cellsrenderer){var te=B.cells[z],ie=0;if(te.firstChild){ie=(Q.height-parseInt(te.firstChild.offsetHeight)-8)/2;if(G&&U)ie=(Q.height-Q.rowdetailsheight-e(te.firstChild).height()-8)/2}else ie=(Q.height-parseInt(e(te).height())-8)/2;if(ie>=0&&(ie=parseInt(ie)+4,te.firstChild&&-1==te.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=ee.columntype&&"button"!=ee.columntype)){if(this.editable&&this.editcell&&this.editcell.column==ee.datafield&&this.editcell.row==this.getboundindex(Q))continue;te.firstChild.style.marginTop=ie+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=J),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){e.each(this.toCompile,function(t,i){if(this.compiled)return!0;var s=this.cell;if(!s)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(s,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,s=0;s<t.cells.length;s++){var r=e(t.cells[s]);"none"==r.css("display")||i||r.width()!=this.host.width()&&r.text()!=this.gridlocalization.emptydatastring||(r[0].checkbox=null,r[0].button=null,i=!0,r[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var s=this.table[0].rows[0];this.table[0].style.top="0px";for(var r=0;r<s.cells.length;r++){var n=e(s.cells[r]);if("none"!=n.css("display")&&!t){n[0].checkbox=null,n[0].button=null,n[0].className=i,t=!0,n[0].innerHTML="";var o=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");o.text(this.gridlocalization.emptydatastring),n.append(o);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(n.css("z-index",999),n.css("overflow","visible"))),o.css("left",-a-o.width()/2),o.css("top",this._gettableheight()/2-o.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("margin-left","0px"),o.css("left",this.host.width()/2-o.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(s).height(this._gettableheight()+l),n.css("margin-left","0px"),n.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}n.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),s=this.groupable&&this.groups.length>0;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,s,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=n){for(var o in this.selectedcells)o==n+"_"+i&&(s=!0);return s}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||null==t.bounddata.dataindex)for(var o in this.selectedcells)o==r+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)o==r+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||null==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}return s},_isrowselected:function(e,t){var i=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid);return null!=r&&-1!=r&&(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):s+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,s,r,n,o,a,l,d,h,c,u){var p=this.columns.records[h];if(p.hidden||p.adaptivehidden){(f=l.cells[h]).innerHTML=""}else{var m=this._getcellvalue(p,d),f=l.cells[h],g=i;if(-1!=this.selectionmode.indexOf("cell")&&(s=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(s=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(s=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)g+=" "+p.cellclassname;else{this._columnClassNameCache||(this._columnClassNameCache=[]);var v,x=this.getboundindex(d);if(void 0!==this._columnClassNameCache[x+"_"+p.datafield+"_"+m]&&this.enableoptimization)(v=this._columnClassNameCache[x+"_"+p.datafield+"_"+m])&&(g+=" "+v);else(v=p.cellclassname(x,p.datafield,m,d.bounddata))&&(g+=" "+v),this._columnClassNameCache[x+"_"+p.datafield+"_"+m]=v}var w=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if("many"===this.sortmode&&this.showsortcolumnbackground)for(var y=this.getsortcolumns(),b=0;b<y.length;b++)p.displayfield===y[b].dataField&&(w=!0);if(w&&(g+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(g+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(o&&d.bounddata.totalsrow||(g+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==d.group){var _=d.visibleindex;_>=this.altstart&&(this.altstart+_)%(1+this.altstep)==0&&(g+=w?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h<=a){if(o||this.rowdetails||this.pageable&&this.virtualmode){var j=e(f),q=this.columns.records[h].width;f.style.width!=parseInt(q)+"px"&&j.width(q)}}else if((o||this.rowdetails)&&this._hiddencolumns){j=e(f),q=this.columns.records[h].width;parseInt(f.style.width)!=q&&j.width(q)}var T=!0;if(this.rowdetails&&r&&(n&&!o?g+=" "+this.toTP("jqx-grid-details-cell"):o&&(g+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==d.group&&h==l.cells.length-a-1){C=this.toThemeProperty("jqx-icon-arrow-down");if(n)g+=" "+this.toTP("jqx-grid-group-expand-rtl"),g+=" "+C;else g+=" "+this.toTP("jqx-grid-group-collapse-rtl"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-left"));return T=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}}else if(null==d.group&&h==a&&!d.bounddata.totalsrow){var C=this.toThemeProperty("jqx-icon-arrow-down");if(n)g+=" "+this.toTP("jqx-grid-group-expand"),g+=" "+C;else g+=" "+this.toTP("jqx-grid-group-collapse"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-right"));return T=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}if(s&&T&&h>=a&&(g+=" "+this.toTP("jqx-grid-cell-selected"),g+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=g&&(f.className=g),p._applyCellStyle(f),null!=d.group)return m="",f.title="",void(f.innerHTML="");t(this,p,d,m,f,u)}},_rendercell:function(t,i,s,r,n,o){var a=r+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)a=s.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(r=s.visibleindex),"adaptive"===i.columntype&&(r="..."),i._applyCellStyle(n),t.showrowlines?n.style.borderBottomColor="":n.style.borderBottomColor="transparent",t.showcolumnheaderlines?(i.element.style.borderRightColor="",i.element.style.boxShadow=""):(i.element.style.borderRightColor="transparent",i.element.style.boxShadow="none"),t.showcolumnlines?n.style.borderRightColor="":n.style.borderRightColor="transparent",t.editcell&&null==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(s)&&t._showcelleditor)return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,n,!1,!1):t._showcelleditor(t.editcell.row,i,n,t.editcell.init),void(n.className+=" "+t.toTP("jqx-grid-cell-edit"))}else if(t.editcell.row==t.getboundindex(s)&&t.editcell.column==i.datafield&&(t.editcell.element=n,t.editcell.editing&&t._showcelleditor))return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init),void(n.className+=" "+t.toTP("jqx-grid-cell-edit"));var l=t._defaultcellsrenderer(r,i),d=t._cellscache[a];if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=""+r));if("button"==i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderbuttoncell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=""+r));if("progressbar"==i.columntype||"rating"===i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderprogresscell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=""+r));if("number"==i.columntype&&(r=s.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderwidgetcell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=r));f=null;if(null!=i.cellsrenderer){t._columnCellsRenderCache||(t._columnCellsRenderCache=[]);var h=t.getboundindex(s);if(void 0!==t._columnCellsRenderCache[h+"_"+i.datafield+"_"+r]&&t.enableoptimization?f=t._columnCellsRenderCache[h+"_"+i.datafield+"_"+r]:(f=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata),t._columnCellsRenderCache[h+"_"+i.datafield+"_"+r]=f),f&&(f.indexOf("<jqx-")>=0||f.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:n,value:f,row:t.getboundindex(s)}))}else f=l;null==f&&(f=l);var c=r;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?c=e.jqx.dataFormat.formatdate(c,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(c=e.jqx.dataFormat.formatnumber(c,i.cellsformat,t.gridlocalization))),n.title=c),t.WinJS)e(n).html(f);else{var u=n.innerHTML;if(u.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)n.innerHTML=f;else if(u.length>0){g=f.indexOf(">"),v=f.indexOf("</"),x=f.substring(g+1,v),w=n.childNodes[0];if(x.indexOf(">")>=0)n.innerHTML=f;else if(w.childNodes[0])x!=w.childNodes[0].nodeValue&&(x.indexOf("&")>=0||u.indexOf("span")>=0?n.innerHTML=f:w.childNodes[0].nodeValue=x);else{y=document.createTextNode(x);w.appendChild(y)}}else u!=f&&(n.innerHTML=f)}return t._cellscache[a]={element:n.innerHTML,title:c},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===r&&(r=null);var p=0==n.innerHTML.toString().length;if(!n.checkbox||t.groupable||p?t._rendercheckboxcell(t,n,i,s,r):(n.checkboxrow=t.getboundindex(s),""==r&&(r=!1),"1"==r&&(r=!0),"0"==r&&(r=!1),1==r&&(r=!0),0==r&&(r=!1),"true"==r&&(r=!0),"false"==r&&(r=!1),null!=r||i.threestatecheckbox||(r=!1),i.checkboxcolumn&&(r=!1,t.dataview.filters.length>0&&!t.virtualmode&&null!=s.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(s.bounddata.dataindex)&&(r=!0):-1!=t.selectedrowindexes.indexOf(s.bounddata.boundindex)&&(r=!0)),t.disabled||(n.checkboxinstance?n.checkboxinstance._setState(r):n.checkbox.jqxCheckBox("_setState",r))),null!=i.cellsrenderer){var m=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata);null!=m&&(n.innerHTML=m)}return}}else if("button"==i.columntype){if(t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),""==n.innerHTML&&(n.buttonrow=t.getboundindex(s),n.button=null,t._renderbuttoncell(t,n,i,s,r)),void(n.button&&!t.groupable?(n.buttonrow=t.getboundindex(s),n.button.val(r)):t._renderbuttoncell(t,n,i,s,r))}else if(("progressbar"==i.columntype||"rating"===i.columntype)&&t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),""==n.innerHTML&&(n.progressrow=t.getboundindex(s),n.progress=null,t._renderprogresscell(t,n,i,s,r)),void(n.progress&&!t.groupable?(n.progressrow=t.getboundindex(s),n.progress.val(r)):t._renderprogresscell(t,n,i,s,r));if(i.createwidget)if(""==n.innerHTML&&(n.widgetrow=t.getboundindex(s),n.widget=null,i.widget=null,t._renderwidgetcell(t,n,i,s,r)),n.widget&&!t.groupable){if(n.widgetrow=t.getboundindex(s),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(s),i.datafield,r,n.firstChild)}else t._renderwidgetcell(t,n,i,s,r);else{var f=d.element;if(null!=i.cellsrenderer||n.childNodes&&0==n.childNodes.length||t.groupable||t.rowdetails)n.innerHTML!=f&&(n.innerHTML=f);else if(n.innerHTML.indexOf("editor")>=0)n.innerHTML=f;else if(o){var g=f.indexOf(">"),v=f.indexOf("</"),x=f.substring(g+1,v),w=n.childNodes[0];if(x.indexOf(">")>=0)n.innerHTML=f;else if(w.childNodes[0])x!=w.childNodes[0].nodeValue&&(x.indexOf("&")>=0?n.innerHTML=f:w.childNodes[0].nodeValue=x);else{var y=document.createTextNode(x);w.appendChild(y)}}else n.innerHTML!=f&&(n.innerHTML=f);t.enabletooltips&&i.enabletooltips&&(n.title=d.title)}},_isIE10:function(){if(null==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,s,r,n){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,s,r,n){if(t.host.jqxCheckBox){var o=e(i);if(""===n&&(n=!!s.threestatecheckbox&&null),null!==n||s.threestatecheckbox||(n=!1),"1"==n&&(n=!0),"0"==n&&(n=!1),1==n&&(n=!0),0==n&&(n=!1),"true"==n&&(n=!0),"false"==n&&(n=!1),s.checkboxcolumn){n=!1;var a=this.getboundindex(r);-1!=this.selectedrowindexes.indexOf(a)&&(n=!0)}if(0==o.find(".jqx-checkbox").length)i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:s.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:n}),this.enabletooltips&&s.enabletooltips&&(i.title=""+n),this.editable&&s.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),s.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(r),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(r,n,o){if(t.disabled){n=o;for(var a=t.table[0].rows.length,l=t._getcolumnindex(s.datafield),d=0;d<a;d++){(c=t.table[0].rows[d].cells[l].firstChild)&&e(c).jqxCheckBox({disabled:t.disabled})}}if(s.editable&&!t.disabled){a=t.table[0].rows.length,l=t._getcolumnindex(s.datafield);if(null==t.editrow){if(s.cellbeginedit)if(0==s.cellbeginedit(i.checkboxrow,s.datafield,s.columntype,!n))return void t.setcellvalue(i.checkboxrow,s.datafield,!n,!0);if(s.cellvaluechanging){var h=s.cellvaluechanging(i.checkboxrow,s.datafield,s.columntype,o,n);null!=h&&(n=h)}if("selectedrow"!==t.editmode)for(d=0;d<a;d++){var c;(c=t.table[0].rows[d].cells[l].firstChild)&&e(c).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,s.datafield,!n,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:s.datafield,value:o,columntype:s.columntype}),t.pushToHistory=!0,t.setcellvalue(i.checkboxrow,s.datafield,n,!0),t.pushToHistory=!1,t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:s.datafield,oldvalue:o,value:n,columntype:s.columntype})}else t.pushToHistory=!0,t.setcellvalue(i.checkboxrow,s.datafield,n,!1,!1),t.pushToHistory=!1;s.cellendedit&&s.cellendedit(i.checkboxrow,s.datafield,s.columntype,n)}}else s.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(n?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))};else i.checkboxrow=this.getboundindex(r),e(i.firstChild).jqxCheckBox("_setState",n,!(this.editable&&s.editable||s.checkboxcolumn))}},_renderwidgetcell:function(t,i,s,r,n){if(0==e(i).find(".jqx-grid-widget").length){i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',s.createwidget(r,s.datafield,n,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(r),s.widget=e(i.firstChild)}else s.initwidget(t.getboundindex(r),s.datafield,n,i.firstChild),i.widgetrow=t.getboundindex(r),e(i.firstChild).val(n)},_renderprogresscell:function(t,i,s,r,n){var o=e(i);if("rating"===s.columntype){if(!t._linkadded){var a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(a),t._linkadded=!0}s.ratingmax||(s.ratingmax=5);for(var l="",d=0;d<s.ratingmax;d++)l+=n>=d+1?'<span style="color: rgba(255, 165, 0, 1);" class="fa fa-star checked"></span>':'<span style="color: rgba(255, 165, 0, .3);" class="fa fa-star"></span>';var h=s.cellsalign;return"right"===h&&(h="flex-end"),void(i.innerHTML='<div style="display: flex; width: 100%; height: 100%; justify-content: '+h+'; padding: 5px; box-sizing: border-box; font-size: 16px; align-items: center;">'+l+"</div>")}""==n&&(n=!1),0==o.find(".jqx-progress").length?(i.innerHTML='<progress class="jqx-progress" max="100" style="opacity: 0.99; position: absolute; top: 10%; left: 10%; width:80%; height:80%; padding: 0px;"/>',e(i.firstChild).val(n),i.progress=e(i.firstChild),i.progressrow=t.getboundindex(r)):(i.progressrow=t.getboundindex(r),e(i.firstChild).val(n))},_renderbuttoncell:function(t,i,s,r,n){if(t.host.jqxButton)if(""==n&&(n=!1),0==e(i).find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(n),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:s.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(r),this.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),o,function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)});else i.buttonrow=t.getboundindex(r),e(i.firstChild).val(n)},_clearvisualrow:function(t,i,s,r,n){var o=this.toTP("jqx-grid-cell");i&&(o=" "+this.toTP("jqx-grid-group-cell")),o+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,l=0;l<r+n;l++)if(a[s]){var d=a[s].cells[l];d.className!=o&&(d.className=o);var h=this.columns.records[l];if(this._horizontalvalue!=t&&!h.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var c=h.width;h.adaptivewidth&&(c=h.adaptivewidth),c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&(e(d)[0].style.width="auto"!=c?c+"px":c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}a[s]&&parseInt(a[s].style.height)!=this.rowsheight&&(a[s].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this._columnClassNameCache=new Array,this._columnCellsRenderCache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,s=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,s=this,!1}),this._columnsbydatafield[t]={label:i,column:s},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return this.text,i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,s,r,n,o){if(null!=i){var a=e(i),l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;d<=n;d++){var h;(h=e(i.cells[d]))[0].innerHTML="",h[0].className="jqx-grid-details-cell"}if("none"==(h=e(i.cells[0]))[0].style.display){for(var c=i.cells[0],u=2;null!=c&&"none"==c.style.display&&u<10;)c=i.cells[0+u-1],u++;h=e(c)}if(this.rtl)for(var p=r;p<n;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell";h.css("width","100%"),a.height(s.rowdetailsheight),h[0].className=t;var m=this.getboundindex(s),f=m+"_";if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].html;if(this.initrowdetails){if(this._rowdetailscache[f].element){var v=this._rowdetailscache[f].element,x=h.coord(),w=this.gridcontent.coord(),y=parseInt(x.top)-parseInt(w.top),b=parseInt(x.left)-parseInt(w.left);this.rtl&&(b=0),e(v).css("top",y),e(v).css("left",b),e(v).css("display","block"),e(v).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(m,v,this.element,this.getrowdata(m))}}else h[0].innerHTML=g}else{h[0].innerHTML="",this.enablerowdetailsindent||(l=0);var _='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+s.rowdetails+"</div>";if(this.rtl)_='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+s.rowdetails+"</div>";if(this._rowdetailscache[f]={id:i.id,html:_},this.initrowdetails){v=e(_)[0];e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-l),e(v).height(h.height());x=h.coord();e(v).css("z-index",1799),this.isTouchDevice()&&e(v).css("z-index",1999),e(v).addClass(this.toThemeProperty("jqx-widget-content"));x=h.coord(),w=this.gridcontent.coord(),y=parseInt(x.top)-parseInt(w.top),b=parseInt(x.left)-parseInt(w.left);e(v).css("top",y),e(v).css("left",b),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var j=e(e(v).children()[0]);""!=j[0].id&&(j[0].id=j[0].id+m),this.initrowdetails(m,v,this.element,this.getrowdata(m)),this._rowdetailscache[f].element=v,this._rowdetailselementscache[m]=v}else h[0].innerHTML=_}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var s="8px";if(31!=this.rowsheight&&((s=this.rowsheight/2-this._cellheight/2)<0&&(s=4),s+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+s+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+s+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+s+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+s+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+s+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var s=this.getcellvalue(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var s=this.getcellvaluebyid(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrenderedrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(null==s||null==s)return null;var r=s.getcolumnproperties(),n=r.hidden,o=r.width,a=r.pinned,l=r.cellsalign,d=r.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:o,height:h,hidden:n,pinned:a,align:l,format:d}},setcellvaluebyid:function(e,t,i,s,r){var n=this.getrowboundindexbyid(e);return this.setcellvalue(n,t,i,s,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,s,r,n){if(null==t||null==i)return!1;var o=parseInt(t),a=t;isNaN(o)||(a=this.getrowdata(o));var l=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",h="";if(null==a||a[i]===s)return this._updating||0==r||this._renderrows(this.virtualsizeinfo),!1;if(null!==a[i]||""!==s){var c=this._getcolumnbydatafield(i),u="string";if(this.source||(this.source=new e.jqx.dataAdapter({})),b=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p="";e.each(b,function(){if(this.name==c.displayfield)return this.type&&(p=this.type),!1}),p&&(u=p),h=a[c.displayfield]}if(d=a[i],this.pushToHistory&&(this._undoRedoIndex=-1,this._undoRedo.push({action:"setcellvalue",data:{oldvalue:d,value:s,datafield:i,row:t}})),!c.nullable||null!=s&&""!==s&&c.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(d)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&s&&s.indexOf&&s.indexOf(",")>=0&&(s=s.replace(",",".")),s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(d)||"date"==u)&&""!=s){var m=s;"Invalid Date"!=(m=new Date(m))&&null!=m?s=m:"Invalid Date"==m&&(s=m=e.jqx.dataFormat.parsedate(s,c.cellsformat))}if(a[i]===s)return void(this._updating||0==r||this._renderrows(this.virtualsizeinfo))}var f=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(a[i]=s,f){var g=this.source._source.localdata;g._updating||(g._updating=!0,g[t][i]=s,g._updating=!1)}var v=this.getrenderedrowdata(o,!0);if(v){if(v[i]=s,null!=s&&null!=s.label&&(a[(c=this._getcolumnbydatafield(i)).displayfield]=s.label,v[c.displayfield]=s.label,a[i]=s.value,v[i]=s.value,f&&!g._updating&&(g._updating=!0,g[t][i]=s.value,g[t][c.displayfield]=s.label,g._updating=!1)),l&&null!=a.dataindex&&(a.dataindex,this.dataview.cachedrecords[a.dataindex][i]=s,null!=s&&null!=s.label&&(this.dataview.cachedrecords[a.dataindex][i]=s.value,this.dataview.cachedrecords[a.dataindex][c.displayfield]=s.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var x=o;l&&null!=a.dataindex&&(x=a.dataindex);var w=this.source._source._localdata()[x];this.source.suspendKO=!0;var y=w;if(y[i]&&y[i].subscribe)null!=s&&null!=s.label?(y[c.displayfield](s.label),y[i](s.value)):y[i](s);else{var b=this.source._source.datafields,_=null;if(b&&e.each(b,function(){if(this.name==i)return _=this.map,!1}),null==_)null!=s&&null!=s.label?(y[i]=s.value,y[c.displayfield]=s.label):y[i]=s;else{var j=_.split(this.source.mapChar);if(j.length>0){for(var q=y,T=0;T<j.length-1;T++)q=q[j[T]];q[j[j.length-1]]=s}}this.source._source._localdata.replace(w,e.extend({},y))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var C=this.getsortinformation();if(this.sortcolumn==i&&"many"!==this.sortmode)this.dataview.clearsortdata(),this.dataview.sortby(C.sortcolumn,C.sortdirection.ascending);else if("many"===this.sortmode){var S=this.getsortcolumns();this.dataview.clearsortdata(),this.sortby(null);for(var k=0;k<S.length;k++)this.sortby(S[k].dataField,S[k].ascending)}}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==n||1==n)){var I=this.that;try{var D=this.getrowid(o);null==this.source.updaterow(D,a,function(e){0==e&&(I.setcellvalue(t,i,d,!0,!1),d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))})&&!0}catch(e){return!1,I.setcellvalue(t,i,d,!0,!1),void(d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))}}var P=this.vScrollInstance.value;if(this._updating&&1!=r&&(r=!1),1==r||null==r){I=this.that;var A=function(){I.pageable&&I.updatepagerdetails&&(I.updatepagerdetails(),(I.autoheight||I.autorowheight)&&I._updatepageviews())},M=this.groupable&&this.groups.length>0;l&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),A(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),A(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(P),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var H=this.getcolumn(i).filtertype;"list"!=H&&"checkedlist"!=H||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:s,value:s,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e;return isNaN(i)||(s=this.getrowdata(i)),null!=s?s[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,s=0;s<this.dataview.records.length;s++){var r=this.dataview.records[s];r&&i.push(r)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&i.push(this)});var n=0;return this.pageable&&(n=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-n?i.slice(0,this.source._source.totalrecords-n):i}if(this.dataview.sortdata){for(i=new Array,s=0;s<t;s++){var o;o=e.extend({},this.dataview.sortdata[s].value),i[s]=o}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return s=this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var s=this.dataview.loadedrecords[i];else{s=this.dataview.loadedrecords[i];if(this.pageable&&(null==t||0==t))s=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return s}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break;e.push(i)}return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(null==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,s=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!s){if(this.groupable&&this.groups.length>0){t=this.getrowvisibleindex(e);var i=this.dataview.loadedrecords[t]}else t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):("updaterow"===e&&(this.dataview.refresh(),this.virtualmode||this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,s){if(null!=t&&null!=i){var r=this.that,n=!1;if(r._datachanged=!0,this.pushToHistory){var o=this.getrowdatabyid(t);this._undoRedoIndex=-1,this._undoRedo.push({action:"updaterow",data:{id:t,rowdata:i,oldrowdata:o}})}var a=function(t,i,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=!1;e.isArray(i)?(e.each(i,function(e,i){n=t.dataview.updaterow(this,r[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):n=t.dataview.updaterow(i,r);var o=t.vScrollInstance.value;if(null!=s&&1!=s||null!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(a),d=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},a)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var h=t.getrowboundindexbyid(i);t.source._source.localdata.set(h,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(o),n};if(this.source.updaterow){try{null==(n=this.source.updaterow(t,i,function(e){1==e||null==e?a(r,t,i):n=!1}))&&(n=!0)}catch(e){n=!1}}else n=a(r,t,i);return n}return!1},deleterow:function(t,i){if(null!=t){this._datachanged=!0;var s=!1,r=this.that,n=this.getrowboundindexbyid(t),o=new Array;new Array;if(null!=n&&(this.selectedrowindexes.indexOf(n)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(n),1),this.selectedrowindex==n&&(this.selectedrowindex=-1),!this.virtualmode)){if(r.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=r.getrowid(this);o.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(r.selectionmode.indexOf("cell")>=0)for(var a in r.selectedcells){var l=r.selectedcells[a],d=r.getrowid(l.rowindex);l.rowid=d}this._rendervisualrows()}var h=function(t,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var r=!1,a=t.vScrollInstance.value;if(e.isArray(s))e.each(s,function(){r=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else r=t.dataview.deleterow(s);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(o,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var l=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],c=h.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(h.rowindex=u,l[u+"_"+h.datafield]=h)}t.selectedcells=l}if(null!=t._updating&&0!=t._updating||null!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(n,1),t.source._source.localdata._updating=!1)),t.dataview.sortby&&"many"!==t.sortmode){var p=t.getsortinformation();p.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(p.sortcolumn,p.sortdirection?p.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(a),r};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||h(r,t)}),null==s&&(s=!0)}catch(e){s=!1}}else s=h(r,t);return s}return!1},addrow:function(t,i,s){if(null!=i){this._datachanged=!0,null==s&&(s="last");var r=!1,n=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var a=new Array;e.each(i,function(e,t){var s=n.dataview.getid(n.dataview.source.id,i[e],o+e);a.push(s)}),t=a}else for(t=this.dataview.getid(this.dataview.source.id,i,o);null!=this.dataview.recordsbyid["id"+t];)t++}var l=function(t,i,s,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=t.vScrollInstance.value,o=!1;if(e.isArray(s)?(e.each(s,function(e,s){null!=this.dataindex&&delete this.dataindex;var n=null;null!=i&&null!=i[e]&&(n=i[e]),o=t.dataview.addrow(n,this,r,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(null!=s&&null!=s.dataindex&&delete s.dataindex,o=t.dataview.addrow(i,s,r)),null!=t._updating&&0!=t._updating||(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var a=t.getrowboundindexbyid(i);t.source._source.localdata.set(a,s),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(n):t.vScrollInstance.setPosition(0),o};if(this.source&&this.source.addrow){try{null==(r=this.source.addrow(t,i,s,function(e,r){1!=e&&null!=e||(null!=r&&(t=r),l(n,t,i,s))}))&&(r=!0)}catch(e){r=!1}if(0==r)return!1}else l(this,t,i,s);return r}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.rows.records);for(var s=t.length;i<=s;){var r=parseInt((i+s)/2),n=t[r];if(null==n)break;if(n.top>e&&n.top+n.height>e)s=r-1;else{if(!(n.top<e&&n.top+n.height<e))return r;i=r+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,s=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,o=t.table[0].rows,a=0;a<r;a++){var l=o[a];if(!l)break;for(var d=l.cells,h=0,c=0;c<n;c++){var u=t.columns.records[c],p=u.width;u.adaptivewidth&&(p=u.adaptivewidth);var m=d[c];parseInt(m.style.left)!=h&&(m.style.left=h+"px"),parseInt(m.style.width)!=p&&(m.style.width=p+"px"),u.hidden&&u.hideable||u.adaptivehidden?m.style.display="none":h+=parseFloat(p)}0==s&&(t.table.width(parseFloat(h)+2),s=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;"visible"==s&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var r=e.element.style.width;if(r=r.toString().indexOf("%")>=0?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==s){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var n=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(n)&&n>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",n+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",n))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_hascolumnstyle:function(){if(void 0!==this._hascolumnstyles)return this._hascolumnstyles;this._hascolumnstyles=!1;for(var e=0;e<this.columns.records.length;e++){var t=this.columns.records[e];if(t.style.headerBackgroundColor||t.style.headerColor||t.style.headerBackgroundHoveredColor||t.style.headerHoveredColor||t.style.headerBackgroundSelectedColor||t.style.headerSelectedColor||t.style.backgroundColor||t.style.color||t.style.backgroundHoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)return this._hascolumnstyles=!0,!0}return!1},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),null==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var s=i.groupable&&i.groups.length>0,r=0;i.table[0].rows=new Array;var n=i.toTP("jqx-grid-cell");s&&(n=" "+i.toTP("jqx-grid-group-cell"));var o=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(o=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(o=i.dataview.rows.length)<i.dataview.pagesize&&(o=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(o=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(o=i.dataview.rows.length),i.rowdetails&&(i.autoheight||i.autorowheight?o+=i.dataview.pagesize:o+=o),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var d=i.tableZIndex;o*a>d&&(d=o*a);i.dataview.records.length,i.isTouchDevice();var h="";i._hiddencolumns=!1;for(var c=5+i.columns.records.length,u=0;u<o;u++){var p='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+u+i.element.id+'">';if(l){p='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+u+i.element.id+'">';d--}for(var m=0,f=0;f<a;f++){if((b=(y=i.columns.records[f]).width)<y.minwidth&&(b=y.minwidth),b>y.maxwidth&&(b=y.maxwidth),i.rtl){var g='<div columnindex="'+f+'" role="gridcell" style="left: '+m+"px; z-index: "+(d-a+2*f)+"; width:"+b+"px;";d--}else g='<div columnindex="'+f+'" role="gridcell" style="left: '+m+"px; z-index: "+d--+"; width:"+b+"px;";y.hidden&&y.hideable||y.adaptivehidden?(g+="display: none;",i._hiddencolumns=!0,d++):m+=b,0===u&&0===f&&(g+='" tabindex="'+c+'"'),g+='" class="'+n+'">',g+=this._defaultcellsrenderer("",y),p+=g+="</div>"}0==r&&(i.table.width(parseInt(m)+2),r=m),h+=p+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;var v=i.table.children();for(u=0;u<o;u++){var x=v[u];i.table[0].rows.push(x),x.cells=new Array;var w=e(x).children();for(f=0;f<a;f++)x.cells.push(w[f])}if(0==o){m=0;if(i.showemptyrow){p=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(p),p.height(i.rowsheight),i.table[0].rows[0]=p[0],i.table[0].rows[0].cells=new Array}for(f=0;f<a;f++){var y,b=(y=i.columns.records[f]).width;if(i.showemptyrow)(g=e('<div style="position: absolute; height: 100%; left: '+m+"px; z-index: "+d--+"; width:"+b+'px;" class="'+n+'"></div>')).height(i.rowsheight),p.append(g),i.table[0].rows[0].cells[f]=g[0];b<y.minwidth&&(b=y.minwidth),b>y.maxwidth&&(b=y.maxwidth),y.hidden&&y.hideable||y.adaptivehidden||(m+=b)}i.table.width(parseInt(m)+2),r=m}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,s=!1,r=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;n+="auto"==a?a=i._measureElementWidth(i.columns.records[o].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);var l=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showfilterbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=15),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),(t+=l())>1e4&&(t=1e4));null!=e?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(this.autoheight&&(t+=2),r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showfilterbar?(i.filterbar.width(e),i.filterbar.height(i.toolbarheight-1),i.filterbar.css("top",h),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.filterbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h),h+=c=i.groupsheader.height()+1,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c,u=h+(c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var m=2,f=0;"visible"==i.vScrollBar[0].style.visibility&&(f=p+4),"visible"==i.hScrollBar[0].style.visibility&&(m=p+4+2),0==p&&(f=0,m=0);var g=0;i.pageable&&(g=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,g+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,g+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==h+t-4-p-g+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-4-p-g+"px",left:"0px"});var v=i.hScrollBar[0].style.width,x=!1,w=!1;0==f?v!=e-2+"px"&&(i.hScrollBar.width(e-2),x=!0):v!=e-p-4+"px"&&(i.hScrollBar.width(e-p-4+"px"),x=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),w=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-4+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-4+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||w&&y.refresh();var b=i.hScrollInstance;b.disabled=i.disabled,x&&b.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var _=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(_(this),i.content[0].style.width!=e-f+"px"&&i.content.width(e-f),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",f),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var j=i.table.width();j<e-f&&i.content.css("left",e-j)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-4-p-g+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),_(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var q=-2;if("visible"==i.vScrollBar[0].style.visibility&&(q=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var T=q+i.table.width()-i.host.width();T>=0&&i.hScrollBar.jqxScrollBar("max",T),"visible"==i.hScrollBar[0].style.visibility&&0==T&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,delete this._undoRedo,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var s=this.table[0].rows[i],r=s.cells.length,n=0;n<r;n++)e(s.cells[n]).remove(),s.cells[n]=null,delete s.cells[n];s.cells=null,s.cells&&delete s.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var o=this.columns.records[i];o.addnewrowwidget&&o.destroyeverpresentrowwidget&&o.destroyeverpresentrowwidget(o.addnewrowwidget),o.destroywidget&&o.destroywidget&&o.destroywidget(o.widget),this._removecolumnhandlers(this.columns.records[i]),o.element&&(e(o.element).remove(),e(o.sortasc).remove(),e(o.sortdesc).remove(),e(o.filtericon).remove(),e(o.menu).remove(),o.element=null,o.uielement=null,o.sortasc=null,o.sortdesc=null,o.filtericon=null,o.menu=null,delete o.element,delete o.uielement,delete o.sortasc,delete o.sortdesc,delete o.filtericon,delete o.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){a=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){a="mousemove.grouping"+this.element.id,l="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.columnsreorder){a="mousemove.reorder"+this.element.id,l="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var h=this.menuitemsarray.length;for(i=0;i<h;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.autogeneratecolumns){var r=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};r.push(e)});else if(this.source.records.length>0){var n=this.source.records[0];for(var o in n)if("uid"!=o){var a={width:100,datafield:o,text:o};r.push(a)}}this.columns=r}if(this.columns&&this.columns.records)for(var l=0;l<this.columns.records.length;l++)this._removecolumnhandlers(this.columns.records[l]);var d=this.that,h=new e.jqx.collection(this.element),c=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(d,this);i.visibleindex=c++,i.width=d.groupindentwidth,h.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn)&&((a=new t(d,this)).visibleindex=c++,a.width=d.groupindentwidth,a.pinned=!0,a.editable=!1,a.filterable=!1,a.draggable=!1,a.groupable=!1,a.resizable=!1,h.add(a),d._haspinned=!0);"checkbox"==this.selectionmode&&((a=new t(d,null)).visibleindex=c++,a.width=d.groupindentwidth,a.checkboxcolumn=!0,a.editable=!1,a.columntype="checkbox",a.groupable=!1,a.draggable=!1,a.filterable=!1,a.resizable=!1,a.datafield="_checkboxcolumn",h.add(a));var u=new Array;(e.each(this.columns,function(e){if(null!=d.columns[e]){var i=new t(d,this);if(i.visibleindex=c++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(d._haspinned=!0),d.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)d.source&&d.source._source&&"array"==d.source._source.datatype&&(s||(d.source._source.datafields?d.source._source.datafields.push({name:e.toString()}):(d.source._source.datafields=new Array,d.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(u[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");u[this.datafield]=!0}h.add(i)}}),this.adaptive)&&((a=new t(d,null)).visibleindex=c++,a.width=d.groupindentwidth,a.editable=!1,a.columntype="adaptive",a.cellsalign="center",a.groupable=!1,a.draggable=!1,a.menu=!1,a.sortable=!1,a.filterable=!1,a.resizable=!1,a.datafield="_adaptivecolumn",h.add(a));this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),!1!==this._trigger){var s=this.events[t];if(this._camelCase||(s=s.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var r=this;setTimeout(function(){r.updateeverpresentrow()},50)}var n=i;n.owner=this;var o=new e.Event(s);o.owner=this,o.args=n;var a=this.host.trigger(o);return i=o.args,a}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return this._activeFilterElement&&this._activeFilterElement.jqxDropDownList("close"),!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),s=t.host.width(),r=t.host.height(),n=!1,o=!1;if((e.pageY<i.top||e.pageY>i.top+r)&&(n=!0,o=!0),(e.pageX<i.left||e.pageX>i.left+s)&&(n=!0,!0),n){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var a=t.editcell.editor.jqxDateTimeInput("container").coord().top,l=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){a=t.editcell.editor.jqxComboBox("container").coord().top,l=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){a=t.editcell.editor.jqxDropDownList("container").coord().top,l=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=function(i){var s=t.editcell.editor.data();if(s[i]&&s[i].instance.container&&"block"==s[i].instance.container[0].style.display){var r=s[i].instance,a=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!o||!(e.pageY<a||e.pageY>l))&&(n=!0,r.close(),!0)}},c=0;c<d.length;c++){if(0==h(d[c]))return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(null!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(s){if(t.virtualsizeinfo){t._closemenu();var r=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)r();else{null==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var s="mousedown.jqxgrid";i&&(s=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,s,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var s=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,s}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9)t._handlemousedown(i,t);return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){if(t._handlemouseupselection){if(e.shiftKey){var i=t.editable;t.editable=!1,t._handlemousedown(e,t),t.mousecaptured=!0,t.editable=i}t._handlemouseupselection(e,t)}}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if(t.adaptiveview)return!0;if((t._keydown=!t.editcell,20===(r=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation)&&((t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i)))return!1;if(t.editable&&t.editcell&&(13!=r&&27!=r&&9!=r&&32!=r||t._handleeditkeydown&&(s=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==s)return s;var s=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(s=t._handleeditkeydown(i,t)),s&&t.keyboardnavigation&&t._handlekeydown)return(s=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),s}return!0}),t.addHandler(t.host,"keyup.edit"+t.element.id,function(i){if(t.adaptiveview)return!0;if(9===i.keyCode&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))switch(t.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":t.getselectedcell();break;default:t.getselectedrowindex()}}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var s=!0;if(t.adaptiveview)return!0;if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(s=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),!t.editcell&&i.altKey&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))if(40===i.keyCode){var r=t.getselectedcell();r&&t.openmenu(r.column)}else 38===i.keyCode&&t._closemenu();return e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),i.stopPropagation()):s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),s||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),s&&t.selectedcells&&t.selectedcells.length>0&&9===i.keyCode&&i.shiftKey&&t.table&&t.table[0].rows&&t.table[0].rows.length>0&&(e(document.activeElement).ischildof(t.filterrow)||e(document.activeElement).ischildof(t.pager)||t.table[0].rows[0].cells[0].focus()),s}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==t&&(t=0);var s=this.vScrollInstance,r=this.hScrollInstance,n=s.value;"visible"!=this.vScrollBar.css("visibility")&&(n=0);var o=r.value;"visible"!=this.hScrollBar.css("visibility")&&(o=0),"deferred"==this.scrollmode&&null!=this._newmax&&n>this._newmax&&(n=this._newmax);var a=parseInt(n)+i;parseInt(o);if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,d=this._findvisiblerow(a,this.visiblerows);if(d>=0){var h=this.visiblerows[d],c=this.rowdetails&&h.rowdetails,u=!h.rowdetailshidden;if(c){var p=this.visiblerows[d-1];if(p==h&&(h=p,d--),u){var m=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),f=e(this.hittestinfo[d].visualrow).height();i>=m&&i<=m+f||(d++,h=this.visiblerows[d],l=!0)}}}return{index:d,row:h,details:l}}}},getcellatposition:function(t,i){var s=this.that,r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbarheight:0,n+=this.showfilterbar?this.toolbarheight:0;var o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host));var a=t-o.left,l=i-r-o.top-n,d=this._hittestrow(a,l),h=d.row,c=d.index,u=this.table[0].rows[c];if(this.dataview&&0==this.dataview.records.length){for(var p=this.table[0].rows,m=0,f=0;f<p.length;f++){if(l>=m&&l<m+this.rowsheight){u=p[f];break}m+=this.rowsheight}h={boundindex:f}}if(null==u)return!0;var g=this.hScrollInstance.value,v=0;for(this.groupable&&this.groups.length,f=0;f<u.cells.length;f++){var x=parseInt(e(this.columnsrow[0].cells[f]).css("left"));t=x-g;if(s.columns.records[f].pinned&&(t=x),!s.columns.records[f].hidden&&!s.columns.records[f].adaptivehidden)if(t+e(this.columnsrow[0].cells[f]).width()>=a&&a>=t){v=f;break}}if(null!=h){var w=this._getcolumnat(v);return{row:this.getboundindex(h),column:w.datafield,value:this.getcellvalue(this.getboundindex(h),w.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;if(t.target===i.bottomRight[0])return!0;var s,r;if(t.which?s=3==t.which:t.button&&(s=2==t.button),t.which?r=2==t.which:t.button&&(r=1==t.button),r)return!0;if(this.adaptiveview){if(e(t.target).ischildof(e(this.adaptiveview)))return!0;if(t.target==this.adaptiveview)return!0}if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.showfilterbar){if(e(t.target).ischildof(this.filterbar))return!0;if(t.target==this.filterbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0,o+=this.showfilterbar?this.toolbarheight:0;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}var d=parseInt(t.pageX),h=parseInt(t.pageY);if(this.isTouchDevice()){var c=i.getTouches(t)[0];d=parseInt(c.pageX),h=parseInt(c.pageY),1==i.touchmode&&null!=c._pageX&&(d=parseInt(c._pageX),h=parseInt(c._pageY))}var u=d-a.left,p=h-n-a.top-o;if(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-a.top-o-n)return;var m=this._hittestrow(u,p);if(m&&!m.details){var f=m.row,g=m.index,v=t.target.className,x=this.table[0].rows[g];if(null==x)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o,clickedrow:x};var w=this.hScrollInstance,y=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=w.max-w.value);var b=-1,_=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(y-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(y=-parseInt(this.content.css("left"))));for(var j=0;j<x.cells.length;j++){d=(q=parseInt(e(this.columnsrow[0].cells[j]).css("left")))-y;if(i.columns.records[j].pinned&&!i.rtl&&(d=q),null==(T=this._getcolumnat(j))||!T.hidden)if(null==T||!T.adaptivehidden)if(d+e(this.columnsrow[0].cells[j]).width()>=u&&u>=d){b=j,i.mousecaptureposition.clickedcell=j;break}}if(this.rtl&&this._haspinned)for(j=x.cells.length-1;j>=0&&i.columns.records[j].pinned;j--){var q;d=q=e(this.columnsrow[0].cells[j]).coord().left-this.host.coord().left;if((null==(T=this._getcolumnat(j))||!T.hidden)&&(null==T||!T.adaptivehidden)&&d+e(this.columnsrow[0].cells[j]).width()>=u&&u>=d){b=j,i.mousecaptureposition.clickedcell=j;break}}if(null!=f&&b>=0){this._raiseEvent(1,{rowindex:this.getboundindex(f),visibleindex:f.visibleindex,row:f,group:f.group,rightclick:s,originalEvent:t});var T=this._getcolumnat(b),C=this.getcellvalue(this.getboundindex(f),T.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=b,T.datafield==this.editcell.column&&this.getboundindex(f)==this.editcell.row&&(this.mousecaptured=!1)),"adaptive"===T.columntype){var S=document.createElement("div"),k=document.createElement("div"),I=document.createElement("a"),D=document.createElement("a"),P=document.createElement("div"),A=this.getrowdata(this.getboundindex(f));I.href="#",D.href="#",S.style.zIndex=99999,S.style.position="absolute",S.style.left="0px",S.style.top="0px",S.style.width="100%",S.style.height="100%",S.className="jqx-adaptive-view jqx-widget-content",P.style.position="relative",P.style.top="100%",P.style.textAlign="center",P.style.marginTop="-40px",k.style.position="absolute",k.style.left="0px",k.style.top="0px",k.style.width="100%",k.style.height="100%",this.theme&&(S.className="jqx-widget-content jqx-widget-content-"+this.theme);var M=document.createElement("span");M.className="jqx-icon-close",this.theme&&(M.className="jqx-icon-close jqx-widget-close-"+this.theme),M.style.zIndex=99,M.style.position="absolute",M.style.right="10px",M.style.top="10px",M.style.width="16px",M.style.height="16px",S.appendChild(k),S.appendChild(M),I.innerHTML=this.gridlocalization.okstring,D.innerHTML=this.gridlocalization.cancelstring,I.addEventListener("mousedown",function(e){for(var t={},s=i.adaptiveview.querySelectorAll("input"),r=0;r<s.length;r++){var n=i.escape_HTML(s[r].value);t[s[r].getAttribute("data-column")]=n}return i.updaterow(A.uid,t),S.parentNode.removeChild(S),i.adaptiveview=null,e.stopPropagation(),!1}),D.addEventListener("mousedown",function(){return S.parentNode.removeChild(S),i.adaptiveview=null,t.stopPropagation(),!1}),this.editable&&(P.appendChild(I),P.appendChild(D),S.appendChild(P));var H="<table class='jqx-adaptive-table'><tr>";for(g=0,j=0;j<this.columns.records.length;j++){if("adaptive"!==(T=this.columns.records[j]).columntype){j>0&&g%2==0&&(H+="</tr><tr>");var B=A[T.displayfield];""!=T.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(B)?B=e.jqx.dataFormat.formatdate(B,T.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(B)&&(B=e.jqx.dataFormat.formatnumber(B,T.cellsformat,this.gridlocalization)));var z=this.filterable?'<div datafield="'+T.datafield+'" class="'+i.toTP("jqx-grid-column-filterbutton")+'" style="position: relative; top: 4px; display: inline-block; width: 16px; height:16px;"></div>':"";this.editable?T.editable?H+="<td>"+z+this.escape_HTML(T.text)+": <input data-column='"+T.displayfield+"' value='"+B+"'/></td>":H+="<td>"+z+this.escape_HTML(T.text)+": <input data-column='"+T.displayfield+"' readonly value='"+B+"'/></td>":H+="<td>"+z+this.escape_HTML(T.text)+": "+B+"</td>",g++}}return H+="</tr></table>",k.innerHTML=H,M.addEventListener("mousedown",function(e){S.parentNode.removeChild(S),i.adaptiveview=null}),this.wrapper[0].appendChild(S),this.adaptiveview=S,void e(this.adaptiveview).find(".jqx-grid-column-filterbutton").on("click",function(){var e=this.getAttribute("datafield"),t=this.offsetTop;i.openmenu(e),setTimeout(function(){i.gridmenu.css("top",30+t),i.gridmenu.css("left",25),i.gridmenu.css("z-index",99999),i.gridmenu.parent().css("z-index",99999)},300)})}if(this._raiseEvent(8,{rowindex:this.getboundindex(f),column:T?T.getcolumnproperties():null,row:f,visibleindex:f.visibleindex,datafield:T?T.datafield:null,columnindex:b,value:C,rightclick:s,originalEvent:t}),T.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==T.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(g,T.datafield),!0}else if("button"==T.columntype&&this._overlayElement)return T.buttonclick&&T.buttonclick(x.cells[b].buttonrow,t),!0;var E=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(f)&&(this._raiseEvent(22,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,group:f.group,rightclick:s,originalEvent:t}),this._clickedcolumn==T.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,column:T?T.getcolumnproperties():null,datafield:T?T.datafield:null,columnindex:b,value:C,rightclick:s,originalEvent:t}),E=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(s)return!0;E||(this._clickedrowindex=this.getboundindex(f),this._clickedcolumn=T.datafield);var L=e.jqx.utilities.getBrowser();if("msie"==L.browser&&parseInt(L.version)<=7&&(0==b&&this.rowdetails&&(v="jqx-grid-group-collapse"),_>0&&b<=_&&(v="jqx-grid-group-collapse")),-1!=v.indexOf("jqx-grid-group-expand")||-1!=v.indexOf("jqx-grid-group-collapse"))this.rtl?_>0&&b>x.cells.length-_-1&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):b==x.cells.length-1-_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):_>0&&b<_&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):b==_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=f.boundindex){var N=this.selectedrowindexes.slice(0),O=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var R=!1,F=this.getboundindex(f);i._oldselectedrow!==F&&"none"!==i.selectionmode||(R=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=F&&"singlerow"==i.selectionmode)&&(this._applyrowselection(F,!0,!1,null,T.datafield),this._selectrowwithmouse(i,m,N,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=T.datafield&&(this._selectrowwithmouse(i,m,N,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(F,T.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(O=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=F}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(R&&!i.editcell){if("checkbox"!==T.columntype){this._currentEditableColumn=b;i.beginrowedit(this.getboundindex(f))}}else if(i.editcell&&!R&&"none"!=i.selectionmode)i.endrowedit(i.editcell.row)}else{F=this.getboundindex(f);var W="click"==i.editmode||O&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(W=!0),W&&null!=f.boundindex&&T.editable){i.begincelledit(this.getboundindex(f),T.datafield,T.defaulteditorvalue,!1);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(F,T.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!O&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||O||!i.editcell||i.editcell.row==F&&T.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,s){},_rowPropertyChanged:function(e,t,i,s){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){e>0&&(i+=", "),i+="[";var t=0;for(var s in this)t>0&&(i+=", "),i+="{"+s+":"+this[s]+"}",t++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":case"showcolumnheaderlines":case"showcolumnlines":case"showrowlines":t.refresh();break;case"everpresentrowactionsmode":s!=r&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":s!=r&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(32!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":r!=s&&(31!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":s!=r&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":s!=r&&t._rendercolumnheaders();break;case"rendergridrows":s!=r&&t.updatebounddata();break;case"editmode":s!=r&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":r!=s&&(e.jqx.utilities.setTheme(s,r,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:r}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0),t._applyThemeSettings());break;case"showtoolbar":case"showfilterbar":case"toolbarheight":s!=r&&(t._arrange(),t.refresh());break;case"showstatusbar":s!=r&&(t.statusbar&&(r?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":s!=r&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":s!=r&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":s!=r&&t.rendergridcontent();break;case"showrowdetailscolumn":s!=r&&t.render();break;case"scrollbarsize":s!=r&&(e.jqx.utilities.scrollBarSize=r,t._arrange());break;case"width":case"height":s!=r&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":s!=r&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":s!=r&&t._initpager();break;case"selectedrowindex":t.selectrow(r);break;case"selectionmode":s!=r&&("none"==r&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==r&&t._render(!1,!1,!0,!1,!1));break;case"showheader":r?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":s!=r&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":s!=r&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t.columns&&t.columns.length>t.headerZIndex&&(t.headerZIndex=t.columns.length+100),t._serializeObject(t._cachedcolumns)!==t._serializeObject(r)){var n=!1;t.filterable&&s&&s.records&&e.each(s.records,function(){this.filter&&(n=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),n&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=s;break;case"autoheight":s!=r&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":s!=r&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(s!=r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof r){var o="The expected value type is: Int.";if("pagesize"!=i)o="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+o)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=r&&r.length>0&&(t.pagesize=parseInt(r[0]),t.dataview.pagesize=parseInt(r[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(s)!==t._serializeObject(r)&&(t.dataview.groups=r,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":s!=r&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=r&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=r&&t.rendertoolbar(t.toolbar);break;case"disabled":r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:r}),t.pagerleftbutton.jqxButton({disabled:r}),t.pagershowrowscombo.jqxDropDownList({disabled:r}),t.pagergotoinput.attr("disabled",r)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:r}),t.pagerlastbutton.jqxButton({disabled:r}))),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var s=!!t._source,r=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n,o=function(i){if(i.totalrecords=r.totalrecords,i.virtualmode){var s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(null!=t.recordstartindex&&(s.startindex=parseInt(t.recordstartindex)),null!=t.recordendindex?s.endindex=parseInt(t.recordendindex):i.grid.pageable||(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords))),s.data=r.records,i.grid.rendergridrows&&i.totalrecords>0){var n=0;if(t.records=i.grid.rendergridrows(s),t.records.length&&(n=t.records.length),t.records&&!t.records[s.startindex]){var o=new Array,a=s.startindex;e.each(t.records,function(){o[a]=this,a++,n++}),t.records=o}if(0==n&&t.records&&e.each(t.records,function(){n++}),n>0&&n<s.endindex-s.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<s.endindex-s.startindex-n;d++){var h={};for(var c in l)h[c]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=r.originaldata,i.records=r.records,i.recordids=r.recordids,i.cachedrecords=r.cachedrecords};if(n=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.virtualmode=n.virtualmode,r._options.totalrecords=n.totalrecords,r._options.originaldata=n.originaldata,r._options.recordids=n.recordids,r._options.cachedrecords=new Array,r._options.pagenum=n.pagenum,r._options.pageable=n.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==n.pagesize&&(n.pagesize=10),r._options.pagesize=n.pagesize,this.source=t,void 0!==i);var a=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&r.dataBind(),(q=function(i){if(null!=i&&""!=i){if(r._changedrecords[0]){var s=new Array;e.each(r._changedrecords,function(e){var t=this.index,n=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":var o=a.grid.getrowid(t);return e==r._changedrecords.length-1?a.grid.updaterow(o,n):a.grid.updaterow(o,n,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,n),void(a.grid._updateFromAdapter=!1);case"remove":o=a.grid.getrowid(t);return void s.push(o)}}),s.length>0&&(a.grid.deleterow(s,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var n=a.totalrecords;o(a),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!a._updating){a._updating=!0;var s=a.grid.getrowid(i.index);switch(i.type){case"add":var n=e.extend({},i.object[i.index]),o=r.getid(t.id,n,i.index);0===i.index?a.grid.addrow(o,n,"first"):a.grid.addrow(o,n);break;case"delete":a.grid.deleterow(s);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");a.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{n=e.extend({},i.object[i.index]);a.grid.updaterow(s,n)}}a._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(n!=a.totalrecords))})(),r.bindBindingUpdate(a.grid.element.id,q);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&r.dataBind(),(q=function(e){var i=a.totalrecords;o(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))})(),void r.bindBindingUpdate(a.grid.element.id,q);for(var l=[],d=0,h={},c=0;c<a.filters.length;c++){var u=a.filters[c].datafield,p=a.filters[c].filter;if(p.getfilters){var m=p.getfilters();h[u+"operator"]=p.operator;for(var f=0;f<m.length;f++){m[f].datafield=u;var g=m[f].value;if("datefilter"==m[f].type)if(m[f].value&&m[f].value.toLocaleString){var v=a.grid.getcolumn(m[f].datafield);if(v&&v.cellsformat){var x=a.grid.source.formatDate(m[f].value,v.cellsformat,a.grid.gridlocalization);h["filtervalue"+d]=x||m[f].value.toLocaleString()}else h["filtervalue"+d]=g.toString()}else h["filtervalue"+d]=g.toString();else h["filtervalue"+d]=g.toString(),m[f].data&&(h["filterid"+d]=m[f].data.toString()),m[f].id&&(h["filterid"+d]=m[f].id.toString());h["filtercondition"+d]=m[f].condition,h["filteroperator"+d]=m[f].operator,h["filterdatafield"+d]=u;var w={label:g.toString()};m[f].data&&(w.value=m[f].data.toString()),m[f].id?w.value=m[f].id.toString():w.value=g.toString(),w.condition=m[f].condition,w.operator=0==m[f].operator?"and":"or",w.field=u,w.type=m[f].type;var y=!1;if(l.length>0)for(var b=0;b<l.length;b++){var _=l[b];if(_.field==u){_.filters.push(w),y=!0;break}}y||(l.push({field:u,filters:[]}),l[l.length-1].filters.push(w)),d++}}}h.filterGroups=l,h.filterscount=d,h.groupscount=a.groups.length;for(c=0;c<a.groups.length;c++)h["group"+c]=a.groups[c];null==t.recordstartindex&&(t.recordstartindex=0),null!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),a.pageable&&(t.recordendindex=a.pagesize)),a.pageable&&(t.recordstartindex=a.pagenum*a.pagesize,t.recordendindex=(a.pagenum+1)*a.pagesize),e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var j=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var q=function(){var i=function(){var e=a.totalrecords;o(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()};r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,q),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?r.dataBind():a.grid.isInitialized||a.grid.autobind||q(),r._options.data=j}},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return r}return s},this.getvaluebytype=function(t,i){var s=t;if("date"==i.type){var r=new Date(t);null==(t=("NaN"==r.toString()||"Invalid Date"==r.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):r)&&(t=s)}else if("float"==i.type){t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&this.filters.length>0&&!this.virtualmode)&&null!=t&&null!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e];return-1!=(n=this.records.indexOf(s))&&(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,n=(s=null,-1),o=0;o<r.length;o++)if(r[o].uid==e){s=r[o],n=o;break}if(s){var a=this.that;for(var l in t)a.cachedrecords[n][l]=t[l];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,s,r){if(null!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var n=this.recordsbyid["id"+i.uid];null!=n;){var o=Math.floor(1e4*Math.random()).toString();i.uid=o,n=this.recordsbyid["id"+o]}}else i.uid=t;return i[this.source.id]||null!=this.source.id&&(i[this.source.id]=i.uid),i.boundindex=this.records.length,"last"==s?this.records.push(i):"number"==typeof s&&isFinite(s)?this.records.splice(s,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==s?this.cachedrecords.push(i):"number"==typeof s&&isFinite(s)?this.cachedrecords.splice(s,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=r&&null!=r||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(null!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],r=this.records.indexOf(s);if(this.grid&&this.grid.sortable&&"many"==this.grid.sortmode)for(var n=0;n<this.records.length;n++)if(this.records[n].boundindex===s.boundindex){r=n;break}return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){var o=this.cachedrecords;for(s=null,r=-1,n=0;n<o.length;n++)if(o[n].uid==e){s=o[n],r=n;break}if(s)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,s,r,n,o,a){var l=this.that,d=new Array,h=t,c=i,u=s,p=r,m=c.length,f=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var g=Object.size(h);this.totalrecords=g,e.each(this.records,function(t){var i=0;return e.each(this,function(e,t){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();o=0;if(!this.groupable)return void this.updateview();a=this.totalrecords}else o=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=o;v=this.loadgrouprecords(0,o,a,u,0,p,c,m,d)}else f=this.loadflatrecords(o,a,u,0,p,c,m,d);return m>0&&c.splice(0,m-0),this.groups.length>0&&this.groupable?this.totalrows=v:this.totalrows=f,d},this.loadflatrecords=function(t,i,s,r,n,o,a,l){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),u?this.sortdata:this.records),m=t;m<i;m++){var f={};if(u){g=(f=e.extend({},p[m].value))[d.uniqueId];f.boundindex=p[m].index,null==f.uid&&(f.uid=d.getid(d.source.id,f,f.boundindex)),d.recordsbyid["id"+f.uid]=p[m].value,d.loadedrecords[h]=f,f.uniqueid=d.generatekey(),d.bounditems[f.boundindex]=f}else{var g=(f=new Object(p[m]))[d.uniqueId];f.boundindex=h,d.loadedrecords[h]=f,null==f.uid&&(f.uid=d.getid(d.source.id,f,h)),d.recordsbyid["id"+f.uid]=p[m],f.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=f}(r>=a||g!=o[r][d.uniqueId]||n&&n[g])&&(l[l.length]=r),o[r]=f,r++,f.visibleindex=c,c++,h++}if(d.grid.summaryrows){var v=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[v]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,o[r]=t,r++,t.visibleindex=c,c++,v++})}return c},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,r=0,n=new Array,o=this.filters,a=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,o,r,a,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));this.pagenum;if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,o,r,a,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=this.loadedrecords.length,this.rows=n,n.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)n=this._updategroupsinpage(i,o,s,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum);c++){null!=(p=c<this.loadedrecords.length?this.loadedrecords[c]:null)&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(n[r]=p,r++),s++)}if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=n.length;var u=n.length;for(c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum)-u;c++){var p;(p={}).boundindex=c+u,p.visibleindex=c+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[c+u]=p,n[r]=p,r++}}this.rows=n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){null==t&&(t=!0);var i=this.rows.length,s=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var r="",n=this.cachedrecords.length,o=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata){var d=this.source.filter(this.filters,a,n);null==d&&(d=new Array);for(var h=0;h<n;h++){var c=a[h];(u=d.indexOf(c)>=0)?(o[o.length]=e.extend({dataindex:h},c),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=o}else if(null==this.source.filter||null==this.source.filter){for(h=0;h<n;h++){c=a[h];for(var u=void 0,p=0;p<l;p++){r=this.filters[p].filter;var m=c[this.filters[p].datafield],f=r.evaluate(m);if(this.grid.filter){var g=this.grid.filter(m,c,this.filters[p].datafield,r,f);void 0!==g&&(f=g)}u=null==u?f:"or"==r.operator?u||f:u&&f}u?(o[o.length]=e.extend({dataindex:h},c),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=o}if(this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(var v=this.grid.getsortcolumns(),x=0;x<v.length;x++){var w=(_=v[x]).dataField;this.grid.sortby(w,_.ascending,null)}return}var y=this.sortfield;if(this.sortcache[y]){this.sortdata=null;var b=this.sortcache[y].direction;return this.sortcache[y]=null,void this.sortby(this.sortfield,b)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;a=this.cachedrecords;if(this.records=a,this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(v=this.grid.getsortcolumns(),x=0;x<v.length;x++){var _;w=(_=v[x]).dataField;this.grid.sortby(w,_.ascending,null)}return}y=this.sortfield;if(this.sortcache[y]){this.sortdata=null;b=this.sortcache[y].direction;return this.sortcache[y]=null,void this.sortby(this.sortfield,b)}}}var j=this.reload(this.records,this.rows,this.filter,this.updated,t);if(this.updated=null,null!=this.rowschangecallback){var q=this.rows;s!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),i!=q.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:q.length}}),(j.length>0||i!=q.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:q.length,diff:j}})}}},this}}(jqxBaseFramework),function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,s,r,n,o,a,l,d){for(var h=t,c=this,u=new Array,p=0;p<c.groups.length;p++)u[p]=c.generatekey();var m=new Array,f=0,g=(u=u,new Array),v=i,x=c.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var w=null!=this.sortdata,y=w?this.sortdata:this.records;if(this.pageable){var b=new Array,_=0;y[i]||(e.each(y,function(e,t){b[i+e++]=this}),y=b)}if(this.virtualmode){for(b=new Array,_=0,v=0;v<s-i;v++)y[v]?b[i+_++]=y[v]:y[i+_]&&(b[i+_]=y[i+_],_++);v=0,y=b}for(var j=i;j<s;j++){var q={},T=(q=w?e.extend({},y[j].value):e.extend({},y[j]))[c.uniqueId];(n>=l||T!=a[n][c.uniqueId]||o&&o[T])&&(d[d.length]=n);var C=new Array,S=0;for(p=0;p<x;p++){var k=q[E=c.groups[p]];null==k&&(k=""),C[S++]={value:k,hash:u[p]}}if(C.length!=x)break;for(var I=null,D="",P=0;P<C.length;P++){0;var A=C[P].value;if(null==g[D=D+"_"+C[P].hash+"_"+A]||null==g[D]){if(null==I)I={group:A,subItems:new Array,subGroups:new Array,level:0},m[f++]=I,I.uniqueid=c.generatekey(),c.loadedgroupsByKey[A]=I;else{var M={group:A,subItems:new Array,subGroups:new Array,parentItem:I,level:I.level+1};c.loadedgroupsByKey[I.uniqueid+"_"+A]=M,M.uniqueid=c.generatekey(),I.subGroups[I.subGroups.length++]=M,I=M}g[D]=I}else I=g[D]}null!=I?(null==q.uid&&(q.uid=this.getid(this.source.id,q,v)),w?(q.boundindex=y[j].index,this.recordsbyid["id"+q.uid]=y[j].value):(q.boundindex=v,this.recordsbyid["id"+q.uid]=y[j]),this.bounditems[q.boundindex]=q,this.sortedgroups[v]=q,q.uniqueid=c.generatekey(),q.parentItem=I,q.level=I.level+1,I.subItems[I.subItems.length++]=q):(null==q.uid&&(q.uid=this.getid(this.source.id,q,v)),w?(q.boundindex=y[j].index,this.recordsbyid["id"+q.uid]=y[j].value):(q.boundindex=v,this.recordsbyid["id"+q.uid]=y[j]),this.sortedgroups[v]=q,this.bounditems[q.boundindex]=q,q.uniqueid=c.generatekey()),n++,v++,0}var H=function(e,i,s){for(var r=0;r<i.subItems.length;r++)i.subItems[r].visibleindex=t+s,e.rows[s]=i.subItems[r],e.loadedrecords[s]=i.subItems[r],s++;return s},B=function(e,i,s){var r=1,n=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var o=0;o<n.length;o++)n[o].aggregates&&(r=Math.max(r,n[o].aggregates.length));for(var a in i.subGroups){var l=i.subGroups[a];l.subGroups&&(e.loadedgroups[e.loadedgroups.length]=l,l.visibleindex=t+s,e.rows[s]=l,e.loadedrecords[s]=l,s++,l.subGroups.length>0?s=B(e,l,s):l.subItems.length>0&&(s=H(e,l,s)))}return i.subItems.length>0&&(s=H(e,i,s)),function(i){if(1==e.aggregates)for(var o=function(r){var o=i,a={},l=function(t){for(var i=0;i<n.length;i++)if(n[i].aggregates)for(var s=e.grid.getcolumnaggregateddata(n[i].datafield,n[i].aggregates,!0,t),o=0;o<n[i].aggregates.length;o++)if(n[i].aggregates[r]){var l=n[i],d=n[i].aggregates[r],h=d,c=(h=e.grid._getaggregatename(h))+":"+s[d];s[d]?a[l.datafield]=c:a[l.datafield]=h+":"+s[h]}};if(null!=o)if(a.level=o.level,a.visibleindex=t+s,a.uniqueid=e.generatekey(),e.rows[s]=a,e.loadedrecords[s++]=a,a.totalsrow=!0,i.subItems.length>0){o=i.subItems[i.subItems.length-1],a.parentItem=o.parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a);var d=[];(h=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(d[d.length]=i.subItems[e])})(i),l(d)}else if(i.subGroups.length>0){var h;o=i.subGroups[i.subGroups.length-1],a.level=o.level,a.parentItem=i,i.subGroups[i.subGroups.length]=a,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(i),l(d)}},a=0;a<r;a++)o(a)}(i),s},z=m.length;this.loadedgroups=new Array,this.rows=new Array;for(h=0,v=0;v<z;v++){var E=m[v];this.loadedrootgroups[v]=E,this.loadedgroups[this.loadedgroups.length]=E,E.visibleindex=t+h,this.rows[h]=E,this.loadedrecords[h]=E,h=B(this,E,++h)}return h},this._updategroupsinpage=function(t,i,s,r,n,o,a){var l=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var m=0,f=new Array,g=0;a>this.totalrecords&&(a=this.totalrecords);for(var v=o;v<a;v++){var x=e.extend({},t.sortedgroups[v]),w=x[t.uniqueId];if(!t.pagesize||s>=t.pagesize*t.pagenum&&s<t.pagesize*(t.pagenum+1)){(r>=n||w!=l[r][t.uniqueId]||updated&&updated[w])&&(d[d.length]=r);var y=new Array,b=0;for(p=0;p<t.groups.length;p++){var _=x[A=t.groups[p]];null==_&&(_=""),y[b++]={value:_,hash:u[p]}}if(y.length!=t.groups.length)break;for(var j=null,q="",T=0;T<y.length;T++){0;var C=y[T].value;if(null==c[q=q+"_"+y[T].hash+"_"+C]||null==c[q]){if(null==j){j={group:C,subItems:new Array,subGroups:new Array,level:0},f[g++]=j,null!=(k=t.loadedgroupsByKey[C])&&(j.visibleindex=k.visibleindex,j.uniqueid=k.uniqueid)}else{var S={group:C,subItems:new Array,subGroups:new Array,parentItem:j,level:j.level+1},k=t.loadedgroupsByKey[j.uniqueid+"_"+C];S.visibleindex=k.visibleindex,S.uniqueid=k.uniqueid,j.subGroups[j.subGroups.length++]=S,j=S}c[q]=j}else j=c[q]}null!=j&&(x.parentItem=j,x.level=j.level+1,j.subItems[j.subItems.length++]=x),r++}m++,s++}var I=function(t,i,s){for(var r=0;r<i.subItems.length;r++)l[s]=e.extend({},i.subItems[r]),s++;return s},D=function(e){var t=!1;for(var i in e.subGroups){var s=e.subGroups[i];if(s.subGroups){if(s.subGroups.length>0)if(D(s))return t=!0,!0;if(s.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},P=function(e,t,i){var s=1,r=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var n=0;n<r.length;n++)r[n].aggregates&&(s=Math.max(s,r[n].aggregates.length));for(var o in t.subGroups){var a=t.subGroups[o];a.subGroups&&D(a)&&(l[i]=a,i++,a.subGroups.length>0?i=P(e,a,i):a.subItems.length>0&&(i=I(0,a,i)))}return t.subItems.length>0&&(i=I(0,t,i)),function(t){if(1==e.aggregates)for(var n=function(s){var n=t,o={},a=function(t){for(var i=0;i<r.length;i++)if(r[i].aggregates)for(var n=e.grid.getcolumnaggregateddata(r[i].datafield,r[i].aggregates,!0,t),a=0;a<r[i].aggregates.length;a++)if(r[i].aggregates[s]){var l=r[i],d=r[i].aggregates[s],h=d,c=(h=e.grid._getaggregatename(h))+":"+n[d];o[l.datafield]=c}};if(null!=n)if(o.level=n.level,o.visibleindex=i,o.uniqueid=e.generatekey(),l[i]=o,e.loadedrecords[i++]=o,o.totalsrow=!0,t.subItems.length>0){n=t.subItems[t.subItems.length-1],o.parentItem=n.parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o);var d=[];(h=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(d[d.length]=t.subItems[e])})(t),a(d)}else if(t.subGroups.length>0){var h;n=t.subGroups[t.subGroups.length-1],o.level=n.level,o.parentItem=t,t.subGroups[t.subGroups.length]=o,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(t),a(d)}},o=0;o<s;o++)n(o)}(t),i};for(m=0;m<f.length;m++){var A=f[m];D(A)&&(l[h]=A,h=P(this,A,++h))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var s=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var r=new Array;if(s>0)e.each(this.groups,function(i){var n=this,o=t._getColumnText(this).label,a=t._rendergroupcolumn(o,n);if(a.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(a),t.closeablegroups){var l=e(a.find(".jqx-icon-close"));t.isTouchDevice()&&!0!==t.touchmode?t.addHandler(l,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(l,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(a,"click",function(){var e=t.getcolumn(n);return null!=e&&t._togglesort(e),!1}),r[r.length]=a,t._handlegroupstocolumnsdragdrop(this,a),i<s-1){var d=a.height(),h=e('<div style="float: left; position: relative;"></div>');t.rtl&&h.css("float","right"),h.width(t.groupindentwidth/3),h.height(1),h.css("top",d/2),h.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(h)}});else{var n=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(n),this.rtl&&n.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=r,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),s=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",s),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",s)):(this.groupsheaderdiv.css("left",s),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&null!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var r=i.subGroups[e];r&&(i=r,s==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var r=i.subGroups[e];r&&(i=r,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},jsonParser:function(){var e="~",t="\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2),i="\\"+t,s=new RegExp(t,"g"),r=new RegExp(i,"g"),n=new RegExp("(?:^|([^\\\\]))"+i),o=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},a=String;function l(t,i,s){return i instanceof Array?function(e,t,i){for(var s=0,r=t.length;s<r;s++)t[s]=l(e,t[s],i);return t}(t,i,s):i instanceof a?i.length?s.hasOwnProperty(i)?s[i]:s[i]=function(t,i){for(var s=0,n=i.length;s<n;t=t[i[s++].replace(r,e)]);return t}(t,i.split(e)):t:i instanceof Object?function(e,t,i){for(var s in t)t.hasOwnProperty(s)&&(t[s]=l(e,t[s],i));return t}(t,i,s):i}var d={stringify:function(r,n,a,l){return d.parser.stringify(r,function(r,n,a){var l,d,h=!1,c=!!n,u=[],p=[r],m=[r],f=[a?e:"[Circular]"],g=r,v=1;return c&&(d="object"==typeof n?function(e,t){return""!==e&&o.call(n,e)<0?void 0:t}:n),function(r,n){return c&&(n=d.call(this,r,n)),h?(g!==this&&(l=v-o.call(p,this)-1,v-=l,p.splice(v,p.length),u.splice(v-1,u.length),g=this),"object"==typeof n&&n?(o.call(p,n)<0&&p.push(g=n),v=p.length,(l=o.call(m,n))<0?(l=m.push(n)-1,a?(u.push((""+r).replace(s,t)),f[l]=e+u.join(e)):f[l]=f[0]):n=f[l]):"string"==typeof n&&a&&(n=n.replace(t,i).replace(e,t))):h=!0,n}}(r,n,!l),a)},parse:function(s,r){return d.parser.parse(s,function(s){return function(r,o){var d="string"==typeof o;return d&&o.charAt(0)===e?new a(o.slice(1)):(""===r&&(o=l(o,o,{})),d&&(o=o.replace(n,"$1"+e).replace(i,t)),s?s.call(this,r,o):o)}}(r))},parser:JSON};return d},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var s=this.expandedgroups[i.uniqueid].expanded,r=i.group,n=i.level,o=new Array;this._getsubgroups(o,i);var a=this,l={group:r,level:n,expanded:s,subgroups:o};if(i.subItems){var d=new Array;e.each(i.subItems,function(){var e=this.boundindex;d[d.length]=a.getrowdata(e)}),d.length>0&&(l.subrows=d)}var h=this.jsonParser().stringify(i);return h=(h=h.replace(/subItems/gi,"subrows")).replace(/subGroups/gi,"subgroups"),l=this.jsonParser().parse(h)},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var s=this;for(var r in i.subGroups){var n=i.subGroups[r],o=s.expandedgroups[n.uniqueid].expanded,a=n.group,l=n.level;if(t[t.length]={group:a,level:l,expanded:o},n.subItems){var d=new Array;e.each(n.subItems,function(){var e=this.boundindex;d[d.length]=s.getrowdata(e)}),t[t.length-1].subrows=d}if(n.subGroups){var h=new Array;s._getsubgroups(h,n)}}return t},_setbatchgroupstate:function(e,t){var i=this;for(var s in this.dataview.loadedrootgroups)i._setrootgroupstate(s,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var r=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(r!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,s){if(null==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var r=null==i||i;if(e>=0&&e<this.dataview.loadedrootgroups.length){var n=this.dataview.loadedrootgroups[e];if(this.pageable){for(var o=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&o.push(this.dataview.rows[a]);if(!(n=o[e]))return}return this._setgroupstate(n,t,r,s)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1;var i=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid];s=!(s=null!=s&&s.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=s?e:null;var r=this._setgroupstate(e,s,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),r},_setgroupstate:function(e,t,i,s){if(null==e||null==e)return!1;var r=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var n=this.expandedgroups[e.uniqueid];if(null==n&&(n={expanded:!1},r=!0),n.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),i){var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(var r in t.subGroups){var n=t.subGroups[r];i||e._setrowvisibility(n.visibleindex,i,!1);var o=!i;s?this.expandedgroups[n.uniqueid]={expanded:o,group:n}:o=null!=e.expandedgroups[n.uniqueid]&&e.expandedgroups[n.uniqueid].expanded,n.subGroups&&(n.subGroups.length>0?e._setsubgroupsvisibility(e,n,!o||i,s):n.subItems.length>0&&e._setgroupitemsvisibility(e,n,!o||i)),i&&e._setrowvisibility(n.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,s=!1;if(t.groupable){var r="mousemove.grouping"+this.element.id,n=(this.element.id,"mouseup.grouping"+this.element.id),o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var n=parseInt(r.pageX),a=parseInt(r.pageY);if(o){var l=t.getTouches(r)[0];n=parseInt(l.pageX),a=parseInt(l.pageY)}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:u+"px",top:p+"px"}),s=!1,n>=h&&n<=h+t.host.width()&&a>=c&&a<=c+t.host.height()&&(s=!0),i=-1,s){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.groupsheader.coord(),f=m.top+t.groupsheader.height(),g=e.data(t.dragcolumn[0],"datarecord");if(g)var v=t.groups.indexOf(g.toString());else v=-1;var x=-1==v||t.groups.length>1&&v>-1;null!=t.dropline&&(a>=m.top&&a<=f?x&&(i=t._handlegroupdroplines(n)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return r.preventDefault(),r.stopPropagation(),!1}},{passive:!1}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(r){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX);var n=parseInt(r.pageY);if(o){var a=t.getTouches(r)[0];parseInt(a.pageX),n=parseInt(a.pageY)}var l=t.host.coord(),d=(parseInt(l.left),parseInt(l.top)),h=t.groupsheader.height();if(t.showtoolbar&&(d+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var c=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=c){if(!t.getcolumn(c).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(s)if(-1!=i){var u=i.index,p=t.groups[u];(m=t._getGroupIndexByDataField(c))!=u&&(null!=m&&m>=0&&t.groups.splice(m,1),"before"==i.position?t.rtl?t._insertaftergroup(p,c):t._insertbeforegroup(p,c):t.rtl?t._insertbeforegroup(p,c):t._insertaftergroup(p,c))}else if(0==t.groups.length)n>d&&n<=d+h&&t.addgroup(c);else if(n>d+h){var m=t._getGroupIndexByDataField(c);t.removegroupat(m)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,s=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var r=this.left-3;return e>0&&(r=this.left-1-i.groupindentwidth/6),i.dropline.css("left",r),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"before"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"after"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"after"}))}),s},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s,r=this,n="mousedown",o="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,n=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(t){if(!r.showgroupsheader)return!0;var i=t.pageX,s=t.pageY;if(r.__drag=!0,r.dragmousedown={left:i,top:s},a){var n=r.getTouches(t)[0];i=n.pageX,s=n.pageY,r.dragmousedown={left:i,top:s},t.preventDefault&&t.preventDefault()}var o=e(t.target).coord();r.dragmousedownoffset={left:parseInt(i)-parseInt(o.left),top:parseInt(s-o.top)}}),this.addHandler(i,o,function(n){if(!r.showgroupsheader)return!0;if(r.dragmousedown){if(s={left:n.pageX,top:n.pageY},a){var o=r.getTouches(n)[0];s={left:o.pageX,top:o.pageY}}if(!r.dragstarted&&null==r.dragcolumn){var l=Math.abs(s.left-r.dragmousedown.left),d=Math.abs(s.top-r.dragmousedown.top);(l>3||d>3)&&(r._createdragcolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.dragcolumn[0],"datarecord",t),n.preventDefault&&n.preventDefault())}}},{passive:!1})},_createdragcolumn:function(t,i,s){var r=this,n=i;r.dragcolumn=e("<div></div>");var o=t.clone();r.dragcolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumn.css("float","left"),r.dragcolumn.css("position","absolute");r.host.coord();o.width(t.width()+16),r.dragcolumn.append(o),r.dragcolumn.height(t.height()),r.dragcolumn.width(o.width()),r.dragcolumn.append(r.dragcolumnicon),e(document.body).append(r.dragcolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.dragcolumn.css("left",n.left+r.dragmousedown.left),r.dragcolumn.css("top",n.top+r.dragmousedown.top),null!=s&&s&&(r.dropline=e('<div style="display: none; position: absolute;"></div>'),r.dropline.width(2),r.dropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(n){if(!s.showgroupsheader)return!0;if(s.__drag=!0,s._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(0==t.groupable)return!0;var o=n.pageX,a=n.pageY;if(r){var l=s.getTouches(n)[0];o=l.pageX,a=l.pageY}s.dragmousedown={left:o,top:a},r&&n.preventDefault&&n.preventDefault();var d=e(n.target).coord();s.dragmousedownoffset={left:parseInt(o)-parseInt(d.left),top:parseInt(a-d.top)}}),this.addHandler(i,o,function(n){if(!s.showgroupsheader)return!0;if(s._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var d=s.getTouches(n)[0];a=d.pageX,l=d.pageY}if(o={left:a,top:l},!s.dragstarted&&null==s.dragcolumn){var h=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(h>3||c>3)&&(s._createdragcolumn(i,o,!0),e.data(s.dragcolumn[0],"datarecord",t.displayfield),n.preventDefault&&n.preventDefault())}}})},_rendergroupcolumn:function(t,i){var s=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&s.css("float","right"),null!=this.groupcolumnrenderer&&(s[0].innerHTML=this.groupcolumnrenderer(t),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==s[0].innerHTML&&(s[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(s[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var r=this.rtl?"left":"right",n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}s[0].innerHTML+=n}else""==s[0].innerHTML&&(s[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}o.css("display","none"),a.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("float","left"),a.css("float","left")),s.append(o),s.append(a),e.data(document.body,"groupsortelements"+i,{sortasc:o,sortdesc:a})}return s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s},_rendergroup:function(t,i,s,r,n,o,a){var l=i,d=i.cells[s.level];this.rtl&&(d=i.cells[i.cells.length-1-s.level]);var h=this._findgroupstate(s.uniqueid);if(s.bounddata.subGroups.length>0||s.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=h?" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[s.level]).label,m=this.groupindentwidth,f=a-(I=this.rowdetails&&this.showrowdetailscolumn?(1+t)*m:t*m),g=s.level+1;this.rtl&&(g=0);for(var v=l.cells[g],x=2;null!=v&&"none"==v.style.display&&x<l.cells.length-1;)v=l.cells[g+x-1],x++;var w=e(v);if(v){if(v.style.width=parseInt(f)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var y={group:s.group,level:s.level,parent:s.bounddata.parentItem,subGroups:s.bounddata.subGroups,subItems:s.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[s.level]).column},b=this.groupsrenderer(p+": "+s.group,s.group,h,y);if(b)v.innerHTML=b;else{var _=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){var j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;_=0;for(var q=0;q<j.length;q++)j[q].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+s.group+" ("+_+")</span></div>"}}else{var T=this._getcolumnbydatafield(this.groups[s.level]),C=s.group;if(null==T)throw new Error("jqxGrid: Unable to find '"+this.groups[s.level]+"' group in the Grid's columns collection.");T.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(C)?C=e.jqx.dataFormat.formatdate(C,T.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(C)&&(C=e.jqx.dataFormat.formatnumber(C,T.cellsformat,this.gridlocalization)));_=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;_=0;for(q=0;q<j.length;q++)j[q].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+C+" ("+_+")</span></div>"}if(this.rtl){T||(T=this._getcolumnbydatafield(this.groups[s.level]));var S="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,k="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,I=this.rowdetails&&this.showrowdetailscolumn?(2+s.level)*m:(1+s.level)*m;v.style.width=a+parseInt(S)-I-k+"px",w.addClass(this.toThemeProperty("jqx-rtl"));var D=e(i.cells[i.cells.length-1]).css("z-index");w.css("z-index",D);var P=w.find("div");f=P.width();P.css("left","100%");var A=null!=this.columns.records[i.cells.length-2-s.level]&&this.columns.records[i.cells.length-2-s.level].pinned;if(this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),T.pinned||A)this.rowdetails&&this.showrowdetailscolumn&&(a+=30),P.css("margin-left",-f),v.style.width=a+S-I-k+"px";else{S="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;v.style.width=a+S-I-k+"px";f=P.width();P.css("margin-left",-f)}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){var s,r;if(null!=t.target&&!(i.disabled||e(t.target).ischildof(this.columnsheader)||(t.which?s=3==t.which:t.button&&(s=2==t.button),s||(t.which?r=2==t.which:t.button&&(r=1==t.button),r)))){var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0,o+=this.showfilterbar?this.toolbarheight:0;var a=this.host.offset(),l=t.pageX-a.left,d=t.pageY-n-a.top-o,h=this._hittestrow(l,d);if(h){var c=h.row,u=h.index,p=t.target.className,m=this.table[0].rows[u];if(null!=m){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o};for(var f=this.hScrollInstance.value,g=0,v=(this.groupable&&this.groups.length,0);v<m.cells.length;v++){var x=parseInt(e(this.columnsrow[0].cells[v]).css("left")),w=x-f;if(i.columns.records[v].pinned&&(w=x),null==(y=this._getcolumnat(v))||!y.hidden)if(w+e(this.columnsrow[0].cells[v]).width()>=l&&l>=w){g=v;break}}if(null!=c){var y=this._getcolumnat(g);-1==p.indexOf("jqx-grid-group-expand")&&-1==p.indexOf("jqx-grid-group-collapse")&&-1!=c.boundindex&&i.begincelledit(i.getboundindex(c),y.datafield,y.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation&&1==i.handlekeyboardnavigation(t))return!0;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===s)return this.endrowedit(this.editcell.row,!1),!1;if(27===s)return this.endrowedit(this.editcell.row,!0),!1;if(32==s)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((p=this.getcolumn(this._currentColumn)).editable){var r=!this.getcellvalue(this.editcell.row,p.datafield),n=this.getrowdata(this.editcell.row),o=this.editcell.row;n=i.getrowdata(i.editcell.row);this.pushToHistory=!0,this.setcellvalue(this.editcell.row,p.datafield,r,!1),this.pushToHistory=!1;var a=this._focusedColumn,l=this._currentColumn,d=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(o,!1),this._currentColumn=l,this._focusedColumn=a,this._currentEditableColumn=d,this._renderrows(),this.selectcell(o,p.datafield),this._oldselectedcell=this.selectedcell,a){var h=this;setTimeout(function(){h.selectcell(o,p.datafield),h._oldselectedcell=h.selectedcell,e(h._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===s){var c=this.editcell.datafield,u=this._getcolumnindex(c);this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u;var p=this._getnexteditablecolumn(u);if((t.shiftKey||this.rtl)&&(p=this._getpreveditablecolumn(u)),p){u=this._getcolumnindex(p.datafield);if(this.editcell[p.datafield])this._currentEditableColumn=u,(m=this.editcell[p.datafield].editor)&&(m.data().jqxWidget&&m.data().jqxWidget.focus?m.data().jqxWidget.focus():(m.focus(),m[0].onkeyup=function(){0!=i.gridcontent[0].scrollTop&&(i.scrolltop(Math.abs(i.gridcontent[0].scrollTop)),i.gridcontent[0].scrollTop=0),0!=i.gridcontent[0].scrollLeft&&(i.gridcontent[0].scrollLeft=0)})),this._focusedColumn=p.datafield,this._currentColumn=p.datafield,0!=this.gridcontent[0].scrollTop&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0);else if("checkbox"==p.columntype)return this._currentColumn=p.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,p.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[p.datafield]&&e(this._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(s>=33&&s<=40&&"multiplecellsadvanced"==i.selectionmode){var m="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),f=i._selection(m),g=m.val().length;f.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),f.start>0&&37==s&&(i._cancelkeydown=!0),f.start<g&&39==s&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==s&&f.start+f.length<g&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==s||39==s&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==s)if("checkbox"==i.editcell.columntype)if((p=i.getcolumn(i.editcell.datafield)).editable){r=!i.getcellvalue(i.editcell.row,i.editcell.column);if(p.cellbeginedit)if(0==p.cellbeginedit(i.editcell.row,p.datafield,p.columntype,!r))return!1;n=i.getrowdata(i.editcell.row);return i.pushToHistory=!0,i.setcellvalue(i.editcell.row,i.editcell.column,r,!0),i.pushToHistory=!1,i._raiseEvent(18,{rowindex:i.editcell.row,row:n,datafield:i.editcell.column,oldvalue:!r,value:r,columntype:"checkbox"}),!1}if(9==s){var v=this.editcell.row,x=c=this.editcell.column,w=(u=i._getcolumnindex(c),!1),y=i.getrowvisibleindex(v),b=v;this.editchar="";var _=this.editcell.validated;if(!this.editcell.validated)_=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=_){if(t.shiftKey||this.rtl)if(p=i._getpreveditablecolumn(u))c=p.datafield,w=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(v,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(y,c)},10));else{var j=i._getlastvisiblecolumn();w=!0,c=j.displayfield,(C=i.getdisplayrows()[y-1])&&(void 0===(v=C.dataindex)&&(v=C.boundindex),y=i.getrowvisibleindex(v));var q=!0;if(i.pageable){var T=Math.floor(y/this.pagesize);this.dataview.pagenum!=T&&(q=!1)}q&&-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(y,c)},10))}else if(p=i._getnexteditablecolumn(u))c=p.datafield,w=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(v,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(y,c)},10));else{var C,S=i._getfirstvisiblecolumn();w=!0,c=S.displayfield,(C=i.getdisplayrows()[y+1])&&(void 0===(v=C.dataindex)&&(v=C.boundindex),y=i.getrowvisibleindex(v));q=!0;if(i.pageable){T=Math.floor(y/this.pagesize);this.dataview.pagenum!=T&&(q=!1)}-1!=i.selectionmode.indexOf("cell")&&q&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(y,c)},10))}if(!w)return null!=this.editcell&&(i.endcelledit(v,c,!1),this._renderrows(this.virtualsizeinfo)),!0;if(i.pageable){T=Math.floor(y/this.pagesize);if(this.dataview.pagenum!=T)return this._renderrows(this.virtualsizeinfo),-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(b,x),i._oldselectedcell=i.selectedcell),void(T>this.dataview.pagenum&&setTimeout(function(){i.pagerpageinput.focus()},25))}i.begincelledit(v,c),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==s){var k=this.selectedcell;if(k)var I=this.getrowvisibleindex(k.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode)if(null!=(D=i.getselectedcell())&&i.selectcell&&null==this.editcell&&D.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=D.datafield){y=this.getrowvisibleindex(D.rowindex);if((E=this.dataview.loadedrecords[y+1])&&(!this.pageable||this.pageable&&y+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(E),D.datafield);var D=this.getselectedcell();this.ensurecellvisible(E.visibleindex,D.datafield)}}else{if(null!=k)if(P=this.dataview.loadedrecords[I+1])if(!this.pageable||this.pageable&&I+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(P),D.datafield);else if(this.pageable&&I+1>=this.pagesize){this.clearselection(!1);var P=this.dataview.loadedrecords[I];this.selectcell(this.getboundindex(P),D.datafield)}}return!1}if(27==s)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var A=!1;if(113==s&&(A=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(s>=48&&s<=57&&(this.editchar=String.fromCharCode(s),A=!0),189===s&&(A=!0),s>=65&&s<=90){this.editchar=String.fromCharCode(s);var M=!1;t.shiftKey?M=t.shiftKey:t.modifiers&&(M=!!(4&t.modifiers)),this._capsLock&&(M=!M),M||(this.editchar=this.editchar.toLowerCase()),A=!0}else s>=96&&s<=105&&(this.editchar=s-96,this.editchar=this.editchar.toString(),A=!0);var H=e(".jqx-grid").length;A=A&&(1==H||H>1&&i.focused);var B=e.data(document.body,"jqxgrid.edit");if(void 0!==B&&""!==B&&(13===s||A)&&B!=i.element.id)return!0}if((13==s||A)&&i.getselectedrowindex){v=i.getselectedrowindex();if("selectedrow"===i.editmode){if(!(v>=0)){if(null!=(D=i.getselectedcell())){var p=i._getcolumnbydatafield(D.datafield);i.beginrowedit(D.rowindex)}return!1}i.beginrowedit(v)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(v>=0){c="";for(var z=0;z<i.columns.records.length;z++){if((p=i.getcolumnat(z)).editable){c=p.datafield;break}}"selectedrow"===i.editmode?i.beginrowedit(v):i.begincelledit(v,c)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(D=i.getselectedcell())){p=i._getcolumnbydatafield(D.datafield);"selectedrow"===i.editmode?i.beginrowedit(D.rowindex):"checkbox"!=p.columntype&&i.begincelledit(D.rowindex,D.datafield)}break;case"multiplecellsadvanced":var E;if(null!=(D=i.getselectedcell()))if(13==s){if(i.selectcell)if((y=this.getrowvisibleindex(D.rowindex))+1<i.dataview.totalrecords)if(E=this.dataview.loadedrecords[y+1]){this.clearselection(!1),this.selectcell(this.getboundindex(E),D.datafield);var D=this.getselectedcell();this.ensurecellvisible(E.visibleindex,D.datafield)}}else"selectedrow"!==i.editmode&&i.begincelledit(D.rowindex,D.datafield,null,!1)}return!1}if(46==s){var L=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(L=i._getcellsforcopypaste()),null!=L&&L.length>0){for(var N=0;N<L.length;N++){if((D=L[N]).datafield){p=i.getcolumn(D.datafield);var O=i.getcellvalue(D.rowindex,D.datafield);if(""!==O&&p.editable&&i.enablekeyboarddelete){var R=null;if("checkbox"==p.columntype&&(p.threestatecheckbox||(R=!1)),p.cellbeginedit)if(0==p.cellbeginedit(D.rowindex,p.datafield,p.columntype,R))return!1;n=i.getrowdata(D.rowindex);if(i._raiseEvent(17,{rowindex:D.rowindex,row:n,datafield:D.datafield,value:O}),i.pushToHistory=!0,N==L.length-1?(i.setcellvalue(D.rowindex,D.datafield,R,!0),p.displayfield!=p.datafield&&i.setcellvalue(D.rowindex,p.displayfield,R,!0)):(i.setcellvalue(D.rowindex,D.datafield,R,!1),p.displayfield!=p.datafield&&i.setcellvalue(D.rowindex,p.displayfield,R,!0)),i.pushToHistory=!1,p.cellendedit)p.cellendedit(D.rowindex,p.datafield,p.columntype,R);i._raiseEvent(18,{rowindex:D.rowindex,row:n,datafield:D.datafield,oldvalue:O,value:R})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==s)if(null!=(D=i.getselectedcell()))if("checkbox"==(p=i.getcolumn(D.datafield)).columntype&&p.editable){r=!i.getcellvalue(D.rowindex,D.datafield);if(p.cellbeginedit)if(0==p.cellbeginedit(D.rowindex,p.datafield,p.columntype,!r))return!1;n=i.getrowdata(D.rowindex);return i._raiseEvent(17,{rowindex:D.rowindex,row:n,datafield:D.datafield,value:!r,columntype:"checkbox"}),i.pushToHistory=!0,i.setcellvalue(D.rowindex,D.datafield,r,!0),i.pushToHistory=!1,i._raiseEvent(18,{rowindex:D.rowindex,row:n,datafield:D.datafield,oldvalue:!r,value:r,columntype:"checkbox"}),!1}}return!0},begincelledit:function(t,i,s,r,n){var o=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=o.columntype&&"button"!=o.columntype&&!o.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(o.displayfield)>=0)return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var a="checkbox"==o.columntype||"button"==o.columntype||o.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),o.editable){if(o.cellbeginedit){var l=this.getcell(t,i);if(0==o.cellbeginedit(t,i,o.columntype,null!=l?l.value:null))return}var d=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=d,!this.editcell.editing)){if(a||(this.editcell.editing=!0),this.editcell.columntype=o.columntype,this.editcell.defaultvalue=s,null!=o.defaultvalue&&(this.editcell.defaultvalue=o.defaultvalue),this.editcell.init=!0,"checkbox"!=o.columntype&&"selectedrow"!=this.editmode){var h=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:h,datafield:o.datafield,value:this.editcell.value,columntype:o.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!a){var c=this.getrowvisibleindex(t);if(!1!==r&&!this.autorowheight&&0===this.groups.length)this.ensurecellvisible(c,o.datafield);!1!==n&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return void(this.editchar="");this.editchar="",this.editcell.editor=null,this.editcell.editing=!1,!1!==n&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return this._py;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(t,i,s,r,n){if(null!=t&&null!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),null==s&&(s=!0)),this.editcell){var o=this.getcolumn(i),a=this;if("selectedrow"!==a.editmode){var l=function(){if(0!=n){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==o.columntype||"button"==o.columntype||o.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d,h=this._geteditorvalue(o),c=function(e){if(e._hidecelleditor(),o.cellendedit&&o.cellendedit(t,i,o.columntype,e.editcell.value,h),e.editchar=null,o.displayfield!=o.datafield){var s=e.getcellvalue(e.editcell.row,o.displayfield);({value:e.editcell.value,label:s})}else e.editcell.value;var n=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:n,datafield:i,displayfield:o.displayfield,oldvalue:h,value:h,columntype:o.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(r||null==r)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(s)return c(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),o.cellvaluechanging){var u=o.cellvaluechanging(t,i,o.columntype,this.editcell.value,h);null!=u&&(h=u)}if(o.validation){var p=this.getcell(t,i);try{var m=o.validation(p,h),f=this.gridlocalization.validationstring;if(null!=m.message&&(f=m.message),!("boolean"==typeof m?m:m.result))return null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(e){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(o.displayfield!=o.datafield){var g=this.getcellvalue(this.editcell.row,o.displayfield);d={value:this.editcell.value,label:g}}else d=this.editcell.value;var v=this.getrowdata(t);if(o.cellendedit)if(0==o.cellendedit(t,i,o.columntype,this.editcell.value,h))return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:o.displayfield,oldvalue:d,value:d,columntype:o.columntype}),c(this),!1;return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:o.displayfield,oldvalue:d,value:h,columntype:o.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.setcellvalue(t,i,h,r),this.pushToHistory=!1,this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(t,s)}},beginrowedit:function(t){var i=this;if(null!=t){i._oldselectedrow=t,this._cellscache=new Array;var s=!1;if("selectedrow"!=this.editmode&&(s=!0),s){var r=this.editmode;this.editmode="selectedrow"}var n=null;this._currentEditableColumn&&(n=this.getcolumnat(this._currentEditableColumn).datafield),e.each(this.columns.records,function(e,s){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;n||(n=this.datafield);var r=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var o=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:o,datafield:this.datafield,value:r.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),s&&(this.editmode=r),n&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[n]){var e=i.editcell[n].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)}},endrowedit:function(t,i){var s=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var n=this.editmode;this.editmode="selectedrow"}var o=!1,a={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){if((y=this.columns.records[l]).editable&&(!y.hidden&&"checkbox"!=y.columntype&&!y.createwidget)){var d=this._geteditorvalue(y),h=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,y.displayfield);(y.cellendedit&&y.cellendedit(t,p,y.columntype,i,d),e.editchar=null,y.displayfield!=y.datafield)&&e.getcellvalue(e.editcell.row,y.displayfield);var s=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:s,datafield:p,displayfield:y.displayfield,oldvalue:i,value:i,columntype:y.columntype}),e.editcell.editing=!1};if(i)h(this);else{if(y.cellvaluechanging){var c=this.getcellvalue(this.editcell.row,y.displayfield),u=y.cellvaluechanging(t,p,y.columntype,c,d);null!=u&&(d=u)}var p=y.datafield;if(y.validation){var m=this.getcell(t,y.datafield);try{var f=y.validation(m,d),g=this.gridlocalization.validationstring;if(null!=f.message&&(g=f.message),!(j="boolean"==typeof f?f:f.result)){null!=f.showmessage&&1!=f.showmessage||this._showvalidationpopup(t,p,g),o=!0,this.editcell[y.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(t,p,this.gridlocalization.validationstring),this.editcell[y.datafield].validated=!1,o=!0;continue}}if(y.displayfield!=y.datafield){var v=this.getcellvalue(this.editcell.row,y.displayfield);c={value:this.editcell.value,label:v}}else c=this.getcellvalue(this.editcell.row,y.displayfield);a[y.datafield]={newvalue:d,oldvalue:c}}}}var x={},w={};if(!o){this._hidecelleditor(!1);for(l=0;l<this.columns.records.length;l++){var y;p=(y=this.columns.records[l]).datafield;if(!y.hidden&&y.editable){var b=this.getrowdata(t);if(!y.createwidget)if("checkbox"!=y.columntype){if(a[y.datafield]){d=a[y.datafield].newvalue,c=a[y.datafield].oldvalue;if(y.cellendedit)if(0==y.cellendedit(t,p,y.columntype,c,d)){this._raiseEvent(18,{rowindex:t,row:b,datafield:p,displayfield:y.displayfield,oldvalue:c,value:c,columntype:y.columntype}),h(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:b,datafield:y.datafield,displayfield:y.displayfield,oldvalue:c,value:d,columntype:y.columntype}),x[y.datafield]=d,w[y.datafield]=c}}else{var d=this.getcellvalue(t,y.displayfield);this._raiseEvent(18,{rowindex:t,row:b,datafield:y.datafield,displayfield:y.displayfield,oldvalue:d,value:d,columntype:y.columntype})}}}var _=this.getrowid(t);b=this.getrowdata(t);if(e.each(x,function(e,t){if(t&&null!=t.label){var i=s.getcolumn(e);b[i.displayfield]=t.label,b[i.datafield]=t.value}else b[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.source.updaterow&&!i){s=this;var j=function(i){var r=s.source.updaterow;s.source.updaterow=null,0==i?(e.each(w,function(e,t){if(t&&null!=t.label){var i=s.getcolumn(e);b[i.displayfield]=t.label,b[i.datafield]=t.value}else b[e]=t}),s.updaterow(_,b)):s.updaterow(_,b);for(var n=0;n<s.columns.records.length;n++){var o=s.columns.records[n];o.datafield;s._raiseEvent(18,{rowindex:t,datafield:o.datafield,row:b,displayfield:o.displayfield,oldvalue:w[o.datafield],value:b[o.displayfield],columntype:o.columntype})}s.source.updaterow=r};try{null==this.source.updaterow(_,b,j)&&!0}catch(e){return void!1}}else i||this.updaterow(_,b),this._renderrows(this.virtualsizeinfo)}return this.pushToHistory=!1,r&&(this.editmode=n),o},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var s=i[0].createTextRange();s.collapse(!0),s.moveEnd("character",t),s.moveStart("character",e),s.select()}},findRecordIndex:function(e,t,i){i=i;if(t)for(var s=i.length,r=0;r<s;r++){if(e==i[r].label)return r}return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,s){var r=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var n=t.editors["dropdownlist_"+r];n&&(n.jqxDropDownList("destroy"),t.editors["dropdownlist_"+r]=null);break;case"combobox":var o=t.editors["combobox_"+r];o&&(o.jqxComboBox("destroy"),t.editors["combobox_"+r]=null);break;case"datetimeinput":var a=t.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+r]=null);break;case"numberinput":var l=t.editors["numberinput_"+r];l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+r]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+r]&&(t.destroyeditor(t.editors["templateeditor_"+r]),t.editors["templateeditor_"+r]=null),t.destroyeditor)for(var d=t.getrows.length(),h=0;h<d;h++)t.editors["customeditor_"+r+"_"+h]&&(t.destroyeditor(t.editors["customeditor_"+r+"_"+h],h),t.editors["customeditor_"+r+"_"+h]=null);break;case"textbox":default:var c=t.editors["textboxeditor_"+r];c&&(t.removeHandler(c,"keydown"),t.editors["textbox_"+r]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,s,r,n){if(null!=s&&null!=this.editcell)if("checkbox"==i.columntype&&i.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=s);else{null==n&&(n=!0),"selectedrow"==this.editmode&&(this.editchar="",n=!1);var o=i.datafield,a=e(s),l=this,d=this.editcell.editor,h=this.getcellvalue(t,o),c=this.getcelltext(t,o),u=this.hScrollInstance.value,p=parseInt(u);this.columns.records.indexOf(i);if(this.editcell.element=s,0==this.editcell.validated){var m="";this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(t,o,m)}var f=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||n&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){s.innerHTML="";var g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var x=this.editors["dropdownlist_"+g];if((d=null==x?e("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):x).css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==x){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+g;var w=null;if(!!this.source._source){var y={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};w=new e.jqx.dataAdapter(y,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else w=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});var b=!i.createeditor;d.jqxDropDownList({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:b,theme:this.theme,width:a.width(),height:a.height(),displayMember:v,valueMember:o}),this.editors["dropdownlist_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxDropDownList({width:a.width()});var _=d.jqxDropDownList("listBox").visibleItems;i.createeditor||(_.length<8?d.jqxDropDownList("autoDropDownHeight",!0):d.jqxDropDownList("autoDropDownHeight",!1));h=this.getcellvalue(t,v);var j=this.findRecordIndex(h,v,_);if(r&&(""!=h?d.jqxDropDownList("selectIndex",j,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),n&&d.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){s.innerHTML="";g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var q=this.editors["combobox_"+g];if((d=null==q?e("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):q).css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==q){d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+g;w=null;if(!!this.source._source){y={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};w=new e.jqx.dataAdapter(y,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else w=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});b=!i.createeditor;d.jqxComboBox({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:b,theme:this.theme,width:a.width(),height:a.height(),displayMember:v,valueMember:o}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxComboBox({width:a.width()-2});_=d.jqxComboBox("listBox").visibleItems;i.createeditor||(_.length<8?d.jqxComboBox("autoDropDownHeight",!0):d.jqxComboBox("autoDropDownHeight",!1));h=this.getcellvalue(t,v),j=this.findRecordIndex(h,v,_);if(r&&(""!=h?(d.jqxComboBox("selectIndex",j,!0),d.jqxComboBox("val",h)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",h))),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),n&&setTimeout(function(){if(f(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),l.editchar)d.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val();d.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var T=this.editors["datetimeinput_"+g];if((d=null==T?e("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):T).show(),d.css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==T){d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+g;var C={calendar:this.gridlocalization};d.jqxDateTimeInput({hint:!1,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:C,_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxDateTimeInput({width:a.width()}),r){if(""!=h&&null!=h){var S=new Date(h);"Invalid Date"==S&&this.source.getvaluebytype&&(S=this.source.getvaluebytype(h,{name:i.datafield,type:"date"})),d.jqxDateTimeInput("setDate",S)}else d.jqxDateTimeInput("setDate",null);null!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(n){var k=this.editEvent;setTimeout(function(){f(d.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(d.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar);if(!isNaN(e)&&k){var t=k.charCode?k.charCode:k.keyCode?k.keyCode:0;d.jqxDateTimeInput("_handleKeyPress",k,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var I=this.editors["numberinput_"+g];if((d=null==I?e("<div style='border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):I).show(),d.css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==I){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+g;var D="",P="left",A=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(D=this.gridlocalization.currencysymbol,P="before"==(P=this.gridlocalization.currencysymbolposition)?"left":"right",i.cellsformat.length>1&&(A=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(D=this.gridlocalization.percentsymbol,P="right",i.cellsformat.length>1&&(A=parseInt(i.cellsformat.substring(1),10))):A=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:A,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),spinButtons:!0,symbol:D,symbolPosition:P}),this.editors["numberinput_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxNumberInput({width:a.width()}),r){if(""!=h&&null!=h){var M=h;d.jqxNumberInput("setDecimal",M)}else d.jqxNumberInput("setDecimal",0);if(null!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var H=parseInt(this.editchar);isNaN(H)||d.jqxNumberInput("setDecimal",H)}n&&setTimeout(function(){if(f(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0&&i.cellsformat.indexOf("c")>=0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{if(d.jqxNumberInput("spinButtons")){var e=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],e.length,e.length)}else{e=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],0,e.length)}d.jqxNumberInput("selectAll")}},10)}}break;case"rating":if(this.host.jqxRating){s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var B=this.editors["rating_"+g];if((d=null==B?e("<div style='margin: 5px;white-space: nowrap; overflow: auto; border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='ratingEditor'></div>"):B).show(),d.css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==B&&(d.prependTo(this.table),d[0].id="ratingEditor"+this.element.id+g,d.jqxRating({theme:this.theme,width:a.width(),height:a.height()}),this.editors["numberinput_"+g]=d,i.createeditor&&i.createeditor(t,h,d)),i._requirewidthupdate&&d.jqxRating({width:a.width()}),r){if(""!=h&&null!=h){M=h;d.jqxRating("val",M)}else d.jqxRating("val",0);null!=this.editcell.defaultvalue&&d.jqxRating("val",this.editcell.defaultvalue)}}break;case"custom":s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var z=this.editors["customeditor_"+g+"_"+t];if((d=null==z?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):z).show(),d.css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==z){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+g+"_"+t,this.editors["customeditor_"+g+"_"+t]=d;var E=a.width()-1,L=a.height()-1;d.width(E),d.height(L),i.createeditor&&i.createeditor(t,h,d,c,E,L,this.editchar)}i._requirewidthupdate&&d.width(a.width());break;case"template":s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var N=this.editors["templateeditor_"+g];if((d=null==N?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):N).show(),d.css("top",e(s).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(s).position().left)):d.css("left",parseInt(e(s).position().left)),i.pinned&&d.css("left",p+parseInt(e(s).position().left)),null==N){d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+g,this.editors["templateeditor_"+g]=d;E=a.width()-1,L=a.height()-1;d.width(E),d.height(L),i.createeditor&&i.createeditor(t,h,d,c,E,L,this.editchar)}i._requirewidthupdate&&d.width(a.width());break;case"textbox":default:s.innerHTML="",(d=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' style='padding-left: 4px; padding-right:4px; border: none; border-color: transparent;' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+i.datafield,d.appendTo(a),this.rtl&&d.css("direction","rtl"),(r||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=i.cellsformat&&(h=this.getcelltext(t,o)),null==h&&(h=""),d.val(h)),null!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(a.width()+1),d.height(a.height()+1),i.createeditor&&i.createeditor(t,h,d),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||d.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,s=String.fromCharCode(t),r=parseInt(s);if(isNaN(r))return!0;if(l._selection(d).length>0)return!0;var n="",o=d.val();if(i.cellsformat.length>1){var a=parseInt(i.cellsformat.substring(1));isNaN(a)&&(a=0)}else a=0;if(a>0&&-1!=o.indexOf(l.gridlocalization.decimalseparator)&&l._selection(d).start>o.indexOf(l.gridlocalization.decimalseparator))return!0;for(var h=0;h<o.length-a;h++){var c=o.substring(h,h+1);null!=c.match(/^[0-9]+$/)&&(n+=c)}return!(n.length>=11)&&void 0}))),this.editors["textboxeditor_"+i.datafield]=d,r&&n&&setTimeout(function(){f(d),l.editchar?(l._setSelection(d[0],1,1),l.editchar=null):l._setSelection(d[0],0,d.val().length)},25)}d&&(d.addClass("jqx-grid-cell-edit"),d[0].style.zIndex=1+parseInt(s.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+s.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[o]?this.editcell[o].editor=d:(this.editcell[o]={},this.editcell[o].editor=d)),r&&i.initeditor&&i.initeditor(t,h,d,c,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var s=e.createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(this.editcell[s.datafield]&&this.editcell[s.datafield].editor){this.editcell[s.datafield].editor.hide();var r=this.editcell[s.datafield].editor;switch(s.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;var s=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])s=this.editcell[t.datafield].editor;if(s){switch(t.columntype){case"textbox":default:if(i=s.val(),""!=t.cellsformat){var r="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(n){var o="";e.each(n,function(){if(this.name==t.displayfield)return this.type&&(o=this.type),!1}),o&&(r=o)}var a="date"===r||"time"===r;if("number"===r||"float"===r||"int"===r||"integer"===r||"string"===r&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf&&i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var l=i;if(l=new Number(l),!isNaN(l))return l;(i=(i=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(i,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var d="",h=0;h<i.length;h++){var c=i.substring(h,h+1);"-"===c&&(d+="-"),"."===c&&(d+="."),null!=c.match(/^[0-9]+$/)&&(d+=c)}i=(i=d).replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(a||"string"===r&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var u=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(u,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":s.jqxCheckBox&&(i=s.jqxCheckBox("checked"));break;case"datetimeinput":if(s.jqxDateTimeInput){if(s.jqxDateTimeInput({isEditing:!1}),"none"!==s.jqxDateTimeInput("container").css("display")&&s.jqxDateTimeInput("close"),s.jqxDateTimeInput("_validateValue"),null==(i=s.jqxDateTimeInput("getDate")))return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(s.jqxDropDownList){var p=s.jqxDropDownList("selectedIndex"),m=s.jqxDropDownList("listBox").getVisibleItem(p);null==(i=t.displayfield!=t.datafield?m?{label:m.label,value:m.value}:"":m?m.label:"")&&(i="")}break;case"combobox":if(s.jqxComboBox){if(i=s.jqxComboBox("val"),t.displayfield!=t.datafield)null!=(m=s.jqxComboBox("getSelectedItem"))&&(i={label:m.label,value:m.value});null==i&&(i="")}break;case"numberinput":if(s.jqxNumberInput){this.touchdevice&&s.jqxNumberInput("_doTouchHandling");var f=s.jqxNumberInput("getDecimal");i=new Number(f),i=parseFloat(i),isNaN(i)&&(i=0),null===f&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),s):t.geteditorvalue(this.editcell.row,this.editcell.value,s))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,s){if(null==s)s=this.gridlocalization.validationstring;var r=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),n=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");r.html(s),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.prependTo(this.table),n.prependTo(this.table);for(var o=this.hScrollInstance.value,a=parseInt(o),l=this.getcolumn(i).uielement,d=null,h=0;h<this.hittestinfo.length;h++)t===this.hittestinfo[h].row.visibleindex&&(d=this.hittestinfo[h]);if(!d){this.ensurerowvisible(t);var c=this;return r.remove(),n.remove(),void setTimeout(function(){for(var e=null,r=0;r<c.hittestinfo.length;r++)t===c.hittestinfo[r].row.visibleindex&&(e=c.hittestinfo[r]);e&&c.showvalidationpopup(t,i,s)},25)}var u=e(d.visualrow);r.css("top",parseInt(u.position().top)+30+"px");var p=parseInt(r.css("top"));n.css("top",p-12),n.removeClass(),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=!1;p>=this._gettableheight()-this.rowsheight&&(n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(p=parseInt(u.position().top)-this.rowsheight)<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),r.css("top",p+"px"),n.css("top",p+r.outerHeight()-9));var f=-a+parseInt(e(l).position().left);0===l[0].offsetHeight&&(f=-a+parseInt(l[0].style.left)),n.css("left",a+f+30);var g=r.width();g+f>this.host.width()-20&&(f-=g+f-this.host.width()+40);m?r.css("left",a+parseInt(e(l).position().left)-r.outerWidth()):r.css("left",a+f),r.show(),n.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:n}},_showvalidationpopup:function(t,i,s){var r=this.editcell,n=this.editcell.editor;"selectedrow"==this.editmode&&((r=this.editcell[i])&&r.editor&&(n=r.editor,r.element=n));if(n&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===s&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(s);else{var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(s),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.prependTo(this.table),a.prependTo(this.table),this.validationpopup=o,this.validationpopuparrow=a}var l=this.hScrollInstance.value,d=parseInt(l);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.element).parent().position().top)+(this.rowsheight+5)+"px");var h=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",h-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var c=!1;h>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=parseInt(e(r.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(h=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(r.editor).position().top)-this.rowsheight-5),h<0&&(h=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=!0),this.validationpopup.css("top",h+"px"),this.validationpopuparrow.css("top",h+this.validationpopup.outerHeight()-9));var u=-d+parseInt(e(r.element).position().left);this.validationpopuparrow.css("left",d+u+30);var p=this.validationpopup.width();if(p+u>this.host.width()-20)u-=p+u-this.host.width()+40;c?this.validationpopup.css("left",d+parseInt(e(r.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",d+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var s=this.that,r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),i=null==i?0:parseInt(i);var n=r.length;if(null==n&&null!=r){var o=new Array;e.each(r,function(e){o.push(this)}),n=(r=o).length}var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=[],d=[],h=[],c=[],u=s.host.width();"hidden"!=s.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0);for(var p=0;p<n;p++)for(var m=r[p],f=0;f<this.columns.records.length;f++){if(!(q=this.columns.records[f]).hidden&&!(this.groups.length>0&&f<=this.groups.length-1)){null==d[q.displayfield]&&(d[q.displayfield]=0),null==h[q.displayfield]&&(h[q.displayfield]="");var g=m[q.displayfield];if(""!=q.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(g)?g=e.jqx.dataFormat.formatdate(g,q.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(g)&&(g=e.jqx.dataFormat.formatnumber(g,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var v=s._defaultcellsrenderer(g,q),x=q.cellsrenderer(p,q.datafield,g,v,q.getcolumnproperties(),m);null!=x&&(g=e(x).text())}if((null==t||"cells"==t||"all"==t)&&null!=g){l=g.toString().length;var w=g.toString().replace(/[^A-Z]/g,"").length;if(l>d[q.displayfield]&&(d[q.displayfield]=l,h[q.displayfield]=g,c[q.displayfield]=w),l>0&&l>=w)(y=20*w+15*(l-w))>(b=20*c[q.displayfield]+15*(d[q.displayfield]-c[q.displayfield]))&&y>0&&b>0&&(d[q.displayfield]=l,h[q.displayfield]=g,c[q.displayfield]=w)}if("column"==t||"all"==t){if(q.text.toString().length>d[q.displayfield]){h[q.displayfield]=q.text,d[q.displayfield]=q.text.length;w=q.text.toString().replace(/[^A-Z]/g,"").length;c[q.displayfield]=w}var y,b;l=(g=q.text).toString().length,w=g.toString().replace(/[^A-Z]/g,"").length;if(l>0&&l>=w)(y=20*w+15*(l-w))>(b=20*c[q.displayfield]+15*(d[q.displayfield]-c[q.displayfield]))&&y>0&&b>0&&(d[q.displayfield]=l,h[q.displayfield]=g,c[q.displayfield]=w)}}}if(this.columns.records){for(f=0;f<this.columns.records.length;f++){if((q=this.columns.records[f]).displayfield){null==h[q.displayfield]&&(h[q.displayfield]=q.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[q.displayfield]==q.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=this.escape_HTML(h[q.displayfield].toString());var _=a.outerWidth()+10;if(a.children().length>0&&(_=a.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=10),this.filterable&&this.showfilterrow&&(_+=5),_+=i,(_+=20)>q.maxwidth&&(_=q.maxwidth),null!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||_<=q.maxwidth){var j=q.width;_<q.minwidth&&(_=q.minwidth),q.width=_,null!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:j,newwidth:_})}}}a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(f=0;f<this.columns.records.length;f++){var q;null!=(q=this.columns.records[f]).__width&&(q._width=q.__width)}}},autoresizecolumn:function(t,i,s){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),null==t)return!1;var r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records));var n=this.getcolumn(t);if(null==n)return!1;s=null==s?0:parseInt(s);var o=r.length,a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=0,d="",h=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0),null==i||"cells"==i||"all"==i)for(var p=0;p<o;p++){var m=r[p][n.displayfield];if(""!=n.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(m)?m=e.jqx.dataFormat.formatdate(m,n.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(m)&&(m=e.jqx.dataFormat.formatnumber(m,n.cellsformat,this.gridlocalization)));else if(n.cellsrenderer){var f=n.cellsrenderer(p,n,m);null!=f&&(m=e(f).text())}if(null!=m){var g=m.toString().length,v=m.toString().replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,d=m,h=v),g>0&&g>=v)(x=20*v+15*(g-v))>(w=20*h+15*(l-h))&&x>0&&w>0&&(l=g,d=m,h=v)}}if("column"==i||"all"==i){n.text.toString().length>l&&(d=n.text);var x,w;g=(m=n.text.toString()).toString().length,v=m.toString().replace(/[^A-Z]/g,"").length;if(g>0&&g>=v)(x=20*v+15*(g-v))>(w=20*h+15*(l-h))&&x>0&&w>0&&(l=g,d=m,h=v)}null==d&&(d=n.text),a[0].innerHTML=this.escape_HTML(d),d==n.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var y=a.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=5),this.filterable&&this.showfilterrow&&(y+=5),y+=s,a.remove(),y>n.maxwidth&&(y=n.maxwidth),"auto"==n.maxwidth||y<=n.maxwidth){var b=n.width;y<n.minwidth&&(y=n.minwidth),n.width=y,null!=n._width&&(n.__width=n._width),n._width=null,null!=n._percentagewidth&&(n._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:n.text,column:n.getcolumnproperties(),datafield:t,displayfield:n.displayfield,oldwidth:b,newwidth:y}),this._renderrows(this.virtualsizeinfo),null!=n._width&&(n._width=n.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&!0!==t.touchmode&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=s.pageX;if(i)d=t.getTouches(s)[0].pageX;o+=a;var h=l>0?n+l:0,c=0==l||t._startcolumnwidth+d-n<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=o&&(0!=h&&s.pageX<h?t.resizeline.css("left",d):0==h&&t.resizeline.css("left",d),i))return!1}return!(!i&&null!=t.resizablecolumn)&&void 0}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var r=t.resizablecolumn.column;if(r.resizable){t.resizablecolumn.column.width;var n=t.hScrollBar[0].style.visibility;return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(r.displayfield,"all"),n!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var o=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var a=function(e){t.rtl?e.css("left",parseInt(o.left)):e.css("left",parseInt(o.left)+t._startcolumnwidth);var i=t._groupsheader()?t.groupsheader.height():0;i+=t.showtoolbar?t.toolbarheight:0,i+=t.showstatusbar?t.statusbarheight:0;var s=0;t.pageable&&(s=t.pagerheight);var r="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(o.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-r-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-s-i-r),t.enableanimations?e.show("fast"):e.show()};a(t.resizeline),a(t.resizestartline),t.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)n=t._startcolumnwidth-s+r;var o=t._resizecolumn.width;t._closemenu(),n<t._resizecolumn.minwidth&&(n=t._resizecolumn.minwidth),t._resizecolumn.width=n,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var a=0;a<t._columns.length;a++)if(t._columns[a].datafield===t._resizecolumn.datafield){t._columns[a].width=t._resizecolumn.width,t._columns[a].width<t._resizecolumn.minwidth&&(t._columns[a].width=t._resizecolumn.minwidth);break}var l=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:o,newwidth:n}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),l!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;o()})}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var t=this.getcolumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,s){if(!((u=this.getcolumn(t)).pinned||u.hidden||u.checkboxcolumn||u.grouped)){var r=this.columns.records.indexOf(u);this.columns.records.splice(r,1),this.columns.records.splice(i,0,u);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();var a=this.toThemeProperty("jqx-grid-cell");a+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(e(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var l=this,d=null;if(null!=l.filterrow)d=e(l.filterrow.children()[0]);this.columnsrow[0].cells=[];var h=!1;if(e.each(this.columns.records,function(t,i){var s=this.uielement;l.columnsrow.append(s),l.rtl?s.css("z-index",o++):s.css("z-index",o--);var r=this.width;if(s.css("left",n),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=s[0],l.filterrow){var c=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>');d.append(c),c.css("left",n),c.css("z-index",o+1),c.width(this.width),c[0].left=n,c.append(this._filterwidget),l.filterrow[0].cells[l.filterrow[0].cells.length]=c[0]}this.hidden&&(h=!0),this.hidden&&this.hideable||(n+=r)}),this.groupable){var c=this.groups.length;c>0&&r-c>=0&&(r-=c,i-=c)}this.rowdetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionmode&&r-1>=0&&(r--,i--);var u=this._columns[r];this._columns.splice(r,1),this._columns.splice(i,0,u),this._raiseEvent(24,{columntext:u.text,datafield:u.datafield,oldindex:r,newindex:i}),0!=s&&(h||"checkbox"==u.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),"checkbox"==this.selectionmode&&t++,t},_handlecolumnsreorder:function(){var t=this,i=-1,s=!1;if(t.columnsreorder){var r="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(e){if(t.resizing)return!0;if(null!=t.reordercolumn){var r=parseInt(e.pageX),n=parseInt(e.pageY);if(a){var o=t.getTouches(e)[0];null!=o&&(r=parseInt(o.pageX),n=parseInt(o.pageY))}var l=t.host.coord(),d=parseInt(l.left),h=parseInt(l.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var c=parseInt(r)-parseInt(t.dragmousedownoffset.left),u=parseInt(n)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:c+"px",top:u+"px"}),s=!1,r>=d&&r<=d+t.host.width()&&n>=h&&n<=h+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var p=t.columnsheader.coord(),m=p.top+t.columnsheader.height();null!=t.columnsdropline&&(n>=p.top&&n<=m?i=t._handlereordercolumnsdroplines(r):t.columnsdropline.fadeOut("slow"))}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(a)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarheight),t.groupable&&t.showgroupsheader&&(r+=t.groupsheaderheight);var n=0;e.each(t.columns.records,function(i){var o=this;if(o.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:0,height:2+t.rowsheight},!0;0==n&&(s=t.rtl?"hidden"!=t.hScrollBar.css("visibility")?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:"hidden"==t.vScrollBar.css("visibility")?e(o.element).coord().left:e(o.element).coord().left-t.vScrollBar.width()-t.host.offset().left:parseInt(t.host.coord().left)-t.hScrollInstance.value),n++;var a=2+t.columnsheight;t.columnshierarchy&&(r=e(o.uielement).coord().top,a=e(o.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:o.width,height:a},s+=o.width})}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(a){var n=t.getTouches(r)[0];parseInt(n.pageX),parseInt(n.pageY)}var o=t.host.coord();parseInt(o.left),parseInt(o.top),t.groupsheader.height();if(t.showtoolbar&&t.toolbarheight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),d=t.columns.records.indexOf(t.getcolumn(l));t.reordercolumn.remove(),t.reordercolumn=null;var h=0;if(h+=t._pinnedColumnsLength(),null!=l){if(s&&-1!=i){var c=i.index;if(c>=h){var u=t.columns.records[c];if(null!=u){var p=t.columns.records.indexOf(t.getcolumn(u.datafield));if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columngroups){var m=u;if(d<p&&"before"==i.position&&(m=t.columns.records[p-1]),m.columngroup!=t.getcolumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}d<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):d>p&&t.setcolumnindex(l,p),t.autosavestate&&t.savestate&&t.savestate()}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(t,i,s){var r=this,n=i;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=e("<div></div>");var o=t.clone();r.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();o.width(t.width()+16),r.reordercolumn.append(o),r.reordercolumn.height(t.height()),r.reordercolumn.width(o.width()),r.reordercolumn.append(r.reordercolumnicon),e(document.body).append(r.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.reordercolumn.css("left",n.left+r.dragmousedown.left),r.reordercolumn.css("top",n.top+r.dragmousedown.top),null!=s&&s&&(r.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.width(2),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var n=i.pageX,o=i.pageY;if(r){var a=s.getTouches(i)[0];n=a.pageX,o=a.pageY}s.dragmousedown={left:n,top:o};var l=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(n)-parseInt(l.left),top:parseInt(o-l.top)},!0}),this.addHandler(i,o,function(n){if(!t.draggable)return!0;if(null==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var d=s.getTouches(n)[0];null!=d&&(a=d.pageX,l=d.pageY)}if(o={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var h=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(h>3||c>3)&&(s._createreordercolumn(i,o,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,this.selectedcells=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var s=t[i];if(s){var r=this.getboundindex(s);null!=r&&(this.selectedrowindexes[i]=r);for(var n=0;n<this.columns.records.length;n++)this.selectedcells[r+"_"+this.columns.records[n].datafield]=!0}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){"none"!==this.selectionmode&&(this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection())},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});for(i=0;i<this.columns.records.length;i++)this.columns.records[i].selected=!1,this.columns.records[i]._applyStyle();!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(var t in this.selectedcells)e[e.length]=this.selectedcells[t];return e},getselection:function(){return{cells:this.getselectedcells(),rows:this.getselectedrowindexes()}},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var s=t[i],r=0;r<this.columns.records.length;r++)if("_checkboxcolumn"!==this.columns.records[r].datafield){this.columns.records[r].datafield;var n={rowindex:s,datafield:this.columns.records[r].datafield};e.push(n)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var s=t[i],r=e.getcolumn(s.datafield),n=e.getcellvalue(s.rowindex,s.datafield);if(r&&""!==n){var o=null;"checkbox"==r.columntype&&(r.threestatecheckbox||(o=!1)),e._raiseEvent(17,{rowindex:s.rowindex,datafield:s.datafield,value:n}),i==t.length-1?(e.setcellvalue(s.rowindex,s.datafield,o,!0),r.displayfield!=r.datafield&&e.setcellvalue(s.rowindex,r.displayfield,o,!0)):(e.setcellvalue(s.rowindex,s.datafield,o,!1),r.displayfield!=r.datafield&&e.setcellvalue(s.rowindex,r.displayfield,o,!0)),e._raiseEvent(18,{rowindex:s.rowindex,datafield:s.datafield,oldvalue:n,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var s=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(s=this._getcellsforcopypaste());var r=new Array;if(null!=s&&s.length>0){for(var n=999999999999999,o=-1,a=0;a<s.length;a++){var l=s[a],d=i.getcolumn(l.datafield);if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==r.indexOf(d.text)&&r.push(d.text);var h=i.getcelltext(l.rowindex,d.displayfield),c=this.getrowdisplayindex(l.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][d.displayfield]=h,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][d.displayfield]=h,d.displayfield!=d.datafield&&(this.logicalclipboardselection[c][d.datafield]=i.getcellvalue(l.rowindex,d.datafield)),n=Math.min(n,c),o=Math.max(o,c)}}for(var u=new Array,p=n;p<=o;p++)if(this.logicalclipboardselection[p]){var m=e.extend({},this.logicalclipboardselection[p]);u.push(m)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var f=0;f<r.length;f++)f>0&&(t+="\t"),t+=r[f];t+="\r\n"}for(p=n;p<=o;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,s){g>0&&(t+="\t");var r=s;null==s&&(r=""),i._clipboardselection[i._clipboardselection.length-1][g]=r,g++,t+=r}),p<o&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),s=e[0].datafield,r=this._getcolumnindex(s);this.selectedrowindexes=new Array,this.selectedcells=new Array;e.length;var n=0,o=new Array,a=[];this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1),this._clipboardselection||(this._clipboardselection=[]);for(var l=0;l<this._clipboardselection.length;l++){n+=this._clipboardselection[l].length,o[l]=new Array;for(var d=0;d<this._clipboardselection[l].length;d++){var h=this._clipboardselection[l][d];o[l].push(h)}}if(n<e.length){var c=new Array;for(l=0;l<e.length;l++){c[(y=e[l]).rowindex]||(c[y.rowindex]=new Array),c[y.rowindex].push(y)}var u=0,p=0;for(l=0;l<c.length;l++)if(c[l]){for(d=0;d<c[l].length;d++){var m=(y=c[l][d]).rowindex;if("_checkboxcolumn"!==(w=this.getcolumn(y.datafield)).datafield&&!w.hidden){h="";if(null==o[u][p]&&(p=0),h=""+o[u][p],p++,w.cellsformat&&(-1!=w.cellsformat.indexOf("p")||-1!=w.cellsformat.indexOf("c")||-1!=w.cellsformat.indexOf("n")||-1!=w.cellsformat.indexOf("f"))){h.indexOf&&h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,"")),(h=(h=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(h,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var f="",g=0;g<h.length;g++){"-"===(b=h.substring(g,g+1))&&(f+="-"),"."===b&&(f+="."),null!=b.match(/^[0-9]+$/)&&(f+=b)}h=(h=f).replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}this._raiseEvent(17,{rowindex:m,datafield:y.datafield,value:h});var v=this.getrowdata(m);if(a.push({oldvalue:v[y.datafield],value:h,datafield:y.datafield,row:m}),this.pushToHistory=!0,this.setcellvalue(m,w.displayfield,h,!1),this.pushToHistory=!1,w.displayfield!=w.datafield&&this.logicalclipboardselection)if(this.logicalclipboardselection[m])null!=(_=this.logicalclipboardselection[m][w.datafield])&&this.setcellvalue(m,w.datafield,_,!1);this._raiseEvent(18,{rowindex:m,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:h}),this._applycellselection(m,y.datafield,!0,!1)}}p=0,o[++u]||(u=0)}}else{if(!this._clipboardselection)return;for(v=0;v<this._clipboardselection.length;v++)for(var x=0;x<this._clipboardselection[v].length;x++){var w;if((w=this.getcolumnat(r+x))&&("_checkboxcolumn"!==w.datafield&&!w.hidden)){m=this.getrowboundindex(i+v);var y=this.getcell(m,w.datafield);h=null;if(null!=(h=this._clipboardselection[v][x])){if(w.cellsformat&&(-1!=w.cellsformat.indexOf("p")||-1!=w.cellsformat.indexOf("c")||-1!=w.cellsformat.indexOf("n")||-1!=w.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,"")),(h=(h=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(h,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(f="",g=0;g<h.length;g++){var b;"-"===(b=h.substring(g,g+1))&&(f+="-"),"."===b&&(f+="."),null!=b.match(/^[0-9]+$/)&&(f+=b)}h=(h=f).replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}this._raiseEvent(17,{rowindex:m,datafield:y.datafield,value:h});var _,j=this.getrowdata(m);if(a.push({oldvalue:j[y.datafield],value:h,datafield:y.datafield,row:m}),this.pushToHistory=!0,this.setcellvalue(m,w.displayfield,h,!1),this.pushToHistory=!1,w.displayfield!=w.datafield&&this.logicalclipboardselection)null!=(_=this.logicalclipboardselection[v][w.datafield])&&this.setcellvalue(m,w.datafield,_,!1);this._raiseEvent(18,{rowindex:m,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:h}),this._applycellselection(m,y.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this._undoRedo.push({action:"paste",data:a}),this._undoRedoIndex=-1,this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,s,r){if(null==e)return!1;var n=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:n}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==s&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var o=this.getrowdata(e);o&&void 0!==o.dataindex?e=o.dataindex:o&&void 0===o.dataindex&&null!=o.uid&&(e=this.getrowboundindexbyid(o.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(t,i,s,r,n){if(null==t)return!1;if(null==i)return!1;this._autofill&&(this._autofill.remove(),e(document).off("pointermove.autofill"),e(document).off("pointerup.autofill"),this._autofill=null);var o;this.selectedrowindex;"singlecell"==this.selectionmode&&(null!=(o=this.selectedcell)&&this._raiseEvent(16,{rowindex:o.rowindex,datafield:o.datafield}),this.selectedcells=new Array);"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(o=this.selectedcell)&&this._raiseEvent(16,{rowindex:o.rowindex,datafield:o.datafield});var a=t+"_"+i;if(this.dataview.filters.length>0){var l=this.getrowdata(t);if(l&&void 0!==l.dataindex)a=(t=l.dataindex)+"_"+i;else if(l&&void 0===l.dataindex&&l.uid)a=(t=this.getrowboundindexbyid(l.uid))+"_"+i}var d={rowindex:t,datafield:i};if(s){var h=this.selectedcell;if(this.selectedcell=d,this.selectedcells[a])"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,!1!==n&&this._raiseEvent(16,d));else{this.selectedcells[a]=d,this.selectedcells.length++;var c=!0;h&&h.datafield===d.datafield&&d.rowindex===h.rowindex&&(c=!1),c&&!1!==n&&this._raiseEvent(15,d)}}else delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,!1!==n&&this._raiseEvent(16,d);return(null==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){if(i++,this[t])return!1}),i},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover")));for(var t=0;t<e.length;t++){var i=e[t].getAttribute("columnindex");if(i){var s=this.columns.records[parseInt(i)];s&&s._applyCellStyle(e[t])}}this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,s=this.toTP("jqx-grid-cell-selected"),r=this.toTP("jqx-fill-state-pressed"),n=this.toTP("jqx-grid-cell-hover"),o=this.toTP("jqx-fill-state-hover"),a=0;a<t;a++)for(var l=i[a],d=l.cells.length,h=l.cells,c=0;c<d;c++){var u=h[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(s),p.removeClass(r)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(n),p.removeClass(o));var m=u.getAttribute("columnindex");if(m){var f=this.columns.records[parseInt(m)];f&&f._applyCellStyle(u)}}},_selectpath:function(e,t){var i=this,s=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(s<=r){var n=this._getcolumnindex(this._lastClickedCell.column||this._lastClickedCell.datafield),o=this._getcolumnindex(t),a=Math.min(n,o),l=Math.max(n,o);this.selectedcells=new Array;for(var d=this.dataview.loadedrecords,h=s;h<=r;h++)for(var c=a;c<=l;c++){e=d[h];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1),{row:i.getboundindex(e),datafield:i._getcolumnat(c).datafield}}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,s=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var r=t;r<=i;r++){e=s[r];var n=this.getrowboundindex(r);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,s,r,n){if(null!=(b=t.row)){var o=t.index;if(null!=this.hittestinfo[o]){for(var a=0;a<this.columns.records.length;a++){var l=this.columns.records[a];l.selected=!1,l.element&&l.element.removeAttribute("selected"),l._applyStyle()}var d=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details){d.cells[0].className;if(!b.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==r)){var h=this.getboundindex(b);if(this.dataview.filters.length>0){var c=this.getrowdata(h);if(c&&null==(h=c.dataindex))h=this.getboundindex(b)}var u=-1!=i.indexOf(h),p=this.getboundindex(b)+"_"+s;if(-1!=this.selectionmode.indexOf("cell")){var m=null!=this.selectedcells[p];if(null!=this.selectedcells[p]&&m?this._selectcellwithstyle(e,!1,o,s,d):this._selectcellwithstyle(e,!0,o,s,d),n&&null==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(b.visibleindex,s),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(u?r?this._applyrowselection(this.getboundindex(b),!1):this._selectrowwithstyle(e,d,!1,s):this._selectrowwithstyle(e,d,!0,s),n&&null==this._lastClickedCell){var g=this.getselectedrowindexes();g&&g.length>0&&(this._lastClickedCell={row:g[0],column:s})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var v=this._lastClickedCell?Math.min(this._lastClickedCell.row,b.visibleindex):0,x=this._lastClickedCell?Math.max(this._lastClickedCell.row,b.visibleindex):0,w=this.dataview.loadedrecords,y=v;y<=x;y++){var b;(b=w[y])&&this._applyrowselection(this.getboundindex(b),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,d,!0,s),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,s,d);n||(this._lastClickedCell={row:b.visibleindex,column:s})}}}}},_selectcellwithstyle:function(t,i,s,r,n){var o=e(n.cells[t._getcolumnindex(r)]);o.removeClass(this.toTP("jqx-grid-cell-hover")),o.removeClass(this.toTP("jqx-fill-state-hover")),i?(o.addClass(this.toTP("jqx-grid-cell-selected")),o.addClass(this.toTP("jqx-fill-state-pressed"))):(o.removeClass(this.toTP("jqx-grid-cell-selected")),o.removeClass(this.toTP("jqx-fill-state-pressed"))),this.getcolumn(r)._applyCellStyle(o)},_selectrowwithstyle:function(t,i,s,r){var n=i.cells.length,o=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(n-=1,n-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?n-=this.groups.length:o=this.groups.length);for(var a=o;a<n;a++){var l=i.cells[a];if(s?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed"))),r=l.getAttribute("columnindex")){var d=this.columns.records[parseInt(r)];d&&d._applyCellStyle(l)}}},_handlemousemoveselection:function(t,i,s){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(t))return!0;var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbar.height():0,n+=this.showfilterbar?this.toolbarheight:0;var o=this.host.coord();if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var a=this._getBodyOffset();o.left-=a.left,o.top-=a.top}"0px"===this.host.css("border-top-width")&&(n-=2);var l=t.pageX,d=t.pageY-n;if(t._pageX&&(l=t._pageX,d=t._pageY-n),Math.abs(this.mousecaptureposition.left-l)>3||Math.abs(this.mousecaptureposition.top-d)>3||i.autofill){parseInt(this.columnsheader.coord().top);this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader).top,l<o.left&&(l=o.left),l>o.left+this.host.width()&&(l=o.left+this.host.width());var h=o.top+r;d<h&&(d=h+5);var c=parseInt(Math.min(i.mousecaptureposition.left,l)),u=-5+parseInt(Math.min(i.mousecaptureposition.top,d)),p=parseFloat(Math.abs(i.mousecaptureposition.left-l)),m=parseInt(Math.abs(i.mousecaptureposition.top-d));if(c-=o.left,u-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var f=(l=c)+p,g=i.hScrollInstance,v=g.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(v=g.max-g.value),this.vScrollBar[0].style.visibility);var x=i.table[0].rows[0],w=0,y=i.mousecaptureposition.clickedcell,b=y,_=!1,j=0,q=x.cells.length;i.mousecaptureposition.left<=t.pageX&&(j=y);for(var T=!1,C=j;C<q;C++){var S=parseFloat(e(this.columnsrow[0].cells[C]).css("left")),k=S-v;if(!i.columns.records[C].pinned||i.columns.records[C].hidden){if(T){_=!0,b--;break}var I=this._getcolumnat(C);if(!(null!=I&&I.hidden||i.groupable&&i.groups.length>0&&C<i.groups.length)){D=k+e(this.columnsrow[0].cells[C]).width();if(i.mousecaptureposition.left>t.pageX){if(D>=l&&l>=k){b=C,_=!0;break}}else if(D>=f&&f>=k){b=C,_=!0;break}}}else{C==y&&(T=!0);var D=S+e(this.columnsrow[0].cells[C]).width();if(i.mousecaptureposition.left>t.pageX){if(D>=l&&l>=k){b=C,_=!0;break}}else if(D>=f&&f>=k){b=C,_=!0;break}}}_||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return!!(i.groupable&&i.groups.length>0&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(b=e,!1))}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(b=x.cells.length-1));var P=y;y=Math.min(y,b),b=Math.max(P,b),u+=5,u+=n;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);var A=0,M=-1,H=-1,B=0;for(C=0;C<i.table[0].rows.length;C++){var z=e(i.table[0].rows[C]);0==C&&(B=z.coord().top);var E=z.height(),L=B-o.top;if(-1==M&&L+E>=u){for(var N=!1,O=0;O<i.groups.length;O++){if(-1!=(R=z[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;M=C}if(B+=E,i.groupable&&i.groups.length>0){for(N=!1,O=0;O<i.groups.length;O++){var R;if(-1!=(R=z[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;w=0;for(var F=i.groups.length;F<z[0].cells.length;F++){var W=z[0].cells[F];""==e(W).html()&&w++}if(w==z[0].cells.length-i.groups.length)continue}if(-1!=M&&(A+=E),L+E>u+m){H=C;break}}if(-1!=M){u=e(i.table[0].rows[M]).coord().top-o.top-n-2;var V=0;this.filterable&&this.showfilterrow&&(V=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&u<this.rowsheight+V&&(u-=parseFloat(i.table[0].style.top),A+=parseFloat(i.table[0].style.top)),m=A;var G=e(this.columnsrow[0].cells[y]),U=e(this.columnsrow[0].cells[b]);if(c=parseFloat(G.css("left")),p=parseFloat(U.css("left"))-parseFloat(c)+U.width()-2,c-=v,T&&(c+=v),i.editcell&&i.editable&&i.endcelledit&&(y!=b||M!=H)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(p),this.selectionarea.css("left",c),null!==s&&(this.selectionarea.css("top",u),this.selectionarea.height(m))}}},_handlemouseupselection:function(t,i,s){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility){if(i._handlemousemoveselection(t,i),!1!==s)if(i.__firstcell){var r=i.getselectedcell();r&&(i.__firstcell.index=i.columns.records.indexOf(i.getcolumn(r.datafield)),i.__firstcell.row=r.row,i.__firstcell.rowindex=r.rowindex),i._handleAutofill(t,i)}else i.__firstcell=i.getselectedcell(),i.__firstcell&&(i.__firstcell.index=i.columns.records.indexOf(i.getcolumn(i.__firstcell.datafield)),i._handleAutofill(t,i));return i.mousecaptured=!1,i.selectionarea[0].style.visibility="hidden",!0}if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)){if(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")){this.selectionarea.css("visibility","hidden");var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(o-=2),o+=this.showtoolbar?this.toolbar.height():0,o+=this.showfilterbar?this.toolbarheight:0;var a=this.selectionarea.coord(),l=this.host.coord();this.hasTransform&&(l=e.jqx.utilities.getOffset(this.host),a=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(o-=2);var d=a.left-l.left,h=a.top-n-l.top-o,c=h,u=d+this.selectionarea.width(),p=d,m=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;h<c+this.selectionarea.height();){var g=(A=this._hittestrow(d,h)).row;-1!=(M=A.index)&&(f[M]||(f[M]=!0,m[m.length]=A)),h+=20}c=0;e.each(m,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==c?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),c++)})}else{var v=null,x=null;"multiplecellsadvanced"==i.selectionmode&&(h+=2);var w=i.hScrollInstance,y=w.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(y=w.max-w.value),"hidden"!=this.vScrollBar[0].style.visibility&&(y-=this.scrollbarsize+4));var b=i.table[0].rows[0],_=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&_>0&&(i.selectedcells=new Array);var j=_,q=(parseInt(this.vScrollInstance.value),parseInt(this.hScrollInstance.value)),T=(this._gettableheight(),null!=this._hostwidth?this._hostwidth:this.host.width()),C=this.groupable&&this.groups.length>0?this.groups.length:0,S=this.columns.records.length-C,k=this.groupable&&this.groups.length>0,I=this._getvisualcolumnsindexes(q,T,C,S,k,!0,!0),D=I.start,P=I.end;for(this.__firstcell=null;h<c+j;){var A;if(A=i._hittestrow(d,h)){var M;g=A.row;if(-1!=(M=A.index)&&!f[M])if(f[M]=!0,this.enableoptimization)for(H=D;H<P;H++){B=(q=parseFloat(i.columnsrow[0].cells[H].style.left)-y)+i.columns.records[H].width;(p>=q&&p<=B||u>=q&&u<=B||q>=p&&q<=u)&&(i._applycellselection(i.getboundindex(g),i._getcolumnat(H).datafield,!0,!1),v={x:d,y:h,rowindex:M,row:i.getboundindex(g),index:H,datafield:i._getcolumnat(H).datafield},i.__lastcell=v,x||(x=v,i.__firstcell=x))}else for(var H=0;H<b.cells.length;H++){var B=(q=parseFloat(e(i.columnsrow[0].cells[H]).css("left"))-y)+e(i.columnsrow[0].cells[H]).width();(p>=q&&p<=B||u>=q&&u<=B||q>=p&&q<=u)&&(i._applycellselection(i.getboundindex(g),i._getcolumnat(H).datafield,!0,!1),v={x:d,y:h,rowindex:M,row:i.getboundindex(g),index:H,datafield:i._getcolumnat(H).datafield},i.__lastcell=v,x||(x=v,i.__firstcell=x))}h+=5}else h+=5}}i.autosavestate&&i.savestate&&i.savestate()}i._renderrows(i.virtualsizeinfo),!1!==s&&i._handleAutofill(t,i)}}},_handleAutofill:function(t,i){if(this.autofill){var s=this,r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(n-=2);new Array,new Array;n+=this.showtoolbar?this.toolbar.height():0,n+=this.showfilterbar?this.toolbarheight:0;var o=this.selectionarea.coord(),a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host),o=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(n-=2);var l=o.left-a.left,d=(o.top,a.top,l+this.selectionarea.width()),h=(s.__lastcell,s.__firstcell);"multiplecellsadvanced"==i.selectionmode&&2;var c=i.hScrollInstance;c.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&c.max-c.value,"hidden"!=this.vScrollBar[0].style.visibility&&this.scrollbarsize+4);i.table[0].rows[0];var u=i.selectionarea.height(),p=parseInt(t.pageX),m=parseInt(t.pageY),f=u;(s=i)._autofill&&s._autofill.remove(),h&&!s.getcolumn(h.datafield).autofill||s.autofill&&(s._autofill=document.createElement("div"),s._autofill.style.width="6px",s._autofill.style.height="6px",s._autofill.style.position="absolute",s._autofill.style.top=o.top-s.host.offset().top+f+1+"px",s._autofill.style.left=d+2+"px",s._autofill.style.cursor="crosshair",s._autofill.style.paddingLeft="0px",s._autofill.style.paddingTop="0px",s._autofill.style.paddingRight="0px",s._autofill.style.paddingBottom="0px",s._autofill.style.borderTopLeftRadius="0px",s._autofill.style.borderTopRightRadius="0px",s._autofill.style.borderBottomLeftRadius="0px",s._autofill.style.borderBottomRightRadius="0px",s._autofill.style.background="transparent",e(s._autofill).addClass(s.toThemeProperty("jqx-widget")),e(s._autofill).addClass(s.toThemeProperty("jqx-button")),e(s._autofill).addClass(s.toThemeProperty("primary")),e(s._autofill).addClass(s.toThemeProperty("jqx-fill-state-pressed")),s._autofill.onpointerdown=function(t){s._handlemouseupselection(t,s,!1);var r=t.originalEvent?t.originalEvent:t;s._autofillDragStart=!0,s.mousecaptured=!0;var n=s.showheader?s.columnsheader.height()+2:0,o=s._groupsheader()?s.groupsheader.height():0;o+=s.showtoolbar?s.toolbarheight:0,o+=s.showfilterbar?s.toolbarheight:0;var a=s.host.coord(),l=p-a.left,d=m-n-a.top-o;if(s.pageable&&!s.autoheight&&s.gotopage&&d>s.pager.coord().top-a.top-o-n)return;var c=s._hittestrow(l,d);if(c&&!c.details){c.row,c.index,r.target.className;var u=s.table[0].rows[h.rowindex],f=e(i.columnsrow[0].cells[h.index]).coord().left,g=e(u).coord().top+1;s.mousecaptured=!0,s.mousecaptureposition={x:f,y:g,left:r.pageX,top:r.pageY,clickedrow:u},s.copyselection(),r.stopPropagation(),r.preventDefault()}},e(document).off("pointermove.autofill"),e(document).off("pointerup.autofill"),e(document).on("pointermove.autofill",function(e){if(s._autofillDragStart){var t=e.originalEvent?e.originalEvent:e;s.mousecaptureposition.position?"y"===s.mousecaptureposition.position?(t._pageX=s.mousecaptureposition.x,t._pageY=t.pageY,s.mousecaptureposition.top=s.mousecaptureposition.y,s._handlemousemoveselection(t,s)):(t._pageX=t.pageX,t._pageY=s.mousecaptureposition.y,s.mousecaptureposition.clickedcell=h.index,s.mousecaptureposition.left=s.mousecaptureposition.x,s._handlemousemoveselection(t,s,null)):Math.abs(s.mousecaptureposition.left-t.pageX)>=5?s.mousecaptureposition.position="x":Math.abs(s.mousecaptureposition.top-t.pageY)&&(s.mousecaptureposition.position="y")}}),e(document).on("pointerup.autofill",function(e){var t=e.originalEvent?e.originalEvent:e;s._handlemouseupselection(t,s),s._autofillDragStart=!1,s.mousecaptureposition=null,s.mousecaptured=!1,s.pasteselection(),s._handlemouseupselection(t,s)}),s.wrapper[0].appendChild(s._autofill))}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length,i.disabled)return!1;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(32===s&&(t.metaKey||t.ctrlKey)&&"multiplecellsadvanced"==i.selectionmode){var r=this.getselectedcell();if(t.shiftKey){if(this.clearselection(),this.selectallrows(),this.columns.records.length<30)for(var n=0;n<this.columns.records.length;n++){var o;(o=this.columns.records[n]).selectable&&o.toggleSelection(o,t,!0)}return void this._renderrows(this.virtualsizeinfo)}r&&(o=this.getcolumn(r.datafield)).selectable&&(this.clearselection(),o.toggleSelection(o,t,!0),this._renderrows(this.virtualsizeinfo))}if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(s>=33&&s<=40))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(null!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showfilterbar&&e(t.target).ischildof(this.filterbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var a=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var l=String.fromCharCode(s).toLowerCase();if("z"===l&&this._undoRedo){if(-1===this._undoRedoIndex&&(this._undoRedoIndex=this._undoRedo.length-1),h=this._undoRedo[this._undoRedoIndex])if("setcellvalue"===h.action)this.setcellvalue(h.data.row,h.data.datafield,h.data.oldvalue),this.clearselection(),this.selectcell(h.data.row,h.data.datafield),this.ensurecellvisible(h.data.row,h.data.datafield);else if("paste"===h.action){if(this.clearselection(),h.data)for(n=0;n<h.data.length;n++){var d=h.data[n];this.setcellvalue(d.row,d.datafield,d.oldvalue),this._applycellselection(d.row,d.datafield,!0,!1),0===n&&this.ensurecellvisible(d.row,d.datafield)}this._rendervisualrows()}this._undoRedoIndex>0&&this._undoRedoIndex--}if("y"===l&&this._undoRedo){var h;if(-1===this._undoRedoIndex&&(this._undoRedoIndex=this._undoRedo.length-1),h=this._undoRedo[this._undoRedoIndex])if("setcellvalue"===h.action)this.setcellvalue(h.data.row,h.data.datafield,h.data.value),this.clearselection(),this.selectcell(h.data.row,h.data.datafield),this.ensurecellvisible(h.data.row,h.data.datafield);else if("paste"===h.action){this.clearselection();for(n=0;n<h.data.length;n++){d=h.data[n];this.setcellvalue(d.row,d.datafield,d.value),this._applycellselection(d.row,d.datafield,!0,!1),0===n&&this.ensurecellvisible(d.row,d.datafield)}this._rendervisualrows()}this._undoRedoIndex<this._undoRedo.length-1&&this._undoRedoIndex++}if("d"===l){this.copyselection(),this._clipboardselection[0];this._clipboardselection=[this._clipboardselection[0]],this.pasteselection(),t.preventDefault(),t.stopPropagation()}if(this.clipboardbegin){var c=null;if("c"==l?c=this.clipboardbegin("copy",this.copyselection()):"x"==l?c=this.clipboardbegin("cut",this.copyselection()):"v"==l&&(c=this.clipboardbegin("paste")),!1===c)return!1}if("c"==l||"x"==l){var u=this.copyselection();if("c"==l&&this.clipboardend&&this.clipboardend("copy"),"x"==l&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",u);else{var p=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');p.val(u),e("body").append(p),p.select(),setTimeout(function(){document.designMode="off",p.select(),p.remove(),i.focus()},100)}if("c"==l&&e.jqx.browser.msie)return!1;if("c"==l)return!0}else if("v"==l){if(document.activeElement&&"INPUT"===document.activeElement.nodeName)return!0;var m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(m),m.select();var f=this;return setTimeout(function(){if(f._clipboardselection=new Array,0==(e=m.val()).length&&window.clipboardData){m.val(window.clipboardData.getData("Text"));var e=m.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var s=t[i].split("\t");if(1==s.length&&i==t.length-1&&""==s[0])continue;s.length>0&&f._clipboardselection.push(s)}f.pasteselection(),m.remove(),f.focus()},100),!0}if("x"==l)return this.deleteselection(),this.host.focus(),!1}var g=Math.round(i._gettableheight()),v=Math.round(g/i.rowsheight),x=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":if(null===(r=i.getselectedcell())&&i.selectcell(0,i.columns.records[0].displayfield),null!=r){var w=this.getrowvisibleindex(r.rowindex),y=r.datafield,b=i._getcolumnindex(y),_=(i.columns.records.length,function(e,s,r,n){var o=function(e,s){var o,l=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var d=e;"up"==n&&d++,"down"==n&&d--;l=i.getdisplayrows()[d];for(var h=1,c=!0;c&&h<300&&(c=!1,"down"==n?l=i.getdisplayrows()[d+h]:"up"==n&&(l=i.getdisplayrows()[d-h]),l);){l&&l.group&&(c=!0),l&&l.totalsrow&&(c=!0);for(var u=l.parentItem;u;)!u||(o=u).group&&(i.expandedgroups[o.uniqueid]?i.expandedgroups[o.uniqueid].expanded:void 0)||(c=!0),u=u.parentItem;if(!c)break;h++}if(300==h&&(l=null),i.pageable){var p=!1;if(l){for(var m=0;m<i.dataview.rows.length;m++)i.dataview.rows[m].boundindex==l.boundindex&&(p=!0);p||(l=null)}}}else if(i.pageable){p=!1;if(l){for(m=0;m<i.dataview.rows.length;m++)i.dataview.rows[m].boundindex==l.boundindex&&(p=!0);p||(i.pagerpageinput&&9===t.keyCode&&l.boundindex>i.dataview.rows[i.dataview.rows.length-1].boundindex&&(i.pagerpageinput.focus(),t.preventDefault()),i.ensurerowvisible(l))}}if(null!=l&&null!=s&&!l.totalsrow){(r||null==r)&&i.clearselection();var f=i.getboundindex(l);return i.selectcell(f,s),i._oldselectedcell=i.selectedcell,a=!0,i.groupable?i.ensurecellvisible(f,s):i.ensurecellvisible(e,s),!0}return!1};if(o(e,s)||i.groupable||(i.ensurecellvisible(e,s),o(e,s),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,s);var l=i.dataview.loadedrecords[e],d=i.getboundindex(l);return void(i.selectedcell={rowindex:d,datafield:s})}}else t.shiftKey||(i._lastClickedCell={row:e,column:s})}),j=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,q=function(){if(i.pageable){var e=i.dataview.pagenum*i.dataview.pagesize;_(e,y,!j)}else _(0,y,!j)},T=function(){var e=x.rowscount-1;i.pageable&&(e=i.dataview.pagenum*i.dataview.pagesize+i.dataview.rows.length-1);_(e,y,!j)},C=9==s&&!t.shiftKey,S=9==s&&t.shiftKey;if(i.rtl){var k=C;C=S,S=k}if((C||S)&&(j=!1),(C||S)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((z=t.ctrlKey||t.metaKey)&&37==s)null!=(A=i._getfirstvisiblecolumn(b))&&_(w,A.datafield);else if(z&&39==s){var I=i._getlastvisiblecolumn(b);null!=I&&_(w,I.datafield)}else if(39==s||C){var D=i._getnextvisiblecolumn(b);if(null!=D)_(w,D.datafield,!j);else if(C){var P=i._getfirstvisiblecolumn();s=40,y=P.displayfield}else a=!0}else{var A;if(37==s||S)if(null!=(A=i._getprevvisiblecolumn(b)))_(w,A.datafield,!j);else if(S){var M=i._getlastvisiblecolumn();s=38,y=M.displayfield}else a=!0;else if(36==s)q();else if(35==s)T();else if(33==s)if(w-v>=0)_(H=w-v,y,!j),i.pageable&&i.virtualmode&&(i.gotoprevpage(),setTimeout(function(){_(H,y,!j)},25));else q();else if(34==s)if(x.rowscount>w+v)_(H=w+v,y,!j),i.pageable&&i.virtualmode&&(i.gotonextpage(),setTimeout(function(){_(H,y,!j)},25));else T()}38==s&&(z?q():w>0?_(w-1,y,!j,"up"):a=!1),40==s&&(z?T():x.rowscount>w+1||i.groupable&&i.groups.length>0?_(w+1,y,!j,"down"):a=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(w=i.getselectedrowindex())||-1==w)return!0;w=this.getrowvisibleindex(w);var H,B=function(e,r,n){var o=function(e){var t,s=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==n&&e++,"down"==n&&e--;s=i.getdisplayrows()[e];for(var o=1,l=!0;l&&o<300&&(l=!1,"down"==n?s=i.getdisplayrows()[e+o]:"up"==n&&(s=i.getdisplayrows()[e-o]),s);){s&&s.group&&(l=!0),s&&s.totalsrow&&(l=!0);for(var d=s.parentItem;d;)!d||(t=d).group&&(i.expandedgroups[t.uniqueid]?i.expandedgroups[t.uniqueid].expanded:void 0)||(l=!0),d=d.parentItem;if(!l)break;o++}if(300==o&&(s=null),i.pageable){var h=!1;if(s){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==s.boundindex&&(h=!0);h||(s=null)}}}if(null!=s){var u=i.getboundindex(s),p=i.selectedrowindex;if((r||null==r)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1),i.groupable)var m=i.ensurerowvisible(u);else m=i.ensurerowvisible(e);return(!m||i.autoheight||i.groupable)&&i._rendervisualrows(),a=!0,!0}return!1};if(o(e)||i.groupable||(i.ensurerowvisible(e),o(e),i.virtualmode&&setTimeout(function(){o(e)},25),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=s){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},z=(j=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,q=function(){if(i.pageable){var e=i.dataview.pagenum*i.dataview.pagesize;B(e,!j)}else B(0,!j)},T=function(){var e=x.rowscount-1;i.pageable&&(e=i.dataview.pagenum*i.dataview.pagesize+i.dataview.rows.length-1);B(e,!j)},t.ctrlKey||t.metaKey);if(36==s||z&&38==s)q();else if(35==s||z&&40==s)T();else if(33==s)if(w-v>=0)B(H=w-v,!j,"up"),i.pageable&&i.virtualmode&&(i.gotoprevpage(),setTimeout(function(){B(H,!j)},25));else q();else if(34==s)if(x.rowscount>w+v)B(H=w+v,!j,"down"),i.pageable&&i.virtualmode&&(i.gotonextpage(),setTimeout(function(){B(H,!j)},25));else T();else 38==s?w>0?B(w-1,!j,"up"):a=!0:40==s&&(x.rowscount>w+1||i.groupable&&i.groups.length>0?B(w+1,!j,"down"):a=!0)}return!a||(i.autosavestate&&i.savestate&&i.savestate(),!1)},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var s,r,n,o,a;if(i.enablehover||"multiplerows"==i.selectionmode){if(s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,r+=this.showtoolbar?this.toolbarheight:0,r+=this.showfilterbar?this.toolbarheight:0,n=this.host.coord(),this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();n.left-=l.left,n.top-=l.top}o=t.pageX-n.left,a=t.pageY-s-n.top-r}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(o,a);if(d){var h=d.row,c=d.index;if((-1==this.hoveredrow||-1==c||this.hoveredrow!=c||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=c&&null!=h)){var u=this.hittestinfo[c].visualrow;if(null!=u&&!(this.hittestinfo[c].details||t.clientX>e(u).width()+e(u).coord().left)){var p=0,m=u.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:p=this.groups.length),0!=u.cells.length){var f=u.cells[p].className;if(!(h.group||this.selectionmode.indexOf("row")>=0&&-1!=f.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=c,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(w=p;w<m;w++){_=u.cells[w];e(_).addClass(this.toTP("jqx-grid-cell-hover")),e(_).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(_,t.pageX,t.pageY),(b=this._getcolumnat(w))._applyCellStyle(_)}else{var g=-1,v=this.hScrollInstance,x=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=v.max-v.value);for(var w=p;w<m;w++){var y=parseInt(this.columnsrow[0].cells[w].style.left)-x;if(this.columns.records[w].pinned&&!this.rtl&&(y=parseInt(this.columnsrow[0].cells[w].style.left)),y+this.columns.records[w].width>=o&&o>=y){g=w;break}}if(-1!=g){var b,_=u.cells[g];if(this.cellhover&&this.cellhover(_,t.pageX,t.pageY),-1==_.className.indexOf("jqx-grid-cell-selected"))if(this.editcell)if((b=this._getcolumnat(g))&&this.editcell.row==c&&this.editcell.column==b.datafield)return;e(_).addClass(this.toTP("jqx-grid-cell-hover")),e(_).addClass(this.toTP("jqx-fill-state-hover")),(b=this._getcolumnat(g))._applyCellStyle(_)}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{savestate:function(t){var i=this.getstate();return void 0===t||e.isEmptyObject(t)||(-1==t.indexOf("sort")&&(delete i.sortcolumn,delete i.sortdirection),-1==t.indexOf("pager")&&(delete i.pagenum,delete i.pagesizeoptions,delete i.pagesize),-1==t.indexOf("selection")&&(delete i.selectedcells,delete i.selectedrowindexes,delete i.selectedrowindex),-1==t.indexOf("grouping")&&delete i.groups,-1==t.indexOf("filter")&&delete i.filters,e.each(this.columns.records,function(e){var s=i.columns[this.datafield];-1==t.indexOf("hidden_columns")&&delete s.hidden,-1==t.indexOf("reorder")&&delete s.index,-1==t.indexOf("columns_width")&&delete s.width,-1==t.indexOf("columns_text")&&delete s.text,-1==t.indexOf("alignment")&&(delete s.align,delete s.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(i)),this._savedstate=i,i},loadstate:function(t,i){var s="";if(null!=t&&null!=t.width)s=t;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])s=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)s=this._savedstate;if(null!=s&&""!==s){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var r=s;if(void 0!==r.width&&(this.width=r.width),void 0!==r.height&&(this.height=r.height),this.pageable&&(null!=r.pagesize&&(this.pagesize=r.pagesize,this.dataview.pagesize=r.pagesize),null!=r.pagenum&&(this.dataview.pagenum=r.pagenum),null!=r.pagesizeoptions&&(this.pagesizeoptions=r.pagesizeoptions),this.pagesizeoptions)){for(var n=0,o=0;o<this.pagesizeoptions.length;o++)this.pagesize>=this.pagesizeoptions[o]&&(n=o);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:n})}if(this.sortable)if(this._loading&&(this._loading=!1),r.sortdirection){if(r.sortdirection.ascending||r.sortdirection.descending){this.dataview.sortfield=r.sortcolumn;var a=r.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=a,this.source.sortcolumn=r.sortcolumn,this.source.sortdirection=a,this.sortby(r.sortcolumn,a)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&r.groups&&(this.dataview.groups=r.groups,this.groups=r.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(r),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==i?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(t){this.loadingstate=!0;var i="";if(null!=t&&null!=t.width)i=t;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])i=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)i=this._savedstate;if(null!=i&&""!=i){var s=this._loading;this._loading=!1;var r=i,n=this,o=!1,a=[];a.length=0;if(e.each(this.columns.records,function(e){var t=r.columns[this.datafield];if(null!=t){if(this.text!=t.text&&(o=!0),this.hidden!=t.hidden&&(o=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),n._columns)for(var i=0;i<n._columns.length;i++)n._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(n._columns[i].hidden=t.hidden),void 0!==t.width&&(n._columns[i].width=t.width));void 0!==t.index&&(a[this.datafield]=t.index,a.length++)}}),a.length>0){if(this.setcolumnindex){this.rowdetails;this.groupable?this.groups.length:0;for(var l=new Array,d=0;d<this.columns.records.length;d++)l.push(this.columns.records[d]);var h=0,c=new Array;for(d=0;d<l.length;d++){var u=l[d],p=a[u.datafield];if(this.groupable&&u.grouped)h++;else if(0==d&&this.rowdetails)h++;else if(d!==p||this.groupable||this.rowdetails){var m=h+p;c.push({column:u,key:m})}}c.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),c.reverse(),e.each(c,function(e,t){var i=this.key;n.setcolumnindex(this.column.datafield,i,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==r.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));var f="",g=new e.jqx.filter;for(d=0;d<r.filters.filterscount;d++){var v=r.filters["filtercondition"+d],x=r.filters["filterdatafield"+d];u=this.getcolumn(x);if(x!=f&&(g=new e.jqx.filter),f=x,u&&u.filterable){var w=r.filters["filtervalue"+d],y=r.filters["filteroperator"+d];if("datefilter"==(C=r.filters["filtertype"+d]))var b=g.createfilter(C,w,v,null,u.cellsformat,this.gridlocalization);else b=g.createfilter(C,w,v);if(g.addfilter(y,b),this.showfilterrow){var _=u._filterwidget,j=u._filterwidget.parent();if(null!=_)switch(u.filtertype){case"number":if(j.find("input").val(w),this.host.jqxDropDownList){var q=g.getoperatorsbyfiltertype("numericfilter");_.find(".filter").jqxDropDownList("selectIndex",q.indexOf(v))}break;case"date":this.host.jqxDateTimeInput?e(j.children()[0]).jqxDateTimeInput("setDate",w):_.val(w);break;case"range":if(this.host.jqxDateTimeInput){var T=r.filters["filtervalue"+(d+1)],C=r.filters["filtertype"+d];b=g.createfilter(C,T,"LESS_THAN_OR_EQUAL");g.addfilter(y,b);var S=new Date(w),k=new Date(T);isNaN(S)&&(S=e.jqx.dataFormat.tryparsedate(w)),isNaN(k)&&(k=e.jqx.dataFormat.tryparsedate(w)),e(j.children()[0]).jqxDateTimeInput("setRange",S,k),d++}else _.val(w);break;case"textbox":case"default":_.val(w),n["_oldWriteText"+_[0].id]=w;break;case"list":if(this.host.jqxDropDownList){var I=e(j.children()[0]).jqxDropDownList("getItems");p=-1;e.each(I,function(e){if(this.value==w)return p=e,!1}),e(j.children()[0]).jqxDropDownList("selectIndex",p)}else _.val(w);break;case"checkedlist":this.host.jqxDropDownList||_.val(w);break;case"bool":case"boolean":this.host.jqxCheckBox?e(j.children()[0]).jqxCheckBox({checked:w}):_.val(w)}}this.addfilter(x,g)}}r.filters&&r.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&e.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&n.host.jqxDropDownList){var t=this,i=t._filterwidget,s=(i.jqxDropDownList("getItems"),i.jqxDropDownList("listBox"));if(s.checkAll(!1),t.filter){s.uncheckAll(!1);for(var r=t.filter.getfilters(),o=0;o<s.items.length;o++){var a=s.items[o].label;e.each(r,function(){if("NOT_EQUAL"==this.condition)return!0;a==this.value&&s.checkIndex(o,!1,!1)})}s._updateCheckedItems();var l=s.getCheckedItems().length;s.items.length!=l&&l>0&&s.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==r.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(r.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(r.pagenum))}if(r.selectedrowindexes&&r.selectedrowindexes&&r.selectedrowindexes.length>0&&(this.selectedrowindexes=r.selectedrowindexes,this.selectedrowindex=r.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),r.selectedcells&&this._applycellselection&&e.each(r.selectedcells,function(){n._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==r.groups)return this._refreshdataview(),this.render(),this._loading=s,void(this.loadingstate=!1);if(o){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=s,this.loadingstate=!1,this.updating())return!1}else this._loading=s,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=s,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var t=this.getdatainformation(),i={};if(i.width=this.width,i.height=this.height,i.pagenum=t.paginginformation.pagenum,i.pagesize=t.paginginformation.pagesize,i.pagesizeoptions=this.pagesizeoptions,i.sortcolumn=t.sortinformation.sortcolumn,i.sortdirection=t.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var s=this.getselectedcells(),r=new Array;e.each(s,function(){r.push({datafield:this.datafield,rowindex:this.rowindex})}),i.selectedcells=r}else{var n=this.getselectedrowindexes();i.selectedrowindexes=n,i.selectedrowindex=this.selectedrowindex}var o={},a=0;if(this.dataview.filters)for(var l=0;l<this.dataview.filters.length;l++){var d=this.dataview.filters[l].datafield,h=this.dataview.filters[l].filter,c=h.getfilters();o[d+"operator"]=h.operator;for(var u=0;u<c.length;u++){if(c[u].datafield=d,"datefilter"==c[u].type)if(c[u].value&&c[u].value.toLocaleString){var p=this.getcolumn(c[u].datafield);if(p.cellsformat){var m=this.source.formatDate(c[u].value,p.cellsformat,this.gridlocalization);o["filtervalue"+a]=m||c[u].value.toLocaleString()}else o["filtervalue"+a]=c[u].value.toLocaleString()}else o["filtervalue"+a]=c[u].value;else o["filtervalue"+a]=c[u].value;o["filtercondition"+a]=c[u].condition,o["filteroperator"+a]=c[u].operator,o["filterdatafield"+a]=d,o["filtertype"+a]=c[u].type,a++}}o.filterscount=a,i.filters=o,i.groups=this.groups,i.columns={};var f=0;return this.columns.records&&e.each(this.columns.records,function(e,t){if(!this.datafield)return!0;var s={};s.width=this.width,s.hidden=this.hidden,s.pinned=this.pinned,s.groupable=this.groupable,s.resizable=this.resizable,s.draggable=this.draggable,s.text=this.text,s.align=this.align,s.cellsalign=this.cellsalign,s.index=f++,i.columns[this.datafield]=s}),i},_stringify:function(e){if(window.JSON&&"function"==typeof window.JSON.stringify){var t="";try{t=window.JSON.stringify(e)}catch(t){return this._str("",{"":e})}return t}return t=this._str("",{"":e})},_quote:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){var i=t[e];return"string"==typeof i?i:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i.push(this._str(s,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,s=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=this._str(t,e))&&s.push(this._quote(t)+":"+i);return"{"+s.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|string|boolean)/.test(s)||!i&&"object"===s?this._stringifyPrimitive(i,s):this._stringifyReference(i)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,s=0,r=this;if(this.filterrow){for(var n=0;n<i;n++){var o=this.columns.records[n],a=parseInt(o.width);a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(this.filterrow[0].cells[n]);l.css("left",s);var d=!0;if(l.width()==a&&(d=!1),t&&(d=!0),l.width(a),l[0].left=s,o.element&&(l[0].style.width=o.element.style.width,l[0].style.left=o.element.style.left),o.hidden&&o.hideable?l.css("display","none"):s+=a,d)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var h=function(t,i){var s=e(i.children()[0]);s[0]&&(s[0].style.width=a-8+"px",e.jqx.browser.msie&&(s[0].style.width=a-16+"px")),s.attr("disabled",t.disabled)};switch(o.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input")[0].style.width=a-30+"px",e.jqx.browser.msie&&(l.find("input")[0].style.width=a-36+"px"),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:a-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:a-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):h(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(s)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s],n=e(this.filterrow[0].cells[s]);if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var o=function(t,i){var s=e(i.children()[0]);s.val(""),s[0]&&(t["_oldWriteText"+s[0].id]="")};switch(r.filtertype){case"number":case"input":if(n.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(n).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==r.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==r.filtertype?"numberfilter":"stringfilter");null!=r.filtercondition?-1==(l=d.indexOf(r.filtercondition.toUpperCase()))&&(l="number"==r.filtertype?0:2):l="number"==r.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput("setDate",null):o(this,n);break;case"textbox":case"default":o(this,n);break;case"list":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("clearSelection"):o(this,n);break;case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("checkAll",!1):o(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:null}):o(this,n)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,s=0;s<t;s++){var r=new e.jqx.filter,n=this.columns.records[s];if(n.filterable&&null!==n.datafield){var o=i._getcolumntypebydatafield(n),a=i._getfiltertype(o),l=!0,d=(n.filtertype,function(e,t,s){var r=!0;if(e._filterwidget){var n=e._filterwidget.val();if(""!=n){var o="equal";if("stringfilter"==t)o="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&n.indexOf(i.gridlocalization.decimalseparator)>=0&&(n=n.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=n.indexOf(">")&&(o="greater_than",a=1),-1!=n.indexOf("<")&&(o="less_than",a=1),-1!=n.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(n=n.substring(a)).length<1)return!1}if(null!=e.filtercondition&&(o=e.filtercondition),"datefilter"==t)var l=s.createfilter(t,n,o,null,e.cellsformat,i.gridlocalization);else l=s.createfilter(t,n,o);s.addfilter(1,l)}else r=!1}return r});switch(n.filtertype){case"range":case"date":if(n._filterwidget.jqxDateTimeInput)if("range"==n.filtertype)if(null!=(f=n._filterwidget.jqxDateTimeInput("getRange"))&&null!=f.from&&null!=f.to){var h="GREATER_THAN_OR_EQUAL";(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.from.getFullYear(),f.from.getMonth(),f.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(f.to.getFullYear(),f.to.getMonth(),f.to.getDate()),c.setHours(f.to.getHours()),c.setMinutes(f.to.getMinutes()),c.setSeconds(f.to.getSeconds());var u=r.createfilter(a,m,h);r.addfilter(0,u);var p=r.createfilter(a,c,"LESS_THAN_OR_EQUAL");r.addfilter(0,p)}else l=!1;else if(null!=(f=n._filterwidget.jqxDateTimeInput("getDate"))){var m;(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.getFullYear(),f.getMonth(),f.getDate()),n._filterwidget.jqxDateTimeInput("showTimeButton")&&(m.setHours(f.getHours()),m.setMinutes(f.getMinutes()));h="EQUAL";null!=n.filtercondition&&(h=n.filtercondition);u=r.createfilter(a,m,h);n._filterwidget.jqxDateTimeInput("showTimeButton")&&(u=r.createfilter(a,m,h,null,n.cellsformat)),r.addfilter(0,u)}else l=!1;else l=d(n,a,r);break;case"input":if(n._filterwidget){var f=n._filterwidget.find("input").val(),g=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(a)[g];if(i.updatefilterconditions){null!=(y=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,y);v=r.getoperatorsbyfiltertype(a)[g]}var x="NULL"==v||"NOT_NULL"==v,w="EMPTY"==v||"NOT_EMPTY"==v;null!=f&&f.length>0||x||w?(u=r.createfilter(a,f,v,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"number":if(n._filterwidget){f=n._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&f.indexOf(i.gridlocalization.decimalseparator)>=0&&(f=f.replace(i.gridlocalization.decimalseparator,"."));g=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(a)[g];if(i.updatefilterconditions){var y;null!=(y=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,y);v=r.getoperatorsbyfiltertype(a)[g]}x="NULL"==v||"NOT_NULL"==v,w="EMPTY"==v||"NOT_EMPTY"==v;null!=f&&f.length>0||x||w?(u=r.createfilter(a,new Number(f),v,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"textbox":case"default":l=d(n,a,r);break;case"bool":case"boolean":if(n._filterwidget.jqxCheckBox)if(null!=(f=n._filterwidget.jqxCheckBox("checked"))){h="equal";var b=r.createfilter(a,f,h);r.addfilter(1,b)}else l=!1;else l=d(n,a,r);break;case"list":if((q=n._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var _=q.getItem(q.selectedIndex),j=(f=_.label,_.value);h="equal";""===f&&(h="NULL");b=r.createfilter(a,f,h);r.addfilter(1,b),j!==f&&(b.data=j)}else l=!1;break;case"checkedlist":if(n._filterwidget.jqxDropDownList){var q,T=(q=n._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==T.length){for(var C=1;C<q.items.length;C++){f=q.items[C].label,j=q.items[C].value,h="not_equal";""===f&&(h="NOT_NULL");b=r.createfilter(a,f,h);j!==f&&(b.data=j),r.addfilter(0,b)}l=!0}else if(T.length!=q.items.length)for(C=0;C<T.length;C++){f=T[C].label,j=T[C].value,h="equal";""===f&&(h="NULL");b=r.createfilter(a,f,h);j!==f&&(b.data=j),r.addfilter(1,b)}else l=!1}else l=d(n,a,r)}this._loading||(l?this.addfilter(n.displayfield,r,!1):this.removefilter(n.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var n=s+10,o=new Array,a=this.that;this.filterrow[0].cells=o,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),c=0;c<s;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var m=document.createElement("div");m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=r,m=e(m),h.appendChild(m[0]),m[0].style.left=i+"px",this.rtl?(m.css("z-index",n++),m.css("border-left-width","1px")):m.css("z-index",n--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=i,u.hidden&&u.hideable?m.css("display","none"):i+=p,o[o.length]=m[0];var f=!0;if(this.rtl){if(this.groupable){g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>s-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==s-1&&(f=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(f=!1)}if(f)if("custom"==u.filtertype&&u.createfilterwidget){u.createfilterwidget(u,m,function(){a._applyfilterfromfilterrow()})}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),d[u.datafield]=u._filterwidget))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_getfilterdataadapter:function(t){if(!!this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},s=this;r=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var n=s._getcolumntypebydatafield(t),o=0;o<e.length;o++){i.push(e[o]);var a=e[o][t.displayfield];e[o][t.displayfield+"JQValue"]=a,"date"===n?e[o][t.displayfield]=null!=a?r.formatDate(a,t.cellsformat,s.gridlocalization):"":"number"!==n&&"float"!==n&&"int"!==n||(e[o][t.displayfield]=null!=a?r.formatNumber(a,t.cellsformat,s.gridlocalization):"")}return i}return e}})}else var r=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0)i={localdata:t.filteritems,datatype:this.source.datatype,async:!1},r=new e.jqx.dataAdapter(i,{autoBind:!1,async:!1});else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return r},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s];if(r.filterable&&r.filter){var n=r.filter.getfilters();if(n.length>0){var o=n[0].value,a=r._filterwidget,l=r._filterwidget.parent();if(null!=a)switch(r.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))}break;case"input":if(l.find("input").val(o),this.host.jqxDropDownList){d=r.filter.getoperatorsbyfiltertype("stringfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(o=r.filter.getfilterat(0).filtervalue)){if(r.filter.getfilterat(1))var h=r.filter.getfilterat(1).filtervalue;else h=o;"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),t["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable){var r=s._filterwidget;if("list"==s.filtertype||"checkedlist"==s.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy");else if("date"==s.filtertype||"range"==s.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy");else if("bool"==s.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy");else if("number"==s.filtertype||"input"===s.filtertype){var n=r.find(".jqx-input");this.removeHandler(n,"keydown"),e(r.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(r,"keydown");r.remove()}}},_updatelistfilters:function(t,i){for(var s=this.that,r=this.columns.records.length,n=0;n<r;n++){var o=this.columns.records[n];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(t){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var d=!0;if((u=a.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var h=1;h<u.length;h++)if(u[h].label!=l.records[h-1][o.displayfield]){d=!1;break}if(d&&!i)continue}else if(null==o.filter){a.jqxDropDownList("renderSelection");continue}var c="checkedlist"==o.filtertype,u=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),c){a.jqxDropDownList({selectionRenderer:function(){return s.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var m=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(m.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",m),p.checkAll(!1),o.filter){var f=o.filter.getfilters();for(h=0;h<p.items.length;h++){var g=p.items[h].label,v=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var x=p.getCheckedItems().length;p.items.length!=x&&x>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){f=o.filter.getfilters();var w=-1;for(h=0;h<p.items.length;h++){g=p.items[h].label;e.each(f,function(){return"NOT_EQUAL"==this.condition||(g==this.value?(w=h,!1):void 0)})}-1!=w&&p.selectIndex(w)}u.length<8?a.jqxDropDownList("autoDropDownHeight",!0):a.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfilter:function(){var t=this,i=e("<div style='display: flex; height: calc(100% - 10px); margin-top: 5px; align-items: center; position: relative; margin-left: 4px;'><input style='width: 200px; height: 100%; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>"),s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filterbar.children().remove(),this.filterbutton=r;for(var n=new Array,o=0;o<t.columns.records.length;o++)t.columns.records[o].datafield&&t.columns.records[o].filterable&&n.push({label:t.columns.records[o].text,value:t.columns.records[o].displayfield});var a=n.length<10,l=e("<div style='position: relative;  display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filterbar.append(l);var d=e("<div class='filtercolumns' style='position: relative; margin-top:5px; margin-left:4px; margin-right: 4px; float: left;'></div>");this.filterbar.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:a,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:25,source:n,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d,s[0].parentElement.insertBefore(l[0],s[0]);var h=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};t.filterHeight,t._updateSimpleFilter=h,this.addHandler(d,"select",function(e){var t=e.args.item.value;h(t)}),"simple"===this.filterbarmode?(this.filtercolumnsList.hide(),l.show()):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(d.jqxDropDownList)var n=d.jqxDropDownList("getSelectedItem");var o=function(i,s,r){var n=new e.jqx.filter,o=t._getcolumnbydatafield(i),a=t._getfiltertype(o);if("datefilter"==a)var l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==a||"booleanfilter"==a){"numericfilter"==a&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=n.createfilter(a,s,"CONTAINS");return n.operator=r,n.addfilter(0,l),n};if("simple"!==t.filterbarmode){if(n){var a=n.value,l=o(a,i,"and");i.length>0?(t.removefilter(a),t.addfilter(a,l),t.applyfilters()):(t.removefilter(a),t.applyfilters())}}else{if(t.clearfilters(!1,!1),i.length>0)for(var h=0;h<t.columns.records.length;h++){var c=t.columns.records[h];l=o(c,i,"or");t.addfilter(c.datafield,l)}t.applyfilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};s.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){c()}),this.filterinput=s,this.filterbar.append(i);var u=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");u.attr("title",t.gridlocalization.filterclearstring),u.addClass(t.toThemeProperty("jqx-icon-close")),i.append(u),u.hide(),t.filtericon=u,u.click(function(){t.clearfilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&h(t.dataview.filters[0].datafield)},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,s){var r=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),r=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),r=!0),this.element.removeAttribute("filter"),r&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=r?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(!s.datatype){var r="";e.each(t,function(){if(this.name==s.displayfield)return this.type&&(r=this.type),!1}),s.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}return s},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,s){var r=e(i).find(".filter1"),n=e(i).find(".filter2"),o=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=a.val(),h=l.val(),c=t._getcolumntypebydatafield(s),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype){var m=r.jqxDropDownList("selectedIndex"),f=n.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,x=null;if(t.updatefilterconditions){var w=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));null!=w&&u.setoperatorsbyfiltertype(p,w)}var y=!1,b=u.getoperatorsbyfiltertype(p)[m],_=(o=u.getoperatorsbyfiltertype(p)[g],"NULL"==b||"NOT_NULL"==b),j="EMPTY"==b||"NOT_EMPTY"==b;null==b&&(b=u.getoperatorsbyfiltertype(p)[0]),null==o&&(o=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||j)&&(v=u.createfilter(p,d,b,null,s.cellsformat,t.gridlocalization),u.addfilter(f,v),y=!0);var q="NULL"==o||"NOT_NULL"==o,T="EMPTY"==o||"NOT_EMPTY"==o;if((h.length>0||q||T)&&(x=u.createfilter(p,h,o,null,s.cellsformat,t.gridlocalization),u.addfilter(f,x),y=!0),y){var C=s.displayfield;this.addfilter(C,u,!0)}else this._clearfilter(t,i,s)}else if("excel"===t.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var S=!1,k=r.data().jqxListBox.instance,I="excel"===this.filtermode||"checkedlist"===s.filtertype,D=k.getCheckedItems();if(!I)D=k.getSelectedItems();if(0==D.length){for(var P=1;P<k.items.length;P++){void 0===(H=k.items[P].value)&&(H="");var A="not_equal";if(H&&H.indexOf&&(H.indexOf("|")>=0||H.indexOf(" AND ")>=0||H.indexOf(" OR ")>=0||H.indexOf(" and ")>=0||H.indexOf(" or ")>=0)){H=(H=(H=(H=(H=H.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");A="equal"}if("datefilter"==p)var M=u.createfilter(p,H,A,null,s.cellsformat,t.gridlocalization);else M=u.createfilter(p,H,A,null);u.addfilter(0,M)}S=!0}else if(D.length!=k.items.length){S=!0;for(P=0;P<D.length;P++)if(t.gridlocalization.filterselectallstring!==D[P].value){var H;void 0===(H=D[P].value)&&(H="");A="equal";if("datefilter"==p)M=u.createfilter(p,H,A,null,s.cellsformat,t.gridlocalization);else M=u.createfilter(p,H,A,null);u.addfilter(1,M)}}else S=!1;if(S){C=s.displayfield;this.addfilter(C,u,!0)}else{C=s.displayfield;this.removefilter(C,!0)}}},_clearfilter:function(e,t,i){var s=i.displayfield;this.removefilter(s,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&null!=s&&(s.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var s=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,s,null,!1,!1):this.sortby(this.sortcolumn,s,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var s=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!s)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),s=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),n=e(e.find("#filter3"+this.element.id)),o=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy");s=e(e.find("#filter1"+this.element.id+"ex")),r=e(e.find("#filter2"+this.element.id+"ex")),n=e(e.find("#filter3"+this.element.id+"ex"));s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,s){null!=t&&null!=t||(t=this);var r=t._getcolumntypebydatafield(s),n=t._getfiltersbytype(r);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),e(i).children().detach();var o=e(t.menuitemsarray[6]);if(e(o).css("height","190px"),s.createfilterpanel&&!s.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),s.createfilterpanel(s.displayfield,a),s.filterpanel=a}"list"===s.filtertype||"checkedlist"===s.filtertype?e(i).append(t.excelfilterpanel):"custom"!==s.filtertype?e(i).append(t.filterpanel):s.filterpanel&&e(i).append(s.filterpanel);var l=e(i),d=l.find("#filterclearbutton"+t.element.id),h=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){var g=m.parent(),v=f.parent();if(g.children().remove(),v.children().remove(),"date"==s.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var x=e("<div class='filtertext1"+t.element.id+"' style=''></div>");g.append(x),(w=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-10,height:this.filterMenuItemsHeight,value:null,formatString:s.cellsformat,theme:t.theme})})(x);x=e("<div class='filtertext2"+t.element.id+"' style=''></div>");v.append(x),w(x)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var w;x=e("<input autocomplete='off' class='filtertext1"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");g.append(x),(w=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-18),e[0].style.height=this.filterMenuItemsHeight+"px"})(x);x=e("<input autocomplete='off' class='filtertext2"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");v.append(x),w(x)}m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id)}if("date"!=s.filtertype?(m.val(""),f.val("")):(m.val(null),f.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._buildfilter(t,i,s),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,s),t._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,s),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,s),t._closemenu())}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){if(c.jqxDropDownList("source")!=n&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n})),"boolean"==r||"bool"==r)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var y=!1;n&&n.length&&n.length<5&&(y=!0),c.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var b=s.filter,_=new e.jqx.filter,j="";switch(r){case"number":case"int":case"float":case"decimal":j="numericfilter",q=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":j="booleanfilter",q=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":j="datefilter",q=_.getoperatorsbyfiltertype("datefilter");break;case"string":j="stringfilter",q=_.getoperatorsbyfiltertype("stringfilter")}if(null!=b){g=b.getfilterat(0),v=b.getfilterat(1),b.getoperatorat(0);if(t.updatefilterconditions){var q=[],T=t.updatefilterconditions(j,q);if(null!=T){for(var C=0;C<T.length;C++)T[C]=T[C].toUpperCase();b.setoperatorsbyfiltertype(j,T),q=T}}var S="default";if(null!=g){var k=q.indexOf(g.comparisonoperator),I=g.filtervalue;m.val(I),c.jqxDropDownList({selectedIndex:k,animationType:S})}if(null!=v){var D=q.indexOf(v.comparisonoperator),P=v.filtervalue;f.val(P),p.jqxDropDownList({selectedIndex:D,animationType:S})}null==b.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:S}):"and"==b.getoperatorat(0)||0==b.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,m,f,h,d,b,j,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=s.filtertype)&&(this.touchdevice||(m.focus(),setTimeout(function(){m.focus()},10)))}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var A=t._getfilterdataadapter(s),M=(j=t._getfiltertype(r),"excel"===this.filtermode||"checkedlist"===s.filtertype);if("date"==s.filtertype&&t._showwhere.text(t.gridlocalization.filtershowrowstring),c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),s.cellsformat?c.jqxListBox({checkboxes:M,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:A}):c.jqxListBox({checkboxes:M,displayMember:s.displayfield,valueMember:s.displayfield,source:A}),M){c.jqxListBox("insertAt",{label:t.gridlocalization.filterselectallstring},0),(L=c.data().jqxListBox.instance).checkAll(!1);if(s.filter){L.uncheckAll(!1);for(var H=s.filter.getfilters(),B=0;B<L.items.length;B++){var z=L.items[B].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(z!=this.value)return L.uncheckIndex(B,!1,!1),!1;if(null!=z&&null!=this.value&&z.toString()!=this.value.toString())return L.uncheckIndex(B,!1,!1),!1}else if("EQUAL"==this.condition){if(z==this.value)return L.checkIndex(B,!1,!1),!1;if(null!=z&&null!=this.value&&z.toString()==this.value.toString())return L.checkIndex(B,!1,!1),!1}})}L._updateCheckedItems();var E=L.getCheckedItems().length;L.items.length!=E&&E>0&&L.host.jqxListBox("indeterminateIndex",0,!0,!1),E===L.items.length-1&&L.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){var L;(L=c.data().jqxListBox.instance).clearSelection();for(H=s.filter.getfilters(),B=0;B<L.items.length;B++){z=L.items[B].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(z!=this.value)return L.unselectIndex(B,!1,!1),!1}else if("EQUAL"==this.condition&&z==this.value)return L.selectIndex(B,!0,!1),!1})}L._renderItems()}}},_initfilterpanel:function(t,i,s,r,n){null!=t&&null!=t||(t=this),i[0].innerHTML="";var o=e("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");i.append(o);var a=e("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var l=n?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(s);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records){for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(m=0;m<this.columns.length;m++)if("date"==this.columns[m].filtertype){this._hasdatefilter=!0;break}var f=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=f.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-18);var v=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),x=v.find("input");x.addClass(this.toThemeProperty("jqx-input")),x.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),x.addClass(this.toThemeProperty("jqx-rc-all")),x.width(r-18),t.rtl&&(g.css("direction","rtl"),x.css("direction","rtl"));var w=e("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>"),y=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+t.gridlocalization.filterstring+"</span>");w.append(y);var b=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="secondary filterclearbutton" style="position: relative; left: 1px; padding: 6px 15px; margin-left: 7px;">'+t.gridlocalization.filterclearstring+"</span>");w.append(b),y.jqxButton({height:this.filterMenuItemsHeight,theme:t.theme}),b.jqxButton({height:this.filterMenuItemsHeight,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||n){if("excel"===this.filtermode||n){o.append(a),o.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-10,height:130,theme:t.theme});var j=!0;t.addHandler(d,"checkChange",function(e){if(j)if(e.args.label!=t.gridlocalization.filterselectallstring){j=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),s=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):s.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),j=!0}else j=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),j=!0})}}else{o.append(a),o.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-10,height:24,dropDownHeight:150,dropDownWidth:r-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(f);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:q,selectionRenderer:_,theme:t.theme}),o.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-10,height:24,dropDownHeight:150,dropDownWidth:r-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(c),o.append(v)}o.append(w),t.updatefilterpanel&&t.updatefilterpanel(d,c,h,f,v,y,b,null,null,p)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,s=0,r=this;if(this.filterrow){for(var n=0;n<i;n++){var o=this.columns.records[n],a=parseInt(o.width);a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(this.filterrow[0].cells[n]);l.css("left",s);var d=!0;if(l.width()==a&&(d=!1),t&&(d=!0),l.width(a),l[0].left=s,o.element&&(l[0].style.width=o.element.style.width,l[0].style.left=o.element.style.left),o.hidden&&o.hideable?l.css("display","none"):s+=a,d)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var h=function(t,i){var s=e(i.children()[0]);s[0]&&(s[0].style.width=a-8+"px",e.jqx.browser.msie&&(s[0].style.width=a-16+"px")),s.attr("disabled",t.disabled)};switch(o.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input")[0].style.width=a-30+"px",e.jqx.browser.msie&&(l.find("input")[0].style.width=a-36+"px"),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:a-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:a-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):h(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(s)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s],n=e(this.filterrow[0].cells[s]);if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var o=function(t,i){var s=e(i.children()[0]);s.val(""),s[0]&&(t["_oldWriteText"+s[0].id]="")};switch(r.filtertype){case"number":case"input":if(n.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(n).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==r.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==r.filtertype?"numberfilter":"stringfilter");null!=r.filtercondition?-1==(l=d.indexOf(r.filtercondition.toUpperCase()))&&(l="number"==r.filtertype?0:2):l="number"==r.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput("setDate",null):o(this,n);break;case"textbox":case"default":o(this,n);break;case"list":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("clearSelection"):o(this,n);break;case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("checkAll",!1):o(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:null}):o(this,n)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,s=0;s<t;s++){var r=new e.jqx.filter,n=this.columns.records[s];if(n.filterable&&null!==n.datafield){var o=i._getcolumntypebydatafield(n),a=i._getfiltertype(o),l=!0,d=(n.filtertype,function(e,t,s){var r=!0;if(e._filterwidget){var n=e._filterwidget.val();if(""!=n){var o="equal";if("stringfilter"==t)o="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&n.indexOf(i.gridlocalization.decimalseparator)>=0&&(n=n.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=n.indexOf(">")&&(o="greater_than",a=1),-1!=n.indexOf("<")&&(o="less_than",a=1),-1!=n.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(n=n.substring(a)).length<1)return!1}if(null!=e.filtercondition&&(o=e.filtercondition),"datefilter"==t)var l=s.createfilter(t,n,o,null,e.cellsformat,i.gridlocalization);else l=s.createfilter(t,n,o);s.addfilter(1,l)}else r=!1}return r});switch(n.filtertype){case"range":case"date":if(n._filterwidget.jqxDateTimeInput)if("range"==n.filtertype)if(null!=(g=n._filterwidget.jqxDateTimeInput("getRange"))&&null!=g.from&&null!=g.to){var h="GREATER_THAN_OR_EQUAL";(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(g.from.getFullYear(),g.from.getMonth(),g.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(g.to.getFullYear(),g.to.getMonth(),g.to.getDate()),c.setHours(g.to.getHours()),c.setMinutes(g.to.getMinutes()),c.setSeconds(g.to.getSeconds());var u=r.createfilter(a,m,h);r.addfilter(0,u);var p=r.createfilter(a,c,"LESS_THAN_OR_EQUAL");r.addfilter(0,p)}else l=!1;else if(null!=(g=n._filterwidget.jqxDateTimeInput("getDate"))){var m;(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(g.getFullYear(),g.getMonth(),g.getDate());var f=n._filterwidget.jqxDateTimeInput("showTimeButton");f&&(m.setHours(g.getHours()),m.setMinutes(g.getMinutes()));h="EQUAL";null!=n.filtercondition&&(h=n.filtercondition);u=r.createfilter(a,m,h);f&&(u=r.createfilter(a,m,h,null,n.cellsformat)),r.addfilter(0,u)}else l=!1;else l=d(n,a,r);break;case"input":if(n._filterwidget){var g=n._filterwidget.find("input").val(),v=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=r.getoperatorsbyfiltertype(a)[v];if(i.updatefilterconditions){null!=(b=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,b);x=r.getoperatorsbyfiltertype(a)[v]}var w="NULL"==x||"NOT_NULL"==x,y="EMPTY"==x||"NOT_EMPTY"==x;null!=g&&g.length>0||w||y?(u=r.createfilter(a,g,x,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"number":if(n._filterwidget){g=n._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&g.indexOf(i.gridlocalization.decimalseparator)>=0&&(g=g.replace(i.gridlocalization.decimalseparator,"."));v=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=r.getoperatorsbyfiltertype(a)[v];if(i.updatefilterconditions){var b;null!=(b=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,b);x=r.getoperatorsbyfiltertype(a)[v]}w="NULL"==x||"NOT_NULL"==x,y="EMPTY"==x||"NOT_EMPTY"==x;null!=g&&g.length>0||w||y?(u=r.createfilter(a,new Number(g),x,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"textbox":case"default":l=d(n,a,r);break;case"bool":case"boolean":if(n._filterwidget.jqxCheckBox)if(null!=(g=n._filterwidget.jqxCheckBox("checked"))){h="equal";var _=r.createfilter(a,g,h);r.addfilter(1,_)}else l=!1;else l=d(n,a,r);break;case"list":if((T=n._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var j=T.getItem(T.selectedIndex),q=(g=j.label,j.value);h="equal";""===g&&(h="NULL");_=r.createfilter(a,g,h);r.addfilter(1,_),q!==g&&(_.data=q)}else l=!1;break;case"checkedlist":if(n._filterwidget.jqxDropDownList){var T,C=(T=n._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==C.length){for(var S=1;S<T.items.length;S++){g=T.items[S].label,q=T.items[S].value,h="not_equal";""===g&&(h="NOT_NULL");_=r.createfilter(a,g,h);q!==g&&(_.data=q),r.addfilter(0,_)}l=!0}else if(C.length!=T.items.length)for(S=0;S<C.length;S++){g=C[S].label,q=C[S].value,h="equal";""===g&&(h="NULL");_=r.createfilter(a,g,h);q!==g&&(_.data=q),r.addfilter(1,_)}else l=!1}else l=d(n,a,r)}this._loading||(l?this.addfilter(n.displayfield,r,!1):this.removefilter(n.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var n=s+10,o=new Array,a=this.that;this.filterrow[0].cells=o,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),c=0;c<s;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var m=document.createElement("div");m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=r,m=e(m),h.appendChild(m[0]),m[0].style.left=i+"px",this.rtl?(m.css("z-index",n++),m.css("border-left-width","1px")):m.css("z-index",n--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=i,u.hidden&&u.hideable?m.css("display","none"):i+=p,o[o.length]=m[0];var f=!0;if(this.rtl){if(this.groupable){g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>s-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==s-1&&(f=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(f=!1)}if(f)if("custom"==u.filtertype&&u.createfilterwidget){u.createfilterwidget(u,m,function(){a._applyfilterfromfilterrow()})}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),d[u.datafield]=u._filterwidget))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,s){for(var r=this.that,n=this,o="",a="",l=0;l<r.dataview.filters.length;l++){var d=r.dataview.filters[l];if(d.datafield&&d.datafield==t.datafield){l=d.filter.getfilters()[0];o=l.value,"range"===t.filtertype&&(o={from:o,to:d.filter.getfilters()[1].value}),a=l.condition,t.filtercondition=a;break}}var h,c,u,p=function(i,r){var n=e('<input autocomplete="off" type="textarea"/>');n.attr("tabindex",5+t.visibleindex),n[0].id=e.jqx.utilities.createId(),n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),n.addClass(i.toThemeProperty("jqx-rc-all")),n.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&n.css("direction","rtl"),i.disabled&&n.attr("disabled",!0),n.attr("disabled",!1),n.appendTo(r),n.css("margin","4px"),n.width(s-8),n.height(i.filterrowheight-9),t.createfilterwidget&&t.createfilterwidget(t,r,n),t._filterwidget=n,n.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=n,n.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),n.blur(function(){n.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),n.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),n[0]._writeTimer&&clearTimeout(n[0]._writeTimer),n[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+n[0].id]||(i["_oldWriteText"+n[0].id]=""),i["_oldWriteText"+n[0].id].length>0&&i["_oldWriteText"+n[0].id]!=n.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()):0==i["_oldWriteText"+n[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()))},t.filterdelay),i.focusedfilter=n}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),n.val(o)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var m=e("<div></div>");m.width(i.width()),m.height(this.filterrowheight),i.append(m);s=i.width()-21;h=m,c=s,u=e('<input style="float: left;" autocomplete="off" type="textarea"/>'),r.rtl&&(u.css("float","right"),u.css("direction","rtl")),u.attr("tabindex",5+t.visibleindex),u[0].id=e.jqx.utilities.createId(),u.addClass(r.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),u.appendTo(h),u.width(c-10),r.disabled&&u.attr("disabled",!0),u.attr("disabled",!1),u[0].style.height=r.filterrowheight-9+"px",u.css("margin","4px"),u.css("margin-right","3px"),u.focus(function(){r.focusedfilter=u,u.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),u.blur(function(){u.removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),u.keydown(function(e){"13"==e.keyCode&&r._applyfilterfromfilterrow(),"9"!=e.keyCode&&(u[0]._writeTimer&&clearTimeout(u[0]._writeTimer),u[0]._writeTimer=setTimeout(function(){r._loading||r["_oldWriteText"+u[0].id]!=u.val()&&(r._applyfilterfromfilterrow(),r["_oldWriteText"+u[0].id]=u.val())},t.filterdelay),r.focusedfilter=u)}),u.val(o);var f=r._getfiltersbytype("number"==t.filtertype?"number":"string");(j=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),j.appendTo(m),r.rtl&&j.css("float","right");var g=0;if(null!=t.filtercondition)-1!=(v=(l=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(g=v);var v,x=180;if("input"==t.filtertype)if(x=240,0==g)-1!=(v=f.indexOf("contains")||2)&&null==t.filtercondition&&(g=v);j.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:g,width:20,height:27,dropDownHeight:150,dropDownWidth:x,source:f,theme:r.theme}),j.jqxDropDownList({selectionRenderer:function(e){return""}}),j.attr("tabindex",5+t.visibleindex),j.jqxDropDownList("setContent",""),j.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,m),t._filterwidget=m;var w=null;this.addHandler(j,"open",function(){n._activeFilterElement=j}),this.addHandler(j,"select",function(){var e=j.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!r.refreshingfilter&&r._applyfilterfromfilterrow(),("input"!=t.filtertype||r.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||r.refreshingfilter||"null"!=w&&"not null"!=w&&"null"!=e&&"not null"!=e)||r._applyfilterfromfilterrow(),w=e});break;case"textbox":case"default":default:p(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var y=e("<div></div>");y.css("margin","4px"),y.css("margin-left","5px"),y.appendTo(i);var b={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};y.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:r.disabled,localization:b,rtl:r.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:s-9,height:this.filterrowheight-9}),t.createfilterwidget&&t.createfilterwidget(t,i,y),o&&o.from?y.jqxDateTimeInput("setRange",o.from,o.to):o&&o.toString().length>1&&y.val(o),y.find("input").attr("tabindex",5+t.visibleindex),t._filterwidget=y,this.addHandler(y,"valueChanged",function(e){r.refreshingfilter||(r._applyfilterfromfilterrow(),r.focusedfilter=null)})}else p(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var _,j,q=this._getfilterdataadapter(t);(j=e("<div></div>")).css("margin","4px"),j.css("margin-left","5px");var T=t.datafield,C="checkedlist"==t.filtertype;x=s<150?220:"auto";q.dataBind();var S=q.records.length<8;_=S,j.appendTo(i),j.jqxDropDownList({hint:!1,placeHolder:r.gridlocalization.filterchoosestring,disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,checkboxes:C,dropDownWidth:x,source:q.records,autoDropDownHeight:S,theme:this.theme,width:s-9,height:this.filterrowheight-9,displayMember:t.displayfield,valueMember:T}),j.attr("tabindex",5+t.visibleindex),j.attr("default-placeholder",!0),t.createfilterwidget&&t.createfilterwidget(t,i,j),this.addHandler(j,"open",function(){n._activeFilterElement=j});var k=j.jqxDropDownList("listBox");if(C){j.jqxDropDownList({selectionRenderer:function(){return'<span class="'+r.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>"}});var I=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>");if(I.addClass(this.toThemeProperty("jqx-item")),null!=k){_||k.host.height(200),k.insertAt({label:r.gridlocalization.filterselectallstring},0),j.jqxDropDownList("setContent",I);var D=!0;new Array;k.checkAll(!1),r.addHandler(k.host,"checkChange",function(e){if(j[0]._selectionChanged=!0,D)if(e.args.label!=r.gridlocalization.filterselectallstring){D=!1,k.host.jqxListBox("checkIndex",0,!0,!1);var t=k.host.jqxListBox("getCheckedItems"),i=k.host.jqxListBox("getItems");1==t.length?k.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&k.host.jqxListBox("indeterminateIndex",0,!0,!1),D=!0}else D=!1,e.args.checked?k.host.jqxListBox("checkAll",!1):k.host.jqxListBox("uncheckAll",!1),D=!0})}}else k.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),j.jqxDropDownList({selectedIndex:0});t._filterwidget=j;j.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(j,"select",function(e){r.refreshingfilter||e.args&&"none"!=e.args.type&&(r._applyfilterfromfilterrow(),r.focusedfilter=null)}):this.addHandler(j,"close",function(e){j[0]._selectionChanged&&(r._applyfilterfromfilterrow(),r.focusedfilter=null,j[0]._selectionChanged=!1)})}else p(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var P=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>');P.appendTo(i),P.jqxCheckBox({disabled:r.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),P.attr("tabindex",5+t.visibleindex),t.createfilterwidget&&t.createfilterwidget(t,i,P),!0===o||"true"==o?P.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||P.jqxCheckBox({checked:!1}),t._filterwidget=P,this.addHandler(P,"change",function(e){r.refreshingfilter||e.args&&(r.focusedfilter=null,r._applyfilterfromfilterrow())})}else p(this,i)}},_getfilterdataadapter:function(t){if(!!this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},s=this;r=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var n=s._getcolumntypebydatafield(t),o=0;o<e.length;o++){i.push(e[o]);var a=e[o][t.displayfield];e[o][t.displayfield+"JQValue"]=a,"date"===n?e[o][t.displayfield]=null!=a?r.formatDate(a,t.cellsformat,s.gridlocalization):"":"number"!==n&&"float"!==n&&"int"!==n||(e[o][t.displayfield]=null!=a?r.formatNumber(a,t.cellsformat,s.gridlocalization):"")}return i}return e}})}else var r=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0)i={localdata:t.filteritems,datatype:this.source.datatype,async:!1},r=new e.jqx.dataAdapter(i,{autoBind:!1,async:!1});else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return r},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s];if(r.filterable&&r.filter){var n=r.filter.getfilters();if(n.length>0){var o=n[0].value,a=r._filterwidget,l=r._filterwidget.parent();if(null!=a)switch(r.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))}break;case"input":if(l.find("input").val(o),this.host.jqxDropDownList){d=r.filter.getoperatorsbyfiltertype("stringfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(o=r.filter.getfilterat(0).filtervalue)){if(r.filter.getfilterat(1))var h=r.filter.getfilterat(1).filtervalue;else h=o;"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),t["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable){var r=s._filterwidget;if("list"==s.filtertype||"checkedlist"==s.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy");else if("date"==s.filtertype||"range"==s.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy");else if("bool"==s.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy");else if("number"==s.filtertype||"input"===s.filtertype){var n=r.find(".jqx-input");this.removeHandler(n,"keydown"),e(r.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(r,"keydown");r.remove()}}},_updatelistfilters:function(t,i){for(var s=this.that,r=this.columns.records.length,n=0;n<r;n++){var o=this.columns.records[n];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(t){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var d=!0;if((u=a.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var h=1;h<u.length;h++)if(u[h].label!=l.records[h-1][o.displayfield]){d=!1;break}if(d&&!i)continue}else if(null==o.filter){a.jqxDropDownList("renderSelection");continue}var c="checkedlist"==o.filtertype,u=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),c){a.jqxDropDownList({selectionRenderer:function(){return s.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var m=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(m.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",m),p.checkAll(!1),o.filter){var f=o.filter.getfilters();for(h=0;h<p.items.length;h++){var g=p.items[h].label,v=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var x=p.getCheckedItems().length;p.items.length!=x&&x>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.items[0].label!==this.gridlocalization.filterchoosestring&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){f=o.filter.getfilters();var w=-1;for(h=0;h<p.items.length;h++){g=p.items[h].label;e.each(f,function(){return"NOT_EQUAL"==this.condition||(g==this.value?(w=h,!1):void 0)})}-1!=w&&p.selectIndex(w)}u.length<8?a.jqxDropDownList("autoDropDownHeight",!0):a.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,s){var r=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),r=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),r=!0),this.element.removeAttribute("filter"),r&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=r?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(!s.datatype){var r="";e.each(t,function(){if(this.name==s.displayfield)return this.type&&(r=this.type),!1}),s.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}return s},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,s){var r=e(i).find(".filter1"),n=e(i).find(".filter2"),o=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=a.val(),h=l.val(),c=t._getcolumntypebydatafield(s),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype){var m=r.jqxDropDownList("selectedIndex"),f=n.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,x=null;if(t.updatefilterconditions){var w=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));null!=w&&u.setoperatorsbyfiltertype(p,w)}var y=!1,b=u.getoperatorsbyfiltertype(p)[m],_=(o=u.getoperatorsbyfiltertype(p)[g],"NULL"==b||"NOT_NULL"==b),j="EMPTY"==b||"NOT_EMPTY"==b;null==b&&(b=u.getoperatorsbyfiltertype(p)[0]),null==o&&(o=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||j)&&(v=u.createfilter(p,d,b,null,s.cellsformat,t.gridlocalization),u.addfilter(f,v),y=!0);var q="NULL"==o||"NOT_NULL"==o,T="EMPTY"==o||"NOT_EMPTY"==o;if((h.length>0||q||T)&&(x=u.createfilter(p,h,o,null,s.cellsformat,t.gridlocalization),u.addfilter(f,x),y=!0),y){var C=s.displayfield;this.addfilter(C,u,!0)}else this._clearfilter(t,i,s)}else if("excel"===t.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var S=!1,k=r.data().jqxListBox.instance,I="excel"===this.filtermode||"checkedlist"===s.filtertype,D=k.getCheckedItems();if(!I)D=k.getSelectedItems();if(0==D.length){for(var P=1;P<k.items.length;P++){void 0===(H=k.items[P].value)&&(H="");var A="not_equal";if(H&&H.indexOf&&(H.indexOf("|")>=0||H.indexOf(" AND ")>=0||H.indexOf(" OR ")>=0||H.indexOf(" and ")>=0||H.indexOf(" or ")>=0)){H=(H=(H=(H=(H=H.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");A="equal"}if("datefilter"==p)var M=u.createfilter(p,H,A,null,s.cellsformat,t.gridlocalization);else M=u.createfilter(p,H,A,null);u.addfilter(0,M)}S=!0}else if(D.length!=k.items.length){S=!0;for(P=0;P<D.length;P++)if(t.gridlocalization.filterselectallstring!==D[P].value){var H;void 0===(H=D[P].value)&&(H="");A="equal";if("datefilter"==p)M=u.createfilter(p,H,A,null,s.cellsformat,t.gridlocalization);else M=u.createfilter(p,H,A,null);u.addfilter(1,M)}}else S=!1;if(S){C=s.displayfield;this.addfilter(C,u,!0)}else{C=s.displayfield;this.removefilter(C,!0)}}},_clearfilter:function(e,t,i){var s=i.displayfield;this.removefilter(s,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&null!=s&&(s.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var s=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,s,null,!1,!1):this.sortby(this.sortcolumn,s,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("group")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var s=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!s)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),s=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),n=e(e.find("#filter3"+this.element.id)),o=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy");s=e(e.find("#filter1"+this.element.id+"ex")),r=e(e.find("#filter2"+this.element.id+"ex")),n=e(e.find("#filter3"+this.element.id+"ex"));s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,s){null!=t&&null!=t||(t=this);var r=t._getcolumntypebydatafield(s),n=t._getfiltersbytype(r);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),e(i).children().detach();var o=e(t.menuitemsarray[6]);if(e(o).css("height","220px"),s.createfilterpanel&&!s.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),s.createfilterpanel(s.displayfield,a),s.filterpanel=a}"list"===s.filtertype||"checkedlist"===s.filtertype?e(i).append(t.excelfilterpanel):"custom"!==s.filtertype?e(i).append(t.filterpanel):s.filterpanel&&e(i).append(s.filterpanel),this._showwhere=e(i).find(".filter.showwhere");var l=e(i),d=l.find("#filterclearbutton"+t.element.id),h=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){var g=m.parent(),v=f.parent();if("date"==s.filtertype){m.jqxDateTimeInput("destroy"),f.jqxDateTimeInput("destroy"),g.children().remove(),v.children().remove(),t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var x=e("<div class='filtertext1"+t.element.id+"' style=''></div>");g.append(x),(w=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-10,height:24,value:null,formatString:s.cellsformat,theme:t.theme})})(x);x=e("<div class='filtertext2"+t.element.id+"' style=''></div>");v.append(x),w(x)}else{g.children().remove(),v.children().remove(),t._showwhere.text(t.gridlocalization.filtershowrowstring);var w;x=e("<input autocomplete='off' class='filtertext1"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");g.append(x),(w=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-18)})(x);x=e("<input autocomplete='off' class='filtertext2"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");v.append(x),w(x)}m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id)}if("date"!=s.filtertype?(m.val(""),f.val("")):(m.val(null),f.val(null)),h.length>0&&(h.jqxButton({height:this.filterMenuItemsHeight}),d.jqxButton({height:this.filterMenuItemsHeight}),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._buildfilter(t,i,s),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,s),t._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,s),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,s),t._closemenu())})),m.length>0&&(this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()})),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){if(c.jqxDropDownList("source")!=n&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n})),"boolean"==r||"bool"==r)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var y=!1;n&&n.length&&n.length<5&&(y=!0),c.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var b=s.filter,_=new e.jqx.filter,j="";switch(r){case"number":case"int":case"float":case"decimal":j="numericfilter",q=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":j="booleanfilter",q=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":j="datefilter",q=_.getoperatorsbyfiltertype("datefilter");break;case"string":j="stringfilter",q=_.getoperatorsbyfiltertype("stringfilter")}if(null!=b){g=b.getfilterat(0),v=b.getfilterat(1),b.getoperatorat(0);if(t.updatefilterconditions){var q=[],T=t.updatefilterconditions(j,q);if(null!=T){for(var C=0;C<T.length;C++)T[C]=T[C].toUpperCase();b.setoperatorsbyfiltertype(j,T),q=T}}var S="default";if(null!=g){var k=q.indexOf(g.comparisonoperator),I=g.filtervalue;m.val(I),c.jqxDropDownList({selectedIndex:k,animationType:S})}if(null!=v){var D=q.indexOf(v.comparisonoperator),P=v.filtervalue;f.val(P),p.jqxDropDownList({selectedIndex:D,animationType:S})}null==b.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:S}):"and"==b.getoperatorat(0)||0==b.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,m,f,h,d,b,j,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=s.filtertype)&&(this.touchdevice||(m.focus(),setTimeout(function(){m.focus()},10)))}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var A=t._getfilterdataadapter(s),M=(j=t._getfiltertype(r),"excel"===this.filtermode||"checkedlist"===s.filtertype);if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),s.cellsformat?c.jqxListBox({checkboxes:M,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:A}):c.jqxListBox({checkboxes:M,displayMember:s.displayfield,valueMember:s.displayfield,source:A}),M){var H=c.jqxListBox("getItem",0);H&&H.label===t.gridlocalization.filterselectallstring||c.jqxListBox("insertAt",{label:t.gridlocalization.filterselectallstring},0),(N=c.data().jqxListBox.instance).checkAll(!1);if(s.filter){N.uncheckAll(!1);for(var B=s.filter.getfilters(),z=0;z<N.items.length;z++){var E=N.items[z].value;e.each(B,function(){if("NOT_EQUAL"==this.condition){if(E!=this.value)return N.uncheckIndex(z,!1,!1),!1;if(null!=E&&null!=this.value&&E.toString()!=this.value.toString())return N.uncheckIndex(z,!1,!1),!1}else if("EQUAL"==this.condition){if(E==this.value)return N.checkIndex(z,!1,!1),!1;if(null!=E&&null!=this.value&&E.toString()==this.value.toString())return N.checkIndex(z,!1,!1),!1}})}N._updateCheckedItems();var L=N.getCheckedItems().length;N.items.length!=L&&L>0&&N.host.jqxListBox("indeterminateIndex",0,!0,!1),L===N.items.length-1&&N.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){var N;(N=c.data().jqxListBox.instance).clearSelection();for(B=s.filter.getfilters(),z=0;z<N.items.length;z++){E=N.items[z].value;e.each(B,function(){if("NOT_EQUAL"==this.condition){if(E!=this.value)return N.unselectIndex(z,!1,!1),!1}else if("EQUAL"==this.condition&&E==this.value)return N.selectIndex(z,!0,!1),!1})}N._renderItems()}}},_initfilterpanel:function(t,i,s,r,n){null!=t&&null!=t||(t=this),i[0].innerHTML="";var o=e("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");i.append(o);var a=e("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var l=n?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(s);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records){for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(m=0;m<this.columns.length;m++)if("date"==this.columns[m].filtertype){this._hasdatefilter=!0;break}this._hasdatefilter=!0;var f=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+t.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=f.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-18);var v=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+t.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px;' type='text'></input></div>"),x=v.find("input");x.addClass(this.toThemeProperty("jqx-input")),x.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),x.addClass(this.toThemeProperty("jqx-rc-all")),x.width(r-18),t.rtl&&(g.css("direction","rtl"),x.css("direction","rtl"));var w=e("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>"),y=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+t.gridlocalization.filterstring+"</span>");w.append(y);var b=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton secondary" style="position: relative; left: 2px; padding: 6px 15px; margin-left: 7px;">'+t.gridlocalization.filterclearstring+"</span>");w.append(b),y.jqxButton({height:this.filterMenuItemsHeight,theme:t.theme}),b.jqxButton({height:this.filterMenuItemsHeight,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||n){if("excel"===this.filtermode||n){o.append(a),o.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-10,height:160,theme:t.theme});var j=!0;t.addHandler(d,"checkChange",function(e){if(j)if(e.args.label!=t.gridlocalization.filterselectallstring){j=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),s=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):s.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),j=!0}else j=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),j=!0})}}else{o.append(a),o.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:r-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(f);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:this.filterMenuItemsHeight,source:q,selectionRenderer:_,theme:t.theme}),o.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:r-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(c),o.append(v)}o.append(w),t.updatefilterpanel&&t.updatefilterpanel(d,c,h,f,v,y,b,null,null,p)}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,s){var r=Object.prototype.toString;if(null!=i||(this.sortdata=null,"many"!==this.grid.sortmode?this.sortcache={}:this.sortcache[t]&&delete this.sortcache[t],this.grid._pagescache=new Array,this.grid._cellscache=new Array,"many"===this.grid.sortmode)){"many"===this.grid.sortmode&&(this.grid._pagescache=new Array,this.grid._cellscache=new Array),null!=i&&(i="a"==i||"asc"==i||"ascending"==i||1==i);var n=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",null==i&&(this.sortfielddirection=null),null==this.sortcache&&(this.sortcache={}),this.sortdata=[];var o=[],a=!1;if("constructor"==n&&(n=""),!this.virtualmode&&null!=this.sortcache[n]&&"many"!==this.grid.sortmode){var l=this.sortcache[n];o=l._sortdata,l.direction==i?o.reverse():(!l.direction&&i&&o.reverse(),a=!0),o.length<this.totalrecords&&(this.sortcache={},a=!1,o=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var d=this.records,h=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==t)return this.type&&(h=this.type),!1}),0==o.length)if(d.length)for(var c=d.length,u=0;u<c;u++){if(null!=(g=d[u])){var p=(v=g).toString();o.push({sortkey:p,value:v,index:u})}}else{var m=!1;for(var f in d){var g;if(null==(g=d[f])){m=!0;break}var v=g;o.push({sortkey:v.toString(),value:v,index:f})}m&&e.each(d,function(e,t){o.push({sortkey:t.toString(),value:t,index:e})})}if(!a)if(null==s){this._sortcolumntype=h;var x=this;o.sort(function(e,t){return x._compare(e,t,h)})}else o.sort(s);if(i||o.reverse(),Object.prototype.toString=r,this.sortdata=o,null!==i&&(this.sortcache[n]={_sortdata:o,direction:i,dataType:this._sortcolumntype,dataField:n}),"many"===this.grid.sortmode){var w=[],y=[],b=[];for(var _ in this.sortcache)if("data"!==_){l=this.sortcache[_];w.push(l.dataField),y.push(l.direction?"asc":"desc"),b.push(l.dataType)}if(!(w.length>0))return this.sortcache={},this.sortdata=null,void this.refresh();var j=this.multiSort(d,w,y,b);o=[],j&&e.each(j,function(e,t){o.push({sortkey:n,value:t,index:t.boundindex})}),this.sortdata=o}this.reload(this.records,this.rows,this.filters,this.updated,!0)}else this.refresh()},this.multiSort=function(t,i,s,r,n){if(0===t.length)return[];for(var o=[],a=0;a<t.length;a++){var l=e.extend({},t[a]);o.push(l)}var d=!1;if(o&&o.constructor&&"ObservableArray"===o.constructor.name&&(d=!0),!(o&&o instanceof Array&&0!==o.length&&i&&!(i instanceof Array&&0===i.length)||d))throw new Error("sort: Missing or Invalid arguments!");"string"==typeof i&&(i=[i]);var h=[],c=[];void 0===s&&(s=[]);var u=function(e,t){var i;switch(t||typeof e){case"string":default:i=(new Intl.Collator).compare;break;case"date":case"time":case"datetime":case"number":case"int":case"float":i=function(e,t){return e-t};break;case"boolean":i=function(e,t){return e===t?0:!1===e?-1:1};break;case"object":e instanceof Date&&(i=function(e,t){return e.getTime()-t.getTime()})}return i};for(a=0;a<i.length;a++){void 0===s[a]||"asc"===s[a]||"ascending"===s[a]?h[a]=1:h[a]=-1;var p=o[0][i[a]];c[a]=u(p,r[a])}if(!n)return o.sort(function(e,t){for(var s=0;s<i.length;s++){var r=c[s](e[i[s]],t[i[s]]);if(0===r){if(i[s+1])continue;return void 0!==e._index?(e._index-t._index)*h[s]:0}return r*h[s]}if(0===i.length)return e.boundIndex<t.boundIndex?-1:e.boundIndex>t.boundIndex?1:0}),o;n(o,i,s,c)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,s){if(void 0===(t=t.sortkey)&&(t=null),void 0===(i=i.sortkey)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if("many"!==this.sortmode){if(this.sortdirection){var s=function(i,s){var r=t.getcolumn(i);r&&(s.ascending?e.jqx.aria(r.element,"aria-sort","ascending"):s.descending?e.jqx.aria(r.element,"aria-sort","descending"):e.jqx.aria(r.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&s(this._oldsortinfo.column,{ascending:!1,descending:!1}),s(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(s,r){var n=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),e(this.sorticon).css("visibility","hidden"),e(this.sorticon).removeClass("ascending"),e(this.sorticon).removeClass("descending"),this.element.removeAttribute("sort"),null!=n&&(n.sortasc.hide(),n.sortdesc.hide())):(t.isMaterialized()||t.isModern()?(e(this.sortasc).hide(),e(this.sortdesc).hide(),e(this.sorticon).show(),e(this.sorticon).css("visibility","inherit"),null!=n&&(n.sortasc.hide(),n.sortdesc.show()),e(this.sorticon).removeClass("ascending"),e(this.sorticon).removeClass("descending"),t.sortdirection.ascending?e(this.sorticon).addClass("ascending"):e(this.sorticon).addClass("descending")):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=n&&(n.sortasc.show(),n.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=n&&(n.sortasc.hide(),n.sortdesc.show())),this.element.setAttribute("sort",!0))})}else{this.__columnsbydatafield=new Array;var r=this.getsortcolumns();if(e.each(this.columns.records,function(t,i){e(this.sortasc).hide(),e(this.sortdesc).hide(),e(this.sorticon).css("visibility","hidden"),this.element.removeAttribute("sort")}),r.length>0)for(var n=0;n<r.length;n++){var o=r[n],a=this._getcolumnbydatafield(o.dataField);a.element.setAttribute("sort",!0),t.isMaterialized()||t.isModern()?(e(a.sorticon).show(),e(a.sorticon).css("visibility","inherit"),e(a.sorticon).removeClass("ascending"),e(a.sorticon).removeClass("descending"),o.ascending?e(a.sorticon).addClass("ascending"):e(a.sorticon).addClass("descending")):o.ascending?(e(a.sortasc).show(),e(a.sortdesc).hide()):!1===o.ascending&&(e(a.sortasc).hide(),e(a.sortdesc).show())}}},getsortcolumns:function(){var e=this,t=[];for(var i in e.dataview.sortcache)"data"!==i&&t.push({dataField:i,ascending:e.dataview.sortcache[i].direction});if(0===t.length)for(var s in e.sortcolumns){var r=e.sortcolumns[s];null!==r&&t.push({dataField:s,ascending:r})}return t},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){if(this.sortby(null),"many"===this.sortmode)for(var e in this.sortcolumns)this.sortby(e,null)},sortby:function(e,t,i,s,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var n=this.that;if(null==i&&n.source&&null!=n.source.sortcomparer&&(i=n.source.sortcomparer),void 0===t&&(t=!0),"a"==t||"asc"==t||"ascending"==t||1==t)var o=!0;else o=!1;if(n.sortdirection=null!=t?{ascending:o,descending:!o}:{ascending:!1,descending:!1},n.sortcolumn=null!=t?e:null,n.sortcolumns||(n.sortcolumns=[]),n.sortcolumns[e]=t,n.source&&(n.source.sort||n.virtualmode)){if(n.dataview.sortfield=e,n.dataview.sortfielddirection=null==t?"":o?"asc":"desc",n.source.sort&&!this._loading)return n.source.sort(e,t,n.sortcolumns),void n._raiseEvent(6,{sortinformation:n.getsortinformation()})}else n.dataview.sortby(e,t,i);if(!1===s)return;n.groupable&&n.groups.length>0?(n._render(!0,!1,!1),n._updategroupheadersbounds&&n.showgroupsheader&&n._updategroupheadersbounds(),n._postrender("sort")):(n.pageable&&n.dataview.updateview(),n._updaterowsproperties(),n.rendergridcontent(!0),n._postrender("sort")),n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled)if("many"!==this.sortmode){if(e.sortable&&t.sortable){var i=t.getsortinformation();r=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(r=i.sortdirection.ascending,r=t.sorttogglestates>1?1!=r&&null:!r):r=!0,t.sortby(e.displayfield,r,null)}}else if(e.sortable&&t.sortable){for(var s=t.getsortcolumns(),r=null,n=0;n<s.length;n++){var o=s[n];if(e.displayfield===o.dataField)return r=o.ascending,r=t.sorttogglestates>1?1!=r&&null:!r,void t.sortby(e.displayfield,r,null)}t.sortby(e.displayfield,!0,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_exportData:function(t,i,s){var r=this,n="string"==typeof i?i:i.fileName;n||(n="jqxGrid"),i&&"string"!=typeof i||(i={header:!0,filterBy:null,groupBy:null,style:null,fileName:n,pageOrientation:"portrait",expandChart:"+",collapseChar:"-"});var o=new e.jqx.dataAdapter.DataExporter({exportHeader:i.header});o.expandChar=i.expandChar,o.collapseChar=i.collapseChar,o.pageOrientation=i.pageOrientation,o.style=i.style,o.filterBy=i.filterBy,o.groupBy=i.groupBy;for(var a=[],l=r.columngroups||[],d=0,h=0;h<r.columns.records.length;h++){(k=r.columns.records[h]).exportable&&(null!==r.columns.records[h].datafield&&(a[d++]={label:r.columns.records[h].text,dataField:r.columns.records[h].datafield}))}if(o.header={columns:a,columngroups:l},!i.style){var c=window.getComputedStyle(r.element),u=window.getComputedStyle(r.columns.records.length>0&&r.columns.records[0].element?r.columns.records[0].element:r.host.find(".jqx-grid-header")[0]),p=window.getComputedStyle(r.host.find(".jqx-grid-header")[0]);if(!(0===r.offsetWidth||0===r.offsetHeight)){var m=function(e){var t=e.fontSize,i=e.borderRightColor,s=e.backgroundColor,n=e.color,o=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),a=function(e){return isNaN(e)?"00":o[(e-e%16)/16]+o[e%16]},l=function(e){if(-1!=e.toString().indexOf("rgba")){var t=n.split(","),i=parseInt(t[0].substring(5)),s=parseInt(t[1]),o=parseInt(t[2]),l=parseFloat(t[3].substring(1,4)),d={r:i,g:s,b:o},h=r._rgbToHex(d);return 0==i&&0==s&&0==o&&0==l?"#ffffff":"#"+h}return(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+a(e[1])+a(e[2])+a(e[3]).toUpperCase():"#ffffff"};return{borderColor:l(i),fontSize:t,fontFamily:"Helvetica",color:l(n),backgroundColor:l(s)}},f=m(c),g=m(u),v=m(p),x={height:"30px",border:"1px solid "+f.borderColor,fontFamily:v.fontFamily,fontSize:v.fontSize,color:v.color,backgroundColor:g.backgroundColor,fontWeight:"400"},w={border:"1px solid "+f.borderColor,fontFamily:f.fontFamily,fontSize:f.fontSize},y={height:r.rowsheight+"px"};for(h=0;h<r.columns.records.length;h++){if((k=r.columns.records[h]).exportable){x[k.datafield]={textAlign:k.align,width:k.width+"px",format:k.cellsformat||""};var b=k.cellsformat||"";"date"===k.dataType?b="d":"dateTime"===k.dataType?b="D":"time"===k.dataType&&(b="t");var _={textAlign:k.cellsalign,format:b};w[k.datafield]=_}}r.altrows&&(y.alternationCount=2,y.alternationStart=0,y.alternationEnd=0,y.alternationIndex0Color=f.color,y.alternationIndex0BackgroundColor=f.backgroundColor,y.alternationIndex1Color=f.color,y.alternationIndex1BackgroundColor="#F5F5F5"),o.style={border:"1px solid "+f.borderColor,borderCollapse:"collapse",header:x,columns:w,rows:y}}}var j=s||this.getrows(),q=[];for(h=0;h<j.length;h++){var T=j[h];if(!T.hidden){for(var C={},S=0;S<r.columns.records.length;S++){var k;(k=r.columns.records[S]).exportable&&(C[k.datafield]=T[k.datafield])}q.push(C)}}return!i.groupBy&&r.groups&&(o.groupBy=r.groups.slice(0)),o.exportData(q,t,i.fileName,null)},exportview:function(e,t,i){this._exportData(e,t,i)},exportdata:function(t,i,s,r,n,o,a){if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";if("xlsx"!==t){null==s&&(s=!0);var l=this;if(null==r)if(0==(r=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var d=this.hScrollInstance.value;this.hScrollInstance.setPosition(0),this._renderrows(this.virtualsizeinfo);var h=null!=n&&n,c={},u={},p=this.host.find(".jqx-grid-cell:first"),m=this.host.find(".jqx-grid-cell-alt:first");p.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),p.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),m.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),m.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),p.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),p.removeClass(this.toThemeProperty("jqx-fill-state-hover")),m.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),m.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var f="cell",g=1,v=1,x=[],w=0;w<this.columns.records.length;w++){var y=this.columns.records[w];if(""!=y.cellclassname)if(y.customCellStyles=new Array,"string"==typeof y.cellclassname)for(var b=0;b<r.length;b++)y.customCellStyles[b]=y.cellclassname;else for(b=0;b<r.length;b++){var _=this.getrowboundindex(b),j=y.cellclassname(_,y.displayfield,r[b][y.displayfield],r[b]);j&&(y.customCellStyles[b]=j)}}var q=new Array,T=null,C=null,S=null;if(e.each(this.columns.records,function(i){var n=e(l.table[0].rows[0].cells[i]);if(l.table[0].rows.length>1){var o=e(l.table[0].rows[1].cells[i]);S||(S=o)}C||(C=n);var a=this,d=function(e){if(e.removeClass(l.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(l.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(l.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(d(n),o&&d(o),null==this.displayfield)return!0;l.showaggregates&&l.getcolumnaggregateddata&&x.push(l.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,r));var p=l._getexportcolumntype(this);!this.exportable||this.hidden&&!h||(c[this.displayfield]={},c[this.displayfield].text=this.text,c[this.displayfield].width=parseInt(this.width),isNaN(c[this.displayfield].width)&&(c[this.displayfield].width=60),c[this.displayfield].formatString=this.cellsformat,c[this.displayfield].localization=l.gridlocalization,c[this.displayfield].type=p,c[this.displayfield].cellsAlign=this.cellsalign,c[this.displayfield].hidden=!s,c[this.displayfield].displayfield=this.displayfield,q.push(c[this.displayfield])),f="cell"+g;var m=e(this.element);if(null==this.element&&(m=e(this.uielement)),T){if(!a._rendered){m=T,n=C,o=S;var w=l.toTP("jqx-grid-cell")+" "+l.toTP("jqx-item");n[0].className=w,w+=l.toTP("jqx-grid-cell-alt"),o&&(o[0].className=w)}}else T=m;if("html"==t||"xls"==t||"pdf"==t){var y=function(e,i,s,r,n,o,a,l,d){u[e]={},null!=i&&0!=i[0].offsetWidth&&0!=i[0].offsetHeight&&(u[e]["font-size"]=i.css("font-size"),u[e]["font-weight"]=i.css("font-weight"),u[e]["font-style"]=i.css("font-style"),u[e]["background-color"]=o._getexportcolor(i.css("background-color")),u[e].color=o._getexportcolor(i.css("color")),u[e]["border-color"]=o._getexportcolor(i.css("border-top-color")),s?u[e]["text-align"]=n.align:(u[e]["text-align"]=n.cellsalign,u[e].formatString=n.cellsformat,u[e].dataType=p),"html"!=t&&"pdf"!=t||(u[e]["border-top-width"]=i.css("border-top-width"),u[e]["border-left-width"]=i.css("border-left-width"),u[e]["border-right-width"]=i.css("border-right-width"),u[e]["border-bottom-width"]=i.css("border-bottom-width"),u[e]["border-top-style"]=i.css("border-top-style"),u[e]["border-left-style"]=i.css("border-left-style"),u[e]["border-right-style"]=i.css("border-right-style"),u[e]["border-bottom-style"]=i.css("border-bottom-style"),s?(0==a&&(u[e]["border-left-width"]=i.css("border-right-width")),u[e]["border-top-width"]=i.css("border-right-width"),u[e]["border-bottom-width"]=i.css("border-bottom-width")):0==a&&(u[e]["border-left-width"]=i.css("border-right-width")),u[e].height=i.css("height")),!n.exportable||n.hidden&&!h||(1==l?(c[n.displayfield].customCellStyles||(c[n.displayfield].customCellStyles=new Array),c[n.displayfield].customCellStyles[d]=e):s?c[n.displayfield].style=e:r?c[n.displayfield].cellAltStyle=e:c[n.displayfield].cellStyle=e))};if(y("column"+v,m,!0,!1,this,l,i),v++,y(f,n,!1,!1,this,l,i),l.altrows&&y(f="cellalt"+g,o,!1,!0,this,l,i),this.customCellStyles){for(var b in a.customCellStyles)n.removeClass(a.customCellStyles[b]);for(var b in a.customCellStyles)n.addClass(a.customCellStyles[b]),y(f+a.customCellStyles[b],n,!1,!1,this,l,i,!0,b),n.removeClass(a.customCellStyles[b])}g++}}),e.each(this.columns.records,function(e){c[this.displayfield]&&(c[this.displayfield].columnsDataFields=q)}),this.showaggregates){var k=[],I="xls"==t?"_AG":"",D=this.groupable?this.groups.length:0;this.rowdetails&&D++,"checkbox"===this.selectionmode&&D++,x.length>0&&(e.each(this.columns.records,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(k[t]||(k[t]={}),k[t]){var i=l._getaggregatename(this.aggregates[t]),s=l._getaggregatetype(this.aggregates[t]),r=x[e-D];r&&(k[t][this.displayfield]=I+i+": "+r[s])}}),e.each(this.columns.records,function(e){for(var t=0;t<k.length;t++)null==k[t][this.displayfield]&&(k[t][this.displayfield]=I)})),e.each(k,function(){r.push(this)})}var P=this,A=e.jqx.dataAdapter.ArrayExporter(r,c,u);if(null==i){this._renderrows(this.virtualsizeinfo);var M=A.exportTo(t);return this.showaggregates&&e.each(k,function(){r.pop(this)}),setTimeout(function(){P.exporting=!1},50),this.hScrollInstance.setPosition(d),this._renderrows(this.virtualsizeinfo),M}A.exportToFile(t,i,o,a),this.showaggregates&&e.each(k,function(){r.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){P.exporting=!1},50),this.hScrollInstance.setPosition(d),this._renderrows(this.virtualsizeinfo)}else this._exportData("xlsx",i)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseFloat(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsformat.indexOf("c"))return"number";if(-1!=t.cellsformat.indexOf("n"))return"number";if(-1!=t.cellsformat.indexOf("p"))return"number";if(-1!=t.cellsformat.indexOf("d"))return"date";if(-1!=t.cellsformat.indexOf("y"))return"date";if(-1!=t.cellsformat.indexOf("M"))return"date";if(-1!=t.cellsformat.indexOf("m"))return"date";if(-1!=t.cellsformat.indexOf("t"))return"date";if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,s=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerheight-28)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 26px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if("material"===this.pagermode){var n=function(){var i=e("<div style='margin-top: 5px; width: 100%; height: 100%;'></div>"),s=document.createElement("style");s.innerHTML=".jqx-center{text-align:center}.jqx-pagination{display:inline-block}.jqx-pagination span{float:left;text-decoration:none;transition:background-color .3s;border-style:solid;border-width:1px;margin:0 4px;border-radius:100%;width:38px;height:38px;display:flex;justify-content:center;align-content:center;align-items:center;cursor:pointer}",i[0].appendChild(s);var r=t.getdatainformation().paginginformation,n=(document.querySelector("#pager"),document.createElement("div"));n.classList.add("jqx-center");for(var o="<span>â®</span>",a=0;a<r.pagesize;a++)o+="<span>"+r.pagenum+a+"1</span>";o+="<span>â¯</span>",n.innerHTML='<div class="jqx-pagination">'+o+"</div>",i[0].appendChild(n);var l=n.querySelectorAll("span"),d=t.theme,h=function(e,t,i){e.classList.add("jqx-grid-column-header"),"hover"===i&&e.classList[t]("jqx-fill-state-hover"),d&&(e.classList.add("jqx-grid-column-header-"+d),"hover"===i&&e.classList[t]("jqx-fill-state-hover-"+d)),"pressed"===i&&(e.classList[t]("active"),e.classList[t]("jqx-grid-cell-selected"),d&&e.classList[t]("jqx-grid-cell-selected-"+d))};for(a=0;a<l.length;a++){var c=l[a];a>0&&a<l.length-1?(c.innerHTML=r.pagenum+a,c.setAttribute("data-page",a)):(0===a&&c.setAttribute("data-page","prev"),a===l.length-1&&c.setAttribute("data-page","next")),a===r.pagenum+1&&h(c,"add","pressed"),h(c,"add","normal"),c.onmouseenter=function(){h(this,"add","hover")},c.onmouseleave=function(){h(this,"remove","hover")},c.onpointerdown=function(){h(this,"add","pressed")},c.onclick=function(){for(var e=0;e<l.length;e++)h(l[e],"remove","pressed");var i=this.getAttribute("data-page"),s=t.getdatainformation(),r=s.paginginformation;"prev"===i&&r.pagenum>0?t.gotoprevpage():"next"===i&&r.pagenum<r.pagescount-1?t.gotonextpage():"prev"!==i&&"next"!==i&&(i=parseInt(i),t.gotopage(i-1));var n=!1,o=null;r=(s=t.getdatainformation()).paginginformation;for(var a=0;a<l.length;a++){var d=l[a];(i=parseInt(d.getAttribute("data-page")))===r.pagenum+1&&h(d,"add","pressed");var c=parseInt(l[1].getAttribute("data-page"))-1,u=[c,c+r.pagesize];(r.pagenum<u[0]||r.pagenum>=u[1])&&a>0&&a<l.length-1&&(o?o++:o=Math.max(1,r.pagenum-r.pagesize+a+1),d.innerHTML=o,n=!0)}if(n)for(a=1;a<l.length-1;a++){d=l[a];var p=parseInt(d.innerHTML);p===r.pagenum+1&&h(d,"add","pressed"),d.setAttribute("data-page",p)}return!1}}return i}();this.pagerdiv.children().remove(),this.pagerdiv.append(e(n)),this.pager.append(this.pagerdiv)}else if(this.pagerrenderer){this.pagerdiv.children().remove(),null!=(n=this.pagerrenderer())&&this.pagerdiv.append(e(n)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",r),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-left: 3px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var a=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=s,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var m=6+(this.columns.records?this.columns.records.length:this.columns.length);this.pagerpageinput.attr("tabindex",m++),this.pagershowrowscombo.attr("tabindex",m++),this.pagerleftbutton.attr("tabindex",m++),this.pagerrightbutton.attr("tabindex",m++);t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,s=t.dataview.pagenum*t.dataview.pagesize,r=c[i],n=t.pagesize;t.pagesize=parseInt(r),isNaN(t.pagesize)&&(t.pagesize=10),t.dataview.pagesize=t.pagesize;var o=Math.floor(s/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:o,oldpagesize:n,pagesize:t.dataview.pagesize}),t.gotopage(o),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500)),setTimeout(function(){t.pagershowrowscombo.focus()},25)}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||(t.gotopage(i-1),setTimeout(function(){f.focus()},25)),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||(t.gotopage(e-1),setTimeout(function(){f.focus()},25))}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())}),this.addHandler(this.pagerrightbutton,"keydown",function(e){13===e.keyCode&&(t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage(),setTimeout(function(){t.pagerrightbutton.focus()},25)))}),this.addHandler(this.pagerleftbutton,"keydown",function(e){13===e.keyCode&&(t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage(),setTimeout(function(){t.pagerleftbutton.focus()},25)))});var g=this;if("simple"===this.pagermode){var v=this.pagerfirstbutton,x=this.pagerlastbutton;this.addHandler(x,"mouseenter",function(){a.addClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(v,"mouseenter",function(){o.addClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(x,"mouseleave",function(){a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(v,"mouseleave",function(){o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(x,"mousedown",function(){a.addClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(v,"mousedown",function(){o.addClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(x,"mouseup",function(){a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(v,"mouseup",function(){o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){h.removeClass(g.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(g.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(g.rtl){var e=g.dataview.totalrecords,t=Math.ceil(e/g.pagesize);g.gotopage(t-1)}else g.gotopage(0)}),this.addHandler(x,"click",function(){if(!x.jqxButton("disabled"))if(g.rtl)g.gotopage(0);else{var e=g.dataview.totalrecords,t=Math.ceil(e/g.pagesize);g.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(s),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r);var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){s.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){s.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){s.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){s.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var s=Math.ceil(t/this.pagesize);if(e>=s&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=s-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,n=r+this.dataview.pagesize;if(null!=r&&null!=n)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight)this.host.height()-this._gettableheight()+this._pageviews[0].height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo));null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var s=this.dataview.totalrecords;this.summaryrows&&(s+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=s)),t++;var r=Math.ceil(s/this.dataview.pagesize);if(r>=1&&r--,r++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var n="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var a=0;for(this.rtl&&(a=o-1);this.rtl&&a>=0||!this.rtl&&a<o;){var l=1+a,d=this.dataview.pagenum/o;l+=Math.floor(d)*o;var h=this.toTP("jqx-grid-pager-number");if(h+=" "+this.toTP("jqx-rc-all"),l>r)break;if(this.rtl||0==a&&l>o&&(n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>"),this.dataview.pagenum===l-1&&(h+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(a===o-1){h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}this.dataview.pagenum===l-1&&(h+=" "+this.toTP("jqx-fill-state-pressed")),n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>"}else if(n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>",a===o-1){var h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}if(this.rtl){h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),0==a&&l>o&&(n+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>")}this.rtl?a--:a++}var c=this.pagerbuttons.find("a");this.removeHandler(c,"click"),this.removeHandler(c,"mouseenter"),this.removeHandler(c,"mouseleave"),this.pagerbuttons[0].innerHTML=n;var u=this;c=this.pagerbuttons.find("a");u.addHandler(c,"click",function(t){var i=e(t.target).attr("data-page");return u.gotopage(parseInt(i)-1),!1}),u.addHandler(c,"mouseenter",function(t){e(t.target).addClass(u.toTP("jqx-fill-state-hover"))}),u.addHandler(c,"mouseleave",function(t){e(t.target).removeClass(u.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+r),0==i&&i<t&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=s+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+s,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var r=this.dataview.rows.length,n=0;n<r;n++){var o=this.dataview.rows[n].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(null==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),null==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),null==this.details[o]&&(this.details[o]=null),a.height!=s.rowsheight&&(t-=s.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=l=a.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,s,r){var n=t.aggregates;if(n||(n=i),n){for(var o=new Array,a=0;a<n.length;a++)"count"!=n[a]&&(o[o.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(null==r&&(r=this.getrows()),this.virtualmode){r=new Array;e.each(this.source._source.records,function(){r.push(this)})}return null==s||1==s?this.source.getAggregatedData([{name:t.datafield,aggregates:n,formatStrings:o}],this.gridlocalization,r):this.source.getAggregatedData([{name:t.datafield,aggregates:n}],this.gridlocalization,r)}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getcolumn(e),n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e]),r.aggregates=o,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesrenderer){if(i){o=t.aggregatesrenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,i[t.datafield]));s.html(o)}}else e.each(i,function(){for(n in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=n;i=r._getaggregatename(i),t.html(i+":"+this[n]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),s.append(t)}});else if(s.children().remove(),s.html(""),t.aggregatesrenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesrenderer({},t,s,null);s.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var s=0;s<i;s++){var r=e(this.statusbar[0].cells[s]),n=this.columns.records[s],o=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,o,r)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,o=new Array;this.statusbar[0].cells=o;for(var a=this.getrows(),l=0;l<s;l++){var d=this.columns.records[l],h=this._calculateaggregate(d,d.aggregates,!0,a),c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth);var u=r;d.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"));var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');t.append(p),p.css("left",i),this.rtl?p.css("z-index",n++):p.css("z-index",n--),p.width(c),p[0].left=i,d.hidden&&d.hideable?p.css("display","none"):i+=c,o[o.length]=p[0],this._updatecolumnaggregates(d,h,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(r),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,hint:!0,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:1e3,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?i:(e.extend(!0,this,i),i)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._popupHelper=e(t.$popup),t.render()},render:function(){var t=this;if(this.input=this.element,t.isMaterialized()&&this.input instanceof HTMLInputElement){var i=this.host.children();e.each(i,function(s){var r="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===s&&(r+=" jqx-rc-l"),s===i.length-1&&(r+=" jqx-rc-r"),this!==t.element&&(r+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(r)});var s=e("<div></div>");s.addClass(t.toThemeProperty("jqx-input-group")),this.host.after(s);var r=this.element,n=this.host.data();s.append(r);var o=e("<label></label");this.hint&&(o[0].innerHTML=this.placeHolder),o.addClass(t.toThemeProperty("jqx-input-label")),s.append(o);var a=e("<span></span>");s.append(a),a.addClass(t.toThemeProperty("jqx-input-bar")),s[0].id=this.element.id,this.element.removeAttribute("id"),s[0].style.cssText=this.element.style.cssText,t.input=t.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),this.input.length>0&&(this.input=this.input[0]),e(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),this.label=o,this.bar=a,this.element.style.cssText="",this.host=s,this.element=s[0],this.host.data(n),(t=this).template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template))),i.length>0&&(t._hasAddons=!0)}else if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;r=t.element.getElementsByTagName("input");var l=!1;if(e.each(r,function(){var t=this.type;if(null==t||"text"===t||"textarea"===t)return r=e(this),l=!0,!1}),!l)throw new Error("jqxInput: Missing Text Input in the Input Group");if(r.length>0){this.baseHost=e(this.element),t.baseElement=t.element;n=this.host.data();this.host=r,this.element=r[0],t.input=r[0],this.host.data(n),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");i=this.baseHost.children();e.each(i,function(s){var r="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===s&&(r+=" jqx-rc-l"),s===i.length-1&&(r+=" jqx-rc-r"),this!==t.element&&(r+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(r)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.input.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",s="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(s=e[t.valueMember]),""===i&&(i=e.label),""===s&&(s=e.value),{label:i,value:s}}return e},s=function(e){for(var t=[],s=0;s<e.length;s++)t[s]=i(e[s]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=s(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=s(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=s(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass",s="jqx-widget-content jqx-input-widget jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(s+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?s+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(s)),this._popupHelper[i](this.toThemeProperty(r))},selectAll:function(){var t=this.host;t[0]instanceof HTMLInputElement==!1&&(t=e(this.input)),setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},selectLast:function(){var t=this.host;t[0]instanceof HTMLInputElement==!1&&(t=e(this.input)),this.selectStart(t[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var i=this.host;i[0]instanceof HTMLInputElement==!1&&(i=e(this.input)),setTimeout(function(){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(t,t);else{var e=i[0].createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.baseElement.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)||(this.baseElement.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.baseElement.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)||(this.baseElement.style.height=this.height+"px");var t=this,i=e.jqx.browser.msie&&e.jqx.browser.version<9,s=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(s+=e(this).outerWidth())}),t._addonsWidth=s,i){var r=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-s-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+s+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)?this.element.style.width=this.width:this.element.style.width=this.width+"px",null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)?this.element.style.height=this.height:this.element.style.height=this.height+"px",this._hasAddons&&(this._addonsWidth=35,this.input.style.width="calc(100% - "+this._addonsWidth+"px)");this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&(this.element.setAttribute("maxlength",this.maxLength),this.input&&this.input.setAttribute("maxlength",this.maxLength)),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var t=this;t.isMaterialized()&&t.hint||("placeholder"in this.input&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.input.setAttribute("placeHolder",t.placeHolder):""===t.input.value&&(t.input.value=t.placeHolder)),t.hint&&(""!==t.input.value?t.element.setAttribute("hint",!0):t.element.removeAttribute("hint"),t.label&&(t.label.innerHTML=t.placeHolder))},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if("width"!==i||r===s)return"placeHolder"===i?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.input.value!==s||(t.input.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===i&&e.jqx.utilities.setTheme(s,r,t.host),"opened"!==i?("source"===i&&(t._oldsource=r,t._updateSource()),"displayMember"!==i&&"valueMember"!==i||(t.source=t._oldsource,t._updateSource()),"disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&(t.input.value=r,t._refreshPlaceHolder()),t.refresh()):r?t.open():t.close()));t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,i){var s=this._find("jqx-fill-state-pressed",this._popupHelper),r=s.getAttribute("data-value"),n=s.getAttribute("data-name");return this.input.value=this.renderer(n,this.input.value),this.selectedItem={label:n,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",n),this._raiseEvent("0",{item:{label:n,value:r},label:n,value:r}),this._raiseEvent("3",{type:i,item:{label:n,value:r},label:n,value:r}),this.value=n,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.input.value?"":this.selectedItem:this.input.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.input.value=e.label,this.input&&(this.input.value=e.label),this.input.value):(this.value=e,this.input.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this._refreshPlaceHolder(),this.input.value)},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var s=0,r=this._popupHelper.children();return e.each(r,function(){s+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(s),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){if(this.opened)return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this._refreshPlaceHolder(),this},suggest:function(){var t;return this.query=this.input.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];this.filter(s)&&t.push(s)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,s=t;switch(null!=t.label?s=t.label:this.displayMember&&(s=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(s,i);case"contains":return e.jqx.string.contains(s,i);case"equals":return e.jqx.string.equals(s,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(s,i);case"startswith":return e.jqx.string.startsWith(s,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(s,i);case"endswith":return e.jqx.string.endsWith(s,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(s,i)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):o.toString().indexOf(this.query)>=0?i.push(n):o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&s.push(n)}return t.concat(i,s)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_render:function(t){var i=this,s=i._popupHelper.children();if(s.length>0)for(var r=0;r<s.length;r++)e(s[r]).remove();var n=function(e,t){var s,r,n=e,o=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","#"),o.appendChild(a),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(s=e.label,r=i.escape_HTML(e.value)):(s=e.value,r=i.escape_HTML(e.value)):void 0!==e.label&&null!==e.label?(s=e.label,r=e.label):void 0!==i.displayMember&&""!==i.displayMember?(s=e[i.displayMember],r=e[i.valueMember]):(s=e,r=e),o.setAttribute("data-value",r),o.setAttribute("data-name",s),e.label?n=e.label:i.displayMember&&(n=e[i.displayMember]),a.innerHTML=i.highlight(n);var l="";i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),o.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(o),i.addHandler(o,"mouseenter",function(e){i.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)n(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var i,s,r=e.val();r&&r.label?(i=r.label,s=r.val):(i=r,s=r),e._raiseEvent("3",{type:"keyboard",item:{label:i,value:s},label:i,value:s}),e.value=i,e._refreshPlaceHolder()}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"click"+t,function(t){e.click(t)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"click"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var e=this;setTimeout(function(){e.close()},150),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._refreshPlaceHolder()},onFocus:function(){var e=this;e.element.className+=" "+e.toThemeProperty("jqx-fill-state-focus"),e._refreshPlaceHolder()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this.baseHost.children(),i=0,s=0;s<t.length;s++)t[s]!==this.element&&(i+=e(t[s]).outerWidth());return i}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxKanban","",{}),e.extend(e.jqx._jqxKanban.prototype,{defineInstance:function(){var t={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:e.jqx.browser.msie&&8==e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===e.jqx._jqxKanban.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){e("#"+this.element.id).empty(),this._createKanban()},_createKanban:function(){var e=this;e._ie8Plugin(),e._kanbanId=e.element.id;e._serializeSource(function(){e._getParent(),e._createKanbanField(),e._createKanbanLayout(),e._addCSS();e._populateKanban(function(){e._setKanbanConnections(),e._transformToSortable(),e._addEventHandlers(),e._rtlCheck(),e._refreshEventHandlers(),e._recalculateContainersHeight(),e._handlerExpandCollapse(),e._raiseEvent("0"),e._ready()})})},propertyChangedHandler:function(t,i,s,r){if("width"===i)return t.host.width(r-4),t._recalculateContainersHeight(),void t._calculateExpandedColumnsWidth();"height"!==i?(t._resources=[],t._items=[],t._source=[],t._sourceKeys=[],t._columns=[],e("#"+t.element.id).empty(),t._createKanban()):t.host.height(r)},_getParent:function(){this._parentsTag=this.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var t=this,i=t.columns.length;if(null==t.width&&null==t.height)"body"==t._parentsTag?(t.width=e(window).innerWidth(),t.height=e(window).innerHeight(),(t._ie7||t._ie8)&&t.host.height(t.height),t.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(t.width=t.host.parent().width(),t.height=t.host.parent().height(),t.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=t.width&&null==t.height){if(t.width<=t.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");t.host.width(t.width)}else if(null!=t.heigth&&null==t.width){if(t.height<=t.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");t.host.heigth(t.heigth)}else{if(t.width<=t.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(t.height<=t.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");t.host.width(t.width),t.host.height(t.height)}t.host.addClass(this.toThemeProperty("jqx-widget"))},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_createKanbanLayout:function(){var t=this,i=t.columns.length;t._expandedColumns=i;for(var s=t._calculateColumnDimensions(i),r=t._calculateContainerDimensions(i),n=0;n<i;n++){var o=e("<div id='"+t._kanbanId+"-column-"+n+"' class='jqx-kanban-column' data-column-data-field='"+t.columns[n].dataField+"' style='width:"+s[0]+"; height:"+s[1]+";'></div>");void 0===t.columns[n].maxItems&&(t.columns[n].maxItems=9999),t._columns.push(o),t.host.append(o);var a="jqx-kanban-column-vertical-container",l=t.columns[n].collapseDirection;l||(l="left"),"right"==l&&(a="jqx-kanban-column-vertical-container-inverse");var d=t.columns[n].iconClassName?t.toThemeProperty(t.columns[n].iconClassName):"",h=d?"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+d+"'></div></div>":"",c=d?"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+d+"'></div></div>":"",u=e("<div id='"+t._kanbanId+"-column-header-collapsed-"+n+"' data-kanban-column-header-collapsed='"+n+"' class='"+t.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+a+"'><span class='"+t.toThemeProperty("jqx-kanban-column-header-title")+"'>"+t.escape_HTML(t.columns[n].text)+"</span><span class='"+t.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+h+"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+t.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");o.append(u);var p=e("<div id='"+t._kanbanId+"-column-header-"+n+"' data-kanban-column-header='"+n+"' class='"+t.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+t.toThemeProperty("jqx-kanban-column-header-title")+"'>"+t.escape_HTML(t.columns[n].text)+"</span><span class='"+t.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+c+"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+t.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");t.rtl&&(p.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),p.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),p.outerHeight(t.headerHeight),p.css("line-height",t.headerHeight+"px"),o.append(p);var m=e("<div id='"+t._kanbanId+"-column-container-"+n+"' data-kanban-column-container='"+t.columns[n].dataField+"' class='jqx-kanban-column-container' style='height:"+r[1]+"; overflow-y: auto;'></div>");if(o.append(m),o.data("kanban-column-collapsed",!1),t.columns[n].headerElement=p,t.columns[n].collapsedHeaderElement=u,t.columnRenderer&&t.columnRenderer(p,u,t.columns[n]),"left"==l){var f=p.find(".jqx-kanban-column-header-title").width();f+=p.find(".jqx-kanban-column-header-status").width(),f-=10,o.find(".jqx-kanban-column-header-title").css("left",-f+"px"),o.find(".jqx-kanban-column-header-status").css("left",-f+"px")}!1===t.columns[n].collapsible&&o.find(".jqx-kanban-column-header-button").hide()}1==i&&t.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(t){var i=[],s=100/t,r=100,n=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),this._ie7?(s=this.host.width()/t-(this._columnBorders[1]+this._columnBorders[3]),n=(r=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]))-this.headerHeight,s+="px",r+="px",n+="px"):(n=this.host.height()-e("#"+this._kanbanId+" div.jqx-kanban-column-header").outerHeight(),s+="%",r+="%",n+="px"),i.push(s),i.push(r),i.push(n),i},_calculateContainerDimensions:function(e){var t=[],i=100,s=100;return this._ie7?(i=this.host.width()/e-20,s=this.host.height()-this.headerHeight,i+="px",s+="px"):(s=this.host.height()-this.headerHeight,i+="%",s+="px"),t.push(i),t.push(s),t},_recalculateContainersHeight:function(){for(var t=this,i=document.getElementById(t._kanbanId+"-column-header-0"),s=0,r=0;r<t.columns.length;r++)if(!t.columns[r].collapsed){s=r,i=t.columns[r].headerElement[0];break}var n=parseInt(getComputedStyle(i).getPropertyValue("margin-top")),o=parseInt(getComputedStyle(i).getPropertyValue("margin-Bottom")),a=document.getElementById(t._kanbanId+"-column-container-"+s),l=parseInt(getComputedStyle(a).getPropertyValue("margin-top")),d=parseInt(getComputedStyle(a).getPropertyValue("margin-Bottom")),h=i.offsetHeight+n+o,c=l+d,u=this.host.height()-h-c;e("#"+t._kanbanId+" div.jqx-kanban-column-container").outerHeight(u)},_addCSS:function(){var t=this;if(e(t.host).addClass(t.toThemeProperty("jqx-kanban")),e("#"+t._kanbanId+" div.jqx-kanban-column").addClass(t.toThemeProperty("jqx-widget-content")),e("#"+t._kanbanId+" div.jqx-kanban-column-header").addClass(t.toThemeProperty("jqx-widget-header")),e("#"+t._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(t.toThemeProperty("jqx-widget-header")),e("#"+t._kanbanId+" div.jqx-kanban-column-container").addClass(t.toThemeProperty("jqx-widget-content")),t._ie8||t._ie7?e("#"+t._kanbanId+"-column-0").addClass(t.toThemeProperty("jqx-kanban-column-first")):(t._columnBorders[0]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),t._columnBorders[1]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),t._columnBorders[2]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),t._columnBorders[3]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==t.verticalTextOrientation){var i=e("#"+t._kanbanId).find(".jqx-kanban-column-vertical-container");i.removeClass("jqx-kanban-column-vertical-container"),i.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var t=this;1==t.rtl&&(e(t.host).addClass(t.toThemeProperty("jqx-kanban-rtl")),e("#"+t._kanbanId+" div.jqx-kanban-column-container").addClass(t.toThemeProperty("jqx-kanban-rtl")),e("#"+t._kanbanId+" div.jqx-kanban-item-keyword").addClass(t.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(e){var t=this;t._source=[],t._sourceKeys=[];var i=function(i){if(i){for(var s=0;s<i.length;s++){var r={};r.id=null!=i[s].id?i[s].id:t.element.id+"_"+s,r.status=i[s].status||t.templateContent.status,r.text=i[s].text||t.templateContent.text,r.content=i[s].content||t.templateContent.content,r.tags=i[s].tags||t.templateContent.tags,r.color=i[s].color||t.templateContent.color,r.resourceId=i[s].resourceId||t.templateContent.resourceId,r.className=i[s].className||t.templateContent.className,t._source.push(r),t._sourceKeys[r.id]=r}e()}};if(t.source&&t.source.dataBind){var s=t.element.id;if(t.source.unbindBindingUpdate(s),t.source.dataBind(),0==t.source.records.length){t.source.unbindDownloadComplete(s),t.source.bindDownloadComplete(s,function(){i(t.source.records)})}else i(t.source.records);return t.source.unbindBindingUpdate(s),void t.source.bindBindingUpdate(s,function(){i(t.source.records)})}i(t.source)},_populateKanban:function(t){var i=this,s=0;null!==i._source&&(s=i._source.length||0),i._resources=new Array;var r=function(r){if(i._resources=r,null!=r){i._resourcesLength=r.length;for(var n=0;n<i._resourcesLength;n++)1==r[n].common&&(i._commonItem=r[n])}for(n=0;n<s;n++){var o=e(i.template);o.data("kanban-item-id",i._source[n].id);for(var a=i._commonItem,l=0;l<i._resourcesLength;l++)r[l].id==i._source[n].resourceId&&(a=r[l]);var d="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />";o.addClass(i.toThemeProperty("jqx-rc-all")),o.find(".jqx-kanban-item-avatar").append(d),""!=i.theme&&o.addClass(i.toThemeProperty("jqx-kanban-item"));var h=i.host.find("[data-kanban-column-container='"+i._source[n].status+"']");o.find(".jqx-kanban-item-color-status").css({"background-color":i._source[n].color}),i.rtl&&(o.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),o.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),o.find(".jqx-kanban-item-text").append(i._source[n].text),o.find(".jqx-kanban-item-content").append(i._source[n].content);var c="",u=[];null!==i._source[n].tags&&void 0!==i._source[n].tags&&(u=i._source[n].tags.replace(/\,\s/g,",").split(",")),u.forEach(function(e){c=c+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),c+=i._clearing,o.find(".jqx-kanban-item-footer").append(c),o.append(i._clearing),o.attr("id",i._kanbanId+"_"+i._source[n].id),null!==i._source[n].className&&void 0!==i._source[n].className&&o.addClass(i.toThemeProperty(i._source[n].className)),i.itemRenderer&&i.itemRenderer(o,i._source[n],a),h.append(o),i._items[i._source[n].id]=o}t()};if(i.resources&&i.resources.dataBind){var n=i.element.id;if(i.resources.unbindBindingUpdate(n),i.resources.dataBind(),0==i.resources.records.length){i.resources.unbindDownloadComplete(n),i.resources.bindDownloadComplete(n,function(){r(i.resources.records)})}else r(i.resources.records);i.resources.bindBindingUpdate(n,function(){r(i.resources.records)})}else i._resources=i.resources,r(i.resources),e("#"+i._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var e=this;null!=e.ready&&"function"==typeof e.ready&&e.ready()},collapseColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._collapseColumn(t),!0;return!1},expandColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._expand(t),!0;return!1},_collapseColumn:function(t){var i=this,s=t||0;e("#"+i._kanbanId+"-column-header-collapsed-"+s).addClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+i._kanbanId+"-column-header-"+s).addClass(i.toThemeProperty("jqx-kanban-column-hide")),e("#"+i._kanbanId+"-column-container-"+s).addClass(i.toThemeProperty("jqx-kanban-column-hide")),(i._ie8||i._ie7)&&(e("#"+i._kanbanId+" .jqx-kanban-column-vertical-container").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),e("#"+i._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),i._columns[s].data("kanban-column-collapsed",!0),i.columns[s].collapsed=!0,i._calculateExpandedColumnsWidth(),i._raiseEvent("7",{column:i.columns[s]})},_expandColumn:function(t){var i=this,s=t||0;e("#"+i._kanbanId+"-column-header-collapsed-"+s).removeClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+i._kanbanId+"-column-header-"+s).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),e("#"+i._kanbanId+"-column-container-"+s).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),i.columns[s].collapsed=!1,i._columns[s].data("kanban-column-collapsed",!1),i._calculateExpandedColumnsWidth(),i._raiseEvent("8",{column:i.columns[s]})},_calculateExpandedColumnsWidth:function(){var e=this,t=e._columns.length;e._collapsedColumns=0,e._expandedColumns=0;for(var i=0,s=e.headerWidth,r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._collapsedColumns++:e._expandedColumns++;var n=(i=(e.host.width()-e.headerWidth*e._collapsedColumns)/e._expandedColumns)-(this._columnBorders[1]+this._columnBorders[3]);if(e._ie7&&(i=n,s=e.headerWidth-2),e.width&&e.width.toString().indexOf("%")>=0){var o=1/((e.host.width()+2)/100),a=s*o;for(r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r][0].style.width=a+"%":e._columns[r][0].style.width=i*o+"%"}else for(r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r].outerWidth(s):e._columns[r].outerWidth(i)},_handlerExpandCollapse:function(){var t=this;t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column-header"),this._getEvent("click"),function(i){var s=e(this).parent().index(),r=t.columns[s],n={attribute:"title",column:r,cancelToggle:!1};if(e(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)n={attribute:"button",column:r,cancelToggle:!1};if(t._raiseEvent("10",n),!n.cancelToggle&&t._expandedColumns>1){if(!1===r.collapsible)return;t._collapseColumn(s)}}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(i){var s=e(this).parent().index(),r=(s=e(this).parent().index(),t.columns[s]),n={attribute:"title",cancelToggle:!1,column:r};if(e(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)n={attribute:"button",cancelToggle:!1,column:r};t._raiseEvent("10",n),n.cancelToggle||t._expandColumn(s)})},_setKanbanConnections:function(){var e=this;(e._kanbanColumns="#"+e._kanbanId+" div.jqx-kanban-column-container",e._connectWith=e._kanbanColumns,null!=e.connectWith)&&e.connectWith.replace(/\,\s/g,",").split(",").forEach(function(t){e._connectWith=e._connectWith+", "+t+" div.jqx-kanban-column-container"})},_transformToSortable:function(){for(var t=this,i=0;i<e(t._kanbanColumns).length;i++)e(e(t._kanbanColumns)[i]).jqxSortable({connectWith:t._connectWith,maxItems:t.columns[i].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:t.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});e.jqx.utilities.resize(t.host,null,!0),e.jqx.utilities.resize(t.host,function(){for(var i=0;i<e(t._kanbanColumns).length;i++)e(e(t._kanbanColumns)[i]).jqxSortable({containment:"window"})}),null!==t.handle&&(e(t._kanbanColumns).jqxSortable({handle:"."+t.handle}),e("#"+t._kanbanId+" ."+t.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(e){},_calculateRestrictions:function(){},_redrawColumnHeader:function(e,t){},addItem:function(t){var i=this,s=t.id,r=null!=i._source?i._source.length:0;null==s&&(s=r);var n=i._kanbanId+"_"+s;i._source=null!=i._source?i._source:[];var o=null;i._css_color_names.indexOf(t.color)>-1?o=t.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.color)?o=t.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(t.color)&&(o="#"+t.color);var a={id:s,status:t.status||i.templateContent.status,text:t.text||i.templateContent.text,content:t.content||i.templateContent.content,tags:t.tags||i.templateContent.tags,color:o||i.templateContent.color,resourceId:t.resourceId||i.templateContent.resourceId,className:t.className||i.templateContent.className};if((u=this.getColumn(a.status)).maxItems||(u.maxItems=9999),!(u.maxItems<this.getColumnItems(u.dataField).length+1)){for(var l=i._commonItem,d=0;d<i._resources.length;d++)i._resources[d].id==a.resourceId&&(l=i._resources[d]);var h=i.host.find("[data-kanban-column-container='"+a.status+"']");t=e(i.template);""!=i.theme&&t.addClass(i.toThemeProperty("jqx-kanban-item")),t.find(".jqx-kanban-item-color-status").css({"background-color":a.color});var c="<img class='jqx-kanban-item-avatar-image' alt='"+l.name+"' title='"+l.name+"' src='"+l.image+"' />";t.find(".jqx-kanban-item-avatar").append(c),t.find(".jqx-kanban-item-text").append(a.text),t.find(".jqx-kanban-item-content").append(a.content);var u,p=a.tags.replace(/\,\s/g,",").split(","),m="";p.forEach(function(e){m=m+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),m+="<div style='clear:both'></div>",t.find(".jqx-kanban-item-footer").append(m),h.append(t),e("#"+i._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e("#"+i._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),t.attr("id",n),i._source[r]=a,i._sourceKeys[s]=a,t.data("kanban-item-id",n),null!==a.className&&void 0!==a.className&&t.addClass(this.toThemeProperty(a.className)),i.itemRenderer&&i.itemRenderer(t,a,l),(u=this.getColumn(a.status))&&i.columnRenderer&&(i.columnRenderer(u.headerElement,u.collapsedHeaderElement,u),i._updateColumnTitle(u)),i._raiseEvent("2",{itemId:n}),i._refreshEventHandlers()}},_updateColumnTitle:function(e){if("left"==e.collapseDirection){var t=e.headerElement.find(".jqx-kanban-column-header-title").width();t+=e.headerElement.find(".jqx-kanban-column-header-status").width(),t-=10,e.headerElement.find(".jqx-kanban-column-header-title").css("left",-t+"px"),e.headerElement.find(".jqx-kanban-column-header-status").css("left",-t+"px")}},_selectItem:function(t){var i=t.data.self;i._selectedItemId=e(this).attr("id"),e("#"+i._kanbanId+" .jqx-kanban-item").removeClass(i.toThemeProperty("jqx-kanban-item-selected")),e(this).addClass(i.toThemeProperty("jqx-kanban-item-selected"));var s=e(this).data().kanbanItemId;i._selectedId=s,i._raiseEvent("1",{item:i._sourceKeys[s]}),i._refreshEventHandlers()},selectItem:function(t){var i=this,s=e("#"+i._kanbanId+"_"+t);0!=s.length&&(e("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),e(s).addClass(i.toThemeProperty("jqx-kanban-item-selected")),i._selectedId=t)},_selectColumn:function(t){for(var i,s,r=t.data.self,n=e(this).attr("data-column-data-field"),o=r.columns.length,a=0;a<o;a++)r.columns[a].dataField==n&&(s=a),r.columns[a].dataField==r._selectedColumn&&(i=a);e("#"+r._kanbanId+" .jqx-kanban-column").removeClass(r.toThemeProperty("jqx-kanban-column-selected")),e(this).addClass(r.toThemeProperty("jqx-kanban-column-selected")),null!=r._selectedColumn&&r._selectedColumn!=n&&r._raiseEvent("6",{column:r._selectedColumn,dataField:i}),r._selectedColumn=n,r._raiseEvent("5",{column:r._selectedColumn,dataField:s})},getSelectedColumn:function(){return this._selectedColumn},_removeSourceIndexById:function(t){var i=this,s=-1;e.each(i._source,function(e,i){if(this&&this.id==t)return s=e,!1}),-1!=s&&i._source.splice(s,1),i._sourceKeys[t]=null,delete i._sourceKeys[t]},removeItem:function(t){var i=this,s="#"+i._kanbanId+"_"+t,r=t.toString().replace(i._kanbanId+"_","");e(s).remove();var n=this.getColumn(i._sourceKeys[t].status);i._items[r]=null,i._removeSourceIndexById(t),i._sourceKeys[t]=null,n&&i.columnRenderer&&(i.columnRenderer(n.headerElement,n.collapsedHeaderElement,n),i._updateColumnTitle(n)),i._selectedItemId=null},updateItem:function(t,i){var s=this,r=e("#"+s._kanbanId+"_"+t);if(0!=r.length){var n=r.data("kanban-item-id"),o=s._sourceKeys[t];o||(o=s._sourceKeys[itemId]);var a=o.className||"",l=null;s._css_color_names.indexOf(i.color)>-1?l=i.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i.color)?l=i.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(i.color)?l="#"+i.color:i.color&&(l=i.color);var d={id:o.id,status:o.status,text:i.text||o.text,content:i.content||o.content,tags:i.tags||o.tags,color:l||o.color,resourceId:i.resourceId||o.resourceId,className:i.className||o.className};s._source[n]=d,s._sourceKeys[n]=d;for(var h=s._commonItem,c=0;c<s._resources.length;c++)s._resources[c].id==d.resourceId&&(h=s._resources[c]);var u="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";r.find(".jqx-kanban-item-avatar").html(u),r.find(".jqx-kanban-item-color-status").css({"background-color":d.color}),r.find(".jqx-kanban-item-text").html(d.text),r.find(".jqx-kanban-item-content").html(d.content);var p=d.tags.replace(/\,\s/g,",").split(","),m="";p.forEach(function(e){m=m+"<div class='"+s.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),m+="<div style='clear:both'></div>",r.find(".jqx-kanban-item-footer").html(m),null!==d.className&&void 0!==d.className&&(r.removeClass(this.toThemeProperty(a)),r.addClass(this.toThemeProperty(d.className))),s.itemRenderer&&s.itemRenderer(r,d,h);var f=this.getColumn(d.status);f&&s.columnRenderer&&(s.columnRenderer(f.headerElement,f.collapsedHeaderElement,f),s._updateColumnTitle(f))}},getSelectedItem:function(){return this._sourceKeys[this._selectedId]},getColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this.columns[t];return null},getColumnItems:function(e){for(var t=this,i=[],s=t._source.length,r=0;r<s;r++)null!=t._source[r]&&t._source[r].status==e&&i.push(t._source[r]);return i},getItems:function(){return null!==this._source?this._source.filter(function(e){return null!=e}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})},_addEventHandlers:function(){var t=this;t.addHandler(e(window),"resize.kanban"+t.element.id,function(e){t._recalculateContainersHeight(),t._calculateExpandedColumnsWidth()}),t.addHandler(e(t._kanbanColumns),"start",function(i){t._selectedItemId=i.args.item[0].id,t._draggedItemId=t._selectedItemId,t._draggedItemDataId=e("#"+t._draggedItemId).data().kanbanItemId,t._draggedItemValues=t._sourceKeys[t._draggedItemDataId],t._selectedItemValues=t._draggedItemValues;var s=e("#"+t._draggedItemId).height();e(".jqx-kanban-item-placeholder").height(s)}),t.addHandler(e(t._kanbanColumns),"stop",function(i){for(var s=e("#"+t._draggedItemId).parent().attr("data-kanban-column-container"),r=s,n=null,o=0;o<t.columns.length;o++)if(t.columns[o].dataField==r){n=t.columns[o];break}if(t._sourceKeys[t._draggedItemDataId]){var a=null,l=e("#"+t._kanbanId).jqxKanban("columns"),d=t._sourceKeys[t._draggedItemDataId].status;for(o=0;o<l.length;o++)if(l[o].dataField==d){a=l[o];break}if(t._kanbanId!==t._dropKanbanId){t._raiseEvent("3",{oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,newColumn:n,oldColumn:a,itemData:t._draggedItemValues});t._source.length;t._draggedItemValues.status=s,e("#"+t._dropKanbanId).trigger("_itemReceived",[t._selectedItemId,t._kanbanId,t._dropKanbanId,t._draggedItemValues,t._selectedId,n,a]),t._sourceKeys[t._draggedItemDataId]=null}else t._raiseEvent("3",{newColumn:n,oldColumn:a,oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,itemData:t._draggedItemValues}),t._raiseEvent("4",{newColumn:n,oldColumn:a,oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,itemData:t._draggedItemValues}),t._sourceKeys[t._draggedItemDataId].status=s;if(t.columnRenderer)for(o=0;o<t.columns.length;o++)t.columns[o].dataField==r&&(t.columnRenderer(t.columns[o].headerElement,t.columns[o].collapsedHeaderElement,t.columns[o]),t._updateColumnTitle(t.columns[o])),t.columns[o].dataField==d&&(t.columnRenderer(t.columns[o].headerElement,t.columns[o].collapsedHeaderElement,t.columns[o]),t._updateColumnTitle(t.columns[o]))}t._draggedItemDataId=null,t._draggedItemId=null,t._draggedItemValues=null}),t.addHandler(e(t._kanbanColumns),"sort",function(i){t._dropKanbanId=e(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),t.addHandler(e(t.host),"_itemReceived",function(i,s,r,n,o){t._raiseEvent("4",{itemId:s,oldParentId:r,newParentId:n,itemData:o});var a=e("#"+s),l=e(t.template);""!=t.theme&&l.addClass(t.toThemeProperty("jqx-kanban-item")),l.data("kanban-item-id",o.id);for(var d=t._commonItem,h=0;h<t._resources.length;h++)t._resources[h].id==o.resourceId&&(d=t._resources[h]);var c="<img class='jqx-kanban-item-avatar-image' alt='"+d.name+"' title='"+d.name+"' src='"+d.image+"' />";l.find(".jqx-kanban-item-avatar").append(c),l.find(".jqx-kanban-item-text").append(o.text),l.find(".jqx-kanban-item-color-status").css({"background-color":o.color}),l.find(".jqx-kanban-item-content").append(o.content);var u=o.tags.replace(/\,\s/g,",").split(","),p="";u.forEach(function(e){p=p+"<div class='"+t.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),p+="<div style='clear:both'></div>",l.find(".jqx-kanban-item-footer").append(p),l.attr("id",t._kanbanId+"_"+o.id),a.replaceWith(l),e("#"+n+" div.jqx-kanban-item").addClass(t.toThemeProperty("jqx-widget-content")),null!==o.className&&void 0!==o.className&&l.addClass(t.toThemeProperty(o.className)),e("#"+n+" div.jqx-kanban-item").removeClass(t.toThemeProperty("jqx-kanban-item-selected")),e("#"+s).addClass(t.toThemeProperty("jqx-kanban-item-selected")),e("#"+n).jqxKanban("_refreshEventHandlers"),t._source.push(o);var m=e("#"+n).jqxKanban("getInstance"),f=e("#"+r).jqxKanban("getInstance");if(m._sourceKeys[o.id]=o,f._removeSourceIndexById(o.id),m.columnRenderer)for(var g=0;g<m.columns.length;g++)m.columnRenderer(m.columns[g].headerElement,m.columns[g].collapsedHeaderElement,m.columns[g]);if(f.columnRenderer)for(g=0;g<f.columns.length;g++)f.columnRenderer(f.columns[g].headerElement,f.columns[g].collapsedHeaderElement,f.columns[g])}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-item"),"click",t._selectItem,{self:this}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column"),"click",t._selectColumn,{self:this}),t.addHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),this._getEvent("click"),function(){for(var i="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),s=e(this).attr("class").split(" "),r=s.length,n=null,o=e(this).parents(".jqx-kanban-item").data().kanbanItemId,a={attribute:null,item:t._sourceKeys[o],itemId:o},l=0;l<r;l++)i.indexOf(s[l])>-1&&(n=s[l]);switch(n){case"jqx-kanban-item-color-status":a.attribute="colorStatus";break;case"jqx-kanban-item-avatar":a.attribute="avatar";break;case"jqx-kanban-item-text":a.attribute="text";break;case"jqx-kanban-item-content":a.attribute="content";break;case"jqx-kanban-item-keyword":a.attribute="keyword";break;case"jqx-kanban-item-template-content":a.attribute="template"}t._raiseEvent("9",a)})},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0),t._removeEventHandlers(),t.host.remove()},_removeEventHandlers:function(){var t=this;t.removeHandler(e(window),"resize.kanban"+t.element.id),t.removeHandler(e(t._kanbanColumns),"start"),t.removeHandler(e(t._kanbanColumns),"stop"),t.removeHandler(e(t._kanbanColumns),"sort"),t.removeHandler(e(t.host),"_itemReceived"),t.removeHandler(e("#"+t._kanbanId+" .jqx-kanban-item"),"click"),t.removeHandler(e("#"+t._kanbanId+" .jqx-kanban-column"),"click"),t.removeHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxKnob","",{}),e.extend(e.jqx._jqxKnob.prototype,{defineInstance:function(){var t={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return this===e.jqx._jqxKnob.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;t._hostInit(),t._ie8Plugin(),t._validateProperties(),t._initValues(),t._refresh(),e.jqx.utilities.resize(t.host,function(){t.widgetSize=Math.min(t.host.width(),t.host.height()),t._refresh()})},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxKnob"+this.element.id:e+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})},createColorGradient:function(e,t,i){return this._getGradient(e,t,i)},destroy:function(){var t=this;t.removeHandler(e(document),"mousemove.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"blur.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"mouseup.jqxKnob"+t.host[0].id),t.host.empty(),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("disabled"===t&&e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),"value"!==t?(e._validateProperties(),e._refresh()):e._setValue(s,"propertyChange"))},val:function(e){if(0==arguments.length)return this.value;this._setValue(e,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var t=this;t.addHandler(t.host,this._getEvent("mousedown"),function(i){if("pointer"!==t.pointerGrabAction||i.target.id===t._pointerID){if(t._isTouchDevice){var s=e.jqx.position(i);i.clientX=s.left,i.clientY=s.top}if("progressBar"===t.pointerGrabAction){var r={x:i.clientX,y:i.clientY},n=t.host[0].getBoundingClientRect(),o=t.widgetSize,a={x:n.left+o/2,y:n.top+o/2},l=t._calculateAngleFromCoordinates(r,a,t.rotation),d=t._calculateDistance(r,a);if(l<t.startAngle&&(l+=360),l>t.endAngle&&l-t.endAngle!=360+t.startAngle-l)return;var h=t._getScale(t.progressBar.offset,"w",o/2),c=t._getScale(t.progressBar.size,"w",o/2);if(d<h||d>h+c)return}return t._isPointerGrabbed=!0,!0===t.allowValueChangeOnClick&&t._mouseMovePointer(i),i.preventDefault(),i.stopPropagation(),!1}});var i=null;t.addHandler(e(document),this._getEvent("mousemove"),function(e){if(t.allowValueChangeOnDrag&&(i&&clearTimeout(i),i=setTimeout(function(){t._mouseMovePointer(e)}),t._isPointerGrabbed))return!1}),t.addHandler(e(document),"blur.jqxKnob"+t.host[0].id,function(){t._isPointerGrabbed=!1,t._pointerGrabbedIndex=-1}),t.addHandler(e(document),this._getEvent("mouseup"),function(e){t._isPointerGrabbed&&(t._isPointerGrabbed=!1,t._pointerGrabbedIndex=-1,t._raiseEvent(0,{originalEvent:e,value:t.value}))}),t.addHandler(t.host,"wheel",function(e){if(t.allowValueChangeOnMouseWheel){var i=0;return e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail?i=-e.detail/3:e.originalEvent&&e.originalEvent.deltaY&&(i=e.originalEvent.deltaY),i>0?t._increment():t._decrement(),!1}})},_mouseMovePointer:function(t){var i=this;if(!i.disabled&&i._isPointerGrabbed){if(i._isTouchDevice){var s=e.jqx.position(t);t.clientX=s.left,t.clientY=s.top}var r={x:t.clientX,y:t.clientY},n=i.host[0].getBoundingClientRect(),o=i.widgetSize,a={x:n.left+o/2,y:n.top+o/2},l=i._calculateAngleFromCoordinates(r,a,i.rotation),d=i._calculateValueFromAngle(l,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if(i.value.length&&-1===i._pointerGrabbedIndex)for(var h=0;h<i.value.length;h++){if(d<=i.value[h]){i._pointerGrabbedIndex=h;break}if(h===i.value.length-1)i._pointerGrabbedIndex=h;else if(d<=i.value[h+1]){var c=i.value[h]+(i.value[h+1]-i.value[h])/2;i._pointerGrabbedIndex=d<=c?h:h+1;break}}if(i.pointer&&i.pointer.length>1){if(1==i._pointerGrabbedIndex){var u=i._calculateAngleFromValue(i.value[0],i.dragStartAngle,i.dragEndAngle,i.min,i.max),p=i._calculateAngleFromValue(i.max,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if((l=i._calculateAngleFromValue(d,i.dragStartAngle,i.dragEndAngle,i.min,i.max))<=u)return;if(l>=p)return}if(0==i._pointerGrabbedIndex){p=i._calculateAngleFromValue(i.value[1],i.dragStartAngle,i.dragEndAngle,i.min,i.max),u=i._calculateAngleFromValue(i.min,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if((l=i._calculateAngleFromValue(d,i.dragStartAngle,i.dragEndAngle,i.min,i.max))<=u)return;if(l>=p)return}}if(i.changing){var m=i.value.slice(0);if(m[i._pointerGrabbedIndex]=d,!1===i.changing(i.value,m))return}i._setValue(d,"mouse")}},_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,"object"==typeof i?i[t]()*e:i*e):parseInt(e,10)},_hostInit:function(){var t=this;this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=t.host;i.width(t.width),i.height(t.height),i.css("position","relative"),t.host.addClass(t.toThemeProperty("jqx-widget jqx-knob")),-1==t.dragStartAngle&&(t.dragStartAngle=t.startAngle),-1==t.dragEndAngle&&(t.dragEndAngle=t.endAngle),t.dragStartAngle<t.startAngle&&(t.dragStartAngle=t.startAngle),t.dragEndAngle>t.endAngle&&(t.dragEndAngle=t.endAngle),t.widgetSize=Math.min(t.host.width(),t.host.height())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"jqxKnob: Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_initValues:function(){var e=this;e.marks&&(e.marks.style&&""!==e.marks.style&&("line"!==e.marks.style||e.marks.thickness||(e.marks.thickness=1),e.marks.size||(e.marks.size="5%"),e.marks.offset||(e.marks.offset="85%")),e.marks.majorInterval&&void 0===e.marks.majorSize&&(e.marks.majorSize="10%")),e._marksList=e._getMarksArray(e.marks),e.spinner&&(e._spinnerMarksList=e._getMarksArray(e.spinner.marks))},_calculateAngleFromValue:function(t,i,s,r,n){return e.jqx.browser.msie&&e.jqx.browser.version<9?"circle"!=this.type?r!=n?parseInt((t-r)/(n-r)):0:r!=n?parseInt((t-r)/(n-r)*(s-i)):0:"circle"!=this.type?r!=n?(t-r)/(n-r):0:r!=n?(t-r)/(n-r)*(s-i):0},_calculateAngleFromCoordinates:function(e,t,i){var s=e.x-t.x,r=e.y-t.y;return r>0?"clockwise"===i?90-180*Math.atan(s/r)/Math.PI:270+180*Math.atan(s/r)/Math.PI:r<0?"clockwise"===i?270-180*Math.atan(s/r)/Math.PI:90+180*Math.atan(s/r)/Math.PI:s>=0?0:180},_calculateValueFromAngle:function(e,t,i,s,r){e<t&&(e+=360);var n=s;return e>i?e-i<360+t-e&&(n=r):n=s+(e-t)*(r-s)/(i-t),n},_calculateDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_drawBackground:function(){var e,t,i=this,s=i.renderer;if(t=(e=i.widgetSize)/2,t-=(o=i.style.strokeWidth?i.style.strokeWidth:0)/2,i.style){var r=i._getColor(i.style.fill),n=i._getColor(i.style.stroke),o=i.style.strokeWidth?i.style.strokeWidth:1;"circle"!=i.type?s.rect(0,0,this.host.width(),this.host.height(),{fill:r,stroke:n,"stroke-width":o}):s.circle(e/2,e/2,t,{fill:r,stroke:n,"stroke-width":o})}},_drawDial:function(){var e=this;if(e.dial){var t,i,s,r,n,o,a,l=e.renderer,d=e.widgetSize;t=i=d/2,r=e._getScale(e.dial.outerRadius,"w",d/2),s=e._getScale(e.dial.innerRadius,"w",d/2),null!=e.dial.startAngle&&null!=e.dial.endAngle?(n="clockwise"===e.rotation?360-e.dial.endAngle:e.dial.startAngle,o="clockwise"===e.rotation?360-e.dial.startAngle:e.dial.endAngle):(n="clockwise"===e.rotation?360-e.endAngle:e.startAngle,o="clockwise"===e.rotation?360-e.startAngle:e.endAngle),a=e._getColor(e.dial.style.fill);var h=e._getColor(e.dial.style.stroke)||"",c=e.dial.style.strokeWidth||0;l.pieslice(t,i,s,r,n,o,0,{fill:a,stroke:h,"stroke-width":c})}},_getMarksArray:function(e){if(null==e)return[];var t,i=this,s={},r=i.max,n=i.min,o=r-n,a=e.minorInterval,l=e.majorInterval,d=function(e){return parseFloat(e.toPrecision(12))};if(a){for(t=0;t<o;t+=a)s[d(n+t)]={type:"minor"};s[r]={type:"minor"}}if(l){for(t=0;t<o;t+=l)s[d(n+t)]={type:"major"};s[r]={type:"major"}}if(!a&&!l){var h=i.step;if(h){for(t=0;t<o;t+=h)s[d(n+t)]={type:"minor"};s[r]={type:"minor"}}}return s},_drawMarks:function(){var t=this;if(t.marks){var i,s,r=t.renderer,n=t.widgetSize,o=t.marks&&null!=t.marks.colorRemaining?t.marks.colorRemaining:"transparent";o=t._getColor(o),t._dialMarks=[];var a=t.marks.type;a||(a="line");var l=t._getScale(t.marks.offset,"w",n/2),d=t._marksList;e.each(d,function(d,h){if(t.dragEndAngle-t.dragStartAngle!=360||d!=t.max)if(s=t.dragStartAngle+t._calculateAngleFromValue(d,t.dragStartAngle,t.dragEndAngle,t.min,t.max),"circle"===a){var c=t._getScale(t.marks.size,"w",n/2),u=t._getPointerPosition({x:n/2,y:n/2},l,s,t.rotation);t._dialMarks.push(r.circle(u.x,u.y,c,{fill:o}))}else if("line"===a){i="major"===h.type&&null!==t.marks.majorSize&&void 0!==t.marks.majorSize?t._getScale(t.marks.majorSize,"w",n/2):t._getScale(t.marks.size,"w",n/2);var p=t._getScale(t.marks.thickness,"w",n/2),m=t._getPointerPosition({x:n/2,y:n/2},l,s,t.rotation),f=t._getPointerPosition({x:n/2,y:n/2},l+i,s,t.rotation);e.jqx.browser.msie&&e.jqx.browser.version<9?t._dialMarks.push(r.line(parseInt(m.x),parseInt(m.y),parseInt(f.x),parseInt(f.y),{stroke:o,"stroke-width":p})):t._dialMarks.push(r.line(m.x,m.y,f.x,f.y,{stroke:o,"stroke-width":p}))}})}},_drawProgressBars:function(){var t=this;if(t.progressBar){t._progressBar=t._progressBar||[];for(var i=0;i<t._progressBar.length;i++)e(t._progressBar[i]).remove();if(t._progressBar=[],t._isArray(t.progressBar.style)){var s=t.value[0],r=t.value[1],n=t.progressBar.style[0],o=t.progressBar.style[1];if(t._progressBar.push(t._drawProgressBar(t.max,t.progressBar.background,"background")),t.progressBar.ranges)for(i=0;i<t.progressBar.ranges.length;i++){var a=t.progressBar.ranges[i].startValue,l=t.progressBar.ranges[i].endValue;t._progressBar.push(t._drawProgressBarFromToValue(a,l,t.progressBar.ranges[i],"background"))}t._progressBar.push(t._drawProgressBar(s,n)),t._progressBar.push(t._drawProgressBarFromEndToStart(r,o))}else{if(t._progressBar.push(t._drawProgressBar(t.max,t.progressBar.background,"background")),t.progressBar.ranges)for(i=0;i<t.progressBar.ranges.length;i++){a=t.progressBar.ranges[i].startValue,l=t.progressBar.ranges[i].endValue;t._progressBar.push(t._drawProgressBarFromToValue(a,l,t.progressBar.ranges[i],"background"))}t._progressBar.push(t._drawProgressBar(t.value,t.progressBar.style))}}},_drawProgressBarFromEndToStart:function(e,t){var i,s,r,n,o,a=this,l=a.renderer,d=a.widgetSize,h=a._getScale(a.progressBar.offset,"w",d/2);s=r=d/2,n=h,o=h+a._getScale(a.progressBar.size,"w",d/2);var c=a._getColor(t.fill)||"transparent",u=a._getColor(t.stroke)||"transparent";i=a.dragStartAngle+a._calculateAngleFromValue(e,a.dragStartAngle,a.dragEndAngle,a.min,a.max),a.dragStartAngle;var p=t.strokeWidth?t.strokeWidth:1;if(a.endAngle!=i)return"clockwise"===a.rotation?l.pieslice(s,r,n,o,360-a.endAngle,360-i,0,{fill:c,stroke:u,"stroke-width":p}):l.pieslice(s,r,n,o,void 0,i,0,{fill:c,stroke:u,"stroke-width":p})},_drawProgressBarFromToValue:function(e,t,i,s){var r,n,o,a,l,d,h,c=this,u=c.renderer,p=c.widgetSize,m=c._getScale(c.progressBar.offset,"w",p/2);o=a=p/2,l=m,d=m+(r=c._getScale(c.progressBar.size,"w",p/2));var f=c._getColor(i.fill)||"transparent",g=c._getColor(i.stroke)||"transparent";if(n=c.dragStartAngle+c._calculateAngleFromValue(t,c.dragStartAngle,c.dragEndAngle,c.min,c.max),(h=c.dragStartAngle+c._calculateAngleFromValue(e,c.dragStartAngle,c.dragEndAngle,c.min,c.max))!=n){var v=1;"background"==s&&(v=0);var x=i.strokeWidth?i.strokeWidth:v;if("circle"!=c.type){if("rect"==c.type){var w=n*(this.host.height()-2*m),y=this.host.height()-2*m;return u.rect(o-r/2,m+y-w,r,w,{fill:f,stroke:g,"stroke-width":x})}return u.rect(m,a-r/2,this.host.width()-2*m,r,{fill:f,stroke:g,"stroke-width":x})}return"clockwise"===c.rotation?u.pieslice(o,a,l,d,360-n,360-h,0,{fill:f,stroke:g,"stroke-width":x}):u.pieslice(o,a,l,d,h,n,0,{fill:f,stroke:g,"stroke-width":x})}},_drawProgressBar:function(e,t,i){var s,r,n,o,a,l,d,h=this,c=h.renderer,u=h.widgetSize,p=h._getScale(h.progressBar.offset,"w",u/2);n=o=u/2,a=p,l=p+(s=h._getScale(h.progressBar.size,"w",u/2));var m=h._getColor(t.fill)||"transparent",f=h._getColor(t.stroke)||"transparent";if(r=h.dragStartAngle+h._calculateAngleFromValue(e,h.dragStartAngle,h.dragEndAngle,h.min,h.max),(d=h.dragStartAngle)!=r){var g=1;"background"==i&&(g=0);var v=t.strokeWidth?t.strokeWidth:g;if("circle"!=h.type){if("rect"==h.type){var x=r*(this.host.height()-2*p),w=this.host.height()-2*p;return c.rect(n-s/2,p+w-x,s,x,{fill:m,stroke:f,"stroke-width":v})}return c.rect(p,o-s/2,this.host.width()-2*p,s,{fill:m,stroke:f,"stroke-width":v})}return"clockwise"===h.rotation?c.pieslice(n,o,a,l,360-r,360-d,0,{opacity:t.opacity||1,fill:m,stroke:f,"stroke-width":v}):c.pieslice(n,o,a,l,d,r,0,{opacity:t.opacity||1,fill:m,stroke:f,"stroke-width":v})}},_drawLabels:function(){var t=this;t._labels=[];var i=t.renderer,s=t.widgetSize;if(void 0===t.labels.visible&&(t.labels.visible=!0),!0===t.labels.visible){var r,n=t._getScale(t.labels.offset,"w",s/2),o=t.labels.type?t.labels.type:"digits",a=t.labels.style,l=a&&a.fill?t._getColor(a.fill):"#333";if("digits"===o){var d=[];if(t.labels.customLabels)for(r=0;r<t.labels.customLabels.length;r++)d.push(t.labels.customLabels[r].value);else{var h=t.labels.step||t.step;for(r=t.min;r<t.max;r+=h)d.push(r);t.dragEndAngle-360<t.dragStartAngle&&d.push(t.max)}for(r=0;r<d.length;r++){var c=t.labels.customLabels?t.labels.customLabels[r].text:d[r].toString();t.labels.formatFunction&&(c=t.labels.formatFunction(c));var u=t.dragStartAngle,p=t.dragEndAngle,m=u+t._calculateAngleFromValue(d[r],u,p,t.min,t.max),f=t._getPointerPosition({x:s/2,y:s/2},n,m,t.rotation);if(e.jqx.browser.msie&&e.jqx.browser.version<9){var g=i.measureText(c,0,{class:this.toThemeProperty("jqx-knob-label")}),v=t.labels.rotate?90-m:0;i.text(c,f.x-g.width/2,f.y-g.height/2,g.width,g.height,v,{class:this.toThemeProperty("jqx-knob-label")},!1)}else{g=i.measureText(c,0,{style:{fill:l},class:this.toThemeProperty("jqx-knob-label")}),v=t.labels.rotate?90-m:0;i.text(c,f.x-g.width/2,f.y-g.height/2,g.width,g.height,v,{style:{fill:l},class:this.toThemeProperty("jqx-knob-label")},!1)}}}}},_drawPointers:function(){var t=this;if(t._pointers=t._pointers||[],t._pointers.forEach(function(t,i,s){e(t).remove(),s.splice(i,1)}),t.pointer)if(t._isArray(t.pointer))for(var i=0;i<t.progressBar.style.length;i++)!1!==t.pointer[i].visible&&t._pointers.push(t._drawPointer(t.value[i],t.pointer[i]));else{if(!1===t.pointer.visible)return;t._pointers.push(t._drawPointer(t.value,t.pointer))}},_drawPointer:function(e,t){var i=this;t.id=t.id||i._getID();var s=i.renderer,r=i.widgetSize,n=t.type;n||(n="circle"),t.style||(t.style={fill:"#feaf4e",stroke:"#feaf4e"});var o,a,l,d=i._getColor(t.style.fill),h=t.style.stroke||"",c=i._getScale(t.offset,"w",r/2),u=i.dragStartAngle+i._calculateAngleFromValue(e,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if("circle"===n){var p=i._getScale(t.size,"w",r/2),m=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation);l=s.circle(m.x,m.y,p,{id:t.id,fill:d,stroke:h})}else if("line"===n){o=i._getScale(t.size,"w",r/2),a=t.thickness;var f=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation),g=i._getPointerPosition({x:r/2,y:r/2},c+o,u,i.rotation);l=s.line(f.x,f.y,g.x,g.y,{id:t.id,stroke:d,"stroke-width":a})}else if("arc"===n){o=i._getScale(t.size,"w",r/2);var v,x,w,y,b,_,j=(i.dragEndAngle-i.dragStartAngle)/i._steps.length;v=x=r/2,w=c,y=c+o,b="clockwise"===i.rotation?360-(u+j/2):u-j/2,_="clockwise"===i.rotation?360-(u-j/2):u+j/2,l=s.pieslice(v,x,w,y,b,_,0,{id:t.id,fill:d,stroke:h})}else if("arrow"===n){o=i._getScale(t.size,"w",r/2),a=t.thickness;var q=i._getPointerPosition({x:r/2,y:r/2},o,u,i.rotation),T=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation),C=i._getPointerPosition({x:T.x,y:T.y},a/2,u-90,i.rotation),S=i._getPointerPosition({x:T.x,y:T.y},a/2,u+90,i.rotation),k="M "+q.x+","+q.y+" L "+C.x+","+C.y+" L "+S.x+","+S.y+" "+q.x+","+q.y;l=this.renderer.path(k,{id:t.id,stroke:h,fill:d})}return l},_rotateSpinnerMarks:function(t){var i=this,s=i.spinner.marks;if(s){if(!1===s.rotate)return;var r,n,o=i.renderer,a=i.widgetSize,l=s&&null!=s.colorRemaining?s.colorRemaining:"transparent";l=i._getColor(l);var d=s.type;d||(d="line");for(var h=i._getScale(s.offset,"w",a/2),c=0;c<i._spinnerMarks.length;c++)e(i._spinnerMarks[c]).remove();i._spinnerMarks=[];var u=i._spinnerMarksList;e.each(u,function(e,c){if(i.endAngle-i.startAngle!=360||e!=i.max){if((n=t+i._calculateAngleFromValue(e,i.startAngle,i.endAngle,i.min,i.max))<i.startAngle)return!0;if(n>i.endAngle&&n<i.startAngle+360)return!0;if("circle"===d){var u=i._getScale(s.size,"w",a/2),p=i._getPointerPosition({x:a/2,y:a/2},h,n,i.rotation);i._spinnerMarks.push(o.circle(p.x,p.y,u,{fill:l}))}else if("line"===d){r="major"===c.type&&null!==s.majorSize&&void 0!==s.majorSize?i._getScale(s.majorSize,"w",a/2):i._getScale(s.size,"w",a/2);var m=i._getScale(s.thickness,"w",a/2),f=i._getPointerPosition({x:a/2,y:a/2},h,n,i.rotation),g=i._getPointerPosition({x:a/2,y:a/2},h+r,n,i.rotation);i._spinnerMarks.push(o.line(f.x,f.y,g.x,g.y,{stroke:l,"stroke-width":m}))}}})}},_drawSpinnerMarks:function(t){var i=this;if(t){var s,r,n=i.renderer,o=i.widgetSize,a=t&&null!=t.colorRemaining?t.colorRemaining:"transparent";a=i._getColor(a),i._spinnerMarks=[];var l=t.type;l||(l="line");var d=i._getScale(t.offset,"w",o/2),h=i._spinnerMarksList;e.each(h,function(e,h){if(i.dragEndAngle-i.dragStartAngle!=360||e!=i.max)if(r=i.startAngle+i._calculateAngleFromValue(e,i.startAngle,i.endAngle,i.min,i.max),"circle"===l){var c=i._getScale(t.size,"w",o/2),u=i._getPointerPosition({x:o/2,y:o/2},d,r,i.rotation);i._spinnerMarks.push(n.circle(u.x,u.y,c,{fill:a}))}else if("line"===l){s="major"===h.type&&null!==t.majorSize&&void 0!==t.majorSize?i._getScale(t.majorSize,"w",o/2):i._getScale(t.size,"w",o/2);var p=i._getScale(t.thickness,"w",o/2),m=i._getPointerPosition({x:o/2,y:o/2},d,r,i.rotation),f=i._getPointerPosition({x:o/2,y:o/2},d+s,r,i.rotation);i._spinnerMarks.push(n.line(m.x,m.y,f.x,f.y,{stroke:a,"stroke-width":p}))}})}},_drawSpinner:function(){var e=this;if(e.spinner){var t=e.renderer,i=e.widgetSize;e.spinner.style||(e.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"});var s,r,n=e._getColor(e.spinner.style.fill),o=e.spinner.style.stroke||"";s=r=i/2;var a=e._getScale(e.spinner.outerRadius,"w",i/2),l=e._getScale(e.spinner.innerRadius,"w",i/2),d=n.strokeWidth?n.strokeWidth:2;if(t.pieslice(s,r,l,a,360-e.endAngle,360-e.startAngle,0,{"stroke-width":d,fill:n,stroke:o}),e.spinner.marks)return void e._drawSpinnerMarks(e.spinner.marks)}},_getColor:function(e){return e&&"object"==typeof e?this._getGradient(e.color,e.gradientType,e.gradientStops):e},_getGradient:function(e,t,i){return t&&null!=i&&"object"==typeof i&&("linear"===t?e=this.renderer._toLinearGradient(e,!0,i):"linearHorizontal"===t?e=this.renderer._toLinearGradient(e,!1,i):"radial"===t&&(e=this.renderer._toRadialGradient(e,i))),e},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_events:["slide","change"],_raiseEvent:function(t,i){var s=this._events[t],r=e.Event(s);return r.args=i,this.host.trigger(r)},_movePointers:function(){for(var e,t=this,i=0;i<t._pointers.length;i++)1!==t._pointers.length?(e=t.dragStartAngle+t._calculateAngleFromValue(t.value[i],t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[i]=t._movePointer(t._pointers[i],t.pointer[i],e,t.value[i])):(e=t.dragStartAngle+t._calculateAngleFromValue(t.value,t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[0]=t._movePointer(t._pointers[0],t.pointer,e,t.value))},_movePointer:function(t,i,s,r){var n,o=this,a=o.renderer,l=o.widgetSize,d=i.type;d||(d="circle");var h=o._getScale(i.offset,"w",l/2);if("circle"===d){var c=o._getPointerPosition({x:l/2,y:l/2},h,s,o.rotation);a.attr(t,{cx:c.x,cy:c.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=o._drawPointer(r,i))}else if("line"===d){n=o._getScale(i.size,"w",l/2);var u=o._getPointerPosition({x:l/2,y:l/2},h,s,o.rotation),p=o._getPointerPosition({x:l/2,y:l/2},h+n,s,o.rotation);a.attr(t,{x1:u.x,y1:u.y,x2:p.x,y2:p.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=o._drawPointer(r,i))}else if("arrow"===d){n=o._getScale(i.size,"w",l/2);var m=i.thickness,f=o._getPointerPosition({x:l/2,y:l/2},n,s,o.rotation),g=o._getPointerPosition({x:l/2,y:l/2},h,s,o.rotation),v=o._getPointerPosition({x:g.x,y:g.y},m/2,s-90,o.rotation),x=o._getPointerPosition({x:g.x,y:g.y},m/2,s+90,o.rotation),w="M "+f.x+","+f.y+" L "+v.x+","+v.y+" L "+x.x+","+x.y+" "+f.x+","+f.y;a.attr(t,{d:w}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=o._drawPointer(r,i))}else"arc"===d&&(e("#"+i.id).remove(),t=o._drawPointer(i));return o.progressBar&&t.parentNode.appendChild(t.parentNode.removeChild(t)),t},_getPointerPosition:function(t,i,s,r){return e.jqx.browser.msie&&e.jqx.browser.version<9?{x:parseInt(t.x+i*Math.sin(Math.PI/180*(s+90))),y:"clockwise"===r?parseInt(t.y+i*Math.sin(Math.PI/180*s)):parseInt(t.y-i*Math.sin(Math.PI/180*s))}:{x:t.x+i*Math.sin(Math.PI/180*(s+90)),y:"clockwise"===r?t.y+i*Math.sin(Math.PI/180*s):t.y-i*Math.sin(Math.PI/180*s)}},_getID:function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var t=this;if(t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.renderer||(t._isVML=!1,t.host.empty(),t._initRenderer(t.host)),t.removeHandler(e(document),"mousemove.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"blur.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"mouseup.jqxKnob"+t.host[0].id),t.removeHandler(t.host,"wheel"),t.removeHandler(t.host,"mousedown"),t.host.empty(),t._initRenderer(t.host),t.renderer){t._steps=[];for(var i=0;i<=(t.max-t.min)/t.step;i++)t._steps.push(t.min+t.step*i);t._initValues(),t._render()}},_render:function(){var e=this;e._drawBackground(),e._drawDial(),e._drawMarks(),e._drawLabels(),e._drawSpinner(),e._drawProgressBars(),e._updateMarksColor(),e._updateSpinnerMarksColor(),e._drawPointers(),e._attatchPointerEventHandlers()},_setValue:function(t,i){var s=this,r=s.value;if(isNaN(t)&&(t=s.min),t>s.max?t=s.max:t<s.min&&(t=s.min),s.snapToStep)for(var n=s._steps,o=0;o<n.length;o++)if(t<n[o]){t=0===o?n[o]:n[o]-t<t-n[o-1]?n[o]:n[o-1];break}if(t!=r){if(e.isArray(s.value)){if(-1!=s._pointerGrabbedIndex){if(1==s._pointerGrabbedIndex){s.value[0];s.value[s._pointerGrabbedIndex]=t}if(0==s._pointerGrabbedIndex){s.value[1];s.value[s._pointerGrabbedIndex]=t}s.value[s._pointerGrabbedIndex]=t}}else s.value=t;s._updateProgressBarColor(),s._updateMarksColor(),s._updateSpinnerMarksColor();var a=s.dragStartAngle+s._calculateAngleFromValue(t,s.dragStartAngle,s.dragEndAngle,s.min,s.max);s._rotateSpinnerMarks(a),s._movePointers(),s._raiseEvent(1,{value:s.value,type:i})}},_updateMarksColor:function(){var t=this;if(t.marks&&(t.marks.colorProgress||t.marks.colorRemaining)){var i=t.renderer,s=[];e.each(t._marksList,function(e){t.endAngle-t.startAngle!=360||t.max,s.push(e)});for(var r=t._getColor(t.marks.colorProgress),n=t._getColor(t.marks.colorRemaining),o=t.value.length?t.value[0]:t.value,a=0;a<t._dialMarks.length;a++)s[a]>o?"circle"===t.marks.type?i.attr(t._dialMarks[a],{fill:n}):i.attr(t._dialMarks[a],{stroke:n}):"circle"===t.marks.type?i.attr(t._dialMarks[a],{fill:r}):i.attr(t._dialMarks[a],{stroke:r}),t.progressBar&&t.marks.drawAboveProgressBar&&t._dialMarks[a].parentNode.appendChild(t._dialMarks[a].parentNode.removeChild(t._dialMarks[a]))}},_updateSpinnerMarksColor:function(){var t=this;if(t.spinner&&t.spinner.marks&&t.spinner.marks&&(t.spinner.marks.colorProgress||t.spinner.marks.colorRemaining)){var i=t.renderer,s=[];e.each(t._spinnerMarksList,function(e){t.endAngle-t.startAngle==360&&e==t.max||s.push(e)});for(var r=t._getColor(t.spinner.marks.colorProgress),n=t._getColor(t.spinner.marks.colorRemaining),o=t.value.length?t.value[0]:t.value,a=0;a<t._spinnerMarks.length;a++)s[a]>o?"circle"===t.spinner.marks.type?i.attr(t._spinnerMarks[a],{fill:n}):i.attr(t._spinnerMarks[a],{stroke:n}):"circle"===t.spinner.marks.type?i.attr(t._spinnerMarks[a],{fill:r}):i.attr(t._spinnerMarks[a],{stroke:r})}},_updateProgressBarColor:function(){this.progressBar&&this._drawProgressBars()},_validateProperties:function(){var e=this,t=function(e,t){if(e&&"string"==typeof e){return e={fill:e,stroke:e}}return e||((e={}).fill=t,e.stroke=t),e&&e.fill&&!e.stroke&&(e.stroke=e.fill),e&&!e.fill&&e.stroke&&(e.fill=e.stroke),e&&!e.fill&&(e.fill=t),e&&!e.stroke&&(e.stroke=t),e};if(e.dial&&(e.dial.style=t(e.dial.style,"#dddddd")),e.style&&(e.style=t(e.style,"#dddddd")),e.progressBar&&(e.progressBar.style=t(e.progressBar.style,"transparent"),e.progressBar.background=t(e.progressBar.background,"transparent")),e.spinner&&(e.spinner.style=t(e.spinner.style,"transparent")),e.pointer&&(e.pointer.style=t(e.pointer.style,"transparent")),e.startAngle>=e.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(e.startAngle<0||e.startAngle>360)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(e.endAngle>e.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(e.dial&&e.dial.color&&"transparent"!==e.dial.color&&(!e.dial.outerRadius||!e.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(e._isArray(e.pointer)||e._isArray(e.value)){if(!e._isArray(e.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!e._isArray(e.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(e.pointer.length!==e.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(e.progressBar&&(!e._isArray(e.progressBar.style)||e.progressBar.style.length!==e.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLayout","",{}),e.extend(e.jqx._jqxLayout.prototype,{defineInstance:function(){var t={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin","floatGroupClosed"]};return this===e.jqx._jqxLayout.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;t._originalElement=e(t.element.cloneNode(!0)),t._coordinates=[],t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._ie7=e.jqx.browser.msie&&e.jqx.browser.version<8,t._touchDevice=e.jqx.mobile.isTouchDevice(),"none"!==t.host.css("display")&&!0===document.body.contains(t.element)?(t._initiallyHidden=!1,t._initialization=!0,t.render()):t._initiallyHidden=!0,e.jqx.utilities.resize(this.host,function(){!0!==t._suppressResizeHandler&&(!0===t._initiallyHidden&&(t._initialization=!0),t.render(),!0===t._initiallyHidden&&(t.dockingLayout&&(t.dockingLayout._createOverlay(),t.dockingLayout._createEdgeOverlays()),t._initiallyHidden=!1))})},render:function(){var t,i,s=this,r=[];if(s._tabbedGroupsList=[],s.dockingLayout&&(s._overlayGroups=[],!1===s._initialization)){t=s.dockingLayout._overlay.detach(),i=s.dockingLayout._dropOverlayHelper.detach();for(var n=0;n<s.dockingLayout._edgeOverlays.length;n++)r.push(e(s.dockingLayout._edgeOverlays[n]).detach())}if(!0===s._rendered&&s._detachContent(s.layout[0].items),s.element.innerHTML="",!s.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(s._setSize(),s._addClasses(),s._removeHandlers(),!s._rendered){if("layoutGroup"!==s.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var o=s.layout[0].items[0].width,a=s.layout[0].items[0].height;o&&"string"==typeof o&&"%"===o.charAt(o.length-1)||a&&"string"==typeof a&&"%"===a.charAt(a.length-1)||(s.layout[0].initialPxWidth=s.element.offsetWidth,s.layout[0].initialPxHeight=s.element.offsetHeight,s._pxToPercent(s.layout[0],!0))}if(s._createLayout(s.layout,s.host,{type:"host"},0),!0===s.resizable&&(s._addResizeFeedbacks(),s._getGroupCoordinates(),s._addHandlers()),!0===s.contextMenu&&s._initMenu(),!0===s._initialization)s._initialization=!1,s._raiseEvent("0");else if(s.dockingLayout){if(s._ie7){e("body").append(t,i);for(var l=0;l<r.length;l++)e("body").append(r[l])}else{t.appendTo(s.host),i.appendTo(s.host);for(var d=0;d<r.length;d++)r[d].appendTo(s.host)}s.dockingLayout._trackFloatGroups()}for(var h=0;h<s._tabbedGroupsList.length;h++)s._validateTabbedGroup(s._tabbedGroupsList[h]);s._rendered||(s._rendered=!0)},refresh:function(e){!0!==e&&this.render()},destroy:function(){var e=this;e._mouseupHandler=null,e._docUP=null,e._removeHandlers(),!0===e.contextMenu&&e._menu.jqxMenu("destroy"),e.host.remove()},saveLayout:function(){for(var e=this,t=[],i=0;i<e.layout.length;i++)e._copyItem(e.layout[i],t);return t},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){var i=this;i.layout=t,i._rendered=!1,i.render()}},propertyChangedHandler:function(t,i,s,r){if("layout"!==i){if(r!==s)switch(i){case"width":case"height":t.element.style[i]=t._toPx(r);break;case"theme":e.jqx.utilities.setTheme(s,r,t.host),t._menuInitialized&&e.jqx.utilities.setTheme(s,r,t._menu),t.dockingLayout&&e("."+t.element.id+"FloatGroup").length>0&&e("."+t.element.id+"FloatGroup").jqxWindow({theme:r});break;case"layout":case"resizable":t.render();break;case"contextMenu":!0!==r||t._menuInitialized||t.render();break;case"rtl":var n=r?"rtl":"ltr",o=r?"ltr":"rtl",a=function(i){for(var s=t._find(i,".jqx-layout-pseudo-window-title-"+o),a=t._find(i,".jqx-layout-pseudo-window-pin-background-"+o),l=t._find(i,".jqx-layout-pseudo-window-close-background-"+o),d=t._find(i,".jqx-layout-ribbon-header"),h=t._find(i,".jqx-ribbon"),c=0;c<s.length;c++){var u=e(s[c]);u.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-"+o)),u.addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-"+n))}for(var p=0;p<a.length;p++){var m=e(a[p]);m.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+o)),m.addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+n))}for(var f=0;f<l.length;f++){var g=e(l[f]);g.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-"+o)),g.addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-"+n))}for(var v=0;v<d.length;v++){var x=e(d[v]);x.removeClass(t.toThemeProperty("jqx-layout-ribbon-header-"+o)),x.addClass(t.toThemeProperty("jqx-layout-ribbon-header-"+n))}for(var w=0;w<h.length;w++)e(h[w]).jqxRibbon({rtl:r})};if(a(t.host),t.dockingLayout)for(var l=t._find(document.body,"."+t.element.id+"FloatGroup"),d=0;d<l.length;d++){var h=e(l[d]);a(h),h.jqxWindow({rtl:r})}}}else t.render()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_setSize:function(){var e=this;e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,i){return e/t.widget[i]()*100},_addHandlers:function(){var t,i,s=this,r=s.element.id;function n(e,t){for(var i=0;i<s._coordinates.length;i++){var r=s._coordinates[i];if(e>=r.x.from&&e<=r.x.to&&t>=r.y.from&&t<=r.y.to){"horizontal"===r.orientation?s.element.style.cursor="col-resize":s.element.style.cursor="row-resize",s._resize={allowed:!0,widget:r.widget,side:r.side};break}s.element.style.cursor="default",s._resize.allowed=!1}}function o(e){if(!0===s._resize.allowed){var r=s._resize.widget,n=r.current.parent,o=s._percentToPx("width",r.current.minWidth,n),a=s._percentToPx("height",r.current.minHeight,n),l=n.items[r.current.index-1],d=n.items[r.current.index+1];switch(s._resizeStartPosition={x:e.pageX,y:e.pageY},o||(o=s._percentToPx("width",s.minGroupWidth,n)),o=Math.min(o,r.width()),r.current.minWidth=o,a||(a=s._percentToPx("height",s.minGroupHeight,n)),a=Math.min(a,r.height()),r.current.minHeight=a,s._resize.side){case"left":var h=s._percentToPx("width",l.minWidth,n);h||(h=s._percentToPx("width",s.minGroupWidth,n)),t=l.widget.offset().left+h,i=r.offset().left+r.width()-o;break;case"right":var c=s._percentToPx("width",d.minWidth,n);c||(c=s._percentToPx("width",s.minGroupWidth,n)),t=r.offset().left+o,i=d.widget.offset().left+d.widget.width()-c;break;case"top":var u=s._percentToPx("height",l.minHeight,n);u||(u=s._percentToPx("height",s.minGroupHeight,n)),t=l.widget.offset().top+u,i=r.offset().top+r.height()-a;break;case"bottom":var p=s._percentToPx("height",d.minHeight,n);p||(p=s._percentToPx("height",s.minGroupHeight,n)),t=r.offset().top+a,i=d.widget.offset().top+d.widget.height()-p}var m,f=function(e,t){if(t=void 0===t?{top:0,left:0}:t,e!==top){var i=e.frameElement.getBoundingClientRect();t.left+=i.left,t.top+=i.top,t=f(e.parent,t)}return t};s._clickedToResize=!0,s._overlay[0].style.display="block","left"===s._resize.side||"right"===s._resize.side?(s._verticalFeedback[0].style.height=s._resize.widget.height()+"px",m=s._ie7?f(window).top:0,s._verticalFeedback.offset({top:s._resize.widget.offset().top-s.host.offset().top+document.body.scrollTop-m})):(s._horizontalFeedback[0].style.width=s._resize.widget.width()+"px",m=s._ie7?f(window).left:0,s._horizontalFeedback.offset({left:s._resize.widget.offset().left-s.host.offset().left+document.body.scrollLeft+1-m}))}}function a(e,t,i,r,n){var o,a,l=n.charAt(0).toUpperCase()+n.slice(1),d=t.parent;return e?(o=s._percentToPx(n,i["min"+l],d),a=parseFloat(i[n])/100*t.parent.widget[n]()-r):(o=s._percentToPx(n,t["min"+l],d),a=parseFloat(t[n])/100*t.parent.widget[n]()-r),o||(o=s._percentToPx(n,s["minGroup"+l],d)),a<o?o:a}function l(e){if(!0===s._clickedToResize){var t,i,r,n,o,l,d=function(){s._clickedToResize=!1,s._overlay[0].style.display="none",s._verticalFeedback[0].style.display="none",s._horizontalFeedback[0].style.display="none"},h=e.pageX,c=e.pageY,u=s._resize.widget.current,p=s._resize.widget.offset(),m=p.left,f=p.top;if(e.pageX===s._resizeStartPosition.x&&e.pageY===s._resizeStartPosition.y)return void d();if("left"===s._resize.side||"right"===s._resize.side){if(l=u.width,"left"===s._resize.side?(t=u.parent.items[u.index-1],r=h<(i=m)):(t=u.parent.items[u.index+1],r=h>=(i=m+u.widget.width())),0===(n=Math.abs(h-i)))return void d();if(r?(o=s._getPercentage(a(!0,u,t,n,"width"),u.parent,"width"),n=Math.abs(o-parseFloat(t.width)),t.width=o+"%",u.width=parseFloat(u.width)+n+"%"):(o=s._getPercentage(a(!1,u,t,n,"width"),u.parent,"width"),n=Math.abs(o-parseFloat(u.width)),u.width=o+"%",t.width=parseFloat(t.width)+n+"%"),u.width===l)return void d()}else{if(l=u.height,"top"===s._resize.side?(t=u.parent.items[u.index-1],r=c<(i=f)):(t=u.parent.items[u.index+1],r=c>=(i=f+u.widget.height())),0===(n=Math.abs(c-i)))return void d();if(r?(o=s._getPercentage(a(!0,u,t,n,"height"),u.parent,"height"),n=Math.abs(o-parseFloat(t.height)),t.height=o+"%",u.height=parseFloat(u.height)+n+"%"):(o=s._getPercentage(a(!1,u,t,n,"height"),u.parent,"height"),n=Math.abs(o-parseFloat(u.height)),u.height=o+"%",t.height=parseFloat(t.height)+n+"%"),u.height===l)return void d()}d(),s.render(),s._raiseEvent("1",{item:u})}}function d(e){if(!0===s._clickedToResize){var r=e.pageX,n=e.pageY;"left"===s._resize.side||"right"===s._resize.side?(s._verticalFeedback[0].style.display="block",r<t?(r=t,s._verticalFeedback.addClass(s.toThemeProperty("jqx-layout-resize-feedback-warning"))):r>i?(r=i,s._verticalFeedback.addClass(s.toThemeProperty("jqx-layout-resize-feedback-warning"))):s._verticalFeedback.removeClass(s.toThemeProperty("jqx-layout-resize-feedback-warning")),s._verticalFeedback.offset({left:r-2})):(s._horizontalFeedback[0].style.display="block",n<t?(n=t,s._horizontalFeedback.addClass(s.toThemeProperty("jqx-layout-resize-feedback-warning"))):n>i?(n=i,s._horizontalFeedback.addClass(s.toThemeProperty("jqx-layout-resize-feedback-warning"))):s._horizontalFeedback.removeClass(s.toThemeProperty("jqx-layout-resize-feedback-warning")),s._horizontalFeedback.offset({top:n-2}),s._horizontalFeedback.offset({left:s._resize.widget.offset().left+document.body.scrollLeft+1}))}}if(s._resize={allowed:!1},s._clickedToResize=!1,s._docUP=l,s._touchDevice?(s.addHandler(e(document),"touchstart.jqxDockingLayout"+r,function(e){var t=e.originalEvent.touches[0];n(t.pageX,t.pageY),o(t)}),s.addHandler(e(document),"touchmove.jqxDockingLayout"+r,function(e){d(e.originalEvent.touches[0])}),s.addHandler(e(document),"touchend.jqxDockingLayout"+r,function(e){l(e.originalEvent.changedTouches[0])})):(s.addHandler(s.host,"mousemove.jqxLayout"+r,function(e){!1===s._clickedToResize&&(!s.dockingLayout||s.dockingLayout&&!0!==s.dockingLayout._windowDragged)&&n(e.pageX,e.pageY)}),s.addHandler(e(document),"mousemove.jqxLayout"+r,function(e){d(e)}),s.addHandler(s.host,"mousedown.jqxLayout"+r,function(e){o(e)}),s.addHandler(e(document),"mouseup.jqxLayout"+r,function(e){l(e)})),s.addHandler(e(document),"selectstart.jqxLayout"+r,function(){if(!0===s._clickedToResize)return!1}),s.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s._mouseupHandler))}catch(e){}},_removeHandlers:function(){var t=this,i=t.element.id;if(t._touchDevice?(t.removeHandler(e(document),"touchstart.jqxLayout"+i),t.removeHandler(e(document),"touchmove.jqxLayout"+i),t.removeHandler(e(document),"touchend.jqxLayout"+i)):(t.removeHandler(t.host,"mousemove.jqxLayout"+i),t.removeHandler(e(document),"mousemove.jqxLayout"+i),t.removeHandler(t.host,"mousedown.jqxLayout"+i),t.removeHandler(e(document),"mouseup.jqxLayout"+i)),t.removeHandler(e(document),"selectstart.jqxLayout"+i),t.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",t._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",t._mouseupHandler))}catch(e){}if(t._oldIE)e("."+i+"FloatGroup").off("close");else for(var s=document.body.querySelectorAll("."+i+"FloatGroup"),r=0;r<s.length;r++)t.removeHandler(s[r],"close")},_createLayout:function(t,i,s){function r(e){var t=i.children(),s=t[0],r=t[1];if(s.innerHTML=e.title,e.content)u=e.content;else{var o=n._find(n._originalElement,'[data-container="'+e.contentContainer+'"]')[0];u=void 0!==o?o.innerHTML:""}void 0===u&&(u=""),r.innerHTML=u}for(var n=this,o=s.type,a=0;a<t.length;a++){var l,d,h,c,u,p,m,f,g=t[a];switch(g.type){case"layoutGroup":if(l=document.createElement("div"),h="jqx-layout-group-default","horizontal"===g.orientation&&(h+=" jqx-layout-group-default-horizontal"),"host"===o)h+=" jqx-layout-group-root";else{var v="horizontal"===s.orientation?g.width:"100%",x="horizontal"===s.orientation?"100%":g.height;l.style.width=n._toPx(v),l.style.height=n._toPx(x)}l.className=n.toThemeProperty(h),i[0].appendChild(l),d=e(l);break;case"tabbedGroup":"floatGroup"!==o?((d=document.createElement("div")).className=n.toThemeProperty("jqx-layout-group-tabbed"),d.innerHTML='<div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(n.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div>',i[0].appendChild(d),d=e(d),n._addRightClickHandler(n._find(d,".jqx-layout-window-header")[0],d)):((d=document.createElement("div")).className="jqx-layout-ribbon",d.innerHTML='<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(n.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div>',i.children()[1].appendChild(d),d=e(d));break;case"documentGroup":case"autoHideGroup":l=document.createElement("div");var w="";"documentGroup"===g.type&&(w="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(n.rtl?"rtl":"ltr")),l.innerHTML='<ul class="'+w+'"></ul><div></div>',n._ie7&&"autoHideGroup"===g.type&&(l.style.zIndex=9999-500*a),i[0].appendChild(l),d=e(l);break;case"floatGroup":if(n._rendered&&!0!==g.programmaticallyAdded)continue;if(!n.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");(d=document.createElement("div")).className=n.toThemeProperty("jqx-docking-layout-group-floating"),d.innerHTML="<div></div><div></div>",i[0].appendChild(d),d=e(d),!0===g.programmaticallyAdded&&delete g.programmaticallyAdded;break;case"layoutPanel":if(d={},"tabbedGroup"===o){var y=n._find(i,".jqx-layout-window-header")[0];if(y)""===e(y).text()&&(y.firstChild.innerHTML=g.title);if((m=document.createElement("li")).innerHTML=g.title,n._find(i,".jqx-layout-ribbon-header")[0].appendChild(m),n._rendered||g.docked?u=g.detachedContent:(c=n._find(n._originalElement,'[data-container="'+g.contentContainer+'"]')[0],u=void 0!==c?c.innerHTML:""),p=document.createElement("div"),"string"==typeof u)p.innerHTML=u;else for(var b=0;b<u.length;b++)e(u[b]).appendTo(p);n._find(i,".jqx-layout-ribbon-content")[0].appendChild(p),n._addRightClickHandler(m,d)}else if("autoHideGroup"===o){if(f=i.children(),(m=document.createElement("li")).innerHTML=g.title,f[0].appendChild(m),n._rendered?u=g.detachedContent:(c=n._find(n._originalElement,'[data-container="'+g.contentContainer+'"]')[0],u=void 0!==c?c.innerHTML:""),p=document.createElement("div"),"string"==typeof u)p.innerHTML=u;else for(var _=0;_<u.length;_++)u[_].appendTo(p);var j;"left"===s.alignment||"right"===s.alignment?(void 0!==s.popupContentSize&&(p.style.width=parseInt(s.popupContentSize,10)+"px"),j="jqx-layout-group-auto-hide-content-vertical"):(void 0!==s.popupContentSize&&(p.style.height=parseInt(s.popupContentSize,10)+"px"),j="jqx-layout-group-auto-hide-content-horizontal"),p.className=n.toThemeProperty(j);var q=document.createElement("div"),T=document.createElement("div");T.className="jqx-layout-window",T.innerHTML="<div><div>"+g.title+"</div></div>",T.appendChild(p),q.appendChild(T),f[1].appendChild(q),n._addRightClickHandler(T,d)}else"floatGroup"===o&&r(g);break;case"documentPanel":if(d={},"floatGroup"===o)r(g);else{if(f=i.children(),(m=document.createElement("li")).innerHTML=g.title,f[0].appendChild(m),n._rendered||g.docked?u=g.detachedContent:(c=n._find(n._originalElement,'[data-container="'+g.contentContainer+'"]')[0],u=void 0!==c?c.innerHTML:""),p=document.createElement("div"),"string"==typeof u)p.innerHTML=u;else for(var C=0;C<u.length;C++)u[C].appendTo(p);f[1].appendChild(p),n._addRightClickHandler(m,d)}}if(g.items&&g.items.length>0){var S=d;n._createLayout(g.items,S,g)}if(n._createWidget(s,i,g,d,a),n.dockingLayout&&("documentGroup"===g.type||"tabbedGroup"===g.type||"layoutGroup"===g.type&&0===g.items.length)){var k={element:d,width:d.width(),height:d.height(),offset:d.offset(),settings:g};n._overlayGroups.push(k),"floatGroup"===g.parent.type&&(g.parent._overlayGroup=k)}}},_createWidget:function(t,i,s,r,n){var o=this,a="horizontal"===t.orientation?s.width:"100%",l="horizontal"===t.orientation?"100%":s.height,d=!1;function h(){for(var e=0,t=0;t<s.items.length;t++)if(!0===s.items[t].selected){e=t;break}return s.items[e].selected=!0,e}switch(s.parent=t,s.widget=r,s.index=n,s.widget&&(s.widget.current=s),s.type){case"tabbedGroup":var c,u;"floatGroup"!==t.type?(c=o._initWindowPanel(r,a,l,s.type),u=e(o._find(r,".jqx-layout-ribbon")[0]),o._tabbedGroupsList.push(s)):u=r,o.dockingLayout&&!1!==s.allowDrag&&(d=!0),u.jqxRibbon({theme:o.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:o.rtl,_roundedCorners:!1,initContent:function(t){var i=s.items[t];!i.initialized&&i.initContent&&(i.initContent(e(this._contentSections[t])),i.initialized=!0)},_removeByDrag:d,reorder:!0,_suppressReorder:!1}),u.on("select",function(i){if(i.stopPropagation(),i.target.id===u[0].id){i.stopPropagation();var r=i.args.selectedIndex;s.items[r].selected=!0;var n=e(e(u.children()[1]).children()[r]).text();"floatGroup"!==t.type?c[0].innerHTML=n:o._find(t.widget,".jqx-window-header")[0].firstChild.innerHTML=n}}),u.on("unselect",function(e){e.stopPropagation(),e.target.id===u[0].id&&(s.items[e.args.unselectedIndex].selected=!1)}),u.on("reorder",function(e){o._swapPanelsInLayout(s.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){s.items[t]&&o._addRightClickHandler(o._find(u,".jqx-ribbon-item")[t],s.items[t].widget)},200)}),d&&(u.on("_removeByDrag",function(e){o.dockingLayout._removeByDragHandler(e,s,u),"floatGroup"===s.parent.type&&1===s.items.length&&u.jqxRibbon({_removeByDrag:!1})}),"floatGroup"!==s.parent.type&&o.dockingLayout._addTabbedGroupHandlers(s,r)),u.jqxRibbon("selectAt",h());break;case"documentGroup":o.dockingLayout&&!1!==s.allowDrag&&(d=!0),r.jqxRibbon({theme:o.theme,width:a,height:l,_roundedCorners:!1,position:"top",selectedIndex:h(),selectionMode:"click",animationType:"none",rtl:o.rtl,initContent:function(t){var i=s.items[t];!i.initialized&&i.initContent&&(i.initContent(e(this._contentSections[t])),i.initialized=!0)},_removeByDrag:d,reorder:!0,_suppressReorder:!1}),r.on("select",function(e){e.stopPropagation(),e.target.id===r[0].id&&(s.items[e.args.selectedIndex].selected=!0)}),r.on("unselect",function(e){e.stopPropagation(),e.target.id===r[0].id&&(s.items[e.args.unselectedIndex].selected=!1)}),r.on("reorder",function(e){o._swapPanelsInLayout(s.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){o._addRightClickHandler(o._find(r,".jqx-ribbon-item")[t],s.items[t].widget)},200)}),d&&r.on("_removeByDrag",function(e){o.dockingLayout._removeByDragHandler(e,s,r)}),r.addClass(o.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":r.jqxRibbon({theme:o.theme,width:a,height:l,mode:"popup",popupCloseMode:"click",position:s.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:o.rtl,initContent:function(t){var i=e(this._contentSections[t]),n=e(o._find(i,".jqx-layout-window")[0]);n.current=r.current.items[t],n[0].style.border="none",o._initWindowPanel(n,"100%","100%",s.type),!s.items[t].initialized&&s.items[t].initContent&&(s.items[t].initContent(e(n.children()[1])),s.items[t].initialized=!0)}}),r.addClass(o.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":r.addClass(o.element.id+"FloatGroup"),r.jqxWindow({theme:o.theme,width:s.width,maxWidth:null,height:s.height,maxHeight:null,position:{x:s.position.x,y:s.position.y},showCloseButton:!1!==s.allowClose,closeButtonAction:"close",rtl:o.rtl,initContent:function(){var e=this._header,t=o._touchDevice?"touchstart":"mousedown",i=".jqxLayout"+o.element.id;if(o.addHandler(e,t+i,function(){var e,t,i;o.dockingLayout._windowDragged=!0,s._overlayGroup&&(s._overlayGroup.self=!0),o.dockingLayout._interval(),o.resizable&&(o._overlay[0].style.display="block"),"documentPanel"===s.items[0].type?(e={type:"documentGroup"},i=(t=s.items[0]).title):"layoutPanel"===s.items[0].type?(e={type:"tabbedGroup"},i=(t=s.items[0]).title):"tabbedGroup"===s.items[0].type&&(e=s.items[0]),o.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:i,element:r},o.dockingLayout._showEdgeOverlays()}),o.addHandler(e,"mouseup"+i,function(){o.dockingLayout._hideOverlays()}),"tabbedGroup"===s.items[0].type){for(var n=0,a=0;a<s.items[0].items.length;a++)if(s.items[0].items[a].selected){n=a;break}var l=s.items[0].items[n].title;r.jqxWindow("setTitle",l)}else s.items[0].initContent&&s.items[0].initContent(this._content)}}),r.on("moved",function(e){s.position.x=e.args.x,s.position.y=e.args.y,s._overlayGroup&&o.dockingLayout._updateOverlayGroup(s._overlayGroup),o.dockingLayout._windowCreate=!1,o.dockingLayout._hideOverlays(),o.dockingLayout._clearTextSelection()}),r.on("resized",function(t){s.width=t.args.width,s.height=t.args.height;var i=e(this).offset();s.position.x=i.left,s.position.y=i.top,s._overlayGroup&&o.dockingLayout._updateOverlayGroup(s._overlayGroup)}),r.on("close",function(e){e.stopPropagation(),e.target.id===r[0].id&&(o._raiseEvent("4",{element:r,floatGroup:r.current}),r.current._overlayGroup&&(r.current._overlayGroup.removed=!0,o.dockingLayout._updateOverlayGroups()),o.dockingLayout._removeFloatGroupObject(r.current))})}},_initWindowPanel:function(t,i,s,r){var n=this;if(t.addClass(n.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),n._ie7){var o=t.parent();if("tabbedGroup"===r){var a,l,d=parseInt(t.css("border-left-width"),10),h=parseInt(t.css("border-right-width"),10),c=parseInt(t.css("border-top-width"),10),u=parseInt(t.css("border-bottom-width"),10);a="100%"===i?o.width():parseFloat(i)/100*o.width(),a-=d+h,l="100%"===s?o.height():parseFloat(s)/100*o.height(),l-=c+u,t.css({width:a,height:l})}else"autoHideGroup"===r&&t.css({width:i,height:s})}else t[0].style.width=i,t[0].style.height=s;var p=n.rtl?"rtl":"ltr",m=e(t[0].firstChild),f=e(m[0].firstChild);f.addClass(n.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+p)),m.addClass(n.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),n._ie7&&(m.css("width",m.width()-parseInt(m.css("padding-left"),10)-parseInt(m.css("padding-right"),10)),m.css("height",m.height()-parseInt(m.css("padding-top"),10)-parseInt(m.css("padding-bottom"),10)));var g,v,x=0;if((n.dockingLayout?"layoutPanel"===t.current.type?void 0===t.current.parent.allowClose||!0===t.current.parent.allowClose:void 0===t.current.allowClose||!0===t.current.allowClose:"layoutPanel"===t.current.type?!0===t.current.parent.allowClose:!0===t.current.allowClose)&&((g=document.createElement("div")).className=n.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+p),g.setAttribute("title","Close"),g.innerHTML='<div class="'+n.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div>',m[0].appendChild(g),x+=16),"tabbedGroup"===r&&!1!==t.current.allowPin||"autoHideGroup"===r&&!1!==t.current.parent.allowUnpin){var w;switch(r){case"tabbedGroup":w="jqx-layout-pseudo-window-pin-icon",t.pinned=!1;break;case"autoHideGroup":w="jqx-layout-pseudo-window-pinned-icon",t.pinned=!0}(v=document.createElement("div")).className=n.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background"),v.setAttribute("title","Auto Hide"),v.innerHTML='<div class="'+n.toThemeProperty(w)+'"></div>',g?v.className+=" "+n.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+p):!1===n.rtl&&(v.style.right="0px"),m[0].appendChild(v),x+=16,n.dockingLayout&&"autoHideGroup"===r&&n.dockingLayout._addAutoHideGroupHandlers(t.current,m,t.current.title,t.children()[1])}f[0].style.maxWidth=n._toPx(m.width()-x);var y=t.children()[1];return y.style.height=n._toPx(1+t.height()-m.outerHeight()),y.style.marginLeft="-1px",y.style.marginRight="-1px",n._addWindowPanelHandlers(g,v,t),f},_addWindowPanelHandlers:function(e,t,i){var s=this,r=s.element.id,n=i.current,o=n.type;e&&s.addHandler(e,"click.jqxLayout"+r,function(){if("tabbedGroup"===o&&n.items.length>1){var e=s._find(i,".jqx-ribbon-item-selected")[0]._index;s._close(n.items[e])}else i.initAnimate&&i.initAnimate(),i.fadeOut({complete:function(){s._close(n),i.remove()}})}),t&&s.addHandler(t,"click.jqxLayout"+r,function(){"tabbedGroup"===o&&!0===n.pinValid?s._pin(n):"layoutPanel"===o&&s._unPin(n.parent)})},_getGroupCoordinates:function(){var e=this;function t(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}e._coordinates=[],function i(s){for(var r=0;r<s.length;r++){var n=s[r];if(t(n.type)){var o,a,l,d,h,c=s[r-1],u=s[r+1],p=n.widget.offset();c&&t(c.type)&&("horizontal"===n.parent.orientation?(a=10+(o=p.left-5),d=(l=p.top-5)+n.widget.height()+10,h="left"):(a=(o=p.left-5)+n.widget.width()+10,d=10+(l=p.top-5),h="top"),e._coordinates.push({x:{from:o,to:a},y:{from:l,to:d},widget:n.widget,side:h,orientation:n.parent.orientation})),u&&t(u.type)&&("horizontal"===n.parent.orientation?(a=10+(o=p.left+n.widget.width()-5),d=(l=p.top-5)+n.widget.height()+10,h="right"):(a=(o=p.left-5)+n.widget.width()+10,d=10+(l=p.top+n.widget.height()-5),h="bottom"),e._coordinates.push({x:{from:o,to:a},y:{from:l,to:d},widget:n.widget,side:h,orientation:n.parent.orientation})),n.items&&i(n.items)}}}(e.layout[0].items)},_close:function(t){var i,s=this;if(t.removed=!0,"tabbedGroup"===t.type||"autoHideGroup"===t.type||"documentGroup"===t.type){if((i="tabbedGroup"===t.type?e(s._find(t.widget,".jqx-ribbon")[0]):t.widget).jqxRibbon("destroy"),t.parent.items){var r=t.parent.items[t.index-1],n=t.parent.items[t.index+1],o="vertical"===t.parent.orientation?"height":"width",a=function(e){var i=parseFloat(e[o])+parseFloat(t[o])+"%";"documentGroup"===e.type?"height"===o?e.widget.jqxRibbon({height:i}):e.widget.jqxRibbon({width:i}):"layoutGroup"!==e.type&&"tabbedGroup"!==e.type||(e.widget[0].style[o]=i),e[o]=i,s._raiseEvent("1",{item:e})};r&&"autoHideGroup"!==r.type&&"floatGroup"!==r.type?a(r):n&&"autoHideGroup"!==n.type&&"floatGroup"!==n.type&&a(n)}}else if("layoutPanel"===t.type){if("tabbedGroup"===t.parent.type)return(i=e(s._find(t.parent.widget,".jqx-ribbon")[0])).jqxRibbon("removeAt",t.index),s._updateLayout(s.layout),void(0===t.index?i.jqxRibbon("selectAt",0):i.jqxRibbon("selectAt",t.index-1));if("autoHideGroup"===t.parent.type){(i=t.parent.widget).jqxRibbon("removeAt",t.index);for(var l=i.children(),d=0,h=0;h<l.length;h++)if("ul"===l[h].nodeName.toLowerCase()){d=e(l[h]).children().length;break}0===d&&s._close(i.current)}}s._updateLayout(s.layout),s.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(!0===e[t].removed){e.splice(t,1);for(var i=0;i<e.length;i++)e[i].index=i}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(t){var i,s,r,n=this,o=t.parent;if(t.alignment)i=t.alignment;else{var a=Math.abs(t.parent.items.length-1-t.index);i=Math.abs(0-t.index)<a?"horizontal"===t.parent.orientation?"left":"top":"horizontal"===t.parent.orientation?"right":"bottom"}var l="top"===i||"left"===i?t.index+1:t.index-1;"left"===i||"right"===i?(s="width",r=t.pinnedWidth):(s="height",r=t.pinnedHeight),"number"==typeof r&&(r=n._getPercentage(r,o,s)+"%"),r||("width"===s?r=8e3/t.parent.widget.width()+"%":"height"===s&&(r=3e3/t.parent.widget.height()+"%")),n._detachContent(t.items,!0);var d={type:"autoHideGroup",alignment:i,items:t.items};d[s]=r,d["min"+s.charAt(0).toUpperCase()+s.slice(1)]=t["min"+s.charAt(0).toUpperCase()+s.slice(1)],d["unpinned"+s.charAt(0).toUpperCase()+s.slice(1)]=t[s],d.allowDrag=t.allowDrag,d.allowDrop=t.allowDrop,d.allowClose=t.allowClose;for(var h=0;h<d.items.length;h++)d.items[h].allowClose=t.allowClose;t.popupContentSize&&(d.popupContentSize=t.popupContentSize);var c=o.items[l];c[s]=parseFloat(c[s])+parseFloat(t[s])-parseFloat(r)+"%",o.items.splice(t.index,0,d),t.removed=!0,e(n._find(t.widget,".jqx-ribbon")[0]).jqxRibbon("destroy"),t.widget.remove(),n._updateLayout(n.layout),n.render(),n._raiseEvent("1",{item:c}),n._raiseEvent("2",{item:d})},_unPin:function(e){var t,i,s,r=this,n=e.parent,o=e.alignment,a="top"===o||"left"===o?e.index+1:e.index-1,l=n.items[a];"left"===o||"right"===o?(t="width",i=e.unpinnedWidth):(t="height",i=e.unpinnedHeight),i||(i="10%"),r._detachContent(e.items,!0);var d={type:"tabbedGroup",alignment:o,items:e.items};if(d["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],d.allowDrag=e.allowDrag,d.allowDrop=e.allowDrop,d.allowClose=e.allowClose,e.popupContentSize&&(d.popupContentSize=e.popupContentSize),l){var h=parseFloat(l[t])+parseFloat(e[t])-parseFloat(i)+"%",c=l["min"+t.charAt(0).toUpperCase()+t.slice(1)];c||(c=r["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)]),parseFloat(h)<r._getPercentage(c,n,t)?(i=e[t],h=r._getPercentage(c,n,t)+"%",d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],d[t]=i,l[t]=h,s=l}else d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],d[t]="100%",s=d;n.items.splice(e.index,0,d),e.removed=!0,e.widget.jqxRibbon("destroy"),r._updateLayout(r.layout),r.render(),r._raiseEvent("1",{item:s}),r._raiseEvent("3",{item:d})},_copyItem:function(e,t){var i={};for(var s in e)if(e.hasOwnProperty(s)&&"parent"!==s&&"widget"!==s&&"initialized"!==s)if("position"===s)i.position={x:e.position.x,y:e.position.y};else if("items"===s){for(var r=[],n=0;n<e.items.length;n++)this._copyItem(e.items[n],r);i.items=r}else i[s]=e[s];t.push(i)},_addResizeFeedbacks:function(){var t=this;t._horizontalFeedback=document.createElement("div"),t._horizontalFeedback.className=t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal"),t._verticalFeedback=document.createElement("div"),t._verticalFeedback.className=t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical"),t._overlay=document.createElement("div"),t._overlay.className=t.toThemeProperty("jqx-layout-overlay"),t.dockingLayout&&t.dockingLayout._windowDragged&&(t._overlay.style.display="block"),t.element.appendChild(t._horizontalFeedback),t.element.appendChild(t._verticalFeedback),t.element.appendChild(t._overlay),t._horizontalFeedback=e(t._horizontalFeedback),t._verticalFeedback=e(t._verticalFeedback),t._overlay=e(t._overlay)},_detachContent:function(t,i){var s=this;function r(t){if(!0===t.prevent)t.prevent=!1;else{var r=s._find(t.parent.widget,".jqx-ribbon-content-section")[t.index];o=s._detachChildNodes(r),e(r).remove(),t.detachedContent=o,!0===i&&(t.prevent=!0)}}for(var n=t.length-1;n>=0;n--){var o,a=t[n],l=a.type;if("layoutGroup"===l||"tabbedGroup"===l||"documentGroup"===l||"autoHideGroup"===l||"floatGroup"===l)a.items&&a.items.length>0&&this._detachContent(a.items);else if("layoutPanel"===l){if("tabbedGroup"===a.parent.type)r(a);else if("autoHideGroup"===a.parent.type)if(!0===a.prevent)a.prevent=!1;else{if("left"===a.parent.alignment||"right"===a.parent.alignment){var d=s._find(a.parent.widget,".jqx-layout-group-auto-hide-content-vertical")[n];o=s._detachChildNodes(d),e(d).remove()}else{var h=s._find(a.parent.widget,".jqx-layout-group-auto-hide-content-horizontal")[n];o=s._detachChildNodes(h),e(h).remove()}a.detachedContent=o,!0===i&&(a.prevent=!0)}}else"documentPanel"===l&&r(a)}},_pxToPercent:function(e,t){function i(i,r){return(100*(i=parseInt(i,10))/(t?s.element["offset"+r]:e["initialPx"+r])).toString()+"%"}for(var s=this,r=0;r<e.items.length;r++){var n=e.items[r];void 0!==n.width?(n.initialPxWidth=n.width,n.width=i(n.width,"Width")):n.initialPxWidth=e.initialPxWidth,void 0!==n.height?(n.initialPxHeight=n.height,n.height=i(n.height,"Height")):n.initialPxHeight=e.initialPxHeight,void 0!==n.unpinnedWidth&&(n.unpinnedWidth=i(n.unpinnedWidth,"Width")),void 0!==n.pinnedWidth&&(n.pinnedWidth=i(n.pinnedWidth,"Width")),void 0!==n.unpinnedHeight&&(n.unpinnedHeight=i(n.unpinnedHeight,"Height")),void 0!==n.pinnedHeight&&(n.pinnedHeight=i(n.pinnedHeight,"Height")),"layoutGroup"===n.type&&n.items&&n.items.length>0&&s._pxToPercent(n,!1)}},_percentToPx:function(e,t,i){return void 0===t?void 0:"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*i.widget[e]()},_swapPanelsInLayout:function(e,t,i){var s=e[t];e[t]=e[i],e[t].index=t,e[i]=s,e[i].index=i},_initMenu:function(){var t=this;if(!t._menuInitialized){var i=t.element.id,s="",r=function(e,s,r){t._menu.jqxMenu("disable","dockOption"+i,e),t._menu.jqxMenu("disable","autoHideOption"+i,s),t._menu.jqxMenu("disable","closeOption"+i,r)};if(!t.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");t.dockingLayout&&(s='<li id="floatOption'+i+'">Float</li>');var n=document.createElement("div");n.className=t.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+i),n.innerHTML="<ul>"+s+'<li id="dockOption'+i+'">Dock</li><li id="autoHideOption'+i+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+i+'">Close</li></ul>',t._menu=e(n),document.body.appendChild(n),t._menu.jqxMenu({theme:t.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:t.rtl}),t._menuInitialized=!0,t.addHandler(t._menu,"itemclick.jqxLayout"+i,function(i){t._handleMenuItemClick(e(i.target).text())});var o=function(e){return t.dockingLayout?!1===e.allowClose:!0!==e.allowClose};t.addHandler(t._menu,"shown.jqxLayout"+i,function(){switch(t._contextMenuTarget.type){case"tabbedGroup":r(!0,!1===t._contextMenuTarget.allowPin||!1===t._contextMenuTarget.pinValid,o(t._contextMenuTarget));break;case"layoutPanel":var e=t._contextMenuTarget.parent;"tabbedGroup"===e.type?r(!0,!1===e.allowPin||t._isMiddleTabbedGroup(e),o(e)):"autoHideGroup"===e.type&&r(!1===e.allowUnpin,!0,o(t._contextMenuTarget));break;case"documentPanel":r(!0,!0,o(t._contextMenuTarget))}})}},_addRightClickHandler:function(t,i){var s=this;!0===s.contextMenu&&(s.addHandler(t,"mousedown.jqxLayout"+s.element.id,function(t){if(!0===s.contextMenu&&(t.which&&3===t.which||t.button&&2===t.button)){var r=document.body.scrollTop,n=e(window).scrollLeft();s._contextMenuTarget=i.current,s._menu.jqxMenu("open",parseInt(t.clientX,10)+5+n,parseInt(t.clientY,10)+5+r)}}),s.addHandler(t,"contextmenu.jqxLayout"+s.element.id,function(){if(!0===s.contextMenu)return!1}))},_handleMenuItemClick:function(t){var i=this,s=i._contextMenuTarget.type,r=i._contextMenuTarget.parent;switch(t){case"Float":switch(s){case"tabbedGroup":i.dockingLayout._floatTabbedGroup(i._contextMenuTarget,i._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===r.type)i.dockingLayout._removeByDragHandler(void 0,r,r.widget,i._contextMenuTarget.index,!1);else if("autoHideGroup"===r.type){var n=i._find(e(e(i._find(i._contextMenuTarget.parent.widget,".jqx-ribbon-content")[0]).children()[i._contextMenuTarget.index]),".jqx-layout-window")[0].firstChild;i.dockingLayout._floatAutoHideGroup(i._contextMenuTarget,i._contextMenuTarget.title,n)}break;case"documentPanel":i.dockingLayout._removeByDragHandler(void 0,r,r.widget,i._contextMenuTarget.index,!1)}break;case"Dock":i._unPin(i._contextMenuTarget.parent);break;case"Auto Hide":switch(s){case"tabbedGroup":i._pin(i._contextMenuTarget);break;case"layoutPanel":i._pin(i._contextMenuTarget.parent)}break;case"Close":switch(s){case"tabbedGroup":i._close(i._contextMenuTarget);break;case"layoutPanel":i._contextMenuTarget.parent.items.length>1?i._close(i._contextMenuTarget):i._close(i._contextMenuTarget.parent);break;case"documentPanel":i._closeDocumentPanel(i._contextMenuTarget.index,i._contextMenuTarget.parent.items,i._contextMenuTarget.parent,i._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,i,s,r){if(!1===r&&s.jqxRibbon("removeAt",e),t.length>1){var n=!1;t[e].removed=!0,this._updateLayout(t);for(var o=0;o<t.length;o++)if(!0===t[o].selected){n=!0;break}setTimeout(function(){!1===n?t[e]?s.jqxRibbon("selectAt",e):s.jqxRibbon("selectAt",e-1):s.jqxRibbon("render")},0)}else this._close(i)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(t){var i=!0;if((i=i&&t.parent.items.length>1)&&2===t.parent.items.length){var s=0===t.index?1:0;"autoHideGroup"===t.parent.items[s].type&&(i=!1)}i&&(i=i&&!this._isMiddleTabbedGroup(t)),t.pinValid=i,!1===i&&e(this._find(t.widget,".jqx-layout-pseudo-window-pin-background")[0]).addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){var t=this;try{t.dockingLayout&&(t._docUP(e),t.dockingLayout._windowCreate=!1,t.dockingLayout._hideOverlays())}catch(e){}},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){return this._oldIE?e.find(t):e[0]?e[0].querySelectorAll(t):e.querySelectorAll(t)},_detachChildNodes:function(t){if(void 0===t)return[];var i=[],s=t.childNodes;if(void 0!==s)for(;s.length>0;)i.push(e(s[0]).detach());return i}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,checkboxSize:16,checkboxes:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.isMaterialized()){var s=window.getComputedStyle(i.element).getPropertyValue("--jqx-list-item-height");s&&-1===this.itemHeight&&(this.itemHeight=parseInt(s))}i.renderListBox();var r=i;e.jqx.utilities.resize(i.host,function(){r._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=(a=this).element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){a.field=a.element,a.field.className&&(a._className=a.field.className);var i={title:a.field.title};a.field.id.length?i.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.id=e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",i);a.width||(a.width=e(a.field).width()),a.height||(a.height=e(a.field).outerHeight()),a.element.style.cssText=a.field.style.cssText,e(a.field).hide().after(s);var r=a.host.data();if(a.host=s,a.host.data(r),a.element=s[0],a.element.id=a.field.id,a.field.id=i.id,a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className)),a.field.tabIndex){var n=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=n}}else if(a.host.find("li").length>0||a.host.find("option").length>0){var o=e.jqx.parseSourceTag(a.element);a.source=o.items}a.element.innerHTML="";var a,l=(a=a).element.className;l+=" "+a.toThemeProperty("jqx-listbox"),l+=" "+a.toThemeProperty("jqx-reset"),l+=" "+a.toThemeProperty("jqx-rc-all"),l+=" "+a.toThemeProperty("jqx-widget"),l+=" "+a.toThemeProperty("jqx-widget-content"),a.element.className=l;var d=window.getComputedStyle(this.element),h=2*parseInt(d.borderLeftWidth),c=d.boxSizing;0===this.element.offsetWidth&&(h=2),("border-box"===c||isNaN(h))&&(h=0),null!=a.width&&-1!=a.width.toString().indexOf("%")&&(a.host.width(a.width),h>0&&this.host.css("box-sizing","border-box")),null!=a.height&&-1!=a.height.toString().indexOf("%")&&(a.host.height(a.height),0==a.host.height()&&a.host.height(200)),null!=a.width&&-1!=a.width.toString().indexOf("px")?a.element.style.width=parseInt(a.width)-h+"px":null==a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width)-h+"px"),null!=a.height&&-1!=a.height.toString().indexOf("px")?a.element.style.height=parseInt(a.height)-h+"px":null==a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height)-h+"px"),a.multiple||a.multipleextended||a.checkboxes?e.jqx.aria(a,"aria-multiselectable",!0):e.jqx.aria(a,"aria-multiselectable",!1);var u="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+a.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";a.host.attr("role","listbox"),a.element.innerHTML=u,a._checkForHiddenParent&&(a._addInput(),a.host.attr("tabIndex")||a.host.attr("tabIndex",1)),a.filter=e(a.element.firstChild.firstChild.firstChild),a.filterInput=e(a.filter[0].firstChild),a.filterInput.attr("placeholder",a.filterPlaceHolder),a.filterInput.addClass(a.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),a.addHandler(a.filterInput,"keyup.textchange",function(e){13==e.keyCode?a._search(e):a.filterDelay>0&&(a._filterTimer&&clearTimeout(a._filterTimer),a._filterTimer=setTimeout(function(){a._search(e)},a.filterDelay)),e.stopPropagation()});var p=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!a.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!p.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var m=parseInt(a.host.height())/2;0==m&&(m=10),a.vScrollBar=p.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:a.rtl,theme:a.theme,touchMode:a.touchMode,largestep:m});var f=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(a.hScrollBar=f.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:a.rtl,touchMode:a.touchMode,theme:a.theme}),a.content=e(a.element.firstChild.firstChild.firstChild.nextSibling),a.content[0].id="listBoxContent"+a.element.id,a.bottomRight=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(a.toThemeProperty("jqx-listbox-bottomright")).addClass(a.toThemeProperty("jqx-scrollbar-state-normal")),a.bottomRight[0].id="bottomRight"+a.element.id,a.vScrollInstance=e.data(a.vScrollBar[0],"jqxScrollBar").instance,a.hScrollInstance=e.data(a.hScrollBar[0],"jqxScrollBar").instance,a.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var g=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(g),a.overlayContent=a.host.find(".overlay"),a.filterable&&a.overlayContent.css("top","30px")}a._updateTouchScrolling(),a.host.addClass("jqx-disableselect"),a.host.jqxDragDrop&&window.jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var n=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(n,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=n),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"!=i&&"checkboxSize"!==i||t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var o=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(o),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t);if(i.length>0){var s=e.jqx.parseSourceTag(i[0]),r=s.items,n=s.index;this.source=r,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(null!=this.vScrollBar){this.itemHeight=parseInt(this.itemHeight),this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),s(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){var r=parseInt((i+s)/2),n=t[r];if(null==n)break;if(n.initialTop>e&&n.initialTop+n.height>e)s=r-1;else{if(!(n.initialTop<e&&n.initialTop+n.height<=e))return r;i=r+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);this.items.length,this.host.width();var o=parseInt(this.content[0].style.width),a=o+parseInt(s.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(a=o);this._getVirtualItemsCount();var l=new Array,d=0,h=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(h=this.host.outerHeight()),isNaN(h)&&(h=0);var c=0,u=0,p=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){if((C=this.items[m]).visible)C.top=-r,C.initialTop=-r,!C.isGroup&&C.visible&&(this.visibleItems[u++]=C,C.visibleIndex=u-1),this.renderedVisibleItems[p++]=C,C.left=-n,C.top+C.height>=0&&C.top-C.height<=h&&(l[d++]={index:m,item:C}),r-=C.height,r--}var f=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0;d=0;for(var v=this.vScrollInstance.value,x=0;g<100+h;){if(null==(C=this.renderedVisibleItems[f]))break;if(C.visible)C.left=-n,C.top+C.height-v>=0&&C.initialTop-v-C.height<=2*h&&(l[d++]={index:f,item:C});if(f++,C.visible&&(g+=C.initialTop-v+C.height-g),++x>this.items.length-1)break}if(!this._renderOnDemand){var w=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),y=this.toThemeProperty("jqx-listitem-state-group"),b=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");this.checkboxes&&(w+=" checkboxes");var _=0,j=this;for(m=0;m<this.visualItems.length;m++){var q=this.visualItems[m],T=function(){var e=q[0].firstChild;(j.checkboxes&&(e=q[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),j.checkboxes)&&(q[0].firstChild.style.visibility="hidden")};if(m<l.length){var C;if((C=l[m].item).initialTop-v>=h){T();continue}var S=e(q[0].firstChild);if(this.checkboxes&&(S=e(q[0].lastChild)),0==S.length)continue;if(null==S[0])continue;S[0].className="",S[0].style.display="block",S[0].style.visibility="inherit";var k="";if(k=!C.isGroup&&!this.selectedIndexes[C.index]>=0?w:y,(C.disabled||this.disabled)&&(k+=" "+b),this.roundedcorners&&(k+=" "+this.toThemeProperty("jqx-rc-all")),t&&(k+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),S[0].className=k,this.renderer)if(C.key||(C.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[C.key])S[0].innerHTML!=this._cachedItemHtml[C.key]&&(S[0].innerHTML=this._cachedItemHtml[C.key]);else{var I=this.renderer(C.index,C.label,C.value);S[0].innerHTML=I,this._cachedItemHtml[C.key]=S[0].innerHTML}else{if(-1!==this.itemHeight){var D=2+2*parseInt(S.css("padding-top"));S[0].style.lineHeight=C.height-D+"px",S.css("vertical-align","middle")}null!=C.html&&C.html.toString().length>0?S[0].innerHTML=C.html:null!=C.label||null!=C.value?null!=C.label?(S[0].innerHTML!==C.label&&(S[0].innerHTML=C.label),""==e.trim(C.label)&&(S[0].innerHTML=this.emptyString,""==this.emptyString&&(S[0].style.height=C.height-8+"px")),this.incrementalSearch||C.disabled||null!=this.searchString&&""!=this.searchString&&(S[0].innerHTML=this._highlight(C.label.toString(),this.searchString))):null===C.label?(S[0].innerHTML=this.emptyString,""==this.emptyString&&(S[0].style.height=C.height-8+"px")):S[0].innerHTML!==C.value?S[0].innerHTML=C.value:""==C.label&&(S[0].innerHTML=" "):""!=C.label&&null!=C.label||(S[0].innerHTML="",S[0].style.height=C.height-8+"px")}if(q[0].style.left=C.left+"px",q[0].style.top=C.initialTop-v+"px",C.element=S[0],this.isMaterialized()&&!this.renderer&&this._checkForHiddenParent&&(e(C.element).addClass("ripple"),e.jqx.ripple(e(C.element))),C.title&&(S[0].title=C.title),this.equalItemsWidth&&!C.isGroup){if(0==c){var P=parseInt(a);P-=parseInt(S.outerWidth())-parseInt(S.width());var A=1;A=null!=A?parseInt(A):0,"border-box"===this.host.css("box-sizing")&&(P-=2),c=P,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=this.checkboxSize+13)}o>this.virtualSize.width?(S[0].style.width=c+"px",C.width=c):(S[0].style.width=-4+this.virtualSize.width+"px",C.width=this.virtualSize.width-4)}else S.width()<this.host.width()&&S.width(this.host.width()-2);if(this.rtl&&(S[0].style.textAlign="right"),this.autoItemsHeight&&(S[0].style.whiteSpace="pre-line",S.width(c),C.width=c),_=0,this.checkboxes&&!C.isGroup){if(0==_&&(_=(C.height-this.checkboxSize-3)/2,_=parseInt(_),_++),(z=e(q.children()[0]))[0].item=C,this.rtl)"0px"!=S[0].style.left&&(S[0].style.left="0px");else{var M=this.checkboxSize+9;S[0].style.left!=M+"px"&&(S[0].style.left=M+"px")}this.rtl&&z.css("left",8+C.width+"px"),z[0].style.top=_+"px",z[0].style.display="block",z[0].style.visibility="inherit";var H=C.checked,B=C.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";z[0].setAttribute("checked",C.checked),z[0].firstChild&&z[0].firstChild.firstChild&&z[0].firstChild.firstChild.firstChild&&z[0].firstChild.firstChild&&(H?z[0].firstChild.firstChild.firstChild.className=B:!1===H?z[0].firstChild.firstChild.firstChild.className="":null===H&&(z[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(H?q[0].setAttribute("aria-selected",!0):q[0].removeAttribute("aria-selected"))}else{var z;if(this.checkboxes)(z=e(q.children()[0])).css({display:"none",visibility:"inherit"})}!C.disabled&&(!this.filterable&&this.selectedIndexes[C.visibleIndex]>=0||C.selected&&this.filterable)?(S.addClass(this.toThemeProperty("jqx-listitem-state-selected")),S.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(q[0].setAttribute("aria-selected",!0),this._activeElement=q[0])):this.checkboxes||e.jqx.ariaEnabled&&q[0].removeAttribute("aria-selected")}else T()}}}}else this.visibleItems=new Array},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,n=document.createElement("span");this.equalItemsWidth&&e(n).css("float","left"),n.style.whiteSpace="pre";var o=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(n);var l=this.items.length,d=this.host.width();if(this.autoItemsHeight&&(d-=10,"hidden"!=this.vScrollBar.css("visibility")&&(d-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(r=0;r<l;r++){if((!(b=this.items[r]).isGroup||""!=b.label||""!=b.html)&&b.visible){var h="";if(b.isGroup?h+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):h+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch")),n.className=h,this.autoItemsHeight){n.style.whiteSpace="pre-line";var c=this.checkboxSize+9,u=this.checkboxes?-c:0;n.style.width=u+d+"px"}if(this.renderer){var p=this.renderer(b.index,b.label,b.value);n.innerHTML=p}else null!=b.html&&b.html.toString().length>0?n.innerHTML=b.html:null==b.label&&null==b.value||(null!=b.label?(n.innerHTML=b.label,""==b.label&&(n.innerHTML="Empty")):n.innerHTML=this.escape_HTML(b.value));var m=n.offsetHeight,f=n.offsetWidth;this.itemHeight>-1&&(m=this.itemHeight),b.height=m,b.width=f,s+=++m,i=Math.max(i,f),s<=a&&o++}}else{s=0;var g=0,v="",x=0,w=0,y=-1;for(r=0;r<l;r++){var b;if((!(b=this.items[r]).isGroup||""!=b.label||""!=b.html)&&b.visible){h="";if(0==++y){if(h+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),h+=" "+this.toThemeProperty("jqx-widget"),h+=" "+this.toThemeProperty("jqx-listbox"),h+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch"),h+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),n.className=h,this.autoItemsHeight){n.style.whiteSpace="pre-line";c=this.checkboxSize+9,u=this.checkboxes?-c:0;n.style.width=u+d+"px"}null==b.html||""==b.label||null==b.label?n.innerHTML="Item":null!=b.html&&b.html.toString().length>0?n.innerHTML=b.html:null==b.label&&null==b.value||(null!=b.label?null!=b.label.toString().match(new RegExp("\\w"))||null!=b.label.toString().match(new RegExp("\\d"))?n.innerHTML=b.label:n.innerHTML="Item":n.innerHTML=b.value);m=1+n.offsetHeight;this.itemHeight>-1&&(m=this.itemHeight),g=m}null!=x&&(w=x),null!=b.html&&b.html.toString().length>0?w!=(x=Math.max(x,b.html.toString().length))&&(v=b.html):null!=b.label?w!=(x=Math.max(x,b.label.length))&&(v=b.label):null!=b.value&&w!=(x=Math.max(x,b.value.length))&&(v=b.value),b.height=g,s+=g,++s<=a&&o++}}n.innerHTML=v,i=n.offsetWidth}return s+=2,o<10&&(o=10),this.filterable&&(s+=this.filterHeight),s-=4,n.parentNode.removeChild(n),{width:i,height:s,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(n=this).updatingListBox){if(null==n.items||0==n.items.length)return n.virtualSize={width:0,height:0,itemsPerPage:0},n._updatescrollbars(),n.renderedVisibleItems=new Array,void(n.itemswrapper&&n.itemswrapper.children().remove());var i=n.host.height();if(0==t){var s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);v.width;return n.virtualSize=v,void n._updatescrollbars()}var r=0;n.visibleItems=new Array,n.renderedVisibleItems=new Array,n._removeHandlers(),n.allowDrag&&n._enableDragDrop&&(n.itemswrapper=null),null==n.itemswrapper&&(n.content[0].innerHTML="",n.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),n.itemswrapper[0].style.height=2*i+"px",n.content[0].appendChild(n.itemswrapper[0]));s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);var n=this;v.width;n.virtualSize=v;var o=Math.max(n.host.width(),17+v.width);n.itemswrapper[0].style.width=o+"px";for(var a="",l=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",d=0;d<n.virtualItemsCount;d++){var h=n.items[d],c="listitem"+d+n.element.id;if(""!=n.theme?a+="<div"+l+" role='option' id='"+c+"' class='jqx-listitem-element jqx-listitem-element-"+n.theme+"'>":a+="<div"+l+" role='option' id='"+c+"' class='jqx-listitem-element'>",n.checkboxes){var u=this.checkboxSize+8;a+='<div style="background-color: transparent; padding: 0; margin: 0; overflow:hidden; position: absolute; float: left; width: '+u+"px; height:  "+u+'px;" class="'+n.toThemeProperty("jqx-checkbox")+' chkbox">';var p='<div class="'+n.toThemeProperty("jqx-checkbox-default")+" "+n.toThemeProperty("jqx-fill-state-normal")+" "+n.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width:  '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;">',m=h.checked?" "+n.toThemeProperty("jqx-checkbox-check-checked"):"";p+='<span style="width: '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;" class="checkBoxCheck'+m+'"></span>',a+=p+="</div></div>",a+="</div>"}a+="<span"+l+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?n.itemswrapper.html(a):n.itemswrapper[0].innerHTML=a;var f=n.itemswrapper.children();for(d=0;d<n.virtualItemsCount;d++){h=n.items[d];var g=e(f[d]);if(n.allowDrag&&n._enableDragDrop&&g.addClass("draggable"),n.checkboxes){e(g.children()[0]);g.css("float","left"),e(g[0].firstChild).css("float","left")}g[0].style.height=h.height+"px",g[0].style.top=r+"px",r+=h.height+1,n.visualItems[d]=g}if(n._addHandlers(),n._updatescrollbars(),n.autoItemsHeight){var v;s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);n=this,v.width;n.virtualSize=v,n._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.host.attr("hideFocus",!0),n.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var o=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),d=0;if(s>a&&(d=t.hScrollBar.outerHeight()+2),i+d>l){var h=r.max;r.max=2+parseInt(i)+d-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),h!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?this.checkboxSize+6:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=a-c-u){var p=n.max;"inherit"==t.vScrollBar[0].style.visibility?n.max=u+c+parseInt(s)-t.host.width()+2:n.max=u+parseInt(s)-t.host.width()+4,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);n.setPosition(0),o&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px"),t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.itemsByValue=new Array,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var o=n.initialTop,a=!0;(o+n.height-t<0||o-t>=e.host.height())&&(a=!1),a&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){if(this.index==t)return i=this,!1});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;return null!=this.items?(e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t):void 0},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this,s=e.checked;this.checked=!0,!1!==t&&!0!==s&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this,s=e.checked;this.checked=!1,!1!==t&&!1!==s&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e}))}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");var l=this.getItem(e),d=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:r,item:d,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}this.focused=!0;var h=!1;this.selectedIndex!=e&&(h=!0);a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");l=this.getItem(e),d=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),null!=s&&s)this._raiseEvent("1",{index:a,type:r,item:d,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},p=function(e,t,i,s,r,n){null==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],(s=c.getVisibleItem(t))&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,r,d,l,n);else if(this._shiftKey){null==c._clickedIndex&&(c._clickedIndex=a);var m=Math.min(c._clickedIndex,e),f=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=m;g<=f;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,a,r,d,l,n),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,a,r,d,l,n));else this.multiple?p(e,a,r,d,l,n):(l&&(this.selectedValue=l.value),u(e,a,r,d,l,n))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:r,originalEvent:n}),this._updateInputSelection(),h}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)null!=i[r]&&(r==i.length-1?s+=i[r].value:s+=i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(null==s)return!0;var r=s.initialTop,n=s.height;return!(r-t<i||r-t+i+n>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},_prevItemIndex:function(e){for(var t=e-1;t>=0;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i))},_updateItemsVisibility:function(t){var i=this.getItems();if(null==i)return{index:-1,matchItem:new Array};var s=this,r=new Array,n=0;e.each(i,function(i){var o="";if(!this.isGroup){o=(o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a||(this.visible=!1),a&&(r[n++]=this,this.visible=!0,this.visibleIndex),""==t&&(this.visible=!0,a=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var o=0;o<s.items.length;o++)s.selectedIndexes[o]=-1;for(var a in s.selectedIndex=-1,s.selectedValues){t=s.selectedValues[a];var l=s.getItemByValue(t);l&&l.visible&&(s.selectedIndex=l.visibleIndex,s.selectedIndexes[l.visibleIndex]=l.visibleIndex)}s._syncSelection(),s.filterChange&&s.filterChange(t)},_getMatches:function(t,i){if(null==t||0==t.length)return-1;null==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,function(s){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}if(a&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a&&(n[r++]=this)}}),n},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){(i=e.items[t]).selected=!1}for(t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(t){var i=t.keyCode,s=this,r=s.selectedIndex,n=s.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&!(this.filterInput&&t.target==this.filterInput[0]||t.target instanceof HTMLInputElement&&e(t.target).ischildof(this.host))){var o,a=function(){(s.multiple||s.checkboxes)&&s.clearSelection(!1)};if(t.altKey&&(i=-1),32==i&&this.checkboxes)return null!=(o=this.getItem(r))&&(s._updateItemCheck(o,r),t.preventDefault()),s._searchString="",s.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",t),void s._renderItems();if(s.incrementalSearch){var l=-1;s._searchString||(s._searchString=""),(8==i||46==i)&&s._searchString.length>=1&&(s._searchString=s._searchString.substr(0,s._searchString.length-1));var d=String.fromCharCode(i);t.key&&(d=t.key);var h=!isNaN(parseInt(d)),c=!1;if(i>=65&&i<=97||h||8==i||32==i||46==i){t.shiftKey||(d=d.toLocaleLowerCase());var u=1+s.selectedIndex;8!=i&&32!=i&&46!=i&&(s._searchString.length>0&&s._searchString.substr(0,1)==d?(u=1+s.selectedIndex,s._searchString+=d):s._searchString+=d),32==i&&(s._searchString+=" ");var p=this._getMatches(s._searchString,u);if((l=p)==s._lastMatchIndex||-1==l){p=this._getMatches(s._searchString,0);l=p}if(s._lastMatchIndex=l,l>=0){s._toSelectTimer&&clearTimeout(s._toSelectTimer),s._toSelectTimer=setTimeout(function(){a(),s.selectIndex(l,!1,!1,!1,"keyboard",t),s.isIndexInView(l)?s._renderItems():s.ensureVisible(l)},s.incrementalSearchKeyDownDelay)}c=!0}if(null!=s._searchTimer&&clearTimeout(s._searchTimer),27!=i&&13!=i||(s._searchString=""),s._searchTimer=setTimeout(function(){s._searchString="",s._renderItems()},s.incrementalSearchDelay),l>=0)return;if(c)return!1}if(33==i){var m=s._itemsInPage();s.selectedIndex-m>=0?(a(),s.selectIndex(n-m,!1,!1,!1,"keyboard",t)):(a(),s.selectIndex(s._firstItemIndex(),!1,!1,!1,"keyboard",t)),s._searchString=""}if(32==i&&this.checkboxes)null!=(o=this.getItem(r))&&(s._updateItemCheck(o,r),t.preventDefault()),s._searchString="";if(36==i&&(a(),s.selectIndex(s._firstItemIndex(),!1,!1,!1,"keyboard",t),s._searchString=""),35==i&&(a(),s.selectIndex(s._lastItemIndex(),!1,!1,!1,"keyboard",t),s._searchString=""),34==i){m=s._itemsInPage();s.selectedIndex+m<s.visibleItems.length?(a(),s.selectIndex(n+m,!1,!1,!1,"keyboard",t)):(a(),s.selectIndex(s._lastItemIndex(),!1,!1,!1,"keyboard",t)),s._searchString=""}if(38==i){if(s._searchString="",!(s.selectedIndex>0))return!1;if((f=s._prevItemIndex(s.selectedIndex))==s.selectedIndex||-1==f)return!0;a(),s.selectIndex(f,!1,!1,!1,"keyboard",t)}else if(40==i){if(s._searchString="",!(s.selectedIndex+1<s.visibleItems.length))return!1;var f;if((f=s._nextItemIndex(s.selectedIndex))==s.selectedIndex||-1==f)return!0;a(),s.selectIndex(f,!1,!1,!1,"keyboard",t)}return 35!=i&&36!=i&&38!=i&&40!=i&&34!=i&&33!=i||(s.isIndexInView(s.selectedIndex)?s._renderItems():s.ensureVisible(s.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width(),e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;new Date;var i=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host),r=t.isTouchDevice()&&!0!==this.touchMode,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i)[0];if(null!=s){var n=t.host.offset(),o=parseInt(s.pageX),a=parseInt(s.pageY);1==t.touchMode&&null!=s._pageX&&(o=parseInt(s._pageX),a=parseInt(s._pageY)),o-=n.left,a-=n.top;var l=t._hitTest(o,a);if(null!=l&&!l.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(l,l.visibleIndex);if(-1==l.html.indexOf("href"))return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var o=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(o=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),d=t.host.offset();if(s){var h=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=h,l.top=c,h=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),d.left=h,d.top=c}var u=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),m=t._hitTest(p,u);if(null!=m&&!m.isGroup){var f=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};m.disabled||(-1!=m.html.indexOf("href")?setTimeout(function(){f(m,i)},100):f(m,i))}if("mousedown"==n){var g=!1;if(i.which?g=3==i.which:i.button&&(g=2==i.button),g)return!0}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),o=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1});i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version;if(null==r.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var n=r.target,o=e(n).offset(),a=t.host.offset();if(s){var l=e.jqx.mobile.getLeftPos(n),d=e.jqx.mobile.getTopPos(n);o.left=l,o.top=d,l=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),a.left=l,a.top=d}var h=parseInt(o.top)-parseInt(a.top),c=parseInt(o.left)-parseInt(a.left),u=t._hitTest(c,h);if(null!=u&&!u.isGroup&&!u.disabled){var p=e.data(t.element,"hoveredItem");null!=p&&(e(p).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(p).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var m=e(u.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=window.getComputedStyle(this.element),o=2*parseInt(n.borderLeftWidth),a=n.boxSizing;0===this.element.offsetWidth&&(o=2),("border-box"===a||isNaN(o))&&(o=0);var l=function(e){return 0==(e=t.host.height()-o)&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:null==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=l(s)),null!=i&&(i=parseInt(i)-o,parseInt(t.element.style.width)!=parseInt(t.width)&&(t.element.style.width=parseInt(i)+"px")),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),l(s)));var d=t.scrollBarSize;isNaN(d)&&(d=parseInt(d),isNaN(d)?d="17px":d+="px"),d=parseInt(d);var h=2,c=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?c=d+4:(c=0,t.vScrollInstance.setPosition(0)),0==d&&(c=0,h=0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?h=d+4:(t.hScrollInstance.setPosition(0),h=0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",h=0),null==s&&(s=0);var u=parseInt(s)-4-d;u<0&&(u=0),parseInt(t.hScrollBar[0].style.height)!=d&&(parseInt(d)<0&&(d=0),t.hScrollBar[0].style.height=parseInt(d)+"px"),t.hScrollBar[0].style.top!=u+"px"&&(t.hScrollBar[0].style.top=u+"px",t.hScrollBar[0].style.left="0px");var p=i-d-4;p<0&&(p=0);var m=p+"px";if(t.hScrollBar[0].style.width!=m&&(t.hScrollBar[0].style.width=m),c<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),d!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(d)+"px"),parseInt(s)-h!=parseInt(t.vScrollBar[0].style.height)){var f=parseInt(s)-h;f<0&&(f=0),t.vScrollBar[0].style.height=f+"px"}null==i&&(i=0);var g=parseInt(i)-parseInt(d)-4+"px";"border-box"===this.host.css("box-sizing")&&(g=parseInt(g)-2+"px"),g!=t.vScrollBar[0].style.left&&(parseInt(g)>=0&&(t.vScrollBar[0].style.left=g),t.vScrollBar[0].style.top="0px");var v=t.vScrollInstance;v.disabled=t.disabled,e&&v._arrange();var x=t.hScrollInstance;if(x.disabled=t.disabled,e&&x._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(d)+3+"px",t.bottomRight[0].style.height=parseInt(d)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-c){var w=parseInt(i)-c;w<0&&(w=0),t.content[0].style.width=w+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-h){var y=parseInt(s)-h;y<0&&(y=0),t.content[0].style.height=y+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-c),t.overlayContent.height(parseInt(s)-h))}},ensureVisible:function(t,i){isNaN(t)&&((r=this.getItemByValue(t))&&(t=r.index));if(this.isIndexInView(t)){if(i)for(s=0;s<this.visibleItems.length;s++){if((r=this.visibleItems[s]).visibleIndex==t&&!r.isGroup){o=this.vScrollInstance.value,h=r.initialTop;this.filterable&&(h=this.filterHeight+2+r.initialTop),o+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(h)}}}else{if(t<0)return;if(this.autoHeight)(n=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(var s=0;s<this.visibleItems.length;s++){var r;if((r=this.visibleItems[s]).visibleIndex==t&&!r.isGroup){var n,o=(n=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value,a=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(r.initialTop<o)n.setPosition(r.initialTop),0==s&&n.setPosition(0);else if(r.initialTop+r.height>o+this.host.height()-a){var d=this.host.height();if(this.filterable?n.setPosition(this.filterHeight+2+r.initialTop+r.height+2-d+l):(n.setPosition(r.initialTop+r.height+2-d+l),s===this.visibleItems.length-1&&n.setPosition(n.max)),i){var o=n.value,h=r.initialTop;this.filterable&&(h=this.filterHeight+2+r.initialTop),o+d<n.max&&n.setPosition(h)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var s=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,o="";else if(null!=t.displayMember&&""!=t.displayMember)n=i[t.valueMember],r=i[t.displayMember];o="";if(t.groupMember?o=i[t.groupMember]:i&&null!=i.group&&(o=i.group),t.searchMember?s=i[t.searchMember]:i&&null!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&null!=i.label)r=i.label;if(i&&null!=i.value)n=i.value;var a=!1;i&&null!=i.checked&&(a=i.checked);var l="";i&&null!=i.html&&(l=i.html);var d=!0;i&&null!=i.visible&&(d=i.visible);var h=!1;i&&null!=i.disabled&&(h=i.disabled);var c=!1;i&&null!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=d,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=h,u.checked=a,u.hasThreeStates=c,u};if(null!=i&&r._changedrecords[0])return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}});t.records=r.records;for(var n=t.records.length,o=new Array,a=0;a<n;a++){var l=t.records[a],d=s(l);d.index=a,o[a]=d}t.items=t.loadItems(o,!0),t._render(),t._raiseEvent("6")};null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async);var o=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),r.bindBindingUpdate(this.element.id,function(e){n(o,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),void r.bindBindingUpdate(this.element.id,function(){n(o)});var a={};r._options.data?e.extend(r._options.data,a):(t.data&&e.extend(a,t.data),r._options.data=a);r.unbindDownloadComplete(o.element.id),r.bindDownloadComplete(o.element.id,function(){n(o)}),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(null==t)return null;var l=new e.jqx._jqxListBox.item,d=t.group,h=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&null!=t.searchLabel&&(u=t.searchLabel),null!=c&&null!=c||(c=""),null!=d&&null!=d||(d=""),s.groupMember&&(d=t[s.groupMember]),null!=h&&null!=h||(h=""),!s.groups[d]){s.groups[d]={items:new Array,index:-1,caption:d,captionHtml:h};var p=++r+"jqxGroup";s.groups[p]=s.groups[d],n++,s.groups.length=n}var m=s.groups[d];return m.index++,m.items[m.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(null!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=null==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&t.html,l.label,l.group=d,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=null==t.visible||t.visible,l.searchLabel=u,l.index=o,a[o]=l,o++,l});var l=new Array,d=0;if(null==this.fromSelect||0==this.fromSelect)for(var h=0;h<n;h++){var c=(r=h+1)+"jqxGroup",u=this.groups[c];if(null==u||null==u)break;if(0==h&&""==u.caption&&""==u.captionHtml&&n<=1){for(var p=0;p<u.items.length;p++){var m=u.items[p].value;null!=u.items[p].value&&null!=u.items[p].value||(m=p),this.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[p]}return u.items}var f=new e.jqx._jqxListBox.item;f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[d]=f,d++;for(var g=0;g<u.items.length;g++){l[d]=u.items[g];m=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(m=d),s.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[g],d++}}else{d=0;var v=new Array;e.each(a,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[d]=t,d++,v[this.group]=!0}l[d]=this;var i=this.value;""!=this.value&&null!=this.value||(i=d-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,d++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(null==t.label&&(t.label=t[this.displayMember]),null==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),null==i.label&&null==i.value&&null==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(r=this._mapItem(t)).index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||null==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var n=new Array,o=0,a=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=i&&!a&&(n[o++]=r,r.index=i,l++,a=!0),n[o]=this.items[d],this.items[d].isGroup||(n[o].index=l,l++),o++;this.items=n}s=r.value;""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=h.value;return h.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(c),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(null==t)return!1;var i=this.items[t].height;""!=(p=this.items[t].value)&&null!=p||(p=t),this.itemsByValue[e.trim(p).split(" ").join("?")]=null;var s=this.items[t];if(this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);var o=new Array,a=0,l=0;for(n=0;n<this.items.length;n++)o[a]=this.items[n],this.items[n].isGroup||(o[a].index=l,l++),a++;this.items=o;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=(d=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(h):d.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var p=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(p=u),this.itemsByValue[e.trim(p).split(" ").join("?")]=this.items[u]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this,this._updateInputSelection();var n=new e.Event(s);if(n.owner=this,n.args=r,null!=this.host)var o=this.host.trigger(n);return o}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;if(0===s.length&&(s=e(t).find("li")).length>0&&(n=!0),0===s.length){var o=[],a=e(t).find("tr"),l=e(t).find("th"),d=0;0===l.length&&a.length>0&&(l=e(a[0]).find("td"),d=1);for(var h=[],c=[],u=(o=[],0);u<a.length;u++){var p=a[u],m={};u===d+1&&(c=[]);for(var f=0;f<l.length;f++){var g=e.trim(e(l[f]).text()),v=e(p).find("td:eq("+f+")");if(m[g]=e.trim(v.text()),u===d&&(h.push({text:g,dataField:g}),c.push({name:g})),u===d+1){var x=typeof m[g],w="";"string"===x&&("true"===m[g]||"false"===m[g]?x="bool":isNaN(parseFloat(m[g]))||-1!==m[g].indexOf("-")||-1!==m[g].indexOf("/")?m[g].indexOf("$")>=0||m[g].indexOf("%")>=0?(x="number",m[g].indexOf("$")>=0&&(w="c"),m[g].indexOf("%")>=0&&(w="p"),m[g]=m[g].replace("%","").replace("$","")):"Invalid Date"!==new Date(m[g]).toString()&&(x="date",w="d"):(x="number",w=m[g].indexOf(".")>=0?"f":"n")),h[f].cellsformat=w,"number"===x&&(h[f].cellsalign="right",h[f].align="right"),c.push({name:g,type:x})}}u>=1&&(o[o.length]=m)}var y={localdata:o,datatype:"array",datafields:c};return{source:new e.jqx.dataAdapter(y),columns:h}}var b=null,_=(b=-1,new Array);if(e.each(s,function(t){var s=r.find(this).length>0,o=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===n&&(this.label=e(this).text().trim(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var a={style:this.style.cssText,selected:this.selected,html:this.innerHTML.trim(),classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!n&&""==a.value&&null!=this.text&&this.text.length>0&&(a.value=this.text),s&&(o=r.find(this).parent()[0].label,a.group=o,_[o]||(_[o]=new Array,_.length++),_[o].push(a)),this.selected&&(b=t),a.checked=this.selected,void 0!==a.label&&i.push(a)}),_.length>0){var j=new Array;for(var q in _)if("indexOf"!==q){for(u=0;u<r.length;u++)if(q===r[u].label||r[u].text){r[u];break}e.each(_[q],function(e,t){void 0!==this.label&&j.push(this)})}}return j&&j.length>0?{items:j,index:b}:{items:i,index:b}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListMenu","",{});var t=0,i=0;e.extend(e.jqx._jqxListMenu.prototype,{defineInstance:function(){var t={filterCallback:function(t,i){return e.jqx.string.containsIgnoreCase(e.trim(t),i)},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxListMenu.prototype?t:(e.extend(!0,this,t),t)},destroy:function(){this.host.remove()},createInstance:function(){e.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(e,t){this.width=e,this.height=t,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(t){var i,s=this.host.find(".jqx-listmenu-auto-separator"),r=this.host.find('[data-role="listmenu"]');for(s.remove(),i=0;i<r.length;i+=1)((t=e(r[i])).data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(t)},_renderSublists:function(){var t,i,s,r,n,o=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(o[0]);o.length;){s=o.pop(),r=(t=this._getChildrenByTagName(s,"li","LI")).length;for(var a=0;a<r;a+=1)i=t[a],e(i).attr("role","treeitem"),n=this._getChildList(i),this._refreshLi(i,a,r),n&&(o.push(n),this._refreshList(n,i,!0))}},_refreshList:function(t,i,s){"listmenu"===(t=e(t)).data("role")&&(t.is(".jqx-listmenu")||(this._renderList(t),this._handleListId(t),this._addListClasses(t)),i&&this._expandHierarchy(t[0],i),s&&this._handleSublist(t[0]))},_renderList:function(t){(t=e(t)).is(".jqx-listmenu")||(t.detach(),t.appendTo(this.host))},_handleListId:function(e){e[0].id||(e[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(t){for(var i,s,r=t.children("li"),n={},o=0;o<r.length;o+=1)if(!(s=e(r[o])).data("role")){if(e.trim(s.text())[0]!==i){i=e.trim(s.text())[0];var a=e('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+i+"</li>");a.insertBefore(s),a[0].items=new Array,n=a[0]}n.items&&(n.items[n.items.length]=s[0])}},_addListClasses:function(e){e.addClass("jqx-listmenu")},_expandHierarchy:function(e,t){if(t&&e){var i=t.id,s=e.id;this._childrenMap[i]=s,this._parentMap[s]=i}},_handleSublist:function(e){this._currentPage&&e===this._currentPage[0]?e.style.display="block":e.style.display="none"},_getChildrenByTagName:function(e,t,i){var s=[],r={};for(r[t]=r[i]=!0,e=e.firstChild;e;)r[e.nodeName]&&s.push(e),e=e.nextSibling;return s},_renderFilterBar:function(){this._filterBar||(this._filterBar=e("<div/>"),this._filterInput=e('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var t=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(t=!0),t||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=e("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=e("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){this._backButton||(this._backButton=e('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl&&(e.jqx.browser.msie&&e.jqx.browser.version<8?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))));this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var t=this.isTouchDevice()&&!this.touchMode,i=e.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,t?i:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var t=this,i=this.isTouchDevice()&&!this.touchMode,s=e.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,i?s:"click",function(){t.back()}),this.addHandler(this._filterInput,"keyup change",function(){t._filter(e(this).val())})},_getChildList:function(e){if(e){var t=this._childrenMap[e.id];if(e.className.indexOf("jqx-listmenu-item")>=0&&t)return document.getElementById(t);var i=this._getChildrenByTagName(e,"ul","UL")[0],s=this._getChildrenByTagName(e,"ol","OL")[0];return i||s}},_refreshLi:function(e,t,i){if(e.parentNode&&"listmenu"===e.parentNode.getAttribute("data-role")){if(""==e.id);this._handleLiId(e),this._renderLi(e),this._removeLiEventHandlers(e),this._addLiEventHandlers(e),this._addLiClasses(e,t,i)}},_handleLiId:function(e){e.id||(e.id="jqx-listmenu-item-"+t,t+=1)},_renderLi:function(t){if(!(/(separator|header)/.test(e(t).data("role"))||e(t).children(".jqx-listmenu-arrow-right").length>0)&&(e(t).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var i=e("<span/>"),s=e(t).find("ul"),r=e(t).find("ol");(this.alwaysShowNavigationArrows||s.length>0&&/(listmenu)/.test(s.data("role"))||r.length>0&&/(listmenu)/.test(r.data("role")))&&(i.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),i.prependTo(t)):(i.addClass(this.toThemeProperty("jqx-icon-arrow-right")),i.appendTo(t)))}},_removeLiEventHandlers:function(t){var i=this.isTouchDevice(),s=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),n=(e.jqx.mobile.getTouchEventName("touchmove"),(i?s:"mousedown")+".listmenu"),o=(i?r:"mouseup")+".listmenu";this.removeHandler(e(t),n),this.removeHandler(e(document),o+"."+t.id)},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(t=!0),t},_addLiEventHandlers:function(t){t=e(t);var i=this,s=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),r=t.children(".jqx-listmenu-arrow-right"),n=e.jqx.mobile.isTouchDevice(),o=e.jqx.mobile.getTouchEventName("touchstart"),a=e.jqx.mobile.getTouchEventName("touchend"),l=(e.jqx.mobile.getTouchEventName("touchmove"),(n?o:"mousedown")+".listmenu"),d=(n?a:"mouseup")+".listmenu",h=null,c="";/(separator|readonly)/.test(t.data("role"))||this.readOnly||(this.addHandler(t,"dragstart",function(){return!1}),this.addHandler(t,l,function(o){i.disabled||(h=o.target,c=e.jqx.position(o),0==t.find('div[data-role="content"]').length&&(n||(t.addClass(i.toThemeProperty("jqx-fill-state-pressed")),r.addClass(s))))}),this.addHandler(t,d,function(s){i.disabled||h!=s.target&&n||e.jqx.position(s).top===c.top&&i.next(t)}),this.addHandler(e(document),d+"."+t[0].id,function(){i.disabled||(t.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),r.removeClass(s))}))},_addLiClasses:function(t,i,s){"separator"===(t=e(t)).data("role")?this._handleSeparatorStyle(t):"header"===t.data("role")?this._handleHeaderStyle(t):(this.readOnly||"readonly"===t.data("role")?t.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):t.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(t)),0!==i||this.showHeader||this.showFilter||t.addClass(this.toThemeProperty("jqx-rc-t")),i===s-1&&t.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-separator")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e[0].style.listStyle="none"},_handleHeaderStyle:function(e){e.css("display","none")},_handleItemStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&e.addClass(this.toThemeProperty("jqx-rtl")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-item"))},back:function(){var t,i=this._currentPage;i&&(t=this._parentMap[i[0].id]),this._back=!0,e("#"+t).length>0&&e.jqx.aria(e("#"+t),"aria-expanded",!1),this._changePage(i,e("#"+t).parent(),this.animationDuration,!0),this._back=!1},next:function(t){var i=t.attr("id"),s=this._childrenMap[i],r=e("#"+s),n=e("#"+i).parent();e.jqx.aria(t,"aria-expanded",!0),this._changePage(n,r,this.animationDuration)},changePage:function(t){if("string"==typeof t&&(t=e(t)),!t[0]||"listmenu"!==t.attr("data-role")||t.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=t[0]&&this._changePage(this._currentPage,t,this.animationDuration)},_changePage:function(t,i,s,r){if(!this._lock){var n="_"+this.animationType+"Change"+(r?"Back":"");i[0]&&(this.showFilter&&(i.find('div[data-role="content"]').length>0?(e.each(i.find("li"),function(){"separator"===e(this).data("role")&&e(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[n](t,i,this.animationDuration,function(){this._lock=!1,this._changeHeader(i),this._currentPage=i}))}},_changeHeader:function(t){var i=e(t).find('li[data-role="header"]').first();if(i[0]){var s=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){s._headerLabel.html(i.html()),s._headerLabel.fadeIn(s.headerAnimationDuration/2)})}},_slideChange:function(t,i,s,r){var n=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var o=this.rtl;this._initSlide(t,i),o?(t.animate({"margin-left":t.width()+parseInt(t.css("margin-right"),10)||0},s,"easeInOutSine"),i.animate({"margin-left":0},s,"easeInOutSine",function(){n._slideEnd(t,i),r.call(n,e(this))})):(t.animate({"margin-left":-t.width()-parseInt(t.css("margin-right"),10)||0},s,"easeInOutSine"),i.animate({"margin-left":0},s,"easeInOutSine",function(){n._slideEnd(t,i),r.call(n,e(this))}))},_initSlide:function(e,t){var i=this.rtl;e.width(e.width()),t.css({marginTop:-e.outerHeight(!0),marginLeft:i?-e.width()-(parseInt(e.css("margin-right"),10)||0):e.width()+(parseInt(e.css("margin-right"),10)||0),display:"block",height:"auto",width:e.width()})},_slideEnd:function(e,t){this.host.css("height","auto"),e.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),t.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(t,i,s,r){var n=this;this._initSlideBack(t,i),t.animate({"margin-left":this.rtl?-t.width()-parseInt(t.css("margin-right"),10)||0:t.width()+parseInt(t.css("margin-right"),10)||0},s),i.animate({"margin-left":0},s,function(){n._slideEnd(t,i),r.call(n,e(this))})},_initSlideBack:function(e,t){e.css({marginTop:-t.outerHeight(!0),width:e.width()}),t.css({width:e.width(),marginLeft:this.rtl?e.width()+parseInt(e.css("margin-right"),10)||0:-e.width()-parseInt(e.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(e,t,i,s){this._fadeChange(e,t,i,s)},_fadeChange:function(t,i,s,r){var n=this;t.fadeOut(s/2,function(){i.fadeIn(s/2,function(){r.call(n,e(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(t){for(var i=this.host.find(".jqx-listmenu-item"),s=0;s<i.length;s+=1){var r=e.trim(e(i[s]).text());this.filterCallback(r,t)?i[s].style.display="block":i[s].style.display="none"}for(i=this.host.find(".jqx-listmenu-separator"),s=0;s<i.length;s+=1){var n=!1;e.each(i[s].items,function(){if("none"!=e(this).css("display"))return n=!0,!1}),i[s].style.display=n?"block":"none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(e,t,i,s){if("disabled"==t&&(s?e.disable():e.enable()),"backLabel"!==t){if("placeHolder"===t)e._filterInput.attr("placeholder",s);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(t))return void e._render()}else e._backButton.html(s)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLoader","",{}),e.extend(e.jqx._jqxLoader.prototype,{defineInstance:function(){var t={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===e.jqx._jqxLoader.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._render(!0),this._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){var e=this;e.host.hide(),e.isModal&&e._modal.hide()},_checkBrowser:function(){var t=this;"msie"===e.jqx.browser.browser&&("7.0"===e.jqx.browser.version?(!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")),t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px"),e(window).resize(function(){t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===e.jqx.browser.version&&!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.width(s);break;case"height":e.host.height(s);break;case"text":e._text.text(s);break;case"html":e.host.html(s);break;case"textPosition":e._textPos(s);break;case"rtl":!0===s?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(t,i){var s=this,r=s.events[t],n=new e.Event(r);n.owner=s,n.args=i;try{var o=s.host.trigger(n)}catch(e){}return o},_render:function(t){var i=this;if(i.host.width(i.width),i.host.height(i.height),!1===i.autoOpen&&i.host.hide(),t&&(null===i.html?(i.host.append('<div class="'+i.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+i.toThemeProperty("jqx-loader-text")+'">'+i.text+"</div>"),i._image=i.host.children("div:eq(0)"),i._text=i.host.children("div:eq(1)")):i.host.html(this.html),!0===i.isModal)){var s=i.host.css("display");i._modal=e('<div id="'+i.element.id+'Modal" class="'+i.toThemeProperty("jqx-loader-modal")+'" style="display: '+s+';"></div>'),e("body").append(i._modal)}i._checkBrowser(),i._textPos(),i._addClass(),i._removeHandlers(),i._addHandlers()},_addHandlers:function(){var t=this;!0===t.isModal&&t.addHandler(e(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){this.removeHandler(e(document),"keyup.loader"+this.element.id)},_addClass:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-loader")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl&&t._text.addClass(t.toThemeProperty("jqx-loader-rtl")),e.jqx.browser.msie&&t.host.addClass(this.toThemeProperty("jqx-noshadow")),t.host.addClass(this.toThemeProperty("jqx-rc-t")),t.host.addClass(this.toThemeProperty("jqx-rc-b")),t.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMaskedInput","",{}),e.extend(e.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var t={value:null,mask:"99999",width:200,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",placeHolder:"",template:"",rtl:!1,disabled:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxMaskedInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.render()},render:function(){var t=this;t.element.setAttribute("role","textbox"),t.element.setAttribute("data-role","input"),t.host.addClass(t.toThemeProperty("jqx-maskedinput"));var i=t.element.getAttribute("value");void 0!==i&&""!==i&&null!==i&&(t.value=i),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1),e.jqx.aria(this,"aria-readonly",t.readOnly),t._helpers=[],t._helpers.element=new jqxHelper(t.element),t._helpers.element.addClass(t.toThemeProperty("jqx-input jqx-input-widget jqx-rc-all jqx-widget jqx-widget-content"));var s=t.element.getAttribute("name");if("div"===t.element.nodeName.toLowerCase()){t.element.innerHTML="";var r=document.createElement("input");r.setAttribute("type","textarea"),r.setAttribute("autocomplete","off"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck",!1),r.setAttribute("name",s),t.element.appendChild(r),t.maskbox=e(r),t.disabled&&(t._helpers.element.addClass(t.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),r.setAttribute("disabled",!0))}else t.maskbox=t.host,t.element.setAttribute("autocomplete","off"),t.element.setAttribute("autocorrect","off"),t.element.setAttribute("autocapitalize","off"),t.element.setAttribute("spellcheck",!1),t.element.setAttribute("name",s),t.disabled&&(t._helpers.element.addClass(t.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),t.element.setAttribute("disabled",!0));if(t._helpers.maskbox=new jqxHelper(t.maskbox[0]),t._helpers.maskbox.addClass(t.toThemeProperty("jqx-reset jqx-input-content jqx-widget-content")),t.rtl&&t._helpers.maskbox.addClass(t.toThemeProperty("jqx-rtl")),t.propertyChangeMap.disabled=function(e,i,s,r){r?e._helpers.maskbox.addClass(t.toThemeProperty("jqx-input-disabled")):e._helpers.maskbox.removeClass(t.toThemeProperty("jqx-input-disabled"))},t.selectedText="",t.self=this,t.oldValue=t._value(),t.items=[],t._initializeLiterals(),t._render(),null!=t.value&&t.inputValue(t.value.toString()),t.host.parents("form").length>0&&t.host.parents("form").on("reset",function(){setTimeout(function(){t.clearValue()},10)}),t.addHandlers(),t.cookies){var n=e.jqx.cookie.cookie("maskedInput."+t.element.id);n&&t.val(n)}},addHandlers:function(){var t=this,i="";this.addHandler(this.maskbox,"blur",function(){t.rtl&&t.maskbox.css("direction","ltr"),t._helpers.maskbox.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.maskbox.val()!==i&&(t._raiseEvent(7,{type:"keyboard"}),t.cookies&&e.jqx.cookie.cookie("maskedInput."+t.element.id,t.maskbox.val()))}),this.addHandler(this.maskbox,"focus",function(){i=t.maskbox[0].value,t.rtl&&(t.maskbox[0].style.direction="rtl"),t._helpers.element.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"keydown",function(e){var i=t.readOnly,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(i||t.disabled)return!1;var r=t._handleKeyDown(e,s);return r||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),r}),this.addHandler(this.host,"keyup",function(e){return!(!t.readOnly&&!t.disabled)||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(e){var i=t.readOnly,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(i||t.disabled)return!0;var r=t._handleKeyPress(e,s);return r||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),r})},focus:function(){try{var e=this;e.maskbox.focus(),setTimeout(function(){e.maskbox.focus()})}catch(e){}},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;this.items[t].character===this.promptChar&&this.promptChar!==this.items[t].defaultCharacter?e+=this.items[t].defaultCharacter:e+=i}return e},_initializeLiterals:function(){if(void 0!==this.mask&&null!==this.mask){var e=this,t=function(t,i,s){var r={};return r.character=t,r.regex=i,r.canEdit=s,r.defaultCharacter=e.promptChar,r};this.mask=this.mask.toString();for(var i=this.mask.length,s=0;s<i;s++){var r=this.mask.substring(s,s+1),n="",o=!1;if("["===r){for(var a=s;a<i;a++){if("]"===this.mask.substring(a,a+1))break}n="("+this.mask.substring(s,a+1)+")",s=a,o=!0}"#"===r?(n="(\\d|[+]|[-])",o=!0):"9"===r||"0"===r?(n="\\d",o=!0):"$"===r?o=!1:"/"===r||":"===r?o=!1:"A"===r||"a"===r?(n="\\w",o=!0):"c"===r||"C"===r?(n=".",o=!0):"L"!==r&&"l"!==r||(n="([a-zA-Z])",o=!0);var l={};l=t(o?this.promptChar:r,n,o),this.items.push(l)}}else this.items=[]},setRegex:function(e,t,i,s){null!=e&&null!=t&&e<this.items.length&&(this.items[e].regex=t,null!=i&&(this.items[e].canEdit=i),null!=s&&(this.items[e].defaultCharacter=s))},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var s=this.events[t],r={};r.owner=this;var n=!0,o=new e.Event(s);return o.owner=this,r.value=this.inputValue(),r.text=this.maskedValue(),7===t&&(r.type=i.type,void 0===r.type&&(r.type=null)),o.args=r,(t<2||t>6)&&(n=this.host.trigger(o)),n},_handleKeyPress:function(e,t){return this._isSpecialKey(t,e)},_insertKey:function(e,t){var i,s=this._selection(),r=this;if(s.start>=0&&s.start<this.items.length){var n=String.fromCharCode(e);e>=65&&e<=90&&(t.shiftKey||(n=n.toLowerCase()));for(var o=!1,a=0;a<this.items.length;a++)if(!(a<s.start)){var l=r.items[a];if(l.canEdit){if(r._match(n,l.regex)){if(!o&&s.length>0){for(var d=s.start;d<s.end;d++)r.items[d].canEdit&&(r.items[d].character=r.promptChar);i=r._getString(),r.maskedValue(i),o=!0}l.character=n,i=r._getString(),r.maskedValue(i),s.start<r.items.length&&r._setSelectionStart(a+1);break}break}}}},_deleteSelectedText:function(){var e=this._selection(),t=!1;if(e.start>0||e.length>0){for(var i=e.start;i<e.end;i++)i<this.items.length&&this.items[i].canEdit&&this.items[i].character!==this.promptChar&&(this.items[i].character=this.promptChar,t=!0);var s=this._getString();return this.maskedValue(s),t}},_saveSelectedText:function(){var t=this._selection(),i="";if(t.start>0||t.length>0)for(var s=t.start;s<t.end;s++)this.items[s].canEdit&&(i+=this.items[s].character);if(window.clipboardData)window.clipboardData.setData("Text",i);else{var r=e("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");r.val(i),e("body").append(r),r.select(),setTimeout(function(){document.designMode="off",r.select(),r.remove()},100)}return i},_pasteSelectedText:function(){var t=this._selection(),i="",s=0,r=t.start,n="",o=this,a=function(e){if(!(e!==o.selectedText&&e.length>0&&(o.selectedText=e,null===o.selectedText||void 0===o.selectedText))){if(t.start>=0||t.length>0)for(var n=t.start;n<o.items.length;n++)o.items[n].canEdit&&s<o.selectedText.length&&(o.items[n].character=o.selectedText[s],s++,r=1+n);i=o._getString(),o.maskedValue(i),r<o.items.length?o._setSelectionStart(r):o._setSelectionStart(o.items.length)}};if(window.clipboardData)n=window.clipboardData.getData("Text"),a(n);else{var l=e("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");e("body").append(l),l.select(),setTimeout(function(){var e=l.val();a(e),l.remove()},100)}},_handleKeyDown:function(t,i){var s,r=this._selection();i>=96&&i<=105&&(i-=48);var n=t.ctrlKey||t.metaKey;if(n&&97===i||n&&65===i)return!0;if(n&&120===i||n&&88===i)return this.selectedText=this._saveSelectedText(t),this._deleteSelectedText(t),!e.jqx.browser.msie;if(n&&99===i||n&&67===i)return this.selectedText=this._saveSelectedText(t),!e.jqx.browser.msie;if(n&&122===i||n&&90===i)return!1;if(n&&118===i||n&&86===i||t.shiftKey&&45===i)return this._pasteSelectedText(),!e.jqx.browser.msie;if(8===i){if(0===r.length)for(s=this.items.length-1;s>=0;s--)if(this.items[s].canEdit&&s<r.end&&this.items[s].character!==this.promptChar){this._setSelection(s,s+1);break}r=this._selection();var o=this._deleteSelectedText();return(r.start>0||r.length>0)&&r.start<=this.items.length&&(o?this._setSelectionStart(r.start):this._setSelectionStart(r.start-1)),!1}if(190===i)for(s=r.start;s<this.items.length;s++)if("."===this.items[s].character){this._setSelectionStart(s+1);break}if(191===i)for(s=r.start;s<this.items.length;s++)if("/"===this.items[s].character){this._setSelectionStart(s+1);break}if(189===i)for(s=r.start;s<this.items.length;s++)if("-"===this.items[s].character){this._setSelectionStart(s+1);break}if(46===i){if(0===r.length)for(s=0;s<this.items.length;s++)if(this.items[s].canEdit&&s>=r.start&&this.items[s].character!==this.promptChar){this._setSelection(s,s+1);break}var a=r;return((r=this._selection()).start>=0||r.length>=0)&&r.start<this.items.length&&(r.length<=1?a.end!==r.end?this._setSelectionStart(r.end):this._setSelectionStart(r.end+1):this._setSelectionStart(r.start)),!1}return this._insertKey(i,t),this._isSpecialKey(i,t)},_isSpecialKey:function(e,t){return 189===e||9===e||13===e||35===e||36===e||37===e||39===e||46===e||!!(16===e&&t.shiftKey||t.ctrlKey||t.metaKey)},_selection:function(){var e,t=this.maskbox[0];if("selectionStart"in this.maskbox[0])return e=t.selectionEnd-t.selectionStart,{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value};var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var s=this.maskbox[0].createTextRange(),r=s.duplicate();return s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s),e=i.text.length,{start:r.text.length,end:r.text.length+i.text.length,length:e,text:i.text}},_setSelection:function(e,t){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(e,t);else{var i=this.maskbox[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},_setSelectionStart:function(e){this._setSelection(e,e)},refresh:function(e){e||this._render()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_render:function(){var e=parseInt(this.host.css("border-left-width"),10),t=parseInt(this.host.css("border-left-width"),10),i=parseInt(this.host.css("border-left-width"),10),s=parseInt(this.host.css("border-left-width"),10),r=parseInt(this.host.css("height"),10)-i-s,n=parseInt(this.host.css("width"),10)-e-t;null!=this.width&&-1!==this.width.toString().indexOf("px")?n=this.width:void 0===this.width||isNaN(this.width)||(n=this.width),null!=this.height&&-1!==this.height.toString().indexOf("px")?r=this.height:void 0===this.height||isNaN(this.height)||(r=this.height),n=parseInt(n,10),r=parseInt(r,10),this.maskbox[0]!==this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var o=this.maskbox.css("font-size");isNaN(r)||this.maskbox.css("height",parseInt(o,10)+4+"px"),isNaN(n)||this.maskbox.css("width",n);var a=parseInt(r,10)-2*parseInt(i,10)-2*parseInt(s,10)-parseInt(o,10);isNaN(a)&&(a=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),this.maskbox[0]!==this.element&&(this.maskbox[0].style.height="100%"),this.maskbox[0].value=this._getString(),this.width&&(this.width.toString().indexOf("%")>=0&&(this.element.style.width=this.width),this.height.toString().indexOf("%")>=0&&(this.element.style.height=this.height)),this._addBarAndLabel(this.maskbox),this._updateHint()},_addBarAndLabel:function(t){if(!(a=this).label&&a.isMaterialized()){if(this.element instanceof HTMLInputElement){var i=e("<div></div>");i.addClass(a.toThemeProperty("jqx-input-group jqx-maskedinput")),this.host.after(i);var s=this.element,r=this.host.data();i.append(s);var n=e("<label></label");this.hint&&(n[0].innerHTML=this.placeHolder),n.addClass(a.toThemeProperty("jqx-input-label")),i.append(n);var o=e("<span></span>");i.append(o),o.addClass(a.toThemeProperty("jqx-input-bar")),i[0].id=this.element.id,this.element.removeAttribute("id"),this.element.setAttribute("hint",!0),i[0].style=this.element.style,a.input=a.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),this.input.length>0&&(this.input=this.input[0]),e(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),i[0].style.width=this.input.style.width,i[0].style.height=this.input.style.height,this.label=n,this.bar=o,this.element.style="",this.host=i,this.element=i[0],this.host.data(r),this.input.style.width="100%",this.input.style.height="100%"}else{n=e("<label></label");this.hint&&(n[0].innerHTML=this.placeHolder),n.addClass(a.toThemeProperty("jqx-input-label")),t.after(n),a.label=n;o=e("<span></span>");t.after(o),o.addClass(a.toThemeProperty("jqx-input-bar")),a.bar=o;var a=this}a.template&&(a.bar.addClass(a.toThemeProperty("jqx-"+a.template)),a.label.addClass(a.toThemeProperty("jqx-"+a.template)))}},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.maskbox[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):e.element.setAttribute("hint",!0)})},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},maskedValue:function(e){return void 0===e?this._value():(this.value=e,this._refreshValue(),this.oldValue!==e&&(this._raiseEvent(1,e),this.oldValue=e,this._raiseEvent(0,e)),this)},propertyChangedHandler:function(t,i,s,r){if(void 0!==this.isInitialized&&!1!==this.isInitialized){if("rtl"===i&&(t.rtl?t._helpers.maskbox.addClass(t.toThemeProperty("jqx-rtl")):t._helpers.maskbox.removeClass(t.toThemeProperty("jqx-rtl"))),"value"===i&&(null==r&&(r=""),""===r?this.clear():(r=r.toString(),this.inputValue(r)),t._raiseEvent(7,r)),"theme"===i&&e.jqx.utilities.setTheme(s,r,this.host),"disabled"===i&&(r?(t._helpers.maskbox.addClass(t.toThemeProperty("jqx-input-disabled")),t._helpers.element.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._helpers.maskbox.attr("disabled",!0)):(t._helpers.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled")),t._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t._helpers.maskbox.attr("disabled",!1)),e.jqx.aria(t,"aria-disabled",r)),"readOnly"===i&&(this.readOnly=r),"promptChar"===i){for(var n=0;n<t.items.length;n++)t.items[n].character===t.promptChar&&(t.items[n].character=r,t.items[n].defaultCharacter=r);t.promptChar=r}"textAlign"===i&&(t.maskbox.css("text-align",r),t.textAlign=r),"mask"===i&&(t.mask=r,t.items=[],t._initializeLiterals(),t.value=t._getString(),t._refreshValue()),"width"===i?(t.width=r,t._render()):"height"===i&&(t.height=r,t._render())}},_value:function(){return this.value},_getEditStringLength:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&(e+=this.items[t].character);return e.length},_getEditValue:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&this.items[t].character!==this.promptChar&&(e+=this.items[t].character);return e},parseValue:function(e){if(null==e)return null;for(var t=e.toString(),i="",s=0,r=0;r<t.length;r++)for(var n=t.substring(r,r+1),o=s;o<this.items.length;o++)if(this.items[o].canEdit&&this._match(n,this.items[o].regex)){i+=n,s=o;break}return i},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(e){return void 0!==e&&"object"!=typeof e&&("number"==typeof e&&isFinite(e)&&(e=e.toString()),this.maskedValue(e)),this.maskbox[0].value},inputValue:function(e,t){var i;if(null==e){var s="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(s+=this.items[i].character);return s}var r=0;for(e=e.toString(),i=0;i<this.items.length;i++)this.items[i].canEdit&&(this._match(e.substring(r,r+1),this.items[i].regex)?(this.items[i].character=e.substring(r,r+1),r++):t&&(this.items[i].character=this.promptChar,r++));var n=this._getString();return this.maskedValue(n),this.inputValue()},_refreshValue:function(){for(var t=this.maskedValue(),i=0,s=0;s<this.items.length;s++)t.length>i&&(this.items[s].canEdit&&this.items[s].character!==t[i]&&(!this._match(t[i],this.items[s].regex)&&t[i]!==this.promptChar||1!==t[i].length||(this.items[s].character=t[i])),i++);this.value=this._getString(),t=this.value,this.maskbox[0].value=t,e.jqx.aria(this,"aria-valuenow",t)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),i.isMaterialized()){var s=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation");s&&(this.animationType=s.trim(),"transform"===this.animationType&&(this.animationShowDuration=0,this.animationHideDuration=0,this.animationShowDelay=0))}if(this.host.css("outline","none"),this.source&&null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first");n.length>0&&this._createMenu(n[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation)this.host.closest("div.jqx-menu-wrapper").focus();if(this.keyboardNavigation){this.host.focus();var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var r='<ul class="jqx-menu-ul">';return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){if(null==e)return null;r+=s._parseItem(e)}),r+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);null!=e.selected&&e.selected;var s=!1;return null!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/))navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0);var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var r=new e.jqx.response;"Phone"!=r.device.type&&"Tablet"!=r.device.type||this.minimized||this.minimize()}else t<s&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){e(this.element);e(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var r,n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=n.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(e(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var o=function(e){if(t.minimizedHidden){r.find("ul:first").children().show(),t.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth());var i=!1,s=r.width();"right"==t.minimizedItem.css("float")&&(r.css("left",t.host.coord().left+t.host.width()+s),i=!0),r.css("top",t.host.coord().top+t.host.height()),r.animate({left:i?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else!function(e){t.minimizedHidden=!0,t.minimizedItem.show();var i=!1;"right"==t.minimizedItem.css("float")&&(i=!0),r.animate({left:i?t.host.coord().left+t.host.width()+r.width():-r.outerWidth(),opacity:0},t.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})}();t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=r.width(),i=!1;e=r.width();"right"==t.minimizedItem.css("float")&&(i=!0),r.css("top",t.host.coord().top+t.host.height()),r.css({left:i?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){o(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;(e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode)&&(null!=t&&(i._isRightClick(t)||i.close()))},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;1==e.isOpen&&e.element==s&&(r._closeItem(r,e),e.parentId)}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;0==e.isOpen&&e.element==s&&(r._openItem(r,e),e.parentId&&r.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),r=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?r=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":r=n?0:i.outerWidth()}return{left:r,top:s}},_closeItem:function(t,i,s,r){if(null==t||null==i)return!1;var n=e(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,d=a.left,h=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=h){h.removeClass("show");var c=t.animationHideDelay;1==r&&(c=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,o?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(e.jqx.browser.msie,n.stop().animate({left:d},t.animationHideDuration,function(){var s;(0==t.animationHideDuration&&n.css({left:d}),i.level>0)?(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},c)):u(),null!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,r=new Array;null!=i&&e.extend(r,i);var n=t,o=this.menuElements[n],a=e(o.subMenuElement).find(".jqx-menu-item");return e.each(a,function(){r[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,r);e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var s=t,r=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var o=e(n.element);n.element.disabled=i,e.each(o.children(),function(){this.disabled=i}),i?(o.addClass(r.toThemeProperty("jqx-menu-item-disabled")),o.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(o.removeClass(r.toThemeProperty("jqx-menu-item-disabled")),o.removeClass(r.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var r=t,n=this,o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var a=this.menuElements[r];if(null!=i)if(a.openHorizontalDirection=i,a.hasItems&&a.level>0)if(null!=(d=e(a.element))){var l=e(a.arrow);null==a.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),o?l.appendTo(d):l.prependTo(d),a.arrow=l[0]),l.removeClass(),"left"==a.openHorizontalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=s){a.openVerticalDirection=s;l=e(a.arrow);var d=e(a.element);if(!n.showTopLevelArrows)return;null!=d&&(null==a.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),o?l.appendTo(d):l.prependTo(d),a.arrow=l[0]),l.removeClass(),"down"==a.openVerticalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;null!=s&&(r=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,e(i.element).focus();var o=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),d=e(i.element),h=0==i.level?this._getOffset(i.element):d.position();if(i.level>0&&this.hasTransform){var c=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top);h.top+=c}0==i.level&&"popup"==this.mode&&(h=d.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?h.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?h.top+d.outerHeight():h.top,zIndex:r}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var m=this._getOffset(this.element);l.css("left",-1+m.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);a.css("left",f.left),a.css("top",f.top)}l.css({height:parseInt(a.outerHeight())+parseInt(o[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),g=o[1];var x=parseInt(a.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-x),l.css({display:"block",top:h.top-l.outerHeight(),zIndex:r})}else g=o[1],a.css("top",a.outerHeight()),l.css({display:"block",top:h.top-l.outerHeight()+o[1]+d.outerHeight(),zIndex:r});break;case"center":u?(a.css("top",0),l.css({display:"block",top:h.top-l.outerHeight()/2+o[1],zIndex:r})):(a.css("top",0),l.css({display:"block",top:h.top+d.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:h.left-(l.outerWidth()-d.outerWidth()-o[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:h.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-o[0]/2)}):(l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-o[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==v)return void i.isOpen;e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var w=e.data(t.element,"animationHideDelay");t.animationHideDelay=w,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",v),e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("show"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("show"))),(s=e(i.arrow)).length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{var s;if(a.stop(),a.css("top",g),l.addClass(t.toThemeProperty("show")),e.jqx.browser.msie,i.level>0)d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),null!=t&&null!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=n)(o=s.host.closest("div.jqx-menu-wrapper")).remove(),o.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible")}}else null==t&&null==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(e){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id),s.addHandler(e(document),"contextmenu."+s.element.id,function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1})),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){var t=this,i=e(t.element);((n=e(t.arrow)).removeClass(),t.hasItems&&t.level>0)&&((n=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),n.css("float",s._getDir("right")),n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=n[0]);if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var n=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>'),o=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?o?n.appendTo(i):n.prependTo(i):n=e(t.arrow),"down"==t.openVerticalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),n.css("visibility","inherit"),o?n.css("display","inline-block"):(n.css("display","block"),n.css("float","right")),t.arrow=n[0]}else{if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows)if(null!=t.arrow)(n=e(t.arrow)).remove(),t.arrow=null}r=Math.max(r,i.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){var t=this,i=e(t.element);if(t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var r=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>');r.prependTo(i),r.css("float","right"),0==t.level?(r.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),r.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(r.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),r.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=r[0]}i.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+s.element.id,o.appendTo(e(document.body)),s.addHandler(o,"keydown",function(e){return s.handleKeyDown(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var a=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(a),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),r=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var o=e.jqx.mobile.isWindowsPhone(),a=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=i&&i||o||a?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:n,top:r}},_isRightClick:function(e){var t;if(!e)e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this;if(e.data(this.element,"contextMenuOpened"+this.element.id)){this.host;t.host.removeClass("jqx-popup-show"),e.each(t.items,function(){this.hasItems&&t._closeItem(t,this)}),e.each(t.items,function(){1==this.isOpen&&e(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var r=this;null!=t&&null!=t||(t=0),null!=i&&null!=i||(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),r.host.addClass("jqx-popup-show"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",r.popupZIndex),null!=t&&null!=i&&r.host.css({left:t,top:i}),r.focus()},s)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){s.hoveredItem=t,t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return s=!0,!1}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=e(this.element);if(0==this.level&&i>0){var r=s.children().length>0?parseInt(s.children().height()):s.height(),n=t.host.find("ul:first"),o=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+o),d=parseInt(l)/2-r/2,h=parseInt(d),c=parseInt(d);if(s.css("padding-top",h),s.css("padding-bottom",c),parseInt(s.outerHeight())>l){s.css("padding-top",h-1),h-=1}}})}e.each(this.items,function(){var t=this;e(t.element);if(t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){if(this.element==i)return s=this,!1}),s},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,r=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var o=this.isTouchDevice(),a=o&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1));e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(n.keyboardNavigation&&n.activeItem){if("popup"===n.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(n.keyboardNavigation&&!n.activeItem)if(n.hoveredItem)e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(n.items[0].element))){var t=n._nextVisibleItem(n.items[0],0);t&&(e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t)}else e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]};n.activeItem?e.jqx.isHidden(e(n.activeItem.element))?(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),i()):e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown.menu"+this.element.id),n.handleKeyDown=function(t){if(!n.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;if(e.each(n.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s)return i=s,!1;if(!i)return e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0],i=n.activeItem,!1;if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var r=i;null!=r;)r.parentItem?r=r.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=r,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),r=r.parentItem);!0}if(13==t.keyCode&&i){!0,n._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var o=null!=i.anchor?e(i.anchor):null;if(null!=o&&o.length>0){var a=o.attr("href"),l=o.attr("target");null!=a&&(null!=l?window.open(a,l):window.location=a)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},h="";switch(t.keyCode){case 40:h="down";break;case 38:h="up";break;case 39:h="right";break;case 37:h="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===h&&(h="right"),i&&"left"===i.openHorizontalDirection&&"right"===h&&(h="left"),i&&"top"===i.openVerticalDirection&&"top"===h&&(h="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===h&&(h="top"),n.rtl&&("right"===h?h="left":"left"===h&&(h="right")),"right"===h&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var c=n._nextVisibleItem(i,0),u=n._nextVisibleItem(i),p=d(u);c||(c=u),c&&(c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(c=u),e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)}t.preventDefault(),t.stopPropagation()}if("left"===h&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var c=n._prevVisibleItem(i,0),m=i.parentItem;c&&c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode?(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c):m&&0==m.level&&"horizontal"==n.mode||!m||m.level!=i.level-1||(e(m.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===h){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{p=d(c=n._nextVisibleItem(i,i.level));if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==p[0].id&&"horizontal"==n.mode)&&(0==c.level&&"horizontal"==n.mode||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){c=n._nextVisibleItem(i);e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}else if("up"===h){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{c=n._prevVisibleItem(i,i.level),p=d(i);if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==i.parentId&&0==c.level&&"horizontal"==n.mode))0==c.level&&"horizontal"===n.mode&&0===i.level||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c);else if(i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){c=i.parentItem;e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode)if(c=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i))e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){p=new Array;for(var f=0,g=0;g<n.items.length;g++)n.items[g]!=i&&n.items[g].parentId==i.parentId&&(p[f++]=n.items[g]);p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[p.length-1]):(e(p[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,function(e){n.handleKeyDown(e)}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{type:"mouse",item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||o||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||o||n.clickToOpen||(i.data=n,n._closeAll(i))),o&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var r=s.attr("href"),a=s.attr("target");null!=r&&(null!=a?window.open(r,a):window.location=r)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,o),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),h=i.closest("div.jqx-menu-popup");if(h.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");d.addClass("horizontal"),d.appendTo(h),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}else{c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");"horizontal"===n.mode?d.addClass("top"):d.addClass("horizontal"),d.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((o||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if(((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId)&&(n.menuElements[t.parentId]&&!n.menuElements[t.parentId].isOpen))return;return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},o={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;o.left-5<=r.left&&r.left<=o.left+o.width+5&&o.top<=r.top&&r.top<=o.top+o.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(d,"mouseenter"),n.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(d,"mouseleave"),n.addHandler(d,"mouseleave",function(e){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){null==i&&(i=!0),null==i&&(i=!0);e(t).addClass("jqx-menu-ul");var s=e(t).find("li"),r=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var o=s[n],a=e(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),i&&(o.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var d=0,h=this;a.children().each(function(){return i||(this.className="",h.autoGenerate&&(e(h.items[r-1].subMenuElement)[0].className="",h.minimized||e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-widget-content")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(h.items[r-1].subMenuElement=this),!1):!h.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(h.items[r-1].subMenuElement=this),this.className="",h.minimized||e(this).addClass(h.toThemeProperty("jqx-widget-content")),e(this).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(h.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),h.rtl?e(this).addClass(h.toThemeProperty("jqx-rc-l")):e(this).addClass(h.toThemeProperty("jqx-rc-r")),e(this).addClass(h.toThemeProperty("jqx-rc-b")),!1)}),a.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!h.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)});var c=!1,u=o.getAttribute("type"),p=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");if(p?"true"!=p&&1!=p||(p=!0):p=!1,u){if("separator"==u)c=!0}else u=o.type;c||(u=d?"sub":"top");var m=this.items[r-1];if(i){m.id=l,m.parentId=d,m.type=u,m.separator=c,m.element=s[n];var f=a.children("a");m.disabled="true"==o.getAttribute("item-disabled"),m.level=a.parents("li").length,m.anchor=f.length>0?f:null,m.anchor&&e(m.anchor).attr("tabindex",-1)}m.ignoretheme=p;var g=this.menuElements[d];null!=g&&(g.ignoretheme&&(m.ignoretheme=g.ignoretheme,p=g.ignoretheme),m.parentItem=g,m.parentElement=g.element),this.autoGenerate&&("separator"==u?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):p||(a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?a[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),m.level>0&&!h.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),m.disabled&&(a.addClass(h.toThemeProperty("jqx-menu-item-disabled")),a.addClass(h.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:m},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!p&&(m.hasItems=a.find("li").length>0,m.hasItems&&m.element&&(e.jqx.aria(e(m.element),"aria-haspopup",!0),m.subMenuElement.id||(m.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(m.element),"aria-owns",m.subMenuElement.id)))}}for(var v=0;v<s.length;v++){var x=s[v];if(this.itemMapping["id"+x.id]){if(!(m=this.itemMapping["id"+x.id].item))continue;m.prevItem=null,m.nextItem=null,v>0&&this.itemMapping["id"+s[v-1].id]&&(m.prevItem=this.itemMapping["id"+s[v-1].id].item),v<s.length-1&&this.itemMapping["id"+s[v+1].id]&&(m.nextItem=this.itemMapping["id"+s[v+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=e(this.element);t.removeHandler(i,"click"),t.removeHandler(i,"selectstart"),t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),t.removeHandler(i,"mousedown"),t.removeHandler(i,"mouseleave"),e(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var s=e.data(t.element,"jqxMenu");s&&delete s.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this;var n=new e.Event(s);return"2"==t&&((r=i.item).owner=this,r.clickType=i.type,e.extend(n,i.event),n.type="itemclick"),n.owner=this,n.args=r,this.host.trigger(n)},propertiesChangedHandler:function(t,i,s){if(s.width&&s.height&&2==Object.keys(s).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](s);var r=this.host[0].id;e("#"+r)[i](s)}},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=s))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,s)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var o=t.host.find("ul:first");o.length>0&&(t.refresh(),t._createMenu(o[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](r);var a=this.host[0].id;e("#"+a)[i](r)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}},function(e){e.jqx.jqxWidget("jqxNavBar","",{}),e.extend(e.jqx._jqxNavBar.prototype,{defineInstance:function(){var t={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};return this===e.jqx._jqxNavBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){var t=this;t.ul&&t.ul.parent()[0]!==t.element&&(t.ul.detach(),t.host.children().remove(),t.host.append(t.ul),t.popup&&t.popup.remove(),t.host.height(null),t.host.removeClass(t.toThemeProperty("jqx-widget-header")),t.host.removeClass(t.toThemeProperty("jqx-navbar-minimized"))),t.ul=t.host.children(),t._items=t.ul.children(),e.each(t._items,function(){e(this).removeClass()}),null!==this.width&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)?this.element.style.width=this.width:this.element.style.width=this.width+"px",t._layoutItems(),t._addClasses(),t._addHandlers(),t._handleMinimize(),e.jqx.utilities.resize(this.host,function(){t._resizePopup()})},_layoutItems:function(){var t=this,i=1,s=0,r=null===this.height||"auto"===this.height;if("horizontal"===t.orientation){if(t._items.length>5){var n="50%";t._items.css("width",n);var o=t.height;if(i=Math.ceil(t._items.length/2),!r){var a=!1;o.toString().indexOf("%")>=0?(u=parseInt(o)/i,u+="%",a=!0):u=parseInt(o)/i,s=2,a?(t._items.css("height",u),t._items.css("line-height",t._items.height()+"px")):(t._items.height(u),t._items.css("line-height",u+"px"))}}else{n=t.host.width/2;var l=t._items.length;n=100/l+"%";t._items.css("width",n),r||(t.height.toString().indexOf("%")>=0?(t._items.css("height",u),t._items.css("line-height",t.height)):(t._items.height(t.height),t._items.css("line-height",parseInt(t.height)+"px"))),s=l}if(t.columns){o=t.height;for(var d=0,h=0;h<t._items.length;h++){var c=t._items[h];e(c).css("width",t.columns[d]),++d>=t.columns.length&&(d=0,t.columns.length!==t._items.length&&i++)}a=!1;o.toString().indexOf("%")>=0?(u=parseInt(o)/i,u+="%",a=!0):u=parseInt(o)/i,r||(a?(t._items.css("height",u),t._items.css("line-height",t._items.height()+"px")):(t._items.height(u),t._items.css("line-height",u+"px"))),s=t.columns.length}}else{for(o=t.height,d=0,h=0;h<t._items.length;h++){c=t._items[h];e(c).css("width","100%")}if(i=t._items.length,!r){var u;a=!1;o.toString().indexOf("%")>=0?(u=parseInt(o)/i,u+="%",a=!0):u=parseInt(o)/i,a?(t._items.css("height",u),t._items.css("line-height",t._items.height()+"px")):(t._items.height(u),t._items.css("line-height",u+"px"))}s=1}if(t.selection){var p=0,m=!1;t._items.length/s<i&&(m=!0);for(h=0;h<i;h++)for(var f=0;f<s;f++){if(f<s-1){var g=t.rtl?"left":"right";e(t._items[p]).css("border-"+g+"-width","1px"),e(t._items[p]).css("border-"+g+"-style","solid")}i>1&&h>0&&(e(t._items[p]).css("border-top-width","1px"),e(t._items[p]).css("border-top-style","solid")),m&&h===i-2&&f===s-1&&(e(t._items[p]).css("border-bottom-width","1px"),e(t._items[p]).css("border-bottom-style","solid")),p++}}e.jqx.browser.msie&&e.jqx.browser.version<8&&(t._items.css("padding-left","0px"),t._items.css("padding-right","0px"),e.each(t._items,function(){e(this).css("border-left-width","0px"),e(this).css("border-right-width","0px"),e(this).css("position","relative"),e(this).css("margin-left","-1px")}),t.host.css("border","none"))},_handlePopupHeight:function(){var e=this;if(e.minimized){var t,i=!1;e.height.toString().indexOf("%")>=0&&(e.host.css("height",e.height),t=e.host.height()-e.minimizedHeight-1,i=!0),i&&(e.popup.height(t),e.ul.height(t),e.host.height(e.minimizedHeight),e._layoutItems())}},_handleMinimize:function(){var t=this;if(t.minimized){var i=t.host;i.height(t.minimizedHeight),i.css("box-sizing","border-box"),i.addClass(t.toThemeProperty("jqx-widget-header")),i.addClass(t.toThemeProperty("jqx-navbar-minimized"));var s=e('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');i.append(s),s.css("float",t.minimizeButtonPosition);var r=e('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');r.append(t.minimizedTitle),r.css("float","left"===t.minimizeButtonPosition?"right":"left"),"auto"!==t.minimizedHeight&&(t.minimizedHeight.toString().indexOf("%")>=0?r.css("line-height",t.minimizedHeight):r.css("line-height",parseInt(t.minimizedHeight)+"px")),i.append(r),s.addClass(t.toThemeProperty("jqx-menu-minimized-button")),i.removeClass(t.toThemeProperty("jqx-widget-content")),t.ul.detach();var n=e("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");n.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),n.append(t.ul),t.popup=n,e(document.body).append(n),t.opened=!1,s.click(function(){t.opened?t.close():t.open()}),t.button=s}},close:function(){var e=this;e.popup.fadeOut(e.popupAnimationDelay),e.opened=!1},open:function(){var e=this;e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e=this;if(e.minimized&&e.popup){e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e._handlePopupHeight()}},selectAt:function(t){var i=this;if(i.selection){e(i._items[i.selectedItem]).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-pressed"));var s=i.selectedItem;i.selectedItem=t,i._raiseEvent("0",{selectedItem:t,oldSelectedItem:s})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){e.render()},_raiseEvent:function(t,i){var s=this,r=s.events[t],n=new e.Event(r);n.owner=s,n.args=i;try{var o=s.host.trigger(n)}catch(e){}return o},_removeHandlers:function(){var e=this;e.removeHandler(e._items,"click.navbar"+e.element.id),e.removeHandler(e._items,"mouseenter.navbar"+e.element.id),e.removeHandler(e._items,"mouseleave.navbar"+e.element.id)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-navbar")),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._items.addClass(t.toThemeProperty("jqx-navbar-block")),t.selection?(t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-button")),-1!==t.selectedItem&&e(t._items[t.selectedItem]).addClass(t.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),t.rtl&&t._items.addClass(t.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var t=this;t.addHandler(t._items,"click.navbar"+t.element.id,function(i){if(!t.disabled&&t.selection){var s=e(t._items).index(this);t.selectAt(s)}}),t.addHandler(t._items,"mouseenter.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._items,"mouseleave.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNavigationBar","",{}),e.extend(e.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return this===e.jqx._jqxNavigationBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this.render()},val:function(e){return 0===arguments.length||"object"==typeof e?this.expandedIndexes:("string"==typeof e?(this.expandedIndexes.push(parseInt(e,10)),this._applyExpandedIndexes()):(e instanceof Array?this.expandedIndexes=e:this.expandedIndexes=[e],this._applyExpandedIndexes()),this.expandedIndexes)},expandAt:function(t){var i=this;if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)for(var s=0;s<i.items.length;s++)s!=t&&i.collapseAt(s);var r=this.items[t];if(!1===r.disabled&&!1===r.expanded&&1==r._expandChecker)switch(r._expandChecker=0,this._raiseEvent("0",{item:t}),r._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-normal")),r._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),r._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),r._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this.animationType){case"slide":var n=r._contentHelper,o=0,a=n.outerHeight();n.slideDown({duration:this.expandAnimationDuration,easing:this.easing,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?o+=t.now:i._collapseContent?(t.now=Math.round(a-i._collapseContent.outerHeight()-o),o=0):t.now=Math.round(e)},complete:function(){r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===r._initialized&&(i.initContent(t),r._initialized=!0),i.eCFlag=0}});break;case"fade":setTimeout(function(){r._contentHelper.fadeIn({duration:this.expandAnimationDuration,complete:function(){r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===r._initialized&&(i.initContent(t),r._initialized=!0),i.eCFlag=0}})},this.collapseAnimationDuration);break;case"none":r._content.style.display="",r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:t}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.initContent&&!1===r._initialized&&(this.initContent(t),r._initialized=!0),this.eCFlag=0}},collapseAt:function(t){var i=this.items[t];if(!1===i.disabled&&!0===i.expanded&&0===i._expandChecker){var s=this;switch(i._expandChecker=1,this._raiseEvent("2",{item:t}),i._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),i._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-normal")),i._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),i._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),!1===this.heightFlag&&(s.element.style.overflowX="hidden",s.element.style.overflowY="hidden"),this.eCFlag=1,this._collapseContent=i._contentHelper,this.animationType){case"slide":i._contentHelper.slideUp({duration:this.collapseAnimationDuration,step:function(e,t){t.now=Math.round(e)},easing:this.easing,complete:function(){i.expanded=!1,i._content.style.display="none",e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),s._updateExpandedIndexes(),s._raiseEvent("3",{item:t}),s._checkHeight(),!0===s.heightFlag&&(s.element.style.overflowX="hidden",s.element.style.overflowY="auto"),s.eCFlag=0,s._collapseContent=null}});break;case"fade":i._contentHelper.fadeOut({duration:this.collapseAnimationDuration,complete:function(){i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),s._updateExpandedIndexes(),s._raiseEvent("3",{item:t}),s._checkHeight(),!0===s.heightFlag&&(s.element.style.overflowX="hidden",s.element.style.overflowY="auto"),s.eCFlag=0}});break;case"none":i._content.style.display="none",i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:t}),this._checkHeight(),!0===this.heightFlag&&(s.element.style.overflowX="hidden",s.element.style.overflowY="auto"),this.eCFlag=0}}},setHeaderContentAt:function(e,t){this.items[e]._headerText.innerHTML=t},getHeaderContentAt:function(e){return this.items[e]._headerText.innerHTML},setContentAt:function(e,t){this.items[e]._content.innerHTML=t,this._checkContent(e)},getContentAt:function(e){return this.items[e]._content.innerHTML},showArrowAt:function(e){this.items[e]._arrow.style.display="block"},hideArrowAt:function(e){this.items[e]._arrow.style.display="none"},enable:function(){this.disabled=!1,this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},enableAt:function(e){this.items[e].disabled=!1,this.refresh()},disableAt:function(e){this.items[e].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(e){if(!0!==e){this._removeHandlers();for(var t=0;t<this.items.length;t++)this.items[t]._arrow.style.display=this.showArrow?"block":"none";this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard()}},render:function(){this.widgetID=this.element.id;var t=this;-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),e.jqx.utilities.resize(this.host,function(){t._setSize()}),t.element.setAttribute("role","tablist"),this.items&&(this._removeHandlers(),e.each(this.items,function(){this._header.className="",this._header.setAttribute("tabindex",null),this._header.style.marginTop="0px",this._headerText.className="",this._header.innerHTML=this._headerText.innerHTML,this._content.setAttribute("tabindex",null)})),this.items=[];var i=t.host.children(),s=i.length;try{if(s%2!=0)throw"Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content."}catch(e){throw new Error(e)}try{for(var r=0;r<s;r++)if("div"!=i[r].tagName.toLowerCase())throw"Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs."}catch(e){throw new Error(e)}for(var n=0;n<s;n+=2){var o=i[n];o.innerHTML="<div>"+o.innerHTML+"</div>"}for(var a,l=0,d=0;d<s/2;d++){a=l+1;var h={};(h={})._header=i[l],h._headerHelper=e(i[l]),i[l].setAttribute("role","tab"),h._content=i[a],h._contentHelper=e(i[a]),h._contentHelper.initAnimate&&h._contentHelper.initAnimate(),h.expandedFlag=!1,h.expanded=!1,h.focusedH=!1,h.focusedC=!1,this.items[d]=h,i[a].setAttribute("role","tabpanel"),l+=2}var c=this.expandedIndexes.length;if(!this.items||0!==this.items.length){if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode)0!==c?this.items[this.expandedIndexes[0]].expanded=!0:0!==c||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0);else if("multiple"==this.expandMode&&0!==c)for(var u=0;u<c;u++)t.items[this.expandedIndexes[u]].expanded=!0;this._enabledDisabledCheck();var p=0;e.each(this.items,function(i){var s=this;s._headerText=e(s._header).children()[0],t.rtl?e(s._headerText).addClass(t.toThemeProperty("jqx-expander-header-content-rtl")):e(s._headerText).addClass(t.toThemeProperty("jqx-expander-header-content")),s._arrow=document.createElement("div"),s._arrowHelper=e(s._arrow),s._header.appendChild(s._arrow),t.showArrow?s._arrow.style.display="block":s._arrow.style.display="none",!0===s.expanded?(s._arrowHelper.addClass(t.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),t.initContent?setTimeout(function(){t.initContent(i),s._initialized=!0},10):s._initialized=!0,s._expandChecker=0,e.jqx.aria(s._header,"aria-expanded",!0),e.jqx.aria(s._content,"aria-hidden",!1)):!1===s.expanded&&(s._arrowHelper.addClass(t.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),s._initialized=!1,s._expandChecker=1,s._content.style.display="none",e.jqx.aria(s._header,"aria-expanded",!1),e.jqx.aria(s._content,"aria-hidden",!0)),null===s._header.getAttribute("tabindex")&&(p++,s._header.setAttribute("tabindex",p)),null===s._content.getAttribute("tabindex")&&(p++,s._content.setAttribute("tabindex",p))}),this._setTheme(),this._setSize();for(var m=0;m<t.items.length;m++)t._checkContent(m);this._toggle(),this._keyBoard()}},insert:function(e,t,i){var s=document.createElement("div"),r=document.createElement("div");if(s.innerHTML=t,r.innerHTML=i,e>=0&&e<=this.items.length){var n=this.items[e]._header;this.element.insertBefore(s,n),this.element.insertBefore(r,n)}else this.element.appendChild(s),this.element.appendChild(r);this.render()},add:function(e,t){this.insert(-1,e,t)},update:function(e,t,i){this.setHeaderContentAt(e,t),this.setContentAt(e,i)},remove:function(e){if(isNaN(e)&&(e=this.items.length-1),this.items[e]){this.items[e]._header.remove(),this.items[e]._content.remove(),this.items.splice(e,1);var t=this.expandedIndexes.indexOf(e);t>-1&&this.expandedIndexes.splice(t,1),this.render()}},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{for(var e=0;e<this.items.length;e++){var t=this.items[e];if(!1===t.disabled)return t._header.focus(),!1}}catch(e){}},_applyExpandedIndexes:function(){for(var e=this,t=this.expandedIndexes.length,i=0;i<t;i++)for(var s=e.expandedIndexes[i],r=0;r<e.items.length;r++){var n=e.items[r];if(r==s){if(n.expandedFlag=!0,!1===n.expanded&&e.expandAt(r),"single"==e.expandMode||"singleFitHeight"==e.expandMode||"toggle"==e.expandMode||"none"==e.expandMode)return!1}else r!=s&&!1===n.expandedFlag&&e.collapseAt(r)}for(var o=0;o<e.items.length;o++)e.items[o].expandedFlag=!1},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"theme"!==t?"disabled"==t?e._enabledDisabledCheck():"expandedIndexes"==t?e._applyExpandedIndexes():e.refresh():e.render():e._setSize())},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i,n.item=n.args.item;try{s=this.host.trigger(n)}catch(e){}return s},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){var t=this;this.headersHeight=0;var i=(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(i)&&(i=12),"auto"==this.width?t.element.style.width="auto":null!=this.width&&-1!=this.width.toString().indexOf("%")?t.element.style.width=t.width:t.element.style.width=parseInt(this.width,10)+i+"px","number"==typeof t.height?t.element.style.height=t.height+"px":t.element.style.height=t.height;for(var s=0;s<t.items.length;s++){var r=t.items[s],n=t.arrowPosition;if(t.rtl)switch(n){case"left":n="right";break;case"right":n="left"}"right"==n?(r._headerText.style.float="left",r._headerText.style.marginLeft="0px",r._arrow.style.float="right",r._arrow.style.position="relative"):"left"==n&&("auto"==t.width?(r._headerText.style.float="left",r._headerText.style.marginLeft="17px",r._arrow.style.float="left",r._arrow.style.position="absolute"):(r._headerText.style.float="right",r._headerText.style.marginLeft="0px",r._arrow.style.float="left",r._arrow.style.position="relative")),r._header.style.height="auto",r._headerText.style.minHeight=r._arrow.offsetHeight,t.headersHeight+=e(r._header).outerHeight(),r._arrow.style.marginTop=r._headerText.offsetHeight/2-r._arrow.offsetHeight/2+"px"}for(var o=0;o<t.items.length;o++){var a=t.items[o];if("auto"!=t.height)if("single"==t.expandMode||"toggle"==t.expandMode||"multiple"==t.expandMode)t.element.style.overflowX="hidden",t.element.style.overflowY="auto";else if("singleFitHeight"==t.expandMode){var l=parseInt(a._contentHelper.css("padding-top"),10)+parseInt(a._contentHelper.css("padding-bottom"),10);t.height&&t.height.toString().indexOf("%")>=0?a._content.style.height=Math.max(0,t.element.offsetHeight-t.headersHeight-l+2)+"px":a._content.style.height=Math.max(0,t.element.offsetHeight-t.headersHeight-l)+"px"}}t._checkHeight()},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this.toggleMode){case"click":case"dblclick":e.each(this.items,function(e){!1===this.disabled&&t.addHandler(this._header,t.toggleMode+".navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})})}else{if("none"==this.toggleMode)return;e.each(this.items,function(i){!1===this.disabled&&t.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+t.widgetID,function(){t._animate(i)})})}},_animate:function(e,t){var i=this.items[e];"none"!=this.expandMode&&1!=this.eCFlag&&(!0===this.items[e].expanded?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(e):this.expandAt(e),this._isTouchDevice||(!0!==t?(i._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):(i._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var e=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);for(var t=0;t<e.items.length;t++){var i=e.items[t];e.removeHandler(i._header,"click.navigationbar"+e.widgetID),e.removeHandler(i._header,"dblclick.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseenter.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseleave.navigationbar"+e.widgetID),e.removeHandler(i._header,"focus.navigationbar"+e.widgetID),e.removeHandler(i._header,"blur.navigationbar"+e.widgetID),e.removeHandler(i._content,"focus.navigationbar"+e.widgetID),e.removeHandler(i._content,"blur.navigationbar"+e.widgetID),e.removeHandler(i._headerText,"focus.navigationbar"+e.widgetID),e.removeHandler(i._arrow,"focus.navigationbar"+e.widgetID)}},_setTheme:function(){var t=this;this.host.addClass(this.toThemeProperty("jqx-reset jqx-widget")),!0===this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),e.each(this.items,function(e){var i=this,s=i._headerHelper,r=i._arrowHelper,n=i._contentHelper,o="jqx-widget-header jqx-item jqx-expander-header",a="jqx-widget-content jqx-expander-content jqx-expander-content-bottom";i._header.style.position="relative",i._content.style.position="relative",!1===i.disabled?(s.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),n.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),!0===i.expanded?o+=" jqx-fill-state-pressed jqx-expander-header-expanded":(o+=" jqx-fill-state-normal",s.removeClass(t.toThemeProperty("jqx-expander-header-expanded"))),t._isTouchDevice||(t.addHandler(i._header,"mouseenter.navigationbar"+t.widgetID,function(){1==i._expandChecker&&(i.focusedH||(i._header.style.zIndex=5),s.removeClass(t.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),s.addClass(t.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),r.addClass(t.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")),i.expanded?r.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):r.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(i._header,"mouseleave.navigationbar"+t.widgetID,function(){i.focusedH||(i._header.style.zIndex=0),s.removeClass(t.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),r.removeClass(t.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),1==i._expandChecker?s.addClass(t.toThemeProperty("jqx-fill-state-normal")):s.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}))):(o+=" jqx-fill-state-disabled",a+=" jqx-fill-state-disabled"),t.host.addClass(t.toThemeProperty("jqx-navigationbar")),s.addClass(t.toThemeProperty(o)),n.addClass(t.toThemeProperty(a)),0!==e&&(i._header.style.marginTop="-1px"),r.addClass(t.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(e){var t=this.items[e],i=t._content;if(this._cntntEmpty=/^\s*$/.test(this.items[e]._content.innerHTML),!0===this._cntntEmpty)i.style.display="none",i.style.height="0px",t._contentHelper.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(t.expanded&&(i.style.display="block"),"singleFitHeight"==this.expandMode){i.style.height=Math.max(0,this.element.offsetHeight-this.headersHeight+this.items.length-2)+"px"}else i.style.height="auto";t._contentHelper.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var e=this;if("string"!=typeof e.width||-1===e.width.indexOf("%")){var t=0,i=(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(i)&&(i=12);for(var s=0;s<e.items.length;s++){var r=e.items[s];t+=(r.expanded?r._contentHelper.outerHeight():0)+r._headerHelper.outerHeight()}"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(t>e.element.offsetHeight?(e.element.style.width=parseInt(this.width,10)+i+17+"px",this.heightFlag=!0):(e.element.style.width=parseInt(this.width,10)+i+"px",this.heightFlag=!1))}},_enabledDisabledCheck:function(){for(var e=0;e<this.items.length;e++)this.items[e].disabled=this.disabled},_updateExpandedIndexes:function(){var t=this;this.expandedIndexes=[],e.each(this.items,function(e){if(!0===this.expanded&&(t.expandedIndexes.push(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode))return!1})},_keyBoard:function(){var t=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(i){var s=!1,r=t.items.length;return e.each(t.items,function(e){var n=this;if((!0===n.focusedH||!0===n.focusedC)&&!1===n.disabled){switch(i.keyCode){case 13:case 32:"none"!=t.toggleMode&&(!0===n.focusedH&&t._animate(e,!0),s=!0);break;case 37:0!==e?t.items[e-1]._header.focus():t.items[r-1]._header.focus(),s=!0;break;case 38:!1===i.ctrlKey?0!==e?t.items[e-1]._header.focus():t.items[r-1]._header.focus():!0===n.focusedC&&n._header.focus(),s=!0;break;case 39:e!=r-1?t.items[e+1]._header.focus():t.items[0]._header.focus(),s=!0;break;case 40:!1===i.ctrlKey?e!=r-1?t.items[e+1]._header.focus():t.items[0]._header.focus():!0===n.expanded&&n._content.focus(),s=!0;break;case 35:e!=r-1&&t.items[r-1]._header.focus(),s=!0;break;case 36:0!==e&&t.items[0]._header.focus(),s=!0}return!1}}),s&&i.preventDefault&&i.preventDefault(),!s})},_focus:function(){var t=this;this.disabled||e.each(this.items,function(){var i=this;t.addHandler(i._header,"focus.navigationbar"+this.widgetID,function(){i.focusedH=!0,e.jqx.aria(i._header,"aria-selected",!0),i._headerHelper.addClass(t.toThemeProperty("jqx-fill-state-focus")),i._header.style.zIndex=10}),t.addHandler(i._header,"blur.navigationbar"+this.widgetID,function(){i.focusedH=!1,e.jqx.aria(i._header,"aria-selected",!1),-1!==i._header.className.indexOf("jqx-expander-header-hover")?i._header.style.zIndex=5:i._header.style.zIndex=0,i._headerHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(i._headerText,"focus.navigationbar"+this.widgetID,function(){i._header.focus()}),t.addHandler(i._arrow,"focus.navigationbar"+this.widgetID,function(){i._header.focus()}),t.addHandler(i._content,"focus.navigationbar"+this.widgetID,function(){i.focusedC=!0,i._contentHelper.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(i._content,"blur.navigationbar"+this.widgetID,function(){i.focusedC=!1,i._contentHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNotification","",{}),e.extend(e.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===e.jqx._jqxNotification.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this;t.render(),1==t.autoOpen&&t.open()},render:function(){var t=this;if(0==t.host.hasClass("jqx-notification")){t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0;var i=e.data(document.body,"jqxNotifications");null==i&&(i=0),e.data(document.body,"jqxNotifications",i+1)}else t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0",{element:t})}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=this,t=0;t<e._instances.length;t++)e._instances[t]&&e._close(e._instances[t])},closeLast:function(){for(var e=this,t=e._instances.length;t>=0;t--)if(e._instances[t]){e._close(e._instances[t]);break}},destroy:function(){var t=this;t.closeAll(),t.host.remove();var i=e.data(document.body,"jqxNotifications");e.data(document.body,"jqxNotifications",i-1),t._destroyContainers(i-1)},propertyChangedHandler:function(e,t,i,s){var r=this;if(s!=i)switch(t){case"width":case"height":var n=i.indexOf&&-1!=i.indexOf("%");n=null!=n&&n;var o=s.indexOf&&-1!=s.indexOf("%");(o=null!=o&&o)!=n&&(r[t]=i);break;case"appendContainer":case"position":r._container=r._notificationContainer();break;case"browserBoundsOffset":r.appendContainer||r._position(r._container);break;case"opacity":r.host.css("opacity",s);break;case"showCloseButton":case"template":case"icon":case"rtl":r._appendContent(!0)}},_raiseEvent:function(t,i){var s=this,r=s.events[t],n=new e.Event(r);n.owner=s,n.args=i;try{var o=s.host.trigger(n)}catch(e){}return o},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(e){var t=this;if(t.addHandler(e,"click.notification"+t.element.id,function(i){t._raiseEvent("2"),1==t.closeOnClick&&t._close(e)}),t.addHandler(e,"mouseenter.notification"+t.element.id,function(i){e._blinkInterval||t.mouseenterFunction(e)}),t.addHandler(e,"mouseleave.notification"+t.element.id,function(i){e._blinkInterval||"none"==e.css("display")||t.mouseleaveFunction(e)}),1==t.showCloseButton){var i=e.find(".jqx-notification-close-button");t.addHandler(i,"click.notification"+t.element.id,function(i){i.stopPropagation(),t._close(e)})}},_removeHandlers:function(e){var t=this;t.removeHandler(e,"click.notification"+t.element.id),t.removeHandler(e,"click.mouseenter"+t.element.id),t.removeHandler(e,"click.mouseleave"+t.element.id);var i=e.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i=this,s=i.host.html();t||i.host.children().detach(),t&&(i.host.removeAttr("class"),i.host.addClass(i.toThemeProperty("jqx-rc-all")),i.host.addClass(i.toThemeProperty("jqx-notification")));var r=e("<table class='"+i.toThemeProperty("jqx-notification-table")+"'></table>"),n=e("<tr></tr>");r.append(n);var o=i.rtl?"jqx-notification-content-rtl":"";if(t)s=(a=i.host.find(".jqx-notification-content")).html(),a.detach(),i.rtl?a.addClass("jqx-notification-content-rtl"):a.removeClass("jqx-notification-content-rtl");else var a=e("<td class='"+i.toThemeProperty("jqx-notification-content")+" "+o+"'></td>");n.html(a);var l,d=function(){0==i.rtl?(l.addClass("jqx-notification-icon-ltr"),a.before(l)):(l.addClass("jqx-notification-icon-rtl"),a.after(l))};if(i.template?(i.host.addClass("jqx-widget"),i.host.addClass("jqx-popup"),i.host.addClass("jqx-notification-"+i.template),l=e("<td class='"+i.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+i.template+"'></td>"),d()):(i.host.addClass(i.toThemeProperty("jqx-widget")),i.host.addClass(i.toThemeProperty("jqx-popup")),i.host.addClass(i.toThemeProperty("jqx-fill-state-normal")),i.icon&&(l=e("<td class='"+i.toThemeProperty("jqx-notification-icon")+"'></td>"),i.icon.padding=i.icon.padding?parseInt(i.icon.padding):5,l.css({width:parseInt(i.icon.width)+i.icon.padding,height:i.icon.height,"background-image":"url('"+i.icon.url+"')"}),d())),1==i.showCloseButton){var h;h=i.template?"jqx-notification-close-button jqx-notification-close-button-"+i.template:i.toThemeProperty("jqx-icon-close")+" "+i.toThemeProperty("jqx-notification-close-button");var c=e("<td class='"+i.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+h+" "+i.element.id+"CloseButton' title='Close'></div></td>");0==i.rtl?(c.find("div").addClass("jqx-notification-close-button-ltr"),a.after(c)):(c.find("div").addClass("jqx-notification-close-button-rtl"),a.before(c))}i.host[0].innerHTML="",i.host.append(r),i.host.find(".jqx-notification-content").html(s)},_position:function(e){var t,i,s,r,n=this;switch(n.position){case"top-right":t="",i=n.browserBoundsOffset,s=n.browserBoundsOffset,r="";break;case"top-left":t=n.browserBoundsOffset,i="",s=n.browserBoundsOffset,r="";break;case"bottom-left":t=n.browserBoundsOffset,i="",s="",r=n.browserBoundsOffset;break;case"bottom-right":t="",i=n.browserBoundsOffset,s="",r=n.browserBoundsOffset}e.css({left:t,right:i,top:s,bottom:r})},_notificationContainer:function(){var t,i=this;if(i.appendContainer){if(0==(t=e(i.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+i.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(t=e("#jqxNotificationDefaultContainer-"+i.position)).length&&(e("body").append("<div id='jqxNotificationDefaultContainer-"+i.position+"' class='jqx-notification-container'></div>"),t=e("#jqxNotificationDefaultContainer-"+i.position),i.width.indexOf&&-1!=i.width.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-width")),i.height.indexOf&&-1!=i.height.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-height")),i._position(t));return t},_destroyContainers:function(t){0==t&&e(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;"msie"==e.jqx.browser.browser&&"9.0"==e.jqx.browser.version&&(i=!0),0==i?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:0,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===e.jqx._jqxNumberInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){""===this.promptChar&&(this.promptChar=" ");var t=this.host.attr("value");null!=t&&(this.decimal=t),0===this.decimal&&(null!=this.value?this.decimal=this.value:null===this.value&&0!==this.decimal&&(this.value=this.decimal));this._createFromInput("jqxNumberInput"),this.render()},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.numberInput[0].value.length?(e.element.removeAttribute("hint"),e.label&&e.label[0]&&(e.label[0].innerHTML=e.placeHolder)):e.element.setAttribute("hint",!0)})},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.value&&(i.decimal=parseFloat(i.field.value)),i.field.getAttribute("min")){var r=i.field.getAttribute("min");i.min=parseFloat(r)}if(i.field.getAttribute("step")){var n=i.field.getAttribute("step");i.spinButtonsStep=parseFloat(n)}if(i.field.getAttribute("max")){var o=i.field.getAttribute("max");i.max=parseFloat(o)}i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var a=e("<div></div>",s);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var l=i.host.data();if(i.host=a,i.host.data(l),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.isMaterialized()||this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((t=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()}));e.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var s=this;this.oldValue=this._value(),this.items=new Array;var r=this.value,n=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(null!==r?n:null);t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var s=t._selection();if(i.preventDefault(),i.originalEvent.clipboardData)var r=(i.originalEvent||i).clipboardData.getData("text/plain");else if(window.clipboardData)r=window.clipboardData.getData("Text");this.selectedText=r,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(r),setTimeout(function(){t._setSelectionStart(s.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!t.editcell)return t.wheel(e,t),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(s){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal}),this.addHandler(this.numberInput,"blur",function(s){if("simple"==t.inputMode&&t._exitSimpleInputMode(s,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal);t.getvalue("negative")&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,s),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),e.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(e(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),s="click";i&&(s=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){var s=(f=this.getvalue("negative"))?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),n=this.decimal;if((h=this.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)-t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(h-t.spinButtonsStep>=t.min&&o){var a=1;for(u=0;u<t.decimalDigits;u++)a*=10;var l=a*h-a*t.spinButtonsStep;l/=a,l=this._parseDecimalValueToEditorValue(l),t.setDecimal(l)}}else{var d=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(d.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(h)-t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=d.decimal.indexOf("."))){for(var c=d.decimal.length-p-1,u=(a=1,0);u<c;u++)a*=10;var p;-1==(p=(h=(h-=new Number(t.spinButtonsStep/a)).toFixed(c)).toString().indexOf("."))&&(h=h.toString()+".");var m=h.toString()+d.afterdecimal;(m=(m=new Number(m)).toFixed(t.decimalDigits))>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}else if(h-t.spinButtonsStep>=t.min&&o){l=a*h-a*t.spinButtonsStep;(m=(l/=a).toString()+d.afterdecimal)>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(this,"aria-valuenow",this.decimal);m=this.decimal.toString();var f=this.getvalue("negative");0==s&&f?this._setSelectionStart(r.start+1):null==m||null!=n&&n.toString().length!=m.length?f?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());var n="advanced"!=this.inputMode,o=e.start;0===o&&o++,1===o&&"left"===this.symbolPosition&&""!==this.symbol&&(o+=this.symbol.length);for(var a=0;a<o;a++)if(n){var l=r.substring(a,a+1);!isNaN(parseInt(l))&&(t+=l),l==this.decimalSeparator&&(t+=l)}else i[a].canEdit&&i[a].character!=this.promptChar?t+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[a].character);var d="";for(a=o;a<i.length;a++)if(n){l=r.substring(a,a+1);!isNaN(parseInt(l))&&(d+=l),l==this.decimalSeparator&&(d+=l)}else i[a].canEdit&&i[a].character!=this.promptChar?d+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-s]||(d+=i[a].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(d)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var s=(f=this.getvalue("negative"))?-1:0;if(!t.disabled){var r=this._selection(),n=t.decimal;if((c=t.getDecimal())<this.min)return c=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(c>this.max)return c=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)+t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(c+t.spinButtonsStep<=t.max&&o){for(var a=1,l=0;l<t.decimalDigits;l++)a*=10;var d=a*c+a*t.spinButtonsStep;d/=a,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var h=this._getspindecimal(),c=(this._getSeparatorPosition(),parseFloat(h.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(c)+t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=h.decimal.indexOf("."))){var u=h.decimal.length-p-1;for(a=1,l=0;l<u;l++)a*=10;var p;-1==(p=(c=(c+=new Number(t.spinButtonsStep/a)).toFixed(u)).toString().indexOf("."))&&(c=c.toString()+".");var m=c.toString()+h.afterdecimal;m=(m=new Number(m)).toFixed(t.decimalDigits),new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m)):m=void 0}else if(c+t.spinButtonsStep<=t.max&&o){d=a*c+a*t.spinButtonsStep,m=(d/=a).toString()+h.afterdecimal;new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),f&&-1==m.indexOf("-")&&"-0"!=h.decimal&&(m="-"+m),t.setDecimal(m)):m=void 0}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(this,"aria-valuenow",this.decimal);m=this.decimal.toString();var f=this.getvalue("negative");-1!=s||f?null==m||null!=n&&n.toString().length!=m.length?f?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(t,i,s,r){if(null==i&&(i=t.data),null!=i){if(null==s){if(null!=t.target&&null!=i.element&&(null!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var n=i.host.offset(),o=n.left,a=n.top,l=i.host.width(),d=i.host.height(),h=e(t.target).offset();if(h.left>=o&&h.left<=o+l&&h.top>=a&&h.top<=a+d)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly)if(null!=e.data(i.numberInput,"simpleInputMode"))return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=i.toString().indexOf(".");if(s>0)i=i.toString().substring(0,s)+this.decimalSeparator+i.toString().substring(s+1)}var r=t?"-":"";"left"==this.symbolPosition&&(r+=this.symbol);var n=this.digits%this.groupSize;0==n&&(n=this.groupSize);var o=i.toString();o.indexOf("-")>=0&&(o=o.substring(o.indexOf("-")+1)),r+=o,"right"==this.symbolPosition&&(r+=this.symbol),0!=e&&this.numberInput.val(r)},_enterSimpleInputMode:function(t,i){null==i&&(i=t.data);var s=this._selection();if(null!=i){var r=i.getvalue("negative"),n=i.decimal;r&&n>0&&(n=-n),i.numberInput.val(n),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(s.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?this.decimal.toString().indexOf(",")?-Math.abs(this.decimal.toString().replace(/,/,".")):-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var s=this.negativeSymbol.substring(i,i+1),r="",n=!1,o=null;o=this.negative?this._literal(s,r,n,!1):this._literal("",r,n,!1),this.items[e]=o,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n,!1);this.items[e]=o,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(i=0;i<this.digits;i++){s=this.promptChar,r="\\d",n=!0,o=this._literal(s,r,n,!1);if(this.items[e]=o,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--l){l=this.groupSize;var d=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=d,e++}}else i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0){0==(s=this.decimalSeparator).length&&(s=".");o=this._literal(s,"",!1,!0);this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){r="\\d";var h=this._literal(0,r,!0,!1);this.items[e]=h,e++}}if("right"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n);this.items[e]=o,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var s=this.events[t],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var n=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,a=this.readOnly;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new e.Event(s);d.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),d.args=r,7==t&&(r.type=this.changeType,this.changeType=null),null!=s&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(d));var h=this;if("textbox"==this.inputMode)return o;if("simple"!=this.inputMode){if(4==t){if(a||this.disabled)return!1;o=h._handleKeyDown(i,n)}else if(5==t)(a||this.disabled)&&(o=!1);else if(6==t){if(a||this.disabled)return!1;o=h._handleKeyPress(i,n)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(a||this.disabled)return!1;var c=String.fromCharCode(n),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||n>=65&&n<=90&&(u=!1),6==t&&null!=e.jqx.browser.opera&&8==n)return!1;if(u){if(4==t&&(u=h._handleSimpleKeyDown(i,n)),107==n)(p=h.getvalue("negative"))&&(h.setvalue("negative",!1),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),h._setSelectionStart(m.start+1),h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val()));if(189==n||45==n||109==n||173==n){var p,m=h._selection();if(4==t)0==(p=h.getvalue("negative"))?h.setvalue("negative",!0):h.setvalue("negative",!1),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),p?h._setSelectionStart(m.start-1):h._setSelectionStart(m.start+1),u=!1,h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val())}var f=r.ctrlKey||r.metaKey;if(!e.jqx.browser.msie)if(f&&99==n||f&&67==n||f&&122==n||f&&90==n||f&&118==n||f&&86==n||i.shiftKey&&45==n)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&h._handleSimpleKeyDown(i,n),67==n;if(f&&97==n||f&&65==n)return!0;if(6==t&&u)return this._isSpecialKey(n)}return u}return o},GetSelectionInValue:function(e,t,i,s){for(var r=0,n=0;n<t.length&&!(n>=e);n++){var o=t.substring(n,n+1);(!isNaN(parseInt(o))||s&&t.substring(n,n+1)==i)&&r++}return r},GetSelectionLengthInValue:function(e,t,i,s){for(var r=0,n=0;n<i.length&&!(n>=e+t);n++){var o=i.substring(n,n+1),a=!isNaN(parseInt(o));(t>0&&n>=e&&a||n>=e&&i[n].toString()==s)&&r++}return r},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",n=this.GetValueString(i,t,s);return e>this.GetDigitsToSeparator(0,n,t)&&(r="after"),r},RemoveRange:function(e,t,i,s,r,n){var o=this.digits,a=e,l=t,d=0,h=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;var c=this.GetSeparatorPositionInText(s,i);r||(c=this.GetSeparatorPositionInText(s,i)),c<0&&!h&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=h?1:0;t<2&&1==n&&(this.ValueString.length-this.decimalDigits-u==o&&e+t<c&&l++);for(var p="",m=0;m<i.length;m++){if(m<a||m>=a+l)p+=i.substring(m,m+1);else if((f=i.substring(m,m+1))!=s){var f=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(f)>=0))if(m>c)p+="0";else{f=i.substring(m,m+1);!isNaN(parseInt(f))&&d++}}else p+=s}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var g=p.substring(0,1);g==s&&isNaN(parseInt(g))&&(p="0"+p);return this.ValueString=this.GetValueString(p,s,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),n=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),n=!0),(r&&n||r&&!n&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var o=this.numberInput.val().substring(s.start,s.start+1),a=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&this.decimalDigits>0;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var h=this.ValueString;this.decimalDigits>0&&t>=h.length&&(t=h.length-1);var c="";t<h.length&&(c=h.substring(t,t+1));var u=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,a,d)&&(u=!0);var p=d?1:0;c!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=d?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(u&&c!=l){if((x=h.substring(0,t)).length==h.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return;var f=e,g="";t+1<h.length&&(g=h.substring(t+1));var v=x+f+g;this.ValueString=v}else{var x;v=(x=h.substring(0,t))+(f=e)+(g=h.substring(t));"0"==h.substring(0,1)&&h.substring(1,2)==l&&(v=f+h.substring(1),c==l&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=v}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var w=s.start;w+=1,this._setSelectionStart(w),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s=this.GetSeparatorPositionInText(t,e),r=e.subString(0,s);return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,s=0;s<t.length;s++)if(t.substring(s,s+1)==e){i=s;break}return i},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var n=e.substring(r,r+1);!isNaN(parseInt(n))&&(s+=n),n==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var s=i.substring[(e.start,e.start+1)];isNaN(parseInt(s));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);t=this._selection(),i=this.numberInput.val()}var s=t.start,r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&s++;var n=0;this.symbol&&("left"==this.symbolPosition&&n--,this.negative&&n--),this.RemoveRange(t.start+n,r,this.ValueString,".",!1);var o=this.ValueString.substring(0,1);!isNaN(parseInt(o))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(t.start,i,s,""!=s),n=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,i){if(null==i&&(i="."),t.indexOf(i)<0)return t.length;for(var s=0;s<t.length;s++)if(t.substring(s,s+1)==i){e=s;break}return e},_handleSimpleKeyDown:function(t,i){var s,r=this._selection(),n=t.ctrlKey||t.metaKey;if((8==i||46==i)&&n)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var o=String.fromCharCode(i);27===i&&(this.setDecimal(this._savedValue),-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s),t.preventDefault());if(this.rtl&&37==i){var a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start+1-a,r.start+r.length+1):this._setSelection(r.start+1-a,r.start+1),!1}if(this.rtl&&39==i){var l;a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start-1,r.length+a+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i)return-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s+1),!1;if(188==i&&","===this.groupSeparator){var d=this.numberInput.val();for(u=r.start;u<d.length;u++)if(d[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}if((n=t.ctrlKey||t.metaKey)&&99==i||n&&67==i){r=this._selection();var h="",c=this.numberInput.val();if(r.start>0||r.length>0)for(var u=r.start;u<r.end;u++)h+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",h),e.jqx.browser.msie)window.clipboardData.setData("Text",h);else{var p=this,m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');m.val(h),e("body").append(m),m.select(),setTimeout(function(){document.designMode="off",m.select(),m.remove(),p.focus()},100)}return this.savedText=h,!0}if(n&&122==i||n&&90==i)return!1;if(n&&118==i||n&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;o=String.fromCharCode(i);var f=parseInt(o);if(i>=96&&i<=105&&(f=i-96,i-=48),!isNaN(f)){p=this;return this.insertsimple(f),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return!e.jqx.browser.mozilla||g},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(t){this.numberInput[0].focus();var i=String.fromCharCode(t),s=parseInt(i);if(!isNaN(s)){for(var r=0,n=0;n<this.items.length;n++)0==this.items[n].character.length&&r++;var o=this._selection(),a=this;if(o.start>=0&&o.start<=this.items.length){var l=!1,d=this._getFirstVisibleNonEmptyIndex();o.start<d&&0==o.length&&(isNaN(i)&&" "!=i||(this._setSelectionStart(d),o=this._selection()));this._getFirstEditableItemIndex();var h=this._getLastEditableItemIndex();null===this.value&&(h=0);var c=this._getVisibleItems();e.each(c,function(e,t){if(!(o.start>e&&e!=c.length-1)){var s=c[e];if(e>h&&(s=c[h]),!isNaN(i)&&" "!=i&&""!=i&&s&&s.canEdit){var n=a._getSeparatorPosition();if(a._match(i,s.regex)){if(!l&&o.length>0){for(var d=o.start+r;d<o.end+r;d++)a.items[d].canEdit&&(a.items[d].character=d>n?"0":a.promptChar);var u=a._getString();l=!0}n=a._getSeparatorPosition();var p=a._hasEmptyVisibleItems();if(null==a.decimal&&(o.start=n-1,o.start<0&&(o.start=0),o.end=o.start),o.start<=n&&p){var m=e;-1==a.decimalSeparatorPosition&&o.start==n&&(m=e+1),null==a.decimal&&(m=o.start);for(var f="",g=0;g<m;g++)c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character);f+=i;var v=a.decimal<1?1:0;o.start==n&&-1!=a.decimalSeparatorPosition&&(f+=a.decimalSeparator,v=0);for(g=m+v;g<c.length;g++)c[g].character==a.decimalSeparator&&c[g].isSeparator?f+=c[g].character:c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character);"."!=a.decimalSeparator&&(f=a._parseDecimalValue(f)),f=parseFloat(f).toString(),f=(f=new Number(f)).toFixed(a.decimalDigits),"."!=a.decimalSeparator&&(f=a._parseDecimalValueToEditorValue(f)),a.setvalue("decimal",f);u=a._getString();if(o.end<n?a._setSelectionStart(o.end+v):a._setSelectionStart(o.end),o.length>=1&&a._setSelectionStart(o.end),o.length==a.numberInput.val().length){var x=a._moveCaretToDecimalSeparator(),w=a.decimalSeparatorPosition>=0?1:0;a._setSelectionStart(x-w)}}else if(o.start<n||o.start>n){if(a.numberInput.val().length==o.start&&-1!=a.decimalSeparatorPosition)return!1;if(a.numberInput.val().length==o.start&&-1==a.decimalSeparatorPosition&&!p)return!1;f="";var y=!1;for(g=0;g<e;g++)c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character),c[g].character==a.decimalSeparator&&c[g].isSeparator&&(f+=c[g].character,y=!0);f+=i;v=a.decimal<1?1:0;y||o.start!=n-1||(f+=a.decimalSeparator,y=!0);for(g=e+1;g<c.length;g++)!y&&c[g].character==a.decimalSeparator&&c[g].isSeparator?f+=c[g].character:c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character);a.setvalue("decimal",f);u=a._getString();if(a.decimalSeparatorPosition<0&&s==c[h])return a._setSelectionStart(e),!1;var b=u.indexOf(a.symbol);if(b<=(a.getvalue("negative")?1:0)&&(b=u.length),o.start<b?a._setSelectionStart(e+1):a._setSelectionStart(e),o.length,o.length==a.numberInput.val().length){x=a._moveCaretToDecimalSeparator();a._setSelectionStart(x-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if(r&&97==i||r&&65==i)return!0;if(8==i)return s.start>0&&this._setSelectionStart(s.start),!1;if(46==i)return s.start<this.items.length&&this._setSelectionStart(s.start),!1;e.jqx.browser.mozilla||(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return e.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),s=this._getVisibleItems(),r=this._getHiddenPrefixCount();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var n=0;n<e.start;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.start;n<e.end;n++)n>i&&-1!=this.decimalSeparatorPosition?s[n].canEdit&&s[n].character!=this.promptChar&&(t+="0"):s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.end;n<s.length;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);e>0&&(e+=2);for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var t=this._selection(),i="",s=this._getVisibleItems();if(t.start>0||t.length>0)for(var r=t.start;r<t.end;r++)s[r].canEdit&&s[r].character!=this.promptChar?i+=s[r].character:s[r].isSeparator&&(i+=s[r].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",i),i},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var s=0;s<this.selectedText.length;s++){var r=parseInt(this.selectedText[s]);if(!isNaN(r)){var n=48+r;this._insertKey(n)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++;return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t];return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),s=this._getVisibleItems(),r=t.start,n=-1,o=0;o<r;o++)o<s.length&&s[o].canEdit&&(n=o+i);if(-1==n&&t.length>0)for(r=t.end,o=0;o<r;o++)if(o<s.length&&s[o].canEdit){n=o+i;break}return n},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(t>e&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t;return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;t>=0;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t;return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;e>=0;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?(this._setSelectionStart(e+1),e):(this._setSelectionStart(e),e);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(s>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var n=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;n&&(e=this._selection());this._deleteSelectedText();if(e.length<1||n?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if((8==i||46==i)&&r)return this.setDecimal(null),!1;if(this.rtl&&37==i){var n=(o=t.shiftKey)?1:0;return o?this._setSelection(s.start+1-n,s.start+s.length+1):this._setSelection(s.start+1-n,s.start+1),!1}if(this.rtl&&39==i){var o;n=(o=t.shiftKey)?1:0;return o?this._setSelection(s.start-1,s.length+n+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(r&&97==i||r&&65==i)return!0;if(r&&120==i||r&&88==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(r&&99==i||r&&67==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i)return this._pasteSelectedText(),!1;if(s.start>=0&&s.start<this.items.length){var a=String.fromCharCode(i);this.items[s.start]}if(8==i)return this._handleBackspace(),!1;if(190==i||110==i)return this._moveCaretToDecimalSeparator(),!1;if(188===i&&","===this.decimalSeparator)return this._moveCaretToDecimalSeparator(),!1;if(188==i&&","===this.groupSeparator){for(var l=this.numberInput.val(),d=s.start;d<l.length;d++)if(l[d]==this.groupSeparator){this._setSelectionStart(1+d);break}return!1}if(null==e.jqx.browser.msie){a=String.fromCharCode(i);var h=parseInt(a);if(i>=96&&i<=105&&(h=i-96,i-=48),!isNaN(h)){return this._insertKey(i),!1}}if(46==i){var c=this._getVisibleItems();if(s.start<c.length){n=0==c[s.start].canEdit?2:1;if(0==s.start)if(this.negative)if(this.setvalue("negative",!1),0==s.length&&this._setSelectionStart(0),0==(s=this._selection()).length)return!1;0==s.length&&this._setSelection(s.start+n,s.start+n+s.length),this._handleBackspace(),new Number(this.decimal)<1||s.start>this._getSeparatorPosition()?this._setSelectionStart(s.end+n):s.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(s.end+n)}return!1}if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;27===i&&(this.setDecimal(this._savedValue),this._setSelectionStart(s.end),t.preventDefault());var u=this._isSpecialKey(i);e.jqx.browser.mozilla&&(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return!e.jqx.browser.mozilla||u},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection&&(!e.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px");var o=window.getComputedStyle(this.element),a=2*parseInt(o.borderLeftWidth);("border-box"===o.boxSizing||isNaN(a))&&(a=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-a+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-a+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-a+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-a+"px");var l=this.host.width(),d=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(s)&&(s=1),isNaN(n)&&(n=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var h=this.numberInput.css("font-size");""==h&&(h=13),this.numberInput.css("height",parseInt(h)+4+"px"),this.numberInput.css("width",l-2);var c=d-2*r-parseInt(h)-2;(isNaN(c)&&(c=0),c<0&&(c=0),this.spinButtons&&this.spincontainer)&&(l-=parseInt(this.spinButtonsWidth-2),e.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),l-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",l-6),this.numberInput.css("margin-right","2px"));var u=c/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(u=c/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(u)+"px"),this.numberInput.css("padding-bottom",Math.round(u)+"px"),null!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode()),this._addBarAndLabel(this.numberInput),this._updateHint()},_addBarAndLabel:function(t){var i=this;if(null===i.bar&&null===i.label){var s=e("<label></label");this.hint&&(s[0].innerHTML=this.placeHolder),s.addClass(i.toThemeProperty("jqx-input-label")),t.after(s),i.label=s;var r=e("<span></span>");t.after(r),r.addClass(i.toThemeProperty("jqx-input-bar")),i.spinButtons?r.css("top",i.host.height()):r.css("top","0px"),i.bar=r,i.template&&(i.bar.addClass(i.toThemeProperty("jqx-"+i.template)),i.label.addClass(i.toThemeProperty("jqx-"+i.template)))}},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t=t.replace(this.decimalSeparator,"."),this.groupSeparator,"");for(var i="",s=0;s<t.length;s++){var r=t.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=(t=i).replace(/ /g,"")).replace(".",this.decimalSeparator),this._setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,s,r,n=e;if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;else if(-1!=(i=e.indexOf(this.decimalSeparator)))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;n<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e))}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val(""),this._updateHint()},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,this.value=null,void(this.ValueString="");-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var n=0;n<t.length;n++){if("number"==typeof e){if("."==t.substring(n,n+1)){r=!1;continue}}else if(t.substring(n,n+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(n,n+1):s+=t.substring(n,n+1)}i.length>0&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var a=0,l=this._getSeparatorPosition();for(n=l+=this._getHiddenPrefixCount();n>=0;n--)n<this.items.length&&this.items[n].canEdit&&a<i.length&&(this.items[n].character=i.substring(i.length-a-1,i.length-a),a++);a=0;for(n=l;n<this.items.length;n++)this.items[n].canEdit&&a<s.length&&(this.items[n].character=s.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(d>0){var h=e.toString().substring(0,d)+"."+e.toString().substring(d+1);this.ValueString=new Number(h).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid"),this._updateHint()},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==i||"groupSize"==i||"decimalDigits"==i)&&r<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==i&&(t.isMaterialized()?t.hint&&(t.label[0].innerHTML=t.placeHolder):t.numberInput.attr("placeholder",t.placeHolder)),"theme"===i&&e.jqx.utilities.setTheme(s,r,t.host),"digits"==i&&r!=s&&(t.digits=parseInt(r)),"min"!=i&&"max"!=i||(e.jqx.aria(t,"aria-value"+i,r.toString()),t._refreshValue()),"decimalDigits"==i&&r!=s&&(t.decimalDigits=parseInt(r)),"decimalSeparator"==i||"digits"==i||"symbol"==i||"symbolPosition"==i||"groupSize"==i||"groupSeparator"==i||"decimalDigits"==i||"negativeSymbol"==i){var n=t.decimal;if("decimalSeparator"==i&&""==r&&(r=" "),s!=r){var o=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(n)}}if("rtl"==i&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==i&&(t.spincontainer?(r?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===i&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==i&&"advanced"==t.inputMode){o=t._selection();var a=0;r?(t.items[0].character=t.negativeSymbol[0],a=1):(t.items[0].character="",a=-1),t._refreshValue(),t.isInitialized&&t._setSelection(o.start+a,o.end+a)}if("decimal"==i&&(t.value=r,t.setDecimal(r)),"value"===i&&(t.value=r,t.setDecimal(r),t._raiseEvent(1,r)),"textAlign"==i&&(t.textAlign=r,t._render()),"disabled"==i&&(t.numberInput.attr("disabled",r),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",r.toString())),"readOnly"==i&&(t.readOnly=r),"promptChar"==i){for(var l=0;l<t.items.length;l++)t.items[l].character==t.promptChar&&(t.items[l].character=r);t.promptChar=r}"width"==i?(t.width=r,t._render()):"height"==i&&(t.height=r,t._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPanel","",{}),e.extend(e.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return this===e.jqx._jqxPanel.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var t=this.host.children();this._rtl=!1,t.length>0&&"rtl"==t.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'></div><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div>");var i=this.host.find("#verticalScrollBar");i[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var s=this.host.find("#horizontalScrollBar");s[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;var r=this;this.propertyChangeMap.disabled=function(e,t,i,s){r.vScrollBar.jqxScrollBar({disabled:r.disabled}),r.hScrollBar.jqxScrollBar({disabled:r.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=r.content[0].scrollWidth,this.contentHeight=r.content[0].scrollHeight,this.autoUpdate&&r._autoUpdate(),this.propertyChangeMap.autoUpdate=function(e,t,i,s){r.autoUpdate?r._autoUpdate():(clearInterval(r.autoUpdateId),r.autoUpdateId=null)},this.addHandler(e(window),"unload",function(){null!=r.autoUpdateId&&(clearInterval(r.autoUpdateId),r.autoUpdateId=null,r.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this;1==this.touchMode&&e.jqx.mobile.setMobileSimulator(this.element),this.isTouchDevice()&&(e.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")&&null!=i){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if("hidden"!=t.hScrollBar.css("visibility")&&null!=e){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(t){null!=t&&(e(t).remove(),this._arrange())},_autoUpdate:function(){var e=this;this.autoUpdateId=setInterval(function(){var t=e.content[0].scrollWidth,i=e.content[0].scrollHeight,s=!1;e.contentWidth!=t&&(e.contentWidth=t,s=!0),e.contentHeight!=i&&(e.contentHeight=i,s=!0),s&&e._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(e){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(e){t.focused=!1}),this.addHandler(this.host,"focus",function(e){t.focused=!0}),this.addHandler(this.host,"blur",function(e){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(e){t.focused=!0}),e.jqx.utilities.resize(this.host,function(){e.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(e(window),"resize."+this.element.id)},wheel:function(t,i){var s=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(s=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?s=t.wheelDelta/120:t.detail&&(s=-t.detail/3),s){var r=i._handleDelta(s);return r||t.preventDefault&&t.preventDefault(),!r&&r}t.preventDefault&&t.preventDefault(),t.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max&&(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min&&(e.setPosition(e.min),!0)},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!1}return!0},_render:function(e){null==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){null!=e&&null!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),isNaN(t)?t="17px":t+="px"),this.isTouchDevice()&&(t=e.jqx.utilities.touchScrollBarSize),t=parseInt(t)},_getScrollArea:function(){var t=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(t=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var i=parseInt(this.content[0].scrollWidth);e.each(this.content.children(),function(){i=Math.max(i,this.scrollWidth),i=Math.max(i,e(this).outerWidth())}),e.jqx.browser.msie&&e.jqx.browser.version<10&&this.content.css("left",t);var s=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),e.jqx.browser.msie&&e.jqx.browser.version<9){s=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":s=parseInt(this.content[0].scrollHeight),i=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":s=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:i,height:s}},_arrange:function(t){!1!==t&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var i=this._getScrollSize(),s=this.host.width(),r=this.host.height(),n=this._getScrollArea(),o=n.width,a=n.height,l=a-parseInt(Math.round(this.host.height())),d=o-parseInt(Math.round(this.host.width()));null!=this.horizontalScrollBarMax&&(d=this.horizontalScrollBarMax),null!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);var h=function(e,t){t>5?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},c=function(t,s){s>0?e.jqx.browser.msie&&e.jqx.browser.version<8&&s-10<=i?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:s+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(o),this.host.height(a),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(o),this.hScrollBar.css("visibility","hidden"),h(this,l),void this._arrangeScrollbars(i,o,r);case"verticalWrap":case"verticalwrap":return this.host.height(a),this.vScrollBar.css("visibility","hidden"),c(this,d),void this._arrangeScrollbars(i,s,r)}h(this,l);"hidden"!=this.vScrollBar.css("visibility")&&null==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&d>0||d>0)&&(d+=i+2),c(this,d),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+i+2}),this._arrangeScrollbars(i,s,r)},_arrangeScrollbars:function(t,i,s){var r="hidden"!=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(this.hScrollBar.height(t),this.hScrollBar.css({top:s-t-2-2+"px",left:"0px"}),this.hScrollBar.width(i-2+"px"),this.vScrollBar.width(t),this.vScrollBar.height(parseInt(s)-2+"px"),this.vScrollBar.css({left:parseInt(i)-parseInt(t)-2-2+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var n=r?parseInt(t)+"px":0;if("rtl"!=this.content.children().css("direction")){var o=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(o=!0),o||this.content.css("padding-left",n)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+2+"px"})),this.hScrollBar.width(i-1*t-2-2+"px"),this.vScrollBar.height(parseInt(s)-2-t-2+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(e(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(t,i,s){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],n=new e.Event(r);return n.previousValue=i,n.currentValue=s,n.owner=this,this.host.trigger(n)}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,s){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:s}),this.hScrollBar.jqxScrollBar({rtl:s}),e._arrange()),e.updating||"scrollBarSize"!=t&&"width"!=t&&"height"!=t||i!=s&&e._arrange(),"touchMode"==t&&"auto"!=s&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){e.jqx.isHidden(this.host)||this.refresh()},refresh:function(e){this._arrange()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPasswordInput","",{}),e.extend(e.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,hint:!0,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===e.jqx._jqxPasswordInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e._inDOM=document.body.contains(e.element),e.render()},render:function(){var t=this,i=e.jqx.browser.browser,s=e.jqx.browser.version;this._browserCheck="msie"!=i||"7.0"!=s&&"8.0"!=s,this.widgetID=t.element.id;if("password"!=this.element.getAttribute("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";if(this.input=this.element,t.isMaterialized()){var r=e("<div></div>");r.addClass(t.toThemeProperty("jqx-input-group")),this.host.after(r);var n=this.element,o=this.host.data();r.append(n);var a=e("<label></label");this.hint&&(a[0].innerHTML=this.placeHolder),a.addClass(t.toThemeProperty("jqx-input-label")),r.append(a);var l=e("<span></span>");r.append(l),l.addClass(t.toThemeProperty("jqx-input-bar")),r[0].id=this.element.id,this.element.removeAttribute("id"),r[0].style.cssText=this.element.style.cssText,t.input=t.element,this.element.style.cssText="",this.bar=l,this.label=a,this.host=r,this.element=r[0],this.host.data(o),(t=this).template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)))}t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength(),e.jqx.utilities.resize(this.host,function(){if(!t._inDOM){var e=t.element.parentNode;return t.element.nextSibling?e.insertBefore(t.icon,t.element.nextSibling):e.appendChild(t.icon),void(t._inDOM=!0)}(t.element===document.activeElement||t.isMaterialized())&&(t._positionIcon(),t.showStrength&&t.host.jqxTooltip("close"))})},refresh:function(t){var i=this;t||(i.removeHandler(i.host,"change.passwordinput"+i.widgetID),i.removeHandler(i.host,"focus.passwordinput"+i.widgetID),i.removeHandler(i.host,"blur.passwordinput"+i.widgetID),i.removeHandler(i.host,"click.passwordinput"+i.widgetID),i.removeHandler(i.host,"keyup.passwordinput"+i.widgetID),i.removeHandler(i.icon,"mousedown.passwordinput"+i.widgetID),i.removeHandler(e(document),"mouseup.passwordinput"+i.widgetID),i.removeHandler(e(document),"mousedown.passwordinput"+i.widgetID),i._setAttributes(),i._setTheme(),i._showPassword(),i._showStrength())},val:function(t){var i=this,s=i.input.value,r="placeholder"in i.input;if(e.isEmptyObject(t)&&""!==t)return r||s!==i.placeHolder||(s=""),s;if(!r||t!==s){if(!r){if(""===t)return void(s!==i.placeHolder&&(i.input.value=i.placeHolder,i.input.setAttribute("type","text")));i.input.setAttribute("type","password")}i.input.value=t,r&&i.isMaterialized()&&i._refreshPlaceHolder(),!0===i.showStrength&&i._evaluateStrength()}},propertyChangedHandler:function(t,i,s,r){"theme"!==i?"disabled"!=i?"placeHolder"==i?this._browserCheck&&("placeholder"in this.element?t.element.setAttribute("placeholder",t.placeHolder):""===t.input.value?(t.input.setAttribute("type","text"),t.input.value=r):t.input.value==s&&(t.input.value=r)):this.refresh():t.disabled?(t.element.setAttribute("disabled","disabled"),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):e.jqx.utilities.setTheme(s,r,t.host)},resize:function(e,t){this.width=e,this.height=t,null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px")},_setAttributes:function(){var e=this,t=e.element;null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width),e.maxLength&&t.setAttribute("maxlength",e.maxLength),e.minLength&&t.setAttribute("minLength",e.minLength),e.placeHolder&&e._browserCheck&&("placeholder"in e.element?t.setAttribute("placeholder",e.placeHolder):""===t.value&&(t.setAttribute("type","text"),t.value=e.placeHolder)),e.disabled?(t.setAttribute("disabled","disabled"),t.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(t.removeAttribute("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));var i=!1;e.addHandler(t,"change.passwordinput"+e.widgetID,function(t){i||(t.preventDefault(),t.stopPropagation(),i=!0,e._raiseEvent(),i=!1),e._refreshPlaceHolder()}),e.addHandler(t,"click.passwordinput"+e.widgetID,function(){e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.interval=null,e.addHandler(t,"keydown.passwordinput"+e.widgetID,function(){if(e.changeType="keyboard",e.showPasswordIcon&&e.icon){e.interval&&clearInterval(e.interval);var t=0;e.interval=setInterval(function(){"none"!=e.icon.style.display?(e._positionIcon(),++t>5&&clearInterval(e.interval)):clearInterval(e.interval)},100)}}),e.addHandler(t,"focus.passwordinput"+e.widgetID,function(){(e._focused=!0,t.className+=" "+e.toThemeProperty("jqx-fill-state-focus"),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||t.value!=e.placeHolder||(t.value="",e._hidden&&t.setAttribute("type","password")),e.val().length>0)&&(e.showStrength&&e.host.jqxTooltip("content")&&e.host.jqxTooltip("open"));e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.addHandler(t,"blur.passwordinput"+e.widgetID,function(){e._focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.input||""!==t.value||(e.input.value=e.placeHolder,e.input.setAttribute("type","text")),e.showPasswordIcon&&e._browserCheck&&(!1===e.rtl?e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-ltr")):e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),e.showStrength&&e.host.jqxTooltip("close"),e.showPasswordIcon&&e.icon&&(e.icon.style.display="none")})},_refreshPlaceHolder:function(){var t=this;t.isMaterialized()||("placeholder"in this.input&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.input.setAttribute("placeHolder",t.placeHolder):""===t.input.value&&(t.input.value=t.placeHolder)),""!==t.input.value?t.element.setAttribute("hint",!0):t.element.removeAttribute("hint"),t.label&&(t.label.innerHTML=t.placeHolder)},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e=this,t="jqx-widget jqx-widget-content jqx-input jqx-input-widget jqx-rc-all";e.rtl?(t+=" jqx-rtl",e.element.style.direction="rtl"):(e.host.removeClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="ltr"),e.element.className+=" "+e.toThemeProperty(t)},_showPassword:function(){if(this.showPasswordIcon&&this._browserCheck){var t=this,i=document.createElement("span"),s=".passwordinput"+t.widgetID;i.setAttribute("tabindex",-1),i.setAttribute("hasfocus",!1),i.setAttribute("title",t.localization.showPasswordString),i.style.position="absolute",i.style.display="none",i.className=t.toThemeProperty("jqx-passwordinput-password-icon");var r=t.element.parentNode;r&&(t.element.nextSibling?r.insertBefore(i,t.element.nextSibling):r.appendChild(i)),t.icon=i,t._positionIcon();var n=function(){t.element.setAttribute("type","password"),t.input&&t.input.setAttribute("type","password"),t._hidden=!0},o=function(){!1===t._hidden?n():t._hidden&&(t.element.setAttribute("type","text"),t.input&&t.input.setAttribute("type","text"),t._hidden=!1)};e.jqx.mobile.isTouchDevice()?t.addHandler(t.icon,"mousedown"+s,function(){return o(),!1}):(t.addHandler(t.icon,"mousedown"+s,function(){return o(),!1}),t.addHandler(e(document),"mouseup"+s,function(){return n(),!1}),t.addHandler(e(document),"mousedown"+s,function(){t._focused&&n()}))}},_positionIcon:function(){var t=this.host.offset(),i=this.element.offsetWidth,s=this.element.offsetHeight,r=e(this.icon);this.rtl?r.offset({top:parseInt(t.top+s/2-5,10),left:t.left+2}):r.offset({top:parseInt(t.top+s/2-5,10),left:t.left+i-18})},_showStrength:function(){var e=this;if(e.showStrength){if(!e.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var t,i=e.widgetID+"Strength",s=i+"Value",r=i+"Indicator";if(e.strengthTypeRenderer){var n=e.input.value;"placeholder"in e.input||!e._browserCheck||n!=e.placeHolder||(n=""),e._countCharacters();var o=e.localization.tooShort;t=e.strengthTypeRenderer(n,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},o)}else t='<div style="width: 220px;"><div><span style="font-weight: bold;">'+e.localization.passwordStrengthString+': </span><span id="'+s+'"></span></div><div id="'+r+'"></div></div>';if(e.host.jqxTooltip({theme:e.theme,position:e.showStrengthPosition,content:t,trigger:"none",autoHide:!1,rtl:e.rtl}),!e.strengthTypeRenderer){var a=document.getElementById(r);document.getElementById(s).innerHTML=e.localization.tooShort,a.className+=" jqx-passwordinput-password-strength-inicator",a.style.backgroundColor=e.strengthColors.tooShort,!1===e.rtl?a.style.float="left":a.style.float="right"}e._checkStrength()}},_checkStrength:function(){var e=this;e.addHandler(e.host,"keyup.passwordinput"+e.widgetID,function(){e._evaluateStrength()})},_raiseEvent:function(){var t=new e.Event("change");return t.args={type:this.changeType},this.changeType=null,t.owner=this,this.host.trigger(t)},_evaluateStrength:function(){var t=this,i=t.input.value,s=i.length;(t._countCharacters(),s>0)&&(t.showStrength&&!t.host.jqxTooltip("opened")&&t.host.jqxTooltip("open"));var r,n,o=t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+s;if(r=s<8?t.localization.tooShort:o<20?t.localization.weak:o<30?t.localization.fair:o<40?t.localization.good:t.localization.strong,t.strengthTypeRenderer)n=t.strengthTypeRenderer(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},r),t.host.jqxTooltip({content:n});else{t.passwordStrength&&(n=t.passwordStrength(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},r),e.each(t.localization,function(){if(n==this)return r=n,!1})),document.getElementById(t.widgetID+"StrengthValue").innerHTML=r;var a,l,d=document.getElementById(t.widgetID+"StrengthIndicator");switch(r){case t.localization.tooShort:a="20%",l=t.strengthColors.tooShort;break;case t.localization.weak:a="40%",l=t.strengthColors.weak;break;case t.localization.fair:a="60%",l=t.strengthColors.fair;break;case t.localization.good:a="80%",l=t.strengthColors.good;break;case t.localization.strong:a="100%",l=t.strengthColors.strong}d.style.width=a,d.style.backgroundColor=l}},_countCharacters:function(){var e=this;e.letters=0,e.numbers=0,e.specials=0;for(var t=e.input.value,i=t.length,s=0;s<i;s++){var r=t.charAt(s),n=t.charCodeAt(s);n>64&&n<91||n>96&&n<123||n>127&&n<155||n>159&&n<166?e.letters+=1:!1!==isNaN(r)?-1=="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(r)||(e.specials+=1):e.numbers+=1}},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function($){$.jqx.jqxWidget("jqxPivotDesigner","",{}),$.extend($.jqx._jqxPivotDesigner.prototype,{defineInstance:function(){var e={type:"pivotGrid",target:null,dataFields:null};return $.extend(!0,this,e),e},_instanceId:0,createInstance:function(e){this.element;var t=this.host,i=this;this.target&&this.target.getInstance&&(this.target=this.target.getInstance());var s=[{widget:"jqxWindow",src:"jqxwindow.js"},{widget:"jqxButton",src:"jqxbuttons.js"},{widget:"jqxCheckBox",src:"jqxcheckbox.js"},{widget:"jqxInput",src:"jqxinput.js"},{widget:"jqxScrollBar",src:"jqxscrollbar.js"},{widget:"jqxListBox",src:"jqxlistbox.js"},{widget:"jqxDropDownList",src:"jqxdropdownlist.js"},{widget:"jqxDragDrop",src:"jqxdragdrop.js"}];for(var r in s)if(!window[s[r].widget])throw new Error("Please include "+s[r].src);this._isTouchDevice();var n="jqx-rc-all jqx-widget jqx-pivotgrid jqx-designer-host"+this.toThemeProperty("jqx-widget-content");t.append("<div class='"+n+"' style='width: 100%; height: 100%; overflow:hidden; onselectstart='return false;' oncontextmenu='return false;''><div class='labelFields jqx-widget' style='position: absolute;'>Pivot Table Fields</div><div class='labelFilters jqx-widget' style='position: absolute;'>Filters</div><div class='labelColumns jqx-widget' style='position: absolute;'>Columns</div><div class='labelRows jqx-widget' style='position: absolute;'>Rows</div><div class='labelValues jqx-widget' style='position: absolute;'>Values</div><div class='divFields' style='position: absolute;'></div><div class='divFilters' style='position: absolute;'></div><div class='divColumns' style='position: absolute;'></div><div class='divRows' style='position: absolute;'></div><div class='divValues' style='position: absolute;'></div></div>"),this._listBoxes={fields:i.host.find(".divFields"),rows:i.host.find(".divRows"),columns:i.host.find(".divColumns"),values:i.host.find(".divValues"),filters:i.host.find(".divFilters")},$.jqx.utilities.resize(i.host,function(){i._resize()},!1)},destroy:function(){$.jqx.utilities.resize(this.host,null,!0),this.target&&delete this.target._pivotDesigner},_getLocalizedString:function(e){var t=this.target?this.target._localizedStrings:{};switch(e){case"fields":return t.fieldslabel||"Pivot Fields";case"calculation":return t.calculation||"Calculation";case"filters":return t.filterslabel||"Filters";case"rows":return t.rowslabel||"Rows";case"columns":return t.columnslabel||"Columns";case"values":return t.valueslabel||"Values";case"of":return t.of||"of";case"to":return t.to||"to";case"move":return t.move||"Move";case"remove":return t.remove||"Remove";case"count":return t.count||"Count";case"sum":return t.sum||"Sum";case"average":return t.avgerage||"Average";case"product":return t.product||"Product";case"min":return t.min||"Min";case"max":return t.max||"Max"}return t[e]?t[e]:e},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=$.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if($.jqx.browser.msie&&$.jqx.browser.version<9)return this.enablehover=!1,!1;e=!0,$.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},_resize:function(){var e=this._listBoxes,t=this.host,i=t.height()-10,s=t.width()-10,r=$("<span style='white-space:nowrap;'></span>");this.host.append(r);for(var n=0,o=["fields","filters","rows","columns","values"],a=0;a<o.length;a++){r.text(this._getLocalizedString(o[a]));var l=r.height();l>n&&(n=l)}r.remove();var d=this.host.position(),h=d.left+5,c=d.top+5;c+=5,t.find(".labelFields").css({left:h,top:c,width:s-10,height:n}),c+=n;var u=(i-3*(n+10))/3,p=(s-5)/2;e.fields.css({left:h,top:c,background:"white"}),e.fields.jqxListBox({width:s,height:u,allowDrop:!0,allowDrag:!0}),c+=u+10,t.find(".labelFilters").css({left:h,top:c,width:p,height:n}),t.find(".labelColumns").css({left:h+p+5,top:c,width:p,height:n}),c+=n,e.filters.css({left:h,top:c}),e.filters.jqxListBox({width:p,height:u}),e.columns.css({left:h+p+5,top:c}),e.columns.jqxListBox({width:p,height:u}),c+=u+10,t.find(".labelRows").css({left:h,top:c,width:p,height:n}),t.find(".labelValues").css({left:h+p+5,top:c,width:p,height:n}),c+=n,t.find(".divRows").css({left:h,top:c}),t.find(".divRows").jqxListBox({width:p,height:u}),t.find(".divValues").css({left:h+p+5,top:c}),t.find(".divValues").jqxListBox({width:p,height:u})},_setupListBoxes:function(){var e=this,t=(e.host,e._listBoxes);for(var i in t){var s=t[i];s.off(),s.jqxListBox({allowDrag:!0,allowDrop:!0,renderer:function(t,i,s){return e._getCustomRendererElement(i,e._listBoxes.fields[0]!=this.host[0])}}).on("dragStart",function(e){t.rows.jqxListBox({dropAction:"copy"}),t.columns.jqxListBox({dropAction:"copy"}),t.filters.jqxListBox({dropAction:"copy"}),t.values.jqxListBox({dropAction:"copy"}),t.fields.jqxListBox({dropAction:"copy"})}).on("dragEnd",function(t){e._moveElement($(this),t.args.dropTargetElement,t.args.index,t.args.value)})}},_moveElement:function(e,t,i,s){var r=this._listBoxes;if(t){if(e[0]!=r.fields[0]&&e.jqxListBox("removeAt",i),t==r.fields[0])r.fields.jqxListBox("clear"),this._populateListBox(r.fields,this._allFields,"all");else{if(e[0]==r.fields[0]&&t==r.values[0]||(r.rows[0]!=t&&this._removeItem(r.rows,s),r.columns[0]!=t&&this._removeItem(r.columns,s)),t==r.values[0]){for(var n=r.values.jqxListBox("getItems"),o=0;o<n.length;o++)r.values.jqxListBox("updateAt",{label:n[o].label,value:$.extend({},n[o].value)},o);this._autoAssignAggregationFunctions()}this._removeDuplicates(r.rows),this._removeDuplicates(r.columns),this._removeDuplicates(r.filters)}this._updateCurrentSettings(),this._updateListBoxLabels();var a=$(t).jqxListBox("width");$(t).jqxListBox("width",a+1),$(t).jqxListBox("width",a-1);a=e.jqxListBox("width");e.jqxListBox("width",a+1),e.jqxListBox("width",a-1),this._updateListBoxLabels(),this._refreshPivotGrid(this._targetCurrentSettings)}},refresh:function(){this.target&&(this.target._pivotDesigner=this),this._readPivotSettings(),this._setupListBoxes(),this._resize(),this._updateListBoxLabels()},_updateCurrentSettings:function(){var e=this._listBoxes,t=$.extend({},this._targetCurrentSettings),i={},s=["rows","columns","values","filters"];for(var r in s){if(o=t[s[r]])for(var n=0;n<o.length;n++){i[c=o[n].dataField+"_"+(o[n].function||"")]=$.extend({},o[n]),delete i[c].dataField,delete i[c].text}}for(var r in t=$.extend({},this._targetInitSettings),s){if(o=t[s[r]])for(n=0;n<o.length;n++){i[c=o[n].dataField+"_"+(o[n].function||"")]=$.extend(i[c]||{},o[n]),delete i[c].dataField,delete i[c].text}}for(var r in e){var o=e[r].jqxListBox("getItems");t[r]=[];for(n=0;n<o.length;n++){var a=o[n].value.dataField,l=o[n].value.text,d="values"==r?o[n].value.function:void 0,h={dataField:a,text:l||a};d&&(h.function=d),h.text=this._getFieldLabel(d,a);var c,u=i[c=h.dataField+"_"+(d||"")];u&&$.extend(h,u),t[r].push(h)}}this._targetCurrentSettings=t},_refreshPivotGrid:function(e){var t=new $.jqx.pivot(this.target.source.dataAdapter,e);$(this.target.element).jqxPivotGrid({source:t});var i=$(this.target.element).jqxPivotGrid("getInstance");i._pivotRows.autoResize(),i._pivotColumns.autoResize(),i.refresh(),this._targetCurrentSettings=e},_autoAssignAggregationFunctions:function(){for(var e=this.host.find(".divValues").jqxListBox("getItems"),t={},i=0;i<e.length;i++)e[i].value.function&&(t[e[i].value.dataField]||(t[e[i].value.dataField]={}),t[e[i].value.dataField][e[i].value.function]=!0);var s=this.target.source.getFunctions();for(i=0;i<e.length;i++){var r=!1;if(!e[i].value.function){for(var n in t[e[i].value.dataField]||(t[e[i].value.dataField]={}),s)if(!t[e[i].value.dataField][n]){t[e[i].value.dataField][n]=!0,e[i].value.function=n,r=!0;break}if(!r)for(var n in s){e[i].value.function=n;break}}}},_updateListBoxLabels:function(){var e=this;e.host.find(".pivot-designer-item-button").off();var t=e._listBoxes;for(var i in t){var s=t[i],r=s.jqxListBox("getItems");if(r)for(var n=0;n<r.length;n++){var o=void 0;if("values"==i&&!(o=r[n].value.function))throw"Unspecified pivot aggregation function";r[n].label=e._getFieldLabel(o,r[n].value.dataField),s.jqxListBox("updateAt",{label:r[n].label,value:r[n].value},n)}}e.host.find(".pivot-designer-item-button").off(),e.host.find(".pivot-designer-item-button").on("click",function(i){for(var s in t)for(var r=t[s].jqxListBox("getItems"),n=0;n<r.length;n++){var o=$(r[n].element).find(".pivot-designer-item-button");if(o.length>0&&o[0]==this)return void e._showDesignerItemContextMenu(s,n)}})},_showDesignerItemContextMenu:function(e,t){if(!this._isWindowOpen()){var i=this._listBoxes,s={moveOperations:{}};for(var r in i)r!=e&&(s.moveOperations[this._getLocalizedString("move")+" "+this._getLocalizedString("to")+" "+this._getLocalizedString(r)]={dropTarget:r});if("values"==e){var n=this.target.source.getFunctions(),o={};for(var r in n)o[this._getLocalizedString(r)]={function:r};s.functions=o}this._windowData={type:e,itemIndex:t,fieldSettings:s},"filters"==e?(this._filtersWindow||this._createFiltersWindow(),this._filtersWindow.jqxWindow("open"),this._updateFiltersWindowData()):(this._settingsWindow||this._createSettingsWindow(),this._settingsWindow.jqxWindow("open"),this._updateWindowData())}},_isWindowOpen:function(){return this._settingsWindow&&this._settingsWindow.jqxWindow("isOpen")||this._filtersWindow&&this._filtersWindow.jqxWindow("isOpen")},_getFieldLabel:function(e,t){if(e)return this._getValueFieldLabel(e,t);var i=this._targetInitSettings;for(var s in i)if("values"!=s){var r=i[s];for(var n in r)if(r[n].dataField==t&&r[n].text)return r[n].text}return t},_getValueFieldLabel:function(e,t){var i=this._getLocalizedString(e)||e,s=void 0,r=this._targetInitSettings;if(r.values)for(var n in r.values)if(r.values[n].dataField==t&&r.values[n].function==e&&null!=(s=r.values[n].text))break;return s||i+" "+this._getLocalizedString("of")+" "+t},_removeItem:function(e,t){for(var i=e.jqxListBox("getItems"),s=0,r=0;r<i.length;r++){e.jqxListBox("getItem",r).value.dataField==t.dataField&&(e.jqxListBox("removeAt",r-s),s++)}},_getCustomRendererElement:function(e,t){return t?"<div><div style='width: 16px;height: 16px; float:left; margin-top: 1px;' class='pivot-designer-item-button jqx-pivotgrid-settings-icon'></div><div>"+e+"</div></div>":"<div><div style='height: 16px; float:left; margin-top: 2px;'></div><div>"+e+"</div></div>"},_readPivotSettings:function(){if(this.target){var e=this.target.source;if(e){var t=e.dataAdapter;if(t){var i=t._source;if(i){this._targetCurrentSettings=$.extend({},this.target.source._initSettings),this._targetInitSettings=$.extend({},this.target.source._initSettings);var s={},r={dataFields:this.dataFields,adapterDataFields:i.datafields,rows:this.target.source.rows,columns:this.target.source.columns,values:this.target.source.values,filters:this.target.source.filters};Array.isArray(r.dataFields)?o(r.dataFields,s):o(r.adapterDataFields,s),o(r.filters,s,"filters"),o(r.rows,s,"rows"),o(r.columns,s,"columns"),o(r.values,s,"values"),this._allFields=s;this.host;var n=this._listBoxes;this._populateListBox(n.fields,s,"all"),this._populateListBox(n.filters,r.filters,"filters"),this._populateListBox(n.rows,r.rows,"rows"),this._populateListBox(n.columns,r.columns,"columns"),this._populateListBox(n.values,r.values,"values")}}}}function o(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++){var r=e[s].name||e[s].dataField;r&&0!=r.length&&(t[r]||(t[r]={text:r,dataField:r}),null!=e[s].text&&"values"!=i&&(t[r].text=e[s].text),t[r].function=e[s].function)}}},_populateListBox:function(e,t,i){var s=[],r=0;for(var n in t){var o=t[n].dataField,a=t[n].text||this._allFields[o].text||o;s[r]={text:a,value:{text:a,dataField:o,function:t[n].function||void 0}},"values"!=i&&(s[r].value.function=void 0),r++}e.jqxListBox({source:s,displayMember:"text",valueMember:"value"})},_removeDuplicates:function(e){for(var t=e.jqxListBox("getItems"),i={},s=0;s<t.length;s++){var r=t[s].label;null!=i[r]?(e.jqxListBox("removeAt",s),t.splice(s,1),s--):i[r]=!0}},_createSettingsWindow:function(){var e=this,t="<div id='pivotFieldSettingsWindow' style='width: 300px; height: 200px'><table style='width: 100%;'><tr><td style='height: 30px;'>"+e._getLocalizedString("move")+" "+e._getLocalizedString("to")+"</td><td><div style='width: 100%;' class='lbPivotFieldMoveTo'></div></td></tr><tr><td style='height: 30px;'>"+e._getLocalizedString("alignment")+"</td><td><div style='width: 100%;' class='lbAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("calculation")+"</td><td><div style='width: 100%;' class='lbCalculation'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("numberformat")+"</td><td></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("cellalignment")+"</td><td><div style='width: 100%;' class='lbCellsAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("prefix")+"</td><td><input type='text' style='width: 100%;' class='txtPrefix'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("decimalplacestext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalPlaces'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("thousandsseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtThousandsSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("decimalseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+e._getLocalizedString("nagativebracketstext")+"</td><td><div style='width: 100%;' class='checkBoxNagativeWithBrackets'></input></td></tr><tr><td style='height: 30px;' colspan=2 align=middle><input class='btnOk' type='button' value='"+e._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+e._getLocalizedString("cancel")+"'></input></td></tr></table>";e.host.append(t);e._settingsWindow=e.host.find("#pivotFieldSettingsWindow").jqxWindow({title:e._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:380,maxWidth:380,width:380,height:360,initContent:function(){e._updateWindowData();var t=e._settingsWindow.find(".btnCancel").jqxButton({width:80}),i=e._settingsWindow.find(".btnOk").jqxButton({width:80});t.on("click",function(){e._settingsWindow.jqxWindow("close")}),i.on("click",function(){e._applySettingsWindowChanges(),e._settingsWindow.jqxWindow("close")})}})},_applySettingsWindowChanges:function(){var e=this._windowData.itemIndex,t=this._windowData.type,i=this._listBoxes[t],s=i.jqxListBox("getItem",e),r=this._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList("selectedIndex");if(-1!=r){var n=void 0;for(var o in this._windowData.fieldSettings.moveOperations)if(n=this._windowData.fieldSettings.moveOperations[o].dropTarget,-1==--r)break;var a=this._listBoxes[n],l=s.value;return a!=this._listBoxes.fields&&a.jqxListBox("addItem",{label:s.label,value:l}),void this._moveElement(i,a[0],e,l)}var d=this._settingsWindow.find(".lbAlignment").jqxDropDownList("getSelectedItem");if(this._targetCurrentSettings[t][e].align=d.value,delete this._targetCurrentSettings[t][e].function,"values"==t){d=this._settingsWindow.find(".lbCalculation").jqxDropDownList("getSelectedItem");this._targetCurrentSettings[t][e].text=s.value.text=s.label=this._getFieldLabel(d.value,s.value.dataField),this._targetCurrentSettings[t][e].function=s.value.function=d.value,i.jqxListBox("updateAt",{label:s.value.text,value:s.value},e),this._updateListBoxLabels()}if("values"==t){d=this._settingsWindow.find(".lbCellsAlignment").jqxDropDownList("getSelectedItem");(m=this._targetCurrentSettings[t][e].formatSettings||{}).align=d.value,this._targetCurrentSettings[t][e].formatSettings=m}if("values"==t){var h=this._settingsWindow.find(".txtPrefix");(m=this._targetCurrentSettings[t][e].formatSettings||{}).prefix=h.val(),this._targetCurrentSettings[t][e].formatSettings=m}if("values"==t){var c=this._settingsWindow.find(".txtDecimalPlaces");(m=this._targetCurrentSettings[t][e].formatSettings||{}).decimalPlaces=c.val(),this._targetCurrentSettings[t][e].formatSettings=m}if("values"==t){var u=this._settingsWindow.find(".txtThousandsSeparator");(m=this._targetCurrentSettings[t][e].formatSettings||{}).thousandsSeparator=u.val(),this._targetCurrentSettings[t][e].formatSettings=m}if("values"==t){var p=this._settingsWindow.find(".txtDecimalSeparator");(m=this._targetCurrentSettings[t][e].formatSettings||{}).decimalSeparator=p.val(),this._targetCurrentSettings[t][e].formatSettings=m}if("values"==t){var m,f=this._settingsWindow.find(".checkBoxNagativeWithBrackets");(m=this._targetCurrentSettings[t][e].formatSettings||{}).negativeWithBrackets=f.val(),this._targetCurrentSettings[t][e].formatSettings=m}this._refreshPivotGrid(this._targetCurrentSettings)},_updateWindowData:function(){for(var e=this._windowData.fieldSettings,t=this._listBoxes[this._windowData.type].jqxListBox("getItem",this._windowData.itemIndex).value,i=this.target.source[this._windowData.type],s=void 0,r=0;r<i.length;r++)if(i[r].dataField==t.dataField&&i[r].function==t.function){s=i[r];break}var n=[];for(var r in e.moveOperations)n.push({text:r,value:e.moveOperations[r]});this._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList({source:n,displayMember:"text",selectedIndex:-1,valueMember:"value",autoDropDownHeight:!0});var o=n=[{text:this._getLocalizedString("left"),value:"left"},{text:this._getLocalizedString("center"),value:"center"},{text:this._getLocalizedString("right"),value:"right"}],a=0;if(s)for(var l=0;l<n.length;l++)if(n[l].value==s.align){a=l;break}this._settingsWindow.find(".lbAlignment").jqxDropDownList({source:n,selectedIndex:a,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var d=390;if(e.functions){var h=t.function;this._settingsWindow.find(".valueField").show(),n=[],a=-1;var c=0;for(var r in e.functions){var u=e.functions[r].function;n.push({text:r,value:u}),h==u&&(a=c),c++}this._settingsWindow.find(".lbCalculation").jqxDropDownList({source:n,displayMember:"text",valueMember:"value",autoDropDownHeight:!0,selectedIndex:a}),n=o;a=2;var p="right";if(s){s.formatSettings&&s.formatSettings.align&&(p=s.formatSettings.align);for(l=0;l<n.length;l++)if(n[l].value==p){a=l;break}}this._settingsWindow.find(".lbCellsAlignment").jqxDropDownList({source:n,selectedIndex:a,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var m="";s&&s.formatSettings&&null!=s.formatSettings.prefix&&(m=s.formatSettings.prefix),this._settingsWindow.find(".txtPrefix").jqxInput({value:m,height:23,width:195});var f=2;try{s&&s.formatSettings&&null!=s.formatSettings.decimalPlaces&&(f=parseInt(s.formatSettings.decimalPlaces))}catch(e){f=2}this._settingsWindow.find(".txtDecimalPlaces").jqxInput({value:f,height:23,width:195});var g=this._getLocalizedString("thousandsseparator");s&&s.formatSettings&&null!=s.formatSettings.thousandsSeparator&&(g=s.formatSettings.thousandsSeparator),this._settingsWindow.find(".txtThousandsSeparator").jqxInput({value:g,height:23,width:195});var v=this._getLocalizedString("decimalseparator");s&&s.formatSettings&&null!=s.formatSettings.decimalSeparator&&(v=s.formatSettings.decimalSeparator),this._settingsWindow.find(".txtDecimalSeparator").jqxInput({value:v,height:23,width:195});var x=!1;s&&s.formatSettings&&null!=s.formatSettings.negativeWithBrackets&&(x=1==s.formatSettings.negativeWithBrackets),this._settingsWindow.find(".checkBoxNagativeWithBrackets").jqxCheckBox({checked:x})}else d=160,this._settingsWindow.find(".valueField").hide();this._settingsWindow.jqxWindow({height:d})},_createFiltersWindow:function(){var e=this,t="<div id='pivotFieldFiltersWindow' style='width: 300px; height: 340px;'><div style='padding: 5; margin: 5; width: 100%; height: 100%;'><table style='width: 100%; height: 100%; margin:0; padding:0;' cellspacing=0; cellpadding=0><tr style='height: auto;'><td style='height: 100%;'><div style='padding: 0px; margin: 0px; display:inline-block;position:relative;' class='listBoxFilters'></div></td></tr><tr style='height: 5px;'><td></td></tr><tr style='height: 30px;'><td colspan=2 align=middle><input class='btnOk' type='button' value='"+e._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+e._getLocalizedString("cancel")+"'></input></td></tr></div></table>";e.host.append(t);e._filtersWindow=e.host.find("#pivotFieldFiltersWindow").jqxWindow({title:e._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:300,maxWidth:300,width:300,height:360,initContent:function(){e._updateFiltersWindowData();var t=e._filtersWindow.find(".btnCancel").jqxButton({width:80}),i=e._filtersWindow.find(".btnOk").jqxButton({width:80});t.on("click",function(){e._filtersWindow.jqxWindow("close")}),i.on("click",function(){e._applyFiltersWindowChanges(),e._filtersWindow.jqxWindow("close")})}})},_updateFiltersWindowData:function(){for(var e=this._windowData.fieldSettings,t=this._listBoxes[this._windowData.type].jqxListBox("getItem",this._windowData.itemIndex).value,i=this.target.source[this._windowData.type],s=void 0,r=0;r<i.length;r++)if(i[r].dataField==t.dataField&&i[r].function==t.function){s=i[r];break}var n=[];for(var r in e.moveOperations)n.push({text:r,value:e.moveOperations[r]});n=[];var o=this.target.source.getItemsFilterStatus(s.dataField);for(var r in o)n.push({label:r,value:o[r]});var a=this._filtersWindow.find(".listBoxFilters");a.jqxListBox({source:n,checkBoxes:!0,displayMember:"label",selectedIndex:-1,valueMember:"value",width:"100%",height:"100%"}),a.jqxListBox("beginUpdate"),a.jqxListBox("checkAll");for(r=0;r<n.length;r++)n[r].value&&a.jqxListBox("uncheckIndex",r);a.jqxListBox("endUpdate")},_applyFiltersWindowChanges:function(){for(var self=this,lbFilters=self._filtersWindow.find(".listBoxFilters"),items=lbFilters.jqxListBox("getItems"),uncheckedItems=[],i=0;i<items.length;i++)items[i].checked||uncheckedItems.push(items[i].label);for(var fn="filterFunction = function(value) {",i=0;i<uncheckedItems.length;i++)fn+="if (value == '"+uncheckedItems[i]+"') return true;";fn+="return false;",fn+="}";for(var itemIndex=self._windowData.itemIndex,itemType=self._windowData.type,source=self._listBoxes[itemType],item=source.jqxListBox("getItem",itemIndex),targetCurrentSettings=self._targetCurrentSettings,i=0;i<targetCurrentSettings.filters.length;i++)targetCurrentSettings.filters[i].dataField==item.value.dataField&&(targetCurrentSettings.filters[i].filterFunction=eval(fn));self._refreshPivotGrid(self._targetCurrentSettings)}})}(jqxBaseFramework),function(e){e.jqx.pivot=function(t,i){var s=this;s.dataAdapter=t,s.rows=[],s.columns=[],s.values=[],s.filters=[],s.pivotValuesOnRows=!1,s.totals={rows:{subtotals:!1,grandtotals:!1},columns:{subtotals:!1,grandtotals:!1}},s.localization=null,s.aggregationFunctions={},s._initSettings={},e.extend(s.aggregationFunctions,s._defaultFunctions),i&&(s._initSettings=i,s.columns=i.columns||[],s.rows=i.rows||[],s.values=i.values||[],s.filters=i.filters||[],s.pivotValuesOnRows=i.pivotValuesOnRows||!1,s.totals=i.totals,s.localization=i.localization,e.extend(s.aggregationFunctions,i.customAggregationFunctions||{})),0===s.rows.length&&s.columns.length>0&&!1===s.pivotValuesOnRows&&(s.pivotValuesOnRows=!0),0===s.columns.length&&s.rows.length>0&&!1!==s.pivotValuesOnRows&&(s.pivotValuesOnRows=!1)},e.jqx.pivot.prototype={_clear:function(){this._pivot={rows:[],columns:[],values:[],groups:[],filters:[]},this._rowsHierarchy={items:{},valueItems:{}},this._columnsHierarchy={items:{},valueItems:{}},this._hashPivotItemsToTableRows={},this._hashRefItems={},this._hierarchyItemKeyIndex=0},_contains:function(e,t,i){if(!e)return!1;for(var s=0;s<e.length;s++)if(i?e[s]===t:e[s].dataField===t)return!0;return!1},_getFieldIndex:function(e,t){if(!e)return-1;for(var i=0;i<e.length&&e[i].name!==t;i++);return i===e.length?-1:i},dataBind:function(){if(this._clear(),this.dataAdapter){this.dataAdapter.dataBind();var e=["columns","rows","values","filters"];for(var t in e)for(var i=e[t],s=0;s<this[i].length;s++){var r=this[i][s];if(r){var n=!1;if("values"!==i&&"filters"!==i){for(var o in e){var a=e[o];if(i===a&&(n=this._contains(this._pivot[a],r.dataField)))break}if(n)continue}this._pivot[i].push(r)}}this._createPivot()}},_isRowSkipped:function(t){for(var i in this.filters){var s=this.filters[i];if(e.isFunction(s.filterFunction)&&(s.dataField&&void 0!==t[s.dataField]&&s.filterFunction(t[s.dataField])))return!0}return!1},getItemsFilterStatus:function(t){for(var i={},s=this.dataAdapter.records,r=0;r<s.length;r++){var n=s[r][t];if(!i[n])for(var o in this.filters){var a=this.filters[o];if(a.dataField===t){var l=e.isFunction(a.filterFunction)&&a.filterFunction(n);i[n]=l}}}return i},_createPivot:function(){if(this._pivot.values.length>0&&(this._pivot.rows.length>0||this._pivot.columns.length>0)){var e={},t={};this.hashSummaryPrefixes={};for(var i=this.dataAdapter.records,s=0;s<i.length;s++){var r=i[s];if(!this._isRowSkipped(r)){var n=this.dataAdapter._source.datafields;this._appendPivotHierarchy(s,e,this._rowsHierarchy,n,this._pivot.rows,this.pivotValuesOnRows?this._pivot.values:null),this._appendPivotHierarchy(s,t,this._columnsHierarchy,n,this._pivot.columns,this.pivotValuesOnRows?null:this._pivot.values)}}this._setupTotals(this._columnsHierarchy),this._setupTotals(this._rowsHierarchy)}},_setupTotals:function(e){if(this.totals){var t=e===this._columnsHierarchy?this.totals.columns:this.totals.rows;!t||!0!==t.subtotals&&!0!==t.grandtotals||(this._addTotals(e.items,!1,t),e===this._columnsHierarchy==!this.pivotValuesOnRows&&this._addvalueItemsToTotals(e.items))}},_addvalueItemsToTotals:function(e){for(var t in e){var i=e[t];if(i.isTotal){if(!this._hashRefItems[i.key])continue;var s=this._hashRefItems[i.key].refItems,r=[];for(t=0;t<s.length;t++){for(var n=this._hashPivotItemsToTableRows[s[t].key],o=0;o<n.length;o++)r.push(n[o]);if(0===t)for(var a in i.valueItems={},s[t].valueItems){var l=s[t].valueItems[a],d={text:l.text,boundField:l.boundField,isTotal:!0,key:this._hierarchyItemKeyIndex++};i.valueItems[a]=d}}for(var a in r.sort(function(e,t){return e-t}),i.valueItems)this._hashPivotItemsToTableRows[i.valueItems[a].key]=r;delete this._hashRefItems[i.key]}else this._addvalueItemsToTotals(i.items)}},_clearTotals:function(e){for(var t in e){var i=e[t];i.isTotal?delete e[i]:this._clearTotals(e[t].items)}},_addTotals:function(t,i,s){if(void 0!==t){this._clearTotals(t);var r=[],n=0;for(var o in t){var a=t[o];!0===s.subtotals&&this._addTotals(a.items,!0,s),r.push(a),n++}if(0!==n&&(i||1==s.grandtotals)){var l="_"+(i?"SubTotal":"Total")+"_",d=i?"SubTotal":"Total",h=this.localization;h&&(d=i?e.jqx.getByPriority([h.subtotalstring,h.SubTotalString,d]):e.jqx.getByPriority([h.grandtotalstring,h.GrandTotalString,d]));var c=this._hierarchyItemKeyIndex++,u=t[l]={text:d,key:c},p=[];for(o=0;o<r.length;o++)for(var m=0;m<this._hashPivotItemsToTableRows[r[o].key].length;m++)p.push(this._hashPivotItemsToTableRows[r[o].key][m]);this._hashRefItems[c]={item:u,refItems:r},this._hashPivotItemsToTableRows[c]=p.sort(function(e,t){return e-t}),u.isTotal=!0}}},_appendPivotHierarchy:function(e,t,i,s,r,n){var o=[],a="",l=this.dataAdapter.records[e];if(!this._getBoundFieldsValues(l,r,o))return!1;a.substring(0,a.length);var d=null;if(0==o.length&&null!=n)return this._attachValueFieldAsSummaryItem(e,t,d,a,n),!0;for(var h=0;h<o.length;h++){a+="!_$%^&_";var c=o[h];t[a+=c]?d=t[a]:(null==d?d=i.items[c]={text:c}:(this._addSourceRecordToPivotItem(d.key,e),d.items||(d.items={}),d=d.items[c]={text:c}),this._applyBoundFieldProperties(r[h],d),t[a]=d,d.key=this._hierarchyItemKeyIndex++),null==n||0==n.length?this._addSourceRecordToPivotItem(d.key,e):(this._addSourceRecordToPivotItem(d.key,e),null!=n&&this._attachValueFieldAsSummaryItem(e,t,d,a,n))}return!0},_attachValueFieldAsSummaryItem:function(e,t,i,s,r){for(var n=0;n<r.length;n++){var o=r[n],a=null,l=s+o.dataField+n;if(t[l])a=t[l];else{if(null!=i)i.valueItems||(i.valueItems={}),a=i.valueItems[o.dataField+n]={text:o.text||o.dataField};else a=(this.pivotValuesOnRows?this._rowsHierarchy:this._columnsHierarchy).valueItems[o.dataField+n]={text:o.text||o.dataField};t[l]=a,a.key=this._hierarchyItemKeyIndex++}this._applyBoundFieldProperties(o,a),this._addSourceRecordToPivotItem(a.key,e)}},_applyBoundFieldProperties:function(e,t){t.boundField=e,e.text&&(t.boundFieldText=e.text)},_addSourceRecordToPivotItem:function(e,t){var i=null;(i=this._hashPivotItemsToTableRows[e]?this._hashPivotItemsToTableRows[e]:this._hashPivotItemsToTableRows[e]=[]).length>0&&i[i.length-1]==t||i.push(t)},_sortedArrayIntersectAndDedup:function(e,t){for(var i=[],s=0,r=0;s<e.length&&r<t.length;)e[s]<t[r]?s++:e[s]>t[r]?r++:(0!=i.length&&i[i.length-1]==e[s]||i.push(e[s]),s++,r++);return i},_getBoundFieldValue:function(e,t){return null==t?null:e[t]},_getBoundFieldsValues:function(e,t,i){for(var s=0;s<t.length;s++){var r=e[t[s].dataField];void 0!==r&&i.push(r)}return!0},_internalDrillThroughPivotCell:function(e,t,i){var s=this._hashPivotItemsToTableRows[e]||[],r=this._hashPivotItemsToTableRows[t]||[];return 0==s.length||0==r.length?[]:this._sortedArrayIntersectAndDedup(s,r)},drillThroughPivotCell:function(e,t){if(!e||void 0===e.key||!t||void 0===t.key)return[];var i=e.isTotal||t.isTotal;return this._internalDrillThroughPivotCell(e.key,t.key,i)},getFunctions:function(){return this.aggregationFunctions},_defaultFunctions:{count:function(e){return e.length},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return t},average:function(t){var i=e.jqx.pivot.prototype._defaultFunctions.count(t);return 0==i?0:e.jqx.pivot.prototype._defaultFunctions.sum(t)/i},product:function(e){for(var t=0,i=0;i<e.length;i++)0==i?t=e[i]:t*=e[i];return t}},getCellValue:function(e,t){var i=this._getCellValueFromDataSource(e,t);if(isNaN(i))return"";var s=this.pivotValuesOnRows?e.boundField:t.boundField;return{value:i,formattedValue:this._formatValue(i,s.formatSettings,s.formatFunction)}},getCellFormatSettings:function(e,t){var i=this.pivotValuesOnRows?e.boundField:t.boundField;if(i)return i.formatSettings},_getCellValueFromDataSource:function(e,t){if(null==e)throw"Invalid rowItem";if(null==t)throw"Invalid columnItem";var i=e.isTotal||t.isTotal,s=this._internalDrillThroughPivotCell(e.key,t.key,i);if(0==s.length)return"";var r=this.pivotValuesOnRows?e.boundField:t.boundField;if(null!=r){var n=r.function||"count";"String"==typeof n&&(n=n.toLowerCase());try{for(var o=[],a=0;a<s.length;a++){var l=s[a],d=this.dataAdapter.records[l],h=this._getBoundFieldValue(d,r.dataField);o.push(parseFloat(h))}if("string"==typeof n&&(n=this.aggregationFunctions[n]),"function"==typeof n)return n(o)}catch(e){return NaN}return NaN}},_formatValue:function(t,i,s){if(null==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!s)return"";if(s){if(!e.isFunction(s))return t.toString();try{return s(t)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var s=t.charAt(i);if(!(s>="0"&&s<="9"||","==s||"."==s)&&(("-"!=s||0!=i)&&!("("==s&&0==i||")"==s&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var s;if(i&&(s=e.jqx.dataFormat.parsedate(t,i),this._isDate(s)))return s;if(this._autoDateFormats){for(var r=0;r<this._autoDateFormats.length;r++)if(s=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[r]),this._isDate(s))return s}else this._autoDateFormats=[];var n=this._detectDateFormat(t);return n&&(s=e.jqx.dataFormat.parsedate(t,n),this._isDate(s))?(this._autoDateFormats.push(n),s):(s=new Date(t),this._isDate(s)&&-1==t.indexOf(":")&&s.setHours(0,0,0,0),s)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);null!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var s=t.toString();return i&&(i.dateFormat&&(s=e.jqx.dataFormat.formatDate(t,i.dateFormat)),s=(i.prefix||"")+s+(i.sufix||"")),s},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="",r=this;r.localization&&(i=r.localization.decimalSeparator||r.localization.decimalseparator||i,s=r.localization.thousandsSeparator||r.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var n=t.prefix||"",o=t.sufix||"",a=t.decimalPlaces;isNaN(a)&&(a=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,d=e<0;d&&l&&(e*=-1);var h,c=e.toString(),u=Math.pow(10,a);if(c=(Math.round(e*u)/u).toString(),isNaN(c)&&(c=""),h=c.lastIndexOf("."),a>0)for(h<0?h=(c+=i).length-1:"."!==i&&(c=c.replace(".",i));c.length-1-h<a;)c+="0";h=(h=c.lastIndexOf(i))>-1?h:c.length;for(var p=c.substring(h),m=0,f=h;f>0;f--,m++)m%3==0&&f!==h&&(!d||f>1||d&&l)&&(p=s+p),p=c.charAt(f-1)+p;return c=p,d&&l&&(c="("+c+")"),n+c+o},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||o[a]>"9")&&(s=o.length-(a+1))>=0)return Math.min(s,i);for(s>0&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_detectDateFormat:function(t,i){var s={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(s=e.extend({},s,i));var r=[];for(var n in e.isArray(t)?r=t:r.push(t),s)s[n]={format:s[n],count:0};for(var o=0;o<r.length;o++){var a=r[o];if(null!=a&&null!=a)for(var n in s){null!=e.jqx.dataFormat.parsedate(a,s[n].format)&&s[n].count++}}var l={key:void 0,count:0};for(var n in s)s[n].count>l.count&&(l.key=n,l.count=s[n].count);return l.key?s[l.key].format:""}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPivotGrid","",{}),e.extend(e.jqx._jqxPivotGrid.prototype,{defineInstance:function(){var t={scrollBarsEnabled:!0,source:null,groupingColumns:[],isGroupingEnabled:!1,_offsetX:0,_offsetY:0,_currentPosition:{},_selectStartPosition:{},_isMouseLeftButtonDown:!1,_timeLastUp:new Date,_timeLastDown:new Date,resizeTooltipEnabled:!1,isHorizontalResize:!0,_colResizeState:"NO_RESIZE",activeEditor:{Editor:null},_id:0,_colItemRangeSelectionBeg:null,_colItemRangeSelectionEnd:null,_rowItemRangeSelectionBeg:null,_rowItemRangeSelectionEnd:null,_isCTRLPressed:!1,_internalSelectMode:"CELLS_SELECT",_mostRightItemBounds:{x:0,y:0,width:0,height:0},_mostLeftItemBounds:{x:0,y:0,width:0,height:0},_adjSelectedItemsSave:{},multipleSelectionEnabled:!0,selectionEnabled:!0,selectionMode:"CELLS_SELECT",treeStyleRows:!0,autoResize:!1,cellsRenderer:null,itemsRenderer:null,localization:null};return e.extend(!0,this,t),this._createPivotAreas(),t},_createPivotAreas:function(){this._pivotRows&&(this._pivotRows.clear(),delete this._pivotRows),this._pivotColumns&&(this._pivotColumns.clear(),delete this._pivotColumns),this._pivotCells&&(this._pivotCells._resetCanvas(),this._pivotCells.clear(),delete this._pivotCells),this._pivotRows=new e.jqx.jqxPivotGrid.pivotRows(this),this._pivotColumns=new e.jqx.jqxPivotGrid.pivotColumns(this),this._pivotCells=new e.jqx.jqxPivotGrid.pivotCells,this._pivotCells.parentPivotGrid=this},_instanceId:0,createInstance:function(t){this.element;var i=this.host,s=this;s.localizeStrings(s.localization);var r="jqx-pivotgrid jqx-rc-all jqx-widget "+this.toThemeProperty("jqx-widget-content"),n="";this._isTouchDevice()&&(n="class='jqx-grid-menu-item-touch'"),i.append("<div class='"+r+"' style='width:100%; height: 100%; overflow:hidden; position:relative; onselectstart='return false;' oncontextmenu='return false;''><div id='divContent' style='width:100px; height:100%;'></div><div id='divHScroll' style='width:100%; height:13px;'></div><div id='divVScroll' style='width:13px; height:100%;'></div><div id='divContextMenu'><ul><li "+n+"><div id='sortasc' class='jqx-pivotgrid-sortasc-icon'></div><span>"+s._localizedStrings.sortascendingstring+"</span></li><li "+n+"><div id='sortdesc' class='jqx-pivotgrid-sortdesc-icon'></div><span>"+s._localizedStrings.sortdescendingstring+"</span></li><li "+n+"><div id='sortremove' class='jqx-pivotgrid-sortremove-icon'></div><span>"+s._localizedStrings.sortremovestring+"</span></li></ul></div></div>");var o=i.find("#divContent"),a=(o[0],document.createElement("div"));a.style.position="relative",a.style.left="0px",a.style.top="0px",a.style.width="100%",a.style.height="100%",a.style.overflow="hidden",o.append(a),this.contentCanvas=this.Canvas=a,this.hostVScroll=i.find("#divVScroll"),this.hostHScroll=i.find("#divHScroll"),this.hScroll=i.find("#divHScroll").jqxScrollBar({vertical:!1,theme:this.theme}),this.vScroll=i.find("#divVScroll").jqxScrollBar({vertical:!0,theme:this.theme}),s._createContextMenu(),s.id=s._instanceId++,s._resizeLineId="divResizeLine"+s.id,e(document.body).append("<div id='"+s._resizeLineId+"' style='position: absolute; display: none;'></div>");try{s.dataBind()}catch(e){throw"Databinding exception: "+e.toString()}s._installEventHandlers(),e.jqx.utilities.resize(s.host,function(){s.refresh()},!1),s._isInitialized||(s._isInitialized=!0)},destroy:function(){this._isInitialized=!1,this.host.find("#divHScroll").off(),this.host.find("#divVScroll").off(),this._contextMenu.off(),this.removeHandler(this.host),e.jqx.utilities.resize(this.host,null,!0)},_installEventHandlers:function(){var t=this;t.hostVScroll.on("valueChanged",function(e){e.currentTarget==t.hostVScroll[0]&&t.onVScroll(e.currentValue)}),t.hostHScroll.on("valueChanged",function(e){e.currentTarget==t.hostHScroll[0]&&t.onHScroll(e.currentValue)}),t.addHandler(t.host,"mousewheel DOMMouseScroll",function(i){if(!(t._isContextMenuOpen||t._pivotDesigner&&t._pivotDesigner._isWindowOpen())){var s=e.jqx.position(i);t.isPtInRect({x:s.left,y:s.top},t._rect)&&(i.preventDefault(),t._scrollBarPositions.vertical.visible&&t.onMouseWheel(i))}}),t.addHandler(t.host,"mouseenter",function(e){e.currentTarget==t.element&&t._onMouseEnter(e)}),t.addHandler(t.host,"mouseleave",function(e){e.currentTarget==t.element&&t._onMouseLeave(e)}),t.addHandler(t.host,"mousedown",function(e){t._isContextMenuOpen||t._pivotDesigner&&t._pivotDesigner._isWindowOpen()||(e.preventDefault(),t._onMouseDown(e),this.focus())}),t.addHandler(e(document),"mouseup",function(i){if(!t._isContextMenuOpen&&!(t._pivotDesigner&&t._pivotDesigner._isWindowOpen()||(i.preventDefault(),t._onMouseUp(i),i.cancel))){var s=e.jqx.position(i);(t.isPtInRect({x:s.left,y:s.top},t._rect)||"RESIZING"==t._colResizeState)&&t._onMouseClick(i)}}),t.addHandler(e(document),"mousemove",function(e){t._isContextMenuOpen||t._pivotDesigner&&t._pivotDesigner._isWindowOpen()||t._onMouseMove(e)}),t.addHandler(e(document),"keydown",function(e){t._isContextMenuOpen||t._pivotDesigner&&t._pivotDesigner._isWindowOpen()||t._isContextMenuOpen||(17==e.keyCode?t._isCTRLPressed=!0:16==e.keyCode?t._isSHIFTPressed=!0:t._handleKeyboardNavigation&&t._handleKeyboardNavigation(e))}),t.addHandler(e(document),"keyup",function(e){t._isContextMenuOpen||t._pivotDesigner&&t._pivotDesigner._isWindowOpen()||t._isContextMenuOpen||(17==e.keyCode?t._isCTRLPressed=!1:16==e.keyCode&&(t._isSHIFTPressed=!1))})},_createContextMenu:function(){var t=this,i=this.host.find("#divContextMenu");t._contextMenu=i.jqxMenu({width:"120px",autoCloseOnClick:!0,autoOpenPopup:!1,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0,theme:this.theme,keyboardNavigation:!1,mode:"popup"});for(var s=i.find("li"),r="",n=0;n<s.length;n++){var o=e(s[n]).text();o.length>r.length&&(r=o)}var a=e('<span style="white-space:nowrap;">'+r+"</span>");a.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(a);var l=a.outerWidth()+30;a.remove(),t._contextMenu=i.jqxMenu({width:l}),t._contextMenu.on("shown",function(){t._isContextMenuOpen=!0}),t._contextMenu.on("closed",function(){t._isContextMenuOpen=!1,t._hideItemMenuElement()}),t._contextMenu.on("itemclick",function(e){e.stopImmediatePropagation(),e.stopPropagation();var i=t._menuElement._itemMouseOver;if(i){var s=i.hierarchy==t._pivotColumns?t._pivotRows:t._pivotColumns,r=e.args.innerHTML;-1!=r.indexOf("sortasc")?s.sortBy(i,"asc"):-1!=r.indexOf("sortdesc")?s.sortBy(i,"desc"):-1!=r.indexOf("sortremove")&&s.removeSort()}})},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},propertyChangedHandler:function(e,t,i,s){null!=this._isInitialized&&0!=this._isInitialized&&("source"==t?this.dataBind():"theme"==t&&(this.hostVScrollBar.jqxScrollBar("theme",this.theme),this.hostHScrollBar.jqxScrollBar("theme",this.theme)),this._internalRefresh())},genId:function(){return this._id++},getCellId:function(e,t){return e.id+"_"+t.id},_scrollTimer:void 0,_renderOnTimeout:function(e){clearTimeout(this._scrollTimer);var t=this;0==e?(this._pivotColumns._refreshRequired=this._pivotRows._refreshRequired=!0,t._internalRefresh()):this._scrollTimer=setTimeout(function(){t._render()},e)},onVScroll:function(e){if((e=Math.round(e))!=this._offsetY){this._offsetY=e,this._renderOnTimeout(0)}},onHScroll:function(e){if((e=Math.round(e))!=this._offsetX){this._offsetX=e,this._renderOnTimeout(0)}},onMouseWheel:function(e){var t=0;if(e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){e.preventDefault&&e.preventDefault(),e.returnValue=!1;var i=this.vScroll.jqxScrollBar("min"),s=this.vScroll.jqxScrollBar("max"),r=this.vScroll.jqxScrollBar("value");(r-=t*=10)>s&&(r=s),r<i&&(r=i),this.vScroll.jqxScrollBar("value",r)}},_onMouseMove:function(t){var i=e.jqx.position(t),s=i.left,r=i.top;if(this.isPtInRect({x:s,y:r},this._rect)||"RESIZING"==this._colResizeState){var n=this.host.offset();if(s-=Math.round(n.left),r-=Math.round(n.top),s=Math.max(s,0),r=Math.max(r,0),this._currentPosition.x!=s||this._currentPosition.y!=r){for(var o in this._currentPosition.x=s,this._currentPosition.y=r,this._scrollBarPositions)if(this._scrollBarPositions[o].visible&&this.isPtInRect({x:s,y:r},this._scrollBarPositions[o].rect))return;this._handleMouseMove(t),this.activeEditor&&this.activeEditor.Editor}}},_onMouseEnter:function(e){},_onMouseLeave:function(e){this._hideItemMenuElement()},_onMouseDown:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmousedown",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonDown(e):2==e.button&&this.onMouseRightButtonDown(e)},_onMouseUp:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmouseup",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonUp(e):2==e.button&&this.onMouseRightButtonUp(e)},_onMouseClick:function(e){var t=this;if(t._handleMouseClick(e),!e.cancel){if(t._dtLastMouseClick)if(new Date-t._dtLastMouseClick<500)return this._handleMouseDoubleClick(e),void(t._dtLastMouseClick=void 0);t._dtLastMouseClick=new Date}},setDivContent:function(e,t,i,s,r){var n=this.getChild(e,"innerDiv");n.style.padding=i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",s&&(n.style["text-align"]=s),this.setElementSize(e,parseFloat(e.style.width),parseFloat(e.style.height)),r&&(n.style.width=parseFloat(e.style.width)-i.left+"px"),n.innerHTML=t},setElementPosition:function(e,t,i){e.style.position="absolute",e.style.left=t+"px",e.style.top=i+"px"},_getFloat:function(e){for(var t,i=0;i<e.length;i++)if(t=parseFloat(e[i]),!isNaN(t))return t;return NaN},setElementSize:function(e,t,i){e.style.width=t+"px",e.style.height=i+"px";var s=this.getChild(e,"innerDiv");if(s){var r=this._getFloat([s.style.padding.left,s.style.padding,0]),n=this._getFloat([s.style.padding.right,s.style.padding,0]),o=this._getFloat([s.style.padding.top,s.style.padding,0]),a=this._getFloat([s.style.padding.bottom,s.style.padding,0]);s.style.width=t-r-n+"px",s.style.height=i-o-a+"px"}},createCanvas:function(e){var t=document.createElement("div");return t.style["background-color"]="transparent",t.style.overflow="hidden",e.appendChild(t),t},createDiv:function(e,t,i,s){var r=document.createElement("div");r.id=t,r.style.height=s+"px",r.style.width=i+"px";var n=document.createElement("div");return n.id="innerDiv",n.style.height=s+"px",n.style.width=i+"px",r.appendChild(n),e.appendChild(r),r},getPivotRows:function(){return this._pivotRows},getPivotColumns:function(){return this._pivotColumns},getPivotCells:function(){return this._pivotCells},_layout:function(){this.host.find("#divContent"),this.host.find("#divVScroll"),this.host.find("#divHScroll"),this.host.width(),this.host.height();this._pivotCells.Canvas||(this._pivotCells.Canvas=this.createCanvas(this.Canvas,"divCells",100,100)),this._pivotRows.Canvas||(this._pivotRows.Canvas=this.createCanvas(this.Canvas,"divRowsHierarchy",100,100)),this._pivotColumns.Canvas||(this._pivotColumns.Canvas=this.createCanvas(this.Canvas,"divColumnsHierarchy",100,100)),this._pivotRows.isHidden?this._pivotRows.Canvas.style.display="none":(this._pivotRows.Canvas.style.display="block",this.setElementPosition(this._pivotRows.Canvas,this._pivotRows.x,this._pivotRows.y),this.setElementSize(this._pivotRows.Canvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight()),null==this._pivotRows.renderCanvas&&(this._pivotRows.renderCanvas=this.createCanvas(this._pivotRows.Canvas,"divRowsRender",100,100)),this.setElementSize(this._pivotRows.renderCanvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight())),this._pivotColumns.isHidden?this._pivotColumns.Canvas.style.display="none":(this._pivotColumns.Canvas.style.display="block",this.setElementPosition(this._pivotColumns.Canvas,this._pivotColumns.x,this._pivotColumns.y),this.setElementSize(this._pivotColumns.Canvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1),null==this._pivotColumns.renderCanvas&&(this._pivotColumns.renderCanvas=this.createCanvas(this._pivotColumns.Canvas,"divColumnsRender",100,100)),this.setElementSize(this._pivotColumns.renderCanvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1)),this.setElementPosition(this._pivotCells.Canvas,this._pivotColumns.x,this._pivotRows.y),this.setElementSize(this._pivotCells.Canvas,this._pivotCells.viewPort.width,this._pivotCells.viewPort.height),null==this._pivotCells.renderCanvas&&(this._pivotCells.renderCanvas=this.createCanvas(this._pivotCells.Canvas,"divCellsRender",100,100)),this.setElementSize(this._pivotCells.renderCanvas,this._pivotColumns.getWidth()+1,this._pivotRows.getHeight()+1)},refresh:function(){this._pivotColumns._renderRequired=!0,this._pivotRows._renderRequired=!0,this._pivotCells.clear(),this._internalRefresh()},_internalRefresh:function(){var e=this.host.offset();if(this.autoResize){var t=this._pivotColumns.isHidden?0:this._pivotColumns.getHeight(),i=this._pivotColumns.isHidden?0:this._pivotColumns.getWidth(),s=this._pivotRows.isHidden?0:this._pivotRows.getHeight(),r=this._pivotRows.isHidden?0:this._pivotRows.getWidth(),n={};n.width=i+r+1,n.height=t+s+1,n.width==this.host.width()&&n.height==this.host.height()||(this._pivotColumns._renderRequired=this._pivotRows._renderRequired=!0,this.host.css({width:n.width+"px",height:n.height+"px"}))}this._rect={x:e.left,y:e.top,width:this.host.width(),height:this.host.height()},this._render(),this.host.find("#divHScroll").jqxScrollBar("refresh")},_render:function(){var e=this._pivotColumns._renderRequired||this._pivotRows._renderRequired;this._pivotRows.compactStyleRenderingEnabled!=this.treeStyleRows&&(this._pivotRows.compactStyleRenderingEnabled=this.treeStyleRows,e=!0),e&&(this._pivotRows._renderRequired=this._pivotColumns._renderRequired=!0,this.RenderGridContent(),this._layout()),this._pivotRows.viewPort.y=this._offsetY+(this._pivotColumns.isVisible()?this._pivotColumns.viewPort.height:0),this._pivotColumns.viewPort.x=this._offsetX+(this._pivotRows.isVisible()?this._pivotRows.viewPort.width:0),this._pivotColumns.refresh(),this._pivotRows.refresh(),this._pivotCells.render(),this._updateMenuElement()},_updateMenuElement:function(){var t=this.host.find("#divContent")[0];this._menuElement&&(e(this._menuElement).off(),t.removeChild(this._menuElement));var i=document.createElement("div");i.style.height="16px",i.style.width="16px",i.style.id="menu_element",i.style.align="left",i.style.valign="top",i.style.display="none",t.appendChild(i),this._menuElement=i;var s=this;e(s._menuElement).on("click",function(){s._showItemContextMenu()})},dataBind:function(){var t=this.source;function i(t,s,r,n,o){for(var a in t.items){var l=t.items[a];(d=new e.jqx.jqxPivotGrid.pivotItem(r,n)).text=l.text,d.adapterItem=l,d.isColumn=o,s.items.push(d),i(l,d,d,n,o)}for(var a in t.valueItems){var d;l=t.valueItems[a];(d=new e.jqx.jqxPivotGrid.pivotItem(r,n)).adapterItem=l,d.text=l.text,d.isColumn=o,d._isValueItem=!0,s.valueItems.push(d),i(l,d,d,n,o)}}this.localization&&!t.localization&&(t.localization=this.localization),t.dataBind(),this._createPivotAreas(),i(t._rowsHierarchy,this._pivotRows,null,this._pivotRows,!1),i(t._columnsHierarchy,this._pivotColumns,null,this._pivotColumns,!0),this.bindingState="DataBoundPivot",this._pivotRows.autoResize("default"),this._pivotColumns.autoResize("default"),this._internalRefresh()},getChild:function(e,t){for(var i=e.childNodes,s=0;s<i.length;s++)if(i[s].id==t)return i[s];return null},scrollToOffset:function(e,t){for(var i=this.gridcells,s=0;s<i.length;s++)i[s].style.top=t+parseInt(i[s].originalY)+"px",this.setDivContent(i[s],"cell "+s)},getWidth:function(){return this.host.width()},getHeight:function(){return this.host.height()},RenderGridContent:function(){if(!this._pivotColumns._renderRequired&&!this._pivotRows._renderRequired)return this._pivotRows.viewPort.y=this._offsetY,void(this._pivotColumns.viewPort.x=this._offsetX);if(!this.PaintSuspended&&"RESIZING"!=this._colResizeState){var e={};if(e.x=this._offsetX,e.y=this._offsetY,e.width=this.getWidth(),e.height=this.getHeight(),0!=e.width&&0!=e.height)if(this.PaintSuspended=!0,this._pivotColumns._isColumnsCountRequresUpdate&&(this._pivotColumns._updateVisibleLeaves(),this._pivotColumns._updateColumnsCount(),this._pivotColumns._updateColumnsIndexes()),this._pivotRows._isColumnsCountRequresUpdate&&(this._pivotRows._updateColumnsCount(),this._pivotRows._updateColumnsIndexes()),0!=this.getWidth()&&0!=this.getHeight()){this.GroupingEnabled&&this.groupingColumns.length>0&&(this._pivotRows.isHidden=!0),this._pivotColumns._renderRequired&&this._pivotColumns.render(),this._pivotRows._renderRequired&&this._pivotRows.render();var t=this._pivotColumns.isVisible()?this._pivotColumns.getHeight():0,i=this._pivotRows.isVisible()?this._pivotRows.getWidth():0,s={width:this._pivotColumns.getWidth()+i,height:this._pivotRows.getHeight()+t};(this.scrollableAreaSize!=s||this.isSyncScrollRequired)&&(this.scrollableAreaSize=s,this.SynchronizeScrollBars());var r=this.host.find("#divContent"),n=this.host.find("#divVScroll"),o=this.host.find("#divHScroll"),a="none"!=o.css("display"),l="none"!=n.css("display");r.css({height:e.height-(a?o.height()+4:0)+"px"}),r.css({width:e.width-(l?n.width()+4:0)+"px"});var d=e.height;e.height==this.getHeight()&&(d=e.height-t-(a?o.height()+4:0))<0&&(d=e.height),this._pivotRows.x=0,this._pivotRows.y=t,this._pivotRows.viewPort={x:this._pivotRows.x,y:e.y,width:this._pivotRows.getWidth(),height:d};var h=e.width;e.width==this.getWidth()&&(h=e.width-i-(l?n.width()+4:0))<0&&(h=e.width),this._pivotColumns.x=i,this._pivotColumns.y=0,this._pivotColumns.viewPort={x:e.x,y:this._pivotColumns.y,width:h,height:this._pivotColumns.getHeight()},this._pivotCells.Bounds={x:this._pivotColumns.x,y:this._pivotRows.y,width:this._pivotColumns.getWidth(),height:d},this._pivotCells.viewPort={x:e.x,y:e.y,width:h,height:d},null!=this.draggingItem&&"visible"==this.dragElement.visibility&&this.dragElement.setValue(this.Canvas.ZIndexProperty,1e4),this._pivotRows._renderRequired=!1,this._pivotColumns._renderRequired=!1,this.PaintSuspended=!1}else this.PaintSuspended=!1}},SynchronizeScrollBars:function(){var e=!1,t=!1,i=this.host.find("#divVScroll"),s=this.host.find("#divHScroll"),r="none"!=s.css("display"),n="none"!=i.css("display"),o=s.height();if(this.scrollableAreaSize.height>this.getHeight()&&(e=!0),this.scrollableAreaSize.width>this.getWidth()&&(t=!0),this.scrollableAreaSize.height<=this.getHeight()&&this.scrollableAreaSize.width<=this.getWidth()&&(e=!1,t=!1),e&&(t=t||this.scrollableAreaSize.width>this.getWidth()-o),t&&(e=e||this.scrollableAreaSize.height>this.getHeight()-o),e){n||!0,i[0].style.display="block";var a=this.getHeight()-(t?o+5:0);a<0&&(a=0),this.setElementPosition(i[0],this.getWidth()-o-4,0),this.setElementSize(i[0],o,a),i.jqxScrollBar("min",0);var l=this.scrollableAreaSize.height-(this.getHeight()-(t?o:0))+4;l!=i.jqxScrollBar("max")&&i.jqxScrollBar("max",l),null!=this.VerticalScrollBarSmallChange?i.jqxScrollBar("step",this.VerticalScrollBarSmallChange):i.jqxScrollBar("step",10);var d=this.scrollableAreaSize.height/10;d<10&&(d=10),null!=this.VerticalScrollBarLargeChange&&(d=verticalScrollBarLargeChange),i.jqxScrollBar("largestep")!=d&&i.jqxScrollBar("largestep",d),i.jqxScrollBar("largestep")<i.jqxScrollBar("step")&&i.jqxScrollBar("largestep",i.jqxScrollBar("step")),this.rtl}else n&&!0,i.jqxScrollBar("value",0),i[0].style.display="none";if(t){r&&!0,s[0].style.display="block";var h=this.getWidth()-(e?o+5:0);(h<0||null==h)&&(h=0),this.setElementPosition(s[0],0,this.getHeight()-o-4),this.setElementSize(s[0],h,o),0!=s.jqxScrollBar("min")&&s.jqxScrollBar("min",0);var c=this.scrollableAreaSize.width-(this.getWidth()-(e?o:0))+4;s.jqxScrollBar("max")!=c&&s.jqxScrollBar("max",c),null!=this.HorizontalScrollBarSmallChange?s.jqxScrollBar("step",this.HorizontalScrollBarSmallChange):s.jqxScrollBar("step",10);var u=this.getWidth()/2;u<25&&(u=25),null!=this.HorizontalScrollBarLargeChange&&(u=this.HorizontalScrollBarSmallChange),s.jqxScrollBar("largestep",u),s.jqxScrollBar("largestep")<s.jqxScrollBar("largestep")&&s.jqxScrollBar("largestep",s.jqxScrollBar("step"))}else r&&!0,s.jqxScrollBar("value",0),s[0].style.display="none";t=t&&this.scrollBarsEnabled,e=e&&this.scrollBarsEnabled,t!=("block"==s[0].display)&&(s[0].display=t?"block":"none"),e!=("block"==i[0].display)&&(i[0].display=e?"block":"none"),this._scrollBarPositions={vertical:{visible:e,rect:{x:i.position().left,y:i.position().top,width:i.width(),height:i.height()}},horizontal:{visible:t,rect:{x:s.position().left,y:s.position().top,width:s.width(),height:s.height()}}},s.jqxScrollBar("refresh"),i.jqxScrollBar("refresh")},isPtInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},onMouseLeftButtonUp:function(t){var i=this;for(var s in i._scrollBarPositions)if(this._scrollBarPositions[s].visible&&this.isPtInRect(i._currentPosition,i._scrollBarPositions[s].rect))return i._isMouseCaptured()&&i._releaseMouseCapture(),void(i._isMouseLeftButtonDown=!1);if(i._isMouseCaptured())i._releaseMouseCapture();else if(!i._itemMenuButtonMouseOver&&!i._isContextMenuOpen){i.canDrag=!1;var r=e.jqx.position(t),n=i.isPtInRect({x:r.left,y:r.top},i._rect),o=i._pivotCells._hitTest(i._currentPosition);if(o&&n)if(i._raisePivotCellMouseEvent(o.pivotRow,o.pivotColumn,"pivotcellmouseup","left"))return;if("RESIZING"==i._colResizeState){i._colResizeState="NO_RESIZE",i._updateCursor("ARROW"),i._pivotColumns._renderRequired=!0,i._pivotRows._renderRequired=!0;var a={x:i.resizingItem.x+i.resizingItem.hierarchy.x-i._offsetX,y:i.resizingItem.y+i.resizingItem.hierarchy.y-i._offsetY};return this.isHorizontalResize?i.resizingItem.setWidth(Math.max(i.resizingItem.minimumWidth,Math.abs(i._currentPosition.x-a.x))):i.resizingItem.setHeight(Math.max(i.resizingItem.minimumHeight,Math.abs(i._currentPosition.y-a.y))),e("body").find("#"+i._resizeLineId).hide(),i.resizingItem=null,i.resizeTooltipEnabled,i._isMouseLeftButtonDown=!1,void i._internalRefresh()}var l={isOnItemButton:!1},d=i._itemHitTest(i._currentPosition,l);if(null==d||!l.isOnItemButton&&!l.isOnMenuButton){var h=!1;if(i._canDrop(d)?(i._endDrag(d),h=!0):i.dragElement&&"block"==i.dragElement.style.display&&(i._endDrag(draggingItem),h=!0),h)return i._isMouseLeftButtonDown=!1,void i._internalRefresh();i._isMouseLeftButtonDown=!1,n&&null==i.activeEditor.Editor&&i._updateSelection()}}},onMouseLeftButtonDown:function(e){for(var t in this._scrollBarPositions)if(this._scrollBarPositions[t].visible&&this.isPtInRect(this._currentPosition,this._scrollBarPositions[t].rect))return void this._captureMouse();var i={isOnItemButton:!1},s=this._itemHitTest(this._currentPosition,i);this._timeLastDown=new Date;if(this.isShiftPressed||(this._selectStartPosition={x:this._currentPosition.x,y:this._currentPosition.y}),!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){if(this._isMouseLeftButtonDown=!0,"READY_RESIZE"==this._colResizeState)return this._colResizeState="RESIZING",this._updateCursor(this.isHorizontalResize?"COLUMN_RESIZE":"ROW_RESIZE"),void this._refreshMouseCursor();if("RESIZING"!=this._colResizeState){if(null!=s){if(i.isOnItemButton){if(this._lastToggle&&this._lastToggle.item==s&&new Date-this._lastToggle.time<500)return;return this._isMouseLeftButtonDown=!1,s.isExpanded?s.collapse():s.expand(),this._lastToggle={time:new Date,item:s},void this._internalRefresh()}this.canDrag=!0,i.isOnItemButton?this._updateCursor("ARROW"):this._updateCursor("CROSS"),s.isColumn?this._internalSelectMode="COL_SELECT":this._internalSelectMode="ROW_SELECT"}else this._internalSelectMode="CELLS_SELECT";var r=this._pivotCells._hitTest(this._currentPosition);if(r)if(this._raisePivotCellMouseEvent(r.pivotRow,r.pivotColumn,"pivotcellmousedown","left"))return;null==this.activeEditor.Editor&&this._updateSelection(),this._refreshMouseCursor()}}},onMouseRightButtonDown:function(e){this._timeLastDown=new Date;var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null==t){var i=this._pivotCells._hitTest(this._currentPosition);i&&this._raisePivotCellMouseEvent(i.pivotRow,i.pivotColumn,"pivotcellmousedown","right")}else this._raisePivotItemMouseEvent(t,"pivotitemmousedown","right")},onMouseRightButtonUp:function(t){var i=e.jqx.position(t),s=this.isPtInRect({x:i.left,y:i.top},this._rect),r=this._pivotCells._hitTest(this._currentPosition);r&&s&&this._raisePivotCellMouseEvent(r.pivotRow,r.pivotColumn,"pivotcellmouseup","right"),this._timeLastUp=new Date},_itemMouseMove:function(e,t){if(this.resizingItem)this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE");else{this._menuElement._itemMouseOver!=t&&this._hideItemMenuElement(),this._updateCursor("CROSS");var i={x:t.x,y:t.y,width:t.getDisplayWidth(),height:t.getDisplayHeight()};if(t.isColumn?i.x+=t.hierarchy.x-this._offsetX:i.y+=t.hierarchy.y-this._offsetY,t.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled&&(i.height=t.height),i.right=i.x+i.width,i.bottom=i.y+i.height,Math.abs(i.right-e.x)<=4&&e.y>=i.y&&e.y<=i.bottom){if(this.isHorizontalResize=!0,t.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(t)){if(this._updateCursor("COLUMN_RESIZE"),this.resizingItem=t.isColumn?t._getLastVisibleLeaf(t):t,!this.resizingItem.isColumn&&!this.resizingItem.isExpanded){var s=this._pivotRows._getVisibleLeafLevelItems();for(var r in s){var n=s[r];n.ItemLevel>this.resizingItem.ItemLevel&&(this.resizingItem=n)}}this._colResizeState="READY_RESIZE"}}else{if(!t.isColumn&&Math.abs(i.bottom-e.y)<=3)return this.isHorizontalResize=!1,t.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled||(t=t._getLastVisibleLeaf(t)),void(t.hierarchy.resizable&&(this._updateCursor("ROW_RESIZE"),this.resizingItem=t,this._colResizeState="READY_RESIZE"));var o=t.hierarchy.getOtherHierarchy();t.hierarchy.sortable&&o.items.length>0&&this._hitTestShowItemMenuElement(e,t,i)}}},isInHierarchyViewPort:function(e,t){return t.isColumnsHierarchy?this.isPtInRect({x:e.x+this._offsetX,y:e.y},t.viewPort):this.isPtInRect({x:e.x,y:e.y+this._offsetY},t.viewPort)},_hitTestShowItemMenuElement:function(t,i,s){if(this._menuElement&&this._menuElement._itemMouseOver&&this._menuElement._itemMouseOver._element&&e(this._menuElement._itemMouseOver._element).find("#sortElement").show(),this._menuElement.style.display="none",!(this._isContextMenuOpen||i.valueItems.length>0)&&t.x<s.right&&t.x>s.x&&t.y>=s.y&&t.y<=s.bottom){var r=e.extend({},this._rect);r.x=r.y=0,"block"==this.vScroll[0].display&&(r.width-=this.vScroll.width()),"block"==this.hScroll[0].display&&(r.height-=this.hScroll.height());var n={x:this._currentPosition.x,y:this._currentPosition.y};n.x-=i.hierarchy.x-(i.hierarchy.viewPort.x-i.hierarchy.x),n.y-=i.hierarchy.y-(i.hierarchy.viewPort.y-i.hierarchy.y);var o={x:i.x+s.width-18,y:i.y+(s.height-16)/2+1,width:16,height:16};if(this._menuElement.style.height=o.height+"px",this._menuElement.className=this.toThemeProperty("jqx-pivotgrid-menu-button"),i.isColumn?o.x+=i.hierarchy.x-this._offsetX:o.y+=i.hierarchy.y-this._offsetY,this.setElementPosition(this._menuElement,o.x,o.y),this.isPtInRect({x:o.x,y:o.y},r)&&this.isPtInRect({x:o.x,y:o.y+o.height},r)&&this.isPtInRect({x:o.x+o.width,y:o.y},r)&&this.isPtInRect({x:o.x+o.width,y:o.y+o.height},r)){if(this._menuElement.style.display="block",this._menuElement._itemMouseOver=i,e(this._menuElement._itemMouseOver._element).find("#sortElement").hide(),!i._currentCustomContent){var a=e(i._element).css("background-color");this._menuElement.style["background-color"]=a}i.isColumn?o.x+=this._offsetX-i.hierarchy.x:o.y+=this._offsetY-i.hierarchy.y,this.isPtInRect({x:n.x,y:n.y},o)&&(this._itemMenuButtonMouseOver=!0)}}},_hideItemMenuElement:function(){this._menuElement&&!this._isContextMenuOpen&&"block"==this._menuElement.style.display&&(this._menuElement.style.display="none",e(this._menuElement._itemMouseOver._element).find("#sortElement").show())},_hideItemContextMenu:function(){this._contextMenu.jqxMenu("close"),this._hideItemMenuElement()},_showItemContextMenu:function(){var e=this._menuElement._itemMouseOver;if(e){var t=this._contextMenu.width(),i=this._contextMenu.height();this._contextMenu.find("#sortasc")[0].className="jqx-pivotgrid-sortasc-icon "+this.toThemeProperty("jqx-pivotgrid-sortasc-icon"),this._contextMenu.find("#sortdesc")[0].className="jqx-pivotgrid-sortdesc-icon "+this.toThemeProperty("jqx-pivotgrid-sortdesc-icon"),this._contextMenu.find("#sortremove")[0].className="jqx-pivotgrid-sortremove-icon "+this.toThemeProperty("jqx-pivotgrid-sortremove-icon");var s=-t+e.displayWidth+e.x+(e.hierarchy.viewPort.x-this._offsetX)-this._offsetX;e.isColumn||(s=e.x+e.displayWidth);var r=e.y+e.getDisplayHeight();e.isColumn||(r=e.y-this._offsetY+e.hierarchy.y),s<=1&&(s=1),r<this._pivotColumns.y+this._pivotColumns.getHeight()&&(r=this._pivotColumns.y+this._pivotColumns.getHeight()),r+i>this._rect.height&&(r=this._rect.height-i),this._contextMenu.jqxMenu("open",s+this._rect.x,r+this._rect.y),this._contextMenu.focus()}},_handleMouseMove:function(e){if("RESIZING"==this._colResizeState)return this._doResize({x:this._currentPosition.x,y:this._currentPosition.y}),void this._refreshMouseCursor();this._colResizeState="NO_RESIZE",this.resizingItem=null;var t=this._currentPosition,i=null;this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotColumns)&&(i=this._pivotColumns.hitTest(t));var s=null;if(this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotRows)&&(s=this._pivotRows.hitTest(t)),this._itemMenuButtonMouseOver=!1,null!=i||null!=s){var r=null==i?s:i;this.gridCellMouseOver=null,this._itemMouseMove(t,r),this._focusedItem!=r&&(this._focusedItem=r,this._isMouseLeftButtonDown&&this._updateSelection());var n={};return this.CellsHighlightOnHierarchyItemMoveEnabled&&(r.IsRowsHierarchyItem&&"CELLS_HIGHLIGHT_ROW"==this.CellsHighlightMode||r.isColumn&&"CELLS_HIGHLIGHT_COLUMN"==this.CellsHighlightMode)&&(n=r.isColumn?{x:r.x,y:0,width:r.DisplayWidth,height:this._pivotRows.getHeight()}:{x:0,y:r.y,width:this._pivotColumns.getWidth(),height:r.getDisplayHeight()},(r.isColumn&&this.isGroupingEnabled&&this.groupingColumns.length>0||r.IsRowsHierarchyItem&&this._pivotRows.isOnRowDetails(this._currentPosition,r))&&(n={x:0,y:0,width:0,height:0})),void this._refreshMouseCursor()}this._hideItemMenuElement();this.gridCellMouseOver;this.resizingItem=null,this._focusedItem=null,this._colResizeState="NO_RESIZE",this._updateCursor("ARROW");var o=null;this.gridCellMouseOver&&((o={}).pivotColumn=this.gridCellMouseOver.pivotColumn,o.pivotRow=this.gridCellMouseOver.pivotRow);var a=this._pivotCells._hitTest(t);if(this._isMouseLeftButtonDown&&a){null!=this.gridCellMouseOver&&this.gridCellMouseOver.pivotRow==s&&this.gridCellMouseOver.pivotColumn==i||(this.gridCellMouseOver={pivotRow:a.pivotRow,pivotColumn:a.pivotColumn,pivotCells:this._pivotCells});n={x:0,y:0,width:0,height:0};"CELLS_HIGHLIGHT_COLUMN"==this.cellsHighlightMode?n={x:this.gridCellMouseOver.pivotColumn.x,y:0,width:this.gridCellMouseOver.pivotColumn.getDisplayWidth(),height:this._pivotRows.getHeight()}:"CELLS_HIGHLIGHT_ROW"==this.cellsHighlightMode?n={x:0,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()}:"CELLS_HIGHLIGHT_SINGLE_CELL"==this.cellsHighlightMode&&(n={x:this.gridCellMouseOver.pivotColumn.x,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()},this.isGroupingEnabled&&this.groupingColumns.length>0&&this.gridCellMouseOver.pivotRow.items.length>0&&(n={x:0,y:0,width:0,height:0}),this.gridCellMouseOver.pivotRow.RowDetailsVisible&&(n.height-=this.gridCellMouseOver.pivotRow.GetRowDetailsHeight())),(this._pivotColumns.isGroupingColumn(this.gridCellMouseOver.pivotColumn)||this._pivotRows.isOnRowDetails(this._currentPosition,this.gridCellMouseOver.pivotRow))&&(n={x:0,y:0,width:0,height:0})}else this.gridCellMouseOver=null;null==this.gridCellMouseOver||this.gridCellMouseOver==o&&o.pivotRow==this.gridCellMouseOver.pivotRow&&o.pivotColumn==this.gridCellMouseOver.pivotColumn||this._isMouseLeftButtonDown&&!this._itemMenuButtonMouseOver&&(this._updateSelection(),this._internalRefresh())},_handleMouseClick:function(e){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);if(null!=i){if(this._raisePivotItemMouseEvent(i,"pivotitemclick",0==e.button?"left":"right"))return void(e.cancel=!0);if(this._itemMenuButtonMouseOver||this._isContextMenuOpen)return;if(this._isMouseLeftButtonDown&&!t.isOnItemButton&&"Automatic"==i.sortMode&&0==i.valueItems.length){var s=this.cursor;this.cursor="Wait",this.cursor=s}}else{var r=this._pivotCells._hitTest(this._currentPosition);if(r)if(this._raisePivotCellMouseEvent(r.pivotRow,r.pivotColumn,"pivotcellclick",0==e.button?"left":"right"))return void(e.cancel=!0)}},_handleMouseDoubleClick:function(e){if(null!=this.activeEditor.Editor){if(0==this.hideEditor("MOUSE_DBLCLICK",null,!0))return}if(!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);if(null!=i){if(t.isOnMenuButton)return;if(this._raisePivotItemMouseEvent(i,"pivotitemdblclick",0==e.button?"left":"right"))return;if(this._lastToggle&&this._lastToggle.item==i&&new Date-this._lastToggle.time<500)return;0==e.button&&(i.isExpanded?i.collapse():i.expand(),i.hierarchy.selectItem(i),this._internalRefresh()),this._lastToggle={time:new Date,item:i}}else{var s=this._pivotCells._hitTest(this._currentPosition);if(s)if(this._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcelldblclick",0==e.button?"left":"right"))return}this._refreshMouseCursor()}},_isMouseCaptured:function(){return!0===this._captured},_releaseMouseCapture:function(){this._captured=!1},_captureMouse:function(){this._captured=!0},_updateCursor:function(e){"ARROW"==e?this.element.style.cursor="default":"CROSS"==e?this.element.style.cursor="pointer":"COLUMN_RESIZE"==e?this.element.style.cursor="col-resize":"ROW_RESIZE"==e&&(this.element.style.cursor="row-resize")},_refreshMouseCursor:function(){},_ensureEditorFocus:function(){},focus:function(){},_itemHitTest:function(e,t){t.isOnItemButton=!1;var i=null;if(!this._pivotRows.isHidden&&this.isInHierarchyViewPort(e,this._pivotRows)&&(i=this._pivotRows.hitTest(e)),null==i&&!this._pivotColumns.isHidden&&this.isInHierarchyViewPort(e,this._pivotColumns)&&(i=this._pivotColumns.hitTest(e)),null!=i){var s={x:this._currentPosition.x,y:this._currentPosition.y};if(s.x-=i.hierarchy.x-(i.hierarchy.viewPort.x-i.hierarchy.x),s.y-=i.hierarchy.y-(i.hierarchy.viewPort.y-i.hierarchy.y),0!=i.items.length&&0!=i.expandCollapseEnabled&&i.hierarchy.showExpandCollapseButtons){var r=0;!i.hierarchy.isColumnsHierarchy&&i.hierarchy.compactStyleRenderingEnabled&&(r=24*i.itemLevel),s.x>i.x+9+r&&s.x<i.x+20+r&&s.y>i.y+9&&s.y<i.y+20&&(t.isOnItemButton=!0)}var n={x:i.x,y:i.y,width:i.getDisplayWidth(),height:i.getDisplayHeight()},o={x:i.x+n.width-16,y:i.y,width:16,height:n.height};this.isPtInRect(s,o)&&i.hierarchy.sortable&&(t.isOnMenuButton=!0)}return i},_raisePivotCellMouseEvent:function(t,i,s,r){var n=new e.Event(s);return n.owner=this,n.args={pivotRow:t,pivotColumn:i,mousebutton:r,cancel:!1},this.host.trigger(n),!!n.args.cancel},_raisePivotItemMouseEvent:function(t,i,s){var r=new e.Event(i);return r.owner=this,r.args={pivotItem:t,mousebutton:s,cancel:!1},this.host.trigger(r),!!r.args.cancel},_beginDrag:function(e){},_endDrag:function(e){},_canDrop:function(e){},_doResize:function(t){if(null!=this.resizingItem&&this.resizingItem.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(this.resizingItem)){this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE"),this._focusedItem=this.resizingItem;var i=this.resizingItem.x+2*this.resizingItem.hierarchy.x-this.resizingItem.hierarchy.viewPort.x,s=this.resizingItem.y+2*this.resizingItem.hierarchy.y-this.resizingItem.hierarchy.viewPort.y,r=!1,n=(this.resizingItem.hierarchy,e("body").find("#"+this._resizeLineId));if(this.isHorizontalResize){var o=t.x-i;if(o<this.resizingItem.minimumWidth)return;var a={x:t.x+this._rect.x,y:this._pivotRows.y+this._rect.y};n.css({"border-right":"1px dotted #555","border-bottom":"",width:"1px",height:this._pivotCells.viewPort.height,top:a.y,left:a.x,display:"block"}),o>=this.resizingItem.minimumWidth&&o<=this.resizingItem.maximumWidth&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="width: "+o+" pixels"),r=!0)}else{var l=t.y-s;if(l<this.resizingItem.minimumHeight)return;a={x:this._pivotColumns.x+this._rect.x,y:t.y+this._rect.y};n.css({"border-bottom":"1px dotted #555","border-right":"",height:"1px",width:this._pivotCells.viewPort.width,left:a.x,top:a.y,display:"block",zIndex:5e4}),l>=this.resizingItem.minimumHeight&&l<=this.resizingItem.maximumHeight&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="height: "+l+" pixels"),r=!0)}r&&this.resizeTooltipEnabled&&("visible"!=this._resizeTooltip.visibility&&(this._resizeTooltip.visibility="visible"),this._resizeTooltip.setValue(this.Canvas.LeftProperty,t.x),this._resizeTooltip.setValue(this.Canvas.TopProperty,t.y),this._resizeTooltip.setValue(this.Canvas.ZIndexProperty,10002))}},_internalClearSelection:function(){this._pivotColumns._internalClearSelection(),this._pivotRows._internalClearSelection(),this._pivotCells._internalClearSelection()},_beginSelectionUpdate:function(){this._isCTRLPressed&&this.multipleSelectionEnabled||(this._pivotCells._beginSelectionUpdate(),this._pivotColumns._beginSelectionUpdate(),this._pivotRows._beginSelectionUpdate())},_endSelectionUpdate:function(){this._pivotColumns._endSelectionUpdate(),this._pivotRows._endSelectionUpdate(),this._pivotCells._endSelectionUpdate()},_updateSelection:function(){if(this.selectionEnabled){this._colItemRangeSelectionBeg=null,this._rowItemRangeSelectionBeg=null,this._beginSelectionUpdate();var e=!1;if(this._isCTRLPressed&&0!=this.multipleSelectionEnabled||(this._internalClearSelection(),e=!0),null!=this.activeEditor.Editor)return this._internalClearSelection(),void this._endSelectionUpdate();var t=-1,i=-1,s={x:this._selectStartPosition.x,y:this._selectStartPosition.y};s.y-=this._offsetY,s.x-=this._offsetX;var r=this._itemHitTest(this._selectStartPosition,{isOnItemButton:!1});if(null!=r)if(!r.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(r=r._getFirstVisibleLeaf(r)),r.isColumn){if("FULL_ROW_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",void this._endSelectionUpdate();this._internalSelectMode="COL_SELECT",this._colItemRangeSelectionBeg=r}else{if("FULL_COLUMN_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="ROW_SELECT",this._rowItemRangeSelectionBeg=r}else{if(!(l=this._pivotCells._hitTest(this._selectStartPosition)))return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="CELLS_SELECT","FULL_ROW_SELECT"==this.selectionMode?this._internalSelectMode="ROW_SELECT":"FULL_COLUMN_SELECT"==this._SelectionMode&&(this._internalSelectMode="COL_SELECT")}var n={x:this._currentPosition.x,y:this._currentPosition.y};"COL_SELECT"==this._internalSelectMode?(n.y>=this._pivotColumns.y+this._pivotColumns.getHeight()&&(n.y=this._pivotColumns.y+this._pivotColumns.getHeight()-1),n.y<=this._pivotColumns.y&&(n.y=this._selectStartPosition.y),n.x<=this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.x>=this._pivotColumns.x+this._pivotColumns.getWidth()&&(n.x=this._pivotColumns.x+this._pivotColumns.getWidth()-1)):"ROW_SELECT"==this._internalSelectMode?(n.y>=this._pivotRows.y+this._pivotRows.getHeight()&&(n.y=this._pivotRows.y+this._pivotRows.getHeight()-1),n.y<=this._pivotRows.y&&(n.y=this._pivotRows.y+1),n.x<=this._pivotRows.x&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1),n.x>=this._pivotRows.x+this._pivotRows.getWidth()&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1)):"CELLS_SELECT"==this._internalSelectMode&&(n.x<this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.y<this._pivotRows.y&&(n.y=this._pivotRows.y+1)),this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null;var o=-1,a=-1;if("COL_SELECT"==this._internalSelectMode||"ROW_SELECT"==this._internalSelectMode)if(null!=r){var l={},d=this._itemHitTest(n,l);if(null==d)return void this._endSelectionUpdate();!d.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(d=d._getLastVisibleLeaf(d)),d.isColumn?this._colItemRangeSelectionEnd=d:this._rowItemRangeSelectionEnd=d}else this._pivotCells.hitTest(n,l),null!=l?(this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow):(this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null);if("CELLS_SELECT"==this._internalSelectMode){l=this._pivotCells._hitTest(this._selectStartPosition);if(this._colItemRangeSelectionBeg=l.pivotColumn,this._rowItemRangeSelectionBeg=l.pivotRow,!l)return this._endSelectionUpdate(),void this._internalRefresh();if(s.x==n.x&&s.y==n.y||(this._pivotCells.hitTest(n,l),this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow),!l.pivotRow||!l.pivotColumn)return this._internalSelectMode="CELLS_SELECT",this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionStart=this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}if(this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e),"CELLS_SELECT"==this._internalSelectMode){var h=this._pivotRows._getVisibleLeafLevelItems(),c=this._pivotColumns._getVisibleLeafLevelItems();i=this._pivotRows._pointToLeafItemIndexAbsolute(this._selectStartPosition),a=this._pivotRows._pointToLeafItemIndexAbsolute(n),t=this._pivotColumns._pointToLeafItemIndexAbsolute(this._selectStartPosition),o=this._pivotColumns._pointToLeafItemIndexAbsolute(n);if(-1==t&&-1==o||-1==i&&-1==a)return this._endSelectionUpdate(),void this._internalRefresh();if(-1==t&&(t=o),-1==o&&(o=t),-1==i&&(i=a),-1==a&&(a=i),o<t){var u=t;t=o,o=u}if(a<i){u=i;i=a,a=u}for(var p=i;p<=a&&p<h.length;p++)for(var m=h[p],f=t;f<=o&&f<c.length;f++){var g=c[f];this._pivotCells._internalSelectCell(m,g)}return this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionEnd,pivotColumn:this._colItemRangeSelectionEnd,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}this._restoreSelectedItemsRangeOrder(),this._applyItemsMultiSelect(e),this._endSelectionUpdate(),this._internalRefresh()}},_saveSelectedItemsRangeOrder:function(){this._adjSelectedItemsSave.colBeg=this._colItemRangeSelectionBeg,this._adjSelectedItemsSave.colEnd=this._colItemRangeSelectionEnd,this._adjSelectedItemsSave.rowBeg=this._rowItemRangeSelectionBeg,this._adjSelectedItemsSave.rowEnd=this._rowItemRangeSelectionEnd},_restoreSelectedItemsRangeOrder:function(){this._colItemRangeSelectionBeg=this._adjSelectedItemsSave.colBeg,this._colItemRangeSelectionEnd=this._adjSelectedItemsSave.colEnd,this._rowItemRangeSelectionBeg=this._adjSelectedItemsSave.rowBeg,this._rowItemRangeSelectionEnd=this._adjSelectedItemsSave.rowEnd},_adjustSelectedItemsOrder:function(e){if(null!=this._colItemRangeSelectionBeg&&null!=this._colItemRangeSelectionEnd&&this._colItemRangeSelectionBeg.x>this._colItemRangeSelectionEnd.x){var t=this._colItemRangeSelectionBeg;this._colItemRangeSelectionBeg=this._colItemRangeSelectionEnd,this._colItemRangeSelectionEnd=t}if(null!=this._rowItemRangeSelectionBeg&&null!=this._rowItemRangeSelectionEnd&&this._rowItemRangeSelectionBeg.y>this._rowItemRangeSelectionEnd.y){t=this._rowItemRangeSelectionBeg;this._rowItemRangeSelectionBeg=this._rowItemRangeSelectionEnd,this._rowItemRangeSelectionEnd=t}(0==this.multipleSelectionEnabled&&!e||null==this._rowItemRangeSelectionEnd)&&(this._rowItemRangeSelectionEnd=this._rowItemRangeSelectionBeg),(0==this.multipleSelectionEnabled&&!e||null==this._colItemRangeSelectionEnd)&&(this._colItemRangeSelectionEnd=this._colItemRangeSelectionBeg)},_applyItemsMultiSelect:function(e){this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e);for(var t=0;t<2;t++)if(!("COL_SELECT"==this._internalSelectMode&&0!=t||"ROW_SELECT"==this._internalSelectMode&&1!=t)){var i=0==t?this._colItemRangeSelectionBeg:this._rowItemRangeSelectionBeg,s=0==t?this._colItemRangeSelectionEnd:this._rowItemRangeSelectionEnd,r=0==t?this._pivotColumns:this._pivotRows,n=r._getVisibleLeafLevelItems();if(null==n)return this._internalRefresh(),void this._restoreSelectedItemsRangeOrder();var o=!1;for(var a in n){var l=n[a];if((l==i||o)&&(l.getWidthWithChildren()+l.x>this._mostRightItemBounds.x+this._mostRightItemBounds.width&&(this._mostRightItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),l.getWidthWithChildren()+l.x<this._mostLeftItemBounds.x+this._mostLeftItemBounds.width&&(this._mostLeftItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),o=!0,r._internalSelectItem(l),l==s))break}!r.isColumnsHierarchy&&r.compactStyleRenderingEnabled||r._applySelectionToParentItems()}this._restoreSelectedItemsRangeOrder()},localizeStrings:function(t,i){var s=this;e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),s._localizedStrings={decimalseparator:".",thousandsseparator:",",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",alignment:"Text alignment",cellalignment:"Number alignment",numberformat:"Number format",prefix:"Number prefix",decimalplacestext:"Decimal places",thousandsseparatortext:"Thousands separator",decimalseparatortext:"Decimal separator",nagativebracketstext:"Negatives in brackets",fieldsettings:"Field settings",ok:"Ok",cancel:"Cancel"};var r=e.extend({},t);for(var n in s._localizedStrings=e.extend(s._localizedStrings,r),r)n&&n.toLowerCase()!==n&&(r[n.toLowerCase()]=r[n]);for(var o in s._localizedStrings)void 0!==r[o]&&(s._localizedStrings[o]=r[o])}})}(jqxBaseFramework),$.jqx.jqxPivotGrid=$.jqx.jqxPivotGrid||{},$.jqx.define($.jqx.jqxPivotGrid,"propertyBag",""),$.extend($.jqx.jqxPivotGrid.propertyBag.prototype,{defineInstance:function(){this.namedPropertyTables={},this._tableSizes={},this.enablePropertyChangeNotifications=!1},getPropertyTable:function(e){return null==this.namedPropertyTables[e]&&(this.namedPropertyTables[e]={},this._tableSizes[e]=0),this.namedPropertyTables[e]},getPropertyCount:function(e){return null==this.getPropertyTable(e)?0:this._tableSizes[e]},getPropertyValue:function(e,t){var i=this.getPropertyTable(e);return null==i?null:null!=i[t]?i[t]:null},containsPropertyValue:function(e,t){var i=this.getPropertyTable(e);return null!=i&&null!=i[t]},removePropertyValue:function(e,t){var i=this.getPropertyTable(e);null!=i&&(delete i[t],this._tableSizes[e]--)},setPropertyValue:function(e,t,i){var s=this.getPropertyTable(e);null!=s&&(null==i||null==i?s[t]&&(this._tableSizes[e]--,delete s[t]):(s[t]||this._tableSizes[e]++,s[t]=i),this.enablePropertyChangeNotifications&&this.onPropertyChanged(e))},clear:function(e){if(""!=e&&null!=e&&null!=e){this.getPropertyTable(e);({}),this._tableSizes[e]=0}else this.namedPropertyTables={}},onPropertyChanged:function(e){$.event.trigger("propertychanged",e)}}),function(e){e.jqx.jqxPivotGrid=e.jqx.jqxPivotGrid||{},e.jqx.define(e.jqx.jqxPivotGrid,"pivotCells",""),e.extend(e.jqx.jqxPivotGrid.pivotCells.prototype,{defineInstance:function(){this.parentPivotGrid=null,this.IsDataBoundPivotCellsEditable=!1,this.cellProperties=new e.jqx.jqxPivotGrid.propertyBag,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._selectedCells=new Object},hitTest:function(e){var t=this._hitTest(e);if(t)return{pivotRow:t.pivotRow,pivotColumn:t.pivotColumn,pivotCells:this}},_hitTest:function(e){var t={};if(t.pivotColumn=this.parentPivotGrid._pivotColumns._pointToLeafItemAbsolute(e),t.pivotRow=this.parentPivotGrid._pivotRows._pointToLeafItemAbsolute(e),!this.parentPivotGrid._pivotColumns.isGroupingColumn(t.pivotColumn)&&null!=t.pivotColumn&&null!=t.pivotRow)return t},clear:function(){this._reset()},_reset:function(){this.cellProperties.clear(),this._selectedCells=new Object,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._clearElementsAndCellsCache()},_resetCanvas:function(){var t=e.jqx.get(this,"renderCanvas");if(t)for(;t.hasChildNodes();)t.removeChild(t.firstChild)},_clearElementsAndCellsCache:function(){this._clearCellsCache()},setCellValue:function(e,t,i){if(null!=e&&null!=t){var s=this.parentPivotGrid.getCellId(t,e),r=(this.getCellDataSource(e,t),-1!=e.BoundFieldIndex&&-1!=t.BoundFieldIndex),n=this.getCellDataSource(e,t);if("DataBound"==n&&r){if(this.parentPivotGrid.OnCellValueChanging(e,t,i))return;try{this.parentPivotGrid.setCellValueFromDataSourceNonPivot(e,t,i)}catch(e){return}return this.cellProperties.setPropertyValue("CellValue",s,null),void this.parentPivotGrid.OnCellValueChanged(e,t)}if("DataBoundPivot"==n){if(this.IsDataBoundPivotCellsEditable)return;throw"The cell's value is derived from the data source and aggregated. It is not editable in this mode. Use the SetCellDataSource method to change the cell's data source first"}this.parentPivotGrid.OnCellValueChanging(e,t,i)||(this.SetCellDataSource(e,t,"Static"),this.cellProperties.setPropertyValue("CellValue",s,i),this.onPropertyChanged("CellValue"),this.parentPivotGrid.OnCellValueChanged(e,t))}},_clearCellsCache:function(){this.cellProperties.clear("CellValue")},_clearCachedCell:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);this.cellProperties.containsPropertyValue("CellValue",i)&&this.cellProperties.removePropertyValue("CellValue",i)},drillThroughCell:function(e,t){if(!e||e.isColumn)throw"Invalid pivotRow parameter";if(!t||!t.isColumn)throw"Invalid pivotColumn parameter";return this.parentPivotGrid.source.drillThroughPivotCell(e.adapterItem,t.adapterItem)},getCellValue:function(e,t){var i=null;if(this.parentPivotGrid._pivotColumns.isGroupingColumn(t))return null;var s=this.parentPivotGrid.getCellId(t,e),r=this.getCellDataSource(e,t);switch((e.isTotal||t.isTotal)&&(r="Virtual"),r){case"Virtual":i=this.parentPivotGrid.onCellValueNeeded(e,t),this.cellProperties.setDirty(s),null==i&&"BoundPivot"==this.parentPivotGrid.bindingState&&(e.isTotal||t.isTotal)&&(i=this.parentPivotGrid.getCellValueFromDataSource(e,t));break;case"DataBoundPivot":null==(i=this.cellProperties.getPropertyValue("CellValue",s))&&(i=this.parentPivotGrid.source.getCellValue(e.adapterItem,t.adapterItem),this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i));break;case"DataBound":if(null==(i=this.cellProperties.getPropertyValue("CellValue",s))){try{i=this.parentPivotGrid.getCellValueFromDataSourceNonPivot(e,t)}catch(e){return null}this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i)}break;case"NotSet":case"Static":default:i=this.cellProperties.getPropertyValue("CellValue",s)}return i},setCellDataSource:function(e,t,i){if(null!=e&&null!=t){var s=this.parentPivotGrid.getCellId(t,e);this.cellProperties.setPropertyValue("cellDataSource",s,i)}},getCellDataSource:function(e,t){var i=this.parentPivotGrid.getCellId(t,e),s=this.cellProperties.getPropertyValue("cellDataSource",i);return null==s&&(s=t.cellDataSource),null!=s&&"NotSet"!=s||(s=e.cellDataSource),null!=s&&"NotSet"!=s?s:this.parentPivotGrid.UseVirtualCellsByDefault?"Virtual":"DataBound"==this.parentPivotGrid.bindingState||"DataBoundPivot"==this.parentPivotGrid.bindingState?this.parentPivotGrid.bindingState:"NotSet"},render:function(){var t=this.renderCanvas;if(t){var i=this.parentPivotGrid;i.setElementPosition(t,-this.parentPivotGrid._offsetX,-this.parentPivotGrid._offsetY);var s=i._pivotRows,r=i._pivotColumns;if(this._refreshRequired||s._isVirtualMode||r._isVirtualMode){var n=s._getLeafItemsToRender(),o=r._getLeafItemsToRender();this._cellElements=this._cellElements||{};for(var a=new Array,l=new Date,d={first:s._isVirtualMode?n.first:0,last:s._isVirtualMode?n.last:n.items.length-1},h={first:r._isVirtualMode?o.first:0,last:r._isVirtualMode?o.last:o.items.length-1},c=d.last;c>=d.first;c--)for(var u=h.last;u>=h.first;u--)if(-1!=c&&-1!=u){var p=n.items[c],m=o.items[u],f=i.getCellId(m,p),g=m.getDisplayWidth()-1,v=p.getDisplayHeight()-1,x=this.isCellSelected(p,m),w=this._cellElements[f],y=void 0;w&&w.isSelected==x&&(y=w.element);var b={left:4,top:4,right:4,bottom:4},_=this.getCellValue(p,m),j="";if(y)y.style.width==g+"px"&&y.style.height==v+"px"||this.parentPivotGrid.setElementSize(y,g,v);else{(y=i.createDiv(t,j,g,v)).cellId=f,this._cellElements[f]={element:y,isSelected:x},i.setElementSize(y,g,v);var q="right";if(i.cellsRenderer&&e.isFunction(i.cellsRenderer))j=i.cellsRenderer({value:_.value,formattedValue:_.formattedValue,isSelected:x,pivotRow:p,pivotColumn:m}),b={left:0,top:0,right:0,bottom:0};else{j=void 0!==_&&void 0!==_.formattedValue?_.formattedValue.toString():"";var T=this.parentPivotGrid.source.getCellFormatSettings(p.adapterItem,m.adapterItem);T&&(q=T.align||"right")}this.parentPivotGrid.setDivContent(y,j,b,q),y.originalY=y.style.top,y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal")}y.tRender=l,"block"!=y.style.display&&(y.style.display="block"),y.style.left==m.x+"px"&&y.style.top==p.y+"px"||this.parentPivotGrid.setElementPosition(y,m.x,p.y);var C="cellsClassName";this.isCellSelected(p,m)?(y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-selected jqx-fill-state-hover jqx-widget-content"),C="cellsClassNameSelected"):y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal jqx-widget-content");var S=e.jqx.getByPriority([p[C],p.adapterItem&&p.adapterItem.boundField?p.adapterItem.boundField[C]:void 0,m[C],m.adapterItem&&m.adapterItem.boundField?m.adapterItem.boundField[C]:void 0]);S&&(y.className+=" "+S),y.className+=" jqx-pivotgrid-content-wrapper"}for(var k=0;k<t.childNodes.length;k++)t.childNodes[k].cellId&&t.childNodes[k].tRender!=l&&a.push(t.childNodes[k]);for(;;){if(!(y=a.pop()))break;delete this._cellElements[y.cellId],y.style.display="none",t.removeChild(y)}this._refreshRequired=!1}}},_beginSelectionUpdate:function(){for(var e in this._selectedCells)this._selectedCells[e].OldIsSelected=this._selectedCells[e].isSelected},_endSelectionUpdate:function(){var e=new Array;for(var t in this._selectedCells){var i=this._selectedCells[t];i.isSelected||e.push(t),i.isSelected,i.OldIsSelected}if(e.length>0)for(var t in e)delete this._selectedCells[e[t]]},_internalClearSelection:function(){for(var e in this._selectedCells)this._internalUnselectCell(this._selectedCells[e].pivotRow,this._selectedCells[e].pivotColumn)},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate(),this.render()},selectCell:function(e,t){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectCell(e,t),this.parentPivotGrid._cellKBRangeSelectionStart={pivotRow:e,pivotColumn:t,pivotCells:this},this.parentPivotGrid._cellKBRangeSelectionEnd={pivotRow:e,pivotColumn:t,pivotCells:this},this._endSelectionUpdate())},_internalSelectCell:function(e,t){if(null==t||!this.parentPivotGrid._pivotColumns.isGroupingColumn(t)){if("NO_SELECT"==this.parentPivotGrid._internalSelectMode)switch(this.parentPivotGrid.selectionMode){case"CELL_SELECT":this.parentPivotGrid._internalSelectMode="CELLS_SELECT";break;case"FULL_COLUMN_SELECT":this.parentPivotGrid._internalSelectMode="COL_SELECT";break;case"FULL_ROW_SELECT":this.parentPivotGrid._internalSelectMode="ROW_SELECT"}var i=this.parentPivotGrid.getCellId(t,e);delete this._cellElements[i],null==this._selectedCells[i]?this._selectedCells[i]={pivotRow:e,pivotColumn:t,isSelected:!0}:this._selectedCells[i].isSelected=!0,this._refreshRequired=!0}},unselectCell:function(e,t){this._beginSelectionUpdate(),this._internalUnselectCell(e,t),this._endSelectionUpdate()},_internalUnselectCell:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);null!=this._selectedCells[i]&&(this._selectedCells[i].isSelected=!1),delete this._cellElements[i],this._refreshRequired=!0},isCellSelected:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);return!(!t.isSelected&&!e.isSelected)||null!=this._selectedCells[i]&&this._selectedCells[i].isSelected},getSelectedCellsCount:function(){return this._selectedCells.length},getSelectedCells:function(){var e=new Array;for(var t in this._selectedCells){var i=this._selectedCells[t];i.isSelected&&e.push({pivotRow:i.pivotRow,pivotColumn:i.pivotColumn,pivotCells:this})}return e},getNextCell:function(e,t){var i={};switch(t){case"left":i={x:e.pivotColumn.x-1,y:e.pivotRow.y+1};break;case"right":i={x:e.pivotColumn.x+e.pivotColumn.getWidth()+1,y:e.pivotRow.y+1};break;case"top":i={x:e.pivotColumn.x+1,y:e.pivotRow.y-1};break;case"bottom":i={x:e.pivotColumn.x+1,y:e.pivotRow.y+e.pivotRow.getHeight()+1}}var s={x:i.x+2*this.parentPivotGrid._pivotColumns.x-this.parentPivotGrid._pivotColumns.viewPort.x,y:i.y+2*this.parentPivotGrid._pivotRows.y-this.parentPivotGrid._pivotRows.viewPort.y},r=this._hitTest(s);if(r)return r}})}(jqxBaseFramework),function(e){e.jqx.jqxPivotGrid=e.jqx.jqxPivotGrid||{},e.jqx.jqxPivotGrid.pivotItem=function(e,t){this.text="Item",this.isExpanded=!1,this.expandCollapseEnabled=!0,this.isHidden=!1,this.isFiltered=!1,this.isSelected=!1,this._height=26,this._width=18,this.isDirty=!0,this.parentItem=e||null,this.hierarchy=t||e.hierarchy,this.parentPivotGrid=this.hierarchy.parentPivotGrid,this.id=this.parentPivotGrid.genId(),this.itemLevel=0,this.itemColumn=0,this._itemOrdinal=NaN,this.x=0,this.y=0,this.hierarchyItemWidth=70,this.hierarchyItemHeight=26,this.widthWithChildrenCached=0,this.minimumWidth=18,this.maximumWidth=1e7,this.minimumHeight=8,this.maximumHeight=1/0,this.items=new Array,this.valueItems=new Array},e.extend(e.jqx.jqxPivotGrid.pivotItem.prototype,{_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},_calculateWidthWithChildren:function(){if(this.isHidden)this.widthWithChildrenCached=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(e)this.widthWithChildrenCached=this.hierarchy.getColumnWidth(0);else if(this.widthWithChildrenCached=this.getWidth(),null!=this.items&&null!=this.valueItems&&(this.getVisibleItemsCount()>0||!this.isColumn&&!e)){var t=0;if(this.isColumn){if(t=0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||(t+=this.items[s].getWidthWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||(t+=this.valueItems[s].getWidthWithChildren())}else for(var i=this.hierarchy.getMaxVisibleLevelDepth(),s=this.itemLevel;s<=i;s++)t+=this.hierarchy.getColumnWidth(s);this.widthWithChildrenCached=t}else this.widthWithChildrenCached=this.getWidth()}},getWidthWithChildren:function(){return this.hierarchy._renderRequired&&this._calculateWidthWithChildren(),this.widthWithChildrenCached},getDisplayWidth:function(){if(!this.isDirty&&!this.hierarchy._renderRequired)return this.displayWidth;var e=this.hasVisibleValueItems();return this.isColumn?this.displayWidth=this.isExpanded||e?this.getWidthWithChildren():this.getWidth():(this.displayWidth=!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled?this.getWidthWithChildren():this.getWidth(),this.isExpanded||e||(this.displayWidth=this.hierarchy.getWidth()-this.x)),this.displayWidth<18&&(this.displayWidth=18),this.displayWidth},getWidth:function(){if(this.isHidden||this.isFiltered)return 0;if(null==this.hierarchy)return 0;var e=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(e=0);var t=this.minimumWidth;if(this.isColumn){if(t=this.hierarchyItemWidth,this.parentItem){var i=this.parentItem.getWidth();i>t&&this.parentItem.widthWithChildrenCached}}else t=this.hierarchy.getColumnWidth(e);return t},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_measureElement:function(t){t=this.escape_HTML(""+t);var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");e(document.body).append(i);var s=this.hierarchy.sortable?16:0,r={width:i.width()+s+8,height:i.height()+8};return i.remove(),r},autoResize:function(e){e||(e="fitItemContent"),this.isColumn?this.setWidth(this.minimumWidth):this.setHeight(this.minimumHeight),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this._autoResizeBestItemContent(e),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this.isColumn&&null!=this.parentItem&&this.getWidth()<this.parentItem.getWidth()&&this.setWidth(this.parentItem.getWidth())},_autoResizeBestItemContent:function(e){this._updateVisibleChildItemsCount();var t=this._measureElement(this.text);("default"==e&&this.adapterItem.boundField&&(isNaN(this.adapterItem.boundField.width)||(t.width=this.adapterItem.boundField.width),isNaN(this.adapterItem.boundField.height)||(t.height=this.adapterItem.boundField.height)),this.itemColumn>=this.hierarchy._getColumnsCount()&&this.hierarchy._updateColumnsCount(),this._visibleChildItemsCount>0&&(t.width+=30),(this.getWidth()<t.width||"default"==e&&this.adapterItem.boundField&&!isNaN(this.adapterItem.boundField.width))&&this.setWidth(t.width),this.isColumn)?this.parentPivotGrid._pivotColumns.getHeight()<t.height&&this.parentPivotGrid._pivotColumns.setRowHeight(this,t.height):this.getHeight()<t.height&&this.setHeight(t.height);for(var i in this.items)this.items[i]._autoResizeBestItemContent(e);for(var i in this.valueItems)this.valueItems[i]._autoResizeBestItemContent(e);null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_autoResizeBestCellFit:function(e){if(null!=this.hierarchy&&this.hierarchy._renderRequired&&this.hierarchy.render(),null!=this.hierarchy&&this.hierarchy.ColumnsCountRequresUpdate&&this.hierarchy._updateColumnsCount(),0==this.items.length&&0==this.valueItems.length){if(null!=this.hierarchy&&null!=this.parentPivotGrid&&null!=this.parentPivotGrid._pivotCells&&null!=this.parentPivotGrid._pivotRows&&null!=this.parentPivotGrid._pivotColumns){var t={width:1,height:1},i=(this.isColumn?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,this._getVisibleLeafLevelItems());for(var s in i){i[s].isColumn||i[s],i[s].isColumn&&i[s];var r={width:10,height:10};t.width<r.width&&(t.width=r.width),t.height<r.height&&(t.height=r.height)}this.width<t.width&&this.setWidth(t.width),!this.isColumn&&this.getHeight()<t.height&&this.setHeight(t.height)}}else{for(var s in this.items)this.items[s]._autoResizeBestCellFit(e);for(var s in this.valueItems)this.valueItems[s]._autoResizeBestCellFit(e)}null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},setWidth:function(e){if(e<0)throw new Exception("Invalid pivotItem Width value. The value must greater than 0");if(null!=this.hierarchy){var t=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(t=0),this.hierarchy._getColumnsCount()<t&&this.hierarchy._updateColumnsCount(),e<this.minimumWidth&&(e=this.minimumWidth),e>this.maximumWidth&&(e=this.maximumWidth),this.isColumn?this.hierarchyItemWidth=e:this.hierarchy.setColumnWidth(t,e),this.hierarchy._renderRequired=!0}},getHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight},setHeight:function(e){if(e<0||e>1e4)throw new Exception("Invalid pivotItem Height value. The value must be between 0 and 10000");e<this.minimumHeight&&(e=this.minimumHeight),e>this.maximumHeight&&(e=this.maximumHeight),this.hierarchyItemHeight=e,null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_calculateHeightWithChildren:function(){if(this.isHidden||this.isFiltered)this.heightWithChildren=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(this.isExpanded||this.hasVisibleValueItems()){var t=0;if(this.isColumn){t=this.hierarchyItemHeight;var i=0;if(this.isExpanded)for(var s=0;s<this.items.length;s++){i<(r=this.items[s].getHeightWithChildren())&&(i=r)}for(s=0;s<this.valueItems.length;s++){var r;i<(r=this.valueItems[s].getHeightWithChildren())&&(i=r)}i>0&&(t+=i)}else{if(t=e?this.getHeight():0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||this.items[s].isFiltered||(t+=this.items[s].getHeightWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||this.valueItems[s].isFiltered||(t+=this.valueItems[s].getHeightWithChildren())}this.heightWithChildren=t}else this.heightWithChildren=this.hierarchyItemHeight;this.IsRowDetailsVisible&&(this.heightWithChildren+=this.RowDetailsHeight)}},getHeightWithChildren:function(){return(this.hierarchy._renderRequired||this.isDirty)&&this._calculateHeightWithChildren(),this.heightWithChildren},getDisplayHeight:function(){var e=this.hasVisibleValueItems(),t=0;return this.isColumn?t=this.isExpanded||e?this.getTotalHeight():this.hierarchy.getHeight()-this.y:this.hierarchy.compactStyleRenderingEnabled?(t=this.getHeight(),this.IsRowDetailsVisible&&(t+=this.RowDetailsHeight)):t=this.getHeightWithChildren(),t<this.minimumHeight&&(t=this.minimumHeight),t},getTotalHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight+(this.IsRowDetailsVisible?this.RowDetailsHeight:0)},ensureVisible:function(){var e=this;if(!e.isVisible()){var t=e.hierarchy.parentPivotGrid.host;if(e.isColumn){var i=t.find("#divHScroll");e.x+e.getWidth()>e.hierarchy.viewPort.width?i.val(e.x+e.getWidth()-e.hierarchy.viewPort.width):i.val(e.x)}else{var s=t.find("#divVScroll");e.y+e.getHeight()>e.hierarchy.viewPort.height?s.val(e.y+e.getHeight()-e.hierarchy.viewPort.height):s.val(e.y)}}},isVisible:function(){return!this.isHidden&&!(this.y<this.hierarchy.viewPort.y-this.hierarchy.y||this.y+this.getDisplayHeight()>this.hierarchy.viewPort.y-this.hierarchy.y+this.hierarchy.viewPort.height||this.x<this.hierarchy.viewPort.x-this.hierarchy.x||this.x+this.getDisplayWidth()>this.hierarchy.viewPort.x-this.hierarchy.x+this.hierarchy.viewPort.width)},_updateVisibleChildItemsCount:function(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;this._visibleChildItemsCount=e},render:function(e,t){this._updateVisibleChildItemsCount();if(this.isHidden||this.isFiltered)return!0;this.x=e,this.y=t;var i=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled,s=i?this.getTotalHeight():0;if(this.isExpanded)for(var r=0;r<this.items.length;r++){if(!(o=this.items[r]).isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,t+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{var n=e;if(n+=i?0:this.getWidth(),!o.render(n,this.y+s))break;s+=o.getHeightWithChildren()}}for(r=0;r<this.valueItems.length;r++){var o;if(!(o=this.valueItems[r]).isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,t+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{n=e;if(n+=i?0:this.getWidth(),!o.render(n,this.y+s))break;s+=o.getHeightWithChildren()}}return this._calculateWidthWithChildren(),this._calculateHeightWithChildren(),!0},_getChildItemsDepth:function(){for(var e=0,t=0;t<this.items.length;t++){(i=this.items[t]._getChildItemsDepth())>e&&(e=i)}for(t=0;t<this.valueItems.length;t++){var i;(i=this.valueItems[t]._getChildItemsDepth())>e&&(e=i)}return e+1},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},hasVisibleValueItems:function(){for(var e=0;e<this.valueItems.length;e++){var t=this.valueItems[e];if(0==t.isHidden&&0==t.isFiltered)return!0}return!1},getVisibleItemsCount:function(){if(this.isHidden||this.isFiltered)return 0;var e=0;if(!(this.isExpanded&&0!=this.items.length||0!=this.valueItems.length))return e;e=0;for(var t=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;for(t=0;t<this.valueItems.length;t++)this.valueItems[t].isHidden||this.valueItems[t].isFiltered||e++;return e},hitTest:function(e){if(this.isHidden||this.isFiltered)return null;var t=this.getDisplayHeight()+1,i=this.getDisplayWidth()+1;return e.x>=this.x&&e.x<=this.x+i&&e.y>=this.y&&e.y<=this.y+t?this:null},_expandInternal:function(t,i,s){if(0!=this.items.length&&this.expandCollapseEnabled&&this.isExpanded!=t){(o=new e.Event(this.isExpanded?"pivotitemcollapsing":"pivotitemexpanding")).owner=this.hierarchy.parentPivotGrid,o.args={pivotItem:this},o.cancel=!1;var r=this.hierarchy.parentPivotGrid.host;if(r.trigger(o),!o.cancel&&(this.isExpanded=t,0!=this.items.length||0!=this.valueItems.length)){if(s){for(var n=0;n<this.items.length;n++)this.items[n]._expandInternal(t,i,s);for(n=0;n<this.valueItems.length;n++)this.valueItems[n]._expandInternal(t,i,s)}var o;this.hierarchy._renderRequired=!0,i&&this.hierarchy._updateVisibleLeaves(),(o=new e.Event(this.isExpanded?"pivotitemexpanded":"pivotitemcollapsed")).owner=this.hierarchy.parentPivotGrid,o.args={pivotItem:this},r.trigger(o)}}},expand:function(){this._expandInternal(!0,!0,!1)},collapse:function(){this._expandInternal(!1,!0,!1)},_getFirstVisibleLeaf:function(e){if(e.isExpanded){for(var t=!1,i=0;i<e.items.length;i++)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}if(e.hasVisibleValueItems){for(t=!1,i=0;i<e.valueItems.length;i++)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}return e},_getLastVisibleLeaf:function(e){for(var t=!1,i=e.valueItems.length-1;i>=0;i--)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getLastVisibleLeaf(e),t=!0;break}if(t)return e;for(i=e.items.length-1;i>=0&&e.isExpanded;i--)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getLastVisibleLeaf(e);break}return e}}),e.jqx.jqxPivotGrid.hierarchy=function(){this.parentPivotGrid=arguments[0],this._initDefaults()},e.extend(e.jqx.jqxPivotGrid.hierarchy.prototype,{_initDefaults:function(){this.columnWidths=new Array,this.rowHeights=new Array,this.items=new Array,this.valueItems=new Array,this.visibleLeafItems=new Array,this.viewPort=new Object,this.viewPort.x=0,this.viewPort.y=0,this.viewPort.width=1e4,this.viewPort.height=1e4,this.isFixed=!1,this.isHidden=!1,this.resizable=!0,this.sortable=!0,this._renderRequired=!0,this.maxVisibleLevelDepth=-1,this.showExpandCollapseButtons=!0,this.x=0,this.y=0,this._width=0,this._height=0,this.minColumnWidth=18,this._isColumnsCountRequresUpdate=!0,this._selectedItems=new Object,this.virtualModeThreshold=5e3,this._isVirtualMode=!0},isVisible:function(){return!this.isHidden},toggle:function(){this.isHidden?this.show():this.hide()},getOtherHierarchy:function(){return this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns},show:function(){this.isHidden=!1,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},hide:function(){this.isHidden=!0,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},refresh:function(){var t=this.parentPivotGrid,i=t.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-widget-header"),s=t.toThemeProperty("jqx-widget-content jqx-fill-state-normal jqx-widget-header"),r=e.jqx.get(this,"renderCanvas");if((this._renderRequired||this._refreshRequired)&&(this._renderRequired&&this.render(),!this.isHidden)){var n=new Array,o=new Date,a=this._getItemsToRender();if(a){for(var l=0;l<a.length;l++){var d=a[l],h=d.getDisplayWidth()-1,c=d.getDisplayHeight()-1,u=d._element;if(e.isFunction(t.itemsRenderer)){var p=t.itemsRenderer(d);u&&d._currentCustomContent!=p&&(r.removeChild(u),u=d._element=null),d._currentCustomContent=p}if(!u){var m={left:4,top:4,right:4,bottom:4};!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled&&(m.left+=d.itemLevel*this.compactStyleRenderingItemsIndent);var f=d.text,g="left";if(e.isFunction(t.itemsRenderer))f=d._currentCustomContent,m={left:0,top:0,right:0,bottom:0};else{var v="";0!=d.items.length&&d.hierarchy.showExpandCollapseButtons&&(v=d.isExpanded?"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-collapse-button'></div>":"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-expand-button'></div>");var x="";if(d.hierarchy._sortItem==d)x="<div id='sortElement' class='"+("desc"==d.hierarchy._sortOrder?"sortdesc jqx-grid-column-sortdescbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-down"):"sortasc jqx-grid-column-sortascbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-up"))+"' style='position: relative; float: right; padding-right: 8px; width: 16px; height: 100%;'></div>";var w=d.text;if(d.adapterItem.boundField&&(g=d.adapterItem.boundField.align||"left"),"center"!=(g=g.toString().toLowerCase())&&"right"!=g&&(g="left"),""!=x){var y=0,b=24;""!=v&&(b+=y=23),f=v+"<div><div style='left: "+y+"px; top: 0; position: absolute; height: 100%; width: calc(100% - "+b+"px); text-overflow: ellipsis; overflow: hidden;  white-space: nowrap;padding-left:"+m.left+"px; padding-top:"+m.top+"px; '>"+w+"</div><div style='left: 0; top: 0; position: absolute; height: 100%; width: 100%;'>"+x+"</div></div>"}else f=v+w+x}u=t.createDiv(r,"",h,c),t.setDivContent(u,f,m,g,!0),this.parentPivotGrid.getChild(u,"innerDiv").className="jqx-pivotgrid-item",t.setElementPosition(u,d.x,d.y),u.originalY=u.style.top}d.tRender=o;var _=d.isSelected?i:s,j=d.isSelected?"classNameSelected":"className",q=e.jqx.getByPriority([d[j],d.adapterItem&&d.adapterItem.boundField?d.adapterItem.boundField[j]:void 0,this.hierarchy?this.hierarchy[j]:void 0]);q&&(_+=" "+q),(_+=" jqx-pivotgrid-content-wrapper")!=u.className&&(u.className=_),u.style.display="block",u.item=d,d._element=u}for(l=0;l<r.childNodes.length;l++)r.childNodes[l].item&&r.childNodes[l].item.tRender!=o&&n.push(r.childNodes[l]);for(;;){var T=n.pop();if(!T)break;r.childNodes.length>100?(T.item._element=void 0,r.removeChild(T)):T.item._element.style.display="none"}var C=this.isColumnsHierarchy?0:-t._offsetY,S=this.isColumnsHierarchy?-t._offsetX:0;t.setElementPosition(r,S,C),this._refreshRequired=!1}}},clear:function(){this._initDefaults(),this._resetCanvas(),this.items=[],this.valueItems=[],this._renderRequired=!0},_resetCanvas:function(){var t=e.jqx.get(this,"renderCanvas");if(t)for(;t.hasChildNodes();)t.firstChild.item._element=void 0,t.removeChild(t.firstChild)},autoResize:function(e){for(var t=0;t<this.items.length;t++)this.items[t].autoResize(e);for(t=0;t<this.valueItems.length;t++)this.valueItems[t].autoResize(e)},getMaxVisibleLevelDepth:function(){if(-1==this.maxVisibleLevelDepth||this._renderRequired){var e=this._getVisibleLeafLevelItems();this.maxVisibleLevelDepth=0;for(var t=0;t<e.length;t++)e[t].itemLevel>this.maxVisibleLevelDepth&&(this.maxVisibleLevelDepth=e[t].itemLevel)}return this.maxVisibleLevelDepth},getHierarchyDepth:function(){for(var e=0,t=0;t<this.items.length;t++){(i=this.items[t]._getChildItemsDepth())>e&&(e=i)}for(t=0;t<this.valueItems.length;t++){var i;(i=this.valueItems[t]._getChildItemsDepth())>e&&(e=i)}return e},getSortItem:function(){return this._sortItem},getSortOrder:function(){return this._sortOrder},_fnAscSortComparer:function(e,t){var i=e.hierarchy.parentPivotGrid,s=(e.isColumn?i._pivotRows:i._pivotColumns)._sortItem;if(!s)return 0;if(e.adapterItem&&e.adapterItem.isTotal)return 1;if(t.adapterItem&&t.adapterItem.isTotal)return-1;var r=i._pivotCells,n=e.isColumn?r.getCellValue(s,e):r.getCellValue(e,s),o=t.isColumn?r.getCellValue(s,t):r.getCellValue(t,s);return n.value-o.value},_fnDescSortComparer:function(t,i){return t.adapterItem&&t.adapterItem.isTotal?1:i.adapterItem&&i.adapterItem.isTotal?-1:-1*e.jqx.jqxPivotGrid.hierarchy.prototype._fnAscSortComparer(t,i)},_collectionSort:function(e,t,i){if(this.parentPivotGrid&&this.parentPivotGrid._pivotCells){var s=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;e||(e=this.items),t||(t="asc"==s._sortOrder?this._fnAscSortComparer:this._fnDescSortComparer),this._isSorted&&!i&&this._collectionRemoveSort(e);for(var r=0;r<e.length;r++)e[r]._itemOrdinal=r,this._collectionSort(e[r].items,t,!0);e=e.sort(t),i||(this._isSorted=!0,this._renderRequired=!0,s._renderRequired=!0,this._updateVisibleLeaves())}},_collectionRemoveSort:function(e,t){if(this._isSorted){e||(e=this.items);for(var i=new Array(e.length),s=0;s<e.length;s++)i[e[s]._itemOrdinal]=e[s],this._collectionRemoveSort(e[s].items,!0);if(this.items=i,!t){this._renderRequired=!0,this._updateVisibleLeaves(),this.isColumnsHierarchy&&(this._isColumnsCountRequresUpdate=!0),this._isSorted=!1;var r=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;r._sortItem=void 0,r._sortOrder=void 0,r._renderRequired=!0}}},sortBy:function(t,i){if(t&&t.isColumn!=this.isColumnsHierarchy&&!(t.valueItems.length>0)){var s=new e.Event("sortchanging");if(s.owner=this.parentPivotGrid,s.args={pivotItem:t,sortOrder:i},s.cancel=!1,this.parentPivotGrid.host.trigger(s),!s.cancel){this._collectionRemoveSort(this.items);var r=t.isColumn?this.parentPivotGrid._pivotColumns:this.parentPivotGrid._pivotRows;r._sortItem=t,r._sortOrder=i,this._collectionSort(),this.parentPivotGrid._internalRefresh(),(s=new e.Event("sortchanged")).owner=this.parentPivotGrid,s.args={pivotItem:t,sortOrder:i},this.parentPivotGrid.host.trigger(s)}}},removeSort:function(){var t=this==this.parentPivotGrid._pivotColumns?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,i=t._sortItem,s=t._sortOrder,r=new e.Event("sortremoving");r.owner=this.parentPivotGrid,r.args={pivotItem:i,sortOrder:s},r.cancel=!1;var n=this.parentPivotGrid.host;n.trigger(r),r.cancel||(this._collectionRemoveSort(this.items),this.parentPivotGrid._internalRefresh(),(r=new e.Event("sortremoved")).owner=this.parentPivotGrid,r.args={pivotItem:i,sortOrder:s},n.trigger(r))},_binSearchItems:function(e,t){return this._binSearchItems2(e,t,0,e.length)},_binSearchItems2:function(e,t,i,s){var r=i,n=s;if(n==r)return-1;for(var o=e[0].isColumn;r<n;){var a=parseInt((r+n)/2),l=e[a];if(o)if(l.x>t.x)n=a;else{if(!((a+1<n?e[a+1].x:l.x+l.getWidth())<t.x))return a;r=a+1}else if(l.y>t.y)n=a;else{if(!((a+1<n?e[a+1].y:l.y+l.getTotalHeight())<t.y))return a;r=a+1}}return-1},_pointToLeafItemIndex:function(e){this._renderRequired&&this.render();var t={x:e.x,y:e.y};t.x+=-this.x+this.viewPort.x,t.y+=-this.y+this.viewPort.y;var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,t)},_pointToLeafItem:function(e){var t=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndex(e);return-1==i||i<0||i>=t.length?null:(t[i].lfIdx=i,t[i])},_pointToLeafItemIndexAbsolute:function(e){this._renderRequired&&this.render();this.viewPort.x,this.x,this.viewPort.y,this.y;var t={x:e.x,y:e.y};t.x-=this.x-(this.viewPort.x-this.x),t.y-=this.y-(this.viewPort.y-this.y);var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,t)},_pointToLeafItemAbsolute:function(e){var t=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndexAbsolute(e);return-1==i||i<0||i>=t.length?null:(t[i].lfIdx=i,t[i])},_pointInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},hitTest:function(e){this._renderRequired&&this.render();var t=this.viewPort.x-this.x,i=this.viewPort.y-this.y;if(!this._pointInRect({x:e.x+t,y:e.y+i},this.viewPort)||this.isHidden)return null;var s={x:e.x,y:e.y};s.x-=this.x-(this.viewPort.x-this.x),s.y-=this.y-(this.viewPort.y-this.y);var r=this._getVisibleLeafLevelItems(),n=this._binSearchItems(r,s);if(-1==n)return null;var o=r[n],a=o.hitTest(s);if(null!=a)return a;for(;null!=o;)if(null!=(o=o.parentItem)&&null!=(a=o.hitTest(s)))return a;return null},_addColumn:function(e){return e<this.minColumnWidth&&(e=this.minColumnWidth),this.columnWidths.push(e),this.columnWidths.length-1},setColumnWidth:function(e,t){return e>=this.columnWidths.length&&this._updateColumnsCount(e+1),t<this.minColumnWidth&&(t=this.minColumnWidth),e<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0,!0},getColumnWidth:function(e){return e>=this.columnWidths.length?70:this.columnWidths[e]},_getVisibleLeaves:function(e,t,i){if(t.isHidden||t.isFiltered)return!0;if(0==t.items.length&&0==t.valueItems.length)return e.push(t),!0;if(i&&e.push(t),t.isExpanded)for(var s=0;s<t.items.length;s++){var r=t.items[s];r.isHidden||r.isFiltered||(t.items.length>0&&r.isExpanded||r.hasVisibleValueItems()?this._getVisibleLeaves(e,r,i):e.push(r))}for(s=0;s<t.valueItems.length;s++){var n=t.valueItems[s];n.isHidden||n.isFiltered||e.push(n)}return!0},_getVisibleLeafLevelItems:function(){return 0==this.visibleLeafItems.length&&this._updateVisibleLeaves(),this.visibleLeafItems},_updateVisibleLeaves:function(){if(this.visibleLeafItems=new Array,this.items.length+this.valueItems.length!=0){for(var e=!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled,t=0;t<this.items.length;t++){(i=this.items[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i))}for(t=0;t<this.valueItems.length;t++){var i;(i=this.valueItems[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i))}for(t=0;t<this.visibleLeafItems.length;t++)this.visibleLeafItems[t]._lfIndex=t;this._updateItemsLevelAndColumn()}},_getFirstLeafIndexToRender:function(){var e={x:this.x,y:this.y},t={x:e.x,y:e.y};return t.x-=this.x-(this.viewPort.x-this.x),t.y-=this.y-(this.viewPort.y-this.y),this._binSearchItems(this._getVisibleLeafLevelItems(),t)},_getLastLeafIndexToRender:function(){var e={x:Math.min(this.viewPort.width,this.getWidth())-5,y:Math.min(this.viewPort.height,this.getHeight())-5};return this._pointToLeafItemIndex(e)},_getLeafItemsToRender:function(){var e={};return e.items=this._getVisibleLeafLevelItems(),e.first=this._getFirstLeafIndexToRender(),e.last=this._getLastLeafIndexToRender(),e},_getItemsToRender:function(){var e=this._getLeafItemsToRender(),t=e.first,i=e.last;if(-1!=t&&-1!=i){var s={};for(o=t;o<=i;o++){var r=e.items[o];for(s[r.id]=r;null!=r.parentItem;)s[(r=r.parentItem).id]=r}var n=new Array;for(var o in s)n.push(s[o]);return n}},_updateItemsLevelAndColumn2:function(e,t){e.itemColumn=t,e.itemLevel=t;for(var i=0;i<e.items.length;i++)this._updateItemsLevelAndColumn2(e.items[i],t+1);for(i=0;i<e.valueItems.length;i++)this._updateItemsLevelAndColumn2(e.valueItems[i],t+1)},_updateItemsLevelAndColumn:function(){for(var e=0;e<this.items.length;e++)this._updateItemsLevelAndColumn2(this.items[e],0);for(e=0;e<this.valueItems.length;e++)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},updateColumnsCount:function(){this.updateColumnsCount(0)},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},_updateColumnsCount:function(e){var t=this._getColumnsCount(),i=this.getTotalItemsCount();if(e>1024&&(e=1024),this.isColumnsHierarchy)e>i&&(i=e);else{var s=this.getHierarchyDepth();i=e>s?e:s}for(var r=t;r<i;r++)this._addColumn(70);this._isColumnsCountRequresUpdate=!1},_updateColumnsIndexes:function(){for(var e in this.items)this._updateItemsLevelAndColumn2(this.items[e],0);for(var e in this.valueItems)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},_getColumnsCount:function(){return this.columnWidths.length},_getRenderedItems:function(){var e=new Array;return this._getChildItemsToRender(e),e},_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},getWidth:function(){return this._renderRequired&&this.render(),this._width},getHeight:function(){return this._renderRequired&&this.render(),this._height},_beginSelectionUpdate:function(){for(var e in this._selectedItems)this._selectedItems[e].OldIsSelected=this._selectedItems[e].isSelected},_endSelectionUpdate:function(){var t=new Array;for(var i in this._selectedItems){var s=this._selectedItems[i];if(s.isSelected||t.push(this._selectedItems[i]),s.isSelected!=s.OldIsSelected&&(null==s.parentItem||1==s.parentItem.isExpanded||s._isValueItem)){var r=new e.Event("pivotitemselectionchanged");r.owner=this.parentPivotGrid,r.args={pivotItem:s,selected:s.isSelected},this.parentPivotGrid.host.trigger(r)}}for(var i in t){var n=this._selectedItems[t[i].adapterItem.key];n.isSelected=n.OldIsSelected=!1,delete this._selectedItems[t[i].adapterItem.key]}},selectItem:function(e){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectItem(e),this._endSelectionUpdate())},_internalSelectItem:function(e){if(null!=e&&!(e.isColumn!=this.isColumnsHierarchy||this.isColumnsHierarchy&&this.isGroupingColumn(e))){var t=e.adapterItem.key;if(null==this._selectedItems[t]&&(this._selectedItems[t]=e),e.isSelected=!0,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalSelectItem(e.items[i]);for(var i in e.valueItems)this._internalSelectItem(e.valueItems[i])}}},unselectItem:function(e){this._beginSelectionUpdate(),this._internalUnselectItem(e),this._endSelectionUpdate()},_internalUnselectItem:function(e){if(null!=e&&e.isColumn==this.isColumnsHierarchy){var t=e.adapterItem.key;if(this._selectedItems[t]&&(this._selectedItems[t].isSelected=!1,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0),this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalUnselectItem(e.items[i]);for(var i in e.valueItems)this._internalUnselectItem(e.valueItems[i])}}},_internalClearSelection:function(){for(var e in this._selectedItems)this._internalUnselectItem(this._selectedItems[e])},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate()},_applySelectionToParentItem:function(e){var t=e.parentItem;if(null!=t&&null!=t){var i=e.hierarchy,s=!0;if(t.isExpanded)for(var r in t.items){if(0==(n=t.items[r]).isSelected&&0==n.isHidden){s=!1;break}}if(s)for(var r in t.valueItems){var n;if(0==(n=t.valueItems[r]).isSelected&&0==n.isHidden){s=!1;break}}if(s){var o=t.adapterItem.key;null==i._selectedItems[o]&&(i._selectedItems[o]=t),t.isSelected=!0,this._applySelectionToParentItem(t)}}},_applySelectionToParentItems:function(){for(var e in this._selectedItems)this._applySelectionToParentItem(this._selectedItems[e])},getSelectedItems:function(){var e=new Array;for(var t in this._selectedItems)this._selectedItems[t].isSelected&&e.push(t);return e}}),e.jqx.jqxPivotGrid.pivotRows=function(t){e.extend(this,new e.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=t,this.isColumnsHierarchy=!1,this.compactStyleRenderingEnabled=!1,this.compactStyleRenderingItemsIndent=20},e.extend(e.jqx.jqxPivotGrid.pivotRows.prototype,e.jqx.jqxPivotGrid.hierarchy.prototype),e.extend(e.jqx.jqxPivotGrid.pivotRows.prototype,{setColumnWidth:function(e,t){return e>=this.columnWidths.Count&&this._updateColumnsCount(e+1),this.compactStyleRenderingEnabled&&(e=0),e<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0,!0},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r];if(!n.isHidden){e+=n.getHeightWithChildren();var o=n.getWidthWithChildren();t<o&&(t=o)}}this._width=t,this._height=e+1},render:function(){if(!this._renderSuppressed){for(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isRendering=!0,this._isColumnsCountRequresUpdate&&this._updateColumnsCount();this._getColumnsCount()<this.getHierarchyDepth();)e.jqx.get(this,"columnWidths").push(70);if(this._updateVisibleLeaves(),this.compactStyleRenderingEnabled){0==this.columnWidths.Count&&this._addColumn(70);var t=this.columnWidths[0],i=this.getHierarchyDepth();t<i*this.compactStyleRenderingItemsIndent&&(t=i*this.compactStyleRenderingItemsIndent),this.columnWidths[0]=t}this.updateBounds();var s=0;if(this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this.isRendering=!1,void(this._renderRequired=!1);for(var r=0;r<2;r++)for(var n=0==r?this.items:this.valueItems,o=0;o<n.length;o++){var a=n[o];if(null==a.hierarchy&&(a.hierarchy=this),!a.isHidden){var l=a.getHeightWithChildren();if(a.itemLevel<this.columnWidths.length&&a.getWidth()>this.columnWidths[a.itemLevel]&&(this.columnWidths[a.itemLevel]=a.getWidth()),!a.render(0,s))break;s+=l}}this.updateBounds(),null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._resetCanvas(),this._renderRequired=!1,this.isRendering=!1}},isOnRowDetails:function(e,t){if(!t.RowDetailsVisible)return!1;var i={x:e.x,y:e.y};return i.x+=-this.x+this.viewPort.x,i.y+=-this.y+this.viewPort.y,i.y<t.y+t.getDisplayHeight()&&i.y>t.y+t.getDisplayHeight()-t.RowDetailsHeight}}),e.jqx.jqxPivotGrid.pivotColumns=function(t){e.extend(this,new e.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=t,this.isColumnsHierarchy=!0},e.extend(e.jqx.jqxPivotGrid.pivotColumns.prototype,e.jqx.jqxPivotGrid.hierarchy.prototype),e.extend(e.jqx.jqxPivotGrid.pivotColumns.prototype,{render:function(){if(!this._renderSuppressed){if(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this._updateVisibleLeaves(),this._updateColumnsIndexes(),this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),void this._updateVisibleLeaves();for(var e=0,t=0;t<2;t++)for(var i=0==t?this.items:this.valueItems,s=0;s<i.length;s++){var r=i[s];if(null==r.hierarchy&&(r.hierarchy=this),!r.isHidden){var n=r.getWidthWithChildren();if(!r.render(e,0))break;e+=n}}this._renderRequired=!1,null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._updateVisibleLeaves(),this.updateBounds(),this._resetCanvas()}},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r],o=n.getHeightWithChildren();e<o&&(e=o),t+=n.getWidthWithChildren()}this._height=e,this._width=t+1},_updateColumnsIndexes:function(){for(var e=this.visibleLeafItems.length,t=--e;t>=0;t--){var i=this.visibleLeafItems[t];i.itemColumn=t;for(var s=i.parentItem;null!=s;)s.hierarchy!=i.hierarchy?s=null:(s.itemColumn=t,s=(i=s).parentItem)}},setRowHeight:function(e,t){return!(t<15||t>500)&&(e.hierarchyItemHeight=t,this._renderRequired=!0,!0)},isGroupingColumn:function(e){return null!=e&&(null!=this.parentPivotGrid&&!!(e.ItemIndex<this.parentPivotGrid.groupingColumns.length&&this.parentPivotGrid.isGroupingEnabled))}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxPivotGrid.prototype,{_handleKeyboardNavigation:function(e){return"CELLS_SELECT"==this._internalSelectMode?this._handleCellsKeyboardNavigation(e):("ROW_SELECT"==this._internalSelectMode||this._internalSelectMode,!1)},_handleCellsKeyboardNavigation:function(e){var t=this._cellKBRangeSelectionEnd,i=void 0;if(!t)return!1;if(37==e.keyCode&&(i=this._pivotCells.getNextCell(t,"left")),38==e.keyCode?i=this._pivotCells.getNextCell(t,"top"):39==e.keyCode?i=this._pivotCells.getNextCell(t,"right"):40==e.keyCode&&(i=this._pivotCells.getNextCell(t,"bottom")),null!=i){this._pivotRows._refreshRequired=!0,this._pivotColumns._refreshRequired=!0,this._pivotCells._refreshRequired=!0,this._colItemRangeSelectionBeg=i.pivotColumn,this._rowItemRangeSelectionBeg=i.pivotRow,this._beginSelectionUpdate(),this._isCTRLPressed&&0!=this.multipleSelectionEnabled||this._internalClearSelection(),this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionStart&&this._isSHIFTPressed||(this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells});for(var s=Math.min(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),r=Math.max(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),n=Math.min(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),o=Math.max(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),a=s;a<=r;a++)for(var l=n;l<=o;l++){var d=this._pivotColumns.visibleLeafItems[a],h=this._pivotRows.visibleLeafItems[l];this._pivotCells._internalSelectCell(h,d)}this._endSelectionUpdate(),i.pivotRow.ensureVisible(),i.pivotColumn.ensureVisible(),this._internalRefresh()}return!1}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===e.jqx._jqxPopover.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._content=this.host.children()},render:function(){var t=this,i=t.element.id;if(t._content.detach(),t._toggleElement=e(t.selector),0===t._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+t.selector+'".');if(null===t._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var s=e('<div id="'+i+'" class="'+t.toThemeProperty("jqx-popover")+'"><div class="'+t.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+t.toThemeProperty("jqx-popover-title")+'"></div><div class="'+t.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(s);var r=t.host.data();t.host.detach(),t.host=s,t.host.data(r),t.element=s[0],t.element.id=i,t._popover=e("#"+i);var n=t._popover.find(".jqx-popover-title");n.append(t.title);var o=t._popover.find(".jqx-popover-content");if(o.append(t._content),t._popover.hide(),t._removeHandlers(),t._addHandlers(),t._popover.addClass(t.position),n.addClass(t.toThemeProperty("jqx-widget-header")),t._popover.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),t.showArrow?(t._popover.addClass(t.toThemeProperty("jqx-popover-arrow-"+t.position)),t._popover.find(".jqx-popover-arrow").css("display","block")):t._popover.find(".jqx-popover-arrow").css("display","none"),t.rtl&&(n.addClass(t.toThemeProperty("jqx-rtl")),n.css("direction","rtl"),o.css("direction","rtl")),t.showCloseButton){var a=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),l=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');a.append(l),n.append(a),n.css("min-height","16px"),a.addClass(t.toThemeProperty("jqx-popover-close-button")),t.closeButton=l,t.rtl&&a.addClass(t.toThemeProperty("jqx-popover-close-button-rtl"))}if(t.arrowOffsetValue)if("bottom"==t.position||"top"==t.position){var d=t._popover.find(".jqx-popover-arrow").css("margin-left");t._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(d)+t.arrowOffsetValue)}else{var h=t._popover.find(".jqx-popover-arrow").css("margin-top");t._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(h)+t.arrowOffsetValue)}(t.width||t.height)&&(t._popover.css("width",t.width),t._popover.css("height",t.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){this.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),s=t.outerHeight(),r=t.outerWidth(),n=e._popover.height(),o=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left+r;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-o/2+r/2;break;case"bottom":e._popoverTop=i.top+s,e._popoverLeft=i.left-o/2+r/2}var a=e.offset?parseFloat(e.offset.left):0,l=e.offset?parseFloat(e.offset.top):0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",a+e._popoverLeft)},open:function(){var e=this;function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i();switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0});break;case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this;if(e._isOpen)if(!0!==e._ie7){switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1});break;case"none":t()}e._removeModalBackground()}else t();function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this._popover.trigger(r)},_makeModalBackground:function(){var t=this;!0===t.isModal&&(t.modalBackground=e("<div></div>"),t.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(t.modalBackground),e(document.body).addClass(t.toThemeProperty("jqx-unselectable")),t.host.addClass(t.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var t=this;!0===t.isModal&&void 0!==t.modalBackground&&(t.modalBackground.remove(),e(document.body).removeClass(t.toThemeProperty("jqx-unselectable")),t.host.removeClass(t.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),i.target.classList&&i.target.classList.contains("jqx-window-close-button")||!0===t.autoClose&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxPopover"+i),t.selector&&t.removeHandler(t._toggleElement,"click.jqxPopover"+i),t.removeHandler(e(document),"keydown.jqxPopover"+i),t.removeHandler(e(window),"resize.jqxPopover"+i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===e.jqx._jqxProgressBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):(null==this.width||isNaN(this.width),this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):(null==this.height||isNaN(this.height),this.host.height(this.height)),this.valueDiv=e("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,s=0;s<i;s++){var r=t[s].stop,n=t[s].color;this._createColorElements(r,n,e,i-s,s)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var r=this.colorRanges[s].element;if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var n=this.colorRanges[s].stop;n>Math.min(this.max,this.value)&&(n=Math.min(this.max,this.value));var o,a=100*(n-this.min)/(this.max-this.min);o=i?t*a/100:e*a/100,o+="px",i?(r.css("height",o),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",o),(this.rtl||"reverse"==this.layout)&&r.css("right","0px"))}},_createColorElements:function(t,i,s,r,n){var o;t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var a=100*t/this.max;this.host.width(),this.host.height();o=s?this.host.outerHeight()*a/100:this.host.outerWidth()*a/100,o+="px";var l,d=e(this.valueDiv).parent()[0];(d.style.position="relative",s=s||!1)?((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width","100%"),l.css("height",o),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),"reverse"==this.layout?l.css("bottom",0):l.css("top",0),l.appendTo(d)):((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width",o),l.css("height","100%"),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),l.css("top","0px"),this.rtl&&l.css("right","0px"),l.appendTo(d));this.colorRanges[n].element=l},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,s){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],n=new e.Event(r);return n.previousValue=i,n.currentValue=s,n.owner=this,this.host.trigger(n)}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,s,r){if(this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){var n=this;"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<r?t.value=r:"max"==i&&t.value>r&&(t.value=r),"value"===i&&null!=n.value&&(n.value=r,n.oldValue=s,e.jqx.aria(t,"aria-valuenow",r),(r<n.min||r>n.max)&&n._raiseevent(1,s,r),n.refresh()),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?n.refresh():"width"==i&&null!=n.width?null==n.width||isNaN(n.width)||(n.host.width(n.width),n.refresh()):"height"==i&&null!=n.height&&(null==n.height||isNaN(n.height)||(n.host.height(n.height),n.refresh())),"disabled"==i&&n.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.height();return i.remove(),s},_initialRender:!0,refresh:function(t){if(!0!==t){var i=this.actualValue(),s=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(s)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var r=this.oldValue,n=this.host.outerHeight(),o=this.host.outerWidth();null!=this.width&&(o=parseInt(this.width)),null!=this.height&&(n=parseInt(this.height)),this._refreshColorElements();var a=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(s)&&(s=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var l=this;try{var d=this.element.children[0];if(e(d)[0].style.position="relative","horizontal"==this.orientation){e(d).toggle(i>=this.min);o=this.host.outerWidth()*s/100;var h=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(d)[0].style.left=this.host.width()+"px",e(d)[0].style.width=0),h=this.host.outerWidth()-o),e(d).stop(),e(d).animate({width:o,left:h+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,r,l.max)})}else{e(d).toggle(i>=this.min);n=this.host.height()*s/100;var c=0;"reverse"==this.layout&&(this._initialRender&&(e(d)[0].style.top=this.host.height()+"px",e(d)[0].style.height=0),c=this.host.height()-n),e(d).stop(),e(d).animate({height:n,top:c+"px"},this.animationDuration,function(){var t=l._percentage();isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(d).hide(),l._value()===l.max&&l._raiseevent(2,r,l.max))})}}catch(e){}this._initialRender=!1,this.feedbackElement.html(s.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(s.toFixed(0)+"%",s)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var u=this.feedbackElement.height(),p=this.feedbackElement.width(),m=Math.floor(a-parseInt(p)/2);this.feedbackElement.css({left:m,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxRadioButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._createFromInput("RadioButton"),this.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var r=i.element.nextSibling,n=!1;!r||"#text"!=r.nodeName&&"span"!=r.nodeName||(n=!0);var o=0,a=e("<div></div>",s);if(n){a.append(r);var l=e("<span>"+e(r).text()+"</span>");l.appendTo(e(document.body)),o+=l.width(),l.remove()}a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+o+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(a);var d=i.host.data();if(i.host=a,i.host.data(d),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=16);var i=parseInt(this.boxSize)+"px",s="16px",r=Math.floor((parseInt(this.boxSize)-16)/2),n=r;r+="px",n+="px";var o=parseInt(this.boxSize)/2+"px";"16px"!=this.boxSize?this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+r+"; top: "+n+"; width: "+s+"; height: "+s+';"></span></div></div>'):this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+o+"; height: "+o+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var a=this.element.getAttribute("checked");"checked"!=a&&"true"!=a&&1!=a||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this),this._centerBox(),this.isMaterialized()&&(e(this.radiobutton).addClass("ripple"),e.jqx.ripple(e(this.radiobutton),this.host,"radiobutton"))},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this;this.addHandler(this.box,"click",function(e){if(!t.disabled&&!t.enableContainerClick)return t.changeType="mouse",t.toggle("click"),e.preventDefault(),!1}),this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle("click"),e.preventDefault(),!1)}),this.addHandler(this.host,"mousedown",function(e){if(!t.disabled&&t.enableContainerClick)return t.clickTime=new Date,t.changeType="mouse",t.toggle("click"),t._canFocus&&t.focus(),e.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"focus",function(i){if(!t.disabled&&t.enableContainerClick&&!t.locked)return e(t.radiobutton).removeClass("active"),(!t.clickTime||t.clickTime&&new Date-t.clickTime>300)&&e(t.radiobutton).addClass("active"),t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault(),!1}),this.addHandler(this.host,"blur",function(i){if(e(t.radiobutton).removeClass("active"),!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault(),!1}),this.addHandler(this.host,"mouseenter",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.host,"mouseleave",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.box,"mouseenter",function(){t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var s=e.find(".jqx-radiobutton");null==this.groupName&&(this.groupName=""),e.each(s,function(){e(this).jqxRadioButton("groupName")==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")});var r=this.changeType;if(this._raiseEvent("0"),this.changeType=r,this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height()){var n=parseInt(this.boxSize)/2;this.checkMark.height(n),this.checkMark.width(n)}else if("13px"!=this.boxSize){n=parseInt(this.boxSize)/2;this.checkMark.height(n),this.checkMark.width(n),this.checkMark.css("margin-left",1+n/4),this.checkMark.css("margin-top",1+n/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var s=this;if(e.jqx.browser.msie?s.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){s.checkMark.removeClass()})),i){var r=this.changeType;this._raiseEvent("1"),this.changeType=r,this._raiseEvent("3",{type:t,checked:!1})}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked)},indeterminate:function(t){var i=this.checked;if(this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i){var s=this.changeType;this._raiseEvent("2"),this.changeType=s,this._raiseEvent("3",{type:t,checked:null})}this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=!this.hasTreeStates||null:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if(i!=this.enableContainerClick||this.disabled||this.locked||(r?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"checked"==i)switch(r){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(s,r,this.host),"disabled"==i&&(r?this.disable():this.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRangeSelector","",{}),e.extend(e.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var t={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return this===e.jqx._jqxRangeSelector.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),!e.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var s=e.jqx.isHidden(this.host);this.render();var r=this.host.width(),n=this.host.height();e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();i.range=i.getRange(),s?(i.refresh(),s=!1):r==e&&n==t||i.refresh(),r=i.host.width(),n=i.host.height()})},render:function(){(this.host.children().length>1||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(e){1!=e&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(e,t){if(e>t)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var i=this._getValue();if(i.from!=e||i.to!=t){var s="The set values are in the wrong format. Please set "+("number"==this._dataType?"numeric":"date")+" values.";if("string"==typeof e||e instanceof Date){if("number"==this._dataType)throw new Error(s)}else if("date"==this._dataType)throw new Error(s);e=this._validateInput(e),t=this._validateInput(t),e>this._max&&(e=this._max),e<this._min&&(e=this._min),t>this._max&&(t=this._max),t<this._min&&(t=this._min);var r=t-e;r>this._range._max?t=e+this._range._max:r<this._range._min&&(t=e+this._range._min);var n=this._valuesArray.indexOf(e),o=this._valuesArray.indexOf(t),a=this._ticksArray[n],l=this._ticksArray[o],d=Math.abs(l-a);this.slider[0].style.width=d+"px";var h=this.rtl?l:a;if(this.slider[0].style.left=h,this._moveSlider(h),"date"==this._dataType)e=new Date(e),t=new Date(t);this._raiseEvent("0",{type:null,from:e,to:t})}},val:function(e){if(0==arguments.length)return this.getRange();null!=e.from&&this.setRange(e.from,e.to)},getRange:function(){return this._getValue()},propertyChangedHandler:function(t,i,s,r){switch(i){case"showMinorTicks":1==r?e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var n=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==r?n.css("visibility","visible"):n.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_scale:function(){var e=this.host.width(),t=this._max-this._min;this._unitPerPixel=parseFloat((t/e).toFixed(4)),this._pixelPerUnit=e/t,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=t/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(e/(t/this.majorTicksInterval))),this._unitsCount=t/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(e/(t/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=e("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var t=new String;e("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var i=this.rangeSelector.height();t="number"==this._dataType?this._addNumericTicks(i):this._addDateTicks(i);var s=0;this.showLabels&&(s+=e("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(s+=e("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",s),e("#labelPlaceholder").remove(),e("#"+this._id+"TicksContainer").append(t),this._ticksArray.sort(function(e,t){return e-t});for(var r=1;r<this._ticksArray.length;r++)this._ticksArray[r]=this._roundNumber(this._ticksArray[r]);if(this._valuesArray.sort(function(e,t){return e-t}),"number"==this._dataType)for(r=1;r<this._valuesArray.length;r++)this._valuesArray[r]=this._roundNumber(this._valuesArray[r],"marker",!0);for(r=1;r<this._ticksArray.length;r++)this._ticksArray[r-1]==this._ticksArray[r]&&(this._ticksArray.splice(r,1),this._valuesArray.splice(r,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(t){for(var i=this,s=new String,r=0,n=this._min,o=this._max,a=0;a<this._majorTicksCount;a++){var l=this._id+"LabelTick"+(a+1);a==this._majorTicksCount-1&&(r=this.host.width());var d=i.showMajorTicks?"visible":"hidden";s+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+d+"; left: "+r+"px;'></div>",this._ticksArray.push(r),this._majorTicksArray.push(r);var h=this._id+"Label"+(a+1),c=n;this._valuesArray.push(parseFloat(c.toFixed(4))),i.rtl&&(c=o),c=this._formatOutput(c,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label"),e("#labelPlaceholder").html(c);var u=e("#labelPlaceholder").width(),p=i.showLabels?"visible":"hidden";i.labelsOnTicks&&(s+="<div id='"+h+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+p+"; left: "+(r-u/2)+"px; top: "+t+"px;'>"+c+"</div>");var m=r;n+=this.majorTicksInterval,o-=this.majorTicksInterval;r=(n-i._min)/i._unitPerPixel;if(r=parseInt(r),!this.labelsOnTicks&&a<this._majorTicksCount-1){var f=Math.abs(m-r);s+="<div id='"+h+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+p+"; left: "+(m+f/2-u/2)+"px; top: "+t+"px;'>"+c+"</div>"}}r=0;var g=this.showMinorTicks?"visible":"hidden";for(n=this._min,a=0;a<this._unitsCount;a++){l=this._id+"MinorTick"+(a+1);a==this._unitsCount-1&&(r=this.host.width()),s+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+g+"; left: "+r+"px;'></div>";var v=n;-1===this._valuesArray.indexOf(parseFloat(v.toFixed(4)))&&(this._valuesArray.push(parseFloat(v.toFixed(4))),this._ticksArray.push(r));r=((n+=this.minorTicksInterval)-i._min)/i._unitPerPixel;r=parseInt(r)}return s},_getMillisecondsByInterval:function(e){var t={};return"year"==e||e.years?(t.divisor=e.years?e.years:1,31536e6*t.divisor):"month"==e||e.months?(t.divisor=e.months?e.months:1,2592e6*t.divisor):"week"==e||e.weeks?(t.divisor=e.weeks?e.weeks:1,6048e5*t.divisor):"day"==e||e.days?(t.divisor=e.days?e.days:1,864e5*t.divisor):"hour"==e||e.hours?(t.divisor=e.hours?e.hours:1,36e5*t.divisor):"minute"==e||e.minutes?(t.divisor=e.minutes?e.minutes:1,60*t.divisor*1e3):"second"==e||e.seconds?(t.divisor=e.seconds?e.seconds:1,1e3*t.divisor):"millisecond"==e||e.milliseconds?(t.divisor=e.milliseconds?e.milliseconds:1,1*t.divisor):t},_addDateTicks:function(t){var i=this,s=new String,r=function(e){var t="majorTicksInterval"==e?i.majorTicksInterval:i.minorTicksInterval,s=new Object;return"year"==t||t.years?(s.period="year",s.interval=864e5,s.divisor=t.years?t.years:1,s.value=31536e6*s.divisor):"month"==t||t.months?(s.period="month",s.interval=864e5,s.divisor=t.months?t.months:1,s.value=2592e6*s.divisor):"week"==t||t.weeks?(s.period="week",s.interval=864e5,s.divisor=t.weeks?t.weeks:1,s.value=6048e5*s.divisor):"day"==t||t.days?(s.period="day",s.interval=36e5,s.divisor=t.days?t.days:1,s.value=864e5*s.divisor):"hour"==t||t.hours?(s.period="hour",s.interval=6e4,s.divisor=t.hours?t.hours:1,s.value=36e5*s.divisor):"minute"==t||t.minutes?(s.period="minute",s.interval=6e4,s.divisor=t.minutes?t.minutes:1,s.value=60*s.divisor*1e3):"second"==t||t.seconds?(s.period="second",s.interval=1e3,s.divisor=t.seconds?t.seconds:1,s.value=1e3*s.divisor):("millisecond"==t||t.milliseconds)&&(s.period="millisecond",s.interval=1,s.divisor=t.milliseconds?t.milliseconds:1,s.value=1*s.divisor),s},n=function(e,t){var i=new Date(e),s=i.getDate(),r="year"==t&&0==i.getMonth()&&1==s,n="month"==t&&1==s,o="week"==t&&0==i.getDay(),a="day"==t&&0==i.getHours(),l="hour"==t&&0==i.getMinutes(),d="minute"==t&&0==i.getSeconds(),h="minute"==t&&0==i.getMilliseconds();return!!(r||n||o||a||l||d||h||"millisecond"==t)},o=function(r,n,o){var a=(r-i._min)/i._unitPerPixel;i.rtl&&(r="majorTicksInterval"==n?i._dateMajorTicks[i._dateMajorTicks.length-o]:i._dateMinorTicks[i._dateMinorTicks.length-o]),a=parseInt(a);var l=r;if(-1===i._valuesArray.indexOf(l)&&(i._ticksArray.push(a),i._valuesArray.push(l),"majorTicksInterval"==n&&i._majorTicksArray.push(a)),"majorTicksInterval"==n){var d=i._id+"LabelTick"+o,h=i.showMajorTicks?"visible":"hidden";s+="<div id='"+d+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+h+"; left: "+a+"px;'></div>";var c=l;c=i._formatOutput(c,i.labelsFormat,i.labelPrecision,"label"),e("#labelPlaceholder").html(c);var u=e("#labelPlaceholder").width(),p=i._id+"Label"+o,m=i.showLabels?"visible":"hidden";if(i.labelsOnTicks)i.labelsOnTicks&&(s+="<div id='"+p+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+m+"; left: "+(a-u/2)+"px; top: "+t+"px;'>"+c+"</div>");else{var f=i._getMillisecondsByInterval(i.majorTicksInterval)/i._unitPerPixel/2;s+="<div id='"+p+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+m+"; left: "+(f+a-u/2)+"px; top: "+t+"px;'>"+c+"</div>"}}else{h=i.showMinorTicks?"visible":"hidden";var g=i._id+"MinorTick"+o;s+="<div id='"+g+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+h+"; left: "+a+"px;'></div>"}},a=function(e,t,s){for(var r=0,a=1,l=new Date(i._min).getHours(),d=864e5==t.interval,h=new Array,c=i._min;c<=i._max;c+=t.interval){if(1==d){var u,p=new Date(c).getHours();if(l!=p)1==p?u=1:23==p&&(u=-1),c-=36e5*u,l=new Date(c).getHours()}1==n(c,t.period)&&(r%t.divisor==0&&(s?h.push(c):o(c,e,a,t.interval),a++),r++)}return h};return i._dateMajorTicks=a("majorTicksInterval",r("majorTicksInterval"),!0),i._dateMinorTicks=a("minorTicksInterval",r("minorTicksInterval"),!0),a("majorTicksInterval",r("majorTicksInterval")),a("minorTicksInterval",r("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(e("#labelPlaceholder").height()+t),s},_addGroupLabels:function(t){var i=this,s=new Date(this._min),r=new Date(this._max);if(r.getFullYear()-s.getFullYear()>0)var n="year",o=864e5;else if(r.getMonth()-s.getMonth()>0)n="month",o=864e5;else{if(!(r.getDate()-s.getDate()>0))return;n="day",o=36e5}for(var a,l,d,h,c,u,p=new String,m=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),f=1,g=this._min;g<this._max;g+=o){var v=(a=void 0,l=void 0,void 0,void 0,void 0,u=void 0,l=new Date(g),d=l.getFullYear(),h=l.getMonth(),c=l.getDate(),u=!0,"year"==n&&0==h&&1==c?a=d:"month"==n&&1==c?(a=e.jqx.dataFormat.formatdate(l,"MMMM"),0==h&&(a=d+" "+a)):"day"==n&&0==l.getHours()?a=e.jqx.dataFormat.formatdate(l,"dddd"):u=!1,{check:u,value:1==u&&i.groupLabelsFormatFunction?i.groupLabelsFormatFunction(a,l):a});if(1==v.check){var x=(g-this._min)/this._unitPerPixel;p+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+x+"px; top: "+t+"px;'><div class='"+m+"'></div><div id='"+this._id+"GroupLabel"+f+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+v.value+"</div></div>",f++}}e("#"+this._id+"TicksContainer").append(p)},_updateCursor:function(e,t){var i=this.element.style.cursor,s=this.slider.offset().left,r=s+parseInt(this.slider[0].style.width);e>s-5&&e<s+5||e>r-5&&e<r+5?""!=i&&"auto"!=i||(this.element.style.cursor="e-resize"):"e-resize"==i&&(this.element.style.cursor="auto")},_handleMouseMove:function(t){var i=this,s=i.slider,r=t.pageX,n=t.pageY;if(i._isTouchDevice){var o=e.jqx.position(t);r=o.left,n=o.top}var a=i._hostOffset.left,l=i._hostWidth;if(i.resizable&&!i.dragging&&"none"==i.resizeDirection&&r>=a&&r<=a+l&&n>=i._hostOffset.top&&n<=i._hostOffset.top+i._hostHeight&&this._updateCursor(r,n),!i.isMouseDown)return!0;if(i._isTouchDevice&&(n<i._hostOffset.top||n>i._hostOffset.top+i._hostHeight))return!0;var d=i._findNearestTick(i._sliderLeftOffset+r-i._mouseDownX),h=parseInt(d);if(h<0)return!0;h<0&&(h=0);var c=parseInt(s[0].style.width);if(1==i.resizable&&!i.dragging){var u=h*i._unitPerPixel+i._min;if("left"==i.resizeDirection||i.isLeftMarkerCaptured){r<a-(v=i.isLeftMarkerCaptured?i.leftMarker.outerWidth():0)&&(r=a-v),r>a+l+v&&(r=a+l+v+1);var p=s[0].style.left,m=h-parseInt(p);if(!function(e){var t=parseInt(i._maxWidth);if(e<parseInt(i._minWidth)||e>t)return!1;var s=parseInt(i.rightMarker[0].style.left);return!(parseInt(i.leftMarker[0].style.left)>s)}(w=parseInt(c-m)))if(r>i._mouseDownX){if(r=i.sliderRight-i._minWidth-a,c==(w=i._minWidth))return!0;if((h=d=i._findNearestTick(r))<0)return!0;parseInt(p),i._unitPerPixel,i._min,u=h*i._unitPerPixel+i._min}else{if(!(0!=i._maxWidth&&r<i._mouseDownX&&w>i._maxWidth))return!0;if(r=i.sliderRight-i._maxWidth-a,c==(w=i._maxWidth))return!0;if((h=d=i._findNearestTick(r))<0)return!0;parseInt(p),i._unitPerPixel,i._min,u=h*i._unitPerPixel+i._min}i.slider[0].style.left=h+"px",p!=s[0].style.left&&(i.slider[0].style.width=w+"px");var f=i._findNearestTick(h),g=i._valuesArray[i._ticksArray.indexOf(f)];null!=g?(i.leftMarkerValue[0].innerHTML=i._formatOutput(g,i.markersFormat,0,"left"),h!=f&&(i.slider[0].style.left=f+"px")):i.leftMarkerValue[0].innerHTML=i._formatOutput(u,i.markersFormat,0,"left"),i.oldX=r,i.moved=!0}else if("right"==i.resizeDirection||i.isRightMarkerCaptured){var v,x=!1;r<a-(v=i.isRightMarkerCaptured?i.rightMarker.outerWidth():0)&&(r=a-v,!0),r>a+l+v&&(r=a+l+v,x=!0);var w,y=i._sliderInitialWidth,b=i._findNearestTick(y+i._sliderLeftOffset),_=i._findNearestTick(y+r-i._mouseDownX+i._sliderLeftOffset);if(_<0)return!0;(w=y-(m=b-_))<=0&&(m=y,w=0);var j=parseInt(i.element.style.width);if(i.element.style.width.indexOf("%")>=0&&(j=i.host.width()),x||i._sliderLeftOffset+w>=j){w=j-i._sliderLeftOffset}w>parseInt(this._maxWidth)&&(w=parseInt(this._maxWidth)),w<parseInt(this._minWidth)&&(w=parseInt(this._minWidth)),i.slider[0].style.width=w+"px";u=(i._sliderLeftOffset+w)*i._unitPerPixel+i._min;var q=i._findNearestTick(i._sliderLeftOffset+w),T=i._valuesArray[i._ticksArray.indexOf(q)];null!=T?(i._sliderLeftOffset+w!=q&&(i.slider[0].style.width=q-i._sliderLeftOffset+"px"),i.rightMarkerValue[0].innerHTML=i._formatOutput(T,i.markersFormat,0,"right")):i.rightMarkerValue[0].innerHTML=i._formatOutput(u,i.markersFormat,0,"right"),i.oldX=r}i._layoutShutter(),i._layoutMarkers(),i.moved=!0}1==i.dragging&&(i._moveSlider(h,!0),i.oldX=r)},_moveSlider:function(e,t){this.moved=!0;var i=parseInt(this.slider[0].style.width),s=parseInt(e+i),r=this._hostWidth,n=e;if(n<0&&(e=n=0),n+i>r&&(e=n=r-i),n>=0&&n+i<=r){this.slider[0].style.left=n+"px";var o=this._findNearestTick(n),a=-1!=this._majorTicksArray.indexOf(o),l=this._valuesArray[this._ticksArray.indexOf(o)];if(null!=l){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(l,this.markersFormat,0,"left"),e!=o&&a&&t){this.slider[0].style.left=o+"px";s=parseInt(o+i)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(n*this._unitPerPixel+this._min,this.markersFormat,0,"left");var d=this._findNearestTick(s),h=this._valuesArray[this._ticksArray.indexOf(d)];if(null!=h){var c=-1!=this._majorTicksArray.indexOf(d);if(this.rightMarkerValue[0].innerHTML=this._formatOutput(h,this.markersFormat,0,"right"),s!=d&&c&&a&&t){var u=d-o;this.slider[0].style.width=u+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((n+i)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var t=this,i=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");e("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+i+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+i+"'></div>"),this.slider=e("#"+this._id+"Slider"),this.shutterLeft=e("#"+this._id+"ShutterLeft"),this.shutterRight=e("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var s=this._hostOffset,r=this._initRange(),n=r.left,o=(r.right-n)/this._unitPerPixel;this.slider[0].style.width=Math.round(o)+"px";var a=s.left+parseInt((n-this._min)/this._unitPerPixel);if(this.slider.offset({left:a}),this._layoutShutter(),this._initMarkers(),0==this.disabled){var l,d;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(e(window),"jqxReady.rangeselector",function(){return t._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var h="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(h=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,h,function(i){t.isMouseDown=!0,t._hostOffset=t.rangeSelector.offset(),t._hostWidth=t.rangeSelector.width(),t._hostHeight=t.rangeSelector.height(),t._sliderLeftOffset=parseInt(t.slider[0].style.left);var s=i.pageX,r=i.pageY;if(t._isTouchDevice){var n=e.jqx.position(i);s=n.left,r=n.top}t._initialSliderOffset=s-t.slider.offset().left;var o=t.slider.width();t._sliderInitialWidth=o,l=t.slider.offset().left,d=t._sliderInitialWidth,t.initialOffset=l;var a=parseInt(l+d);if(t.oldX=s,t._mouseDownX=s,t.resizeDirection="none",t.sliderRight=a,s>l-5&&s<l+5&&t._heightCheck(r))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="left";else if(s>a-5&&s<a+5&&t._heightCheck(r))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="right";else if(s>=l+5&&s<=a+5&&t._heightCheck(r))t.isSliderCaptured=!0,t.dragging=!0;else if(t.isSliderCaptured=!1,t.dragging=!1,t.moveOnClick){if(t.isLeftMarkerCaptured||t.isRightMarkerCaptured)return!1;var h=t._sliderLeftOffset+t._initialSliderOffset;(h=t._findNearestTick(h))<0&&(h=0);var c=parseInt(t.slider[0].style.width);r>=t.slider.offset().top&&(s>a?t._moveSlider(h-c,!0):t._moveSlider(h,!0))}}),this.addHandler(t.leftMarker,h,function(i){if(t.leftMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldLeftX=i.pageX,t._isTouchDevice){var s=e.jqx.position(i);t.oldLeftX=s.left}t._mouseDownX=t.oldLeftX,t.isLeftMarkerCaptured=!0}),this.addHandler(t.rightMarker,h,function(i){if(t.rightMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldRightX=i.pageX,t._isTouchDevice){var s=e.jqx.position(i);t.oldRightX=s.left}t._mouseDownX=t.oldRightX,t.isRightMarkerCaptured=!0}),this.addHandler(e(document),"selectstart.rangeselector"+this._id,function(e){if(1==t.isSliderCaptured||1==t.isLeftMarkerCaptured||1==t.isRightMarkerCaptured||1==t.dragging)return e.preventDefault(),!1});var c="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(c=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(e(document),c,function(e){t._handleMouseMove(e)});var u=function(e){try{var i=t.moved;if(t.moved=!1,t.isMouseDown=!1,t.dragging=!1,t.resizeDirection="none",1==t.isLeftMarkerCaptured&&(t.leftMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isLeftMarkerCaptured=!1),1==t.isRightMarkerCaptured&&(t.rightMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isRightMarkerCaptured=!1),i){var s=t._getValue();t._raiseEvent("0",{type:"mouse",from:s.from,to:s.to})}}catch(e){}};this.addHandler(e(document),"mouseup.rangeselector"+this._id,function(e){u()});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var p=function(e){u()},m=null;window.parent&&document.referrer&&(m=document.referrer),m&&-1!=m.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",p,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",p))}}catch(e){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(t.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var t=e("#"+this._id+"TicksContainer"),i=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");t.append("<div id='"+this._id+"LeftMarker' class='"+i+"'></div><div id='"+this._id+"RightMarker' class='"+i+"'></div>");var s=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");"bottom"==this.markersPosition?s+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):s+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),t.append("<div id='"+this._id+"LeftMarkerArrow' class='"+s+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),t.append("<div id='"+this._id+"RightMarkerArrow' class='"+s+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),e("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),e("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var r=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),n=e("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),o=e("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?r.css("visibility","visible"):r.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var a=this;this.addHandler(n,"mouseenter.rangeselector"+this._id,function(e){a.element.style.cursor="pointer",n.addClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(n,"mouseleave.rangeselector"+this._id,function(e){a.element.style.cursor="auto",n.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(o,"mouseenter.rangeselector"+this._id,function(e){a.element.style.cursor="pointer",o.addClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(o,"mouseleave.rangeselector"+this._id,function(e){a.element.style.cursor="auto",o.removeClass(a.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=n,this.rightMarkerAndArrow=o,this.leftMarkerArrow=e("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=e("#"+this._id+"RightMarkerArrow"),this.leftMarker=e("#"+this._id+"LeftMarker"),this.rightMarker=e("#"+this._id+"RightMarker"),this.leftMarkerValue=e("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=e("#"+this._id+"RightMarkerValue");var l=this._initRange();this._updateMarkersValues(l.left,l.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());this._hostOffset.top;var e=parseInt(this.slider[0].style.left)+this._hostOffset.left,t=-5;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var i=t-this._leftMarkerHeight,s=t-this._rightMarkerHeight;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)-6);var r=this.leftMarker[0].offsetWidth,n=1+e-r-this._hostOffset.left;this.leftMarker[0].style.left=n+"px",this.leftMarker[0].style.top=i+"px",this.leftMarkerArrow[0].style.left=2+n+r+"px",this.leftMarkerArrow[0].style.top=6+t+"px";var o=e+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=o+"px",this.rightMarker[0].style.top=s+"px",this.rightMarkerArrow[0].style.left=7+o+"px",this.rightMarkerArrow[0].style.top=6+t+"px"}},_updateMarkersValues:function(e,t){var i=e,s=t;this.leftMarkerValue[0].innerHTML=this._formatOutput(i,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(s,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var t=this.element.id,i=e("#"+t+"LeftMarker, #"+t+"LeftMarkerArrow"),s=e("#"+t+"RightMarker, #"+t+"RightMarkerArrow"),r="mousemove.rangeselector"+t,n="mousedown.rangeselector"+t;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+t),this.removeHandler(e(document),r),this.removeHandler(e(document),"mouseup.rangeselector"+t),this.removeHandler(this.host,n),this.removeHandler(this.host,"click.rangeselector"+t),this.removeHandler(this.host,"dragstart.rangeselector"+t),this.removeHandler(i,"mouseenter.rangeselector"+t),this.removeHandler(i,"mouseleave.rangeselector"+t),this.removeHandler(s,"mouseenter.rangeselector"+t),this.removeHandler(s,"mouseleave.rangeselector"+t),this.removeHandler(e("#"+t+"LeftMarker"),n),this.removeHandler(e("#"+t+"RightMarker"),n),this.removeHandler(e("#"+t+"LeftMarkerValue, #"+t+"RightMarkerValue"),"selectstart.rangeselector"+t)},_heightCheck:function(e){var t=this.slider,i=t.offset().top;return e>=i&&e<=i+t.height()},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var e=this._max-this._min;this._range._min>e&&(this._range._min=e),this._range._max>e&&(this._range._max=e);var t=this._range._to-this._range._from;t<this._range._min?this._range._to=this._range._from+this._range._min:t>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(e){for(var t=0,i=Math.abs(e-this._ticksArray[0]),s=1;s<this._ticksArray.length;s++){var r=Math.abs(e-this._ticksArray[s]);i>r&&(i=r,t=s)}return this._ticksArray[t]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(null!=this.range.from?this.range.from:0),this._range._to=this._validateInput(null!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(null!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(null!=this.range.max?this.range.max:1/0)},_validateInput:function(e){var t;return"number"==typeof e?t=e:"string"==typeof e?t=Date.parse(e):e instanceof Date&&(t=e.getTime()),t},_minMaxDate:function(e){if("number"!=typeof e){var t;switch(e){case"millisecond":t=1;break;case"second":t=1e3;break;case"minute":t=6e4;break;case"hour":t=36e5;break;case"day":t=864e5;break;case"week":t=6048e5;break;default:t=e.milliseconds?e.milliseconds:0+e.seconds?1e3*e.seconds:0+e.minutes?6e4*e.minutes:0+e.hours?36e5*e.hours:0+e.days?864e5*e.days:0+e.weeks?6048e5*e.weeks:0}return t}return e},_formatOutput:function(t,i,s,r,n){var o;if(this.values||(this.values=new Array),this.values[r]=t,"label"==r&&this.labelsFormatFunction)o="date"==this._dataType?this._roundDate(t):this._roundNumber(t,"label"),o=this.labelsFormatFunction(o);else if("label"!=r&&this.markersFormatFunction)"date"==this._dataType&&(o=this._roundDate(t)),o=this.markersFormatFunction(t,r);else if(i)"number"==this._dataType?o=e.jqx.dataFormat.formatnumber(t,i):(o=this._roundDate(t),o=e.jqx.dataFormat.formatdate(o,i));else{var a;if("date"==this._dataType)throw null==this.labelsFormat&&null==this.markersFormat?a="both labelsFormat and markersFormat":null==this.labelsFormat?a="labelsFormat":null==this.markersFormat&&(a="markersFormat"),new Error("When the data format is date, "+a+" should be set.");o=t.toFixed(s)}return o},_getValue:function(e){var t=this,i=t.minorTicksInterval;function s(e){return"number"===t._dataType?Math.round(e/i)*i:t._roundNumber(e,"marker")}var r=this.slider,n=r.width(),o=new Object,a=(r.offset().left-this.rangeSelector.offset().left)*this._unitPerPixel+this._min;if(o.from=s(a),o.to=s(a+n*this._unitPerPixel),!e&&1==this.snapToTicks){var l=this._findNearestTick((o.from-this._min)/this._unitPerPixel);o.from=this._valuesArray[this._ticksArray.indexOf(l)];var d=this._findNearestTick((o.to-this._min)/this._unitPerPixel);o.to=this._valuesArray[this._ticksArray.indexOf(d)]}return"date"==this._dataType&&(o.from=new Date(o.from),o.to=new Date(o.to)),o},_roundNumber:function(e,t,i){var s;return"marker"==t?(1==i&&(e=parseFloat(e)),s=parseFloat(e)):s=parseFloat(e),s},_roundDate:function(e){"number"==typeof e&&(e=new Date(e));var t=this._max-this._min;if(t>12096e5){var i=e.getDate();e.getHours()>12&&(e.setDate(i+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0))}else t>1728e5&&(e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0),e.setSeconds(0));return e},_layoutShutter:function(){var t=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=t+"px",this.shutterLeft[0].style.left="0px",e.jqx.browser.msie&&e.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var i=1+t+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=i+"px";var s=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0)s=parseInt(this.host.width());var r=s-1-t-parseInt(this.slider[0].style.width);r<0&&(r=0),this.shutterRight[0].style.width=1+r+"px",i+1+r<2+s&&(this.shutterRight[0].style.width=2+r+"px"),0==r&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return{left:this._range._from,right:this._range._to}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRating","",{}),e.extend(e.jqx._jqxRating.prototype,{defineInstance:function(){var t={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return this===e.jqx._jqxRating.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){e.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:(this.value="string"==typeof e?parseInt(e):e,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.value.toString())},_render:function(){for(var t=1;t<=this.count;t++)this._images[t-1]=e('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[t-1])},_performLayout:function(){for(var e=1;e<=this.count;e++){var t=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),i=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),s=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),r=this._getImageName(i),n=this._getImageName(s),o=this._getImageName(t);i.css("background-image","none"),s.css("background-image","none"),t.css("background-image","none"),this._appendImage(s,n,e-1),this._appendImage(t,o,e-1),this._appendImage(i,r,e-1)}},resize:function(e,t){this.width=e,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(e,t){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=t,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=e},_appendImage:function(t,i,s){var r=this,n=e('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+i+'" />');t.append(n);try{n.load(function(){r._initialized||(r._setControlSize(e(this).width(),e(this).height()),r._setValue(r.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),r._initialized=!0),r._images[s].height(r._itemHeight),e(this).height(r._itemHeight),r._images[s].width(r._itemWidth),e(this).width(r._itemWidth)})}catch(t){n[0].onload=function(){r._initialized||(r._setControlSize(e(this).width(),e(this).height()),r._setValue(r.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),r._initialized=!0),r._images[s].height(r._itemHeight),e(this).height(r._itemHeight),r._images[s].width(r._itemWidth),e(this).width(r._itemWidth)}}return n},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(e){alert(e)}},_getImageIndex:function(e){for(var t=0;e!==this._images[t][0];)t++;return++t},_getRating:function(t,i){var s=this._getImageIndex(t);if(this.precision<1){for(var r=parseInt(i)-parseInt(e(t).position().left),n=this._itemWidth*this.precision,o=0;o<r;)o+=n;o>parseInt(this._itemWidth)-n&&(o=parseInt(this._itemWidth)),s-=1-o/e(t).width()}return s},_addEventHandlers:function(){for(var t=this,i=0;i<this.count;i++)e.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[i],"mousemove",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[i],"mouseenter",function(e){for(var i=t._getImageIndex(this),s=0;s<i;s++)t._images[s].children(".jqx-rating-hoverWrapper").css("z-index","10"),t._images[s].children(".jqx-rating-voteWrapper").css("z-index","1"),t._images[s].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[i],"mouseleave",function(e){for(var i=t._getImageIndex(this),s=0;s<i;s++)t._images[s].children(".jqx-rating-voteWrapper").css("z-index","10"),t._images[s].children(".jqx-rating-hoverWrapper").css("z-index","1"),t._images[s].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[i],"click",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),t.singleVote&&t.disable(),e.stopPropagation(),t._raiseEvent(0,i)}),this.addHandler(this._images[i],"dragstart",function(e){return!1})},_removeEventHandlers:function(){for(var e=0;e<this.count;e++)this.removeHandler(this._images[e],"mousemove"),this.removeHandler(this._images[e],"mouseenter"),this.removeHandler(this._images[e],"mouseleave"),this.removeHandler(this._images[e],"click"),this.removeHandler(this._images[e],"dragstart")},_getImageName:function(e){var t=e.css("background-image");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_setValue:function(t,i,s,r){for(var n=1;n<=this.count;n++){var o=1,a=this._images[n-1].children(i),l=a.children(s),d=a.children(r);n>t&&(o=Math.abs(n-t)<1?1-Math.abs(n-t):0),l.width(this._itemWidth*o),d.width(this._itemWidth-parseInt(l.width())),a.children(this.toThemeProperty(r)).children(0).css("margin-left",-this._itemWidth*o+"px")}e.jqx.aria(this,"aria-valuenow",t)},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);return s.owner=this,s.value=i,s.oldvalue=this.value,this.value=i,this.input&&this.input.val(this.value.toString()),this.host.trigger(s)},setValue:function(e){this._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=e,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,e.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(e,t,i,s){"disabled"!==t?"value"===t?e.setValue(s):e._createRating():s?this.disable():this.enable()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxResponsivePanel","",{}),e.extend(e.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var t={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,events:["collapse","expand","open","close"]};return this===e.jqx._jqxResponsivePanel.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e._render(!0)},_render:function(t){var i=this;if(!0===t&&i.toggleButton){if(i._toggleButton=e(i.toggleButton),0===i._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+i.toggleButton+'".');var s=e('<div class="'+i.toThemeProperty("jqx-menu-minimized-button")+" "+i.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');i._toggleButton.append(s)}i._setSize(),i._addClasses(),!1===t&&i._removeHandlers(),i._addHandlers(),i._checkWindowSize()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._checkWindowSize()},destroy:function(e){var t=this;t._removeHandlers(),t.host.remove(),!0!==e&&t.toggleButton&&t._toggleButton.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i&&"toggleButton"!==t&&"initContent"!==t)switch(t){case"width":case"height":e.host.css(t,s);break;case"collapseBreakpoint":e._checkWindowSize();break;case"toggleButtonSize":e.toggleButton&&e._toggleButton.css({width:s,height:s});break;default:e.render()}},open:function(){var e=this;if(!0===e._collapsed&&!1===e._opened){function t(){e.host.show(),e._opened=!0,e._raiseEvent("2"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)}if(!0===e._ie7)return void t();switch(e.animationType){case"fade":e.host.fadeIn(e.animationShowDelay,function(){e._raiseEvent("2"),e._opened=!0,e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)});break;case"slide":var i=e.animationDirection;"top"===i?i="up":"bottom"===i&&(i="down"),e._slide(e.host,{mode:"show",direction:i,duration:e.animationShowDelay});break;case"none":t()}}},close:function(){var e=this;if(!0===e._collapsed&&!0===e._opened){if(!0===e._ie7)return e.host.hide(),e._opened=!1,void e._raiseEvent("3");switch(e.animationType){case"fade":e.host.fadeOut(e.animationHideDelay,function(){e._opened=!1,e._raiseEvent("3")});break;case"slide":var t=e.animationDirection;"top"===t?t="up":"bottom"===t&&(t="down"),e._slide(e.host,{mode:"hide",direction:t,duration:e.animationHideDelay});break;case"none":e.host.hide(),e._opened=!1,e._raiseEvent("3")}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height),e.toggleButton&&e._toggleButton.css({width:e.toggleButtonSize,height:e.toggleButtonSize})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-responsive-panel")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.toggleButton&&(e._toggleButton.addClass(e.toThemeProperty("jqx-responsive-panel-button")),e._toggleButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._toggleButton.addClass(e.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(t.host,"click.jqxResponsivePanel"+i,function(e){e.stopPropagation()}),t.addHandler(e(document),"click.jqxResponsivePanel"+i,function(){!0===t._collapsed&&!0===t.autoClose&&t.close()}),t.addHandler(e(window),"resize.jqxResponsivePanel"+i,function(){setTimeout(function(){t._checkWindowSize()},0)}),t.toggleButton&&(t.addHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+i,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+i,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+i,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxResponsivePanel"+i,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._toggleButton,"click.jqxResponsivePanel"+i,function(e){e.stopPropagation(),!0===t._opened?t.close():t.open()}))},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(t.host,"click.jqxResponsivePanel"+i),t.removeHandler(e(document),"click.jqxResponsivePanel"+i),t.removeHandler(e(window),"resize.jqxResponsivePanel"+i),t.toggleButton&&(t.removeHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+i),t.removeHandler(e(document),"mouseup.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"click.jqxResponsivePanel"+i))},_checkWindowSize:function(){var e=this,t=this.host.parent().width();"jqx-responsive-panel"===this.host.parent()[0].nodeName.toLowerCase()&&(t=this.host.parent().parent().width()),!1===e._collapsed&&t<=e.collapseBreakpoint?(e.toggleButton&&e._toggleButton.show(),!1===e._opened&&e.host.hide(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e._collapsed=!0,e._raiseEvent("0"),e.collapseWidth&&e.host.width(e.collapseWidth),e.host.trigger("resize")):!0===e._collapsed&&t>e.collapseBreakpoint&&(e.collapseWidth&&e.host.width(e.width),e.toggleButton&&e._toggleButton.hide(),!1===e._opened&&e.host.show(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e._collapsed=!1,e._raiseEvent("1"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e.host.trigger("resize"))},_slide:function(t,i){var s=this;if(s.activeAnimations||(s.activeAnimations=[]),s.activeAnimations.length>0)for(var r=0;r<s.activeAnimations.length;r++)s.activeAnimations[r].clearQueue(),s.activeAnimations[r].finish();else t.clearQueue(),t.finish();var n,o="ui-effects-",a=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data(o+t[i],e[0].style[t[i]])},l=function(e,t){var i,s;for(s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(o+t[s]))&&(i=""),e.css(t[s],i))},d=function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),s.css(i).show()},h=function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},c=["position","top","bottom","left","right","width","height"],u=i.mode,p="show"===u,m=i.direction||"left",f="up"===m||"down"===m?"top":"left",g="up"===m||"left"===m,v={};a(t,c),t.show(),n=i.distance||t["top"===f?"outerHeight":"outerWidth"](!0),d(t).css({overflow:"hidden"}),p&&t.css(f,g?isNaN(n)?"-"+n:-n:n),v[f]=(p?g?"+=":"-=":g?"-=":"+=")+n;return s.activeAnimations.push(t),t.animate(v,{duration:i.duration,easing:i.easing,complete:function(){s.activeAnimations.pop(t),"show"===u?(s._opened=!0,s._raiseEvent("2"),s.initContent&&!1===s._init&&(s.initContent(),s._init=!0)):"hide"===u&&(t.hide(),s._opened=!1,s._raiseEvent("3")),l(t,c),h(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._browser=e.jqx.browser,"popup"!==t.mode&&-1===t.selectedIndex&&(t.selectedIndex=0),t._originalHTML=t.element.innerHTML,t._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){var i=this;i._items[t]._disabled=!0,e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-disabled")),t===i.selectedIndex&&i._clearSelection()},enableAt:function(t){var i=this;i._items[t]._disabled=!1,e(i._items[t]).removeClass(i.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){var t=this;t._items[e].style.display="none",t._checkScrollButtons(),e===t.selectedIndex?t._clearSelection():t._updatePositions()},showAt:function(e){var t=this;"horizontal"===t._orientation?t._items[e].style.display="inline-block":t._items[e].style.display="inherit",t._checkScrollButtons(),t._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(t,i){var s=this,r="jqx-ribbon-item jqx-ribbon-item-"+s.position,n="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+s.position;s._removeHandlers();var o=document.createElement("li");o.innerHTML=i.title;var a=document.createElement("div");if("string"==typeof i.content)a.innerHTML=i.content;else if(void 0!==i.content.length)try{if(void 0!==window.$&&i.content instanceof window.$)e(a).append(i.content);else if(e.isArray(i.content))for(var l=0;l<i.content.length;l++)i.content[l].appendTo(a);else for(;i.content.length>0;)a.appendChild(i.content[0])}catch(e){}else a.appendChild(i.content);switch(s.position){case"top":r+=" jqx-rc-t",n+=" jqx-rc-b";break;case"bottom":r+=" jqx-rc-b",n+=" jqx-rc-t";break;case"left":r+=" jqx-rc-l",n+=" jqx-rc-r";break;case"right":r+=" jqx-rc-r",n+=" jqx-rc-l"}"popup"===s.mode&&(n+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+s._orientation+"-popup"),!0===s.rtl&&(r+=" jqx-ribbon-item-rtl"),o.className=s.toThemeProperty(r),a.className=s.toThemeProperty(n),s._items.length-1>=t?(s._headerElement.insertBefore(o,s._items[t]),s._contentElement.insertBefore(a,s._contentSections[t])):(s._headerElement.appendChild(o),s._contentElement.appendChild(a)),s._updateItems(),s._addHandlers(),s._checkScrollButtons(),t<=s.selectedIndex&&s.selectedIndex<s._items.length-1&&s.selectedIndex++,s._updatePositions(),s.selectedIndex<0||(s._suppressSelectionEvents=!0,s._selectAt(s.selectedIndex,s.selectedIndex,!0))},removeAt:function(t){var i=this;t===i.selectedIndex&&i._clearSelection(),e(i._items[t]).remove(),e(i._contentSections[t]).remove(),i._updateItems(!0),i._updatePositions(),i._checkScrollButtons()},updateAt:function(e,t){var i=this,s=i._items[e];s.innerHTML=t.newTitle,i._contentSections[e].innerHTML=t.newContent,s._isInitialized=!1,i.initContent&&e===i.selectedIndex&&(i.initContent(e),s._isInitialized=!0),i._updatePositions()},setPopupLayout:function(e,t,i,s){var r=this,n=r._contentSections[e];"popup"===r.mode&&(n.getAttribute("data-width")||(n.style.width&&n.setAttribute("data-width",n.style.width),n.style.height&&n.setAttribute("data-height",n.style.height)),i&&(n.style.width=r._toPx(i)),s&&(n.style.height=r._toPx(s)),n._layout=t,r._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&r!==s)switch(i){case"width":case"height":t.element.style[i]=t._toPx(r),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,s),t._render();break;case"selectedIndex":t._selectAt(r,s);break;case"selectionMode":t._removeHandlers(s),t._addHandlers();break;case"scrollPosition":var n=t._scrollButtonNear,o=t._scrollButtonFar;e(n).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+s+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(o).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+s+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),n.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),o.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),t._scrollButtonRc(n,o),t._checkScrollButtons(),t._updatePositions();break;case"disabled":!0===r?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"rtl":if(!0===r){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var a=0;a<t._items.length;a++)t._items[a].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},_render:function(t){var i=this;switch(!0!==t&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(!0===t){var s=i.host.children();i._headerElement=s[0],i._header=e(s[0]),i._contentElement=s[1],i._content=e(s[1]),i._checkStructure(s),i._refreshBarPosition()}i._headerElement.style.float="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style.float="right":"left"===i.position&&(i._headerElement.style.float="left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),!0!==i._initiallyHidden&&i._addClasses(),!0===t&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)}),"popup"===i.mode&&""!==i.theme&&setTimeout(function(){i._positionPopup(),i._positionSelectionToken(i.selectedIndex)},30)},_updateSize:function(e){var t=this;if("7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._contentSections.width(t._content.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"string"==typeof t.height&&-1!==t.height.indexOf("%")&&t._contentSections.height(t._content.height()-t._header.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1);else if(t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._contentSections.height(t._content.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"string"==typeof t.width&&-1!==t.height.indexOf("%")){var i="left"===t.position?parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1:0;t._contentSections.width(t._content.width()-t._header.width()-i)}t._checkScrollButtons(!0),t._updatePositions(void 0,e),"popup"===t.mode&&t._positionPopup(),t._refreshBarPosition()},_stopAnimation:function(){var t=this;if(!t._allowSelection){t.selectedIndex=t._animatingIndex;var i=e(t._contentSections[t._animatingIndex]);t._initAnimate(i),i.animate("finish"),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0}},_refreshBarPosition:function(){var t=this;if(!this.bar){var i=e("<span></span>");e(this.host).append(i),i.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=i}setTimeout(function(){var i=parseInt(e(t._headerElement).css("left"),10)-t._headerElement.scrollLeft,s=parseInt(e(t._headerElement).css("top"),10)-t._headerElement.scrollTop,r=void 0!==t._animatingIndex?t._animatingIndex:t.selectedIndex;t._items[r]&&t.bar&&("top"===t.position||"bottom"===t.position?(t.bar.css("left",t._items[r].offsetLeft+i),"top"===t.position?t.bar.css("top",t._items[r].offsetTop+s+t._items[r].offsetHeight):t.bar.css("top",s),t.bar.width(e(t._items[r]).outerWidth()-2),t.bar.removeClass(t.toThemeProperty("vertical"))):("left"===t.position?t.bar.css("left",t._items[r].offsetLeft+i+t._items[r].offsetWidth):t.bar.css("left",t._items[r].offsetLeft+i),t.bar.css("top",s+t._items[r].offsetTop),t.bar.height(e(t._items[r]).outerHeight()-2),t.bar.addClass(t.toThemeProperty("vertical"))))})},_selectAt:function(t,i,s){var r=this;if(void 0===i&&(i=r.selectedIndex),(t!==i||!0===s)&&(r._stopAnimation(),r._refreshBarPosition(),r._allowSelection)){if(r._animatingIndex=t,-1!==r.selectedIndex&&r._clearSelection(!0,i),r._allowSelection=!1,r._selecting=t,"click"===r.selectionMode&&e(r._items[t]).removeClass(r.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===r.mode&&r._roundedCorners){var n,o;switch(r._header.removeClass(r.toThemeProperty("jqx-rc-all")),r.position){case"top":n="jqx-rc-t",o="jqx-rc-b";break;case"bottom":n="jqx-rc-b",o="jqx-rc-t";break;case"left":n="jqx-rc-l",o="jqx-rc-r";break;case"right":n="jqx-rc-r",o="jqx-rc-l"}r._headerElement.className+=" "+r.toThemeProperty(n);for(var a=0;a<r._items.length;a++)r._items[a].className+=" "+r.toThemeProperty(n),r._contentSections[a].className+=" "+r.toThemeProperty(o)}var l;switch(r._items[t].className+=" "+r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),r._selectionToken.style.display="block",r._updatePositions(t),r.animationType){case"fade":l=e(r._contentSections[t]),r._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}}):l.fadeOut({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}});break;case"slide":l=e(r._contentSections[t]);var d=r.position;"top"===d?d="up":"bottom"===d&&(d="down"),r.slideAnimation=r._slide(l,{mode:"show",direction:d,duration:r.animationDelay},t,i);break;case"none":r._contentSections[t].style.display="block",r._animationComplete(t,i)}}},_clearSelection:function(t,i){var s=this;if("popup"===s.mode&&s._roundedCorners&&(s._headerElement.className+=" "+s.toThemeProperty("jqx-rc-all")),s._selecting=-1,void 0===i&&(i=s.selectedIndex),e(s._items[i]).removeClass(s.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),s._selectionToken.style.display="none",!0!==t&&"none"!==s.animationType){var r=e(s._contentSections[i]);if("fade"===s.animationType)s._initAnimate(r),r.fadeOut({duration:s.animationDelay,complete:function(){s._clearSelectionComplete(i)}});else if("slide"===s.animationType){var n=s.position;"top"===n?n="up":"bottom"===n&&(n="down"),s._stopAnimation(),i=s.selectedIndex,s.slideAnimation=s._slide(r,{mode:"hide",direction:n,duration:s.animationDelay},i),s.selectedIndex=-1}}else{if(-1===i)return;s._contentSections[i].style.display="none",s._clearSelectionComplete(i,t)}},_addHandlers:function(){var t,i=this,s=i.element.id,r=!1;function n(e){var t=i._closest(e.target,"li"),s=t._index;i._items[s]._disabled||(s!==i.selectedIndex?i._selectAt(s):"popup"===i.mode&&"none"!==i.popupCloseMode&&(t.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),i._clearSelection()))}function o(s){if(!0===i.reorder&&!0===r){for(var n=i._closest(s.target,"li")._index,o=i._items[t].innerHTML,a=i._contentSections[t].childNodes,l=[];a.length>0;)l.push(e(a[0]).detach());i._suppressSelectionEvents=!0,i._oldReorderIndex=t,i.removeAt(t),i.clearSelection(),i.addAt(n,{title:o,content:l}),i.selectAt(n),setTimeout(function(){e(i._items[n]).trigger("mousedown")},0)}else{var d=i._closest(s.target,"li");g(d._index)&&(d.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function a(t){var s=i._closest(t.target,"li");g(s._index)&&e(s).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function l(e){if("#document"!==e.target.nodeName){var s=i._closest(e.target,"li");!0!==i.reorder&&!0!==i._removeByDrag||s._index!==i.selectedIndex||(r=!0,t=s._index,s.style.cursor="move")}}function d(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}function h(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||t===i.selectedIndex||i._selectAt(t)}function c(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||"popup"===i.mode&&"none"!==i.popupCloseMode&&i._clearSelection()}function u(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}var p,m,f=function(t){if("click"===i.popupCloseMode&&"popup"===i.mode&&-1!==i.selectedIndex){if("svg"===t.target.tagName)return;var r=i._closest(t.target,void 0,"jqx-ribbon");if(void 0!==r&&r.getAttribute("id")!==s)return void i._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void i._clearSelection();if(e(t.target).ischildof(i.host))return;var n=!1,o=[],a=function(e){e.parentElement&&(o.push(e.parentElement),a(e.parentElement))};a(t.target),e.each(o,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return n=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return s===this.id&&(n=!0),!1}}),n||i._clearSelection()}};if("click"===i.selectionMode){for(var g=function(e){return(i._selecting!==e&&!1===i._allowSelection||(-1===i._selecting||i.selectedIndex!==e)&&!0===i._allowSelection)&&!i._items[e]._disabled},v=0;v<i._items.length;v++){var x=i._items[v];i.addHandler(x,"click.ribbon"+s,n),i.addHandler(x,"mouseenter.ribbon"+s,o),i.addHandler(x,"mouseleave.ribbon"+s,a),i.addHandler(x,"mousedown.ribbon"+s,l)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var w=0;w<i._contentSections.length;w++)i.addHandler(i._contentSections[w],"mouseleave.ribbon"+s,d);i.addHandler(e(document),"mousedown.ribbon"+s,function(e){f(e)})}if(!0===i._removeByDrag)for(var y=0;y<i._items.length;y++)i._items[y].className+=" "+i.toThemeProperty("jqx-ribbon-item-docking-layout");i.addHandler(document,"mouseup.ribbon"+s,function(){r=!1;for(var e=0;e<i._items.length;e++)i._items[e].style.cursor=""}),i.addHandler(i._header,"mouseleave.ribbon"+s,function(e){!0===i._removeByDrag&&!0===r&&(i._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),i._items.length>1&&i.removeAt(t),r=!1,e.target.style.cursor="")})}else if("hover"===i.selectionMode){for(var b=0;b<i._items.length;b++){var _=i._items[b];i.addHandler(_,"mouseenter.ribbon"+s,h),"popup"===i.mode&&i.addHandler(_,"click.ribbon"+s,c)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var j=0;j<i._contentSections.length;j++)i.addHandler(i._contentSections,"mouseleave.ribbon"+s,u);i.addHandler(e(document),"mousedown.ribbon"+s,function(e){f(e)})}}e.jqx.mobile.isTouchDevice()?(p="touchstart",m="touchend"):(p="mousedown",m="mouseup"),i.addHandler(i._scrollButtonNear,p+".ribbon"+s,function(){return"horizontal"===i._orientation?i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e-i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e-i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(i._scrollButtonFar,p+".ribbon"+s,function(){return"horizontal"===i._orientation?i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e+i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e+i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(e(document),m+".ribbon"+s,function(){clearInterval(i._timeoutNear),clearInterval(i._timeoutFar)})},_removeHandlers:function(t,i){var s,r,n=this,o=n.element.id;t||(t=n.selectionMode),i||(i=n.mode);for(var a=0;a<n._items.length;a++){var l=n._items[a];n.removeHandler(l,"mouseenter.ribbon"+o),"click"===t&&(n.removeHandler(l,"click.ribbon"+o),n.removeHandler(l,"mouseleave.ribbon"+o),n.removeHandler(l,"mousedown.ribbon"+o))}"click"===t?(n.removeHandler(document,"mouseup.ribbon"+o),n.removeHandler(n._header,"mouseleave.ribbon"+o)):"hover"===t&&"popup"===i&&n.removeHandler(n.host,"mouseleave.ribbon"+o),e.jqx.mobile.isTouchDevice()?(s="touchstart",r="touchend"):(s="mousedown",r="mouseup"),n.removeHandler(n._scrollButtonNear,s+".ribbon"+o),n.removeHandler(n._scrollButtonFar,s+".ribbon"+o),n.removeHandler(e(document),r+".ribbon"+o)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t,i,s,r=this,n="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+r.position,o="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+r._orientation,a="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+r._orientation,l="jqx-ribbon-item jqx-ribbon-item-"+r.position;if(r._content.removeClass(),r._header.removeClass(r.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+r._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),r.host.removeClass(),r._roundedCorners)switch(r.position){case"top":a+=" jqx-rc-t",l+=" jqx-rc-t",n+=" jqx-rc-b";break;case"bottom":a+=" jqx-rc-b",l+=" jqx-rc-b",n+=" jqx-rc-t";break;case"left":a+=" jqx-rc-l",l+=" jqx-rc-l",n+=" jqx-rc-r";break;case"right":a+=" jqx-rc-r",l+=" jqx-rc-r",n+=" jqx-rc-l"}else switch(r.position){case"top":l+=" jqx-rc-t";break;case"bottom":l+=" jqx-rc-b";break;case"left":l+=" jqx-rc-l";break;case"right":l+=" jqx-rc-r"}!0===r.rtl&&(a+=" jqx-ribbon-header-rtl",l+=" jqx-ribbon-item-rtl"),r.element.className+=" "+r.toThemeProperty("jqx-widget jqx-ribbon"),r._headerElement.className+=" "+r.toThemeProperty(a),r._contentElement.className+=" "+r.toThemeProperty(o);for(var d=0;d<r._items.length;d++){var h=e(r._contentSections[d]),c=e(r._items[d]);h.removeClass(),c.removeClass(r.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+r.position)),"popup"===r.mode&&(n+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+r.position+" jqx-ribbon-content-section-"+r._orientation+"-popup"),r._contentSections[d].className+=" "+r.toThemeProperty(n),r._items[d].className+=" "+r.toThemeProperty(l)}("popup"===r.mode?(-1===r.selectedIndex&&r._roundedCorners&&(r.element.className+=" "+r.toThemeProperty("jqx-rc-all"),r._headerElement.className+=" "+r.toThemeProperty("jqx-rc-all")),r.element.className+=" "+r.toThemeProperty("jqx-ribbon-popup"),r._headerElement.className+=" "+r.toThemeProperty("jqx-ribbon-header-"+r._orientation+"-popup"),r._contentElement.className+=" "+r.toThemeProperty("jqx-ribbon-content-popup"),r._positionPopup()):("horizontal"===r._orientation?"auto"!==r.height?(i=r._headerElement.offsetHeight,"top"===r.position?r._contentElement.style.paddingTop=r._toPx(i):r._headerElement.className+=" "+r.toThemeProperty("jqx-ribbon-header-bottom")):r._headerElement.className+=" "+r.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===r._orientation&&("auto"!==r.width?(t=r._headerElement.offsetWidth,"left"===r.position?r._contentElement.style.paddingLeft=r._toPx(t):(r._headerElement.className+=" "+r.toThemeProperty("jqx-ribbon-header-right"),r._contentElement.style.paddingRight=r._toPx(t))):(r.element.className+=" "+r.toThemeProperty("jqx-ribbon-auto"),r._headerElement.className+=" "+r.toThemeProperty("jqx-ribbon-header-auto"),r._contentElement.className+=" "+r.toThemeProperty("jqx-ribbon-content-auto-width"))),this.host.addClass("jqx-tabs-header-position-"+this.position)),e(r._headerElement).addClass(r.toThemeProperty("jqx-ribbon-header-"+r.position)),"7.0"===r._browser.version&&"msie"===r._browser.browser)&&("horizontal"===r._orientation?(r._header.css("width",r.host.width()-parseInt(r._header.css("padding-left"),10)-parseInt(r._header.css("padding-right"),10)-parseInt(r._header.css("border-left-width"),10)-parseInt(r._header.css("border-right-width"),10)),r._items.height(r._items.height()-parseInt(r._items.css("padding-top"),10)-parseInt(r._items.css("padding-bottom"),10)-parseInt(r._items.css("border-top-width"),10)-parseInt(r._items.css("border-bottom-width"),10)),r._contentSections.width(r._contentSections.width()-parseInt(r._contentSections.css("border-left-width"),10)-parseInt(r._contentSections.css("border-right-width"),10)-parseInt(r._contentSections.css("padding-left"),10)-parseInt(r._contentSections.css("padding-right"),10)),"default"===r.mode&&"auto"!==r.height&&("top"===r.position?r._contentSections.css("padding-top",i):r._contentSections.css("padding-bottom",i),r._content.css("height",r.host.height()+2),r._contentSections.css("height",r._content.height()-parseInt(r._contentSections.css("border-bottom-width"),10)-parseInt(r._contentSections.css("border-top-width"),10)-1))):("left"===r.position?(r._contentElement.className+=" "+r.toThemeProperty("jqx-ribbon-content-left"),s=parseInt(r._contentSections.css("border-left-width"),10)+parseInt(r._contentSections.css("border-right-width"),10)+1):(r._contentElement.className+=" "+r.toThemeProperty("jqx-ribbon-content-right"),s=0),r._header.css("height",r.host.height()-parseInt(r._header.css("padding-top"),10)-parseInt(r._header.css("padding-bottom"),10)-parseInt(r._header.css("border-top-width"),10)-parseInt(r._header.css("border-bottom-width"),10)),r._items.width(r._items.width()-parseInt(r._items.css("padding-left"),10)-parseInt(r._items.css("padding-right"),10)-parseInt(r._items.css("border-left-width"),10)-parseInt(r._items.css("border-right-width"),10)),r._contentSections.height(r._contentSections.height()-parseInt(r._contentSections.css("border-top-width"),10)-parseInt(r._contentSections.css("border-bottom-width"),10)-parseInt(r._contentSections.css("padding-top"),10)-parseInt(r._contentSections.css("padding-bottom"),10)),"default"===r.mode&&"auto"!==r.width&&("left"===r.position?r._contentSections.css("padding-left",t):r._contentSections.css("padding-right",t),r._contentSections.width(r._content.width()-r._header.width()-s))));"bottom"===r.position&&r._content.css("padding-bottom",i)},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){var e=this,t="horizontal"===e._orientation?["left","right"]:["up","down"];function i(t,i,s){t.className=e.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+e.position+" jqx-ribbon-scrollbutton-"+e.scrollPosition+" jqx-widget-header "+i),t.innerHTML='<div class="'+e.toThemeProperty("jqx-ribbon-scrollbutton-inner "+s)+'"></div>',"horizontal"===e._orientation?t.style.height=e._toPx(e._height(e._headerElement)):t.style.width=e._toPx(e._width(e._headerElement)),e.element.appendChild(t)}var s=document.createElement("div");i(s,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+t[0]);var r=document.createElement("div");if(i(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+t[1]),e._scrollButtonRc(s,r),e._scrollButtonNear=s,e._scrollButtonFar=r,e.roundedCorners)switch(e.position){case"top":case"bottom":s.style.marginLeft="-1px",r.style.marginRight="-1px";break;case"right":case"left":s.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var i=this;if(i.roundedCorners)switch(i.position){case"top":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-bl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tr")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[s]._index===i.selectedIndex&&(i.selectedIndex=s)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var s=0;s<i._items.length;s++){var r=i._items[s];r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[s]._layout="default"),!0===e&&t(),r._index=s,!0!==e&&t(),i._contentSections[s]&&(i._contentSections[s]._index=s)}},_positionContent:function(t){var i,s,r,n,o,a,l=this,d=l._contentSections[t];"horizontal"===l._orientation?(i=l.element.offsetWidth,s=l.host.offset().left,r=l._items[t].offsetWidth,n=e(l._items[t]).offset().left,o=d.offsetWidth||parseInt(d.style.width,10),a="left"):(i=l.element.offsetHeight,s=l.host.offset().top,r=l._items[t].offsetHeight,n=e(l._items[t]).offset().top,o=d.offsetHeight||parseInt(d.style.height,10),a="top");var h=function(e){e<0?e=0:e+o>i&&(e=i-o),d.style[a]=l._toPx(e)};switch(d._layout){case"near":h(n-s);break;case"far":h(n-s-(o-r));break;case"center":h(n-s-(o-r)/2);break;default:if("right"===l.position)for(var c=0;c<l._contentSections.length;c++)l._contentSections[c].style.right="1px";else d.style[a]=""}},_checkScrollButtons:function(t){var i=this,s=0;e.each(i._items,function(){var t=e(this);"none"!==t.css("display")&&(s+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))});var r="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],n="horizontal"===i._orientation?i._width(i._headerElement):i._height(i._headerElement);if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(r[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(r[1]))),s>n){i._scrollButtonNear.style.display="block",i._scrollButtonFar.style.display="block";var o=i.rtl?i._itemMargins[0]:17,a=i.rtl?i._itemMargins[0]:17;switch(i.scrollPosition){case"near":a=0,o=34;break;case"far":a=34,o=17}i._items[0]&&(i._items[0].style[r[0]]=i._toPx(o)),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(a))}else i._items[0]&&(i._items[0].style[r[0]]=i._toPx(i._itemMargins[0])),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(i._itemMargins[1])),i._scrollButtonNear.style.display="none",i._scrollButtonFar.style.display="none";if(!0===t)if("horizontal"===i._orientation){var l=i._toPx(i._height(i._headerElement));i._scrollButtonNear.style.height=l,i._scrollButtonFar.style.height=l}else{var d=i._toPx(i._width(i._headerElement));i._scrollButtonNear.style.width=d,i._scrollButtonFar.style.width=d}},_positionSelectionToken:function(t){var i=this;if(-1!==t){var s,r,n,o,a,l=e(i._items[t]);if(0===l.length)return;if("horizontal"===i._orientation){var d,h;!0===i.rtl?(d=1===i._browserWidthRtlFlag?i._headerElement.scrollWidth-i._headerElement.clientWidth:0,h=i._browserScrollRtlFlag):(d=0,h=1),n=l[0].offsetLeft+d-i._headerElement.scrollLeft*h-i._selectionTokenOffsetX+2,a=i._headerElement.offsetHeight-1;var c=i._width(l[0])+parseInt(l.css("padding-left"),10)+parseInt(l.css("padding-right"),10);"top"===i.position?(s=a-i._selectionTokenOffsetY,r=""):(s="",r=a-i._selectionTokenOffsetY),i._selectionToken.style.top=i._toPx(s),i._selectionToken.style.bottom=i._toPx(r),i._selectionToken.style.left=i._toPx(n),i._selectionToken.style.width=i._toPx(c)}else{s=l[0].offsetTop-i._headerElement.scrollTop-i._selectionTokenOffsetX+2,a=i._headerElement.offsetWidth-1;var u=i._height(l[0])+parseInt(l.css("padding-top"),10)+parseInt(l.css("padding-bottom"),10);"left"===i.position?(n=a-i._selectionTokenOffsetY,o=""):(n="",o=a-i._selectionTokenOffsetY),i._selectionToken.style.top=i._toPx(s),i._selectionToken.style.left=i._toPx(n),i._selectionToken.style.right=i._toPx(o),i._selectionToken.style.height=i._toPx(u)}}},_updatePositions:function(e,t){var i=this;if(isNaN(e)&&(e=!0===t&&null!==i._selecting&&i._selecting>=0?i._selecting:i.selectedIndex),-1!==e){if(i._positionSelectionToken(e),"popup"===i.mode&&"default"!==i._contentSections[e]._layout&&i._positionContent(e),"popup"===i.mode&&("left"===i.position||"right"===i.position)){i._contentElement.style.width="auto";var s=i._contentSections[e].style.width&&i._contentSections[e].style.width.indexOf("%")>=0;i._contentElement.style.width=s?i._toPx(i._width(i._contentSections[e])-i._width(i._headerElement)):i._toPx(i._width(i._contentSections[e]))}i._refreshBarPosition()}},_animationComplete:function(e,t){var i=this,s=-1!==t?t:null;i._contentElement.style.pointerEvents="auto",i.selectedIndex=e,!0!==i._suppressSelectionEvents?(i._raiseEvent("0",{selectedIndex:e}),i._raiseEvent("2",{unselectedIndex:s,selectedIndex:e})):(!0!==i._suppressReorder&&void 0!==i._oldReorderIndex&&e!==i._oldReorderIndex&&i._raiseEvent("4",{newIndex:e,oldIndex:i._oldReorderIndex}),i._suppressSelectionEvents=!1,i._suppressReorder=!1),i.initContent&&!1===i._items[e]._isInitialized&&(i.initContent(e),i._items[e]._isInitialized=!0),i._allowSelection=!0,i._selecting=null,i._refreshBarPosition()},_clearSelectionComplete:function(e,t){var i=this;i._selecting=null,void 0===e&&(e=i.selectedIndex),-1!==e&&(i._contentElement.style.pointerEvents="none",!0!==i._suppressSelectionEvents&&i._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(i.selectedIndex=-1)},_slide:function(t,i,s,r){var n=this;if(n.activeAnimations||(n.activeAnimations=[]),n.activeAnimations.length>0)for(var o=0;o<n.activeAnimations.length;o++)n.activeAnimations[o].clearQueue(),n.activeAnimations[o].finish();else t.clearQueue(),t.animate("finish");var a,l="ui-effects-",d=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data(l+t[i],e[0].style[t[i]])},h=function(e,t){var i,s;for(s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(l+t[s]))&&(i=""),e.css(t[s],i))},c=function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),s.css(i).show()},u=function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},p=["position","top","bottom","left","right","width","height"],m=i.mode,f="show"===m,g=i.direction||"left",v="up"===g||"down"===g?"top":"left",x="up"===g||"left"===g,w={};d(t,p),t.show(),a=i.distance||t["top"===v?"outerHeight":"outerWidth"](!0),c(t).css({overflow:"hidden"}),f&&t.css(v,x?isNaN(a)?"-"+a:-a:a),w[v]=(f?x?"+=":"-=":x?"-=":"+=")+a;return n.activeAnimations.push(t),t.animate(w,{duration:i.duration,easing:i.easing,complete:function(){n.activeAnimations.pop(t),"show"===m?n._animationComplete(s,r):"hide"===m&&(t.hide(),n._clearSelectionComplete(s)),h(t,p),u(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var i=e(t),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10),a="none"===i.css("display");a&&(t.style.display="block"),s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var l=t.offsetWidth-(s+r+n+o);return a&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var i=e(t),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var a=t.offsetHeight-(s+r+n+o);return Math.max(0,a)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var s=e.parentNode;null!==s&&"#document"!==s.nodeName;){if(s.nodeName.toLowerCase()===t)return s;s=s.parentNode}}if(i){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if((" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return r;r=r.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework),function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===e.jqx._jqxScheduler.prototype?t:(e.extend(!0,this,t),this.that=this,t)},_applyThemeSettings:function(){const e=this;var t=window.getComputedStyle(e.element),i=t.getPropertyValue("--jqx-grid-row-height"),s=t.getPropertyValue("--jqx-grid-column-height");t.getPropertyValue("--jqx-scrollbar-size");i&&(e.rowsHeight=parseInt(i)),s&&(e.columnsHeight=parseInt(s))},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view,this._applyThemeSettings();for(var s=0;s<i.views.length;s++)"string"===e.type(i.views[s])?i._views.push({type:i.views[s]}):i._views.push(i.views[s]);for(s=0;s<i._views.length;s++)if(i._views[s].type==i.view){i._view=s;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var r=i.source._source.datafields;r&&r.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),s=e(window).height();i._hostWidth=null,i._hostHeight=null;var r=i.host.width(),n=i.host.height();i._hostWidth=r,i._hostHeight=n,i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=n}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var s=i.find("button");s.jqxButton({theme:t.theme,width:"50%"});var r=!1;s.mousedown(function(){r=!0,this.id.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){if(13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase())return e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0}),this.addHandler(e(i),"close",function(e){if(!r)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;r=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,s=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,s.days&&(t=s.days);break;case"weekView":case"timelineWeekView":t=7,s.days&&(t=s.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,s.days&&(t=s.days);break;case"agendaView":t=7,s.days&&(t=s.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),null!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var o=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1)};o(),s._resizeTimer=setTimeout(function(){var e=s.host.width(),t=s.host.height();s._oldWidth==e&&s._oldHeight==t||o()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var s in this.schedulerLocalization)t[s]&&(this.schedulerLocalization[s]=t[s]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var s=i._views[i._view].type,r=i._views[i._view];if("monthView"==s&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight){var n=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(n!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var o=parseInt(i.scrollBarSize),a=i.table?i.table.height():0,l=0,d="inherit";n=i.vScrollBar[0].style.visibility,i.hScrollBar[0].style.visibility;if(e)h=e;else var h=i.host.height();i.columnGroups?h-=i.showHeader?i.columnsheader.height():0:h-=i.showHeader?i.columnsHeight:0,i.filterable&&(h-=i.filter.height()),i.pageable&&(h-=i.pagerHeight,"both"===i.pagerPosition&&(h-=i.pagerHeight)),i.showToolbar&&(h-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(h-=i.legendHeight);var c=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(c=!0),!c&&a>h&&i.getRows().length>0?(i.vScrollBar[0].style.visibility=d,l=4+parseInt(o),i.vScrollBar.jqxScrollBar({max:a-h})):i.vScrollBar[0].style.visibility="hidden",n!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var u=i.table?i.table.width():0;u>4&&(u-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),m=p+i.host.width()-l;if(u>m&&!t){if(i.hScrollBar[0].style.visibility=d,i.hScrollBar.jqxScrollBar({max:2+p+u-m}),l=4+parseInt(o),0==o&&(l=0),!c&&a!=h){if(a>h-l+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:p+u-m});var f="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility=d,i._updatecolumnwidths(),f&&i.hScrollBar.jqxScrollBar({max:u-m+p});var g=i.table?i.table.width():0;g>3&&(g-=3),g!=u&&(g<m?(i.hScrollBar.jqxScrollBar({max:p+g-m}),i.hScrollBar[0].style.visibility="hidden",l=0):f?g>m&&i.hScrollBar.jqxScrollBar({max:p+g-m}):i.hScrollBar.jqxScrollBar({max:u-m+p-o}))}a-h>0?i.vScrollBar.jqxScrollBar({max:a-h+l}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this._hostHeight=null,this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.columns.records[i].text):s)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),s=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var r=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px");var n=r+e+"px";r+=e,this.content[0].style.top!=n&&(this.content[0].style.top=r+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(s);var o=parseInt(this.scrollBarSize),a=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=o+4),"hidden"!=this.hScrollBar[0].style.visibility&&(a=o+4+2),0==o&&(a=0,l=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(a-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();r=c.top,i=c.height}}var u=0;this.showLegend&&"bottom"==this.legendPosition?(a+=e,u+=e):this.showLegend&&(a+=e),this.hScrollBar[0].style.height!=o+"px"&&(this.hScrollBar[0].style.height=parseInt(o)+"px"),this.hScrollBar[0].style.top==r+i-4-o-u+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-o-u-1+"px",this.hScrollBar[0].style.left="0px");var p=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?p!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):p!=t-o-4+"px"&&(this.hScrollBar[0].style.width=t-o-4+"px",m=!0),this.vScrollBar[0].style.width!=o+"px"&&(this.vScrollBar[0].style.width=o+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-a+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-a+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(o)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(o)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:o+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var v=this.hScrollInstance;v.disabled=this.disabled,m&&v.refresh(),f&&g.refresh();var x;"hidden"!=(x=this).vScrollBar[0].style.visibility&&"hidden"!=x.hScrollBar[0].style.visibility?(x.bottomRight[0].style.visibility="inherit",x.bottomRight[0].style.left=1+parseInt(x.vScrollBar.css("left"))+"px",x.bottomRight[0].style.top=parseInt(x.hScrollBar.css("top"))+"px",x.rtl&&x.bottomRight.css("left","0px"),x.bottomRight[0].style.width=parseInt(o)+3+"px",x.bottomRight[0].style.height=parseInt(o)+4+"px"):x.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-a+3+"px"&&(this.content[0].style.height=i-a+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=s;var w=this.schedulercontent.coord();this._tableOffset=w}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var o=1;this.resources&&this.resources.source&&(o=2);var a=0,l=function(){if(a==o){n._resourcesBinding=!1;var t=n._resources.length>1?n._resources.length:1;if(n.resources&&"horizontal"===n.resources.orientation?(n.tableColumns=t,n.tableRows=1):n.resources&&"vertical"===n.resources.orientation?(n.tableRows=t,n.tableColumns=1):(n.tableColumns=1,n.tableRows=1),n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),s&&s(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n.ready&&n.ready(),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var i=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(l)](function(){e(n._gridRenderElement).hide("slow",function(){e(n._gridRenderElement).remove()})},i)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval(function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(t){n._loading=!1,n.appointmentsByKey=new Array,n.appointments=new Array,n.uiappointments=new Array;n.source._source.datafields;for(var i=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],s=new Array,r=0;r<n.source.records.length;r++){var o=n.source.records[r],d={};for(var h in n.appointmentDataFields){var c=o[n.appointmentDataFields[h]];if("from"!=h&&"to"!=h||(c=new e.jqx.date(c)),"style"==h&&c){var u=n.getAppointmentColors(c);d.color=u.color,d.background=u.background,d.borderColor=u.border}if("recurrencePattern"==h&&c&&((c=new e.jqx.scheduler.recurrencePattern(c)).timeZone=o.timeZone||n.timeZone),"recurrenceException"==h){var p=new Array;if(c){c.indexOf("EXDATE:")>=0&&(c=c.substring(c.indexOf("EXDATE:")+7));var m=new Array;c.indexOf(",")>=0?m=c.split(","):m.push(c);for(var f=0;f<m.length;f++){var g=m[f];if(g.indexOf(";")>=0){var v=g.split(";")[1];g=g.split(";")[0],v.toLowerCase().indexOf("display")>=0&&v.toLowerCase().indexOf("none")&&(d.hidden=!0)}try{"Invalid Date"!=(x=e.jqx.scheduler.utilities.untilStringToDate(g))&&(x=d.timeZone?new e.jqx.date(x,d.timeZone):n.timeZone?x.toTimeZone(n.timeZone):new e.jqx.date(x))}catch(t){var x=new e.jqx.date(g,n.timeZone)}p.push(x)}}c=p}d[h]=c}for(var w in i){if(null==d[h=i[w]]){c="";if("originalData"==h)continue;"ownerId"==h&&(c=null),"timeZone"==h&&(c=null),"recurrencePattern"==h&&(c=null),"recurrenceException"==h&&(c=[]),"allDay"==h&&(c=!1),"draggable"==h&&(c=!0),"resizable"==h&&(c=!0),"hidden"==h&&(c=!1),"resourceId"==h&&(c=null),"from"==h&&(c=new e.jqx.date),"to"==h&&(c=(new e.jqx.date).addHours(1)),d[h]=c}}d.originalData=o,n.resources&&!n.resources.source&&(n._resourcesBinding||-1==s.indexOf(d.resourceId)&&s.push(d.resourceId)),n.appointmentsByKey[o.uid]=d,n.appointments.push(d);var y=new e.jqx.scheduler.appointment(d);if(d.timeZone&&(y.from=y.from.toTimeZone(d.timeZone),y.to=y.to.toTimeZone(d.timeZone)),n.timeZone?(d.timeZone||(y.timeZone=n.timeZone),y.from=y.from.toTimeZone(n.timeZone),y.to=y.to.toTimeZone(n.timeZone)):(y.from=y.from.toTimeZone(null),y.to=y.to.toTimeZone(null)),d.jqxAppointment=y,d.recurrenceException)for(var b=0;b<d.recurrenceException.length;b++){x=y.recurrenceException[b];var _=y.clone();_.occurrenceFrom=x;var j=y.duration();n.allDay&&(j=new e.jqx.timeSpan(1e4*(n.to-n.from))),_.from=x,_.to=x.add(j),_.rootAppointment=y,_.hidden=!0,y.exceptions.push(_)}y.boundAppointment=d,y.scheduler=n,n.uiappointments.push(y)}n._resourcesBinding||(n._resources=s),a++,l()},this.resourcesDataView.update=function(e){if(n.resources.dataField){n._resources=new Array;for(var t=0;t<e.length;t++)n._resources.indexOf(e[t][n.resources.dataField])>=0||e[t][n.resources.dataField]&&n._resources.push(e[t][n.resources.dataField])}else n._resources=e;null==n.resources.orientation&&(n.resources.orientation="none"),a++,l()},this.dataview.databind(t),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=t,r=i;r.owner=this;var n=new e.Event(s);n.owner=this,n.args=r;var o=this.host.trigger(n);return i=n.args,o},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),s=this.getViewEnd();if(!e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,s))return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var r=t.id,n=e('[data-key="'+r+'"]');if(n.length>0)var o=n[0];else{if(!(t.elements&&t.elements.length>0))return!1;o=t.elements[0].element}var a=this.vScrollInstance.value,l=this.hScrollInstance.value;if(this.rtl)l=this.hScrollInstance.max-l;var d=this.element.clientHeight,h=this.element.clientWidth,c=0;this.columnGroups?c+=this.showHeader?this.columnsheader.height():0:c+=this.showHeader?this.columnsHeight:0;var u=this._views[this._view].type,p=this._views[this._view],m=0;if("dayView"==u||"weekView"==u){var f=this.showAllDayRow;!p.timeRuler||"dayView"!==u&&"weekView"!==u||null!=p.timeRuler.showAllDayRow&&(f=p.timeRuler.showAllDayRow),f&&(m=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var g=t.duration().days()>=1||t.allDay;if(g&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(c+=this.toolbarHeight),d-=c,this.showLegend&&this._resources.length>0&&(d-=this.legendHeight);var v,x=a-0,w=d+x-m,y=l-0,b=h+y,_=o,j=((_=e(_))[0].clientHeight,_.position().top-m);j<=x?((v=j)<0&&(v=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",v)):j>=w&&((v=j)<0&&(v=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",v-2));var q=_.position().left;q=Math.round(q),_.outerWidth();if(0===Math.round(_.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),q<=y){var T=q-_.outerWidth()+0;T<0&&(T=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-q):this.hScrollBar.jqxScrollBar("setPosition",q)}q>b&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-q):this.hScrollBar.jqxScrollBar("setPosition",q))},ensureVisible:function(t,i){for(var s=this,r="date"==e.type(t)?t:t.toDate(),n=0;n<s.rows.length;n++)for(var o=0;o<s.rows[n].cells.length;o++){var a=s.rows[n].cells[o];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date");if(s._getDateByString(l).valueOf()==r.valueOf())return s._ensureVisible(a)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),s=this.hScrollBar.jqxScrollBar("value");this.rtl&&(s=this.hScrollBar.jqxScrollBar("max")-s);var r=this._hostHeight,n=this._hostWidth,o=0;this.columnGroups?o+=this.showHeader?this.columnsheader.height():0:o+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(o+=this.toolbarHeight),r-=o,this.showLegend&&this._resources.length>0&&(r-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var a=this._views[this._view].type,l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var c=i-0,u=r+c-d,p=s-0,m=n+p,f=t,g=(f=e(f)).position().top-d,v=g+f.outerHeight(),x=f.position().left,w=(x=Math.round(x))+f.outerWidth();if(0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),x<=p){var y=x-f.outerWidth()+0;y<0&&(y=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-y):this.hScrollBar.jqxScrollBar("setPosition",y)}w>=m&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+w-n)):this.hScrollBar.jqxScrollBar("setPosition",2+w-n));var b=f.parent().index();if(this.tableRows>0&&b--,0===Math.round(f.position().top)||0===b)return this.vScrollBar.jqxScrollBar("setPosition",0);var _=this.table[0].rows.length-1;if(this.table[0].rows[_][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var j=g;return j<0&&(j=0),this.vScrollBar.jqxScrollBar("setPosition",j)}return v>=u?this.vScrollBar.jqxScrollBar("setPosition",4+v-r+d):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i;var r=this.getColumn(e);switch(null!=r&&(r[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],s=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow),!s||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var n=0;n<this.rows[r].cells.length;n++){var o=this.rows[r].cells[n];if(-1==o.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=o;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var o=0;o<this.columns.length;o++){var a=this.columns[o];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var s=function(i,s){i.children().remove();i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[s]=new Array,e.each(t._resources,function(r){var n=t.getColors(r),o=this.toString(),a=e("<div data-toggle='on' style='border-color: "+n.border+"; background: "+n.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");a.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+o+"</div>");l.appendTo(i),t._resourcesElements[s][o]=a;var d=function(){"on"==a.attr("data-toggle")?t.hideAppointmentsByResource(o):t.showAppointmentsByResource(o)};t.addHandler(a,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};s(t.legendbarbottom,"bottom"),s(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var r=t._views[t._view].type,n=t._views[t._view],o=t.showAllDayRow;!n.timeRuler||"dayView"!==r&&"weekView"!==r||null!=n.timeRuler.showAllDayRow&&(o=n.timeRuler.showAllDayRow),t.focusedCell=!o||"dayView"!=r&&"weekView"!=r?t.rows[0].cells[0]:t.rows[1].cells[0],t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,s=0;s<4&&i.parentNode;s++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(t.indexOf(".")>=0)var i=t.substring(0,t.indexOf(".")),s=(t.substring(t.indexOf(".")+1),this.appointmentsByKey[i].jqxAppointment.renderedAppointments[t]);else s=this.appointmentsByKey[t].jqxAppointment;return s},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),s=(this.toolbarHeight-20)/2;i.css("top",s),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var r=e("<div style='outline: none;  width: 15px; height: 15px;'></div>");r.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(r);var n=e("<div style='outline: none; width: 15px; height: 15px;'></div>");n.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(n),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var o=new Array;t.rtl?(o.push(t.toolbarRightButton),o.push(t.dateTimeInput),o.push(t.toolbarLeftButton)):(o.push(t.toolbarLeftButton),o.push(t.dateTimeInput),o.push(t.toolbarRightButton));var a=t._views.length-1;e.each(t._views,function(i){var s="",r=i;if(t.rtl&&(r=a-i),null!=t._views[r].text)s=t._views[r].text;else switch(t._views[r].type){case"dayView":s=t.schedulerLocalization.dayViewString;break;case"weekView":s=t.schedulerLocalization.weekViewString;break;case"monthView":s=t.schedulerLocalization.monthViewString;break;case"agendaView":s=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":s=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":s=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":s=t.schedulerLocalization.timelineMonthViewString}var n='<span data-type="'+t._views[r].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+s+"</span>",l=e(n);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),o.push(l),0==r&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),r==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),r===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(r),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=o;var l=t._views[t._view].type,d=function(i){var s=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),r=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(s):t.toolbarDetails.html(s+" - "+r),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+r+"<span> - <span style='direction:rtl;'>"+s+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;t.toolBarRangeFormat;h>t.host.width()?(d(t.toolBarRangeFormatAbbr),(h=t.toolbarViews.width()+t.toolbarDetails.width()+120)>t.host.width()&&(t.toolbarDetails.hide(),(h=t.toolbarViews.width()+120)>t.host.width()&&t.toolbarViews.hide())):t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){i.vScrollBar[0].style.visibility&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var s=i.hScrollBar[0].style.visibility;s&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var r=i._views[i._view].type,n=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh(),s!==i.hScrollBar[0].style.visibility&&(i._renderrows(),i._updateTouchScrolling()),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var o=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:o,to:a,oldViewType:r,newViewType:n})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this._views[this._view].type,i=this._views[this._view],s=new e.jqx.date(this.date,this.timeZone);switch(t){case"dayView":case"timelineDayView":s=s.addDays(1),s=function(){for(;(0==s.dayOfWeek()||6==s.dayOfWeek())&&!1===i.showWeekends;)s=s.addDays(1);return s}();break;case"weekView":case"timelineWeekView":s=s.addDays(7);break;case"monthView":case"timelineMonthView":s.day();var r=s.month(),n=s.year(),o=new e.jqx.date(n,r,1);o.timeZone=this.timeZone,s=o.addMonths(1);break;case"agendaView":s=i.days?s.addDays(i.days):s.addDays(7)}return this.navigateTo(s)},navigateBackward:function(){var t=this._views[this._view].type,i=this._views[this._view],s=new e.jqx.date(this.date,this.timeZone);switch(t){case"dayView":case"timelineDayView":s=s.addDays(-1),s=function(){for(;(0==s.dayOfWeek()||6==s.dayOfWeek())&&!1===i.showWeekends;)s=s.addDays(-1);return s}();break;case"weekView":case"timelineWeekView":s=s.addDays(-7);break;case"monthView":case"timelineMonthView":s.day();var r=s.month(),n=s.year(),o=new e.jqx.date(n,r,1);o.timeZone=this.timeZone,s=o.addMonths(-1);break;case"agendaView":s=i.days?s.addDays(-i.days):s.addDays(-7)}return this.navigateTo(s)},_refreshToolBar:function(t){var i=this,s=i.getViewStart(),r=i.getViewEnd(),n=function(t){var n=e.jqx.formatDate(s.toDate(),t,i.schedulerLocalization),o=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),a=i._views[i._view].type;if(!1===i._views[i._view].showWeekends){0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1));n=e.jqx.formatDate(s.toDate(),t,i.schedulerLocalization),o=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization)}"dayView"===a||"timelineDayView"===a?i.toolbarDetails.html(n):i.toolbarDetails.html(n+" - "+o),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+o+"<span> - <span style='direction:rtl;'>"+n+"</span>")):i.toolbarDetails[0].style.direction="ltr"};t?n(i._lastFormatString||i.toolBarRangeFormat):(n(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show(),i.toolbarViews.width()+i.toolbarDetails.width()+120>i.host.width()&&(n(i.toolBarRangeFormatAbbr),i.toolbarViews.width()+i.toolbarDetails.width()+120>i.host.width()&&(i.toolbarDetails.hide(),i.toolbarViews.width()+120>i.host.width()&&i.toolbarViews.hide())))},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell(),i.resources&&i._renderhorizontalscroll();var s=i.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:s,to:r})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columnGroups.length;i++){if((d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=s(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r;if((d=this.columns.records[i]).columngroup)(r=s(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=d=this.columns.records[i];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var s="mousemove.scheduler"+t.element.id,r="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,r=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),s),t.removeHandler(e(document),r),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null;window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(e){}t.removeHandler(t.host,s),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,s){if(t){var r=this;r.selectedAppointment&&r.clearAppointmentsSelection();var n=t.id,o=e('[data-key="'+n+'"]');if(o.length>0){r.selectedJQXAppointment=t,r.selectedAppointment=e(i||o[0]);var a=r._views[r._view].type;r._views[r._view];if("agendaView"==a)return void r.clearSelection();switch(o.addClass(r.toTP("jqx-scheduler-selected-appointment")),t.resizable&&o.find(".jqx-scheduler-appointment-resize-indicator").show(),a){case"dayView":e(o).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(o).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":o.length>1&&e.each(o,function(t){r.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<o.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<o.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==s)return void r.clearSelection()}r.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),s=e('[data-key="'+i+'"]');s.removeClass(t.toTP("jqx-scheduler-selected-appointment")),s.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var s=this,r=e.toDate(),n=0;n<s.rows.length;n++)for(var o=0;o<s.rows[n].cells.length;o++){var a=s.rows[n].cells[o];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=s._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==r.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}}s._updateCellsSelection()},selectRange:function(e,t,i,s){var r=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var n=e.toDate(),o=t.toDate(),a=!1,l=0;l<r.rows.length;l++)for(var d=0;d<r.rows[l].cells.length;d++){var h=r.rows[l].cells[d];if(!s||h.getAttribute("data-view")===s){var c=h.getAttribute("data-date"),u=r._getDateByString(c);if(i&&h.getAttribute("data-end-date"))u.valueOf()>=n.valueOf()&&u.valueOf()<=o.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;u.valueOf()>=n.valueOf()&&u.valueOf()<=o.valueOf()&&(h.setAttribute("data-selected","true"),a||(r._lastSelectedCell=h,r.focusedCell=h,a=!0))}}r._updateCellsSelection()},_selectRange:function(t,i){var s=this;if("agendaView"!=s._views[s._view].type){var r=t,n=i.getAttribute("data-view");if(t.getAttribute("data-view")===n){var o=i.getAttribute("data-date"),a=r.getAttribute("data-date");if(null!=o&&null!=a){var l=i.getAttribute("data-end-date"),d=r.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,u=s._getDateByString(o),p=s._getDateByString(a);u<this.min.toDate()&&(u=this.min.toDate()),p<this.min.toDate()&&(p=this.min.toDate()),u>this.max.toDate()&&(u=this.max.toDate()),p>this.max.toDate()&&(p=this.max.toDate());var m=Math.min(u,p),f=Math.max(u,p),g=s.rows,v=0,x=0;v>0&&s.rtl&&(v=0,x=1);var w=g.length;if(h&&(w=1,null==t.getAttribute("data-end-date"))){p.setHours(0,0,0,0);var y=new e.jqx.date(p,s.timeZone).toString();e(r).parent().index();e.each(g[0].cells,function(){if(this.getAttribute("data-date")===y){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var e=i.getAttribute("data-date"),r=t.getAttribute("data-date"),n=s._getDateByString(e),o=s._getDateByString(r);return m=Math.min(n,o),f=Math.max(n,o),!1}})}for(var b=0;b<w;b++){var _=g[b];if(h&&this.tableRows>1){var j=(-1+parseInt(t.getAttribute("data-view")))*(g.length/s.tableRows);q=g[j],_=g[j]}for(var q=_.cells,T=v;T<q.length-x;T++)if(q[T].getAttribute("data-view")===n&&(q[T].removeAttribute("data-selected"),c||!q[T].getAttribute("data-end-date"))){var C=q[T].getAttribute("data-date"),S=s._getDateByString(C).valueOf();m<=S&&S<=f&&q[T].setAttribute("data-selected","true")}}s._updateCellsSelection()}}}},findCell:function(e,t){var i=this,s=null;if(!i._tableOffset){var r=i.schedulercontent.coord();i._tableOffset=r}var n=i._tableOffset,o=n.top,a=n.left;if(t<o)return null;if(e<a)return null;if(t>o+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,u=i.vScrollInstance.value,p=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||null!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var v=0;v<f.length;v++){var x=f[v];if(0!=v||!x.getAttribute("data-time-slot")){if(x._left)w=x._left,y=x._top,b=x._width,_=x._height;else{var w=x.offsetLeft+a,y=x.offsetTop+o,b=x.offsetWidth,_=x.offsetHeight;x._left=w,x._top=y,x._width=b,x._height=_}if(x._left=w,x._top=y,x._width=b,x._height=_,0!==b&&0!==_){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(w-=i.hScrollInstance.max-p):w-=p,y-=u,0==m&&g&&(y+=u),!(y<=t&&t<y+_))break;if(w<=e&&e<w+b){s=x,l=!0;break}}}}}return s},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();if(t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment)e('[data-key="'+t.selectedJQXAppointment.id+'"]').removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"));t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,s,r){if(!1===t)if(i.isException()){for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,o=0;o<n.length;o++)if(n[o].occurrenceFrom.equals(i.occurrenceFrom)){n[o]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(!0===t){if(i.isException())for(n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,o=0;o<n.length;o++)if(n[o].occurrenceFrom.equals(i.occurrenceFrom)){for(var a=0;a<i.rootAppointment.recurrenceException.length;a++)if(i.rootAppointment.recurrenceException[a].equals(n[o].occurrenceFrom)){i.from;var l=new e.jqx.date(n[o].occurrenceFrom.year(),n[o].occurrenceFrom.month(),n[o].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());i.rootAppointment.recurrenceException[a]=l;break}n[o]=i;i.from,l=new e.jqx.date(n[o].occurrenceFrom.year(),n[o].occurrenceFrom.month(),n[o].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());n[o].occurrenceFrom=l;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var d=i.rootAppointment.from,h=i.rootAppointment.duration();l=null;switch(i.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":l=new e.jqx.date(d.year(),d.month(),d.day(),i.from.hour(),i.from.minute(),i.from.second())}r?(i.rootAppointment.from=d,i.rootAppointment.to=d.add(i.duration())):(i.rootAppointment.from=l,i.rootAppointment.to=l.add(h)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,this.resizing?i.rootAppointment.recurrencePattern.setFrom(d):i.rootAppointment.recurrencePattern.setFrom(l)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var c=e(s).attr("data-view"),u=this._resources[parseInt(c)-1];null!=u&&(null!=i.rootAppointment?i.rootAppointment.resourceId=u:i.resourceId=u)}},_handleMouseUp:function(t,i,s){var r=this;clearInterval(r._verticalIntervalDragVelocity),clearInterval(r._horizontalIntervalDragVelocity),clearInterval(r._intervalDrag),clearInterval(r._horizontalIntervalDrag);var n=t,o=!1;if(s?r.resizeTo?n.to.equals(r.resizeTo)&&(o=!0):r.resizeFrom&&n.from.equals(r.resizeFrom)&&(o=!0):r._dragStartCell==i&&(o=!0),o)return e('[data-key="'+t.id+'"]').removeClass(r.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void r._removeFeedbackAndStopResize();var a=n.duration(),l=n.duration().days()>=1||n.allDay,d=function(t,n){if(n.allDay||l)var o=r.getMaxAllDayAppointments(r.appointmentsToRender);if(s)r.resizeTo?(r.resizeTo>r.max&&(r.resizeTo=r.max),r.resizeTo<r.min&&(r.resizeTo=r.min),n.to=r.resizeTo):r.resizeFrom&&(r.resizeFrom>r.max&&(r.resizeFrom=r.max),r.resizeFrom<r.min&&(r.resizeFrom=r.min),n.from=r.resizeFrom),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else{var d=r._views[r._view].type,h=r._views[r._view],c=e(i).attr("data-date"),u=null!=e(i).attr("data-end-date"),p=new e.jqx.date(c,r.timeZone);if(p<r.min&&(p=r.min),p>r.max&&(p=r.max),r.rtl&&l&&u)n.to=e.jqx.scheduler.utilities.getEndOfDay(p);else if(!r.rtl||"monthView"!=d&&"timelineMonthView"!=d)if(!r.rtl||"timelineDayView"!=d&&"timelineWeekView"!=d)n.from=p;else{var m=r.getMinutesPerScale();n.to=p.addMinutes(m)}else n.to=e.jqx.scheduler.utilities.getEndOfDay(p);if("dayView"===d||"weekView"===d)if(l||u){if(!l&&u)n.to=e.jqx.scheduler.utilities.getEndOfDay(p),n.allDay=!0;else if(l&&u&&!r.rtl)n.to=p.add(a),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&u&&r.rtl)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&!u){var f=30;switch(h.timeRuler&&h.timeRuler.scale){case"sixtyMinutes":case"hour":f=60;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5}n.to=p.addMinutes(f),n.allDay=!1}}else n.to=p.add(a),n.allDay=!1;else if("monthView"===d)r.rtl?n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))):n.to=p.add(a);else if("timelineDayView"===d||"timelineWeekView"===d||"timelineMonthView"===d)if(r.rtl)if("timelineMonthView"==d)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a)));else{m=r.getMinutesPerScale();n.from=p.addMinutes(m).add(new e.jqx.timeSpan(-a))}else n.to=p.add(a)}r._saveChangesAfterDragOrResize(t,n,i,r.resizing);d=e(i).attr("data-view");var g=r._resources[parseInt(d)-1];null!=g&&(n.resourceId=g),r.resizing=!1,r.resizeFrom=null,r._dragCell=null,r.resizeTo=null;var v={},x={};for(var w in r.appointmentDataFields){var y=r.appointmentDataFields[w],b=n[w];v[w]=b,"from"!=w&&"to"!=w||(b=b.toDate()),x[y]=b}if(v.jqxAppointment=n,v.originalData=x,n.boundAppointment=v,r._raiseEvent("appointmentChange",{appointment:n.boundAppointment}),r.changedAppointments[n.id]={type:"Update",appointment:n.boundAppointment},r.table.find(".jqx-icon-arrow-down").hide(),"monthView"==r._views[r._view].type&&r._views[r._view].monthRowAutoHeight)r._renderrows();else if("weekView"!=r._views[r._view].type&&"dayView"!=r._views[r._view].type||!n.allDay&&!l){_=r.getViewStart(),j=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(_,j),r._renderAppointments(_,j)}else if(r.tableRows>1)r._renderrows();else{var _=r.getViewStart(),j=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(_,j),r._renderAppointments(_,j);var q=r.getMaxAllDayAppointments(r.appointmentsToRender);if(q!=o){var T=q*(r._defaultRowHeight-2);T=r.isTouchDevice()?Math.max(22+r._defaultRowHeight,17+T):Math.max(3*r._defaultRowHeight,17+T),1==r.tableRows?e(e(r.table[0].rows[0]).find("td")).css("height",T+"px"):e(e(r.table[0].rows[1]).find("td")).css("height",T+"px"),e(r.oldRow).find("td").css("height",T+"px"),e(r.pinnedTableRow).find("td").css("height",T+"px"),r.pinnedtable.height(T),r._updateScrollbars(r._hostHeight?r._hostHeight:r.host.height())}}r._removeFeedbackAndStopResize()};n.isRecurrentAppointment()?d(!1,n):d(null,n)},_handleDayWeekViewResize:function(t,i,s,r,n){var o=this,a=(o._views[o._view].type,o._views[o._view]);if(n.duration().days()>=1||n.allDay||s.getAttribute("data-end-date")){var l=function(e){return!(e<o.cellWidth-10)},d=a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode;if(n.allDay||!d){if(o.leftResize){if(o._lastResizeX||(o._lastResizeX=o.mouseDownPosition.left),t>o._lastResizeX+e(s).width()/2)l(c=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left-o.cellWidth)&&(o.feedback.css("left",5+r.left+o.cellWidth),o.feedback.width(c-5),o.feedback.hide(),o.pinnedfeedback.css("left",5+r.left+o.cellWidth),o.pinnedfeedback.width(c-5),o._lastResizeX=o.pinnedfeedback.coord().left,o.rtl?o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone)).addDays(-1):o.resizeFrom=new e.jqx.date(s.getAttribute("data-date"),o.timeZone).addDays(1));else if(t<o._lastResizeX-e(s).width()/2)l(c=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left)&&(o.feedback.css("left",5+r.left),o.feedback.width(c-5),o.feedback.hide(),o.pinnedfeedback.css("left",5+r.left),o.pinnedfeedback.width(c-5),o._lastResizeX=o.pinnedfeedback.coord().left,o.rtl?o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone)):o.resizeFrom=new e.jqx.date(s.getAttribute("data-date"),o.timeZone))}else if(o.rightResize){o._lastResizeX||(o._lastResizeX=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left);var h=e(s).width()/2;if(t>o._lastResizeX+h){H=e(s).width()+r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;l(c=o.selectedAppointmentTableBounds.width+H)&&(o.feedback.hide(),o.feedback.width(c-6),o.feedback.css("left",5+r.left),o.pinnedfeedback.width(c-6),o._lastResizeX=o.selectedAppointmentTableBounds.width+H+o.pinnedfeedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(s.getAttribute("data-date"),o.timeZone):o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone)))}else if(t<o._lastResizeX-h){var c;H=r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;l(c=o.selectedAppointmentTableBounds.width+H)&&(o.feedback.hide(),o.feedback.css("left",5+r.left),o.feedback.width(c-6),o.pinnedfeedback.width(c-6),o._lastResizeX=o.selectedAppointmentTableBounds.width+H+o.pinnedfeedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(s.getAttribute("data-date"),o.timeZone).addDays(1):o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone).addDays(-1)))}}}else{var u=new Array,p=new Array,m=-1,f=-1,g=this.host.coord().left,v=0,x=o.hScrollInstance.value;if(o.rtl)x=o.hScrollInstance.max-o.hScrollInstance.value;"hidden"==o.hScrollBar[0].style.visibility&&(x=0);var w=t+x-g;g=0;for(var y=0;y<this.columns.records.length;y++)this.columns.records[y].timeColumn&&(o.rtl||(g+=this.columns.records[y].width,v++));var b=o.getViewStart(),_=o.getViewEnd();for(y=0;y<this._getColumnsLengthPerView();y++){var j=this.columns.records[y+v].width;o.leftResize?(o.rtl||(u.push(g),p.push(b.addDays(y)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&g<o.selectedAppointmentTableBounds.left&&g+j>o.selectedAppointmentTableBounds.left&&(u.push(o.selectedAppointmentTableBounds.left),p.push(n.from),m=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&g<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&g+j>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(u.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width+8),p.push(n.to),f=u.length-1)),o.rtl&&(u.push(g),p.push(_.addDays(-y-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&g<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&g+j>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(u.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width+8),p.push(n.from),m=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&g<o.selectedAppointmentTableBounds.left&&g+j>o.selectedAppointmentTableBounds.left&&(u.push(o.selectedAppointmentTableBounds.left),p.push(n.to),f=u.length-1)),g+=j):o.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&g<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&g+j>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(u.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width+8),p.push(n.from),m=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&g<o.selectedAppointmentTableBounds.left&&g+j>o.selectedAppointmentTableBounds.left&&(u.push(o.selectedAppointmentTableBounds.left),p.push(n.to),f=u.length-1),g+=j,u.push(g),p.push(_.addDays(-y-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&g<o.selectedAppointmentTableBounds.left&&g+j>o.selectedAppointmentTableBounds.left&&(u.push(o.selectedAppointmentTableBounds.left),p.push(n.from),m=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&g<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&g+j>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(u.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width+8),p.push(n.to),f=u.length-1),g+=j,u.push(g),p.push(b.addDays(y)))}if(o.leftResize){for(y=0;y<u.length;y++){r=u[y];if((D=u[y+1])||(D=r),y<u.length-1?w>=r&&w<=D:w>=r){j=-r+o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width;var q=o.pinnedfeedback.width(),T=o.pinnedfeedback.css("left"),C=o.resizeTo,S=o.resizeFrom;j>0&&(o.pinnedfeedback.css("left",r),o.pinnedfeedback.width(j),y==m?o.rtl?o.resizeTo=n.from:o.resizeFrom=n.from:y==f?o.rtl?o.resizeTo=n.to:o.resizeFrom=n.to:o.rtl?o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[y]):o.resizeFrom=p[y])}}var k=o.resizeFrom,I=o.resizeTo;o.rtl?k=n.from:I=n.to,new e.jqx.timeSpan(1e4*(I-k)).days()<1&&(o.pinnedfeedback.css("left",T),o.pinnedfeedback.width(q),o.resizeFrom=S,o.resizeTo=C)}else if(o.rightResize){for(y=0;y<u.length;y++){var D;r=u[y];if((D=u[y+1])||(D=r),y<u.length-1?t>=r-this.cellWidth/3&&t<=D-this.cellWidth/3:t>=r-this.cellWidth/3){j=r-o.selectedAppointmentTableBounds.left-15,q=o.pinnedfeedback.width();o.pinnedfeedback.width(j);C=o.resizeTo,S=o.resizeFrom;if(y==m){o.rtl?o.resizeFrom=n.from:o.resizeTo=n.from;j=r-o.selectedAppointmentTableBounds.left-9;o.pinnedfeedback.width(j);break}if(y==f){o.rtl?o.resizeFrom=n.to:o.resizeTo=n.to;j=r-o.selectedAppointmentTableBounds.left-9;o.pinnedfeedback.width(j);break}o.rtl?o.resizeFrom=p[y]:o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[y]);break}}k=o.resizeFrom,I=o.resizeTo;o.rtl?I=n.to:k=n.from,new e.jqx.timeSpan(1e4*(I-k)).days()<1&&(o.pinnedfeedback.width(q),o.resizeFrom=S,o.resizeTo=C)}}}else{var P=function(e){return!(e<10)},A=o.findCell(o.feedback.coord().left,i);if(o.topResize){if(o._lastResizeY||(o._lastResizeY=o.mouseDownPosition.top),i>o._lastResizeY+e(s).height()/2){if(P(B=o.selectedAppointmentTableBounds.height+o.selectedAppointmentTableBounds.top-r.top-e(s).height()-3)){o.feedback.css("top",2+r.top+e(s).height()),o.feedback.height(B),o._lastResizeY=o.feedback.coord().top;var M=new e.jqx.date(A.getAttribute("data-date"),o.timeZone);o.resizeFrom=M.addMinutes(o.getMinutesPerScale())}}else if(i<o._lastResizeY-e(s).height()/2)P(B=o.selectedAppointmentTableBounds.height+o.selectedAppointmentTableBounds.top-r.top-3)&&(o.feedback.css("top",2+r.top),o.feedback.height(B),o._lastResizeY=o.feedback.coord().top,o.resizeFrom=new e.jqx.date(A.getAttribute("data-date"),o.timeZone))}else if(o.bottomResize)if(o._lastResizeY||(o._lastResizeY=o.mouseDownPosition.top),i>o._lastResizeY+e(s).height()/2){var H=-5+e(s).height()+r.top-o.selectedAppointmentTableBounds.height-o.selectedAppointmentTableBounds.top;P(B=o.selectedAppointmentTableBounds.height+H)&&(o.feedback.height(B),o._lastResizeY=o.selectedAppointmentTableBounds.height+H+o.feedback.coord().top,o.resizeTo=new e.jqx.date(A.getAttribute("data-date"),o.timeZone).addMinutes(o.getMinutesPerScale()))}else if(i<o._lastResizeY-e(s).height()/2){var B,H=-5+r.top-o.selectedAppointmentTableBounds.height-o.selectedAppointmentTableBounds.top;P(B=o.selectedAppointmentTableBounds.height+H)&&(o.feedback.height(B),o._lastResizeY=o.selectedAppointmentTableBounds.height+H+o.feedback.coord().top,o.resizeTo=new e.jqx.date(A.getAttribute("data-date"),o.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,s,r,n){var o=this,a=(o._views[o._view].type,o._views[o._view],function(e){return!(e<10)}),l=o.findCell(t,o.feedback.coord().top);if(n.allDay){if(o.leftResize){if(o._lastResizeX||(o._lastResizeX=o.mouseDownPosition.left),t>o._lastResizeX+e(s).width()/2)a(h=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left-e(s).width())&&(o.feedback.css("left",r.left+e(s).width()),o.feedback.width(h),o._lastResizeX=o.feedback.coord().left,o.rtl?o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),o.timeZone).addDays(-1)):o.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),o.timeZone).addDays(1));else if(t<o._lastResizeX-e(s).width()/2)a(h=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left)&&(o.feedback.css("left",r.left),o.feedback.width(h),o._lastResizeX=o.feedback.coord().left,o.rtl?o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),o.timeZone)):o.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),o.timeZone))}else if(o.rightResize)if(o._lastResizeX||(o._lastResizeX=o.mouseDownPosition.left),t>o._lastResizeX+e(s).width()/2){var d=e(s).width()+r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;a(h=o.selectedAppointmentTableBounds.width+d-5)&&(o.feedback.width(h),o._lastResizeX=o.selectedAppointmentTableBounds.width+d+o.feedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),o.timeZone):o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),o.timeZone)))}else if(t<o._lastResizeX-e(s).width()/2){var h;d=r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;a(h=o.selectedAppointmentTableBounds.width+d-5)&&(o.feedback.width(h),o._lastResizeX=o.selectedAppointmentTableBounds.width+d+o.feedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),o.timeZone).addDays(1):o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),o.timeZone).addDays(-1)))}}else{for(var c=new Array,u=new Array,p=-1,m=-1,f=this.host.coord().left,g=0,v=0;v<this.columns.records.length;v++)this.columns.records[v].timeColumn&&(f+=this.columns.records[v].width,g++);var x=o.hScrollInstance.value;if(o.rtl)x=o.hScrollInstance.max-o.hScrollInstance.value;"hidden"==o.hScrollBar[0].style.visibility&&(x=0);var w=t+x-f;f=0;var y=o.getViewStart(),b=o.getViewEnd();for(this._getColumnsLengthPerView(),v=0;v<this._getColumnsLengthPerView();v++){var _=this.columns.records[v+g].width;o.leftResize?(c.push(f),o.rtl?u.push(b.addDays(-v)):u.push(y.addDays(v)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<o.selectedAppointmentTableBounds.left&&f+_>o.selectedAppointmentTableBounds.left&&(c.push(o.selectedAppointmentTableBounds.left),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&f+_>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(c.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width+8),u.push(n.to),m=c.length-1),f+=_):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<o.selectedAppointmentTableBounds.left&&f+_>o.selectedAppointmentTableBounds.left&&(c.push(o.selectedAppointmentTableBounds.left),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&f+_>o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width&&(c.push(o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width),u.push(n.to),m=c.length-1),f+=_,c.push(f),o.rtl?u.push(b.addDays(-v-1)):u.push(y.addDays(v)))}if(o.leftResize){for(v=0;v<c.length;v++){var j=c[v];if((D=c[v+1])||(D=j),v<c.length-1?w>=j&&w<=D:w>=j){_=-j+o.selectedAppointmentTableBounds.left+o.selectedAppointmentTableBounds.width;var q=o.feedback.width(),T=o.feedback.css("left"),C=o.resizeTo,S=o.resizeFrom;o.feedback.css("left",j),o.feedback.width(_),v==p?o.rtl?o.resizeTo=n.from:o.resizeFrom=n.from:v==m?o.rtl?o.resizeTo=n.to:o.resizeFrom=n.to:o.rtl?o.resizeTo=u[v]:o.resizeFrom=u[v]}}var k=o.resizeFrom,I=o.resizeTo;o.rtl?k=n.from:I=n.to;new e.jqx.timeSpan(1e4*(I-k));o.feedback.width()<20&&(o.feedback.css("left",T),o.feedback.width(q),o.resizeFrom=S,o.resizeTo=C)}else if(o.rightResize){for(v=0;v<c.length;v++){var D;j=c[v];if((D=c[v+1])||(D=j),v<c.length-1?w>=j-this.cellWidth/3&&w<=D-this.cellWidth/3:w>=j-this.cellWidth/3){_=j-o.selectedAppointmentTableBounds.left-12,q=o.feedback.width();o.feedback.width(_);C=o.resizeTo,S=o.resizeFrom;if(v==p){o.rtl?o.resizeFrom=n.from:o.resizeTo=n.from;_=j-o.selectedAppointmentTableBounds.left;o.feedback.width(_);break}if(v==m){o.rtl?o.resizeFrom=n.to:o.resizeTo=n.to;_=j-o.selectedAppointmentTableBounds.left;o.feedback.width(_);break}o.rtl?o.resizeFrom=u[v]:o.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(u[v]);break}}k=o.resizeFrom,I=o.resizeTo;o.rtl?I=n.to:k=n.from;new e.jqx.timeSpan(1e4*(I-k));o.feedback.width()<20&&(o.feedback.width(q),o.resizeFrom=S,o.resizeTo=C)}}},_handleMonthViewResize:function(t,i,s,r,n){var o=this;if(o.selectedJQXAppointment){o._views[o._view].type;var a=o._views[o._view],l=-5;o.tableColumns>1&&(l=parseInt(-5/o.tableColumns));for(var d=0;d<o.columns.records.length/o.tableColumns;d++)o.columns.records[d].timeColumn||(l+=o.columns.records[d].width);var h=o.selectedJQXAppointment.resourceId,c=o._resources.indexOf(h);o.resources&&"none"==o.resources.orientation&&(c=-1);var u="0px";-1!=c&&1==o.tableRows&&(u=l*c+"px"),a.showWeekNumbers&&(o.rtl||(u=parseInt(u)+o.columns.records[0].width+"px"));var p=s.offsetWidth,m=(s.offsetHeight,18);o.isTouchDevice()&&(m=2);for(d=0;d<6;d++)o.feedbacks[d][0].style.left=u,o.feedbacks[d][0].style.width=l+"px",o.feedbacks[d][0].style.display="block",o.feedbacks[d][0].style.top=parseInt(o.rows[d].top)+m+"px",o.tableRows>1&&(o.feedbacks[d][0].style.top=parseInt(o.rows[6*c+d].top)+m+"px"),e(o.feedbacks[d][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var f=o.selectedJQXAppointment.elements,g=(f[0].cells[0].cell,f[f.length-1]),v=g.lastCellY,x=g.lastCellX,w=f[0].cellY,y=f[0].cellX,b=parseInt(r.top),_=parseInt(r.left);if(o.rtl){if(o.leftResize){for(P=!1,d=0;d<6;d++){q=o.feedbacks[d],T=parseInt(q[0].style.top)-m,parseInt(q[0].style.left);if(T<b)q[0].style.width=l+"px";else for(C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.width=f[C].width+"px",q[0].style.top=f[C].y+"px")}S=f[0],k=parseInt(S.x);if(T==w)if(q[0].style.left=k+"px",b==w){if(q[0].style.left=1+r.left+"px",q[0].style.width=-1+S.x+S.width-r.left+"px",r.left>S.x+S.width&&(q[0].style.width=S.width+"px",q[0].style.left=S.x+"px"),"exactTime"==a.appointmentsRenderMode&&!o.selectedJQXAppointment.allDay)t-(A=o.host.coord().left)>=S.x-10&&t-A<=S.cellX+o.cellWidth&&(q[0].style.width=S.width+"px",q[0].style.left=S.x+"px",P=!0)}else b<w?(q[0].style.left=k+"px",q[0].style.width=S.width+"px"):b>w&&(q[0].style.left=u,q[0].style.width=S.x+S.width-parseInt(u)+"px");else T==b&&(q[0].style.width=l-r.left+parseInt(u)+"px",q[0].style.left=r.left+"px");if(T<w&&(q[0].style.display="none"),T>b&&(q[0].style.display="none"),b<w)for(C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.display="block",q[0].style.width=f[C].width+"px",q[0].style.left=f[C].x+"px")}if(b==w)for(C=0;C<f.length;C++){D=f[C].cellY;(b<w||b==w)&&D==T&&w!=v&&(q[0].style.left=1+r.left+parseInt(u)+"px",1+r.left+parseInt(u)>S.x+S.width&&(q[0].style.left=S.x+"px"),q[0].style.width=-1+S.x+S.width-r.left+"px")}}(M=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone)))>o.selectedJQXAppointment.from&&!P?o.resizeTo=M:o.resizeTo=o.selectedJQXAppointment.to}else if(o.rightResize){for(j=!1,d=0;d<6;d++){q=o.feedbacks[d],T=parseInt(q[0].style.top)-m,parseInt(q[0].style.left);T<b&&(q[0].style.width=l+"px");for(C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.top=f[C].y+"px")}S=f[0],k=parseInt(S.x);if(T==w)if(q[0].style.left=k+"px",b==w)if(_>=y){if(q[0].style.width=_+p-k-5+"px","exactTime"==a.appointmentsRenderMode&&!o.selectedJQXAppointment.allDay)t-(A=o.host.coord().left)>=S.lastCellX&&t-A<=S.x+S.width+15&&(q[0].style.width=S.width+"px",j=!0)}else q[0].style.width=S.width+"px";else b>w?(q[0].style.left=k+"px",q[0].style.width=S.width+"px"):b<w&&(q[0].style.left=k+"px",q[0].style.width=l-k+parseInt(u)+"px");else T==b&&(q[0].style.width=_+p-5-parseInt(u)+"px");if(T>v&&(q[0].style.display="none"),T<b&&(q[0].style.display="none"),b>v)for(C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.display="block"),T==v&&(q[0].style.width=f[C].width+"px",q[0].style.left=f[C].x+"px")}if(b<=v&&T==v)for(C=0;C<f.length;C++){D=f[C].cellY;T!=b&&D==T&&w!=v?(q[0].style.width=f[C].width+"px",q[0].style.left=f[C].x+"px"):T==b&&D==T&&w!=v&&(q[0].style.left=f[C].x+"px",q[0].style.width=_+p-5-parseInt(u)-f[C].x+"px")}}(M=new e.jqx.date(s.getAttribute("data-date"),o.timeZone))<o.selectedJQXAppointment.to&&!j?o.resizeFrom=M:o.resizeFrom=o.selectedJQXAppointment.from}}else if(o.leftResize){for(var j=!1,d=0;d<6;d++){var q=o.feedbacks[d],T=parseInt(q[0].style.top)-m;parseInt(q[0].style.left);if(T<b){q[0].style.width=l+"px";for(var C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.top=f[C].y+"px")}}else for(var C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.width=f[C].width+"px",q[0].style.top=f[C].y+"px")}var S=f[0],k=parseInt(S.x);if(T==w)if(q[0].style.left=k+"px",b==w){if(q[0].style.left=1+r.left+"px",q[0].style.width=-1+S.x+S.width-r.left+"px","exactTime"==a.appointmentsRenderMode&&!o.selectedJQXAppointment.allDay){var I=o.cellWidth-(S.x-y);t-(A=o.host.coord().left)>=S.x&&t-A<=S.x+I+2&&(q[0].style.left=k+"px",q[0].style.width=S.width+"px",j=!0)}}else b>w?(q[0].style.left=k+"px",q[0].style.width=S.width+"px"):b<w&&(q[0].style.left=u,q[0].style.width=S.x+S.width-parseInt(u)+"px");else T==b&&(q[0].style.width=l-r.left+parseInt(u)+"px",q[0].style.left=r.left+"px");if(T>v&&(q[0].style.display="none"),T<b&&(q[0].style.display="none"),b>=v)for(var C=0;C<f.length;C++){var D=f[C].cellY;b>v||b==v&&_>x?D==T&&(q[0].style.display="block",q[0].style.width=f[C].width+"px",q[0].style.left=f[C].x+"px"):b==v&&_<=x&&w!=v&&(q[0].style.width=f[C].width-r.left+parseInt(u)+"px")}}(M=new e.jqx.date(s.getAttribute("data-date"),o.timeZone))<o.selectedJQXAppointment.to&&!j?o.resizeFrom=M:o.resizeFrom=o.selectedJQXAppointment.from}else if(o.rightResize){for(var P=!1,d=0;d<6;d++){var q=o.feedbacks[d],T=parseInt(q[0].style.top)-m;parseInt(q[0].style.left);T<b&&(q[0].style.width=l+"px");for(var C=0;C<f.length;C++){(D=f[C].cellY)==T&&(q[0].style.top=f[C].y+"px")}var A,S=f[0],k=parseInt(S.x);if(T==w)if(q[0].style.left=k+"px",b==w)if(_>=y){if(q[0].style.width=_+p-k-5+"px","exactTime"==a.appointmentsRenderMode&&!o.selectedJQXAppointment.allDay)t-(A=o.host.coord().left)>=x&&t-A<=S.x+S.width+15&&(q[0].style.width=S.width+"px",P=!0)}else q[0].style.width=S.width+"px";else b<w?(q[0].style.left=k+"px",q[0].style.width=S.width+"px"):b>w&&(q[0].style.left=k+"px",q[0].style.width=l-k+parseInt(u)+"px");else T==b&&(q[0].style.width=_+p-5-parseInt(u)+"px");if(T<w&&(q[0].style.display="none"),T>b&&T>w&&(q[0].style.display="none"),b<=w)for(var C=0;C<f.length;C++){var D=f[C].cellY;(b<w||b==w&&_<y)&&D==T&&(q[0].style.display="block",q[0].style.width=f[C].width+"px")}}var M;(M=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(s.getAttribute("data-date"),o.timeZone)))>o.selectedJQXAppointment.from&&!P?o.resizeTo=M:o.resizeTo=o.selectedJQXAppointment.to}var H=new Array;for(d=0;d<6;d++){"block"==(q=o.feedbacks[d])[0].style.display&&H.push(q)}e.each(H,function(t){o.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,s,r,n){var o=this,a=(o._views[o._view].type,o._views[o._view],o.getMinutesPerScale()),l=function(e){return!(e<10)},d=o.findCell(t,o.feedback.coord().top);if(o.leftResize)o._lastResizeX||(o._lastResizeX=o.mouseDownPosition.left),t>o._lastResizeX+e(s).width()/2?l(c=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left-e(s).width())&&(o.feedback.css("left",2+r.left+e(s).width()),o.feedback.width(c),o._lastResizeX=o.feedback.coord().left,o.rtl?o.resizeTo=new e.jqx.date(d.getAttribute("data-date"),o.timeZone):o.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),o.timeZone).addMinutes(a)):t<o._lastResizeX-e(s).width()/2&&l(c=o.selectedAppointmentTableBounds.width+o.selectedAppointmentTableBounds.left-r.left)&&(o.feedback.css("left",2+r.left),o.feedback.width(c),o._lastResizeX=o.feedback.coord().left,o.rtl?o.resizeTo=new e.jqx.date(d.getAttribute("data-date"),o.timeZone).addMinutes(a):o.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),o.timeZone));else if(o.rightResize)if(o._lastResizeX||(o._lastResizeX=o.mouseDownPosition.left),t>o._lastResizeX+e(s).width()/2){var h=e(s).width()+r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;l(c=o.selectedAppointmentTableBounds.width+h)&&(o.feedback.width(c),o._lastResizeX=o.selectedAppointmentTableBounds.width+h+o.feedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),o.timeZone):o.resizeTo=new e.jqx.date(d.getAttribute("data-date"),o.timeZone).addMinutes(a))}else if(t<o._lastResizeX-e(s).width()/2){var c;h=r.left-o.selectedAppointmentTableBounds.width-o.selectedAppointmentTableBounds.left;l(c=o.selectedAppointmentTableBounds.width+h)&&(o.feedback.width(c),o._lastResizeX=o.selectedAppointmentTableBounds.width+h+o.feedback.coord().left,o.rtl?o.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),o.timeZone).addMinutes(a):o.resizeTo=new e.jqx.date(d.getAttribute("data-date"),o.timeZone))}},_handleResize:function(t,i,s,r,n){var o=this,a=o._views[o._view].type,l=o._views[o._view];"dayView"===a||"weekView"===a?o._handleDayWeekViewResize(t,i,s,r,n):"timelineMonthView"===a?o._handleTimelineMonthViewResize(t,i,s,r,n):"monthView"===a?o._handleMonthViewResize(t,i,s,r,n):"timelineDayView"!==a&&"timelineWeekView"!==a||o._handleTimelineDayWeekViewResize(t,i,s,r,n),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(o._horizontalIntervalDrag),o._horizontalIntervalDrag=setInterval(function(){var e=o.host.width(),i=o.host.coord().left+25,s=e+i-45;o.rtl?t>s?o.hScrollInstance.setPosition(o.hScrollInstance.value-5):t<i&&o.hScrollInstance.setPosition(o.hScrollInstance.value+5):t<i?o.hScrollInstance.setPosition(o.hScrollInstance.value-5):t>s&&o.hScrollInstance.setPosition(o.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(o._intervalDrag),o._intervalDrag=setInterval(function(){var t=o.host.height(),s=0;o.columnGroups?s+=o.showHeader?o.columnsheader.height():0:s+=o.showHeader?o.columnsHeight:0,o.showToolbar&&(s+=o.toolbarHeight),t-=s;var r=o.legendHeight;0==o._resources.length&&(r=0),o.showLegend&&(t-=r);var d=s+o.host.coord().top,h=o.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=n.duration().days()>=1||n.allDay;h&&c?d-=20:h&&o.resizing&&(d+=e(o.table[0].rows[0]).height(),t-=e(o.table[0].rows[0]).height());var u=d+25,p=t+u-45;i<u?o.vScrollInstance.setPosition(o.vScrollInstance.value-5):i>p&&o.vScrollInstance.setPosition(o.vScrollInstance.value+5)},5)),o.resizing=!0},_startTimers:function(t,i,s){var r=this,n=r.host.coord(),o=0,a=0;"hidden"!=r.hScrollInstance.element.style.visibility&&(clearInterval(r._horizontalIntervalDragVelocity),r._horizontalIntervalDragVelocity=setInterval(function(){++o>40&&(o=40)},100),clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r._hostWidth,i=n.left+30,s=e+i-60;r.rtl?t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+o):t>s?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-o):o=0:t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-o):t>s?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+o):o=0},10)),"hidden"!=r.vScrollInstance.element.style.visibility&&(clearInterval(r._verticalIntervalDragVelocity),r._verticalIntervalDragVelocity=setInterval(function(){++a>40&&(a=40)},100),clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var t=r._hostHeight,o=0;r.columnGroups?o+=r.showHeader?r.columnsheader.height():0:o+=r.showHeader?r.columnsHeight:0;var l=r._views[r._view].type,d=r._views[r._view];r.showToolbar&&(o+=r.toolbarHeight),t-=o,r.showLegend&&r._resources.length>0&&(t-=r.legendHeight);var h=n.top,c=o+h;if("dayView"==l||"weekView"==l){var u=r.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||null!=d.timeRuler.showAllDayRow&&(u=d.timeRuler.showAllDayRow);var p=s.duration().days()>=1||s.allDay;u&&p?c-=20:u&&r.resizing&&(c+=e(r.table[0].rows[0]).height())}var m=h+t+o-30;i<c+30?r.vScrollInstance.setPosition(r.vScrollInstance.value-10-a):i>m?r.vScrollInstance.setPosition(r.vScrollInstance.value+10+a):a=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(t._resources.length>0&&e.className.indexOf("pinned")>=0||(e.className.indexOf("time-column")>=0||(e.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!e||e!=t.hoveredCell)||(t.hoveredCell=e,!e||(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t=this;if(t.hoveredCell){var i=t.hoveredCell;e=(e=(e=(e=i.className).replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),"")).replace(" "+t.toTP("jqx-scheduler-cell-hover"),""),i.className=e,i.jqxClassName=e}t.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(s){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var r=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(r),t._lastSelectedAppointment=r}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.showToolBar||!e(i.target).ischildof(t.toolbar))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var s=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),s?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),s?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var n="mousemove.scheduler"+this.element.id,o="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(n=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),n,function(i){var s=i.pageX,r=i.pageY;t.isTouchDevice()&&(s=(g=e.jqx.position(i)).left,r=g.top,(isNaN(s)||isNaN(r))&&(s=(g=e.jqx.position(i.originalEvent)).left,r=g.top));if(t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var n=t.host.coord();if(n.left+t._hostWidth<s||s<n.left)return!0;if(n.top+t._hostHeight<r||r<n.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-s)>=3&&Math.abs(t.mouseDownPosition.left-s)<=10||Math.abs(t.mouseDownPosition.top-r)>=3&&Math.abs(t.mouseDownPosition.top-r)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var o=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var a=t._views[t._view].type,l=t._views[t._view],d=!1;if("td"===i.target.nodeName.toLowerCase())var h=i.target;else h=t.findCell(s,r);if(!h)return!0;if(null!=h.getAttribute("data-time-slot"))return!0;if(h.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(!(o=t.getJQXAppointmentByElement(t.selectedAppointment)).draggable&&!o.resizable)return o=null,!0;if(t.beginDrag)if(!t.beginDrag(o))return!0;var c=e('[data-key="'+o.id+'"]'),u=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var p=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),m=function(e){p&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),c.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),p?e.css("z-index",401):e.css("z-index",400)};if(m(t.feedback),m(t.pinnedfeedback),"monthView"!=t._views[t._view].type||p){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",u.left),t.feedback.css("top",u.top),t.pinnedfeedback.css("left",u.left),t.pinnedfeedback.css("top",u.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(var f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}else{t.feedbacks=new Array;for(f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}if(t.dragging)if(!1===t.dragging(o,h,t.feedback))return!0;var g=e(h).position();if(t.endDrag)var v=t.feedback.css("left"),x=t.feedback.css("top"),w=t.feedback.width(),y=t.feedback.height;o||(o=t.selectedJQXAppointment),o||(t.selectAppointment(t.uiappointments[0].id),o=t.selectedJQXAppointment);var b=o.resourceId,_=t._resources.indexOf(b);t.resources&&"none"==t.resources.orientation&&(_=-1);var j=!1,q=t.isTouchDevice();if(q&&!0!==t.touchMode&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(a){case"dayView":case"weekView":(d=o.duration().days()>=1||o.allDay)?(s>=t.selectedAppointmentBounds.left-15&&s<=t.selectedAppointmentBounds.left+15&&(j=!0,t.leftResize=!0),s>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&s<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(j=!0,t.rightResize=!0)):(r>=t.selectedAppointmentBounds.top-15&&r<=t.selectedAppointmentBounds.top+15&&(j=!0,t.topResize=!0),r>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&r<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(j=!0,t.bottomResize=!0));break;default:s>=t.selectedAppointmentBounds.left-15&&s<=t.selectedAppointmentBounds.left+15&&(j=!0,t.leftResize=!0),s>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&s<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(j=!0,t.rightResize=!0)}if(q&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||j){if(h.getAttribute("data-view")!=_+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;if((T=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||T>t.max.toDate())return;t._handleResize(s,r,h,g,o),t._oldResizeTD=h}else if(!q&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(h.getAttribute("data-view")!=_+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;if((T=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||T>t.max.toDate())return;t._handleResize(s,r,h,g,o),t._oldResizeTD=h}else{if(!o.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==h)return t._startTimers(s,r,o),t.isTouchDevice()&&!0!==t.touchMode?(i.stopPropagation(),!1):void 0;var T;if((T=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||T>t.max.toDate())return;var C=o.duration();if(a.indexOf("month")>=0&&new e.jqx.date(T).add(C)>t.max)return;var S="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=h,t.feedback[0].style.left=2+g.left+"px",t.feedback[0].style.top=2+g.top+"px","dayView"===a||"weekView"===a){t.pinnedfeedback.css("left",2+g.left),t.pinnedfeedback.css("top",2+g.top);var k=0;if(h.getAttribute("data-end-date")){var I=t.appointmentsMinHeight;if(t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),l.appointmentHeight&&(I=l.appointmentHeight),d=o.duration().days()>=1||o.allDay,t.feedback.css("top",2+g.top+I),t.pinnedfeedback.css("top",2+g.top+18),"dayView"==a){var D=t.selectedAppointment.coord().left-9;t.feedback.css("left",D),t.pinnedfeedback.css("left",D)}if(d){if(t.pinnedfeedback.css("top",o.elements[0].y),k=t.selectedAppointment.width(),2+g.left+k>t.host.width()-S)k-=2+g.left+k-t.host.width()+S+6;t.feedback.width(k),t.feedback.height(I),t.pinnedfeedback.width(k),t.pinnedfeedback.height(I)}else k=e(h).width()-4,t.feedback.width(k),t.feedback.height(I),t.pinnedfeedback.width(k),t.pinnedfeedback.height(I);t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();switch(l.timeRuler&&l.timeRuler.scale){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}k=e(h).width()-4,t.feedback.width(k),(d=o.duration().days()>=1||o.allDay)?t.feedback.height(e(h).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(s,r,o)}else if("monthView"===a){t.feedback.css("left",1+g.left);var P=t.selectedAppointmentTableBounds;(A=parseInt(P.top))>g.top&&A<g.top+h.offsetHeight?t.feedback.css("top",A+"px"):t.feedback.css("top",t.selectedAppointment.height()+g.top-2),t.isTouchDevice()&&t.feedback.css("top",g.top+2),k=t.selectedAppointment.width(),t.feedback.width(k),t.feedback.height(t.selectedAppointment.height()),t._startTimers(s,r,o)}else if("timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a){var A;P=t.selectedAppointmentTableBounds;(A=parseInt(P.top))>g.top&&A<g.top+h.offsetHeight&&t.feedback.css("top",A+"px"),t._startTimers(s,r,o)}}if(t.endDrag)return t.endDrag(o,h,t.feedback)||t.feedback.width(w),t.feedback.height(y),t.feedback.css("top",x),t.feedback.css("left",v),!0;if(t.isTouchDevice()&&!0!==t.touchMode)return i.stopPropagation(),!1}});var a=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),o,function(e){return a(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,function(e){if(!t.disabled)return a(e)})}}}catch(e){}this.addHandler(this.host,n,function(i){var s=i.pageX,r=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var n=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=i.target);for(var o=i.target,a=0;a<4&&o.parentNode;a++)o.className.indexOf("jqx-scheduler-appointment")>=0&&-1==o.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==o.className.indexOf("jqx-scheduler-appointment-content")&&-1==o.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=o),o=o.parentNode;if(n){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(n));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,u=e(n).coord(),p=e(n).position();t.selectedAppointmentBounds={top:u.top,left:u.left,width:e(n).width(),height:e(n).height()},t.selectedAppointmentTableBounds={top:p.top,left:p.left,width:e(n).width(),height:e(n).height()};var m=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?s>=m.left-3&&s<=m.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):s>=m.left+m.width-6&&s<=m.left+m.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer":n.style.cursor="pointer":r>=m.top-3&&r<=m.top+6?(n.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):r>=m.top+m.height-6&&r<=m.top+m.height+3?(n.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):n.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1){var f=t.table.coord();for(a=0;a<d.elements.length;a++){var g=d.elements[a];m={top:f.top+g.y,left:f.left+g.x,width:g.width,height:g.height};if(0==a&&!t.rtl||a==d.elements.length-1&&t.rtl)if(s>=m.left-3&&s<=m.left+6){if(r>=m.top&&r<=m.top+m.height){n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer";else if(a==d.elements.length-1&&!t.rtl||0==a&&t.rtl)if(s>=m.left+m.width-6&&s<=m.left+m.width+3){if(r>=m.top&&r<=m.top+m.height){n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer"}}else s>=m.left-3&&s<=m.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):s>=m.left+m.width-6&&s<=m.left+m.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())var v=i.target;else v=t.findCell(s,r);if(!v)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-s)>3||Math.abs(t.mousecaptureposition.top-r)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=v&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){"agendaView"!=t._views[t._view].type&&t._selectRange(v,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=v}}else if(!n){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(v)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){if(t.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var d=function(i){i.target;var s=null;if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();t.table.coord();var r=i.pageX,n=i.pageY;(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(r=arguments[1].pageX,n=arguments[1].pageY),t.isTouchDevice())&&(r=(v=e.jqx.position(i)).left,n=v.top,(isNaN(r)||isNaN(n))&&(r=(v=e.jqx.position(i.originalEvent)).left,n=v.top));t.mouseDown={top:n,left:r};s=t.findCell(r,n);if("td"===i.target.nodeName.toLowerCase())s=i.target;else s=t.findCell(r,n);var o=t._views[t._view].type,a=t._views[t._view];if("monthView"===o&&a.weekViewNavigation&&s&&s.getAttribute("data-time-slot")){var l=t._getDateByString(s.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("weekView")}if("monthView"===o&&a.dayViewNavigation){var h=e(s).coord().top;if(s&&n>=h&&h+16>=n){l=t._getDateByString(s.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx-icon-close")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var c=e(s).parent(),u=c.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(c).index(),clickedcell:e(s)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var p,m=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var s=t.menu.coord();if("block"==t.menu.css("display")&&s.left==i.pageX&&s.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},f=function(){for(var e=0;e<_.length;e++)for(var t=_[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")};if(0==(p=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment")).length&&(p=null),p&&-1==p[0].className.indexOf("feedback")){if(p.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:n,left:r};var g=e(p).coord();t.selectedAppointmentBounds={top:g.top,left:g.left,width:e(p).width(),height:e(p).height()};var v=e(p).position();t.selectedAppointmentTableBounds={top:v.top,left:v.left,width:e(p).width(),height:e(p).height()},t._dragStartCell||(t._dragStartCell=t.findCell(g.left,g.top));var x=t.getJQXAppointmentByElement(p);t._selectAppointment(x,p,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment}),t.clearSelection();var w=(new Date).getTime(),y=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),w-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen")))!1!==t._initDialog(x)&&t._openDialog();t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}else x.readOnly||3!==i.which&&t.focus();return t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(x.readOnly||3==i.which&&m(!0))}if(3===i.which)if(null!==t.getSelection())m(!1);else{t.clearAppointmentsSelection(),s.setAttribute("data-selected","true"),t._lastSelectedCell=s,t.focusedCell=s,t._updateCellsSelection(s),m(!1);var b=new e.jqx.date(s.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:s,date:b})}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view&&(p=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))){p=i.target;x=t.getJQXAppointmentByElement(p);t._selectAppointment(x,p,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment});w=(new Date).getTime(),y=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),w-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen")))!1!==t._initDialog(x)&&t._openDialog();t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,x.readOnly||3==i.which&&m(!0)}if(void 0!==u&&3!=i.which){t.clickedTD=s;b=new e.jqx.date(s.getAttribute("data-date"),t.timeZone);if(t.rowinfo[u]){w=(new Date).getTime(),y=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===s.getAttribute("data-selected")&&w-t.clickTime.getTime()<y){b=new e.jqx.date(s.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:s,date:b}),!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var _=t.rows;if("true"!=s.getAttribute("data-selected")||i.shiftKey||w-t.clickTime.getTime()>y){if("true"==s.getAttribute("data-time-slot"))return;if(i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=o&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),s.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&f(),t._selectRange(s,t.shiftSelectedCell)),!i.shiftKey)f(),(l=t._getDateByString(s.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()?s.setAttribute("data-selected","true"):s.setAttribute("data-selected","false");e('[data-key="'+u+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null,(l=t._getDateByString(s.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()&&(t._lastSelectedCell=s,t.focusedCell=s),t._updateCellsSelection(s),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t._raiseEvent("cellClick",{cell:s,date:b}),t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,r,function(e){var t=d(e);if(null!=t)return t}),this.addHandler(this.table,r,function(e){var t=d(e);if(null!=t)return t})},moveAppointment:function(t,i,s,r,n){var o=this,a=r.getAttribute("data-end-date");if(t){if(o.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(o._verticalIntervalDragVelocity),clearInterval(o._horizontalIntervalDragVelocity),clearInterval(o._intervalDrag),clearInterval(o._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!n){var c=o._views[o._view].type,u=o._views[o._view],p=i;if(t.from=p,"dayView"===c||"weekView"===c)if(d||a){if(!d&&a)t.to=e.jqx.scheduler.utilities.getEndOfDay(p),t.allDay=!0;else if(d&&a)t.to=p.add(l);else if(d&&!a){var m=30;switch(u.timeRuler&&u.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}t.to=p.addMinutes(m),t.allDay=!1}}else t.to=p.add(l),t.allDay=!1;else"monthView"===c?t.to=p.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=p.add(l))}if(o._saveChangesAfterDragOrResize(h,t,r,n),null!=s&&(t.resourceId=s),o.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)o._renderrows();else{var f=o.getViewStart(),g=e.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(f,g),o._renderAppointments(f,g)}o._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),o.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},o._ensureAppointmentVisible(o.selectedJQXAppointment)};t.isRecurrentAppointment()?h(!1):h(null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(t,i,s){var r=this,n=null;if(this.appointmentsByKey[t]&&(n=this.appointmentsByKey[t].jqxAppointment),n)switch(n[i]=s,r.changedAppointments[t]={type:i,appointment:n.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var o=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(o,a),r._renderAppointments(o,a);break;case"hidden":case"timeZone":if(n.isAllDayAppointment())r._renderrows();else{o=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(o,a),r._renderAppointments(o,a)}break;default:r._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,s=0;s<i.length;s++)if(i[s].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[s]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var r=e.id;delete t.appointmentsByKey[r];var n=-1;for(s=0;s<t.appointments.length;s++)if(t.appointments[s]==e.boundAppointment||t.appointments[s].id==e.boundAppointment.id){n=s;break}-1!=n&&t.appointments.splice(n,1),n=-1;for(s=0;s<t.uiappointments.length;s++)if(t.uiappointments[s]==e||t.uiappointments[s].id==e.id){n=s;break}-1!=n&&t.uiappointments.splice(n,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[n+1]?t.selectAppointment(t.uiappointments[n+1].id):t.uiappointments[n-1]?t.selectAppointment(t.uiappointments[n-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if((t.from||t.to)&&t.appointmentObject){var s=new e.jqx.scheduler.appointment;for(var r in t)s[r]=t[r];t=s}else{var n=t,o={},a=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var r in i.appointmentDataFields){var l=n[y=i.appointmentDataFields[r]];if("from"!=r&&"to"!=r||(l=new e.jqx.date(l)),"style"==r&&l){var d=i.getAppointmentColors(l);o.color=d.color,o.background=d.background,o.borderColor=d.border}if("recurrencePattern"==r&&l&&((l=new e.jqx.scheduler.recurrencePattern(l)).timeZone=n.timeZone||i.timeZone),"recurrenceException"==r){var h=new Array;if(l){l.indexOf("EXDATE:")>=0&&(l=l.substring(l.indexOf("EXDATE:")+7));var c=new Array;l.indexOf(",")>=0?c=l.split(","):c.push(l);for(var u=0;u<c.length;u++){var p=c[u];if(p.indexOf(";")>=0){var m=p.split(";")[1];p=p.split(";")[0],m.toLowerCase().indexOf("display")>=0&&m.toLowerCase().indexOf("none")&&(o.hidden=!0)}try{"Invalid Date"!=(f=e.jqx.scheduler.utilities.untilStringToDate(p))&&(f=o.timeZone?new e.jqx.date(f,o.timeZone):i.timeZone?f.toTimeZone(i.timeZone):new e.jqx.date(f))}catch(t){var f=new e.jqx.date(p,i.timeZone)}h.push(f)}}l=h}o[r]=l}for(var g in a){if(null==o[r=a[g]]){l="";if("originalData"==r)continue;"ownerId"==r&&(l=null),"timeZone"==r&&(l=null),"recurrencePattern"==r&&(l=null),"recurrenceException"==r&&(l=null),"allDay"==r&&(l=!1),"draggable"==r&&(l=!0),"resizable"==r&&(l=!0),"hidden"==r&&(l=!1),"resourceId"==r&&(l=null),"from"==r&&(l=new e.jqx.date),"to"==r&&(l=(new e.jqx.date).addHours(1)),o[r]=l}}o.originalData=n,o.scheduler=this;t=new e.jqx.scheduler.appointment(o);o.timeZone&&(t.from=t.from.toTimeZone(o.timeZone),t.to=t.to.toTimeZone(o.timeZone)),i.timeZone?(o.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}r=i.dataview.generatekey();t.id=r,i.appointmentsByKey[r]=t,i.appointments.push(t);var v={},x={};for(var w in i.appointmentDataFields){var y=i.appointmentDataFields[w];l=t[w];v[w]=l,"from"!=w&&"to"!=w||(l=l.toDate?l.toDate():new e.jqx.date(l).toDate()),x[y]=l}if(v.originalData=x,t.boundAppointment=v,v.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[r]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t,i.resources){var b=t.resourceId;-1===i._resources.indexOf(b)&&(i._resources.push(b),i._renderrows())}},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,s=0;i>0&&e.rtl&&(i=0,s=1);for(var r=0;r<t.length;r++)for(var n=t[r].cells,o=i;o<n.length-s;o++){var a=n[o];if("true"==a.getAttribute("data-selected")){if((l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")>=0){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l;if(-1==(l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(t,i){var s=null,r=this.table[0].rows;if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i)for(;n;){if(n=n.next())if(!n.attr("data-role"))return s=n.attr("data-key")}else if("prev"==i)for(;n;){if(n=n.prev())if(!n.attr("data-role"))return s=n.attr("data-key")}return null}return s},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var s=24,r=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var n=0,o=23;if(null!=t.timeRuler.scaleStartHour)n=parseInt(t.timeRuler.scaleStartHour);if(null!=t.timeRuler.scaleEndHour)o=parseInt(t.timeRuler.scaleEndHour);n<0&&(n=0),o<0&&(o=23),n>23&&(n=0),o>23&&(o=23),s=o-n+1,null!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*s;if("hour"===i||"sixtyMinutes"===i)l=s;else if("quarterHour"===i||"fifteenMinutes"===i)l=4*s;else if("tenMinutes"===i)l=6*s;else if("fiveMinutes"===i)l=12*s;r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e]){var t=this._dateByStringCache[e];return new Date(t.getTime())}var i=e.split(" "),s=i[0].split("-"),r=i[1].split(":"),n=parseInt(s[0],10),o=parseInt(s[1],10)-1,a=parseInt(s[2],10),l=parseInt(r[0],10),d=parseInt(r[1],10),h=parseInt(r[2],10);t=new Date(n,o,a,l,d,h);return n<1970&&t.setFullYear(n,o,a),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=t,t},_getCellByDate:function(e,t,i){var s=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<s.length;r++){var n=s[r];if(!n.element.getAttribute("data-group-row"))for(var o=0;o<n.cells.length;o++){var a=n.cells[o];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),s=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(s+t)},this.content[0].appendChild(r),this._gridRenderElement=r}}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,s=t.ctrlKey||t.metaKey,r=this,n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(r._hasOpenedMenu)return 27==n?r.closeMenu():r.menu.jqxMenu("focus"),!0;if(13===n||r.selectedAppointment&&46==n){if(r.editRecurrenceDialog&&r.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(r._editDialog&&r._editDialog.jqxWindow("isOpen"))return!0;if(r.selectedAppointment){if(!(u=r.getJQXAppointmentByElement(r.selectedAppointment)).readOnly)if(46==n)!1!==r._initDialog(u,"delete")&&r._openDialog();else!1!==r._initDialog(u)&&r._openDialog()}else r._initDialog(),r._openDialog()}if(27===n&&r.dragOrResize){r.table.find(".jqx-icon-arrow-down").hide();var o=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());return r._prepareAppointmentsInView(o,a),r._renderAppointments(o,a),r._removeFeedbackAndStopResize(),!1}var l=function(t){var n=r.selectedAppointment,o=r.getJQXAppointmentByElement(n),a=o.elements[0].cells[0].cell,l=o.elements[o.elements.length-1].cells[o.elements[o.elements.length-1].cells.length-1].cell,d=r.rows[r.rows.length-1].cells[r.rows[r.rows.length-1].cells.length-1];!i&&(i||s||"down"!=t&&"right"!=t)||(a=l);var h=r._views[r._view].type,c=(r._views[r._view],a);switch(t){case"left":if((p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))>0&&!i)c=m.cells[p-1];else if("monthView"==h&&!i)(u=m.aboveRow)&&(c=u.cells[u.cells.length-1]);break;case"right":if((p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))<m.cells.length-1)c=m.cells[p+1];else if("monthView"==h)(f=m.belowRow)&&(c=f.cells[0]);"monthView"==h&&!i&&s&&l==d&&(c=a);break;case"up":var u,p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a);(u=m.aboveRow)&&!i&&(c=u.cells[p]);break;case"down":var m,f;p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a);(f=m.belowRow)&&(c=f.cells[p])}var g=c.getAttribute("data-date"),v=new e.jqx.date(g,r.timeZone),x=(h=e(c).attr("data-view"),r._resources[parseInt(h)-1]);if(i){h=r._views[r._view].type,r._views[r._view];var w=!1;"dayView"===h||"weekView"===h?a.getAttribute("data-end-date")?"left"==t&&(o.elements[0].cells.length>1||r.rtl)?(r.rtl?o.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(1)):o.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),w=!0):"right"==t&&((!r.rtl||r.rtl&&o.elements[0].cells.length>1)&&(o.to=e.jqx.scheduler.utilities.getEndOfDay(v)),w=!0):"up"==t&&o.elements[0].cells.length>1?(o.to=v,w=!0):"down"==t&&(o.to=v.addMinutes(r.getMinutesPerScale()),w=!0):h.indexOf("month")>=0?"left"==t&&(o.elements[0].cells.length>1||o.elements.length>1)?(o.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),w=!0):"right"==t&&(o.to=e.jqx.scheduler.utilities.getEndOfDay(v),w=!0):!r.rtl&&"left"==t&&o.elements[0].cells.length>1||r.rtl&&"right"==t&&o.elements[0].cells.length>1?(o.to=v,r.rtl&&(o.to=v.addMinutes(r.getMinutesPerScale())),w=!0):(!r.rtl&&"right"==t||r.rtl&&"left"==t)&&(o.to=v.addMinutes(r.getMinutesPerScale()),r.rtl&&(o.to=o.to.addMinutes(r.getMinutesPerScale())),w=!0),w&&r.moveAppointment(o,v,x,c,!0)}else if(s)r.moveAppointment(o,v,x,c);else{r.clearAppointmentsSelection();var y=!0;"down"==t&&(y=!1),r.selectCell(v,y,h),r._ensureVisible(c)}if(r.selectedAppointment){r.selectedAppointment.removeClass(r.toTP("jqx-scheduler-selected-appointment"));var b=r.selectedAppointment.attr("data-key");e('[data-key="'+b+'"]').addClass(r.toTP("jqx-scheduler-selected-appointment")),r.clearSelection()}};if(t.altKey&&r._resourcesElements&&r._resources&&r._resources.length>0){var d=n>=49&&n<=58?d=n-48:-1;if(d>=1)return e.each(r._resources,function(e,t){if(e==d-1)return function(e){"on"==r._resourcesElements.bottom[e].attr("data-toggle")?r.hideAppointmentsByResource(e):r.showAppointmentsByResource(e)}(t),!1}),!1}if(t.ctrlKey){if(!r.selectedAppointment){if(37==n)return r.toolbarLeftButton.trigger("click"),r._ensureVisible(r.focusedCell),!1;if(39==n)return r.toolbarRightButton.trigger("click"),r._ensureVisible(r.focusedCell),!1}if(49==n)return r._setView(0),!1;if(50==n)return r._setView(1),!1;if(51==n)return r._setView(2),!1;if(52==n)return r._setView(3),!1;if(53==n)return r._setView(4),!1;if(54==n)return r._setView(5),!1;if(68==n)return r.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==n)return r.openMenu(),!1}if(9==n)if(t.shiftKey)if(r.selectedAppointment){r.clearSelection();c=r.selectedAppointment;if(u=r.getJQXAppointmentByElement(c))return(h=r.tabKeyAppointments.indexOf(u))>0?(u=r.tabKeyAppointments[h-1],r._selectAppointment(u),r._lastSelectedAppointment=u,r._ensureAppointmentVisible(u),!1):(r.clearAppointmentsSelection(),r.focusedCell?!r.focusedCell||-1!=r.focusedCell.className.indexOf("-focus")||(r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1):(r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1))}else if(r.focusedCell){if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else r._updateFocusedCell(),r._ensureVisible(r.focusedCell);else{if(r.selectedAppointment){r.clearSelection();var h,c=r.selectedAppointment,u=r.getJQXAppointmentByElement(c);return(h=r.tabKeyAppointments.indexOf(u))<r.tabKeyAppointments.length-1?(u=r.tabKeyAppointments[h+1],r._selectAppointment(u),r._lastSelectedAppointment=u,r._ensureAppointmentVisible(u),!1):(r.clearAppointmentsSelection(),!0)}if(u=r.tabKeyAppointments[0])return r._selectAppointment(u),r._lastSelectedAppointment=u,r._ensureAppointmentVisible(u),!1;if(!r.focusedCell)return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1;if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}if(r.selectedAppointment)return 37==n?l("left"):38==n?l("up"):40==n?l("down"):39==n&&l("right"),!(n>=37&&n<=40)&&void 0;var p=this._lastSelectedCell;if(p){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],p=this._lastSelectedCell);this.rows;var m=this._views[this._view].type,f=this._views[this._view],g="halfHour";f.timeRuler&&f.timeRuler.scale&&(g=f.timeRuler.scale);var v=function(i,s){switch(g){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var n=i.getAttribute("data-date"),o=function(e,i,s){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==m)&&null==e.getAttribute("data-time-slot")){if(s<r.min||s>r.max)return;var n=r.rows,o=r._lastSelectedCell;if(r._lastSelectedCell=e,t.shiftKey&&r._lastSelectedCell?r.shiftSelectedCell||(r.shiftSelectedCell=p):t.shiftKey||(r.shiftSelectedCell=null),r.shiftSelectedCell)e.getAttribute("data-end-date")&&r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell)):e.getAttribute("data-end-date")||r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=o,r._lastSelectedCell=o):(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell));else{for(var a=0;a<n.length;a++){var l=n[a];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++){l.cells[d].removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),r.focusedCell=e}r._ensureVisible(r.focusedCell)}};new e.jqx.date(n,r.timeZone),i.getAttribute("data-view");switch(s){case"left":if((d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))>0)var a=f.cells[d-1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);o(a,0,l);break;case"right":if((d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))<f.cells.length-1)a=f.cells[d+1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);o(a,0,l);break;case"up":var d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i),h=f.aboveRow;if(h){a=h.cells[d];if(0==d&&a.getAttribute("rowspan")){var c=-1+r.rows.indexOf(f);for(a=i;c>=0;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c--}}o(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"down":d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i);var u=f.belowRow;if(u){a=u.cells[d];if(0==d&&a.getAttribute("rowspan"))for(c=1+r.rows.indexOf(f),a=i;c<r.rows.length;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c++}o(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"home":d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i);o(a=r.rows[0].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone));break;case"end":var f;d=(f=r.rowByCell[i.getAttribute("data-key")]).indexOf(i);o(a=r.rows[r.rows.length-1].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}r._updateCellsSelection()};return 36==n||s&&38==n?(v(p,"home"),!1):35==n||s&&40==n?(v(p,"end"),!1):37==n?(r.selectedAppointment?l(p):v(p,"left"),!1):38==n?(r.selectedAppointment?l(p):v(p,"up"),!1):40==n?(r.selectedAppointment?l(p):v(p,"down"),!1):39==n?(r.selectedAppointment?l(p):v(p,"right"),!1):void 0}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,s=new Array,r=0;r<i;r++)for(var n=t[r].cells,o=0;o<n.length;o++)n[o].getAttribute("data-selected")&&s.push(n[o]);return s.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var s=i[0].getAttribute("data-date"),r=i[i.length-1].getAttribute("data-date"),n=t.getMinutesPerScale();(o=t._views[t._view].type).toLowerCase().indexOf("month")>=0&&(n=0),i[0].getAttribute("data-end-date")&&(n=0),r=new e.jqx.date(r,t.timeZone).addMinutes(n);var o=parseInt(i[0].getAttribute("data-view"))-1,a=t._resources[o];return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(s,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:a}:t._views[t._view].type.toLowerCase().indexOf("day")>=0||t._views[t._view].type.toLowerCase().indexOf("week")>=0?(s=new e.jqx.date(s,t.timeZone),0===r.minute()&&0===r.hour()&&0===s.hour()&&0===s.minute()?r.day()===s.day()?{from:new e.jqx.date(s,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:a}:{from:new e.jqx.date(s,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r).addDays(-1),resourceId:a}:{from:new e.jqx.date(s,t.timeZone),to:r,resourceId:a}):t._views[t._view].type.toLowerCase().indexOf("agenda")>=0?{from:new e.jqx.date(s,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:a}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var s=e[i].cells,r=0;r<s.length;r++)s[r].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,s,r){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==o&&(o=l),n>t+e){a=l;break}}return++a>i+s&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,s=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,s=0);var r=parseInt(s);if(null!=t.table){for(var n=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},o=t._getvirtualcolumnsindexes(r,t._hostWidth,0,t.columns.records.length,!1),a=o.start,l=o.end,d=(t.rows,0);d<a;d++){var h=d;n(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=l;d<t.columns.records.length;d++){var c;h=d;n(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=a;d<l;d++){h=d;n(c=t.columns.records[h].element[0])||t.columnsrow[0].appendChild(c)}var u=t.columnsrow;t.columns.records.length,t.columns.records,t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(r=i.max-r),t.table[0].style.left=-r+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-r+"px"),t._resources.length>0&&t.tableRows>0)for(var p=0;p<this.table[0].rows.length;p++){var m=this.table[0].rows[p];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+r)}u[0].style.marginLeft=-r+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(var s=0;s<this.columns.records.length;s++)this._removecolumnhandlers(this.columns.records[s]);this.columns=new Array;for(var r=new Array,n=this,o=function(t,s){var r="halfHour";i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale);var o=24,a=0,l=23;if(i.timeRuler){if(null!=i.timeRuler.scaleStartHour)a=parseInt(i.timeRuler.scaleStartHour);if(null!=i.timeRuler.scaleEndHour)l=parseInt(i.timeRuler.scaleEndHour);a<0&&(a=0),l<0&&(l=23),a>23&&(a=0),l>23&&(l=23),o=l-a+1}var d=2;if(r)switch(r){case"sixtyMinutes":case"hour":d=1;break;case"thirtyMinutes":case"halfHour":d=2;break;case"fifteenMinutes":case"quarterHour":d=4;break;case"tenMinutes":d=6;break;case"fiveMinutes":d=12}new Array;var h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);var c=a,u=o,p=t.addHours(c),m="auto";m=i.columnWidth?d*i.columnWidth:80*d;for(var f=0;f<u;f++){var g=p.toDate();if("auto"===h)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())var v="hh tt";else v="hh:mm";else if(e.isFunction(h))v=h(g);else v=h;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,v,n.schedulerLocalization)),p=p.addMinutes(60,!1),n.columns.push({columnGroup:s,text:g,minwidth:30,width:m})}},a=0;a<this.tableColumns;a++){if(this.tableColumns>1){var l=n._resources[a]?n._resources[a]:"Resource"+a;r.push({text:l,name:l})}var d="left";switch(this.rtl&&(d="right"),t){case"dayView":var h=this.getViewStart();!1===i.showWeekends&&(0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)),0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)));var c="auto";i&&i.columnWidth&&(c=i.columnWidth);l=n._resources[a]?n._resources[a]:"Resource"+a;this.columns.push({align:d,width:c,columnGroup:l,text:this._getDayName(h.dayOfWeek())});break;case"weekView":case"monthView":for(s=0;s<7;s++){if((u=this.schedulerLocalization.firstDay+s)>6&&(u=0),!1!==i.showWeekends||0!==u&&6!==u){c="auto";i&&i.columnWidth&&(c=i.columnWidth);l=n._resources[a]?n._resources[a]:"Resource"+a;this.columns.push({align:"weekView"==t?d:"center",width:c,columnGroup:l,text:this._getDayName(u)})}}break;case"timelineDayView":l=n._resources[a]?n._resources[a]:"Resource"+a;o(n.getViewStart(),l);break;case"timelineWeekView":for(s=0;s<7;s++){var u=this.schedulerLocalization.firstDay+s;if(!1!==i.showWeekends||0!==s&&6!==s){l=n._resources[a]?n._resources[a]:"Resource"+a;r.push({align:n.rtl?"right":"left",parentGroup:l,name:this._getDayName(u)+a,text:this._getDayName(u)}),o(n.getViewStart().addDays(s),this._getDayName(u)+a)}}break;case"timelineMonthView":var p=n.getViewStart(),m="auto";i.timeRuler&&i.timeRuler.formatString&&(m=i.timeRuler.formatString);for(s=0;s<41;s++){u=p.dayOfWeek();if(!1!==i.showWeekends||0!==u&&6!==u){c="auto";c=i.columnWidth?i.columnWidth:100;var f=p.toDate();if("auto"===m){var g="dd";1===(f=p.toDate()).getDate()&&(g="MMM dd")}else if(e.isFunction(m))g=m(f);else g=m;e.jqx.dataFormat.isDate(f)&&(f=e.jqx.dataFormat.formatdate(f,g,n.schedulerLocalization)),p=p.addDays(1);l=n._resources[a]?n._resources[a]:"Resource"+a;n.columns.push({minwidth:30,columnGroup:l,text:f,width:c})}}break;case"agendaView":var v=i.dateColumnWidth,x=i.timeColumnWidth,w=i.appointmentColumnWidth;w||(w="70%"),x||(x="auto"),v||(v="auto"),n.columns.push({text:n.schedulerLocalization.agendaDateColumn,width:v}),n.columns.push({text:n.schedulerLocalization.agendaTimeColumn,width:x}),n.columns.push({text:n.schedulerLocalization.agendaAppointmentColumn,width:w})}}r.length>0&&(this.columnGroups=r);n=this;var y=new e.jqx.schedulerDataCollection(this.element),b=0;this._columns=this.columns;var _="left",j=new e.jqx.scheduler.column(n,this);j.visibleindex=b++,j.text="",j.width=n.timeRulerWidth,j.editable=!1,j.timeColumn=!0,_="left",j.text="",j.hidden=!1,j.width=n.timeRulerWidth;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(j.hidden=!0):(j._text=i.timeRuler.text||"",_=i.timeRuler.position||"left",j.hidden=i.timeRuler.hidden||!1,j.width=i.timeRuler.width||n.timeRulerWidth,i.timeRuler.timeZones);var q=function(r){var o=new e.jqx.scheduler.column(n,n);o.visibleindex=b++,o.text="",o.width=n.timeRulerWidth,o.editable=!1,o.timeColumn=!0,_="left",o.text="",o.hidden=!1,o.timeZone=i.timeRuler.timeZones[r].id,o.width=n.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(o._text=i.timeRuler.timeZones[s].text||"",o.hidden=i.timeRuler.hidden||!1,o.width=i.timeRuler.width||n.timeRulerWidth,y.add(o))};if("left"===_&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(s=0;s<i.timeRuler.timeZones.length;s++)q(s);y.add(j)}"left"===_&&"monthView"===t&&i.showWeekNumbers&&(j.hidden=!1,y.add(j));new Array;if(e.each(this.columns,function(t){if(null!=n.columns[t]){var i=new e.jqx.scheduler.column(n,this);i.visibleindex=b++,y.add(i)}}),"right"===_&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(s=0;s<i.timeRuler.timeZones.length;s++)q(s);y.add(j)}"right"===_&&"monthView"===t&&i.showWeekNumbers&&(j.hidden=!1,y.add(j)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_renderagenda:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),s=t.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd().addDays(-1));t._prepareAppointmentsInView(s,r);for(var n=t.appointmentsToRender.length,o=new Array,a=0;a<t.appointmentsToRender.length;a++)for(var l=t.appointmentsToRender[a],d=l.from.clearTime();d<e.jqx.scheduler.utilities.getEndOfDay(l.to);){var h=d.toString();o[h]?(o[h].appointments.push(l),0):(o[h]={date:d,appointments:new Array},o[h].appointments.push(l),o[o.length]=o[h],0),d=d.addDays(1).clearTime()}var c=0,u=0;t.rows=new Array;for(var p=e.jqx.browser.msie&&e.jqx.browser.version<8,m=0,f=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",g=0,v="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+f+"' id='table"+t.element.id+"'><colgroup>",x=t.columns.records.length,w=0;w<x;w++){var y=t.columns.records[w];if(y.hidden)m++;else{if((A=y.width)<y.minwidth&&(A=y.minwidth),A>y.maxwidth&&(A=y.maxwidth),(A-=0)<0&&(A=0),p){var b=A;w==m&&b++,v+="<col style='max-width: "+b+"px; width: "+b+"px;'>"}else v+="<col style='max-width: "+A+"px; width: "+A+"px;'>";g+=A}}if(v+="</colgroup>",0==n){var _='<tr role="row">',j=this.host.height(),q=0;t.columnGroups?q+=t.showHeader?t.columnsheader.height():0:q+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(q+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(q+=t.legendHeight),j-=q;var T='<td data-date="'+s.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+j+"px; height: "+j+"px; max-width:"+g+"px; width:"+g+"px;",C=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");T+='" class="'+(C+=" "+this.toTP("jqx-center-align"))+'">',T+=this.schedulerLocalization.emptyDataString,_+=T+="</td>",v+=_+="</tr>",this.table[0].style.width=g+2+"px",u=g}var S=t.rowsHeight;t.isTouchDevice()&&(S=t.touchRowsHeight);for(a=0;a<o.length;a++)for(var k=a,I=(d=o[a],0);I<d.appointments.length;I++){var D=0;_='<tr data-key="'+k+'" role="row">';c=0;var P=d.appointments[I];for(w=0;w<x;w++){var A,M=t.columns.records[w],H=w;t.rtl&&(H=x-1-w),(A=M.width)<M.minwidth&&(A=M.minwidth),A>M.maxwidth&&(A=M.maxwidth),(A-=0)<0&&(A=0);C=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(C+=" "+t.toTP("jqx-cell-rtl"));k=t.dataview.generatekey();var B=d.date;j=S+"px",T='<td data-key="'+k+'" data-view="'+-1+'" data-date="'+B.toString()+'" role="gridcell"  style="max-width:'+A+"px; width:"+A+"px; height: "+j+"; min-height: "+S+"px;";if(0==H&&0==I){T='<td rowspan="'+d.appointments.length+'" data-key="'+k+'" data-view="'+-1+'" data-date="'+B.toString()+'" role="gridcell"  style="max-width:'+A+"px; width:"+A+"px;  min-height: "+S+"px;";C+=" "+t.toTP("jqx-center-align")}else if(0==H){c++;continue}t.rtl&&1==H&&(C+=" "+t.toTP("jqx-right-align")),M.hidden?(T+="display: none;",t._hiddencolumns=!0):(D+=0+A,0!=c||t.rtl?T+="border-left-width: 1px;":T+="border-left-width: 0px;",c++),T+='" class="'+C+'">';var z="";if(0==H&&0==I){var E=B.toString("dddd",t.schedulerLocalization),L=B.toString("MMMM, yyyy",t.schedulerLocalization),N=t.toTP("jqx-scheduler-agenda-date"),O=t.toTP("jqx-scheduler-agenda-day"),R=t.toTP("jqx-scheduler-agenda-week");z='<div class="'+N+'"><strong class="'+O+'">'+B.day()+'</strong><br/><em class="'+R+'">'+E+'</em><br/><span class="'+N+'">'+L+"</span></div>"}if(1==H){var F="auto",W=(i=this._views[this._view],P.from),V=P.to;i.timeRuler&&i.timeRuler.formatString&&(F=i.timeRuler.formatString);var G=F,U=F;if("auto"===F){if(0==W.hour()&&0==W.minute()||12==W.hour()&&0==W.minute())G="hh tt";else G="hh:mm";if(0==V.hour()&&0==V.minute()||12==V.hour()&&0==V.minute())U="hh tt";else U="hh:mm"}N=t.toTP("jqx-scheduler-agenda-time");z=P.allDay?"<span class='"+N+"'>"+t.schedulerLocalization.agendaAllDayString+"</span>":t.rtl?"<span class='"+N+"'>"+V.toString(U,t.schedulerLocalization)+" - "+W.toString(G,t.schedulerLocalization)+"</span>":"<span class='"+N+"'>"+W.toString(G,t.schedulerLocalization)+" - "+V.toString(U,t.schedulerLocalization)+"</span>"}else if(2==H){P.resourceId&&e.each(t._resources,function(e,i){if(P.resourceId==i){var s=t.getColors(e),r=(this.toString(),t.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(t.rtl)r=t.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var n="<div data-key='"+P.id+"' class='"+r+"' style='margin-right: 5px; border-color: "+s.border+"; background: "+s.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>";z=n}});var Y=P.subject?P.subject:"(No Title)",K=P.location,X=P.description,Z=P.status?t.schedulerLocalization.editDialogStatuses[P.status]:"",$=P.isRecurrentAppointment(),J=(P.isException(),t.schedulerLocalization.editDialogSubjectString+": "+Y);K&&(J+="\n"+t.schedulerLocalization.editDialogLocationString+": "+K),X&&(J+="\n"+t.schedulerLocalization.editDialogDescriptionString+": "+X),Z&&(J+="\n"+t.schedulerLocalization.editDialogStatusString+": "+Z),$&&(J+="\n"+t.schedulerLocalization.editDialogRepeatString+": "+$);N=t.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(t.rtl)N=t.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");z+="<span data-key='"+P.id+"' title='"+J+"' class='"+N+"'>"+Y+"</span>"}T+=z,_+=T+="</td>"}0==u&&(t.table[0].style.width=D+2+"px",t.pinnedtable[0].style.width=D+2+"px",u=D),v+=_+="</tr>"}v+="</table>",t.table.html(v),t.pinnedtable.html(v),t.pinnedtable[0].style.display="none";var Q=e(t.table[0].firstChild),ee=e(t.pinnedtable[0].firstChild);function te(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}t._table=Q,t._pinnedtable=ee,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=u+"px",t._pinnedtable[0].style.width=u+"px"),0===n&&(t._table[0].style.width=2+u+"px",t._pinnedtable[0].style.width=2+u+"px",t._pinnedtable[0].style.display="none"),t._pinnedtable[0].style.display="none",t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.table[0].rows=t.table[0].firstChild.rows,t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;var ie=t.table[0].rows.length;for(a=0;a<ie;a++){var se=t.table[0].rows[a];if(!se.getAttribute("data-group-row")){var re=new te;re.aboveRow=null,re.belowRow=null,t.rows.length>0&&(re.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=re),re.element=se,t.rows.push(re);var ne=!1;for(w=0;w<se.cells.length;w++){if(se.cells.length<t.columns.records.length&&!ne)for(var oe=a;oe>=0;){var ae=t.table[0].rows[oe];if(t.table[0].rows[oe].cells.length==t.columns.records.length){var le=ae.cells[0];t.columnCells[re.cells.length]||(t.columnCells[re.cells.length]=new Array),t.columnCells[re.cells.length].push(le),0==t.cellWidth&&(t.cellWidth=le.clientWidth),0==t.cellHeight&&(1==ie||a>1)&&(t.cellHeight=le.clientHeight),re.cells.push(le),ne=!0;break}oe--}"none"!==(le=se.cells[w]).style.display&&(le.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[re.cells.length]||(t.columnCells[re.cells.length]=new Array),t.columnCells[re.cells.length].push(le),0==t.cellWidth&&(t.cellWidth=le.clientWidth),0==t.cellHeight&&(1==ie||a>1)&&(t.cellHeight=le.clientHeight),re.cells.push(le),t.rowByCell[le.getAttribute("data-key")]=re))}}}0===n&&(t._table[0].style.tableLayout="auto"),t._updateScrollbars(t.host.height()),t._arrange(),t.rendered&&t.rendered(),t.renderedTime=new Date},_renderrows:function(){if(!(t=this)._loading&&!t._updating&&!t._appupdating){t.rendering&&t.rendering();var t,i=(t=this)._views[t._view].type,s=t._views[t._view];if("agendaView"!=i){var r=1,n=t.getViewStart(),o=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._prepareAppointmentsInView(n,o);var a=new Array;if("weekView"===i||"dayView"===i)r=t.getMaxAllDayAppointments(t.appointmentsToRender);else"monthView"===i&&s.monthRowAutoHeight&&t.rows&&6==t.rows.length&&(a=t._getMonthAppointmentsPerWeek());t.tableRows>1&&t.tableRows;var l,d="halfHour",h=null;s.rowHeight&&(h=s.rowHeight),s&&s.allDayRowHeight&&(l=s.allDayRowHeight),s.timeRuler&&s.timeRuler.scale&&(d=s.timeRuler.scale);var c=0;t.table[0].rows=new Array,t.rows=new Array;var u=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content");t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl"));var p=t.columns.records.length,m=t._getColumnsLengthPerView(),f=e.jqx.browser.msie&&e.jqx.browser.version<8;f&&t.host.attr("hideFocus","true"),t._lastSelectedCell=null,t.focusedCell=null;new Array;var g=t.source.records;g=t.dataview.evaluate(g),t.dataViewRecords=g,t.cells=new Array;t.dataViewRecords;t.renderedRecords=t.getRows();t.tableZIndex;var v=t.getRows().length,x=0,w=0;if(f)for(var y=0;y<p;y++){(ve=(D=t.columns.records[y]).width)<D.minwidth&&(ve=D.minwidth),ve>D.maxwidth&&(ve=D.maxwidth);var b=e('<table><tr><td role="gridcell" style="max-width: '+ve+"px; width:"+ve+'px;" class="'+u+'"></td></tr></table>');e(document.body).append(b);var _=b.find("td");x=1+parseInt(_.css("padding-left"))+parseInt(_.css("padding-right")),b.remove();break}var j=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",q="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+j+"' id='table"+t.element.id+"'><colgroup>",T=0,C=2,S=30;switch(d){case"sixtyMinutes":case"hour":S=60,C=1;break;case"thirtyMinutes":case"halfHour":S=30,C=2;break;case"fifteenMinutes":case"quarterHour":S=15,C=4;break;case"tenMinutes":S=10,C=6;break;case"fiveMinutes":S=5,C=12}var k=1;"timelineDayView"===i||"timelineWeekView"===i?(k=C,m=(p*=C)/t.tableColumns):"timelineMonthView"===i?m=p/t.tableColumns:"monthView"===i&&(m=s.showWeekNumbers?(p-t.tableColumns)/t.tableColumns:p/t.tableColumns);var I=function(e){var i;if(i=t.columns.records[e])return i;for(;e>=t.columns.records.length;)e-=t.columns.records.length;return i=t.columns.records[e]};for(y=0;y<p;y++){var D;if((D=I(y)).hidden)T++,0;else{if((ve=D.width/k)<D.minwidth&&(ve=D.minwidth/k),ve>D.maxwidth&&(ve=D.maxwidth/k),(ve-=x)<0&&(ve=0),"monthView"==i&&t.rtl&&D.timeColumn&&ve++,f){var P=ve;y==T&&P++,q+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else q+="<col style='max-width: "+ve+"px; width: "+ve+"px;'>";w+=ve}}if(q+="</colgroup>",t._hiddencolumns=!1,0===v){var A='<tr role="row">',M=t.host.height();t.pageable&&(M-=t.pagerHeight,"both"===t.pagerPosition&&(M-=t.pagerHeight)),M-=t.columnsHeight,t.showLegend&&t._resources.length>0&&(M-=t.legendHeight),M<25&&(M=25),"hidden"!=t.hScrollBar[0].style.visibility&&(M-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(M=300);b='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border: none; min-height: '+M+"px; height: "+M+"px; max-width:"+w+"px; width:"+w+"px;",u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),b+='" class="'+(u+=" "+t.toTP("jqx-center-align"))+'">',b+=t.schedulerLocalization.emptyDataString,q+=A+=b+="</td>",t.table[0].style.width=w+2+"px",c=w}var H=t.getRows(),B=(n=t.getViewStart(),M=t._hostHeight?t._hostHeight:t.host.height(),0);t.columnGroups?B+=t.showHeader?t.columnsheader.height():0:B+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(B+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(B+=t.legendHeight);var z=t.showAllDayRow,E=23;s.resourceHeaderRowHeight&&(E=s.resourcesRowHeight),E+=2,null!=s.showAllDayRow&&(z=s.showAllDayRow);var L=t._columnswidth>t._hostWidth?3+t.scrollBarSize:0,N=t.tableRows>1?t.resources.unitsInView:1;if(null==N&&(N=t._resources.length),t.resources&&t.resources.resourceRowHeight&&(h=t.resources.resourceRowHeight),null==h||"auto"==h){var O=t.rowsHeight,R=3*O;if(t.isTouchDevice())R=22+(O=t.touchRowsHeight);1==t.tableRows?(h=M>0?M-B:O,t.columns.records.length>10&&(h=M>0?M-t.scrollBarSize-5-B:O)):(h=M>0?(M-B-E)/v:O,t.columns.records.length>10&&(h=M>0?(M-t.scrollBarSize-5-B-N*E)/(N*v):O)),"dayView"===i||"weekView"===i?z&&(null==l||"auto"==l?l=h=M>0?(M-B)/(t.tableRows*v):R:h=M>0?(M-B-l-N*E)/(N*(v-1)):O):"monthView"===i&&("hidden"==t.hScrollBar[0].style.visibility&&(L=0),h=1==t.tableRows?M>0?(M-B-L)/v:O:M>0?(M-B-E-L)/v:O),h=Math.max(O,h),l||(l=R),l=Math.max(R,l),t._allDayRowHeight=l,t._defaultRowHeight=O,l=r*(O-2),l=Math.max(R,17+l),t._allDayRowFullHeight=l,s.allDayRowHeight&&(t._allDayRowHeight=s.allDayRowHeight,l=r*(s.allDayRowHeight-2),t._allDayRowFullHeight=l)}var F,W=new Array;if(t.resources&&t.resources.colorScheme){for(var V=0;V<t.colorSchemes.length;V++)if(t.colorSchemes[V].name==t.resources.colorScheme){W=t.colorSchemes[V].colors;break}for(;t._resources.length>W.length-1;){var G=parseInt(t.resources.colorScheme.substring(6));G>=27&&(G=0),W=W.concat(t.colorSchemes[G].colors),G++}}for(var U=0;U<t.tableRows;U++){var Y=0,K=23;if(s.timeRuler&&null!=s.timeRuler.scaleStartHour)Y=parseInt(s.timeRuler.scaleStartHour);if(s.timeRuler&&null!=s.timeRuler.scaleEndHour)K=parseInt(s.timeRuler.scaleEndHour);var X=n;!1===s.showWeekends&&(0!=X.dayOfWeek()&&6!=X.dayOfWeek()||(X=X.addDays(1)));var Z=new Array,$="monthView"!=i&&"timelineDayView"!=i&&"timelineWeekView"!=i&&"timelineMonthView"!=i&&z?1:0;if(t.tableRows>1){A='<tr data-group-row="true" role="row">',u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),f)u+=" "+t.toTP("jqx-grid-cell-pinned");else{u+=" "+t.toTP("jqx-grid-cell-pinned"),we+=' colspan="'+p+'"';P=0;for(var J=0;J<p;J++){var Q=I(J),ee=Q.width/k;ee<Q.minwidth&&(ve=Q.minwidth/k),ee>Q.maxwidth&&(ve=Q.maxwidth/k),(ee-=x)<0&&(ee=0),Q.hidden||(P+=ee)}ve=P}b='<td style="height:'+E+"px;";if(y!=p-1||1!=p||t.rtl||(b+="border-right-color: transparent;"),t._resources.length>0&&t.resources.colorScheme&&"none"!=t.resources.orientation){var te="",ie="",se="";te=W[U],te=t.hexToRgba(W[U],.7).toString(),se=255-(.299*(F=t.hexToRgba(W[U],.7)).r+.587*F.g+.114*F.b)<105?"Black":"White",b+="background: "+te+";",b+="border-color: "+(ie=W[U])+";",b+="color: "+se+";"}b+='" class="'+u+'" role="gridcell" '+we,b+="><span style='position: relative;'>"+t._resources[U]+"</span>",q+=A+=b+="</td>"}for(var re=0;re<v;re++){var ne={},oe="jqx"+t.element.id+"_"+re;ne.uid=oe;A='<tr data-key="'+oe+'" role="row">';var ae=0,le=0;if(Z[0]&&re>$){S=30;if("monthView"!=i){switch(d){case"sixtyMinutes":case"hour":S=60;break;case"thirtyMinutes":case"halfHour":S=30;break;case"fifteenMinutes":case"quarterHour":S=15;break;case"tenMinutes":S=10;break;case"fiveMinutes":S=5}for(var de=0;de<p;de++)Z[de]=Z[de].addMinutes(S,!1)}else for(de=0;de<p;de++)Z[de]=Z[de].addDays(7,!1)}var he=0,ce=1,ue=0;s.showWeekends||null==s.showWeekends?(ue=t.columns.records.length/(7*t.tableColumns),ue*=C):(ue=t.columns.records.length/(5*t.tableColumns),ue*=C);var pe=0;t.rtl&&(pe=1);var me=0;for(y=0;y<p;y++){var fe=I(y);if(he>=m&&(he=0,me=0,pe=0,t.rtl&&(pe=1),ce++),!Z[y])if(t.rtl){if(i.toString().indexOf("timelineDayView")>=0){ge=1+y;Z[y]=X.addHours(1+K).addMinutes(-ge*S,!1)}else i.toString().indexOf("timelineWeekView")>=0?s.showWeekends||null==s.showWeekends?Z[y]=X.addDays(6-me).addHours(1+K,!1).addMinutes(-pe*S,!1):Z[y]=X.addDays(4-me).addHours(1+K,!1).addMinutes(-pe*S,!1):"dayView"==i||"monthView"==i||"weekView"==i?s.showWeekends||null==s.showWeekends?Z[y]=X.addDays(6-he).addHours(Y,!1):Z[y]=X.addDays(4-he).addHours(Y,!1):Z[y]=X.addDays(m-he-1).addHours(Y,!1);t.timeZone&&(Z[y].timeZone=t.timeZone)}else{if(i.toString().indexOf("timelineDayView")>=0){var ge=y;Z[y]=X.addHours(Y).addMinutes(ge*S,!1)}else i.toString().indexOf("timelineWeekView")>=0?Z[y]=X.addDays(me).addHours(Y,!1).addMinutes(pe*S,!1):Z[y]=X.addDays(he).addHours(Y,!1);t.timeZone&&(Z[y].timeZone=t.timeZone)}++pe>=ue&&(pe=0,me++),fe.timeColumn||"dayView"!==i&&"weekView"!==i?!fe.timeColumn&&"monthView"===i&&s.showWeekNumbers?he++:"monthView"===i&&!s.showWeekNumbers||"timelineMonthView"===i?he++:"timelineDayView"!=i&&"timelineWeekView"!=i||he++:he++;var ve,xe=Z[y];(ve=fe.width/k)<fe.minwidth&&(ve=fe.minwidth/k),ve>fe.maxwidth&&(ve=fe.maxwidth/k),(ve-=x)<0&&(ve=0);u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");fe.pinned&&(u+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===fe.displayfield&&(u+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&re%2!=0&&(u+=" "+t.toTP("jqx-grid-cell-alt")),0!=re||!z||"dayView"!==i&&"weekView"!==i||(u+=" "+t.toTP("jqx-grid-cell-alt")),(xe>t.max||xe<t.min)&&(u+=" "+t.toTP("jqx-scheduler-disabled-cell")),t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl"));var we="",ye=(oe=t.dataview.generatekey(),U+ce);t.resources&&"none"==t.resources.orientation&&(ye=-1),0==t._resources.length&&(ye=-1);b='<td data-key="'+oe+'" data-view="'+ye+'" data-date="'+xe.toString()+'" role="gridcell" '+we+' style="max-width:'+ve+"px; width:"+ve+"px;  height:"+h+"px;";if(0==re&&z&&("dayView"===i||"weekView"===i))b='<td  data-key="'+oe+'" data-view="'+ye+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(xe).toString()+'" data-date="'+xe.clearTime().toString()+'" role="gridcell" '+we+' style="max-width:'+ve+"px; width:"+ve+"px; height:"+l+"px;";if("monthView"==i&&s.monthRowAutoHeight&&a.length>0&&a[re]&&"auto"!=a[re]&&h<a[re])b='<td data-key="'+oe+'" data-view="'+ye+'" data-date="'+xe.toString()+'" role="gridcell" '+we+' style="max-width:'+ve+"px; width:"+ve+"px;  height:"+a[re]+"px;";if(t.date.month()!=xe.month()&&"monthView"===i&&s.showOtherMonthDays,t.resources&&t._resources.length>0&&t.resources.colorScheme&&"none"!==t.resources.orientation){te="",ie="";if(te=W[U+ce-1],te=0!=re||!z||"dayView"!==i&&"weekView"!==i?t.hexToRgba(W[U+ce-1],.3).toString():t.shadeColor(W[U+ce-1],.3).toString(),(0!=re||!z||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&!fe.timeColumn&&!1!==s.showWorkTime){var be=1,_e=5,je=8,qe=18;if(s.workTime)be=s.workTime.fromDayOfWeek?s.workTime.fromDayOfWeek:0,_e=s.workTime.toDayOfWeek?s.workTime.toDayOfWeek:0,je=void 0!==s.workTime.fromHour?s.workTime.fromHour:8,qe=s.workTime.toHour?s.workTime.toHour:8;xe.dayOfWeek()>=be&&xe.dayOfWeek()<=_e&&xe.hour()>=je&&xe.hour()<qe&&(te=t.hexToRgba(W[U+ce-1],.1).toString())}b+="background: "+te+";",b+="border-color: "+(ie=W[ce+U-1])+";"}if(y!=p-1||1!=p||t.rtl||(b+="border-right-color: transparent;"),fe.timeColumn&&!fe.hidden&&"monthView"===i){u=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(u+=" "+t.toTP("jqx-scheduler-week-number-column"),t.tableRows>1)u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),0!==xe.minute()){le++;continue}b='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xe.toString()+'" role="gridcell" style="max-width:'+ve+"px; width:"+ve+"px;";y!=p-1||1!=p||t.rtl?t.rtl&&0==y&&(b+="border-left-color: transparent;"):b+="border-right-color: transparent;",y==p-1&&t.rtl&&(b+="border-right-color: transparent;")}if(!fe.timeColumn||fe.hidden||"dayView"!==i&&"weekView"!==i){if(re>0){var Te="border-left-width: 1px;";t.rtl&&0==y&&"monthView"==i&&s.showWeekNumbers&&(Te="border-left-width: 0px;"),b+=Te}}else{u=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.tableRows>1)u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),re>0){if(0!==xe.minute()){le++;continue}b='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xe.toString()+'" rowspan='+C+' role="gridcell" '+we+' style="max-width:'+ve+"px; width:"+ve+"px;";y!=p-1||1!=p||t.rtl?t.rtl&&0==y&&(b+="border-left-color: transparent;"):b+="border-right-color: transparent;"}else{if(t.resources&&"none"==t.resources.orientation&&(ye=-1),0==re&&z&&("dayView"===i||"weekView"===i))b='<td data-view="'+ye+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(xe).toString()+'" data-date="'+xe.toString()+'" role="gridcell" '+we+' style="max-width:'+ve+"px; width:"+ve+"px;";y!=p-1||1!=p||t.rtl?0==y&&1==p&&t.rtl&&(b+="border-right-color: transparent;"):b+="border-right-color: transparent;",t.rtl&&(b+="border-left-width: 1px;"),t.tableRows>1&&(b+="background: "+te+";",b+="border-color: "+ie+";")}}if("left"!=fe.cellsalign&&("right"===fe.cellsalign?u+=" "+t.toTP("jqx-right-align"):u+=" "+t.toTP("jqx-center-align")),fe.timeColumn||t.rowinfo[ne.uid]&&t.rowinfo[ne.uid].selected&&t.editKey!==ne.uid&&"none"!==t.selectionMode&&(u+=" "+t.toTP("jqx-grid-cell-selected"),u+=" "+t.toTP("jqx-fill-state-pressed"),u+=" "+t.toTP("jqx-scheduler-cell-selected")),fe.hidden?(b+="display: none;",t._hiddencolumns=!0):(ae+=x+ve,0!=le||t.rtl||(b+="border-left-width: 0px;"),le++),(0!=re||!z||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&(u+=" "+t.toTP("jqx-grid-cell-nowrap"),re%2!=1||fe.timeColumn||(u+=" "+t.toTP("jqx-scheduler-middle-cell")),!fe.timeColumn&&!1!==s.showWorkTime)){be=1,_e=5,je=8,qe=18;if(s.workTime)be=s.workTime.fromDayOfWeek?s.workTime.fromDayOfWeek:0,_e=s.workTime.toDayOfWeek?s.workTime.toDayOfWeek:0,je=void 0!==s.workTime.fromHour?s.workTime.fromHour:8,qe=s.workTime.toHour?s.workTime.toHour:8;xe.dayOfWeek()>=be&&xe.dayOfWeek()<=_e&&xe.hour()>=je&&xe.hour()<qe?u+=" "+t.toTP("jqx-scheduler-work-time-cell"):u+=" "+t.toTP("jqx-scheduler-not-work-time-cell")}var Ce="";if("monthView"===i){t.touchDevice||fe.timeColumn||(u+=" "+t.toTP("jqx-top-align"));var Se="dd";Ce=xe.toDate();var ke=t.toTP("jqx-scheduler-month-outer-cell")+" ",Ie=t.toTP("jqx-scheduler-month-weekend-cell");t.date.month()==xe.month()&&(ke=""),xe.isWeekend()?u+=" "+Ie:Ie="",1===Ce.getDate()&&(Se="MMM dd"),Ce=t.touchDevice?h>16?"<div class='"+ke+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(Ce,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+ke+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(Ce,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":h>16?"<div class='"+ke+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(Ce,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+ke+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(Ce,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||(u+=" "+t.toTP("jqx-right-align jqx-bottom-align"),Ce="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span>");0!=re||!z||"dayView"!==i&&"weekView"!==i||fe.timeColumn||(u+=" "+t.toTP("jqx-top-align"),u+=" "+t.toTP("jqx-scheduler-all-day-cell"),t.rtl&&(u+=" "+t.toTP("jqx-rtl")),Ce=xe.toDate(),Ce="<span>"+e.jqx.dataFormat.formatdate(Ce,"dd",t.schedulerLocalization)+"</span>");var De=fe.cellsFormat;if(fe.timeColumn&&!fe.hidden){Ce=xe.toDate(),fe.timeZone&&(Ce=(Ce=xe.clone().toTimeZone(fe.timeZone)).toDate());s.timeRuler&&s.timeRuler.formatString?De=s.timeRuler.formatString:fe.timeColumn.format||(De=0==Ce.getHours()||12==Ce.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(Ce)&&(Ce=e.jqx.dataFormat.formatdate(Ce,De,t.schedulerLocalization)),re<$&&(t.rtl?u+=" "+t.toTP("jqx-scheduler-time-column-header-cell-rtl"):u+=" "+t.toTP("jqx-scheduler-time-column-header-cell"),Ce=""),re<$&&(fe._text&&(u+=" "+t.toTP("jqx-bottom-align")),s.timeRuler&&s.timeRuler.timeZones&&s.timeRuler.timeZones.length>0&&y<s.timeRuler.timeZones.length&&(Ce=fe._text)),"monthView"==i&&(Ce=xe.weekOfYear(t.schedulerLocalization.firstDay))}else""!=De&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Ce)?Ce=e.jqx.dataFormat.formatdate(Ce,De,t.schedulerLocalization):(e.jqx.dataFormat.isNumber(Ce)||!isNaN(parseFloat(Ce))&&isFinite(Ce))&&(Ce=e.jqx.dataFormat.formatnumber(Ce,De,t.schedulerLocalization)));if(""!=fe.cellclassname&&fe.cellclassname)if("string"==typeof fe.cellclassname)u+=" "+fe.cellclassname;else{var Pe=fe.cellclassname(re,fe.datafield,Ce,ne);Pe&&(u+=" "+Pe)}if(""!=fe.cellsRenderer&&fe.cellsRenderer){var Ae=H.indexOf(ne);Ce=fe.cellsRenderer(Ae,fe.datafield,Ce,ne)}b+='" class="'+u+'">',b+=Ce,A+=b+="</td>"}0==c&&(t.table[0].style.width=ae+2+"px",t.pinnedtable[0].style.width=ae+2+"px",c=ae),q+=A+="</tr>",t.rowinfo[ne.uid]?"row"in t.rowinfo[ne.uid]||(t.rowinfo[ne.uid].row=ne):t.rowinfo[ne.uid]={row:ne}}}q+="</table>",t.table.html(q),t.pinnedtable.html(q),t.table[0].rows=t.table[0].firstChild.rows;var Me=e.jqx.browser.msie&&e.jqx.browser.version<9,He=null;if(!z||"dayView"!==i&&"weekView"!==i||1!=t.tableRows)t.pinnedtable[0].style.display="none";else if(t.pinnedtable[0].style.display="block",t.pinnedtable[0].style.zIndex="400",t.pinnedtable[0].style.position="absolute",t.pinnedtable[0].style.top="0px",t.pinnedtable[0].style.height=l+"px",!Me)if(1==t.tableRows){t.oldRow=t.table[0].rows[0];try{t.table[0].rows[0]=t.pinnedtable.find("tr")[0]}catch(e){}He=t.pinnedtable.find("tr")[0],t.pinnedTableRow=He}else{t.oldRow=t.table[0].rows[1];try{t.table[0].rows[1]=t.pinnedtable.find("tr")[1]}catch(e){}He=t.pinnedtable.find("tr")[1],t.pinnedTableRow=He}J=e(t.table[0].firstChild);var Be=e(t.pinnedtable[0].firstChild);t._table=J,t._pinnedtable=Be,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=c+"px",t._pinnedtable[0].style.width=c+"px"),0===v&&(t._table[0].style.width=2+c+"px",t._pinnedtable[0].style.width=2+c+"px"),t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;var ze=t.table[0].rows.length;for(re=0;re<ze;re++){var Ee=t.table[0].rows[re];if(0==re&&He&&(Ee=He),!Ee.getAttribute("data-group-row")){(ne=new Ne).aboveRow=null,ne.belowRow=null,t.rows.length>0&&(ne.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=ne),ne.element=Ee,t.rows.push(ne);for(y=0;y<Ee.cells.length;y++){var Le=Ee.cells[y];Le.getAttribute("data-time-slot")||"none"!==Le.style.display&&(Le.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[ne.cells.length]||(t.columnCells[ne.cells.length]=new Array),t.columnCells[ne.cells.length].push(Le),0==t.cellWidth&&(t.cellWidth=Le.clientWidth),0==t.cellHeight&&(1==ze||re>1)&&(t.cellHeight=Le.clientHeight),"monthView"==t._views[t._view].type&&null==ne.top&&(ne.top=parseInt(e(Le).position().top)),ne.cells.push(Le),t.rowByCell[Le.getAttribute("data-key")]=ne))}}}0===v&&(t._table[0].style.tableLayout="auto"),t._renderAppointments(n,o),("none"!=t.pinnedtable[0].style.display||("dayView"==i||"weekView"==i)&&t.tableRows>1)&&t._updateScrollbars(t.host.height()),"monthView"===i&&s.monthRowAutoHeight&&(0==a.length?t._renderrows():t._updateScrollbars(t.host.height())),t.rendered&&t.rendered(),t.renderedTime=new Date}else t._renderagenda()}function Ne(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var s=t.uiappointments[i];if(s.resourceId==e&&(s.hidden=!1,s.hiddenByResourceId=!1,s.exceptions))for(var r=0;r<s.exceptions.length;r++)s.exceptions[r].hiddenByResourceId=!1}if(t._resourcesElements){var n=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",n.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",n.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var s=t.uiappointments[i];if(s.resourceId==e&&(s.hidden=!0,s.hiddenByResourceId=!0,s.exceptions))for(var r=0;r<s.exceptions.length;r++)s.exceptions[r].hiddenByResourceId=!0,s.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var s=this;if(!s._appupdating){for(var r=new Array,n=0;n<this.uiappointments.length;n++){var o=this.uiappointments[n];if(!o.hidden||null!=o.recurrencePattern){e.jqx.scheduler.utilities.rangeIntersection(o.from,o.to,t,i)&&!o.recurrencePattern&&r.push(o),o.renderedAppointments=new Array;var a=!1;if(o.recurrencePattern){for(var l=o.getOccurrences(t,i),d=o.exceptions,h=0;h<l.length;h++){var c=l[h];if(!c.hidden){for(var u=!0,p=0;p<d.length;p++){var m=(f=d[p]).occurrenceFrom?f.occurrenceFrom:f;if(s.selectedJQXAppointment&&s.selectedJQXAppointment.rootAppointment&&!a&&s.selectedJQXAppointment.occurrenceFrom.clearTime().equals(m.clearTime())&&(s.selectedJQXAppointment=f,a=!0),m.clearTime().equals(c.from.clearTime())){u=!1;break}}u&&(s.selectedJQXAppointment&&s.selectedJQXAppointment.rootAppointment&&!a&&s.selectedJQXAppointment.occurrenceFrom.clearTime().equals(c.occurrenceFrom.clearTime())&&(s.selectedJQXAppointment=c,a=!0),o.renderedAppointments[c.id]=c,r.push(c))}}for(p=0;p<d.length;p++){m=(f=d[p]).occurrenceFrom?f.from:f;var f,g=o.createOccurrence(m);f.occurrenceFrom&&(f.cloneAppointmentAttributes(g),f.hidden)||g!=o&&(r.push(f),o.renderedAppointments[f.id]=f)}}}}var v=new Array;this.tabKeyAppointments=new Array;for(n=0;n<r.length;n++){var x=r[n];v.push(x),this.tabKeyAppointments.push(x)}v.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return s._sortAppointmentsByResourceId(e,t,s)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=v}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),s=new Array,r=new Array,n=this.rows,o=t.showAllDayRow,a=t.getMinutesPerScale();i.timeRuler&&null!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,u=e.jqx.scheduler.utilities.getEndOfDay(c),p=h.day(),m=(d.allDay,new Array),f=new Array,g=d.resourceId,v=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(v=-1);var x=h.toDate().valueOf(),w=c.toDate().valueOf(),y=(u.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!o){0==(B=c.toDate()).getHours()&&0==B.getMinutes()&&!0;for(var b=0;b<t.columnCells.length;b++)if(t.columnCells[b]){var _=t.columnCells[b];t.rtl&&(_=t.columnCells[t.columnCells.length-1-b]);for(var j=0;j<_.length;j++)if(!_[j].getAttribute("data-end-date")){var q=_[j].getAttribute("data-date"),T=t._getDateByString(q),C=t._getDateByString(q);C.setMinutes(C.getMinutes()+a-1);var S=T.valueOf(),k=C.valueOf();if(!(S>c)&&(x<=S&&S<w||x<=k&&k<w||x>=S&&k>=w)){if(-1!=v&&1+v!=_[j].getAttribute("data-view"))continue;p!=T.getDate()&&(m.sort(y),f.push(m),m=new Array,p=h.addDays(1).day()),m.push({cell:_[j],date:T})}}}m.sort(y),f.push(m);var I=new Array;for(b=0;b<f.length;b++){if(0!=(_=f[b]).length){var D=t.cellWidth,P=_[_.length-1].cell.offsetTop+t.cellHeight,A=_[0].cell.offsetLeft,M=_[0].cell.offsetTop,H=t.getMinutesPerScale(),B=new e.jqx.date(_[_.length-1].date,t.timeZone).addMinutes(H),z={cells:_,x:A,y:M,height:P-M,width:D,appointment:d,from:new e.jqx.date(_[0].date,t.timeZone),to:B};I.push(z),s.push(z)}}d.elements=I,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{_=n[0].cells;if(this.tableRows>1)_=n[v*(n.length/t.tableRows)].cells;for(j=0;j<_.length;j++){q=_[j].getAttribute("data-date");var E=t._getDateByString(q);T=new e.jqx.date(E,t.timeZone);if(!((S=(T=e.jqx.scheduler.utilities.getEndOfDay(T)).toDate().valueOf())>u)&&(h<=T&&T<=u)){if(-1!=v&&1+v!=_[j].getAttribute("data-view"))continue;0==m.length&&(T=e.jqx.scheduler.utilities.getStartOfDay(T)),m.push({cell:_[j],date:T})}}m.sort(y),f.push(m);for(I=new Array,b=0;b<f.length;b++){if(0==(_=f[b]).length)break;var L=e(_[0].cell).position();D=e(_[_.length-1].cell).position().left+this.cellWidth-L.left,P=e(_[_.length-1].cell).position().top,A=L.left,M=L.top;if(this.rtl)A=(L=e(_[_.length-1].cell).position()).left,D=e(_[0].cell).position().left+this.cellWidth-L.left;var N=_[_.length-1].date;N=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(N),t.timeZone);z={cells:_,x:A,y:M,height:P-M+this.cellHeight,width:D,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(_[0].date,t.timeZone)),to:N};I.push(z),r.push(z)}d.elements=I,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var O=this.getViewStart(),R=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var F=new Array,W=O,V=0;W<R;){F[V]=new Array;for(b=0;b<s.length;b++){(U=s[b]).from.day()==W.day()&&(U.column=-1,U.columnSpan=1,F[V].push(U))}V++,W=W.addDays(1)}for(b=0;b<F.length;b++)this._renderAppointmentsInDay(F[b]);this._renderAllDayAppointments(r)}else for(j=0;j<this._resources.length;j++){var G=this._resources[j];for(F=new Array,W=O,V=0;W<R;){F[V]=new Array;for(b=0;b<s.length;b++){var U;(U=s[b]).from.day()==W.day()&&(U.column=-1,U.columnSpan=1,U.appointment.resourceId==G&&F[V].push(U))}V++,W=W.addDays(1)}for(b=0;b<F.length;b++)this._renderAppointmentsInDay(F[b]);var Y=new Array;for(b=0;b<r.length;b++)r[b].appointment.resourceId==G&&Y.push(r[b]);this._renderAllDayAppointments(Y)}},_renderAllDayAppointments:function(t){var i=this,s=this.showAllDayRow;if((A=this._views[this._view]).timeRuler&&null!=A.timeRuler.showAllDayRow&&(s=A.timeRuler.showAllDayRow),s&&0!=t.length){var r,n=t;if(r=this.getMaxAllDayAppointments(t),1==this.tableRows)this.table[0].rows[0].clientHeight;else this.table[0].rows[1].clientHeight;for(var o=0;o<t.length;o++){(f=t[o]).row=-1,(m=this.getCollisionAppointments(f,t)).sort(this._sortAppointmentsByFrom);var a=m.indexOf(f);if(a>=0)for(var l=a;l<m.length;l++)m[l].row=-1;for(var d=0;d<r;d++){var h=d;for(var c in m){if("indexOf"==c)break;if(-1==(y=m[c]).row&&!this.isBusyRow(h,m)){y.row=h;var u=r,p=this.getMaxAllDayAppointments(m);u>p&&(u=p),y.rowsCount=u}}}}for(d=0;d<n.length;d++){var m,f=n[d];(m=this.getCollisionAppointments(f,n)).sort(this._sortAppointmentsByFrom);var g=1;for(var c in m){if("indexOf"==c)break;var v=m[c];g=Math.max(g,v.rowsCount)}for(var c in m){if("indexOf"==c)break;(v=m[c]).rowsCount=g}if(1==m.length)f.rowSpan=g;else{var x=0,w=!0;for(l=f.row;l<g;l++){for(var c in m){if("indexOf"==c)break;var y;(y=m[c])!=f&&(y.row==l&&(w=!1))}if(!w)break;x++}f.rowSpan=x}}var b=i.appointmentsMinHeight+2;if(i.isTouchDevice())b=i.touchAppointmentsMinHeight+2;for(var _=0;_<n.length;_++){var j=b;(f=n[_]).height=b;var q=j*f.row;if(f.y=18+f.y+q+4*f.row,f.x+=3,f.width-=8,0!=f.appointment.from.hour()||23!=f.appointment.to.hour()){var T=this.getViewStart(),C=this.getViewEnd();if(i.rtl){S=parseFloat(i.cellWidth/24)*f.appointment.to.hour()+parseFloat(i.cellWidth/48)*(f.appointment.to.minute()/30),k=parseFloat(i.cellWidth/24)*f.appointment.from.hour()+parseFloat(i.cellWidth/48)*(f.appointment.from.minute()/30);S>0&&(S=i.cellWidth-S),f.appointment.from<T&&(k=0),f.appointment.to>C&&(S=0),"exactTime"==A.appointmentsRenderMode&&(f.x+=S,f.width-=S,f.width-=k),f.appointment.duration().days()<1&&f.width<15&&(f.width=15),f.timewidth=f.width,"exactTimeStatus"==A.appointmentsRenderMode&&(f.timewidth-=S,f.timewidth-=k),f.timex=S}else{var S=parseFloat(i.cellWidth/24)*f.appointment.from.hour()+parseFloat(i.cellWidth/48)*(f.appointment.from.minute()/30);f.appointment.from<T&&(S=0),f.timewidth=f.width,f.timex=S;var k=parseFloat(i.cellWidth/24)*f.appointment.to.hour()+parseFloat(i.cellWidth/48)*(f.appointment.to.minute()/30);f.appointment.to>C&&(k=0),f.timewidth-=S,k>0&&(f.timewidth-=i.cellWidth,f.timewidth+=k),"exactTime"==A.appointmentsRenderMode&&(f.width=f.timewidth,f.x+=S)}}}for(_=0;_<n.length;_++){var I=n[_],D="",P="auto",A=this._views[this._view],M=I.appointment.from,H=I.appointment.to;A.timeRuler&&A.timeRuler.formatString&&(P=A.timeRuler.formatString);var B=P;if("auto"===P){if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())B="hh tt";else B="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var z="hh tt";else z="hh:mm"}var E=M.toString(B),L=H.toString(z),N=I.appointment.duration(),O=I.appointment.allDay||23===N.hours&&59===N.minutes&&59===N.seconds,R=I.appointment.background,F=I.appointment.subject?I.appointment.subject:"(No Title)",W=I.appointment.color,V=I.appointment.resourceId,G=i.getColors(i._resources.indexOf(V)),U=" data-resourceId='"+V+"' ",Y=I.appointment.borderColor;(ce=I.appointment.location).length>0&&(ce=", "+ce),R||(R=G.background),Y||(Y=G.border),W||(W=G.color);var K=I.appointment.isRecurrentAppointment(),X=I.appointment.isException();O&&(E="",L="");var Z="",$=i.toTP("jqx-scheduler-appointment-status"),J="",Q=i.statuses[I.appointment.status],ee=!1;Q&&("transparent"==Q?ee=!1:(J="<div style='background: "+Q+"; border-right-color: "+Y+"' class='"+$+"'></div>","tentative"==Q&&(J="<div style='background-color: "+Y+"; border-right-color: "+Y+"' class='"+($=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ee=!0));var te=i.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+I.timewidth+"px; left: "+I.timex+"px;' class='"+te+"'></div>";O&&(ie="");var se="";if("exactTimeStatus"!=A.appointmentsRenderMode&&(ie=""),i.rtl)J="<div style='background: "+Q+"; border-left-color: "+Y+"' class='"+($=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Q&&(J="<div style='background-color: "+Y+"; border-left-color: "+Y+"' class='"+($=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),se=J,J="";var re="",ne=F+ce;if(O||(ne=F+ce+ie),i.renderAppointment){var oe=i.renderAppointment({appointment:I.appointment.boundAppointment,textColor:W,background:R,borderColor:Y,html:ne,cssClass:"",style:"",width:I.width,height:I.height,view:i._views[i._view].type});if(oe)if((D=oe.html)!=ne&&(ne=D),W=oe.textColor,R=oe.background,Y=oe.borderColor,oe.cssClass&&(re=oe.cssClass+" "),""!=oe.style)R=(G=i.getAppointmentColors(oe.style)).background,Y=G.border,W=G.color}if(""===Z)if(ee)Z="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+se+"</div>";else Z="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var ae="";if(i.rtl&&(ae=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),X){var le="white"==W.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");D="<div data-key='"+I.appointment.id+"'"+U+"class='"+ae+re+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+Y+"; color:"+W+"; background:"+R+";'><div class='"+le+"'></div>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(K){var de="white"==W.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");D="<div data-key='"+I.appointment.id+"'"+U+"class='"+ae+re+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+Y+"; color:"+W+"; background:"+R+";'><div class='"+de+"'></div>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else D="<div data-key='"+I.appointment.id+"'"+U+"class='"+ae+re+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+Y+"; color:"+W+"; background:"+R+";'>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(D);if(1==this.tableRows?he.appendTo(this.pinnedtable):he.appendTo(this.table),I.element=he,this.appointmentTooltips)if(I.appointment.tooltip)he[0].setAttribute("title",I.appointment.tooltip);else{var ce,ue=I.appointment.subject;if(E&&(ue=E+" - "+L+" "+ue),ue)(ce=I.appointment.location)&&(ue+="\n"+ce),he[0].setAttribute("title",ue)}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var s,r=this,n=this._views[this._view],o=t,a=(this.getViewStart(),this.getViewEnd(),0);if(n.timeRuler?(a=this.columns.records[1].width,n.timeRuler.timeZones&&(a=this.columns.records[1+n.timeRuler.timeZones.length].width)):a=this.columns.records[1].width,!(a/(s=this.getMaxColumnsInADay(t))<0)){for(var l=0;l<t.length;l++){(v=t[l]).column=-1,(g=this.getCollisionAppointments(v,t)).sort(this._sortAppointmentsByFrom);var d=g.indexOf(v);if(d>=0)for(var h=d;h<g.length;h++)g[h].column=-1;for(var c=0;c<s;c++){var u=c;for(var p in g){if("indexOf"==p)break;if(-1==(_=g[p]).column&&!this.isBusyColumn(u,g)){_.column=u;var m=s,f=this.getMaxColumnsInADay(g);m>f&&(m=f),_.columnsCount=m}}}}for(c=0;c<o.length;c++){var g,v=o[c];(g=this.getCollisionAppointments(v,o)).sort(this._sortAppointmentsByFrom);var x=1;for(var p in g){if("indexOf"==p)break;null!=(w=g[p]).columnsCount&&(x=Math.max(x,w.columnsCount))}for(var p in g){if("indexOf"==p)break;var w;(w=g[p]).columnsCount=x}if(1==g.length)v.columnSpan=x;else{var y=0,b=!0;for(h=v.column;h<x;h++){for(var p in g){if("indexOf"==p)break;var _;null!=(_=g[p]).column&&(_!=v&&_.column==h&&(b=!1))}if(!b)break;y++}v.columnSpan=y}}for(var j=0;j<o.length;j++){var q=a/o[j].columnsCount;(v=o[j]).width=q*v.columnSpan-5;var T=q*v.column;if(v.x=2+v.x+T,v.height-=5,v.y+=1,"exactTime"==n.appointmentsRenderMode){var C=r.getMinutesPerScale();if(v.appointment.from.minute()%C!=0)var S=v.appointment.from.minute()%C,k=parseFloat(r.cellHeight/C)*S;else k=0;if(v.appointment.to.minute()%C!=0){S=v.appointment.to.minute()%C;var I=r.cellHeight-parseFloat(r.cellHeight/C)*S;v.to.day()!==v.appointment.to.day()&&(I=0)}else I=0;v.y+=k,v.height-=k,v.height-=I}}for(j=0;j<o.length;j++){var D=o[j],P="",A="auto",M=(n=this._views[this._view],D.appointment.from),H=D.appointment.to;n.timeRuler&&n.timeRuler.formatString&&(A=n.timeRuler.formatString);var B=A;if("auto"===A){if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())B="hh tt";else B="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var z="hh tt";else z="hh:mm"}M.toString(B),H.toString(z);var E=D.appointment.background,L=D.appointment.subject?D.appointment.subject:"(No Title)",N=D.appointment.location?D.appointment.location:"",O=D.appointment.color,R=D.appointment.resourceId,F=r.getColors(r._resources.indexOf(R)),W=" data-resourceId='"+R+"' ",V=D.appointment.borderColor;E||(E=F.background),V||(V=F.border),O||(O=F.color);var G=D.appointment.isRecurrentAppointment(),U=D.appointment.isException(),Y="",K=r.toTP("jqx-scheduler-appointment-status"),X="",Z=r.statuses[D.appointment.status],$=!1;Z&&("transparent"==Z?$=!1:(X="<div style='background: "+Z+"; border-right-color: "+V+"' class='"+K+"'></div>","tentative"==Z&&(X="<div style='background-color: "+V+"; border-right-color: "+V+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),$=!0));var J="";if(r.rtl)X="<div style='background: "+Z+"; border-left-color: "+V+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Z&&(X="<div style='background-color: "+V+"; border-left-color: "+V+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),J=X,X="";var Q="",ee=L+"<br/>"+N;if(!N)ee=L;if(r.renderAppointment){var te=r.renderAppointment({appointment:D.appointment.boundAppointment,textColor:O,background:E,borderColor:V,html:ee,cssClass:"",style:"",width:D.width,height:D.height,view:r._views[r._view].type});if(te)if((P=te.html)!=ee&&(ee=P),O=te.textColor,E=te.background,V=te.borderColor,te.cssClass&&(Q=te.cssClass+" "),""!=te.style)E=(F=r.getAppointmentColors(te.style)).background,V=F.border,O=F.color}if(""===Y)if($)Y="<div class='"+r.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+J+"</div>";else Y="<div class='"+r.toTP("jqx-scheduler-appointment-content")+"'><div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>";var ie="";if(r.rtl&&(ie=r.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U){var se="white"==O.toLowerCase()?r.toTP("jqx-icon-recurrence-exception-white"):r.toTP("jqx-icon-recurrence-exception");P="<div data-key='"+D.appointment.id+"'"+W+"class='"+ie+Q+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; height: "+D.height+"px; border-color:"+V+"; color:"+O+"; background:"+E+";'><div class='"+se+"'></div>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(G){var re="white"==O.toLowerCase()?r.toTP("jqx-icon-recurrence-white"):r.toTP("jqx-icon-recurrence");P="<div data-key='"+D.appointment.id+"'"+W+"class='"+ie+Q+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; height: "+D.height+"px; border-color:"+V+"; color:"+O+"; background:"+E+";'><div class='"+re+"'></div>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else P="<div data-key='"+D.appointment.id+"'"+W+"class='"+ie+Q+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; height: "+D.height+"px; border-color:"+V+"; color:"+O+"; background:"+E+";'>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ne=e(P);if(ne.appendTo(this.table),D.element=ne,this.appointmentTooltips)if(D.appointment.tooltip)ne[0].setAttribute("title",D.appointment.tooltip);else{var oe=D.appointment.subject;if(oe)(N=D.appointment.location)&&(oe+="\n"+N),ne[0].setAttribute("title",oe)}}}}},getCollisionAppointments:function(t,i){for(var s=new Array,r=t.from,n=t.to,o=0;o<i.length;o++){var a=i[o],l=a.from,d=a.to;if(e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&(s.push(a),s.length>30))break}return s},getAllDayCollisionAppointments:function(t,i){for(var s=new Array,r=e.jqx.scheduler.utilities.getStartOfDay(t.from),n=e.jqx.scheduler.utilities.getEndOfDay(t.to),o=0;o<i.length;o++){var a=i[o],l=e.jqx.scheduler.utilities.getStartOfDay(a.from),d=e.jqx.scheduler.utilities.getEndOfDay(a.to);e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&s.push(a)}return s},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var s=i._views[i._view].type;"dayView"===s||"weekView"===s?i._renderDayWeekAppointments(e,t):"monthView"===s?i._renderMonthAppointments(e,t):"timelineWeekView"!==s&&"timelineDayView"!==s&&"timelineMonthView"!==s||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var s=this,r=s._views[s._view].type,n=s._views[s._view],o=new Array,a=(this.rows,this.cellHeight),l=this.cellWidth,d=s.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],u=c.from,p=c.to,m=(s._getDateByString,new Array),f=u.toDate().valueOf(),g=p.toDate().valueOf();"timelineMonthView"===r&&(f=u.clearTime().toDate().valueOf());var v=s.rows[0],x=c.resourceId,w=s._resources.indexOf(x);if(s._resources.length>0&&"horizontal"!==s.resources.orientation&&w>=1&&(v=s.rows[w]),s.resources&&"none"==s.resources.orientation){w=-1;v=s.rows[0]}for(var y=v.cells,b=0;b<y.length;b++){var _=y[b].getAttribute("data-date");y[b].appointments=new Array;var j=s._getDateByString(_),q=j.valueOf(),T=s._getDateByString(_);T.setMinutes(T.getMinutes()+d-1);var C=T.valueOf();if(!(q>p)&&(f<=q&&q<g||f<=C&&C<g||f>=q&&f<=C&&g<=C)){if(-1!=w&&1+w!=y[b].getAttribute("data-view"))continue;m.push({cell:y[b],date:j}),v=L}}m.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var S=new Array;if(0!=(y=m).length){var k=s.appointmentsMinHeight;s.isTouchDevice()&&(k=s.touchAppointmentsMinHeight),n.appointmentHeight&&(k=n.appointmentHeight);var I=e(y[0].cell).position(),D=k,P=e(y[y.length-1].cell).position().left-I.left+l,A=I.left,M=I.top;if(s.rtl)I=e(y[y.length-1].cell).position(),P=e(y[0].cell).position().left-I.left+l,A=I.left,M=I.top;var H=new e.jqx.date(y[y.length-1].date,s.timeZone).addMinutes(d);if("timelineMonthView"===r)H=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,s.timeZone));var B={cellX:A,cellY:M,cellHeight:a,cells:y,x:A,y:M,height:D,width:P,appointment:c,from:new e.jqx.date(y[0].date,s.timeZone),to:H};"exactTime"===n.appointmentsRenderMode&&(B.from=c.from,B.to=c.to),S.push(B),o.push(B),c.elements=S,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(o,t,i);else for(b=0;b<this._resources.length;b++){for(var z=this._resources[b],E=new Array,L=0;L<o.length;L++)o[L].appointment.resourceId==z&&E.push(o[L]);this._renderUITimelineAppointments(E,t,i)}},_renderUITimelineAppointments:function(t,i,s){(a=this)._views[a._view].type;var r,n=a._views[a._view],o=t,a=this,l=new Array;r=a.getMaxTimelineAppointments(t,l,i,s);var d=a.appointmentsMinHeight;a.isTouchDevice()&&(d=a.touchAppointmentsMinHeight),n.appointmentHeight&&(d=n.appointmentHeight);for(var h=0;h<t.length;h++){(w=t[h]).row=-1,(x=a.getCollisionAppointments(w,t)).sort(a._sortAppointmentsByFrom);var c=x.indexOf(w);if(c>=0)for(var u=c;u<x.length;u++)x[u].row=-1;for(var p=0;p<r;p++){var m=p;if(p>30)break;for(var f in x){if("indexOf"==f)break;if(f>30)break;if(-1==(q=x[f]).row&&!a.isBusyRow(m,x)){q.row=m;var g=r,v=a.getMaxTimelineAppointments(x,l,i,s);g>v&&(g=v),q.rowsCount=g}}}}for(p=0;p<o.length;p++){var x,w=o[p];(x=a.getCollisionAppointments(w,o)).sort(a._sortAppointmentsByFrom);var y=1;for(var f in x){if("indexOf"==f)break;var b=x[f];y=Math.max(y,b.rowsCount)}for(var f in x){if("indexOf"==f)break;(b=x[f]).rowsCount=y}if(1==x.length)w.rowSpan=y;else{var _=0,j=!0;for(u=w.row;u<y;u++){for(var f in x){if("indexOf"==f)break;var q;(q=x[f])!=w&&(q.row==u&&(j=!1))}if(!j)break;_++}w.rowSpan=_}}for(var T=0;T<o.length;T++){var C=d;(w=o[T]).height=C;var S=2+(3+C)*w.row;w.y=w.y+S,w.x+=1,w.width-=5;var k=a._views[a._view].type;n=a._views[a._view];if("timelineMonthView"==k&&n.appointmentsRenderMode){if(0!=w.appointment.from.hour()||23!=w.appointment.to.hour())if(a.rtl){I=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30),D=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30);I>0&&(I=a.cellWidth-I),"exactTime"==n.appointmentsRenderMode&&(w.x+=I,w.width-=I,w.width-=D),w.appointment.duration().days()<1&&w.width<15&&(w.width=15),w.timewidth=w.width,w.timex=I}else{var I=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30),D=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30);if(w.timewidth=w.width,w.timex=I,w.timewidth-=I,w.timewidth-=a.cellWidth,w.timewidth+=D,"exactTime"==n.appointmentsRenderMode&&(w.width=w.timewidth,a.date.month()===w.appointment.from.month()?w.x+=I:w.width=I+w.timewidth,w.appointment.duration().days()<1&&w.width<15&&(w.width=15,I+15>a.cellWidth))){var P=a.cellWidth-I-15;w.x+=P}}}else if(n.appointmentsRenderMode&&"exactTime"==n.appointmentsRenderMode){var A=a.getMinutesPerScale();if(w.appointment.from.minute()%A!=0){var M=w.appointment.from.minute()%A;I=parseFloat(a.cellWidth/A)*M;if(a.rtl)I=parseFloat(a.cellWidth/A)*M}else I=0;if(w.appointment.to.minute()%A!=0){M=w.appointment.to.minute()%A,D=a.cellWidth-parseFloat(a.cellWidth/A)*M;if(a.rtl)D=a.cellWidth-parseFloat(a.cellWidth/A)*M}else D=0;a.rtl?(w.x+=D,w.width-=I,w.width-=D):(w.x+=I,w.width-=I,w.width-=D)}}var H=[];for(T=0;T<o.length;T++){var B="";if(!((ae=o[T]).y<0)){H.push(ae);n=a._views[a._view],ae.appointment.from,ae.appointment.to;n.timeRuler&&n.timeRuler.formatString&&n.timeRuler.formatString;var z=ae.appointment.background,E=ae.appointment.subject?ae.appointment.subject:"(No Title)";(se=ae.appointment.location)&&se.length>1&&(se=", "+se);var L=ae.appointment.color,N=ae.appointment.resourceId,O=a.getColors(a._resources.indexOf(N)),R=" data-resourceId='"+N+"' ",F=ae.appointment.borderColor;z||(z=O.background),F||(F=O.border),L||(L=O.color);var W=ae.appointment.isRecurrentAppointment(),V=ae.appointment.isException(),G="",U=a.toTP("jqx-scheduler-appointment-status"),Y="",K=a.statuses[ae.appointment.status],X=!1;K&&("transparent"==K?X=!1:(Y="<div style='background: "+K+"; border-right-color: "+F+"' class='"+U+"'></div>","tentative"==K&&(Y="<div style='background-color: "+F+"; border-right-color: "+F+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),X=!0));var Z="";if(a.rtl)Y="<div style='background: "+K+"; border-left-color: "+F+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==K&&(Y="<div style='background-color: "+F+"; border-left-color: "+F+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Z=Y,Y="";var $="",J=E+"<br/>"+se;if(a.renderAppointment){var Q=a.renderAppointment({appointment:ae.appointment.boundAppointment,textColor:L,background:z,borderColor:F,html:J,cssClass:"",style:"",width:ae.width,height:ae.height,view:a._views[a._view].type});if(Q)if((B=Q.html)!=J&&(J=B),L=Q.textColor,z=Q.background,F=Q.borderColor,Q.cssClass&&($=Q.cssClass+" "),""!=Q.style)z=(O=a.getAppointmentColors(Q.style)).background,F=O.border,L=O.color}if(""===G)if(X)G="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+J+"</div>"+Z+"</div>";else G="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+J+"</div></div>";var ee="";if(a.rtl&&(ee=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),V){var te="white"==L.toLowerCase()?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+ae.appointment.id+"'"+R+"class='"+ee+$+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+F+"; color:"+L+"; background:"+z+";'><div class='"+te+"'></div>"+G+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(W){var ie="white"==L.toLowerCase()?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");B="<div data-key='"+ae.appointment.id+"'"+R+"class='"+ee+$+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+F+"; color:"+L+"; background:"+z+";'><div class='"+ie+"'></div>"+G+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else B="<div data-key='"+ae.appointment.id+"'"+R+"class='"+ee+$+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+F+"; color:"+L+"; background:"+z+";'>"+G+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";if(B,(le=e(B)).appendTo(this.table),ae.element=le,this.appointmentTooltips)if(ae.appointment.tooltip)le[0].setAttribute("title",ae.appointment.tooltip);else{var se,re=ae.appointment.subject;if(re)(se=ae.appointment.location)&&(re+="\n"+se),le[0].setAttribute("title",re)}}}var ne=a.table.find(".jqx-scheduler-appointment"),oe=function(e){for(var t=0;t<ne.length;t++){if(ne[t].getAttribute("data-key")==e)return ne[t]}};for(T=0;T<H.length;T++){var ae=H[T],le=e(oe(ae.appointment.id));e.each(ae.cells,function(t){var i=e(this.cell),s=ae.cellY,r=(ae.cellX,ae.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:le,appointment:ae}),le=le,ae.y+ae.height>=s+r-12){le[0].style.visibility="hidden";var n=i.find(".jqx-icon-arrow-down");n.length>0&&(n[0].style.display="block",n[0].mousedown=function(){a.openedMonthCellPopup&&a.openedMonthCellPopup.remove();var t=e("<div></div>"),n=(new e.jqx.date(i.attr("data-date"),a.timeZone),e("<div class='"+a.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+a.toTP("jqx-icon-close")+"'></span></div>"));n.height(16),n.find("span")[0].mousedown=function(){t.remove()},n.addClass(a.toTP("jqx-widget-header")),t.addClass(a.toTP("jqx-widget")),t.addClass(a.toTP("jqx-window")),t.addClass(a.toTP("jqx-scheduler-month-cell-popup")),t.addClass(a.toTP("jqx-popup"));var o=e("<div></div>");t.append(n),t.append(o),o.addClass(a.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));a._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));t.readOnly||a.editRecurrenceDialog.jqxWindow("isOpen")||a._editDialog&&(!a._editDialog||a._editDialog.jqxWindow("isOpen"))||!1!==a._initDialog(t)&&a._openDialog();a._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,o.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var u=a.table.height()-s-25;u<r&&(u=r),t.css("max-height",u),t.height(d),t.width(l),t.css("z-index","9999");var p=i.position();t.css("top",p.top),t.css("left",p.left),a.table.append(t),a.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),s=new Array,r=(this.rows,0);this.host.find(".jqx-scheduler-month-cell").length>0&&(r=e(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var n=0;n<this.appointmentsToRender.length;n++){var o=this.appointmentsToRender[n],a=e.jqx.scheduler.utilities.getStartOfDay(o.from),l=e.jqx.scheduler.utilities.getEndOfDay(o.to),d=(o.allDay,new Array),h=new Array,c=a.toDate().valueOf(),u=l.toDate().valueOf(),p=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},m=-1,f=o.resourceId,g=t._resources.indexOf(f);t.resources&&"none"==t.resources.orientation&&(g=-1);for(var v=0;v<t.rows.length;v++)for(var x=t.rows[v].cells,w=0;w<x.length;w++){var y=x[w].getAttribute("data-date"),b=this._getDateByString(y),_=b.valueOf();_>l||(x[w].appointments=new Array,-1!=g&&1+g!=x[w].getAttribute("data-view")||c<=_&&_<u&&(m!=v&&-1!=m&&(d.sort(p),h.push(d),d=new Array),d.push({cell:x[w],date:b}),m=v))}d.sort(p),h.push(d);var j=new Array;for(v=0;v<h.length;v++){if(0==(x=h[v]).length)break;var q=t.appointmentsMinHeight;t.isTouchDevice()&&(q=t.touchAppointmentsMinHeight),i.appointmentHeight&&(q=i.appointmentHeight);var T=q,C=(A=e(x[x.length-1].cell).position().left)-e(x[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)C=A-e(x[0].cell).position().left+t.columns.records[1].width;var S=(P=e(x[0].cell).position()).left,k=P.top+r,I=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(x[x.length-1].date,t.timeZone)),D=new e.jqx.date(x[0].date,t.timeZone);if(t.rtl){var P,A;I=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(x[0].date,t.timeZone)),D=new e.jqx.date(x[x.length-1].date,t.timeZone),S=(P=e(x[x.length-1].cell).position()).left,k=P.top+r,C=(A=e(x[0].cell).position().left)-e(x[x.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)C=A-e(x[x.length-1].cell).position().left+t.columns.records[1].width}var M={cells:x,cellY:parseInt(P.top),cellX:parseInt(P.left),lastCellY:parseInt(P.top),lastCellX:A,x:S,y:k,height:T,width:C,appointment:o,from:D,to:I};j.push(M),s.push(M)}o.elements=j,o.rootAppointment&&(o.rootAppointment.elements=o.rootAppointment.elements.concat(o.elements))}var H=this.getViewStart(),B=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var z=new Array,E=H,L=0;E<B;){z[L]=new Array;for(v=0;v<s.length;v++){var N=s[v];E<=N.from&&N.to<E.addDays(7)&&(N.row=-1,N.rowSpan=1,z[L].push(N))}L++,E=E.addDays(7)}E=H;var O=H;for(v=0;v<z.length;v++){if(z[v].length>0){var R=z[v],F=[];for(w=0;w<7;w++){var W=R.filter(function(t){return e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,E,e.jqx.scheduler.utilities.getEndOfDay(E))});E=E.addDays(1);for(var V=0;V<W.length&&!(V>=20);V++){o=W[V];-1===F.indexOf(o)&&F.push(o)}}this._renderUIMonthAppointments(F)}O=O.addDays(7),E=O}}else for(w=0;w<this._resources.length;w++){var G=this._resources[w];for(new Array,z=new Array,E=H,L=0;E<B;){z[L]=new Array;for(v=0;v<s.length;v++){N=s[v];E<=N.from&&N.to<E.addDays(7)&&(N.row=-1,N.rowSpan=1,N.appointment.resourceId==G&&z[L].push(N))}L++,E=E.addDays(7)}for(v=0;v<z.length;v++)z[v].length>0&&this._renderUIMonthAppointments(z[v])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),s=new Array,r=(this.rows,0);if(this.host.find(".jqx-scheduler-month-cell").length>0&&(r=e(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!t.rows)return new Array;for(var n=this.getViewStart(),o=this.getViewEnd(),a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=e.jqx.scheduler.utilities.getStartOfDay(l.from),h=e.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,t._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},g=-1,v=l.resourceId,x=t._resources.indexOf(v);t.resources&&"none"==t.resources.orientation&&(x=-1);for(var w=0;w<t.rows.length;w++)for(var y=t.rows[w].cells,b=0;b<y.length;b++){y[b].getAttribute("data-date");var _=n.addDays(7*w+b).toDate(),j=_.valueOf();j>h||(-1!=x&&1+x!=y[b].getAttribute("data-view")||p<=j&&j<m&&(g!=w&&-1!=g&&(c.sort(f),u.push(c),c=new Array),c.push({cell:y[b],date:_}),g=w))}c.sort(f),u.push(c);var q=new Array;for(w=0;w<u.length;w++){if(0==(y=u[w]).length)break;var T=t.appointmentsMinHeight;t.isTouchDevice()&&(T=t.touchAppointmentsMinHeight),i.appointmentHeight&&(T=i.appointmentHeight);var C=T,S=(M=e(y[y.length-1].cell).position().left)-e(y[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)S=M-e(y[0].cell).position().left+t.columns.records[1].width;var k=(A=e(y[0].cell).position()).left,I=A.top+r,D=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,t.timeZone)),P=new e.jqx.date(y[0].date,t.timeZone);if(t.rtl){var A,M;D=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[0].date,t.timeZone)),P=new e.jqx.date(y[y.length-1].date,t.timeZone),k=(A=e(y[y.length-1].cell).position()).left,I=A.top+r,S=(M=e(y[0].cell).position().left)-e(y[y.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)S=M-e(y[y.length-1].cell).position().left+t.columns.records[1].width}var H={cells:y,cellY:parseInt(A.top),cellX:parseInt(A.left),lastCellY:parseInt(A.top),lastCellX:M,x:k,y:I,height:C,width:S,appointment:l,from:P,to:D};q.push(H),s.push(H)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var B=new Array,z=n,E=0;z<o;){B[E]=new Array;for(w=0;w<s.length;w++){z<=(R=s[w]).from&&R.to<z.addDays(7)&&(R.row=-1,R.rowSpan=1,B[E].push(R))}E++,z=z.addDays(7)}var L=new Array;for(w=0;w<B.length;w++)if(B[w].length>0){var N=this.getMaxMonthAppointments(B[w]);T=t.appointmentsMinHeight;t.isTouchDevice()&&(T=t.touchAppointmentsMinHeight),i.appointmentHeight&&(T=i.appointmentHeight),L.push(N*(T+3)+22)}else L.push("auto");return L}for(L=new Array,b=0;b<this._resources.length;b++){var O=this._resources[b];for(new Array,B=new Array,z=n,E=0;z<o;){B[E]=new Array;for(w=0;w<s.length;w++){var R;z<=(R=s[w]).from&&R.to<z.addDays(7)&&(R.row=-1,R.rowSpan=1,R.appointment.resourceId==O&&B[E].push(R))}E++,z=z.addDays(7)}for(w=0;w<B.length;w++)if(B[w].length>0){N=this.getMaxMonthAppointments(B[w]);L.push(N*(T+3)+22)}else L.push("auto");return L}},_renderUIMonthAppointments:function(t){var i,s=this._views[this._view],r=t,n=(this.getViewStart(),this.getViewEnd(),this);i=this.getMaxMonthAppointments(t);var o=n.appointmentsMinHeight;n.isTouchDevice()&&(o=n.touchAppointmentsMinHeight),s.appointmentHeight&&(o=s.appointmentHeight);var a=this._sortAppointmentsByFrom;this.rtl&&(a=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){(v=t[l]).row=-1,(g=this.getCollisionAppointments(v,t)).sort(a);var d=g.indexOf(v);if(d>=0)for(var h=d;h<g.length;h++)g[h].row=-1;for(var c=0;c<i;c++){var u=c;for(var p in g){if("indexOf"==p)break;if(-1==(_=g[p]).row&&!this.isBusyRow(u,g)){_.row=u;var m=i,f=this.getMaxMonthAppointments(g);m>f&&(m=f),_.rowsCount=m}}}}for(c=0;c<r.length;c++){var g,v=r[c];(g=this.getCollisionAppointments(v,r)).sort(a);var x=1;for(var p in g){if("indexOf"==p)break;var w=g[p];x=Math.max(x,w.rowsCount)}for(var p in g){if("indexOf"==p)break;(w=g[p]).rowsCount=x}if(1==g.length)v.rowSpan=x;else{var y=0,b=!0;for(h=v.row;h<x;h++){for(var p in g){if("indexOf"==p)break;var _;(_=g[p])!=v&&(_.row==h&&(b=!1))}if(!b)break;y++}v.rowSpan=y}}for(var j=0;j<r.length;j++){var q=o;(v=r[j]).height=q;var T=2+(3+q)*v.row;if(v.y=v.y+T,v.x+=1,v.width-=5,0!=v.appointment.from.hour()||23!=v.appointment.to.hour())if(n.rtl){C=parseFloat(n.cellWidth/24)*v.appointment.to.hour()+parseFloat(n.cellWidth/48)*(v.appointment.to.minute()/30),S=parseFloat(n.cellWidth/24)*v.appointment.from.hour()+parseFloat(n.cellWidth/48)*(v.appointment.from.minute()/30);v.appointment.elements.length>1?v==v.appointment.elements[0]?S>0?"exactTime"==s.appointmentsRenderMode?(v.width-=n.cellWidth-C,v.width-=S):v.timewidth=v.width-n.cellWidth+C-S:(v.timewidth=v.width,v.timex=0):v==v.appointment.elements[v.appointment.elements.length-1]&&("exactTime"==s.appointmentsRenderMode&&(v.x+=n.cellWidth,v.x-=C,v.width+=C,v.width-=n.cellWidth),v.timewidth=v.width-n.cellWidth+C,v.timex=n.cellWidth-C):("exactTime"==s.appointmentsRenderMode&&(v.x+=n.cellWidth,v.x-=C,v.width-=n.cellWidth-C,v.width-=S),v.appointment.duration().days()<1&&v.width<15&&(v.width=15),v.timewidth=v.width-n.cellWidth+C-S,v.timex=n.cellWidth-C)}else{var C=parseFloat(n.cellWidth/24)*v.appointment.from.hour()+parseFloat(n.cellWidth/48)*(v.appointment.from.minute()/30);v.timewidth=v.width,v.from.clearTime().toString()==v.appointment.from.clearTime().toString()?v.timex=C:C=0,v.appointment.elements.length>1&&v.appointment.elements[0]!=v&&(C=0);var S=parseFloat(n.cellWidth/24)*v.appointment.to.hour()+parseFloat(n.cellWidth/48)*(v.appointment.to.minute()/30);if(v.appointment.elements.length>1&&v.appointment.elements[v.appointment.elements.length-1]!=v&&(S=0),v.timewidth-=C,S>0&&(v.timewidth-=n.cellWidth,v.timewidth+=S),"exactTime"==s.appointmentsRenderMode&&(v.from.clearTime().toString()==v.appointment.from.clearTime().toString()&&(v.x+=C),v.width=v.timewidth,v.appointment.duration().days()<1&&v.width<15&&(v.width=15,C+15>n.cellWidth))){var k=n.cellWidth-C-15;v.x+=k}}}for(j=0;j<r.length;j++){var I=r[j],D="",P="auto",A=(s=this._views[this._view],I.appointment.from),M=I.appointment.to;P="auto",s=this._views[this._view],A=I.appointment.from,M=I.appointment.to;s.timeRuler&&s.timeRuler.formatString&&(P=s.timeRuler.formatString);var H=P,B=P;if("auto"===P){if(0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute())H="hh tt";else H="hh:mm";if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())B="hh tt";else B="hh:mm"}var z=A.toString(H),E=M.toString(B),L=I.appointment.duration(),N=I.appointment.allDay||23===L.hours&&59===L.minutes&&59===L.seconds,O=I.appointment.background,R=I.appointment.subject?I.appointment.subject:"(No Title)",F=I.appointment.color,W=I.appointment.resourceId,V=n.getColors(n._resources.indexOf(W)),G=" data-resourceId='"+W+"' ",U=I.appointment.borderColor;(he=I.appointment.location)&&he.length>1&&(he=", "+he),O||(O=V.background),U||(U=V.border),F||(F=V.color);var Y=I.appointment.isRecurrentAppointment(),K=I.appointment.isException(),X="",Z=n.toTP("jqx-scheduler-appointment-status"),$="",J=n.statuses[I.appointment.status],Q=!1;J&&("transparent"==J?Q=!1:($="<div style='background: "+J+"; border-right-color: "+U+"' class='"+Z+"'></div>","tentative"==J&&($="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+(Z=n.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=!0));var ee=n.toTP("jqx-scheduler-appointment-duration-status"),te="<div style='width: "+I.timewidth+"px; left: "+I.timex+"px;' class='"+ee+"'></div>";N&&(te=""),"exactTimeStatus"!=s.appointmentsRenderMode&&(te="");var ie="";if(n.rtl)$="<div style='background: "+J+"; border-left-color: "+U+"' class='"+(Z=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==J&&($="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+(Z=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ie=$,$="";var se="",re=R+he;if(N||(re=R+he+te),n.renderAppointment){var ne=n.renderAppointment({appointment:I.appointment.boundAppointment,textColor:F,background:O,borderColor:U,html:re,cssClass:"",style:"",width:I.width,height:I.height,view:n._views[n._view].type});if(ne)if((D=ne.html)!=re&&(re=D),F=ne.textColor,O=ne.background,U=ne.borderColor,ne.cssClass&&(se=ne.cssClass+" "),""!=ne.style)O=(V=n.getAppointmentColors(ne.style)).background,U=V.border,F=V.color}if(""===X)if(Q)X="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div>"+ie+"</div>";else X="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'><div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div></div>";var oe="";if(n.rtl&&(oe=n.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var ae="white"==F.toLowerCase()?n.toTP("jqx-icon-recurrence-exception-white"):n.toTP("jqx-icon-recurrence-exception");D="<div data-key='"+I.appointment.id+"'"+G+"class='"+oe+se+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+U+"; color:"+F+"; background:"+O+";'><div class='"+ae+"'></div>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(Y){var le="white"==F.toLowerCase()?n.toTP("jqx-icon-recurrence-white"):n.toTP("jqx-icon-recurrence");D="<div data-key='"+I.appointment.id+"'"+G+"class='"+oe+se+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+U+"; color:"+F+"; background:"+O+";'><div class='"+le+"'></div>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else D="<div data-key='"+I.appointment.id+"'"+G+"class='"+oe+se+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+U+"; color:"+F+"; background:"+O+";'>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var de=e(D);if(de.appendTo(this.table),I.element=de,this.appointmentTooltips)if(I.appointment.tooltip)de[0].setAttribute("title",I.appointment.tooltip);else{var he,ce=I.appointment.subject;if(z&&!N&&(ce=z+" - "+E+" "+ce),ce)(he=I.appointment.location)&&(ce+="\n"+he),de[0].setAttribute("title",ce)}e.each(I.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:de,appointment:I}),I.y+I.height+2>=i.top+t.height()){de.css("visibility","hidden");var s=t.find(".jqx-icon-arrow-down");s.show(),s[0]&&(s[0].mousedown=function(){n.openedMonthCellPopup&&n.openedMonthCellPopup.remove();var s=e("<div></div>"),r=t.find("div").clone(!0);r.find("span").removeClass().addClass(n.toTP("jqx-icon-close")),r.find("span")[0].mousedown=function(){s.remove()},r.addClass(n.toTP("jqx-widget-header")),s.addClass(n.toTP("jqx-widget")),s.addClass(n.toTP("jqx-window")),s.addClass(n.toTP("jqx-scheduler-month-cell-popup")),s.addClass(n.toTP("jqx-popup"));var o=e("<div></div>");s.append(r),s.append(o),o.addClass(n.toTP("jqx-widget-content jqx-disableselect"));for(var a=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(a-6),l+=h.outerHeight()+4,o.append(h),h.click(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));n._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));t.readOnly||n.editRecurrenceDialog.jqxWindow("isOpen")||n._editDialog&&(!n._editDialog||n._editDialog.jqxWindow("isOpen"))||!1!==n._initDialog(t)&&n._openDialog();n._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}s.css("overflow","hidden"),s.css("position","absolute"),s.height(l),s.width(a),s.css("z-index","9999"),s.css("top",i.top),s.css("left",i.left),n.table.append(s),n.openedMonthCellPopup=s})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var s=t.getAttribute("data-date");return i<(s=this._getDateByString(s))?-1:i>s?1:i==s?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData&&1e4*(e.to.dateData-e.from.dateData)>1e4*(t.to.dateData-t.from.dateData))return-1;return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)&&1e4*(e.to-e.from)>1e4*(t.to-t.from))return-1;return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var s=i._resources.indexOf(e.resourceId),r=i._resources.indexOf(t.resourceId);return s==r?0:s<r?-1:s>r?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){if(t[i].row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){if(t[i].column==e)return!0}return!1},getMaxTimelineAppointments:function(t,i,s,r){if(0==t.length)return 1;var n=this,o=n._views[n._view].type,a=(n._views[n._view],1),l=s,d=this.getMinutesPerScale(),h=null,c=null,u="";for(var p in t){if("indexOf"==p)break;var m=t[p];h||(h=m.from.dateData),c||(c=m.to.dateData),m.from.dateData<h&&(h=m.from.dateData),m.to.dateData>c&&(c=m.to.dateData),u+=m.appointment.id}if(u+=h,i[u+=c])return i[u];h=new e.jqx.date(h,n.timeZone),c=new e.jqx.date(c,n.timeZone);for(l=h;h<c;){var f=l;if("timelineMonthView"===o)var g=f.addDays(1);else g=f.addMinutes(d);var v=0;for(var p in t){if("indexOf"==p)break;var x=(m=t[p]).from,w=m.to;e.jqx.scheduler.utilities.rangeIntersection(f,g,x,w)&&v++}a=Math.max(v,a),l="timelineMonthView"===o?l.addDays(1,!1):l.addMinutes(d,!1)}return i[u]=a,a},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,s=this.getViewStart().clone(),r=this.getViewEnd();s<r;){var n=s,o=e.jqx.scheduler.utilities.getEndOfDay(n),a=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to;e.jqx.scheduler.utilities.rangeIntersection(n,o,h,c)&&a++}i=Math.max(a,i),s=s.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){this._views[this._view].type,this._views[this._view];var i=this;if(0==t.length)return 1;var s=function(t){for(var s=1,r=i.getViewStart(),n=i.getViewEnd();r<n;){var o=r,a=e.jqx.scheduler.utilities.getEndOfDay(o),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var u=h.from,p=h.to;e.jqx.scheduler.utilities.rangeIntersection(o,a,u,p)&&l++}}s=Math.max(l,s),r=r.addDays(1,!1)}return s};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var r=s(t);else{for(var n=1,o=0;o<this._resources.length;o++){for(var a=this._resources[o],l=new Array,d=0;d<t.length;d++)t[d].appointment&&t[d].appointment.resourceId==a?l.push(t[d]):null!=t[d].resourceId&&t[d].resourceId==a&&l.push(t[d]);r=s(l);n=Math.max(n,r)}r=n}return r},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){this._views[this._view].type;var i=this._views[this._view],s=30,r="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale),r){case"sixtyMinutes":case"hour":s=60;break;case"thirtyMinutes":case"halfHour":s=30;break;case"fifteenMinutes":case"quarterHour":s=15;break;case"tenMinutes":s=10;break;case"fiveMinutes":s=5}if(0==t.length)return 1;for(var n=1,o=t[0].from.clone(),a=o.addMinutes(s),l=e.jqx.scheduler.utilities.getEndOfDay(o);o<l;){var d=o,h=a,c=0;for(var u in t){if("indexOf"==u)break;var p=t[u];if(p.from||p.to){var m=p.from,f=p.to;e.jqx.scheduler.utilities.rangeIntersection(d,h,m,f)&&c++}}n=Math.max(c,n),o=o.addMinutes(s,!1),a=a.addMinutes(s,!1)}return n},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this._hostWidth,i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,this.rtl&&(t+=3),i=t);if(null!=this.columns&&null!=this.columns.records){var s=this,r=!1,n=new Array;e.each(this.columns.records,function(e,r){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){r=0,"hidden"==s.vScrollBar[0].style.visibility||s.scrollBarSize;0==s.scrollBarSize&&0,r=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(r=parseFloat(this._percentagewidth)*i/100),r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),t-=Math.round(r)}else"auto"==this.width||this._width?this.text:t-=this.width;"auto"==this._width&&(n[n.length]=this)}});var o=this.columnsheader.find("#columntable"+this.element.id);if(0!=o.length){var a=0,l=(o.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(o,d){var h=this.element,c=!1,u=this.width,p=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(u=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,u=Math.round(u),c=!0),"auto"==this.width||this._width||c)if(c)u<this.minwidth&&"auto"!=this.minwidth&&(u=this.minwidth,this.width=u),u>this.maxwidth&&"auto"!=this.maxwidth&&(u=this.maxwidth,this.width=u),parseInt(h[0].style.width)!=u&&(h.width(u),this.width=u);else{var m=s.columns.records.length,f=s._views[s._view].type;if("dayView"===f||"weekView"===f){var g=s._views[s._view];g.timeRuler?(g.timeRuler.timeZones&&(m-=g.timeRuler.timeZones.length),m--):m--}else"monthView"===f&&s._views[s._view].showWeekNumbers&&m--;var v=Math.floor(t*(1/m));if(s.resources&&s.resources.resourceColumnWidth&&"auto"!=s.resources.resourceColumnWidth?v=s.resources.resourceColumnWidth:s.resources&&s.resources.resourceColumnWidth&&"auto"==s.resources.resourceColumnWidth&&"horizontal"==s.resources.orientation&&(v=Math.round((2+t)*(1/s._getColumnsLengthPerView()))),(a+=t*(1/m)-v)>=1&&(a-=1,v++),a>=.5&&o==s.columns.records.length-1&&v++,"agendaView"==f&&(v=t/n.length,v++),v<0){var x=e("<span>"+this.text+"</span>");e(document.body).append(x),v=10+x.width(),x.remove()}v<this.minwidth&&(v=this.minwidth),v>this.maxwidth&&(v=this.maxwidth),this._width="auto",this.width=parseInt(v),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=l&&h.css("left",l),this.hidden||(l+=this.width),this._requirewidthupdate=!0,p!==this.width&&(r=!0)}),this.columnsheader.width(2+l),o.width(this.columnsheader.width()),this._resizecolumnGroups(),r&&(this._renderrows(),s._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var s=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');s[0].cells=new Array;var r=0;this._hostWidth||(this._hostWidth=this.host.width());var n=this._hostWidth,o=n,a=this.getRows().length,l=this.rowsHeight;this.isTouchDevice()&&(l=this.touchRowsHeight),a*l>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(n-=parseInt(this.scrollBarSize)+6,this.rtl&&(n+=3),o=n);var d=new Array,h=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){t=0;(t=parseFloat(this.width)*o/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),n-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;null!=this.width&&"auto"!=this.width||(h[h.length]=this),d[d.length]=this}),this.rtl)for(var c=0;c<d.length;c++)this.columns.replace(c,d[c]);var u=this.headerZIndex,p=t.columnsHeight,m=0,f=document.createDocumentFragment();e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-=i.level*t.columnsHeight}(this.datafield,this),p=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var c=t.rtl?u++:u--,g=document.createElement("div");g.setAttribute("role","columnheader"),g.style.position="absolute",g.style.zIndex=c,g.style.height="100%",g.className=d;var v=e(g);t.rtl&&0===a&&(v[0].style.borderLeftColor="transparent"),t.columnGroups?(v[0].style.height=p+"px",v[0].style.bottom="0px"):this.timeColumn||(v[0].style.height=-1+p+"px"),this.uielement=v,this.element=v,""!=this.classname&&this.classname&&v.addClass(this.classname);var x=this.width,w=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(x=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,x=Math.round(x),w=!0),"auto"==this.width||this._width||w)if(w)x<this.minwidth&&"auto"!=this.minwidth&&(x=this.minwidth),x>this.maxwidth&&"auto"!=this.maxwidth&&(x=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),v.width(x),this.width=x;else{var y=t.columns.records.length,b=t._views[t._view].type;if("dayView"===b||"weekView"===b){var _=t._views[t._view];_.timeRuler?(_.timeRuler.timeZones&&(y-=_.timeRuler.timeZones.length),y--):y--}else"monthView"===b&&t._views[t._view].showWeekNumbers&&y--;var j=Math.floor(n*(1/y));if(t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?j=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(j=Math.round((2+n)*(1/t._getColumnsLengthPerView()))),(m+=n*(1/y)-j)>=1&&(m-=1,j++),m>=.5&&a==t.columns.records.length-1&&j++,isNaN(j)&&(j=this.minwidth),"agendaView"==b&&(j=n/h.length,j++),j<0){var q=e("<span>"+this.text+"</span>");e(document.body).append(q),j=10+q.width(),q.remove()}j<this.minwidth&&(j=this.minwidth),j>this.maxwidth&&(j=this.maxwidth),this._width="auto",this.width=parseInt(j),x=this.width,v.width(this.width)}else x<this.minwidth&&"auto"!=this.minwidth&&(x=this.minwidth),x>this.maxwidth&&"auto"!=this.maxwidth&&(x=this.maxwidth),v[0].style.width=parseInt(x)+"px";this.timeColumn&&(v.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&a<i.timeRuler.timeZones.length&&v.css("border-right-color","transparent"),1==this.tableRows&&v.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&v.css("display","none");e(v.children()[0]);s[0].cells[a]=v[0];var T=t._rendercolumnheader(this.text,this.align,p,t);v[0].innerHTML=T,f.appendChild(v[0]);v[0].style.left=r+"px",this.hidden||(r+=x)}),s[0].appendChild(f),this.columnsheader[0].style.width=r>0?2+r+"px":r+"px",this._columnswidth=r,this.columnsrow=s,t.columnsheader.append(s),s[0].style.width=r+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,s=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(s+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var o=0;o<this.columnGroups.length;o++){var a=this.columnGroups[o],l=a.level;if(l===n){var d=l*this.columnsHeight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=c(s):s.hidden||(t+=s.width,h=Math.min(parseInt(s.element[0].style.left),h))}return t};a.width=c(a),a.left=h;var u=this.columnsHeight,p=t--,m=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+s+'"></div>'),f=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));a.renderer&&a.renderer(m,a.text),m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=u+"px",m[0].style.width=-1+a.width+"px",r.append(m),a.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):(t+=n.width,s=Math.min(parseInt(n.element[0].style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsHeight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)if("filterable"==i)t._render();else if("view"==i)t.setView(r);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(var n=0;n<t.views.length;n++)"string"===e.type(t.views[n])?t._views.push({type:t.views[n]}):t._views.push(t.views[n]);for(n=0;n<t._views.length;n++)if(t._views[n].type==t.view){t._view=n;break}t._render()}else if("height"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(s,r,t.host),t._editDialog&&e.jqx.utilities.setTheme(s,r,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(s,r,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):"date"===i?t.navigateTo(r):t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px");var n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var o=this.columnRenderer(e,t,i,n);if(null!=o)return o}return n}})}(jqxBaseFramework),function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(t,i){var s=!1;return e.each(t,function(e,t){if(t===i)return s=!0,!1}),s},getStartOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),0,0,0);return i.timeZone=t.timeZone,i},getEndOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),23,59,59);return i.timeZone=t.timeZone,i},getDaysCount:function(e,t){for(var i=1;e<t;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),s=t.firstDay;i<s&&(i+=7);var r=i-s;return e.addDays(-r).date()},getEndOfWeek:function(e,t,i){return this.getStartOfWeek(e,t,i).addDays(7)},getEndOfMonth:function(t,i){var s=t.daysInMonth(),r=new e.jqx.date(t.year(),t.month(),s,23,59,59);return r.timeZone=t.timeZone,r},rangeIntersection:function(e,t,i,s){var r=e.dateData,n=i.dateData,o=t.dateData,a=s.dateData;if(n>=r&&n<o)return!0;if(n<r&&a>r)return!0;if(r==n||o==a)return!0;if(r<n){if(o>n&&o<a)return!0;if(o>a)return!0}else{if(a>r&&a<o)return!0;if(a>o)return!0}return!1},rangeContains:function(e,t,i,s){return e<=i&&s<=t},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((i-new Date(t.getFullYear(),0,1))/e.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(t,i){var s=new Date(t,i,1);return[e.jqx.scheduler.utilities.getWeekday(s),e.jqx.scheduler.utilities.getMonthDays(s)]},getMonthDays:function(t){var i=t.getMonth();return 1==i&&e.jqx.scheduler.utilities.isLeapYear(t)?29:e.jqx.scheduler.utilities.monthDays[i]},getWeekday:function(e){return[6,0,1,2,3,4,5][e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,i=new Date(e),s=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],r=0;r<s.length;r++)t=s[r],!/[TZ]/.test(t)&&t<10&&(s[r]="0"+String(t));return s.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i,this.that=this;var s=this;this.getHours=function(){return s.hour},this.getMinutes=function(){return s.minute},this.getSeconds=function(){return s.second},this.getTime=function(){return 1e3*(60*s.hour*60+60*s.minute+s.second)}}},e.jqx.scheduler.appointment=function(){var t=this;if(t.from=new e.jqx.date,t.to=(new e.jqx.date).addHours(1),t.subject="",t.description="",t.location="",t.tooltip="",t.hidden=!1,t.resourceId=null,t.id="",t.background=null,t.color=null,t.borderColor=null,t.status="busy",t.style=null,t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.occurrenceEnumerator=null,t.rootAppointment=null,t.hiddenByResourceId=!1,t.draggable=!0,t.resizable=!0,t.recurrentAppointment=!1,t.allDay=!1,t.readOnly=!1,t.showStatus=!0,t.timeZone=null,t.scheduler=null,t.elements=new Array,t.appointmentObject=!0,t.duration=function(){var i=1e4*(t.to-t.from);return new e.jqx.timeSpan(i)},t.toJSON=function(e){var i=function(e){return(e<10?"0":"")+e},s=function(e,t){return e?t?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"Z":""},r={};return r.id=t.id,r.from=s(t.from.toDate(),e),r.to=s(t.to.toDate(),e),r.subject=t.subject,r.status=t.status,r.location=t.location,r.description=t.description,r.title=t.title,r.resourceId=t.resourceId,t.recurrencePattern?r.recurrencePattern=t.recurrencePattern.toString():r.recurrencePattern="",t.recurrenceException&&t.recurrenceException.length>0?r.recurrenceException=function(){for(var e="",i=0;i<t.recurrenceException.length;i++)e+=t.recurrenceException[i].toString(),i<t.recurrenceException.length-1&&(e+=",");return e}():r.recurrenceException="",r.dtstamp=s(new Date,e),JSON.stringify(r)},t.toString=function(e){var i=function(e){for(var t="";e.length>75;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e},s=function(e){return(e<10?"0":"")+e},r=function(e,t){return e?t?""+e.getFullYear()+s(e.getMonth()+1)+s(e.getDate())+"T"+s(e.getHours())+s(e.getMinutes())+s(e.getSeconds()):""+e.getUTCFullYear()+s(e.getUTCMonth()+1)+s(e.getUTCDate())+"T"+s(e.getUTCHours())+s(e.getUTCMinutes())+s(e.getUTCSeconds())+"Z":""},n=t.status;return n||(n="CONFIRMED"),"busy"==n.toLowerCase()&&(n="CONFIRMED"),"tentative"==n.toLowerCase()&&(n="TENTATIVE"),"free"==n.toLowerCase()&&(n="CANCELLED"),"outOfOffice"==n.toLowerCase()&&(n="CANCELLED"),"BEGIN:VEVENT\nUID:"+t.id+"\nDTSTAMP:"+r(new Date,e)+"\n"+i("TITLE:"+t.subject)+"\nDTSTART:"+r(t.from.toDate(),e)+"\nDTEND:"+r(t.to.toDate(),e)+"\n"+(t.recurrencePattern?"RRULE:"+t.recurrencePattern.toString()+"\n":"")+(t.recurrenceException&&t.recurrenceException.length>0?"EXDATE:"+function(){for(var i="",s=0;s<t.recurrenceException.length;s++)i+=r(t.recurrenceException[s].toDate(),e),s<t.recurrenceException.length-1&&(i+=",");return i}()+"\n":"")+(t.subject?i("SUMMARY:"+t.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(t.status?i("STATUS:"+n)+"\n":"")+(t.description?i("DESCRIPTION:"+t.description)+"\n":"")+(t.location?i("LOCATION:"+t.location)+"\n":"")+"END:VEVENT"},t.range=function(){return t.allDay?{from:e.jqx.scheduler.utilities.getStartOfDay(t.from),to:e.jqx.scheduler.utilities.getEndOfDay(t.to)}:{from:t.from,to:t.to}},t.clearRecurrence=function(){t.recurrencePattern&&(t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.hidden=!1)},t.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},t.cloneAppointmentAttributes=function(e){e.subject=t.subject,e.description=t.description,e.location=t.location,e.tooltip=t.tooltip,e.resourceId=t.resourceId,e.category=t.category,e.status=t.status,e.rootAppointment=t,e.color=t.color,e.borderColor=t.borderColor,e.background=t.background,e.hidden=t.hidden,e.timezone=t.timeZone,e.style=t.style,e.hiddenByResourceId=t.hiddenByResourceId},t.createOccurrence=function(i){if(null==i)return null;var s=new e.jqx.scheduler.appointment;s.allDay=t.allDay;var r=t.duration();return t.allDay&&(r=new e.jqx.timeSpan(1e4*(t.to-t.from))),s.from=i,s.to=i.add(r),s.occurrenceFrom=i.clone(),s.subject=t.subject,s.description=t.description,s.location=t.location,s.tooltip=t.tooltip,s.resourceId=t.resourceId,s.category=t.category,s.status=t.status,s.rootAppointment=t,s.color=t.color,s.draggable=t.draggable,s.resizable=t.resizable,s.borderColor=t.borderColor,s.background=t.background,s.recurrentAppointment=!0,s.timeZone=t.timeZone,s.style=t.style,s.hiddenByResourceId=t.hiddenByResourceId,s.boundAppointment=t.boundAppointment,t.hiddenByResourceId&&(s.hidden=!0),s.id=t.id+"."+e.jqx.scheduler.utilities.guid(),t.hidden=!0,t.occurrenceIndex++,s},t.clone=function(){var i=new e.jqx.scheduler.appointment;return i.allDay=t.allDay,i.from=t.from.clone(),i.to=t.to.clone(),i.subject=t.subject,i.description=t.description,i.location=t.location,i.tooltip=t.tooltip,i.resourceId=t.resourceId,i.category=t.category,i.status=t.status,i.color=t.color,i.borderColor=t.borderColor,i.background=t.background,i.style=t.style,i.timeZone=t.timeZone,i.hiddenByResourceId=t.hiddenByResourceId,t.hiddenByResourceId&&(i.hidden=!0),i.id=t.id+"."+e.jqx.scheduler.utilities.guid(),i},t.isRecurrentAppointment=function(){return t.recurrentAppointment||null!=t.recurrencePattern},t.anyExceptions=function(){return null!=t.exceptions&&t.exceptions.length>0},t.anyOccurrences=function(){return null!=t.occurrenceEnumerator&&t.occurrenceEnumerator.getNextAppointment()},t.isException=function(){var e=t.rootAppointment||this;if(!e.recurrenceException)return!1;for(var i=0;i<e.recurrenceException.length;i++){var s=e.recurrenceException[i];if(t.occurrenceFrom&&s.equals(t.occurrenceFrom))return!0}return!1},t.getOccurrences=function(i,s){t.occurrenceIndex=0;var r=null!==i?i:t.from,n=new e.jqx.scheduler.recurrentAppointmentsList(t,t.calendar,r,s,t.scheduler);return t.occurrences=n.list,n.list},1===arguments.length)if("object"==e.type(arguments[0]))for(var i in arguments[0]){var s=arguments[0][i];void 0!==this[i]&&(this[i]=s)}else t.from=arguments[0],t.to=new e.jqx.date(t.from).addHours(1);else 2===arguments.length?(t.from=arguments[0],t.to=arguments[1]):3===arguments.length?(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2]):3===arguments.length&&(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2],t.description=arguments[3]);null!=t.recurrencePattern&&t.recurrencePattern.setFrom(t.from)},e.jqx.scheduler.recurrentAppointmentsList=function(){var t=this;return t.recurrentAppointment=null,t.currentTime=null,t.calendar=e.jqx.scheduler.calendar,t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31),t.foundItems=0,t.list=new Array,t.scheduler=null,t.getOccurrences=function(i,s,r){return null==i?t.list:new e.jqx.scheduler.recurrentAppointmentsList(i,t.calendar,s,r).list},t.current=function(){return t.recurrentAppointment.createOccurrence(t.currentTime)},t.fillList=function(){t.currentTime=null,t.foundItems=0,t.list=new Array;var e=t.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;t.getNextAppointment(e);){var i=t.current();i&&t.list.push(i)}},t.getNextAppointment=function(i){if(null==t.recurrentAppointment)return!1;this.scheduler._views[this.scheduler._view].type;var s=this.scheduler._views[this.scheduler._view],r=0;switch(i.freq){case"weekly":r=7;break;case"monthly":r=31;break;case"yearly":r=365}for(var n=0;n<4294967295;n++){var o=i.getNewOccurenceDate();if(o){if(i.currentTime=o,i.to<o&&i.to.addDays(r)>=o||t.to<o&&t.to.addDays(r)>=o)return t.currentTime=null,!0;if(e.jqx.scheduler.utilities.getEndOfDay(i.to).addDays(r)<o||e.jqx.scheduler.utilities.getEndOfDay(t.to).addDays(r)<o)return t.currentTime=null,!1;var a=!0;if(a=t.getCanSetTime(i,o,a),i.canCreateNewOccurence(o,t.calendar)){var l=!0;!1===s.showWeekends&&(6!=o.dayOfWeek()&&0!=o.dayOfWeek()||(l=!1)),l&&t.foundItems++}if(a)return t.currentTime=o,!(t.foundItems>i.count)}}return!1},t.getCanSetTime=function(e,i,s){return e.canCreateNewOccurence(i,t.calendar)||(s=!1),i<t.from&&i.add(t.recurrentAppointment.duration())<=t.from&&(s=!1),t.to<=i&&(s=!1),s},t.isException=function(e,i,s){for(var r=t.recurrentAppointment.exceptions,n=0;n<r.length;n++)if(s.isDateInExceptionAppointment(e,i,r[n])&&-1===s.newExceptions.indexOf(r[n]))return!0;return!1},arguments&&arguments.length>0&&(t.recurrentAppointment=arguments[0],arguments[1]&&(t.calendar=arguments[1]),arguments[2]&&(t.from=arguments[2]),arguments[3]&&(t.to=arguments[3]),arguments[4]&&(t.scheduler=arguments[4]),void 0===arguments[2]&&(t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31)),t.scheduler&&t.scheduler.localization&&(t.calendar.firstDay=t.scheduler.localization.firstDay),t.fillList()),t},e.jqx.scheduler.recurrencePattern=function(){var t=this,i={from:new e.jqx.date(0),to:new e.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return e.extend(!0,t,i),t.getNewOccurenceDate=function(){var i=function(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s},s=function(e,t){var i=e%t;return i*t<0?i+t:i},r=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i},n=[0,31,60,91,121,152,182,213,244,274,305,335,366],o=[0,31,59,90,120,151,181,212,243,273,304,334,365],a=t.from.year(),l=[6,0,1,2,3,4,5],d=function(e){t.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,t.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366;new Date(e,0,1);var i=l[new Date(e,0,1).getDay()],s=function(){for(var e=[],t=0;t<55;t++)e=e.concat(r(7));return e}();365==t.yearlen?(t.wdaymask=s.slice(i),t.mrange=[].concat(o)):(t.wdaymask=s.slice(i),t.mrange=[].concat(n))};switch(d(a),t.freq){case"daily":default:var h=t.from.add(new e.jqx.timeSpan(t.step*t.interval,0,0,0));return t.step++,h;case"weekly":if(t.byweekday){h=new e.jqx.date(t.from,t.timeZone);var c=l[t.from.dayOfWeek()];(h=(h=(h=h.addDays(7*t.step)).addDays(t.byweekday[t.current])).addDays(-c))<t.from&&(h=null),t.current++,null==t.byweekday[t.current]&&(t.current=0,t.step++)}return h;case"monthly":if(t.bynweekday.length>0){(h=new e.jqx.date(t.from.year(),t.from.month(),1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((h=h.addMonths(t.step*t.interval)).year());var u=h.month(),p=(x=t.mrange.slice(u-1,u+1))[0],m=x[1];m-=1,t.nwdaymask=i(0,t.yearlen),t.step++;for(var f=0;f<t.bynweekday.length;f++){var g=t.bynweekday[f][0];(w=t.bynweekday[f][1])<0?(b=m+7*(w+1),b-=s(t.wdaymask[b]-g,7)):(b=p+7*(w-1),b+=s(7-t.wdaymask[b]+g,7)),p<=b&&b<=m&&(t.nwdaymask[b]=1)}var v=b+1-p;(h=new e.jqx.date(t.from.year(),t.from.month(),v,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addMonths((t.step-1)*t.interval)}else{if(t.bymonthday.length>0)(h=new e.jqx.date(t.from.year(),t.from.month(),t.bymonthday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addMonths(t.step*t.interval),t.current++,t.bymonthday[t.current]||(t.current=0,t.step++);else(h=new e.jqx.date(t.from.year(),t.from.month(),t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addMonths(t.step*t.interval),t.step++}return h;case"yearly":if(t.bymonth&&t.bymonth.length>0)if(t.bynweekday.length>0){(h=new e.jqx.date(t.from.year(),t.bymonth[t.current],1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((h=h.addYears(t.step*t.interval)).year());var x;u=h.month(),p=(x=t.mrange.slice(u-1,u+1))[0],m=x[1];m-=1,t.nwdaymask=i(0,t.yearlen);for(f=0;f<t.bynweekday.length;f++){var w;g=t.bynweekday[f][0];(w=t.bynweekday[f][1])<0?(b=m+7*(w+1),b-=s(t.wdaymask[b]-g,7)):(b=p+7*(w-1),b+=s(7-t.wdaymask[b]+g,7)),p<=b&&b<=m&&(t.nwdaymask[b]=1)}v=b+1-p;(h=new e.jqx.date(h.year(),t.bymonth[t.current],v,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,t.step++}else{if(t.byyearday&&t.byyearday.length>0)(h=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.byyearday[t.currentYearDay],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.currentYearDay++,t.byyearday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.bymonth[t.current]||(t.current=0,t.step++));else(h=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.from.day(),t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.current++,t.bymonth[t.current]||(t.current=0,t.step++)}else if(t.byyearday&&t.byyearday.length>0)(h=new e.jqx.date(t.from.year(),t.from.month(),t.byyearday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.current++,t.byyearday[t.current]||(t.current=0,t.step++);else if(null!=t.byweekno){h=t.from.addYears(t.step*t.interval);if(h=function(i,s){var r=1,n=new e.jqx.date(s.year(),1,1,s.hour(),s.minute(),s.second());for(n.timeZone=t.timeZone;r!=i&&(n=n.addDays(7),!(++r>53)););for(;e.jqx.scheduler.utilities.getWeekday(n.toDate())!=t.wkst;)n=n.addDays(1);return n}(t.byweekno[t.current],h),t.byweekday){for(var y=h,b=0;b<7&&l[y.dayOfWeek()]!==t.byweekday[t.currentYearDay];b++)y=y.addDays(1);h=y,t.currentYearDay++,t.byweekday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.byweekno[t.current]||(t.current=0,t.step++))}else t.current++,t.byweekno[t.current]||(t.current=0,t.step++)}else{(h=new e.jqx.date(t.from.year(),t.month,t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.step++}return h}},t.isDateInExceptionAppointment=function(e,i,s){switch(t.freq){case"daily":case"weekly":default:return e.year()==s.from.year()&&e.dayOfYear()==s.from.dayOfYear()}},t.createNewPattern=function(){var i;return t.ical?i=new e.jqx.scheduler.recurrencePattern(t.ical):((i=new e.jqx.scheduler.recurrencePattern).from=t.from,i.to=t.to,i.count=t.count,i.interval=t.interval,i.exceptions=t.exceptions,i.newExceptions=t.newExceptions,i.weekDays=t.weekDays,i.isEveryWeekDay=t.isEveryWeekDay,i.month=t.month,i.day=t.day,i.current=t.current,i.currentYearDay=t.currentYearDay,i.step=t.step,i.days=t.days,i.bynweekday=t.bynweekday,i.bymonth=t.bymonth,i.bymonthday=t.bymonthday,i.byyearday=t.byyearday,i.byweekno=t.byweekno,i.byweekday=t.byweekday,i.freq=i.freq,i.timeZone=i.timeZone,i)},t.equals=function(e){return t.from==e.from&&t.to==e.to&&t.count===e.count&&t.interval===e.interval&&t.day===e.day&&t.month===e.month},t.isDayOfWeekIncluded=function(i){var s=i.dayOfWeek();return e.jqx.scheduler.utilities.areWeekDaysIncluded(t.weekDays,s)},t.getWeekIndexFromDate=function(i,s){var r=s.firstDay,n=e.jqx.scheduler.utilities.getStartOfWeek(t.from,s,r),o=new e.jqx.timeSpan(i.subtract(n));return parseInt(o.days()/7)},t.canCreateNewOccurence=function(e,i){e.toDate();switch(t.freq){case"daily":default:return(!t.bymonth||-1!=t.bymonth.indexOf(e.month()))&&(!t.isEveryWeekDay||!!t.isDayOfWeekIncluded(e,i));case"weekly":var s=t.getWeekIndexFromDate(e,i);if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(s%t.interval!=0)return!1;if(t.weekDays=={}){var r=e;if(t.from.dayOfWeek()!=r.dayOfWeek())return!1}else if(!t.isDayOfWeekIncluded(e,i))return!1;break;case"monthly":case"yearly":if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(e<t.from)return!1}return!0},t.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var i={YEARLY:0,MONTHLY:1,WEEKLY:2,DAILY:3,HOURLY:4,MINUTELY:5,SECONDLY:6};t.freq=i[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),t.byweekday=new Array;return e.each(this.weekDays,function(){var e=this;--e<0&&(e=6),t.byweekday.push(e)}),null!=this.byyearday&&(t.byyearday=this.byyearday),null!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=["MO","TU","WE","TH","FR","SA","SU"][this.wkst],t.interval=this.interval,new e.jqx.ICalRule(t).toString()},t.init=function(i){var s=new e.jqx.ICalRule(t.ical,i),r=s.options;if(t.from=r.dtstart?new e.jqx.date(r.dtstart,t.timeZone):t.from,t.count=null!=r.count?r.count:t.count,t.freq=s.FREQUENCIES[r.freq].toLowerCase(),t.interval=null!=r.interval?r.interval:t.interval,t.to=r.until?new e.jqx.date(r.until,t.timeZone):t.to,t.wkst=r.wkst,t.bymonth=r.bymonth,t.bymonth&&t.bymonth.length>0?t.month=t.bymonth[0]:t.month=t.from.month(),t.day=t.from.day(),null!=r.byweekday){t.weekDays={};for(var n=0;n<r.byweekday.length;n++){switch(r.byweekday[n]){case 0:t.weekDays.Monday=1;break;case 1:t.weekDays.Tuesday=2;break;case 2:t.weekDays.Wednesday=3;break;case 3:t.weekDays.Thursday=4;break;case 4:t.weekDays.Friday=5;break;case 5:t.weekDays.Saturday=6;break;case 6:t.weekDays.Sunday=0}}t.byweekday=r.byweekday}return t.byweekno=r.byweekno,r.bynweekday&&(t.bynweekday=r.bynweekday),null!=r.bymonthday&&(t.bymonthday=r.bymonthday.sort(),t.bymonthday[0]&&(t.day=t.bymonthday[0])),null!=r.byyearday&&(t.day=r.byyearday[0],t.byyearday=r.byyearday.sort()),r},t.setFrom=function(e){t.from=e.clone(),t.ical&&t.init(e)},1==arguments.length&&(t.ical=arguments[0],t.init()),t},e.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},e.jqx.ICalRule=function(t,i){var s=this,r=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i},n=function(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s},o=function(e){return!(e instanceof Array&&0==e.length)&&Boolean(e)},a=function(e,t){return-1!=e.indexOf(t)},l=([].concat(n(1,31),n(2,28),n(3,31),n(4,30),n(5,31),n(6,30),n(7,31),n(8,31),n(9,30),n(10,31),n(11,30),n(12,31),n(1,7)),[].concat(n(1,31),n(2,29),n(3,31),n(4,30),n(5,31),n(6,30),n(7,31),n(8,31),n(9,30),n(10,31),n(11,30),n(12,31),n(1,7)),r(1,29)),d=r(1,30),h=r(1,31),c=r(1,32);[].concat(c,d,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),[].concat(c,l,c,h,c,h,c,c,h,c,h,c,c.slice(0,7));l=r(-28,0),d=r(-29,0),h=r(-30,0),c=r(-31,0);[].concat(c,d,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),[].concat(c,l,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),function(){for(var e=[],t=0;t<55;t++)e=e.concat(r(7))}();var u=function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new u(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return this.n&&(e=(i.n>0?"+":"")+String(i.n)+e),e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new u(0),this.TU=new u(1),this.WE=new u(2),this.TH=new u(3),this.FR=new u(4),this.SA=new u(5),this.SU=new u(6);var p={freq:null,dtstart:null,interval:1,wkst:s.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var t,i,r,n,o,l=this.origOptions,d=[];i=Object.keys(l),r=Object.keys(p);for(var h=0;h<i.length;h++)if(a(r,i[h])&&(t=i[h].toUpperCase(),o=[],!(null===(n=l[i[h]])||n instanceof Array&&!n.length))){switch(t){case"FREQ":n=s.FREQUENCIES[l.freq];break;case"WKST":n||(n=0),n=n.toString();break;case"BYWEEKDAY":t="BYDAY",n instanceof Array||(n=[n]);for(var c,m=0;m<n.length;m++)(c=n[m])instanceof u||(c=c instanceof Array?new u(c[0],c[1]):new u(c)),o[m]=c.toString();n=o;break;case"DTSTART":case"UNTIL":n=e.jqx.scheduler.utilities.timeToUntilString(n);break;default:if(n instanceof Array){for(m=0;m<n.length;m++)o[m]=String(n[m]);n=o}else n=String(n)}d.push([t,n])}var f=[];for(h=0;h<d.length;h++){var g=d[h];f.push(g[0]+"="+g[1].toString())}return f.join(";")},this.parseString=function(t){if(!(t=t.replace(/^\s+|\s+$/,"")).length)return null;var i,r,n,o,a,l=t.split(";"),d={};for(i=0;i<l.length;i++)if(n=(a=l[i].split("="))[0],o=a[1],""!=n)switch(n){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=o.indexOf(","))for(o=o.split(","),r=0;r<o.length;r++)/^[+-]?\d+$/.test(o[r])&&(o[r]=Number(o[r]));else/^[+-]?\d+$/.test(o)&&(o=Number(o));d[n=n.toLowerCase()]=o;break;case"BYDAY":var h,c,p,m=o.split(",");for(d.byweekday=[],r=0;r<m.length;r++)2==(p=m[r]).length?(c=s[p],d.byweekday.push(c)):(p=p.match(/^([+-]?\d)([A-Z]{2})$/),h=Number(p[1]),c=p[2],c=s[c].weekday,d.byweekday.push(new u(c,h)));break;case"FREQ":d.freq=s[o];break;case"WKST":d.wkst=s[o];break;case"DTSTART":d.dtstart=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"UNTIL":d.until=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"BYEASTER":d.byeaster=Number(o);break;default:throw new Error("Unknown ICalRule property '"+n+"'")}return s.options=d,d},"string"===e.type(t)?this.options=this.parseString(t):this.options=t||{};var m,f,g,v;t=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,s;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),n=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),s=0;s<n;){var o;s in r&&(o=r[s],e.call(i,o,s,r)),s++}}),Object.keys||(Object.keys=(m=Object.prototype.hasOwnProperty,f=!{toString:null}.propertyIsEnumerable("toString"),v=(g=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)m.call(e,t)&&s.push(t);if(f)for(i=0;i<v;i++)m.call(e,g[i])&&s.push(g[i]);return s})),this.origOptions={};var x=[],w=Object.keys(this.options),y=Object.keys(p);if(w.forEach(function(e){this.origOptions[e]=this.options[e],a(y,e)||x.push(e)},this),x.length)throw new Error("Invalid options: "+x.join(", "));if(!s.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));y.forEach(function(e){a(w,e)||(t[e]=p[e])});var b=this.options;if(null!==b.byeaster&&(b.freq=this.YEARLY),b.dtstart||(b.dtstart=new Date,b.dtstart.setMilliseconds(0)),i&&(b.dtstart=i.toDate()),null===b.wkst?b.wkst=this.MO.weekday:"number"==typeof b.wkst||(null==b.wkst?b.wkst=this.MO.weekday:b.wkst=b.wkst.weekday),null!==b.bysetpos){"number"==typeof b.bysetpos&&(b.bysetpos=[b.bysetpos]);for(var _=0;_<b.bysetpos.length;_++){if(0==(T=b.bysetpos[_])||!(-366<=T&&T<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(o(b.byweekno)||o(b.byyearday)||o(b.bymonthday)||null!==b.byweekday||null!==b.byeaster))switch(b.freq){case this.YEARLY:b.bymonth||(b.bymonth=b.dtstart.getMonth()+1),b.bymonthday=b.dtstart.getDate();break;case this.MONTHLY:b.bymonthday=b.dtstart.getDate();break;case this.WEEKLY:b.byweekday=e.jqx.scheduler.utilities.getWeekday(b.dtstart)}if(null===b.bymonth||b.bymonth instanceof Array||(b.bymonth=[b.bymonth]),null===b.byyearday||b.byyearday instanceof Array||(b.byyearday=[b.byyearday]),null===b.bymonthday)b.bymonthday=[],b.bynmonthday=[];else if(b.bymonthday instanceof Array){var j=[],q=[];for(_=0;_<b.bymonthday.length;_++){var T;(T=b.bymonthday[_])>0?j.push(T):T<0&&q.push(T)}b.bymonthday=j,b.bynmonthday=q}else b.bymonthday<0?(b.bynmonthday=[b.bymonthday],b.bymonthday=[]):(b.bynmonthday=[],b.bymonthday=[b.bymonthday]);if(null===b.byweekno||b.byweekno instanceof Array||(b.byweekno=[b.byweekno]),null===b.byweekday)b.bynweekday=null;else if("number"==typeof b.byweekday)b.byweekday=[b.byweekday],b.bynweekday=null;else if(b.byweekday instanceof u)!b.byweekday.n||b.freq>this.MONTHLY?(b.byweekday=[b.byweekday.weekday],b.bynweekday=null):(b.bynweekday=[[b.byweekday.weekday,b.byweekday.n]],b.byweekday=null);else{var C=[],S=[];for(_=0;_<b.byweekday.length;_++){var k=b.byweekday[_];"number"==typeof k?C.push(k):!k.n||b.freq>this.MONTHLY?C.push(k.weekday):S.push([k.weekday,k.n])}b.byweekday=o(C)?C:null,b.bynweekday=o(S)?S:null}if(null===b.byhour?b.byhour=b.freq<this.HOURLY?[b.dtstart.getHours()]:null:"number"==typeof b.byhour&&(b.byhour=[b.byhour]),null===b.byminute?b.byminute=b.freq<this.MINUTELY?[b.dtstart.getMinutes()]:null:"number"==typeof b.byminute&&(b.byminute=[b.byminute]),null===b.bysecond?b.bysecond=b.freq<this.SECONDLY?[b.dtstart.getSeconds()]:null:"number"==typeof b.bysecond&&(b.bysecond=[b.bysecond]),b.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],b.byhour)for(_=0;_<b.byhour.length;_++)for(var I=b.byhour[_],D=0;D<b.byminute.length;D++)for(var P=b.byminute[D],A=0;A<b.bysecond.length;A++){var M=b.bysecond[A];this.timeset.push(new e.jqx.scheduler.utilities.Time(I,P,M))}e.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseFloat(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},exportData:function(t){if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var i=this.exportSettings.serverURL,s=this.exportSettings.characterSet,r=this.exportSettings.fileName,n=this.exportSettings.ICSXWRCALNAME,o=this.exportSettings.ICSXWRCALDESC;void 0===r&&(r="jqxScheduler");var a=this;if("ical"!=t&&"ics"!=t){w=this.getDataAppointments();var l=new Array,d={},h={},c=this.host.find(".jqx-grid-cell:first");c.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),c.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var u="cell",p=1,m=1,f=e(this.columns.records[0].element),g=0;e.each(this.appointmentDataFields,function(e,i){if(d[i]={},d[i].text=i,d[i].width=100,d[i].formatString="",d[i].localization=a.schedulerLocalization,"from"==e||"to"==e?(d[i].type="date",d[i].formatString=a.exportSettings.dateTimeFormatString):d[i].type="string",d[i].cellsAlign="left",l.push(d[i]),u="cell"+p,"html"==t||"xls"==t||"pdf"==t){var s=function(e,s,r,n,o,l,c,u,p){h[e]={},null!=s&&(h[e]["font-size"]=s.css("font-size"),h[e]["font-weight"]=s.css("font-weight"),h[e]["font-style"]=s.css("font-style"),h[e]["background-color"]=a._getexportcolor(s.css("background-color")),h[e].color=a._getexportcolor(s.css("color")),h[e]["border-color"]=a._getexportcolor(s.css("border-top-color")),r?h[e]["text-align"]="left":(h[e]["text-align"]="left",h[e].formatString="",h[e].dataType="string","from"!=c&&"to"!=c||(h[e].dataType="date",h[e].formatString=a.exportSettings.dateTimeFormatString)),"html"!=t&&"pdf"!=t||(h[e]["border-top-width"]=s.css("border-top-width"),h[e]["border-left-width"]=s.css("border-left-width"),h[e]["border-right-width"]=s.css("border-right-width"),h[e]["border-bottom-width"]=s.css("border-bottom-width"),h[e]["border-top-style"]=s.css("border-top-style"),h[e]["border-left-style"]=s.css("border-left-style"),h[e]["border-right-style"]=s.css("border-right-style"),h[e]["border-bottom-style"]=s.css("border-bottom-style"),r?(0==g&&(h[e]["border-left-width"]=s.css("border-right-width")),h[e]["border-top-width"]=s.css("border-right-width"),h[e]["border-bottom-width"]=s.css("border-bottom-width")):(0==g&&(h[e]["border-left-width"]="1px"),h[e]["border-right-width"]="1px")),r&&(d[i].style=e),d[i].cellStyle=e)};s("column"+m,f,!0,0,0,0,e),m++,s(u,c,!1,0,0,0,e),p++}g++});var v=e.jqx.dataAdapter.ArrayExporter(w,d,h,i);if(null==r){this._renderrows();var x=v.exportTo(t);return setTimeout(function(){a.exporting=!1},50),x}v.exportToFile(t,r,i,s),this._renderrows(),setTimeout(function(){a.exporting=!1},50)}else if(a._resources.length>1&&r&&a.resourcesInMultipleICSFiles)for(var w=this.getAppointments(),y=0;y<a._resources.length;y++){for(var b=a._resources[y],_=new Array,j=0;j<w.length;j++){var q=w[j];q.resourceId==b&&_.push(q)}var T="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n";n&&(T+="X-WR-CALNAME:"+n+"\n"),o&&(T+="X-WR-CALDESC:"+o+"\n");for(var C=0;C<_.length;C++)T+=_[C].jqxAppointment.toString(),C<_.length-1&&(T+="\n");var S=(T+="\nEND:VCALENDAR").length,k=new Uint8Array(new ArrayBuffer(S));for(C=0;C<S;C++)k[C]=T.charCodeAt(C);var I=new Blob([k],{type:"application/calendar"});window.jqxSaveAs&&window.jqxSaveAs(I,r+"_"+b+".ics")}else{var w=this.getAppointments();for(T="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",y=0;y<w.length;y++)T+=w[y].jqxAppointment.toString(),y<w.length-1&&(T+="\n");S=(T+="\nEND:VCALENDAR").length,k=new Uint8Array(new ArrayBuffer(S));for(y=0;y<S;y++)k[y]=T.charCodeAt(y);I=new Blob([k],{type:"application/calendar"});if(!r)return T;window.jqxSaveAs&&window.jqxSaveAs(I,r+".ics")}},shadeColor:function(e,t){var i=parseInt(e.slice(1),16),s=t<0?0:255,r=t<0?-1*t:t,n=i>>16,o=i>>8&255,a=255&i;return"#"+(16777216+65536*(Math.round((s-n)*r)+n)+256*(Math.round((s-o)*r)+o)+(Math.round((s-a)*r)+a)).toString(16).slice(1)},hexToRgba:function(t,i){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),r=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<10;return null==this.alpha||t?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return null==i?s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16),toString:r}:null:(i>1?i=1:i<0&&(i=0),s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16),alpha:i,toString:r}:null)},getAppointmentColors:function(e){var t;t=e;var i;return{background:this.hexToRgba(e,this.appointmentOpacity).toString(),color:255-(.299*(i=this.hexToRgba(e,.7)).r+.587*i.g+.114*i.b)<105?"Black":"White",border:t}},getColors:function(e){-1==e&&(e=0);var t,i,s=this.resources?this.resources.colorScheme:null;s||(s="scheme01");for(var r=new Array,n=0;n<this.colorSchemes.length;n++)if(this.colorSchemes[n].name==s){r=this.colorSchemes[n].colors;break}for(;e>r.length-1;){var o=parseInt(s.substring(6));o>=27&&(o=0),r=r.concat(this.colorSchemes[o].colors),o++}r[e],t=this.hexToRgba(r[e],this.appointmentOpacity).toString(),i=r[e];var a;return{background:t,color:255-(.299*(a=this.hexToRgba(r[e],.7)).r+.587*a.g+.114*a.b)<105?"Black":"White",border:i}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var s=e[i].boundAppointment;s.toString=s.jqxAppointment.toString,t.push(s)}return t},getDataAppointments:function(){for(var t=this.uiappointments,i=new Array,s=0;s<t.length;s++){var r=t[s].boundAppointment,n={};e.each(this.appointmentDataFields,function(t,i){if(n[i]=r[t],"from"!=t&&"to"!=t||"date"!=e.type(r[t])&&(n[i]=r[t].toDate()),"recurrencePattern"==t&&r[t]&&(n[i]=r[t].toString()),"recurrenceException"==t&&r[t]){n[i]="";for(var s=0;s<r[t].length;s++)n[i]+=r[t][s].toString(),s<r[t].length-1&&(n[i]+=",")}try{JSON&&(n.toString=function(){return JSON.stringify(n)})}catch(e){}}),i.push(n)}return i},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this._rendercolumnheaders()},_refreshColumnTitles:function(){var t=this._views[this._view].type,i=this._views[this._view],s=this,r=new Array;if(s.columns.records[0].timeColumn&&r.push({}),i.timeRuler&&i.timeRuler.timeZones)for(var n=0;n<i.timeRuler.timeZones.length;n++)r.push({});for(var o=function(t,n,o){var a="halfHour";i.timeRuler&&i.timeRuler.scale&&(a=i.timeRuler.scale);var l=24,d=0,h=23;if(i.timeRuler){if(null!=i.timeRuler.scaleStartHour)d=parseInt(i.timeRuler.scaleStartHour);if(null!=i.timeRuler.scaleEndHour)h=parseInt(i.timeRuler.scaleEndHour);d<0&&(d=0),h<0&&(h=23),d>23&&(d=0),h>23&&(h=23),l=h-d+1}if(a)switch(a){case"sixtyMinutes":case"hour":1;break;case"thirdyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}new Array;var c="auto";i.timeRuler&&i.timeRuler.formatString&&(c=i.timeRuler.formatString);var u=d,p=l,m=t.addHours(u);if(s.rtl)m=t.addHours(h);for(var f=0;f<p;f++){var g=m.toDate();if("auto"===c)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())var v="hh tt";else v="hh:mm";else if(e.isFunction(c))v=c(g);else v=c;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,v,s.schedulerLocalization)),m=s.rtl?m.addMinutes(-60):m.addMinutes(60),r.push({}),s.columns.records[r.length-1].text=g}},a=(this.tableColumns,0);a<this.tableColumns;a++)switch(t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1))),r.push({}),this.columns.records[r.length-1].text=this._getDayName(l.dayOfWeek());break;case"weekView":case"monthView":for(n=0;n<7;n++){var d=this.schedulerLocalization.firstDay+n;(!1!==i.showWeekends||0!==n&&6!==n)&&(r.push({}),s.rtl&&(d=6-d),this.columns.records[r.length-1].text=this._getDayName(d))}break;case"timelineDayView":s._resources[a]&&s._resources[a];o(s.getViewStart());break;case"timelineWeekView":for(n=0;n<7;n++){d=this.schedulerLocalization.firstDay+n;(!1!==i.showWeekends||0!==n&&6!==n)&&(s.rtl&&(d=6-d),o(s.getViewStart().addDays(n),this._getDayName(d)))}break;case"timelineMonthView":var h=s.getViewStart(),c="auto";i.timeRuler&&i.timeRuler.formatString&&(c=i.timeRuler.formatString);for(n=0;n<41;n++){d=h.dayOfWeek();if(!1!==i.showWeekends||0!==d&&6!==d){s.rtl&&(d=6-d);var u=h.toDate();if("auto"===c){var p="dd";1===(u=h.toDate()).getDate()&&(p="MMM dd")}else if(e.isFunction(c))p=c(u);else p=c;e.jqx.dataFormat.isDate(u)&&(u=e.jqx.dataFormat.formatdate(u,p,s.schedulerLocalization)),h=h.addDays(1),r.push({}),s.columns.records[r.length-1].text=u}}}var m,f,g=s.columnsHeight;for(n=0;n<this.columns.records.length;n++){var v=this.columns.records[n];if(!v.timeColumn){s.columnGroups&&s.columnGroups.length&&(v.datafield,m=v,f=void 0,f=s.columnGroupslevel*s.columnsHeight,g=f-=m.level*s.columnsHeight);var x=null!=v.renderer?v.renderer(s.escape_HTML(v.text),v.align,g):s._rendercolumnheader(v.text,v.align,g,v);null==x&&(x=s._rendercolumnheader(s.escape_HTML(v.text),v.align,g,s)),null!=v.renderer&&(x=e(x)),e(v.element).html(x)}}},_editDialogLabel:function(){return this.theme?"jqx-scheduler-edit-dialog-label jqx-scheduler-edit-dialog-label-"+this.theme:"jqx-scheduler-edit-dialog-label"},_editDialogField:function(){return this.theme?"jqx-scheduler-edit-dialog-field jqx-scheduler-edit-dialog-field-"+this.theme:"jqx-scheduler-edit-dialog-field"},initRepeatPanels:function(t,i,s){var r=this,n=e("<div></div>");i.append(n);var o=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(n),a=e("<div class='"+r._editDialogField()+"'></div>").appendTo(n),l=e("<div></div>").appendTo(a),d=e("<div></div>");i.append(d);var h=e("<div></div>");d.append(h);h.detach(),r.editDialogFields.repeatEndPanel={},r.editDialogFields.repeatEndPanelContainer=h,function(t,i){var n=e("<div></div>").appendTo(t),o=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(n),a=e("<div class='"+r._editDialogField()+"'></div>").appendTo(n),l=e("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(a);l.jqxRadioButton({rtl:r.rtl,groupName:"end"+i,theme:r.theme,width:200,checked:!0}),r.editDialogFields[i].repeatEndNever=l,r.editDialogFields[i].repeatEndNeverLabel=o;var d=e("<div class='"+r._editDialogLabel()+"'></div>").appendTo(n),h=e("<div class='"+r._editDialogField()+"'></div>").appendTo(n),c=e("<div style='top: 3px;  position:relative;  float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(h);c.jqxRadioButton({rtl:r.rtl,groupName:"end"+i,theme:r.theme,width:60,checked:!1});var u=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(h);u.jqxNumberInput({rtl:r.rtl,decimal:10,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme});e("<div style='float: left; top: 3px;  margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(h);r.editDialogFields[i].repeatEndAfter=c,r.editDialogFields[i].repeatEndAfterValue=u,r.editDialogFields[i].repeatEndAfterLabel=d;var p=e("<div class='"+r._editDialogLabel()+"'></div>").appendTo(n),m=e("<div class='"+r._editDialogField()+"'></div>").appendTo(n),f=e("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(m);f.jqxRadioButton({rtl:r.rtl,groupName:"end"+i,theme:r.theme,width:60,checked:!1});var g=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(m);g.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:s,formatString:r.editDialogDateFormatString,width:150,theme:r.theme});g.jqxDateTimeInput("getInstance");r.editDialogFields[i].repeatEndOn=f,r.editDialogFields[i].repeatEndOnValue=g,r.editDialogFields[i].repeatEndOnLabel=p}(h,"repeatEndPanel");var c=function(){var t=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),i=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(t),s=e("<div class='"+r._editDialogField()+"'></div>").appendTo(t),n=e("<div style='float:left;'></div>").appendTo(s);n.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(s);r.editDialogFields.daily={},r.editDialogFields.daily.repeatDayInterval=n,r.editDialogFields.daily.repeatDayLabel=i,r.editDialogFields.daily.panel=t,t.detach(),r.editDialogFields.weekly={};var o=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),a=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(o),l=e("<div class='"+r._editDialogField()+"'></div>").appendTo(o),d=e("<div style='float:left;'></div>").appendTo(l);d.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(l);r.editDialogFields.weekly.repeatWeekInterval=d,r.editDialogFields.weekly.repeatWeekIntervalLabel=a;var h=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(o),c=e("<div class='"+r._editDialogField()+"'></div>").appendTo(o),u=e("<div style='float:left;'></div>").appendTo(c);r.editDialogFields.weekly.repeatDaysLabel=h,r.editDialogFields.weekly.repeatDays=new Array;for(var p=0;p<7;p++){var m=r._getDayName(p,"firstTwoLetters"),f=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+m+"</span></div>");u.append(f);var g=1==p;f.jqxCheckBox({rtl:r.rtl,checked:g,width:50,theme:r.theme}),r.editDialogFields.weekly.repeatDays.push(f)}r.editDialogFields.weekly.panel=o,o.detach(),r.editDialogFields.monthly={};var v=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),x=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(v),w=e("<div class='"+r._editDialogField()+"'></div>").appendTo(v),y=e("<div style='float:left;'></div>").appendTo(w);y.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(w);r.editDialogFields.monthly.repeatMonth=y,r.editDialogFields.monthly.repeatMonthLabel=x;var b=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(v),_=e("<div class='"+r._editDialogField()+"'></div>").appendTo(v),j=e("<div style='float:left;'></div>").appendTo(_),q=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(j);q.jqxRadioButton({rtl:r.rtl,groupName:"month",width:60,checked:!0,theme:r.theme});var T=e("<div style='float:left;'></div>").appendTo(j);T.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),r.editDialogFields.monthly.repeatMonthDay=T,r.editDialogFields.monthly.repeatMonthDayBool=q,r.editDialogFields.monthly.repeatMonthDayLabel=b;var C=e("<div class='"+r._editDialogLabel()+"'></div>").appendTo(v),S=e("<div class='"+r._editDialogField()+"'></div>").appendTo(v),k=e("<div style='float:left;'></div>").appendTo(S),I=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(k);I.jqxRadioButton({groupName:"month",width:25,checked:!1,theme:r.theme});var D=e("<div style='float:left;'></div>").appendTo(k),P=new Array;P.push(r.schedulerLocalization.editDialogRepeatFirstString),P.push(r.schedulerLocalization.editDialogRepeatSecondString),P.push(r.schedulerLocalization.editDialogRepeatThirdString),P.push(r.schedulerLocalization.editDialogRepeatFourthString),P.push(r.schedulerLocalization.editDialogRepeatLastString),D.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:P,autoDropDownHeight:!0,width:"auto",theme:r.theme});var A=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(k),M=new Array;for(p=0;p<7;p++){m=r._getDayName(p);M.push(m)}A.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:M,width:"auto",theme:r.theme}),r.editDialogFields.monthly.repeatDayOfWeekBool=I,r.editDialogFields.monthly.repeatDayOfWeek=A,r.editDialogFields.monthly.repeatDayOfWeekLabel=C,r.editDialogFields.monthly.repeatDayOfWeekType=D,r.editDialogFields.monthly.panel=v,v.detach(),r.editDialogFields.yearly={};var H=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),B=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(H),z=e("<div class='"+r._editDialogField()+"'></div>").appendTo(H),E=e("<div style='float:left;'></div>").appendTo(z);E.jqxNumberInput({decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(z);r.editDialogFields.yearly.repeatYear=E,r.editDialogFields.yearly.repeatYearLabel=B;var L=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(H),N=e("<div class='"+r._editDialogField()+"'></div>").appendTo(H),O=e("<div style='float:left;'></div>").appendTo(N),R=e("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(O);R.jqxRadioButton({rtl:r.rtl,groupName:"year",width:25,checked:!0,theme:r.theme}),r.editDialogFields.yearly.repeatYearBool=R,r.editDialogFields.yearly.repeatYearBoolLabel=L;var F=e("<div style='float:left;'></div>").appendTo(O),W=new Array;for(p=0;p<12;p++){var V=r.schedulerLocalization.months.names[p];W.push(V)}F.jqxDropDownList({height:27,selectedIndex:0,dropDownWidth:150,width:"auto",source:W,theme:r.theme}),r.editDialogFields.yearly.repeatYearMonth=F;var G=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(O);G.jqxNumberInput({height:25,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),r.editDialogFields.yearly.repeatYearDay=G;var U=e("<div class='"+r._editDialogLabel()+"'></div>").appendTo(H),Y=e("<div class='"+r._editDialogField()+"'></div>").appendTo(H),K=e("<div style='float:left;'></div>").appendTo(Y),X=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(K);X.jqxRadioButton({rtl:r.rtl,groupName:"year",width:25,checked:!1,theme:r.theme});var Z=e("<div style='float:left;'></div>").appendTo(K);r.editDialogFields.yearly.repeatDayOfWeekBool=X,r.editDialogFields.yearly.repeatDayOfWeekType=Z,r.editDialogFields.yearly.repeatDayOfWeekLabel=U;var $=new Array;$.push(r.schedulerLocalization.editDialogRepeatFirstString),$.push(r.schedulerLocalization.editDialogRepeatSecondString),$.push(r.schedulerLocalization.editDialogRepeatThirdString),$.push(r.schedulerLocalization.editDialogRepeatFourthString),$.push(r.schedulerLocalization.editDialogRepeatLastString),Z.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:$,autoDropDownHeight:!0,width:"auto",theme:r.theme});var J=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(K);r.editDialogFields.yearly.repeatDayOfWeek=J;var Q=new Array;for(p=0;p<7;p++){m=r._getDayName(p);Q.push(m)}J.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:Q,width:"auto",theme:r.theme});W=new Array,e("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+r.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(K);var ee=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(K);for(p=0;p<12;p++){V=r.schedulerLocalization.months.names[p];W.push(V)}r.editDialogFields.yearly.repeatDayOfWeekMonth=ee,ee.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,selectedIndex:0,source:W,width:"auto",theme:r.theme}),r.editDialogFields.yearly.panel=H,H.detach()};r.editAppointment&&r.editAppointment.rootAppointment,c();var u=e("<div></div>");i.append(u);var p=e("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(u),m=e("<div class='"+r._editDialogField()+"'></div>").appendTo(u),f=e("<div style='position:relative; top:2px;'>"+r.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(m);f.jqxCheckBox({width:"100%",theme:r.theme}),u.hide(),r.editDialogFields.resetExceptions=f,r.editDialogFields.resetExceptionsLabel=p,r.editDialogFields.resetExceptionsContainer=u;var g=new Array;g.push(r.schedulerLocalization.editDialogRepeatNeverString),g.push(r.schedulerLocalization.editDialogRepeatDailyString),g.push(r.schedulerLocalization.editDialogRepeatWeeklyString),g.push(r.schedulerLocalization.editDialogRepeatMonthlyString),g.push(r.schedulerLocalization.editDialogRepeatYearlyString),l.jqxDropDownList({rtl:r.rtl,height:27,width:"100%",autoDropDownHeight:!0,theme:r.theme,source:g,selectedIndex:0}),r.editDialogFields.repeat=l,r.editDialogFields.repeatLabel=o,r.editDialogFields.repeatContainer=n,r.editDialogFields.repeatPanel=d,this.addHandler(l,"change",function(e){var s=e.args.item.index;!function(){switch(d.children().detach(),s){case 0:break;case 1:r.editDialogFields.daily.panel.css("visibility","visible"),d.append(r.editDialogFields.daily.panel);break;case 2:r.editDialogFields.weekly.panel.css("visibility","visible"),d.append(r.editDialogFields.weekly.panel);break;case 3:r.editDialogFields.monthly.panel.css("visibility","visible"),d.append(r.editDialogFields.monthly.panel);break;case 4:r.editDialogFields.yearly.panel.css("visibility","visible"),d.append(r.editDialogFields.yearly.panel)}d.append(h),0==s?r.editDialogFields.repeatEndPanelContainer.hide():r.editDialogFields.repeatEndPanelContainer.show(),r.isTouchDevice()||(t.jqxWindow({height:150}),t.jqxWindow({height:i[0].scrollHeight+40}))}()})},_initMenu:function(){var t=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=e('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(e(window),"orientationchange.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.addHandler(e(window),"orientationchanged.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1,t.focus())}),this.addHandler(this.menu,"open",function(e){t.contextMenuOpen&&t.contextMenuOpen(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._raiseEvent("contextMenuOpen",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){t.contextMenuClose&&t.contextMenuClose(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!t.menuOpening&&t.focus(),t._raiseEvent("contextMenuClose",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var i=t.menu.jqxMenu("getItem",e.args.id);if((t._raiseEvent("contextMenuItemClick",{item:i,menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t.contextMenuItemClick)&&1==t.contextMenuItemClick(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e))return new Date-t.renderedTime>500&&t._renderrows(),t.menu.jqxMenu("close"),void(t._hasOpenedMenu=!1);if("createAppointment"==i.id)t._initDialog(),t._openDialog(),"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);else{if("editAppointment"!=i.id)return"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),!0;var s=t.getJQXAppointmentByElement(t.selectedAppointment);s.readOnly||!1!==t._initDialog(s)&&t._openDialog(),"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1)}});var i=new Array;i.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),i.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var s={rtl:this.rtl,keyboardNavigation:!0,source:i,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};t.contextMenuCreate&&t.contextMenuCreate(t.menu,s),t._raiseEvent("contextMenuCreate",{menu:t.menu,settings:s}),this.menu.jqxMenu(s)}},_initDialog:function(t,i){var s=this,r=null;if(t&&t.isRecurrentAppointment()&&!s.editRecurrenceDialog.jqxWindow("isOpen")){var n=(a=s.host.coord()).top+s.host.height()/2-s.editRecurrenceDialog.height()/2,o=a.left+s.host.width()/2-s.editRecurrenceDialog.width()/2;s.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){s.editRecurrenceDialog.find("button:first").focus()},25),s.editRecurrenceDialog.jqxWindow("move",o,n),s.editRecurrenceDialog.jqxWindow("open"),s.editSeries=function(e){e?(s._initDialog(t.rootAppointment),s._openDialog()):(s._initDialog(t),s._openDialog())},s.overlay.show(),s.overlay.width(s.host.width()),s.overlay.height(s.host.height());var a=s.host.coord();return s.overlay.offset(a),s._editDialog||s._initDialog(),!1}if(s.editAppointment=t,t||(r=s.getSelection())||(s.focus(),s.focusedCell||s._updateFocusedCell(),s.focusedCell&&(s.focusedCell.setAttribute("data-selected","true"),s._lastSelectedCell=s.focusedCell,s._updateCellsSelection(s.focusedCell),r=s.getSelection())),r||t){var l=r?r.from:t.from,d=r?r.to:t.to,h=s.getSelectedCells();if(h.length>0)h[h.length-1].getAttribute("data-end-date")&&(d=e.jqx.scheduler.utilities.getEndOfDay(d));s._editStart=l,s._editEnd=d}if(s.editDialogFields&&s.editDialogFields.resourceContainer&&s._resources.length>0){for(var c=new Array,u=0;u<s._resources.length;u++)c.push(s._resources[u]);var p=!0;c.length>10&&(p=!1),s.editDialogFields.resource.jqxDropDownList({source:c,selectedIndex:0,autoDropDownHeight:p}),t||s.editDialogFields.resource.val(r.resourceId)}if(s.editDialogFields&&s.editDialogFields.repeatContainer&&(t&&t.rootAppointment?(s.editDialogFields.repeatContainer.hide(),s.editDialogFields.repeatPanel.hide()):(s.editDialogFields.repeatContainer.show(),s.editDialogFields.repeatPanel.show())),null==s._editDialog){s._editDialog=null;var m=null==t?s.schedulerLocalization.editDialogCreateTitleString:s.schedulerLocalization.editDialogTitleString,f=e("<div><div>"+m+"</div><div id='dialog"+this.element.id+"'></div></div>");e(f).jqxWindow({rtl:s.rtl,autoFocus:!1,autoOpen:!1,animationType:"none",theme:s.theme,width:540,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){s.editDialogFields={},null==l&&null==d&&s._editStart&&s._editEnd&&(l=s._editStart,d=s._editEnd),f.jqxWindow("setTitle",m);var i=e(f.children()[1]),n=e("<div></div>");i.append(n);var o=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(n),a=e("<div class='"+s._editDialogField()+"'></div>").appendTo(n),h=e("<input type='text'/>").appendTo(a);h.jqxInput({height:25,rtl:s.rtl,width:"100%",theme:s.theme}),h.css("box-sizing","border-box"),s.editDialogFields.subject=h,s.editDialogFields.subjectLabel=o,s.editDialogFields.subjectContainer=n;var c=e("<div></div>");i.append(c);var u=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogLocationString+"</div>").appendTo(c),p=e("<div class='"+s._editDialogField()+"'></div>").appendTo(c),g=e("<input type='text'/>").appendTo(p);g.jqxInput({height:25,rtl:s.rtl,width:"100%",theme:s.theme}),g.css("box-sizing","border-box"),s.editDialogFields.location=g,s.editDialogFields.locationLabel=u,s.editDialogFields.locationContainer=c;var v=e("<div></div>");i.append(v);var x=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogFromString+"</div>").appendTo(v),w=e("<div class='"+s._editDialogField()+"'></div>").appendTo(v),y=e("<div></div>").appendTo(w),b=null;l?b=l.toDate():((j=new Date).setHours(9,0,0),b=j,l=new e.jqx.date(j));y.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:s.rtl,localization:s._getDateTimeInputLocalization(),firstDayOfWeek:s.schedulerLocalization.firstDay,todayString:s.schedulerLocalization.todayString,clearString:s.schedulerLocalization.clearString,value:b,formatString:s.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:s.theme}),s.editDialogFields.from=y,s.editDialogFields.fromLabel=x,s.editDialogFields.fromContainer=v;var _=e("<div></div>");i.append(_);var j,q=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogToString+"</div>").appendTo(_),T=e("<div class='"+s._editDialogField()+"'></div>").appendTo(_),C=e("<div></div>").appendTo(T),S=null;d?S=d.toDate():((j=new Date).setHours(10,0,0),S=j,d=new e.jqx.date(j));C.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:s.rtl,localization:s._getDateTimeInputLocalization(),firstDayOfWeek:s.schedulerLocalization.firstDay,todayString:s.schedulerLocalization.todayString,clearString:s.schedulerLocalization.clearString,value:S,formatString:s.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:s.theme}),s.editDialogFields.to=C,s.editDialogFields.toLabel=q,s.editDialogFields.toContainer=_,s._changeFromUser=!0,s.addHandler(y,"change",function(t){if(s._changeFromUser){t.args;var i=t.args.oldValue,r=C.val("date"),n=new e.jqx.date(r)-new e.jqx.date(i);if(n>0){var o=1e4*n,a=e.jqx.timeSpan(o),l=new e.jqx.date(t.args.newValue).add(a);C.val(l.toDate())}}}),s.addHandler(C,"change",function(e){if(s._changeFromUser){e.args;var t=e.args.oldValue,i=C.val("date");y.val("date")>=i&&C.val(t)}});var k=e("<div></div>");i.append(k);var I=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(k),D=e("<div class='"+s._editDialogField()+"'></div>").appendTo(k),P=e("<div style='top: 8px; position:relative;'></div>").appendTo(D);P.jqxCheckBox({rtl:s.rtl,width:25,theme:s.theme}),s.editDialogFields.allDay=P,s.editDialogFields.allDayLabel=I,s.editDialogFields.allDayContainer=k,s.addHandler(k,"change",function(e){e.args.checked?(C.jqxDateTimeInput({showTimeButton:!1,formatString:s.editDialogDateFormatString}),y.jqxDateTimeInput({showTimeButton:!1,formatString:s.editDialogDateFormatString})):(C.jqxDateTimeInput({showTimeButton:!0,formatString:s.editDialogDateTimeFormatString}),y.jqxDateTimeInput({showTimeButton:!0,formatString:s.editDialogDateTimeFormatString}))}),e.jqx.scheduler.utilities.getStartOfDay(l).equals(l)&&e.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&s.editDialogFields.allDay.val(!0),(s._views[s._view].type.indexOf("month")>=0||l&&l.equals(d)||d&&d.equals(e.jqx.scheduler.utilities.getEndOfDay(d))&&l&&l.equals(e.jqx.scheduler.utilities.getStartOfDay(l)))&&s.editDialogFields.allDay.val(!0);var A=e("<div></div>");i.append(A);var M=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(A),H=e("<div class='"+s._editDialogField()+"'></div>").appendTo(A),B=e("<div></div>").appendTo(H),z=new Array;z.push({displayName:s.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),z=z.concat(s.timeZones);for(var E=0;E<z.length;E++){var L=z[E],N=L.displayName.indexOf(")");if(N>=0)var O=L.displayName.substring(2+N);else O=L.displayName;L.searchName=O}B.jqxDropDownList({height:27,rtl:s.rtl,placeHolder:s.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",theme:s.theme,searchMember:"searchName",source:z,displayMember:"displayName",valueMember:"id"}),s.editDialogFields.timeZone=B,s.editDialogFields.timeZoneLabel=M,s.editDialogFields.timeZoneContainer=A,s.initRepeatPanels(f,i,d.toDate()),s.editDialogFields&&s.editDialogFields.repeatContainer&&(s.editAppointment&&s.editAppointment.rootAppointment?(s.editDialogFields.repeatContainer.hide(),s.editDialogFields.repeatPanel.hide()):(s.editDialogFields.repeatContainer.show(),s.editDialogFields.repeatPanel.show()));var R=e("<div></div>");i.append(R);var F=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(R),W=e("<div class='"+s._editDialogField()+"'></div>").appendTo(R),V=e("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(W);V.jqxInput({rtl:s.rtl,height:40,width:"100%",theme:s.theme}),V.css("box-sizing","border-box"),s.editDialogFields.description=V,s.editDialogFields.descriptionLabel=F,s.editDialogFields.descriptionContainer=R;var G=e("<div></div>");i.append(G);var U=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogColorString+"</div>").appendTo(G),Y=e("<div class='"+s._editDialogField()+"'></div>").appendTo(G),K=e("<div></div>").appendTo(Y);K.jqxDropDownList({height:27,rtl:s.rtl,selectedIndex:-1,placeHolder:s.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:function(e,t){if(t<0)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;var i="";return i+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+s.colors[t]+"; margin-left: 2%;'></div>"},renderer:function(e){if(-1==e)return"";var t="";t="";return t+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+s.colors[e]+"; margin-left: 2%;'></div>"},source:s.colors,width:"100%",theme:s.theme}),s.editDialogFields.color=K,s.editDialogFields.colorLabel=U,s.editDialogFields.colorContainer=G;var X=e("<div></div>");i.append(X);var Z=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogStatusString+"</div>").appendTo(X),$=e("<div class='"+s._editDialogField()+"'></div>").appendTo(X),J=e("<div></div>").appendTo($);J.jqxDropDownList({height:27,rtl:s.rtl,selectedIndex:2,autoDropDownHeight:!0,source:s.schedulerLocalization.editDialogStatuses,width:"100%",theme:s.theme}),s.editDialogFields.status=J,s.editDialogFields.statusLabel=Z,s.editDialogFields.statusContainer=X;var Q=e("<div></div>");i.append(Q);var ee=e("<div class='"+s._editDialogLabel()+"'>"+s.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(Q),te=e("<div class='"+s._editDialogField()+"'></div>").appendTo(Q),ie=e("<div></div>").appendTo(te),se=new Array;for(E=0;E<s._resources.length;E++)se.push(s._resources[E]);var re=!0;se.length>10&&(re=!1),ie.jqxDropDownList({height:27,rtl:s.rtl,source:se,selectedIndex:0,autoDropDownHeight:re,width:"100%",theme:s.theme}),s.editDialogFields.resource=ie,s.editDialogFields.resourceLabel=ee,s.editDialogFields.resourceContainer=Q,0==se.length&&Q.hide(),!t&&r&&s.editDialogFields.resource.val(r.resourceId);var ne=e("<div></div>");i.append(ne);var oe=e("<div style='width:100%;' class='"+s._editDialogField()+"'></div>").appendTo(ne),ae=e("<button style='margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogCancelString+"</button>").appendTo(oe),le=e("<button style='margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(oe),de=e("<button style='display: none; margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(oe),he=e("<button style='display: none; margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(oe),ce=e("<button style='margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogSaveString+"</button>").appendTo(oe),ue=e("<button style='display: none; margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(oe),pe=e("<button style='display: none; margin-left: 5px; float:right;'>"+s.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(oe);s.isTouchDevice(),le.jqxButton({rtl:s.rtl,theme:s.theme}),de.jqxButton({rtl:s.rtl,theme:s.theme}),he.jqxButton({rtl:s.rtl,theme:s.theme}),ce.jqxButton({rtl:s.rtl,theme:s.theme}),ae.jqxButton({rtl:s.rtl,theme:s.theme}),ue.jqxButton({rtl:s.rtl,theme:s.theme}),pe.jqxButton({rtl:s.rtl,theme:s.theme}),ue.hide(),pe.hide(),ce.addClass("primary"),pe.addClass("primary"),ue.addClass("primary"),le.addClass("jqx-danger"),s.editDialogFields.saveOccurrenceButton=pe,s.editDialogFields.saveSeriesButton=ue,s.editDialogFields.saveButton=ce,s.editDialogFields.cancelButton=ae,s.editDialogFields.deleteButton=le,s.editDialogFields.deleteSeriesButton=de,s.editDialogFields.deleteExceptionsButton=he,s.editDialogFields.buttons=oe,s.addHandler(le,"click",function(){f.jqxWindow("close"),s.overlay.hide(),s._deleteAppointment(s.editAppointment)}),s.addHandler(ae,"click",function(){f.jqxWindow("close"),s.overlay.hide()}),s.addHandler(pe,"click",function(){if(s.editAppointment.isException()){for(var e=s.editAppointment.rootAppointment?s.editAppointment.rootAppointment.exceptions:s.editAppointment.exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(s.editAppointment.occurrenceFrom)){e[t]=s.editAppointment;break}}else null!=s.editAppointment.rootAppointment?(s.editAppointment.rootAppointment.exceptions.push(s.editAppointment),s.editAppointment.rootAppointment.recurrenceException.push(s.editAppointment.occurrenceFrom)):(s.editAppointment.exceptions.push(s.editAppointment),s.editAppointment.recurrenceException.push(s.editAppointment.occurrenceFrom));s._setAppointmentPropertiesFromDialog(s.editAppointment,"occurrence")&&(s.changedAppointments[s.editAppointment.id]={type:"Update",appointment:s.editAppointment.boundAppointment},s._raiseEvent("appointmentChange",{appointment:s.editAppointment.boundAppointment}),s._renderrows(),f.jqxWindow("close"),s.overlay.hide())}),s.addHandler(ue,"click",function(){var e=s.editAppointment;e.rootAppointment&&(e=e.rootAppointment),s._setAppointmentPropertiesFromDialog(e,"series")&&(s.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},s._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),s._renderrows(),f.jqxWindow("close"),s.overlay.hide())}),s.addHandler(ce,"click",function(){var t=!0;if(null==s.editAppointment){var i=new e.jqx.scheduler.appointment;(t=s._setAppointmentPropertiesFromDialog(i,"none"))&&s.addAppointment(i)}else s.editAppointment.rootAppointment?(pe.trigger("click"),t=!1):s.editAppointment.isRecurrentAppointment()?(ue.trigger("click"),t=!1):(t=s._setAppointmentPropertiesFromDialog(s.editAppointment,"none"))&&(s.changedAppointments[s.editAppointment.id]={type:"Update",appointment:s.editAppointment?s.editAppointment.boundAppointment:null},s._raiseEvent("appointmentChange",{appointment:s.editAppointment.boundAppointment}),s._renderrows());t&&(f.jqxWindow("close"),s.overlay.hide())}),s.addHandler(f,"close",function(e){s.overlay.hide(),s.focus(),s.editDialogClose&&s.editDialogClose(f,s.editDialogFields,s.editAppointment?s.editAppointment.boundAppointment:null),s._raiseEvent("editDialogClose",{dialog:f,fields:s.editDialogFields,appointment:s.editAppointment?s.editAppointment.boundAppointment:null})}),s.editDialogCreate&&s.editDialogCreate(f,s.editDialogFields,s.editAppointment),s._raiseEvent("editDialogCreate",{dialog:f,fields:s.editDialogFields,appointment:s.editAppointment?s.editAppointment.boundAppointment:null}),f.jqxWindow({height:i[0].scrollHeight+40})}}),s._editDialog=f}s.dialogOpenings||(s.dialogOpenings=0),s.removeHandler(s._editDialog,"open"),s.addHandler(s._editDialog,"open",function(n){if(s.editDialogOpen&&s.editDialogFields&&1==s.editDialogOpen(f,s.editDialogFields,s.editAppointment?s.editAppointment.boundAppointment:null))return;s.rtl&&(s._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(s.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),s._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(s.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),s.editDialogFields.saveOccurrenceButton.css("float","left"),s.editDialogFields.saveSeriesButton.css("float","left"),s.editDialogFields.saveButton.css("float","left"),s.editDialogFields.cancelButton.css("float","left"),s.editDialogFields.deleteButton.css("float","left"),s.editDialogFields.deleteSeriesButton.css("float","left"),s.editDialogFields.deleteExceptionsButton.css("float","left"),s.editDialogFields.buttons.css("width","auto"),s.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=s.editAppointment?s.editAppointment.boundAppointment:null;s.editAppointment&&s.editAppointment.rootAppointment&&(e=s.editAppointment.rootAppointment.boundAppointment),s._raiseEvent("editDialogOpen",{dialog:s._editDialog,fields:s.editDialogFields,appointment:e})});var o=function(){setTimeout(function(){i?s.editDialogFields.deleteButton.focus():(s.editDialogFields.subject.focus(),s.editDialogFields.subject.select())},1)},a=null==s.editAppointment?s.schedulerLocalization.editDialogCreateTitleString:s.schedulerLocalization.editDialogTitleString;if(s._editDialog.jqxWindow({title:a}),0==s.dialogOpenings&&!t)return s.dialogOpenings++,s.isTouchDevice()||(s._editDialog.jqxWindow({height:150}),s._editDialog.jqxWindow({height:e(s._editDialog.children())[1].scrollHeight+40})),s.editDialogFields.deleteButton.hide(),void o();s.editDialogFields&&(s.editDialogFields.subject.val(""),s.editDialogFields.location.val(""),o(),s.editDialogFields.resetExceptions.val(!1),s.editDialogFields.description.val(""),t||s.editDialogFields.deleteButton.hide(),t?(s.dialogOpenings++,s.editDialogFields.deleteButton.show(),s.editDialogFields.subject.val(t.subject),s.editDialogFields.location.val(t.location),s.editDialogFields.description.val(t.description),s.editDialogFields.timeZone.val(t.timeZone),s.colors.indexOf(t.borderColor)>=0?s.editDialogFields.color.val(t.borderColor):s.editDialogFields.color.jqxDropDownList("clearSelection"),s.editDialogFields.allDay.val(t.allDay),s.editDialogFields.resource.val(t.resourceId),s.editDialogFields.status.val(t.status),t.timeZone&&(t.from=t.from.toTimeZone(t.timeZone),t.to=t.to.toTimeZone(t.timeZone)),l=t.from,d=t.to,e.jqx.scheduler.utilities.getStartOfDay(l).equals(l)&&e.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&s.editDialogFields.allDay.val(!0),s._setAppointmentPropertiesToDialog(t,l,d,r?r.resourceId:null)):(s.editDialogFields.saveButton.show(),s._setAppointmentPropertiesToDialog(null,l,d,r?r.resourceId:null)),l&&d&&(s._changeFromUser=!1,s.editDialogFields.from.val(l.toDate()),s.editDialogFields.to.val(d.toDate()),s._changeFromUser=!0),s.isTouchDevice()||(s._editDialog.jqxWindow({height:150}),s._editDialog.jqxWindow({height:e(s._editDialog.children())[1].scrollHeight+40})))}),s.removeHandler(s._editDialog,"keydown"),s.addHandler(s._editDialog,"keydown",function(i){if(s.editDialogKeyDown){var r=s.editDialogKeyDown(f,s.editDialogFields,s.editAppointment,i);if(null!=r)return r}if(13==i.keyCode){if(e(document.activeElement).ischildof(s._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;t?t.isException()||t.rootAppointment?s.editDialogFields.saveOccurrenceButton.trigger("click"):t.isRecurrentAppointment()?s.editDialogFields.saveSeriesButton.trigger("click"):s.editDialogFields.saveButton.trigger("click"):s.editDialogFields.saveButton.trigger("click")}}else 27==i.keyCode&&s.editDialogFields.cancelButton.trigger("click")})},openMenu:function(t,i){var s=this;s.menu||s._initMenu();s._views[s._view].type;if(s.contextMenu&&s.menu){if(s.selectedAppointment?s.menu.jqxMenu("showItem","editAppointment"):s.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(s.selectedAppointment)t=(r=s.selectedAppointment.coord()).left,i=r.top;else if(s.focusedCell)var r=e(s.focusedCell).coord();t=r.left,i=r.top}s.menu.jqxMenu("open",t,i),s._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){this._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;i.selectedJQXAppointment?!1!==i._initDialog(i.selectedJQXAppointment)&&i._openDialog(e,t):(null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t))},_openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.editDialog){var s=i.host.coord();if(i.overlay.show(),i.overlay.css("z-index",9999999),i.overlay.width(i.host.width()),i.overlay.height(i.host.height()),i.overlay.offset(s),i.isTouchDevice())i._editDialog.jqxWindow("move",s.left,s.top),i._editDialog.jqxWindow({draggable:!1,maxWidth:i.host.width(),maxHeight:i.host.height()}),i._editDialog.jqxWindow({width:i.host.width(),height:i.host.height()}),i._editDialog.jqxWindow("open"),i._editDialog.jqxWindow("move",s.left,s.top);else if(null!=e&&null!=t)i._editDialog.jqxWindow("move",e,t),i._editDialog.jqxWindow("open");else{var r=i._editDialog.height();r<400&&(r=400);var n=s.top+i.host.height()/2-r/2,o=s.left+i.host.width()/2-i._editDialog.width()/2;i._editDialog.jqxWindow("move",o,n),i._editDialog.jqxWindow("open")}setTimeout(function(){i.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(t,i){var s=this;return function(t){var r=s._views[s._view].type,n=(s._views[s._view],s.editDialogFields.from.val("date"));if(n>(h=s.editDialogFields.to.val("date")))return s.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(n==h)return r.indexOf("month")>=0;if(t.resourceId=s.editDialogFields.resource.val(),"none"==s.editDialogFields.resourceContainer.css("display")&&(t.resourceId=""),t.description=s.editDialogFields.description.val(),t.allDay=s.editDialogFields.allDay.val(),t.status=s.editDialogFields.status.val(),t.location=s.editDialogFields.location.val(),t.timeZone=s.editDialogFields.timeZone.val(),""==t.timeZone&&""!=s.timeZone&&(t.timeZone=s.timeZone),t.from=new e.jqx.date(n,t.timeZone),t.to=new e.jqx.date(h,t.timeZone),s.timeZone?(t.from=t.from.toTimeZone(s.timeZone),t.to=t.to.toTimeZone(s.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null)),t.allDay&&(t.from=e.jqx.scheduler.utilities.getStartOfDay(t.from),t.to=e.jqx.scheduler.utilities.getEndOfDay(t.to)),s.editDialogFields.color.val()){var o=s.getAppointmentColors(s.editDialogFields.color.val());t.color=o.color,t.background=o.background,t.borderColor=o.border}t.subject=s.editDialogFields.subject.val();var a=s.editDialogFields.repeat.jqxDropDownList("selectedIndex"),l=new e.jqx.scheduler.recurrencePattern,d=s.editDialogFields.repeatEndPanel;if(l.timeZone=s.timeZone,l.from=t.from.clone(),"occurrence"==i&&t.rootAppointment&&(l.from=t.rootAppointment.from.clone()),s.editDialogFields.resetExceptions.val()&&(t.exceptions=new Array,t.recurrenceException=new Array),d.repeatEndNever.val())l.count=1e3,l.to=new e.jqx.date(9999,12,31);else if(d.repeatEndAfter.val())l.count=d.repeatEndAfterValue.val(),l.to=new e.jqx.date(9999,12,31);else if(d.repeatEndOn.val()){l.count=1e3;var h=new e.jqx.date(d.repeatEndOnValue.jqxDateTimeInput("getDate"),s.timeZone);l.to=h}switch(a){case 0:default:t.clearRecurrence();break;case 1:var c=s.editDialogFields.daily.repeatDayInterval.val();l.interval=c,l.freq="daily";break;case 2:var u=s.editDialogFields.weekly,p=(c=u.repeatWeekInterval.val(),[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}]),m=u.repeatDays,f=new Array;l.weekDays={};for(var g=0;g<7;g++){m[g].val()&&(0==g?f.push(6):f.push(g-1),e.extend(l.weekDays,p[g]))}l.freq="weekly",l.byweekday=f,l.interval=c;break;case 3:var v=s.editDialogFields.monthly;c=v.repeatMonth.val();if(v.repeatMonthDayBool.val())l.day=v.repeatMonthDay.val(),l.bymonthday=new Array,l.bymonthday.push(l.day);else{var x=v.repeatDayOfWeek.jqxDropDownList("selectedIndex"),w=new Array;0==x?x=6:x--;var y="";switch(v.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:y=1;break;case 1:y=2;break;case 2:y=3;break;case 3:y=4;break;case 4:y=-1}w.push([x,y]),l.bynweekday=w}l.freq="monthly",l.interval=c;break;case 4:var b=s.editDialogFields.yearly;c=b.repeatYear.val();if(b.repeatYearBool.val())l.day=b.repeatYearDay.val(),l.month=b.repeatYearMonth.jqxDropDownList("selectedIndex"),l.bymonth=new Array,l.bymonth.push(1+l.month),l.byyearday=new Array,l.byyearday.push(l.day);else{l.month=b.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),l.bymonth=new Array,l.bymonth.push(1+l.month);x=b.repeatDayOfWeek.jqxDropDownList("selectedIndex"),w=new Array;0==x?x=6:x--;y="";switch(b.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:y=1;break;case 1:y=2;break;case 2:y=3;break;case 3:y=4;break;case 4:y=-1}w.push([x,y]),l.bynweekday=w}l.freq="yearly",l.interval=c}t.rootAppointment?t.rootAppointment.recurrencePattern=l:a>0&&(t.recurrencePattern=l);var _={},j={};for(var q in s.appointmentDataFields){var T=s.appointmentDataFields[q],C=t[q];_[q]=C,"from"!=q&&"to"!=q||(C=C.toDate()),j[T]=C}return _.originalData=j,_.jqxAppointment=t,t.boundAppointment=_,!0}(t)},_setAppointmentPropertiesToDialog:function(t,i,s,r){var n=this;if(function(){var e=n.editDialogFields.repeatEndPanel;e.repeatEndNever.jqxRadioButton({checked:!0}),e.repeatEndAfter.jqxRadioButton({checked:!1}),e.repeatEndAfterValue.val(1),e.repeatEndOnValue.val(t);var t=s.toDate();n.editDialogFields.daily&&n.editDialogFields.daily.repeatDayInterval.val(1);if(n.editDialogFields.weekly){for(var i=n.editDialogFields.weekly,r=0;r<i.repeatDays.length;r++)1==r?i.repeatDays[r].jqxCheckBox({checked:!0}):i.repeatDays[r].jqxCheckBox({checked:!1});i.repeatWeekInterval.val(1)}if(n.editDialogFields.monthly){var o=n.editDialogFields.monthly;o.repeatDayOfWeek.jqxDropDownList("selectIndex",1),o.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),o.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),o.repeatMonthDayBool.jqxRadioButton({checked:!0}),o.repeatMonthDay.val(1),o.repeatMonth.val(1)}if(n.editDialogFields.yearly){var a=n.editDialogFields.yearly;a.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),a.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),a.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),a.repeatDayOfWeek.jqxDropDownList("selectIndex",1),a.repeatYear.val(1),a.repeatYearMonth.jqxDropDownList("selectIndex",0),a.repeatYearDay.val(1),a.repeatYearBool.val(!0)}}(),t&&t.isRecurrentAppointment()?t.rootAppointment?n.editDialogFields.resetExceptionsContainer.hide():n.editDialogFields.resetExceptionsContainer.show():t&&(n.editDialogFields.resetExceptionsContainer.hide(),n.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!t)return n.editDialogFields.timeZone.jqxDropDownList("clearSelection"),r?n.editDialogFields.resource.val(r):n.editDialogFields.resource.jqxDropDownList("selectIndex",0),n.editDialogFields.allDay.val(!1),(n._views[n._view].type.indexOf("month")>=0||i&&i.equals(s)||s&&s.equals(e.jqx.scheduler.utilities.getEndOfDay(s))&&i&&i.equals(e.jqx.scheduler.utilities.getStartOfDay(i)))&&n.editDialogFields.allDay.val(!0),n.editDialogFields.color.jqxDropDownList("clearSelection"),n.editDialogFields.description.val(""),n.editDialogFields.subject.val(""),void n.editDialogFields.repeat.jqxDropDownList("selectIndex",0);!function(e){var t=e.recurrencePattern;e.rootAppointment&&(t=e.rootAppointment.recurrencePattern);if(null!=t){var i=t.freq,s=0;"daily"==i&&(s=1),"weekly"==i&&(s=2),"monthly"==i&&(s=3),"yearly"==i&&(s=4);var r=n.editDialogFields.repeatEndPanel;switch(1e3!=t.count?(r.repeatEndNever.jqxRadioButton({checked:!1}),r.repeatEndAfter.jqxRadioButton({checked:!0}),r.repeatEndAfterValue.val(t.count)):9999!=t.to.year()?(r.repeatEndOn.jqxRadioButton({checked:!0}),r.repeatEndOnValue.val(t.to.toDate())):r.repeatEndNever.jqxRadioButton({checked:!0}),n.editDialogFields.repeat.jqxDropDownList("selectIndex",s),s){case 1:var o=t.interval;n.editDialogFields.daily.repeatDayInterval.val(o);break;case 2:o=t.interval;var a=n.editDialogFields.weekly;a.repeatWeekInterval.val(o);for(var l=t.byweekday,d=0;d<7;d++)(h=a.repeatDays[d]).val(!1);for(d=0;d<l.length;d++){var h;6==(h=l[d])?a.repeatDays[0].val(!0):a.repeatDays[h+1].val(!0)}break;case 3:var c=n.editDialogFields.monthly;if(c.repeatMonth.val(t.interval),t.bymonthday&&t.bymonthday.length>0)c.repeatMonthDayBool.jqxRadioButton({checked:!0}),c.repeatMonthDay.val(t.day);else{c.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var u=(f=t.bynweekday)[0][0];7==++u&&(u=0),c.repeatDayOfWeek.jqxDropDownList("selectIndex",u);var p="";switch(f[0][1]){case 1:p=0;break;case 2:p=1;break;case 3:p=2;break;case 4:p=3;break;case-1:p=4}c.repeatDayOfWeekType.jqxDropDownList("selectIndex",p)}break;case 4:var m=n.editDialogFields.yearly;if(t.byyearday&&t.byyearday.length>0&&(m.repeatYearDay.val(t.byyearday[0]),m.repeatYearBool.val(!0)),t.bymonth&&t.bymonth.length>0&&(m.repeatYearMonth.jqxDropDownList("selectIndex",t.bymonth[0]-1),m.repeatYearBool.val(!0)),!t.byyearday||t.byyearday&&0==t.byyearday.length){var f;switch(m.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",t.bymonth[0]-1),m.repeatDayOfWeekBool.jqxRadioButton({checked:!0}),u=(f=t.bynweekday)[0][0],7==++u&&(u=0),m.repeatDayOfWeek.jqxDropDownList("selectIndex",u),p="",f[0][1]){case 1:p=0;break;case 2:p=1;break;case 3:p=2;break;case 4:p=3;break;case-1:p=4}m.repeatDayOfWeekType.jqxDropDownList("selectIndex",p)}}}}(t)}}),e.jqx.scheduler.column=function(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!this.hasOwnProperty(s)&&!this.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxScheduler: Invalid property name - "+s+".")}},this._initfields(i),this},e.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.scheduler.dataView=function(t){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(i,s){var r=this;if(e.isArray(i))r.update(i);else{var n=!!i._source,o=null;this._sortData=null,this._sortHierarchyData=null,n?(o=i,i=i._source):o=new e.jqx.dataAdapter(i,{autoBind:!1});var a,l=function(e){e.originaldata=o.originaldata,e.records=o.records,e.hierarchy=o.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,o.hierarchy=new Array),o._source.totalrecords?e.totalrecords=o._source.totalrecords:o._source.totalRecords?e.totalrecords=o._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=o.cachedrecords};if(a=this,o.recordids=[],o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o._options.totalrecords=a.totalrecords,o._options.originaldata=a.originaldata,o._options.recordids=a.recordids,o._options.cachedrecords=new Array,o._options.pagenum=a.pagenum,o._options.pageable=a.pageable,null!=i.type&&(o._options.type=i.type),null!=i.formatdata&&(o._options.formatData=i.formatdata),null!=i.contenttype&&(o._options.contentType=i.contenttype),null!=i.async&&(o._options.async=i.async),null!=i.updaterow&&(o._options.updaterow=i.updaterow),null!=i.addrow&&(o._options.addrow=i.addrow),null!=i.deleterow&&(o._options.deleterow=i.deleterow),0==a.pagesize&&(a.pagesize=10),o._options.pagesize=a.pagesize,this.source=i,void 0!==s);r=this;switch(i.datatype){case"local":case"array":default:if(null==i.localdata&&(i.localdata=[]),null!=i.localdata)o.unbindBindingUpdate(t+r.scheduler.element.id),(!r.scheduler.autoBind&&r.scheduler.isInitialized||r.scheduler.autoBind)&&o.dataBind(),(c=function(){l(r),r.update(o.records)})(),o.bindBindingUpdate(t+r.scheduler.element.id,c);break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=i.localdata)return o.unbindBindingUpdate(t+r.scheduler.element.id),(!r.scheduler.autoBind&&r.scheduler.isInitialized||r.scheduler.autoBind)&&o.dataBind(),(c=function(e){l(r),r.update(o.records)})(),void o.bindBindingUpdate(t+r.scheduler.element.id,c);var d={},h=o._options.data;o._options.data?e.extend(o._options.data,d):(i.data&&e.extend(d,i.data),o._options.data=d);var c=function(){var t=function(){l(r),r.update(o.records)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};o.unbindDownloadComplete(t+r.scheduler.element.id),o.bindDownloadComplete(t+r.scheduler.element.id,c),o._source.loaderror=function(e,t,i){c()},(!r.scheduler.autoBind&&r.scheduler.isInitialized||r.scheduler.autoBind)&&o.dataBind(),o._options.data=h}}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(t,i,s){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){var i=new Array,s=function(e,t){for(var s=0;s<e.length;s++){var r=e[s];r._visible=!0;for(var n=void 0,o=0;o<this.filters.length;o++){var a=this.filters[o].filter,l=r[this.filters[o].datafield],d=a.evaluate(l);n=null==n?d:"or"==a.operator?n||d:n&&d}r._visible=!1,(n||r.aggregate)&&(r._visible=!0,t.push(r),i[r.uid]=r)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var r=new Array,n=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];r.push(s),s.records&&s.records.length>0&&n(s,s.records)}};n(null,e),s.call(this,r,t);for(var o=0;o<t.length;o++)for(var a=t[o];a.parent;){var l=a.parent;i[l.uid]||(l._visible=!0,i[l.uid]=l),a=l}t=e}else s.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(o=this.rows[this.rows.length-1][t])&&(o=null);for(var r=1;r<=100;r++){if(!this.scheduler.appointmentsByKey[r+o]){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(this.scheduler.appointmentsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(null!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&this.scheduler.appointmentsByKey[s]){var o;null==(o=this.rows[this.rows.length-1][t])&&(o="");for(r=1;r<=1e3;r++){if(!this.scheduler.appointmentsByKey[r+o]){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(this.scheduler.appointmentsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(!this.scheduler.appointmentsByKey["jqx"+s])return"jqx"+s;for(r=s+1;r<=100;r++){if(!this.scheduler.appointmentsByKey["jqx"+r]){if(this.scheduler.appointmentsByKey["jqx"+r])continue;return"jqx"+r}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===e.jqx._jqxScrollBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,function(){s._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,s,r,n){if("visible"==t.host.css("visibility")){if(n)if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var o=n;o.originalEvent.touches&&o.originalEvent.touches.length?(n.clientX=o.originalEvent.touches[0].clientX,n.clientY=o.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var a=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(n)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}var n="click mouseup mousedown";this.addHandler(this.btnDown,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var o="click";if(this.isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,o,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!t.disabled)return t.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(e){if(!t.disabled)return t.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(a),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxButton("destroy");var o=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var d="";if(this.vertical?(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=d,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var h=e.jqx.cssroundedcorners("top");h=this.toThemeProperty(h),t.addClass(h);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),t.addClass(m),i.addClass(m)}m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),s.hasClass(m)||s.addClass(m),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,s;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,s=1e3*i/(1+t),this.velocity=.2*s+.2*this.velocity},handlemousedown:function(t){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var i=this.btnThumb;null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&(s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval(function(){s.track()},100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var a=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(n*=a,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=n*=a;this.rtl&&!this.vertical&&(l=-n),this.setPosition(this.dragStartValue+l),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){var s=!1;if(this.thumbCapture){this.thumbCapture=!1;var r=this.btnThumb,n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(r.removeClass(n),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i;if(o.amplitude)if(t=Date.now()-o.timestamp,(i=-o.amplitude*Math.exp(-t/325))>.5||i<-.5){var s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i);o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s),requestAnimationFrame(e)}else{var r;s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i),o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s)}}))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),s=!0,this._mouseup=new Date}s&&(null!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),null!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(null!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var o=this.vertical?s:r;this.scrollBarSize=o;var a=this._getThumbSize(o-2*n);(a=Math.floor(a))<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==s||s<10)&&(s=10),(NaN==r||r<10)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var d=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),(d=Math.round(d))<0&&(d=0),this.vertical){var h=o-d-l;h<0&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+d),this._setElementTopPosition(t,n+d+a)}else e[0].style.width=d+"px",t[0].style.width=o-d-l>=0?o-d-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+d),this._setElementLeftPosition(t,2+n+d+a)},_arrange:function(){var e=this;if(e._initialLayout)e._initialLayout=!1;else{if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}e.element;var s=e.areaUp,r=e.areaDown,n=e.btnUp,o=e.btnDown,a=e.btnThumb,l=e.scrollWrap,d=parseInt(e.element.style.height),h=parseInt(e.element.style.width);if(e.isPercentage)d=e.host.height(),h=e.host.width();isNaN(d)&&(d=0),isNaN(h)&&(h=0),e._width=h,e._height=d;var c=e.vertical?h:d;e.showButtons||(c=0),n[0].style.width=c+"px",n[0].style.height=c+"px",o[0].style.width=c+"px",o[0].style.height=c+"px",e.vertical?l[0].style.width=h+2+"px":l[0].style.height=d+2+"px",e._setElementPosition(n,0,0);var u=c+2;e.vertical?e._setElementPosition(o,0,d-u):e._setElementPosition(o,h-u,0);var p=e.vertical?d:h;e.scrollBarSize=p;var m=e._getThumbSize(p-2*u);(m=Math.floor(m-2))<e.thumbMinSize&&(m=e.thumbMinSize);var f=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(f=!0),e.vertical?(a[0].style.width=h+"px",a[0].style.height=m+"px",f&&0!==e.thumbTouchSize&&(a.css({width:e.thumbTouchSize+"px"}),a.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(a[0].style.width=m+"px",a[0].style.height=d+"px",f&&0!==e.thumbTouchSize&&(a.css({height:e.thumbTouchSize+"px"}),a.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==d||d<10)&&(d=10),(NaN==h||h<10)&&(h=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(a[0].style.height)):2*u+(2+parseInt(a[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(p-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||v<0||v===-1/0||v===1/0)&&(v=0),e.vertical){var x=p-v-g;x<0&&(x=0),r[0].style.height=x+"px",r[0].style.width=h+"px",s[0].style.height=v+"px",s[0].style.width=h+"px";var w=parseInt(e.element.style.height);e.isPercentage&&(w=e.host.height()),a[0].style.visibility="inherit",(w-3*parseInt(c)<0||w<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,0,u),e._setElementPosition(a,0,u+v),e._setElementPosition(r,0,u+v+m)}else{v>0&&(s[0].style.width=v+"px"),d>0&&(s[0].style.height=d+"px");var y=p-v-g;y<0&&(y=0),r[0].style.width=y+"px",r[0].style.height=d+"px";var b=parseInt(e.element.style.width);e.isPercentage&&(b=e.host.width()),a[0].style.visibility="inherit",(b-3*parseInt(c)<0||b<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,u,0),e._setElementPosition(a,u+v,0),e._setElementPosition(r,u+v+m,0)}}}})}(jqxBaseFramework),function(e){var t=0;e.jqx.jqxWidget("jqxScrollView","",{}),e.extend(e.jqx._jqxScrollView.prototype,{defineInstance:function(){var t={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,dragEnabled:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove")}};return this===e.jqx._jqxScrollView.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=this;e.jqx.utilities.resize(this.host,function(){i.refresh()})},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var e=this;this.slideShowTimer=setInterval(function(){e.currentPage>=e._pages.length-1?e._changePage(0,!0,e.animationDuration):e._changePage(e.currentPage+1,!0,e.animationDuration)},this.slideDuration)}else null!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(e(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(t,i){if(this._isTouchDevice){var s=e.jqx.position(t);if("pageX"==i)return s.left;if("pageY"==i)return s.top;if(t.originalEvent.touches)return t.originalEvent.touches[0][i]}return t[i]},_draggedRight:function(){if(this.currentPage>0){var t=this.currentPage-1,i=e(this._pages[t]);if(i.offset().left+i.outerWidth()-this.host.offset().left>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var t=this.currentPage+1,i=e(this._pages[t]);if(this.host.width()-(i.offset().left-this.host.offset().left)>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_dropTarget:function(){(this._movedLeft?this._draggedLeft():this._draggedRight())||this.changePage(this.currentPage,!1)},_scrollEnabled:function(e){return!!this._mouseDown&&(this._movePermited||Math.abs(this._getCoordinate(e,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited)},_setMoveDirection:function(e){this._lastOffset>e?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(e){var t=-(this._innerWrapper.width()-this.host.width());return e>0?e=0:e<t&&(e=t),e},_addEventListeners:function(){var t=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){0!=t.dragEnabled&&(t._mouseDown=!0,t._startX=t._getCoordinate(e,"pageX"),t._startOffset=t._lastOffset=parseInt(t._innerWrapper.css("margin-left"),10))}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(e){if(0!=t.dragEnabled){if(t._scrollEnabled(e)){var i=t._startOffset+t._getCoordinate(e,"pageX")-t._startX;return t.bounceEnabled||(i=t._getBounceOffset(i)),t._innerWrapper.css("margin-left",i),t._setMoveDirection(i),t._lastOffset=i,e.preventDefault(),!1}return!0}}),this.addHandler(e(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){0!=t.dragEnabled&&(t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1)});try{if(""!=document.referrer||window.frameElement){if(null!=window.top&&window.parent&&document.referrer)var i=document.referrer;if(-1!=i.indexOf(document.location.host)){var s=function(e){t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=e("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(e){e.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(e)},_refreshPages:function(){var t=this,i=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){t._refreshPage(e(this)),i+=e(this).outerWidth(!0)}),this._innerWrapper.width(i)},_performPageLayout:function(e){e.css("float","left"),e.width(this.host.width()),e.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(){t.removeHandler(e(this))})},_addButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(i){t.addHandler(e(this),"click",function(){t.changePage(i)})})},_performButtonsLayout:function(){var e=(this.host.width()-this._buttonsContainer.width())/2,t=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:e+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*t+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){var t;this._buttonsContainer&&this._buttonsContainer.remove(),this._buttons=[],this._buttonsContainer=e("<span/>");for(var i=0;i<this._pages.length;i+=1)t=e('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(t),this._buttons[i]=t;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_swapButtons:function(e,t){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[t].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(t,i,s){if(!this.disabled){var r=e(this._pages[t]),n=(this.host.width()-r.width())/2,o=r.offset().left-this._innerWrapper.offset().left-n,a=this.currentPage,l=this;void 0===s&&(s=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,t),this.currentPage=t,this._innerWrapper.animate({marginLeft:-o},s,function(){i&&l._raiseEvent(0,{currentPage:t,oldPage:a})})}},propertyChangedHandler:function(e,t,i,s){if("currentPage"===t)e.currentPage=i,e.changePage(s);else if(/(buttonsOffset|width|height)/.test(t))e.refresh();else{if("showButtons"===t)return void(s?e._buttonsContainer.css("display","block"):e._buttonsContainer.css("display","none"));"slideShow"==t&&e.refresh()}},changePage:function(e){if(e>=this._pages.length||e<0)throw new Error("Invalid index!");this._changePage(e,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,s,r,n,o,a,l=this;if("input"===l.element.nodeName.toLowerCase()&&(l.field=l.element,l.field.className&&(l._className=l.field.className),i={title:l.field.title},l.field.value&&(i.value=l.field.value),l.field.id.length?i.id=l.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,l.field.getAttribute("min")&&(s=l.field.getAttribute("min"),l.min=parseFloat(s)),l.field.getAttribute("step")&&(r=l.field.getAttribute("step"),l.step=parseFloat(r)),l.field.getAttribute("max")&&(n=l.field.getAttribute("max"),l.max=parseFloat(n)),o=document.createElement("div"),void 0!==i.id&&o.setAttribute("id",i.id),void 0!==i.value&&o.setAttribute("value",i.value),o.style.cssText=l.field.style.cssText,l.width||(l.width=l.field.offsetWidth),l.height||(l.height=l.field.offsetHeight),l.field.style.display="none",l.field.parentNode&&l.field.parentNode.insertBefore(o,l.field.nextSibling),a=l.host.data(),l.host=e(o),l.host.data(a),l.element=o,l.element.id=l.field.id,l.field.id=i.id,l._helpers.element=new jqxHelper(l.element),l._helpers.field=new jqxHelper(l.field),l._className&&(l._helpers.element.addClass(l._className),l._helpers.field.removeClass(l._className)),l.field.tabIndex)){var d=l.field.tabIndex;l.field.tabIndex=-1,l.element.tabIndex=d}},createInstance:function(t){var i=this;window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice();if(i.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle();e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this;t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput(),null==t.element.getAttribute("tabindex")&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){var t=this;t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.element.id),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.element.id),e.jqx.utilities.resize(this.host,null,!0),t.host.remove(),t._helpers=[]},_addInput:function(){var e=this,t=e.element.getAttribute("name"),i=document.createElement("input");i.setAttribute("type","hidden"),e.element.appendChild(i),t&&i.setAttribute("name",t),e.rangeSlider?e.values&&(i.value=e.value.rangeStart.toString()+"-"+e.value.rangeEnd.toString()):i.value=e.value.toString(),e.input=i},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){var e=this;e._render(),e._performLayout(),e._removeEventHandlers(),e._addEventHandlers(),e._initialSettings()},_render:function(){var e=this;e._addTrack(),e._addSliders(),e._addTickContainers(),e._updateButtonsVisibility(),e._addRangeBar()},_addTrack:function(){var e=this,t=e._track;e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track")),t.setAttribute("style",""),e._helpers.track.removeClass(e.toThemeProperty("jqx-slider-track-"+e._getSetting("opposite"))),e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track-"+e.orientation)),e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var e=this;if(null===e._slider||e._slider.length<1){e._slider={};var t=document.createElement("div"),i=document.createElement("div");t.className=e.toThemeProperty("jqx-slider-slider"),i.className=e.toThemeProperty("jqx-slider-slider"),e._slider.left=t,e._track.appendChild(t),e._slider.right=i,e._track.appendChild(i),e._helpers.track=new jqxHelper(e._track),e._helpers.left=new jqxHelper(e._slider.left),e._helpers.right=new jqxHelper(e._slider.right),e.template&&(e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)))}e._helpers.left.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.left.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.right.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){var e=this;e._bottomTicks.className=e.toThemeProperty("jqx-slider-tickscontainer"),e._topTicks.className=e.toThemeProperty("jqx-slider-tickscontainer");var t="visible";e.showTicks||(t="hidden"),e._bottomTicks.style.visibility=t,e._topTicks.style.visibility=t},_updateButtonsVisibility:function(){var e=this,t="block";e.showButtons&&!e.rangeSlider||(t="none"),e._rightButton.style.display=t,e._leftButton.style.display=t},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var s,r=this,n="Width";"vertical"===r.orientation&&(n="Height");var o,a,l=document.createElement("span");if(l.className=r.toThemeProperty("jqx-widget jqx-slider-label"),l.style.position="absolute",l.style.visibility="hidden",r.tickLabelStyleSettings){var d=r.tickLabelStyleSettings;l.style.fontSize=d.fontSize,l.style.fontFamily=d.fontFamily,l.style.fontWeight=d.fontWeight,l.style.fontStyle=d.fontStyle}o=r._formatLabel(r.min),a=r._formatLabel(r.max);var h=e.jqx.browser.msie?0:1;document.body.appendChild(l),l.innerHTML=o;var c=l["scroll"+n]+h;l.innerHTML=a;var u=l["scroll"+n]+h;l.parentNode.removeChild(l);var p=Math.max(u,c),m=0;p>105&&(m=(p-105)/100),p*=1.5+m;var f=r._getTrackSize();f>64&&!1===r.showButtons&&(f-=64);var g,v,x,w,y,b=Math.round(f/p);return 0===b&&(b=1),!0===t&&(b*=4),!1===r.int64?(g=r.max-r.min,v=Math.floor(i(g)-i(b)),y=(s=g<2*(w=b*(x=Math.pow(10,v)))?1:g<3*w?2:g<7*w?5:10)*x):(g=new BigNumber(r.max).subtract(new BigNumber(r.min)),v=Math.floor(i(g.toString())-i(b)),x=new BigNumber(10).pow(new BigNumber(v)),w=new BigNumber(b).multiply(x),s=-1===g.compare(new BigNumber(2*w))?1:-1===g.compare(new BigNumber(3*w))?2:-1===g.compare(new BigNumber(7*w))?5:10,-1===(y=new BigNumber(s).multiply(x)).compare(1)&&(y=new BigNumber(1)),"s"===r.int64&&(y=(new e.jqx.math).fromString(y.toString()))),y},_formatLabel:function(t,i){var s,r=this,n=!0!==i?r.tickLabelFormatFunction:r.tooltipFormatFunction,o=!0!==i?r.tickLabelFormatSettings:r.tooltipFormatSettings;return n?s=n(t):o?void 0!==o.radix?s=(new e.jqx.math).getRadixValue(t,r.int64,o.radix):void 0!==o.outputNotation&&"default"!==o.outputNotation&&"decimal"!==o.outputNotation?s=(new e.jqx.math).getDecimalNotation(t,o.outputNotation,o.decimalDigits,o.digits):void 0!==o.decimalDigits?s=Number(t).toFixed(o.decimalDigits):void 0!==o.digits&&(s=Number(Number(t).toPrecision(o.digits)).toString()):s=t,s},_addTicks:function(t,i){var s=this;if(s.showTicks){var r,n,o,a,l,d,h,c,u,p,m,f,g,v=parseInt(t.style[s._getSetting("size")],10),x="normal"===s.layout&&"horizontal"===s.orientation&&!1===s.rtl||"reverse"===s.layout&&"vertical"===s.orientation,w="";!1===s.int64?(l=s.max-s.min,"default"===s.tickMode?(s.niceInterval?(o=s._getNiceInterval(),a=s._getNiceInterval(!0)):(o=s.ticksFrequency,a=s.minorTicksFrequency),d=Math.round(l/o),h=Math.round(l/a)):"tickNumber"===s.tickMode&&(d=s.tickNumber,h=s.minorTickNumber,o=Math.round(l/d)),u=s.min,p=s.max):"s"===s.int64?(l=s._max64.subtract(s._min64),"default"===s.tickMode?(s.niceInterval?(o=s._getNiceInterval(),a=s._getNiceInterval(!0)):(o=s._ticksFrequency64,a=s._minorTicksFrequency64),d=l.div(o).toNumber(),h=l.div(a).toNumber()):"tickNumber"===s.tickMode&&(d=s.tickNumber,h=s.minorTickNumber,o=l.div((new e.jqx.math).fromNumber(d))),u=s._min64.toString(),p=s._max64.toString()):"u"===s.int64&&(l=s._max64.subtract(s._min64),"default"===s.tickMode?(s.niceInterval?(o=s._getNiceInterval(),a=s._getNiceInterval(!0)):(o=s._ticksFrequency64,a=s._minorTicksFrequency64),d=parseInt(l.divide(o).toString(),10),h=parseInt(l.divide(a).toString(),10)):"tickNumber"===s.tickMode&&(d=s.tickNumber,h=s.minorTickNumber,o=l.divide(new BigNumber(d)).intPart()),u=s._min64.toString(),p=s._max64.toString());var y=v/d;c=v/h,t.innerHTML="",n=x?s._formatLabel(u):s._formatLabel(p);var b=document.createElement("span");if(b.style.visibility="hidden",b.className=s.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),s.tickLabelStyleSettings){var _=s.tickLabelStyleSettings;b.style.fontSize=_.fontSize,b.style.fontFamily=_.fontFamily,b.style.fontWeight=_.fontWeight,b.style.fontStyle=_.fontStyle}document.body.appendChild(b),b.innerHTML="0";var j={width:b.offsetWidth,height:b.offsetHeight};b.parentNode.removeChild(b);var q=parseInt(t.style[s._getSetting("oSize")],10),T="horizontal"===s.orientation?s.padding.left:0;w+=s._addTick(t,T,s.min,q,n,j,!1,i);var C=document.createElement("span");C.className=s.toThemeProperty("jqx-widget"),C.style.position="absolute",C.style.visibility="hidden",document.body.appendChild(C),C.innerHTML=s.min.toString(),m="horizontal"===s.orientation?C.offsetWidth:C.offsetHeight;var S=0,k=0;if("default"===s.tickMode&&!0===s.niceInterval){var I,D;if(!1===s.int64)k=(S=x?(D=(I=s.min)-I%o+o)-I:(I=s.max)-(D=I-I%o))/o*y;else{var P=new BigNumber(o.toString());x?S=(D=(I=new BigNumber(s.min)).subtract(I.mod(P)).add(P)).subtract(I):(D=(I=new BigNumber(s.max)).subtract(I.mod(P)),S=I.subtract(D)),k=parseFloat(S.divide(P).multiply(y).toString())}var A=!0;if(m>=k&&(A=!1),D.toString()!==s.max.toString()&&k<v){var M=s._formatLabel(D.toString());w+=s._addTick(t,k+T,D,q,M,j,!1,i,A)}}for(f=1;f<d;f++){var H;r=f*y+k,r=Math.floor(r),!1===s.int64?H=x?s.min+o*f+S:s.max-o*f-S:"s"===s.int64?H=x?s._min64.add(o.multiply((new e.jqx.math).fromString(f.toString(),10))).add((new e.jqx.math).fromString(S.toString(),10)).toString():s._max64.subtract(o.multiply((new e.jqx.math).fromString(f.toString(),10))).subtract((new e.jqx.math).fromString(S.toString(),10)).toString():"u"===s.int64&&(H=x?s._min64.add(o.multiply(f)).add(S).toString():s._max64.subtract(o.multiply(f)).subtract(S).toString()),H.toString()!==s.max.toString()&&(n=s._formatLabel(H.toString()),g=!0,"default"===s.tickMode&&!0===s.niceInterval&&(C.innerHTML=n,r+(m="horizontal"===s.orientation?C.offsetWidth:C.offsetHeight)>=d*y&&(g=!1)),w+=s._addTick(t,r+T,f,q,n,j,!1,i,g))}if(s.showMinorTicks)for(f=1;f<h;f++)r=f*c,r=Math.floor(r),n="",w+=s._addTick(t,r+T,f,q,n,j,!0,i);n=x?s._formatLabel(p):s._formatLabel(u),w+=s._addTick(t,d*y+T,s.max,q,n,j,!1,i),t.innerHTML=w,C.parentNode.removeChild(C)}},_addTick:function(e,t,i,s,r,n,o,a,l){var d,h,c=this,u="";u=c.toThemeProperty("jqx-slider-tick"),u+=" "+c.toThemeProperty("jqx-fill-state-pressed"),c.template&&(u+=" "+c.toThemeProperty("jqx-"+c.template));var p=c._getSetting("top"),m="2px",f=c.tickSize;if(o&&(f=c.minorTickSize),e!==c._bottomTicks&&(m=s-f-2+"px"),"horizontal"===c.orientation){if(h='<div style="'+p+": "+m+"; "+c._getSetting("oSize")+":  "+f+"px; float: left; position:absolute; left:"+t+'px;" class="'+c.toThemeProperty("jqx-slider-tick-horizontal")+" "+u+'"></div>',c.showTickLabels){m=e!==c._bottomTicks?s-f-n.height-2+"px":2+f+"px";var g=n.width*r.toString().length;if(d=t-(g/=2),!1!==l){var v="",x="",w="",y="";if(c.tickLabelStyleSettings){var b=c.tickLabelStyleSettings;b.fontSize&&(v=b.fontSize),b.fontFamily&&(x=b.fontFamily),b.fontWeight&&(w=b.fontWeight),b.fontStyle&&(y=b.fontStyle)}h+='<div class="'+c.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+m+"; float: left; position:absolute; left:"+d+"px; white-space: nowrap; font-size: "+v+"; font-family: "+x+"; font-weight: "+w+"; font-style: "+y+'">'+r+"</div>"}}}else if(h='<div style="'+p+": "+m+"; "+c._getSetting("oSize")+":  "+f+"px; float: none; position:absolute; top:"+t+'px;" class="'+c.toThemeProperty("jqx-slider-tick-vertical")+" "+u+'"></div>',c.showTickLabels){m=e!==c._bottomTicks?s-f-r.toString().length*n.width-6+"px":6+f+"px";var _=n.height;d=t-(_/=2),!1!==l&&(h+='<div class="'+c.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+m+"; float: none; position:absolute; top:"+d+'px;">'+r+"</div>")}return h},_addRangeBar:function(){var e=this;(null===e._rangeBar||e._rangeBar.length<1)&&(e._rangeBar=document.createElement("div"),e._rangeBar.className=e.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),e.template&&(e._rangeBar.className+=" "+e.toThemeProperty("jqx-"+e.template)),e._helpers.rangeBar=new jqxHelper(e._rangeBar),e._track.appendChild(e._rangeBar)),e.showRange?e._rangeBar.style.display="block":e._rangeBar.style.display="none",e._thumbSize=e._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var e=this;null!==e.width&&-1!==e.width.toString().indexOf("px")?e.element.style.width=parseInt(e.width,10)+"px":void 0===e.width||isNaN(e.width)||(e.element.style.width=parseInt(e.width,10)+"px"),null!==e.height&&-1!==e.height.toString().indexOf("px")?e.element.style.height=parseInt(e.height,10)+"px":void 0===e.height||isNaN(e.height)||(e.element.style.height=parseInt(e.height,10)+"px");null!==e.width&&-1!==e.width.toString().indexOf("%")&&(!0,e._helpers.element.width(e.width)),null!==e.height&&-1!==e.height.toString().indexOf("%")&&(!0,e._helpers.element.height(e.height));var t=e._helpers.element.innerHeight();"width"===e._getSetting("size")&&(t=e._helpers.element.innerWidth()),e._performButtonsLayout(),e._performTrackLayout(t-8),e._contentWrapper.style[e._getSetting("size")]=e._track.style[e._getSetting("size")],e._contentWrapper.style[e._getSetting("oSize")]=e.element.style[e._getSetting("oSize")],e._performTicksLayout(),e._performRangeBarLayout();var i=e.padding;if("horizontal"===e.orientation){if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.left=4+e._helpers.leftButton.outerWidth(!0)+"px",e._leftButton.style.left=i.left+"px",e._rightButton.style.right=i.right+"px","left"===e.buttonsPosition?(e._contentWrapper.style.left=2+2*e._helpers.leftButton.innerWidth()+e._helpers.left.innerWidth()/2+"px",e._rightButton.style.left=1+e._helpers.leftButton.innerWidth()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.left=e._helpers.left.innerWidth()/2+"px",e._leftButton.style.left="",e._leftButton.style.right=1+i.right+e._helpers.leftButton.innerWidth()+"px",e._rightButton.style.right=e._leftButton.style.right-e._helpers.leftButton.innerWidth()+"px")),!e.showButtons||e.rangeSlider){var s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.left=s+"px"}}else if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.top=1+e._helpers.leftButton.outerHeight(!0)+"px",e._leftButton.style.top="0px",e._rightButton.style.bottom="0px",e._leftButton.style.left="",e._leftButton.style.right="",e._rightButton.style.left="",e._rightButton.style.right="","left"===e.buttonsPosition?(e._contentWrapper.style.top=2+2*e._helpers.leftButton.innerHeight()+e._helpers.left.innerHeight()/2+"px",e._rightButton.style.top=1+e._helpers.leftButton.innerHeight()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.top=e._helpers.left.innerHeight()/2+"px",e._leftButton.style.top="",e._leftButton.style.bottom=1+e._helpers.leftButton.innerHeight()+"px",e._rightButton.style.bottom=e._leftButton.style.bottom-e._helpers.leftButton.innerHeight()+"px")),!e.showButtons||e.rangeSlider){s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.top=s+"px"}if(e.rangeSlider?e._slider.left.style.visibility="visible":e._slider.left.style.visibility="hidden",e._refreshRangeBar(),"vertical"===e.orientation&&e.showButtons){e._leftButton.offsetWidth,e._track.offsetWidth;e._track.style.marginLeft="1px"}e._editableLabels()},_performTrackLayout:function(e){var t=this,i=e;(t.showButtons&&!t.rangeSlider&&("horizontal"===t.orientation?i-=t._helpers.leftButton.innerWidth()+t._helpers.rightButton.innerWidth()+4:i-=t._helpers.leftButton.innerHeight()+t._helpers.rightButton.innerHeight()+4),t.rangeSlider||!t.showButtons)&&(i=e-2*(2+Math.ceil(t.sliderButtonSize/2)));"horizontal"===t.orientation?(i-=t.padding.left+t.padding.right,i-=t._helpers.left.outerWidth()-2):i-=t._helpers.left.outerHeight()-2,t._track.style[t._getSetting("size")]=i+"px",t._track.style.left=t.padding.left+"px",t._slider.left.style.left="0px",t._slider.left.style.top="0px",t._slider.right.style.left="0px",t._slider.right.style.top="0px"},_performTicksLayout:function(){var e=this;e._performTicksContainerLayout(),e._addTicks(this._topTicks,"top"),e._addTicks(this._bottomTicks,"bottom"),e._topTicks.style.visibility="hidden",e._bottomTicks.style.visibility="hidden","top"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._topTicks.style.visibility="visible"),"bottom"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e,t=this;"horizontal"===t.orientation?(t._topTicks.style.width=t._track.style.width,t._bottomTicks.style.width=t._track.style.width,e=(parseInt(t.element.style.height,10)-t._helpers.track.outerHeight())/2-2,t._topTicks.style.height=e+"px",t._bottomTicks.style.height=e+"px",t._topTicks.style.float="none",t._track.style.float="none",t._bottomTicks.style.float="none"):(t._topTicks.style.height=t._track.style.height,t._bottomTicks.style.height=t._track.style.height,e=(parseInt(t.element.style.width,10)-t._helpers.track.outerWidth())/2-2,t._topTicks.style.width=e+"px",t._bottomTicks.style.width=e+"px",t._topTicks.style.float="left",t._track.style.float="left",t._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){var e=this;e._leftButton.style.backgroundPosition="center",e._rightButton.style.backgroundPosition="center","vertical"===e.orientation&&(e._leftButton.style.float="none",e._rightButton.style.float="none"),e._leftButton.style.position="absolute",e._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._leftArrow=e._leftButton.firstChild,e._rightArrow=e._rightButton.firstChild,e._helpers.leftArrow=new jqxHelper(e._leftArrow),e._helpers.rightArrow=new jqxHelper(e._rightArrow),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-left")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-right")),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev)),e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.isMaterialized()||t.sliderTooltipObj.fadeOut("fast"),e(t.sliderTooltipObj).removeClass("show"),e(t.sliderTooltipObj).addClass("hide"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1,t.isMaterialized()&&(t._refreshRangeBar(),setTimeout(function(){t._refreshRangeBar()},200))}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){var e=this;"horizontal"===e.orientation?e._horizontalButtonsLayout():e._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginRight="0px",e._rightButton.style.marginRight=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginLeft=2+t+"px",e._rightButton.style.marginRight="0px"):(e._leftButton.style.marginRight=t+"px",e._rightButton.style.marginLeft=t+"px")},_verticalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginBottom="0px",e._rightButton.style.marginBottom=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginTop=2+t+"px",e._rightButton.style.marginBottom="0px"):(e._leftButton.style.marginBottom=t+"px",e._rightButton.style.marginTop=2+t+"px");var i=parseInt(e._leftButton.style.marginLeft,10);e._leftButton.style.marginLeft=i-1+"px",e._rightButton.style.marginLeft=i-1+"px"},_performRangeBarLayout:function(){var e=this;e._rangeBar.style[e._getSetting("oSize")]=e._helpers.track[e._getSetting("oSize")]()+"px",e._rangeBar.style[e._getSetting("size")]=e._helpers.track[e._getSetting("size")]()+"px",e._rangeBar.style.position="absolute",e._rangeBar.style.left="0px",e._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var s=this,r=s._events[t],n=new e.Event(r,this.element);return!1===s._triggerEvents||(!!s._rendering||(n.args=i,0===t&&(n.args.type=s.changeType,s.changeType=null),1===t&&(n.args.cancel=!1,s._slideEvent=n),s._lastValue[t]=i.value,n.owner=this,s.host.trigger(n)))},_initialSettings:function(){var e=this;!1===e.int64?e.rangeSlider?"number"!=typeof e.value?e.setValue(e.value):e.setValue(e.values):(void 0===e.value&&(e.value=0),e.setValue(e.value)):!1===e.rangeSlider||!0===Array.isArray(e._value64)?e.setValue(e._value64):e.setValue(e._values64),e.disabled&&e.disable()},_addEventHandlers:function(){var t=this;t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag()},s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!==s.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(e){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var s=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(s=-40*i.detail),s>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;e.addHandler(e.host,"keydown",function(t){if(!0!==e._editingLabels)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,s=e.jqx.mobile.getTouches(t)[0],r=parseInt(i._slider.left.style[i._getSetting("size")],10);r="width"===i._getSetting("size")?i._slider.left.offsetWidth:i._slider.left.offsetHeight,isNaN(r)&&(r=0);var n=(i._isTouchDevice?s:t)[i._getSetting("page")]-r/2,o=i._getClosest(n),a=i._getValueByPosition(n);i._mouseDown=!0,i.changeType="mouse",i._setValue(a,o),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){var t=this;return t.rangeSlider?(e=e-t._helpers.track.offset()[t._getSetting("left")]-t._helpers.left[t._getSetting("size")]()/2,Math.abs(parseInt(t._slider.left.style[t._getSetting("left")],10)-e)<Math.abs(parseInt(t._slider.right.style[t._getSetting("left")],10)-e)?t._slider.left:t._slider.right):t._slider.right},_removeEventHandlers:function(){var t=this;t.removeHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag),t.removeHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.host.attr("id"),t._stopDrag),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.host.attr("id"),t._performDrag),t.removeHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler),t.removeHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler),t.removeHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler),t.element.onselectstart=null,t.removeHandler(t.host,t._getEvent("mousewheel")),t.removeHandler(t.host,t._getEvent("keydown"))},_rightButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.decrementValue():e.incrementValue()},_leftButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.incrementValue():e.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that;i.changeType="mouse",i._capturedElement=t.target;var s=new jqxHelper(t.target).offset();i._startX=s.left,i._startY=s.top;var r=e.jqx.position(t);if(i._mouseStartX=r.left,i._mouseStartY=r.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice)return!1},_stopDrag:function(){var t=this;t._slideStarted&&t._raiseEvent(2,{value:t.getValue()}),t._slideStarted&&null!==t._capturedElement?(t.input&&e.jqx.aria(this,"aria-valuenow",t.input.value),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slideStarted=!1,t._capturedElement=null,t.sliderTooltip&&(t.isMaterialized()||t.sliderTooltipObj.fadeOut("fast"),e(t.sliderTooltipObj).removeClass("show"),e(t.sliderTooltip).addClass("hide"))):t._capturedElement=null},_performDrag:function(t){var i=t.data.that;if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var s=e.jqx.position(t),r="horizontal"===i.orientation?s.left:s.top;if(i._isDragged(r),i._slideStarted||i._isTouchDevice)return i._dragHandler(r)}},_isDragged:function(e){var t=this;Math.abs(e-this[t._getSetting("mouse")])>2&&!t._slideStarted?(t._slideStarted=!0,t._valueChanged(3)&&t._raiseEvent(3,{value:t.getValue()})):null==t._capturedElement&&(t._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,s=this._helpers.left,r=this._getSetting("left");this._capturedElement===s?parseFloat(e)>i.offset()[r]&&(e=i.offset()[r]):parseFloat(e)<s.offset()[r]&&(e=s.offset()[r])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,s,r,n,o=this,a=t-o._helpers.track.offset()[o._getSetting("left")]+o._slider.left.offsetWidth/2,l=a/o._helpers.track[o._getSetting("size")]();return a<0&&(a=0),!1===o.int64?i=(o.max-o.min)*l+o.min:"s"===o.int64?(n=(new e.jqx.math).fromNumber(o._helpers.track[o._getSetting("size")](),10),s=o._max64.subtract(o._min64),r=o._divide64(s,n)*a,i=(new e.jqx.math).fromNumber(r,10).add(o._min64)):"u"===o.int64&&(n=new BigNumber(o._helpers.track[o._getSetting("size")]()),s=o._max64.subtract(o._min64),r=o._divide64(s,n)*a,i=new BigNumber(r).add(o._min64)),"normal"===o.layout?"horizontal"!==o.orientation||o.rtl?!1===o.int64?o.max+o.min-i:o._max64.add(o._min64).subtract(i):i:"horizontal"===o.orientation?!1===o.int64?o.max+o.min-i:o._max64.add(o._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){var e=this;if(e.__trackSize)return e.__trackSize;var t=parseInt(e._helpers.track[e._getSetting("size")](),10);return e.__trackSize=t,t},_getFixedValueByPosition:function(t){var i,s,r,n,o,a,l,d=this,h=d._getTrackSize(),c=d._getThumbSize(),u={number:-1,distance:Number.MAX_VALUE};if(!1===d.int64)for(n=d.step,o=h/(a=(d.max-d.min)/n),l=d._helpers.track.offset()[d._getSetting("left")]-c/2,s=d.max+d.step,"fixedRange"===d.mode&&(s=d.max),r=d.min;r<=s;r+=d.step)Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=r),l+=o;else if("s"===d.int64)for(n=d._step64,a=d._max64.subtract(d._min64).div(d._step64),o=d._divide64((new e.jqx.math).fromNumber(h,10),a),l=d._helpers.track.offset()[d._getSetting("left")]-c/2,u={number:(new e.jqx.math).fromString(d._min64.toString(),10),distance:l},i=(new e.jqx.math).fromString(d._min64.toString(),10);"fixedRange"!==d.mode?i.lessThanOrEqual(d._max64.add(d._step64)):i.lessThanOrEqual(d._max64);i=i.add(d._step64))Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=(new e.jqx.math).fromString(i.toString(),10)),l+=o;else if("u"===d.int64){n=d._step64,a=d._max64.subtract(d._min64).divide(d._step64),o=parseFloat(new BigNumber(h).divide(a).toString()),l=d._helpers.track.offset()[d._getSetting("left")]-c/2,u={number:new BigNumber(d._min64.toString()),distance:l};var p="fixedRange"!==d.mode?d._max64.add(d._step64):d._max64;for(i=new BigNumber(d._min64.toString());1!==i.compare(p);i=i.add(d._step64))Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=new BigNumber(i.toString())),l+=o}return"normal"===d.layout?"horizontal"!==d.orientation||d.rtl?!1===d.int64?d.max+d.min-u.number:d._max64.add(d._min64).subtract(u.number):u.number:"horizontal"===d.orientation?!1===d.int64?d.max+d.min-u.number:d._max64.add(d._min64).subtract(u.number):u.number},_setValue:function(e,t,i){var s=this;if(!s._slideEvent||!s._slideEvent.args.cancel){if(e=s._handleValue(e,t),s._setSliderPosition(e,t,i),s._fixZIndexes(),s._valueChanged(1)&&s._raiseEvent(1,{value:s.getValue()}),s._valueChanged(0)&&s._raiseEvent(0,{value:s.getValue()}),!s.input)return;s.rangeSlider?s.values&&void 0!==s.value.rangeEnd&&void 0!==s.value.rangeStart&&(s.input.value=s.value.rangeStart.toString()+"-"+s.value.rangeEnd.toString()):s.input.value=s.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){var i=this;return e=i._validateValue(e,t),t===i._slider.left&&(!1===i.int64?i.values[0]=e:(i.values[0]=e.toString(),i._value64[0]=e)),t===i._slider.right&&(!1===i.int64?i.values[1]=e:(i.values[1]=e.toString(),i._values64[1]=e)),i.rangeSlider?(i.value={rangeStart:i.values[0],rangeEnd:i.values[1]},!1!==i.int64&&(i._value64={rangeStart:i._values64[0],rangeEnd:i._values64[1]})):!1===i.int64?i.value=e:(i.value=e.toString(),i._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,s=this._helpers.right,r=this._helpers.track,n=this._getSetting("left"),o=this._getSetting("size"),a=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){t=i.position()[n];e(i[0]).position()[n];("vertical"===this.orientation||a)&&(t=s.position()[n])}else t=s.position()[n],"vertical"===this.orientation&&(t=i.position()[n]);this.rangeSlider?this._rangeBar.style[n]=t+"px":"horizontal"!==this.orientation||!a&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[n]=t-r.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[n]=t-r.position().left+i.innerWidth()/2+"px",this._rangeBar.style[o]=Math.abs(s.position()[n]-i.position()[n])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,s){var r,n,o,a,l=parseInt(this._helpers.track[this._getSetting("size")](),10);s&&(s-=this._helpers.track.offset()[this._getSetting("left")]);var d=parseInt(this._helpers.left[this._getSetting("size")](),10);if(isNaN(d)&&(d=0),"s"===this.int64)"number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),a=1-(o=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=o,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=a)):(r=a,"horizontal"!==this.orientation&&(r=o)),n=l*r-d/2,i.style[this._getSetting("left")]=n+"px";else if("u"===this.int64)"number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),a=1-(o=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=o,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=a)):(r=a,"horizontal"!==this.orientation&&(r=o)),n=l*r-d/2,i.style[this._getSetting("left")]=n+"px";else if(!1===this.int64){"normal"===this.layout?(r=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=1-(t-this.min)/(this.max-this.min))):(r=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(r=(t-this.min)/(this.max-this.min))),n=l*r-d/2;i.style[this._getSetting("left")];i.style[this._getSetting("left")]=n+"px",this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()}this.tooltip&&this._showTooltip(i,this.value),this.value>0?e(i).addClass(this.toThemeProperty("jqx-slider-has-value")):e(i).removeClass(this.toThemeProperty("jqx-slider-has-value")),this._refreshRangeBar()},_divide64:function(e,t){var i,s,r,n;if(i=e.toString(),(r=t.toString()).length>15){var o=r.length-15;if(r=r.slice(0,15)+"."+r.slice(15),n=parseFloat(r),i.length>o){var a=i.length-o;i=i.slice(0,a)+"."+i.slice(a)}else if(i.length===o)i="0."+i;else{for(var l="0.",d=0;d<o-i.length;d++)l+="0";i=l+""+i}s=parseFloat(i)}else"s"===this.int64?(s=e.toNumber(),n=t.toNumber()):(s=parseFloat(e.toString()),n=parseFloat(t.toString()));return s/n},_showTooltip:function(t,i){var s=this;if(s._slideStarted||null!=s._capturedElement||s._mouseDown){if(i=s._formatLabel(i,!0),!s.toolTipCreated){var r="tooltip"+s.element.id,n=document.createElement("div");n.style.display="none",n.style.position="absolute",n.style.visibility="hidden",n.style.boxShadow="none",n.style.top="0px",n.style.left="0px",n.style.zIndex=99999,n.setAttribute("id",r),document.body.appendChild(n);var o=document.createElement("div");o.setAttribute("id",r+"Main"),n.appendChild(o);var a=document.createElement("div");a.setAttribute("id",r+"Text"),o.appendChild(a);var l=document.createElement("div");l.setAttribute("id",r+"Arrow"),l.style.top="0px",l.style.left="0px",n.appendChild(l),s.sliderTooltip=n,s.sliderTooltipObj=new jqxHelper(s.sliderTooltip),s.sliderTooltipObj.initAnimate&&s.sliderTooltipObj.initAnimate(),a.innerHTML="<span>"+i+"</span>",s.sliderTooltip.className=s.toThemeProperty("jqx-slider-tooltip jqx-tooltip jqx-popup "+s.orientation),s.rangeSlider&&(s.sliderTooltip.className+=" range"),s.template&&(s.sliderTooltip.className+=" jqx-"+s.template+"-slider"),o.className=s.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),a.className=s.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),l.className=s.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),s.sliderTooltipContent=a,s.sliderTooltipArrow=l,s.sliderTooltipMain=o,s.sliderTooltipArrowObj=new jqxHelper(s.sliderTooltipArrow),s.arrowSize=5,s.toolTipCreated=!0,s.rangeSlider&&(s.sliderTooltipArrow.style.visibility="hidden")}var d=new jqxHelper(t).offset(),h=new jqxHelper(t).outerWidth();s.sliderTooltip.style.display="block",s.sliderTooltip.style.visibility="visible",e(s.sliderTooltip).addClass("init"),e(s.sliderTooltip).removeClass("hide"),setTimeout(function(){e(s.sliderTooltip).addClass("show")});var c=s.sliderButtonSize+s.tickSize;if(s.rangeSlider){var u=s.value?s.value.rangeStart:"",p=s.value?s.value.rangeEnd:"";""!==u?s.sliderTooltipContent.innerHTML="<span>"+u+" - "+p+"</span>":(s.isMaterialized()||(s.sliderTooltip.style.display="none",s.sliderTooltip.style.visibility="hidden"),e(s.sliderTooltip).removeClass("show"),e(s.sliderTooltip).addClass("hide"))}else s.sliderTooltipContent.innerHTML="<span>"+i.toString()+"</span>";var m,f,g,v=s.sliderTooltip.offsetWidth;if("horizontal"===s.orientation)switch(f=1+d.left+h/2-v/2,s.rangeSlider&&(g=(s._helpers.right.offset().left-s._helpers.left.offset().left-s._thumbSize)/2,f=s._helpers.left.offset().left-v/2+g+s._thumbSize),s.tooltipPosition){case"far":m=d.top+c+s.arrowSize+6,s.sliderTooltipObj.offset({top:m,left:f}),s.sliderTooltipObj.addClass(s.toThemeProperty("far")),s.sliderTooltipArrowObj.addClass(s.toThemeProperty("jqx-tooltip-arrow-t-b")),s.sliderTooltipArrow.style.borderTopWidth="0px",s.sliderTooltipArrow.style.borderRightWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderBottomWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderLeftWidth=s.arrowSize+"px",s.sliderTooltipArrowObj.offset({top:m-s.arrowSize+1,left:f-s.arrowSize/2-1+v/2});break;case"near":m=d.top-s.arrowSize-s.sliderTooltipObj.innerHeight()-4,s.sliderTooltipObj.offset({top:m,left:f}),s.sliderTooltipArrowObj.addClass(s.toThemeProperty("jqx-tooltip-arrow-t-b")),s.sliderTooltipArrow.style.borderTopWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderRightWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderBottomWidth="0px",s.sliderTooltipArrow.style.borderLeftWidth=s.arrowSize+"px",s.sliderTooltipArrowObj.offset({top:m+s.sliderTooltipObj.innerHeight(),left:f-s.arrowSize/2-1+v/2})}else{var x=s.sliderTooltipObj.innerHeight();switch(f=d.left-v-s.arrowSize-s.tickSize-2,m=d.top+s._thumbSize/2-x/2-1,s.rangeSlider&&(g=(s._helpers.right.offset().top-s._helpers.left.offset().top-s._thumbSize)/2,m=s._helpers.left.offset().top-x/2+g+s._thumbSize),s.tooltipPosition){case"far":f=d.left+s._thumbSize+s.arrowSize+s.tickSize,s.sliderTooltipObj.offset({top:m,left:f}),s.sliderTooltipObj.addClass(s.toThemeProperty("far")),s.sliderTooltipArrowObj.addClass(s.toThemeProperty("jqx-tooltip-arrow-l-r")),s.sliderTooltipArrow.style.borderTopWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderRightWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderBottomWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderLeftWidth="0px",s.sliderTooltipArrowObj.offset({top:m+s.sliderTooltipObj.innerHeight()/2-s.arrowSize/2-2,left:f-s.arrowSize+1});break;case"near":s.sliderTooltipObj.offset({top:m,left:f+2}),s.sliderTooltipArrowObj.addClass(s.toThemeProperty("jqx-tooltip-arrow-l-r")),s.sliderTooltipArrow.style.borderTopWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderRightWidth="0px",s.sliderTooltipArrow.style.borderBottomWidth=s.arrowSize+"px",s.sliderTooltipArrow.style.borderLeftWidth=s.arrowSize+"px",s.sliderTooltipArrowObj.offset({top:m+s.sliderTooltipObj.innerHeight()/2-s.arrowSize/2-2,left:f+v+3})}}e(s.sliderTooltip).removeClass("init")}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,s,r){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:r}),e(t._rightButton).jqxRepeatButton({template:r}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(s,r,t.host),e(t._leftButton).jqxRepeatButton({theme:r}),e(t._rightButton).jqxRepeatButton({theme:r});break;case"disabled":r?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&(t.element.style.minWidth="vertical"===r?"96px":"");break;case"buttonsPosition":t._refresh();break;case"rangeSlider":t.value=r?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var n=r;"s"===t.int64?(n=(new e.jqx.math).fromString(r.toString(),10),t._value64=n):"u"===t.int64?(n=new BigNumber(r),t._value64=n):!1===t.int64&&(t.rangeSlider||(t.value=parseFloat(r))),t.setValue(n);break;case"values":var o=r;"s"===t.int64?(o=[(new e.jqx.math).fromString(r[0].toString(),10),(new e.jqx.math).fromString(r[1].toString(),10)],t._values64=o):"u"===t.int64&&(o=[new BigNumber(r[0]),new BigNumber(r[1])],t._values64=o),t.setValue(o);break;case"tooltip":break;case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(r));break;case"editableLabels":t._performLayout(),t._initialSettings();break;case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings();break;default:t._refresh()}},incrementValue:function(t){var i,s=this;!1===s.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=s.step),s.rangeSlider?s.values[1]<s.max&&s._setValue(s.values[1]+t,s._slider.right):s.values[1]>=s.min&&s.values[1]<s.max&&s._setValue(s.values[1]+t,s._slider.right)):"s"===s.int64?(t=void 0===t||isNaN(parseFloat(t))?s._step64:(new e.jqx.math).fromString(t.toString(),10),(i=s._values64[1].add(t)).lessThan(s._values64[1])&&(i=s._max64),s.rangeSlider?s._values64[1].lessThan(s._max64)&&s._setValue(i,s._slider.right):s._values64[1].greaterThanOrEqual(s._min64)&&s._values64[1].lessThan(s._max64)&&s._setValue(i,s._slider.right)):"u"===s.int64&&(t=void 0===t||isNaN(parseFloat(t))?s._step64:new BigNumber(t),-1===(i=s._values64[1].add(t)).compare(s._values64[1])&&(i=s._max64),s.rangeSlider?-1===s._values64[1].compare(s._max64)&&s._setValue(i,s._slider.right):-1!==s._values64[1].compare(s._min64)&&-1===s._values64[1].compare(s._max64)&&s._setValue(i,s._slider.right)),s.input&&e.jqx.aria(this,"aria-valuenow",s.input.value)},decrementValue:function(t){var i,s=this;!1===s.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=s.step),s.rangeSlider?s.values[0]>s.min&&s._setValue(s.values[0]-t,s._slider.left):s.values[1]<=s.max&&s.values[1]>s.min&&s._setValue(s.values[1]-t,s._slider.right)):"s"===s.int64?(t=void 0===t||isNaN(parseFloat(t))?s._step64:(new e.jqx.math).fromString(t.toString(),10),s.rangeSlider?((i=s._values64[0].subtract(t)).greaterThan(s._values64[0])&&(i=s._min64),s._values64[0].greaterThan(s._min64)&&s._setValue(i,s._slider.left)):((i=s._values64[1].subtract(t)).greaterThan(s._values64[1])&&(i=s._min64),s._values64[1].lessThanOrEqual(s._max64)&&s._values64[1].greaterThan(s._min64)&&s._setValue(i,s._slider.right))):"u"===s.int64&&(t=void 0===t||isNaN(parseFloat(t))?s._step64:new BigNumber(t),s.rangeSlider?(1===(i=s._values64[0].subtract(t)).compare(s._values64[0])&&(i=s._min64),1===s._values64[0].compare(s._min64)&&s._setValue(i,s._slider.left)):(1===(i=s._values64[1].subtract(t)).compare(s._values64[1])&&(i=s._min64),1!==s._values64[1].compare(s._max64)&&1===s._values64[1].compare(s._min64)&&s._setValue(i,s._slider.right))),s.input&&e.jqx.aria(this,"aria-valuenow",s.input.value)},val:function(t){var i,s=this;if(0===arguments.length||!e.isArray(t)&&"object"==typeof t)return s.getValue();!1===s.int64?s.setValue(t):"s"===s.int64?(i=(new e.jqx.math).fromString(t.toString(),10),s.setValue(i)):"u"===s.int64&&(i=new BigNumber(t),s.setValue(i))},setValue:function(t){var i,s,r,n=this;(!1===n.int64||"string"!=typeof t&&"number"!=typeof t||("s"===n.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===n.int64&&(t=new BigNumber(t))),n.rangeSlider)?(arguments.length<2?t instanceof Array?(i=t[0],s=t[1]):"object"==typeof t&&void 0!==t.rangeStart&&void 0!==t.rangeEnd&&(i=t.rangeStart,s=t.rangeEnd):(i=arguments[0],s=arguments[1]),n._triggerEvents=!1,n._setValue(s,n._slider.right),n._triggerEvents=!0,n._setValue(i,n._slider.left)):(n._triggerEvents=!1,r=!1===n.int64?n.min:n._min64,n._setValue(r,n._slider.left),n._triggerEvents=!0,n._setValue(t,n._slider.right));n.input&&e.jqx.aria(this,"aria-valuenow",n.input.value)},getValue:function(){var e=this.value;return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(t){var i=this;t?(i._addEventHandlers(),i.disabled=!1,i._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(i._removeEventHandlers(),i.disabled=!0,i._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(i._leftButton).jqxRepeatButton({disabled:this.disabled}),e(i._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){var i,s,r=this,n=document.createElement("span");if(n.className=r.toThemeProperty("jqx-widget jqx-slider-label"),n.style.position="absolute",n.visibility="hidden",r.tickLabelStyleSettings){var o=r.tickLabelStyleSettings;n.style.fontSize=o.fontSize,n.style.fontFamily=o.fontFamily,n.style.fontWeight=o.fontWeight,n.style.fontStyle=o.fontStyle}"normal"===r.layout?(i=r._formatLabel(r.min),s=r._formatLabel(r.max)):(i=r._formatLabel(r.max),s=r._formatLabel(r.min)),document.body.appendChild(n),n.innerHTML=i;var a="horizontal"===r.orientation?n.offsetWidth:n.offsetHeight;n.innerHTML=s;var l="horizontal"===r.orientation?n.offsetWidth:n.offsetHeight;function d(e){var t,i,s;return!0===r.showButtons?(t=27,i=0):(t=0,i=8),s=Math.ceil(e/2)+1-t,s=Math.max(s,i)}n.parentNode.removeChild(n),(!0===t||!0!==t&&(void 0===r.padding||e.isEmptyObject(r.padding)))&&("horizontal"===r.orientation?r.padding={left:d(a),right:d(l)}:r.padding={bottom:d(a),top:d(l)})},_editableLabels:function(){var t=this;function i(i,s){if(!t.disabled){var o=function(e){var i=document.createElement("span");i.className=t.toThemeProperty("jqx-widget jqx-slider-label"),i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),i.innerHTML=e;var s={width:i.scrollWidth,height:i.scrollHeight};return i.parentNode.removeChild(i),s}(t._formatLabel(s));n.offset(e(i).offset()),r.style.width=o.width+10+"px",r.style.height=o.height+"px",r.style.visibility="visible",r.value=s,r.select(),t._editingLabels=!0}}function s(i,s,r,n){if(i===t[s].toString())return!1;if("s"===t.int64){var o=(new e.jqx.math).fromString(i,10);if("min"===s&&-1!==o.compare(t["_"+n+"64"])||"max"===s&&1!==o.compare(t["_"+n+"64"]))return!1;t[r]=o,t[s]=i}else if("u"===t.int64){var a=new BigNumber(i);if(-1===a.compare(0)||"min"===s&&-1!==a.compare(t["_"+n+"64"])||"max"===s&&1!==a.compare(t["_"+n+"64"]))return!1;t[r]=a,t[s]=i}else{if("min"===s&&i>=t[n]||"max"===s&&i<=t[n])return!1;t[s]=parseFloat(i)}}if(t.showTickLabels&&t.editableLabels){var r,n,o=t.element.id,a=t.element.getElementsByClassName("jqx-slider-label-top"),l=t.element.getElementsByClassName("jqx-slider-label-bottom"),d=t.ticksPosition,h=/^-?\d+\.?\d*$/;if("both"===d||"top"===d){var c,u,p=a[0],m=a[a.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(c=p,u=m):(c=m,u=p),t.addHandler(e(c),"dblclick.jqxSlider"+o,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(u),"dblclick.jqxSlider"+o,function(){i(this,t.max),t._editedProperty="max"})}if("both"===d||"bottom"===d){var f,g,v=l[0],x=l[l.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(f=v,g=x):(f=x,g=v),t.addHandler(e(f),"dblclick.jqxSlider"+o,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(g),"dblclick.jqxSlider"+o,function(){i(this,t.max),t._editedProperty="max"})}!0!==t._labelInputCreated?((r=document.createElement("input")).className="jqx-slider-label-input",t.element.appendChild(r)):r=t.element.querySelector(".jqx-slider-label-input"),n=e(r),!0!==t._labelInputCreated&&(t.addHandler(n,"blur.jqxGauge"+t.element.id,function(){var e=this.value;if(r.style.visibility="hidden",h.test(e)){if("min"===t._editedProperty){if(!1===s(e,"min","_min64","max"))return}else if(!1===s(e,"max","_max64","min"))return;t._refresh(),t._editingLabels=!1}}),t._labelInputCreated=!0)}}})}(jqxBaseFramework),function(e){e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])}}),e.jqx.jqxWidget("jqxSortable","",{}),e.extend(e.jqx._jqxSortable.prototype,{defineInstance:function(){var t={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return this===e.jqx._jqxSortable.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._render()},_render:function(){var t=this;this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.containerCache={};var i=e(i||t.defaultElement||this)[0];t.document=e(i.style?i.ownerDocument:i.document||i),t.window=e(t.document[0].defaultView||t.document[0].parentWindow),t.host.addClass(t.toThemeProperty("jqx-widget jqx-sortable")),t.refresh(),t.floating=!!t.itemsArray.length&&("x"===t.axis||t._isFloating(t.itemsArray[0].item)),t.offset=t.host.offset(),t._handleMouse(),t._cancelSelect(),t.ready=!0},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxSortable"+this.element.id:e+".jqxSortable"+this.element.id},_handleMouse:function(){var t=this;t.addHandler(this.host,this._getEvent("mousedown"),function(e){return t._mouseDown(e)}),t.addHandler(t.host,this._getEvent("click"),function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),t.started=!1},widget:function(){return this.host},_mouseDestroy:function(){var t=this;t.host.off("."+this.widgetName),t._mouseMoveDelegate&&(t.removeHandler(e(document),this._getEvent("mousemove")),t.removeHandler(e(document),this._getEvent("mouseup")))},_mouseDown:function(t){var i=this;if(!i.mouseHandled){if(i._mouseMoved=!1,i._isTouchDevice){var s=e.jqx.position(t);t.pageX=s.left,t.pageY=s.top}i._mouseStarted&&i._mouseUp(t),i._mouseDownEvent=t,this._isTouchDevice&&(t.which=1);var r=1===t.which,n=!("string"!=typeof this.cancel||!t.target.nodeName)&&e(t.target).closest(this.cancel).length;if(this._isTouchDevice&&(r=!0),!r||n||!this._mouseCapture(t))return!0;if(i.mouseDelayMet=!i.delay,i.mouseDelayMet||(i._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},i.delay)),i._mouseDistanceMet(t)&&i._mouseDelayMet(t)&&(i._mouseStarted=!1!==i._mouseStart(t),!i._mouseStarted))return t.preventDefault(),!0;!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),i._mouseMoveDelegate=function(e){return i._mouseMove(e)},i._mouseUpDelegate=function(e){var t=i._mouseUp(e);return!!i._isTouchDevice||t},i.addHandler(e(document),this._getEvent("mousemove"),i._mouseMoveDelegate),i.addHandler(e(document),this._getEvent("mouseup"),i._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=function(e){i._mouseUp(e)},a=null;window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",o,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",o))}}catch(e){}if(this._isTouchDevice)return!0;t.preventDefault();return!0}},_mouseMove:function(t){var i=this;if(this._isTouchDevice){t.which=1;var s=e.jqx.position(t);t.pageX=s.left,t.pageY=s.top}if(i._mouseMoved)if(e.jqx.browser.msie&&e.jqx.browser.version>11){if(!t.which)return i._mouseUp(t)}else{if(e.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!t.button)return i._mouseUp(t);if(!t.which)return i._mouseUp(t)}return(t.which||t.button)&&(i._mouseMoved=!0),i._mouseStarted?(i._mouseDrag(t),t.preventDefault()):(i._mouseDistanceMet(t)&&i._mouseDelayMet(t)&&(i._mouseStarted=!1!==i._mouseStart(i._mouseDownEvent,t),i._mouseStarted?i._mouseDrag(t):i._mouseUp(t)),!i._mouseStarted)},_mouseUp:function(t){var i=this;try{i.removeHandler(e(document),this._getEvent("mousemove")),i.removeHandler(e(document),this._getEvent("mouseup")),i._mouseStarted&&(i._mouseStarted=!1,t.target===i._mouseDownEvent.target&&e.data(t.target,i.widgetName+".preventClickEvent",!0),i._mouseStop(t))}catch(e){}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(t){var i=this.css("position"),s="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=e(this);return(!s||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:e(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var e=this.itemsArray.length-1;e>=0;e--)this.itemsArray[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,r=!1,n=this;return!n.reverting&&(!n.disabled&&"static"!==n.type&&(n._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,n.widgetName+"-item")===n)return s=e(this),!1}),e.data(t.target,n.widgetName+"-item")===n&&(s=e(t.target)),!!s&&(!(n.handle&&!i&&(e(n.handle,s).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(n.currentItem=s,n._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,s){var r,n,o=this;if(o.currentContainer=this,o._currentContainer=this,o.refreshPositions(),o.helper=o._utility(t),o._cacheHelperProportions(),o._storeMargins(),o.scrollParent=o.helper.scrollParent(),o.offset=o.currentItem.offset(),o.offset={top:o.offset.top-o.margins.top,left:o.offset.left-o.margins.left},e.extend(o.offset,{click:{left:t.pageX-o.offset.left,top:t.pageY-o.offset.top},parent:o._getParentOffset(),relative:o._getRelativeOffset()}),o.helper.css("position","absolute"),o.cssPosition=o.helper.css("position"),o.originalPosition=o._generatePosition(t),o.originalPageX=t.pageX,o.originalPageY=t.pageY,o.cursorAt&&o._adjustOffsetFromHelper(o.cursorAt),o.domPosition={prev:o.currentItem.prev()[0],parent:o.currentItem.parent()[0]},o.helper[0]!==o.currentItem[0]&&o.currentItem.hide(),o._createPlaceholder(),o.containment&&o._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=o.document.find("body"),o.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),o.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.opacity&&(o.helper.css("opacity")&&(o._storedOpacity=o.helper.css("opacity")),o.helper.css("opacity",o.opacity)),o.zIndex&&(o.helper.css("zIndex")&&(o._storedZIndex=o.helper.css("zIndex")),o.helper.css("zIndex",o.zIndex)),o.scrollParent[0]!==o.document[0]&&"HTML"!==o.scrollParent[0].tagName&&(o.overflowOffset=o.scrollParent.offset()),o._raiseEvent("9",o._uiHash()),o._preserveHelperProportions||o._cacheHelperProportions(),!s)for(r=o.owners.length-1;r>=0;r--)o.owners[r]._raiseEvent("0",o._uiHash(this));return e.jqx.ddmanager&&(e.jqx.ddmanager.current=this),e.jqx.ddmanager&&!o.dropBehaviour&&e.jqx.ddmanager.prepareOffsets(this,t),o.dragging=!0,o.helper.addClass("jqx-sortable-helper"),o._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,r,n,o=this,a=!1,l=this;for(l.position=l._generatePosition(t),l.positionAbs=l._convertPositionTo("absolute"),l.lastPositionAbs||(l.lastPositionAbs=l.positionAbs),l.scroll&&(l.scrollParent[0]!==l.document[0]&&"HTML"!==l.scrollParent[0].tagName?(l.overflowOffset.top+l.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-l.overflowOffset.top<o.scrollSensitivity&&(l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop-o.scrollSpeed),l.overflowOffset.left+l.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-l.overflowOffset.left<o.scrollSensitivity&&(l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-l.document.scrollTop()<o.scrollSensitivity?a=l.document.scrollTop(l.document.scrollTop()-o.scrollSpeed):l.window.height()-(t.pageY-l.document.scrollTop())<o.scrollSensitivity&&(a=l.document.scrollTop(l.document.scrollTop()+o.scrollSpeed)),t.pageX-l.document.scrollLeft()<o.scrollSensitivity?a=l.document.scrollLeft(l.document.scrollLeft()-o.scrollSpeed):l.window.width()-(t.pageX-l.document.scrollLeft())<o.scrollSensitivity&&(a=l.document.scrollLeft(l.document.scrollLeft()+o.scrollSpeed))),!1!==a&&e.jqx.ddmanager&&!o.dropBehaviour&&e.jqx.ddmanager.prepareOffsets(this,t)),l.positionAbs=l._convertPositionTo("absolute"),l.axis&&"y"===l.axis||(l.helper[0].style.left=l.position.left+"px"),l.axis&&"x"===l.axis||(l.helper[0].style.top=l.position.top+"px"),i=l.itemsArray.length-1;i>=0;i--)if(r=(s=l.itemsArray[i]).item[0],(n=l._intersectsWithPointer(s))&&s.instance===l.currentContainer&&!(r===l.currentItem[0]||l.placeholder[1===n?"next":"prev"]()[0]===r||e.contains(l.placeholder[0],r)||"semi-dynamic"===l.type&&e.contains(l.host[0],r))){if(l.direction=1===n?"down":"up","pointer"!==l.tolerance&&!l._intersectsWithSides(s))break;l._rearrange(t,s),l._raiseEvent("2",l._uiHash());break}return l._contactOwners(t),e.jqx.ddmanager&&e.jqx.ddmanager.drag(this,t),l._raiseEvent("8",l._uiHash()),l.lastPositionAbs=l.positionAbs,!1},_mouseStop:function(t,i){var s=this;if(t){if(e.jqx.ddmanager&&!this.dropBehaviour&&e.jqx.ddmanager.drop(this,t),s.revert){var r=(s=this).placeholder.offset(),n=s.axis,o={};n&&"x"!==n||(o.left=r.left-s.offset.parent.left-s.margins.left+(s.offsetParent[0]===s.document[0].body?0:s.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=r.top-s.offset.parent.top-s.margins.top+(s.offsetParent[0]===s.document[0].body?0:s.offsetParent[0].scrollTop)),s.reverting=!0,e(this.helper).animate(o,parseInt(this.revert,10)||500,function(){s._clear(t)})}else s._clear(t,i);return!1}},cancelSort:function(){var t=this;if(t.dragging){t._mouseUp({target:null}),"original"===t.helper?t.currentItem.css(t._storedCSS).removeClass("jqx-sortable-helper"):t.currentItem.show();for(var i=t.owners.length-1;i>=0;i--)t.owners[i]._raiseEvent("3",t._uiHash(this)),t.owners[i].containerCache.over&&(t.owners[i]._raiseEvent("4",t._uiHash(this)),t.owners[i].containerCache.over=0)}return t.placeholder&&(t.placeholder[0].parentNode&&t.placeholder[0].parentNode.removeChild(t.placeholder[0]),"original"!==t.helper&&t.helper&&t.helper[0].parentNode&&t.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),t.domPosition.prev?e(t.domPosition.prev).after(t.currentItem):e(t.domPosition.parent).prepend(t.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,n=e.left,o=n+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,h=this.offset.click.left,c="x"===this.axis||s+d>a&&s+d<l,u="y"===this.axis||t+h>n&&t+h<o,p=c&&u;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:n<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!s&&(this.floating?n&&"right"===n||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,s,r,n,o=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(s=(r=e(l[i],this.document[0])).length-1;s>=0;s--)(n=e.data(r[s],this.widgetFullName).instance)&&n!==this&&!n.disabled&&a.push([e.isFunction(n.items)?n.items.call(n.host):e(n.items,n.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),n]);function d(){o.push(this)}for(a.push([e.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):e(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(d);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=e.grep(this.itemsArray,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.itemsArray=[],this.owners=[this];var i,s,r,n,o,a,l,d,h=this.itemsArray,c=[[e.isFunction(this.items)?this.items.call(this.host[0],t,{item:this.currentItem}):e(this.items,this.host),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(s=(r=e(u[i],this.document[0])).length-1;s>=0;s--)(n=e.data(r[s],this.widgetName))&&n!==this&&!n.instance.disabled&&(c.push([e.isFunction(n.instance.items)?n.items.call(n.instance.host[0],t,{item:this.currentItem}):e(n.instance.items,n.instance.host),n.instance]),this.owners.push(n.instance));for(i=c.length-1;i>=0;i--)for(o=c[i][1],s=0,d=(a=c[i][0]).length;s<d;s++)(l=e(a[s])).data(this.widgetName+"-item",o),h.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,s,r,n;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.itemsArray.length-1;i>=0;i--)(s=this.itemsArray[i]).instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(r=this.toleranceElement?e(this.toleranceElement,s.item):s.item,t||(s.width=r.outerWidth(),s.height=r.outerHeight()),n=r.offset(),s.left=n.left,s.top=n.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(i=this.owners.length-1;i>=0;i--)n=this.owners[i].host.offset(),this.owners[i].containerCache.left=n.left,this.owners[i].containerCache.top=n.top,this.owners[i].containerCache.width=this.owners[i].host.outerWidth(),this.owners[i].containerCache.height=this.owners[i].host.outerHeight();return this},_cancelSelect:function(){this.host.addClass("jqx-disableselect")},_createPlaceholder:function(t){var i,s=t=t||this;s.placeholderShow&&s.placeholderShow.constructor!==String||(i=s.placeholderShow,s.placeholderShow={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===s&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){i&&!s.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholderShow.element.call(t.host,t.currentItem)),t.currentItem.after(t.placeholder),t.placeholderShow.update(t,t.placeholder)},_contactOwners:function(t){var i,s,r,n,o,a,l,d,h,c,u=null,p=null;for(i=this.owners.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.owners[i].host[0]))if(this._intersectsWith(this.owners[i].containerCache)){if(u&&e.contains(this.owners[i].host[0],u.host[0]))continue;u=this.owners[i],p=i}else this.owners[i].containerCache.over&&(this.owners[i]._raiseEvent("4",this._uiHash(this)),this.owners[i].containerCache.over=0);if(u)if(1===this.owners.length)this.owners[p].containerCache.over||(this.owners[p]._raiseEvent("5",this._uiHash(this)),this.owners[p].containerCache.over=1);else{r=1e4,n=null,o=(h=u.floating||this._isFloating(this.currentItem))?"left":"top",a=h?"width":"height",c=h?"clientX":"clientY";var m=this.itemsArray;for(s=m.length-1;s>=0;s--)e.contains(this.owners[p].host[0],m[s].item[0])&&m[s].item[0]!==this.currentItem[0]&&(l=m[s].item.offset()[o],d=!1,t[c]-l>m[s][a]/2&&(d=!0),Math.abs(t[c]-l)<r&&(r=Math.abs(t[c]-l),n=m[s],this.direction=d?"up":"down"));if(!n&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[p])return void(this.currentContainer.containerCache.over||(this.owners[p]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[p].host.children().length+1>this.owners[p].maxItems)return this.currentContainer=this._currentContainer,n=this._rearrange(t,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.owners[p].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[p]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[p],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[p]._raiseEvent("5",this._uiHash(this)),this.owners[p].containerCache.over=1}},_utility:function(t){var i=this,s=e.isFunction(i.helper)?e(i.helper.apply(this.host[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s.scrollParent=function(t){var i=this.css("position"),s="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=e(this);return(!s||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:e(this[0].ownerDocument||document)},s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:r.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:r.scrollLeft())*s}},_generatePosition:function(t){var i,s,r=this,n=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/r.grid[0])*r.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-r.grid[0]:s+r.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!s)})},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_clear:function(e,t){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();function r(e,t,i){return function(s){var r=this._events.indexOf(e);i._raiseEvent(r,t._uiHash(t))}}for(this.fromOutside&&!t&&s.push(function(e){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._raiseEvent("7",this._uiHash())}),s.push(function(e){return function(t){e._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.owners.length-1;i>=0;i--)t||s.push(r("deactivate",this,this.owners[i])),this.owners[i].containerCache.over&&(s.push(r("out",this,this.owners[i])),this.owners[i].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),t||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},instance:function(){return this},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.host:null}},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"disabled":this.disabled=s}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSplitter","",{}),e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===e.jqx._jqxSplitter.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||"undefined"==t)this.overlay.remove(),this.overlay=null;else if(1==t){this.overlay=e("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return!(t.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(t),!1)))},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var i="horizontal"==this.orientation?"top":"left",s="vertical"==this.orientation?"width":"height";if(this._position=e.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[i]-this._dragStart[i])>=3){var r=this.splitBar.coord();return this._cloneStart={left:r.left,top:r.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var n,o,a=this.host[s](),l=a/100,d=this._splitBarClone[s]()+2,h=parseInt(this.host.coord()[i]),c=this._position[i]-this._dragStart[i]+this._cloneStart[i]-h;return 0>c&&(c=0),c>a+0-d&&(c=a+0-d),n=this.panels[0].min,-1!=(o=this.panels[1].min).toString().indexOf("%")&&(o=parseFloat(o)*l),-1!=n.toString().indexOf("%")&&(n=parseFloat(n)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c<n&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c=n),c>a+0-d-o&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c=a+0-d-o),this._splitBarClone.css(i,c),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),s=this.host[e](),r=1/(s/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(i)*r+"%",this.panels[1].size=100-parseFloat(i)*r+"%"):(this.panels[0].size=parseFloat(i),this.panels[1].size=s-parseFloat(i)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(e.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(e){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,function(e){return t._drag(e)}),this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var i=t[0].className.split(" "),s=t[1].className.split(" ");if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=s.indexOf("jqx-reset")&&-1!=s.indexOf("jqx-splitter")&&-1!=s.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=e("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=(t=this.host.children()).length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=e(t[0]),this.panel2=this.panels[1].element=e(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",e.each(this.panels,function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(t,i,s,r){"panels"!==i&&"orientation"!==i&&"showSplitBar"!==i?("touchMode"===i&&(t._isTouchDevice=r),"disabled"===i?r?t.disable():t.enable():"theme"===i?e.jqx.utilities.setTheme(s,r,t.host):t.refresh()):t.render()},_layoutPanels:function(){var e,t,i,s,r=this,n="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[n](),d=l/100,h=1/d,c=h*a,u=this.panel1,p=this.panel2,m=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(s=!0),e=this.panels[0].min,-1!=(t=this.panels[1].min).toString().indexOf("%")&&(t=parseFloat(t)*d),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*d),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),p.width(this.host.width())):(u.height(this.host.height()),p.height(this.host.height())));if(i){var f=Math.max(t,l-a);u[n](0),p[n](f)}else if(s){f=Math.max(e,l-a);p[n](0),u[n](f)}else if(-1!=m.toString().indexOf("%")){var g=100-parseFloat(m);if(u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%"),(x=p[n]())<t){var v=(f=x-t)*h;m=parseFloat(m)+parseFloat(v);g=100-parseFloat(m);u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%")}if(u[n]()<e){v=e*h;u.css(n,parseFloat(v)+"%")}}else{var x=l-m-a;u[0].style[n]!=m+"px"&&u[n](m),p[0].style[n]!=x+"px"&&p[n](x),x<t&&(m+=x-t,p[n](t),u[n](m)),m<e&&u[n](e)}!function(){var e=r.panel1[n]();if(r.splitBar[0].style[o]!=e+"px"){var t=e;"vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="",r.splitBar[0].style.borderRightColor="",r.splitBarButton[0].style.width=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.left="0px"):(r.splitBar[0].style.borderTopColor="",r.splitBar[0].style.borderBottomColor="",r.splitBarButton[0].style.height=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.top="0px"),r._hasBorder&&(l-a==e?"vertical"==r.orientation?(r.splitBar[0].style.borderRightColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px"):(r.splitBar[0].style.borderBottomColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px"):0==e&&("vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.left="-1px"):(r.splitBar[0].style.borderTopColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.top="-1px"))),r.splitBar[0].style[o]=t+"px"}r.panel2[0].style[o]!=e+a+"px"&&(r.panel2[0].style[o]=e+a+"px")}(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i;this.orientation;var r=new Array;return r[0]={},r[1]={},r[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,r[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,r[0].min=this.panels[0].min,r[1].min=this.panels[1].min,r[0].collapsible=this.panels[0].collapsible,r[1].collapsible=this.panels[1].collapsible,r[0].collapsed=this.panels[0].collapsed,r[1].collapsed=this.panels[1].collapsed,s.args.panels=r,this.host.trigger(s)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===e.jqx._jqxSwitchButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":i.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var s=e("<div></div>",i);s[0].style.cssText=t.field.style.cssText,t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(s);var r=t.host.data();if(t.host=s,t.host.data(r),t.element=s[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();var i=this;this.canRaiseEvents=!1,this.checked||this._switchButton(this.checked,0,!1),this.disabled&&(this.element.disabled=!0),setTimeout(function(){i.host.hide(),i.host.show(1)},250)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb;var n=this._onLabel,o=this._offLabel;n.css("position","relative"),n.css("top","1px"),n.css("margin-left","1px"),o.css("position","relative"),o.css("top","1px"),o.css("left","-2px"),o.css("margin-right","1px"),o.height(n.height()-2),o.width(n.width()-3),n.height(n.height()-2),n.width(n.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),n=e[s]()-t[r](),o=this._borders[this._dir("opposite")]/2;this._onLabel[s](n+o),this._offLabel[s](n+o),this.rtl&&this._onLabel[s](n+2*o),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),s=e.outerHeight(),r=this._borders[this.orientation]/2||0;0==s&&(s=14);var n=Math.floor((i-s)/2)+r;e.css("margin-top",n),t.css("margin-top",n)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,s=parseInt(i.css("margin-"+t._dir("pos")),10)||0;t._dropHandler(s)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var s=t._dir("pos"),r=t._wrapper,n=t._buttonStartPosition[s]+i[s]-t._mouseStartPosition[s];n=t._validatePosition(n);return t._dragged=!0,r.css("margin-"+t._dir("pos"),n),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:i>e?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0);return Math.abs(e-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,n={},o=this._borders[this._dir("opposite")],a=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o,this.metroMode&&(a+=5)):this.metroMode&&(a-=3):e||(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o),n["margin-"+this._dir("pos")]=-a,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(n,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),e!==r.checked&&r._raiseEvent(2,{check:r.checked,checked:r.checked}),r.checked=e,i||r._handleEvent(e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host.find("*");e.each(t,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_themeChanger:function(t,i,s){if(t){void 0===s&&(s=this.host);for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(n.push(r[l]),o.push(r[l].replace(t,i)));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(l=0;l<a.length;l+=1)this._themeChanger(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":r?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":r?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(r);break;case"offLabel":t.setOffLabel(r);break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===e.jqx._jqxTabs.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,e.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var t=this.host.children(),i=0;i<t.length;i++){var s=t[i];"ul"===s.nodeName.toLowerCase()?this._unorderedList=s:"div"===s.nodeName.toLowerCase()&&this._contentList.push(s)}this._unorderedListHelper=e(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var r=this._titleList.length;r;)r--,this._titleList[r].setAttribute("role","tab"),this._titleList[r].getAttribute("id")||this._titleList[r].setAttribute("id",this.element.id+"Tab"+r),this._contentList[r].setAttribute("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){if("none"===this.host.css("display"))return!0;var t=!1;return e.each(this.host.parents(),function(){if("none"===e(this).css("display"))return t=!0,!1}),t},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,function(){i?(t._uiRefresh(!0),i=!1):t.refresh(),t._refreshBarPosition()})},resize:function(t,i){this.width=t,this.height=i;var s=e.jqx.isHidden(this.host);s?(this._uiRefresh(!0),s=!1):this.refresh()},refresh:function(e){!0===e&&void 0!==e||this._setSize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,-1===(t+="User-agent header: "+navigator.userAgent).indexOf("IEMobile")&&(-1===t.indexOf("Windows Phone OS")&&!(e.jqx.browser.msie&&e.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(t){if(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),t&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==e(this._rightArrow).css("visibility")){var i=2*this.arrowButtonSize,s=this._width(this.element)-parseInt(this._width(this._unorderedList)+i+parseInt(this._unorderedListHelper.css("margin-left"),10),10);this._unorderedList.style.left=s+"px"}var r=this;setTimeout(function(){r._performLayout()},100)},_refresh:function(){e.jqx.isHidden(this.host)||(this._uiRefresh(!0),this.host.addClass("jqx-tabs-header-position-"+this.position))},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var e=this.length();e;){e--;var t=this._titleList[e],i="jqx-tabs-title jqx-item";switch(t.style.padding="","bottom"===this.position&&(i+=" jqx-tabs-title-bottom"),t.disabled&&(i+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":i+=" jqx-rc-t",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-t")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":i+=" jqx-rc-b",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-b")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-t")}t.className="jqx-reset jqx-disableselect "+this.toThemeProperty(i)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i,6!==t&&7!==t||(s.cancel=!1,this._currentEvent=s);var r="";try{if(r=this.host.trigger(s),1===t){var n=this;if(this.selectionTracker||"none"!==this.animationType)setTimeout(function(){n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,n._contentList.length>0&&n._contentList[n.selectedItem]&&e(n._contentList[n.selectedItem]).trigger(t)},50+n.selectionTrackerAnimationDuration);else{var o=new e.Event("loadContent");n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0),o.owner=this;var a=new e.Event("resize");this.host.trigger(a)}}}catch(e){e&&console&&console.log(e)}return r},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e=this.arrowButtonSize,t=this.arrowButtonSize;return"left"===this.scrollPosition?e+t:"both"===this.scrollPosition?e:0},_scrollRight:function(t){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s,r,n=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),o=this._width(this.element),a=parseInt(this._unorderedListHelper.css("left"),10),l=this._getArrowsDisplacement(),d=0;this.scrollable?(i=this._leftArrow.offsetWidth,s=this._rightArrow.offsetWidth):(i=0,s=0),t=this.enableScrollAnimation?t:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?d=l:Math.abs(a)+this.scrollStep<Math.abs(o-n)+i+s+l?(d=a-this.scrollStep,r=a-this.scrollStep+parseInt(e(this._titleList[this._selectedItem]).position().left,10)):(d=o-n-(2*this.arrowButtonSize-l))<parseInt(this._unorderedListHelper.css("left"),10)-4&&d>parseInt(this._unorderedListHelper.css("left"),10)+4&&(r=o-n-i-s+parseInt(e(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(d,r,t)},_scrollLeft:function(t){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s=parseInt(this._unorderedListHelper.css("left"),10),r=this._getArrowsDisplacement(),n=0;t=this.enableScrollAnimation?t:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?n=r:s+this.scrollStep<r?(n=s+this.scrollStep,i=s+this.scrollStep+parseInt(e(this._titleList[this._selectedItem]).position().left,10)):(n=r)<parseInt(this._unorderedListHelper.css("left"),10)-4&&n>parseInt(this._unorderedListHelper.css("left"),10)+4&&(i=parseInt(e(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(n,i,t)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),s._refreshBarPosition(),this._unorderedListHelper.animate({left:e},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList"),s._refreshBarPosition()})},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!t._activeAnimation()){var s=t._selectedItem,r=t.selectionTracker,n=t.getContentAt(s);if(e(i.target).ischildof(n))return!0;if(e(document.activeElement).ischildof(e(n)))return!0;switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=r}return!0})},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){var t=this;t.addHandler(e(document),"mousemove.tab"+t.element.id,t._moveElement,t),t.addHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpDragDocumentHandler,t)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!==s.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup.tabs"+this.element.id,function(){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)})}}catch(e){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_getFocusedItem:function(t){for(var i=this.length();i;){i--;var s=this._titleList[i],r=this._outerWidth(s,!0),n=parseInt(e(s).offset().left,10);if(n<=t&&n+r>=t&&s!==this._capturedElement&&!this._titleList[i].locked&&!0!==this._titleList[i].disabled)return i}return-1},_uncapture:function(e){var t=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var i=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}var s;e&&(s=this._getFocusedItem(e.clientX)),-1!==s&&e?(this._raiseEvent(10,{item:i,dropIndex:s}),this._reorderItems(s,i)):this._capturedElement.style.left="0px";for(var r=0;r<this._titleList.length;r++)this._titleList[r].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),-1!==s&&e?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=i,this._moveSelectionTrack(i,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=t}},_reorderItems:function(t,i){var s=this._titleList[this.selectedItem],r=this._titleList[i];void 0===this._capturedElement&&(this._capturedElement=r),e(r).remove(),i<t?this._titleList[t+1]?this._unorderedList.insertBefore(r,this._titleList[t+1]):this._unorderedList.appendChild(r):this._unorderedList.insertBefore(r,this._titleList[t]),this._reorderElementArrays(t,i),this._getSelectedItem(s),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=this._contentList[t];if(t<e){for(var s=t;s<=e;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;r>=e;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e){var t=e.data;if(t._tabCaptured)if(document.selection&&document.selection.clear(),t._dragStarted)t._performDrag(e),clearTimeout(t._scrollTimeout);else{var i=-parseInt(t._unorderedListHelper.css("left"),10);(e.clientX+i>t._startX+3||e.clientX+i<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)}},_performDrag:function(e){var t=this.getZoomFactor(),i=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(i+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,s=document.body.offsetWidth;e=Math.round(i/s*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(e(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(e(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(t){var i=parseInt(this._unorderedListHelper.css("left"),10),s=this,r=e(s._headerWrapper);t.clientX<=r.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(e(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):t.clientX>r.offset().left+s._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(e(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):(s._stop(s._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout(function(){s._dragScroll(t)},this.scrollAnimationDuration),this._lastUnorderedListPosition=i},_captureElement:function(e,t){if(!this._tabCaptured&&!this._titleList[t].locked&&!0!==this._titleList[t].disabled&&!this._activeAnimation()){var i=-parseInt(this._unorderedListHelper.css("left"),10);this._startX=i+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t]}},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.style.visibility="hidden":t._contentWrapper.style.display="none",t._raiseEvent(13,{item:e}),"top"===this.position?(t._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),t.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(t._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),t.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.style.visibility="visible":t._contentWrapper.style.display="block",t._raiseEvent(14,{item:e}),"top"===this.position?(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed"))):(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t,i=this;this.addHandler(this._titleList[e],"selectstart",function(){return!1}),this.addHandler(this._titleList[e],this.toggleMode,(t=e,function(){return i._raiseEvent("15",{item:t}),i._tabCaptured||i._cancelClick||i._titleInteractionTrigger(t),!0}))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",function(i){t._captureElement(i,e)}),this.addHandler(this._titleList[e],"mouseup",function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1})},_removeHoverStates:function(){var t=this;e.each(this._titleList,function(){t._removeClass(this,t.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter mouseleave",function(s){if(e!==t._selectedItem){var r="jqx-fill-state-hover";if("top"===t.position?r+=" jqx-tabs-title-hover-top":r+=" jqx-tabs-title-hover-bottom","mouseenter"===s.type?i.className+=" "+t.toThemeProperty(r):t._removeClass(i,t.toThemeProperty(r)),t.showCloseButtons){var n=t._closeButtonList[e];"mouseenter"===s.type?n.className+=" "+t.toThemeProperty("jqx-tabs-close-button-hover",!0):t._removeClass(n,t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}})},_addEventListenerAt:function(t){var i=this;if(!this._titleList[t].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(t),this._addSelectHandler(t),this.enabledHover&&this._addHoverHandlers(t);var s=i._closeButtonList[t];this.removeHandler(s,"click"),this.addHandler(s,"click",function(){var t=e(this).parents("li").index();return i.removeAt(t),!1})}},_removeEventHandlers:function(){for(var t=this,i=t.length();i;)i--,t._removeEventListenerAt(i);t.scrollable&&(t.removeHandler(t._leftArrow,"mousedown"),t.removeHandler(t._rightArrow,"mousedown")),t.removeHandler(e(document),"mousemove.tab"+t.element.id,t._moveElement),t.removeHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpScrollDocumentHandler),t.removeHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpDragDocumentHandler),t.removeHandler(t.host,"keydown")},_removeEventListenerAt:function(e){var t=this;t.removeHandler(t._titleList[e],t.toggleMode),t.removeHandler(t._titleList[e],"mouseenter"),t.removeHandler(t._titleList[e],"mouseleave"),t.removeHandler(t._titleList[e],"mousedown"),t.removeHandler(t._titleList[e],"mouseup"),t.removeHandler(t._closeButtonList[e],"click")},_moveSelectionTrack:function(t,i,s){var r=this;if(-1!==t&&0!==this._titleList.length&&!(t>=this._titleList.length)){var n=this._titleList[t],o=e(n);if(r._refreshBarPosition(),this.selectionTracker&&this._selectionTracker){var a;r._stop(r._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===s?(a=parseInt(o.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(a+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(a+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(o.css("margin-left"),10))||(a+=parseInt(o.css("margin-left"),10)),isNaN(parseInt(o.css("margin-right"),10))):a=s;"top"===this.position&&(this._height(r._headerWrapper)-n.offsetHeight,this.autoHeight||parseInt(o.css("margin-top"),10)),this._lockAnimation("selectionTracker");var l=parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10),d="top"===this.position?0:1,h=parseInt(e(this._headerWrapper).css("padding-top"),10),c=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10);this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible";var u=parseInt(o.css("margin-top"),10);isNaN(u)&&(u=0),r._refreshBarPosition(),r._selectionTrackerHelper.animate({top:h+u-d,left:a+"px",height:parseInt(this._height(n)+c,10),width:r._width(n)+l},i,function(){r._unlockAnimation("selectionTracker"),r._selectionTracker.style.visibility="hidden",r._addSelectStyle(t,!0),r._moveSelectionTrackerContainer.style.visibility="hidden"})}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.tabs"+this.element.id),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,this.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(var e in this._isAnimated)if(this._isAnimated.hasOwnProperty(e)&&this._isAnimated[e])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e||this._contentList[t]===e)return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){try{console.log(e)}catch(e){}}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[e].style.float="right":this._titleList[e].style.float="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var e=this;e._fitToSize(),e._positionArrows(e._totalItemsWidth),e._totalItemsWidth>e.element.offsetWidth?e._unorderedList.style.width=e._toPx(e._totalItemsWidth):e._unorderedList.style.width=e.element.offsetWidth-2+"px",e._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(e(this._leftArrow).remove(),e(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,function(){var e=this.attr("hasclosebutton");null!=e&&("false"!==e&&!1!==e||t--)}),t},_calculateTitlesSize:function(){var t=this;function i(e,t){e&&(e.style.display=t?"block":"none")}var s=0,r=0,n=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));n;){n--;var o=this._titleList[n],a=t._closeButtonList[n];this._measureItem&&(this._measureItem.innerHTML=o.innerHTML,this._measureItem.html(this._titleList[n].html()),o.style.width=t._toPx(t._width(this._measureItem))),o.style.position="static",i(a,!1),r+=t._outerWidth(o,!0);var l=t._outerHeight(o,!0);if(s<l&&(s=l),0===t._height(o)){var d=o.cloneNode(!0);document.body.appendChild(d),s=t._outerHeight(d,!0),document.body.removeChild(d)}var h,c=o.getAttribute("hasCloseButton");null!=c?(h=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(i(a,!1),h=!0),h||("true"===c||!0===c?(r+=this.closeButtonSize,i(a,!0)):"false"!==c&&!1!==c||i(a,!1))):this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)&&(h=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(i(a,!1),h=!0),h||(r+=this.closeButtonSize,i(a,!0))),o.style.height=this._toPx(t._height(o))}return this._measureItem&&e(this._measureItem).remove(),{height:s,width:10+r}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var e=this.theme&&-1!==this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l"));var t=this.scrollPosition;switch(this.rtl&&("left"===t&&(t="right"),"right"===t&&(t="left")),t){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-e),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-e)}}},_positionArrows:function(e){e>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,s=t.width;this._headerWrapper.style.height=this._toPx(i),this._unorderedList.style.height=this._toPx(i),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight));var r=this._width(this.element);this._unorderedList.style.width=s>r?this._toPx(s):this._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),s+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=s,this._positionArrows(s),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var t=this.length();t;){t--;var i=this._titleList[t],s=e(i),r=s.children()[0],n=this._closeButtonList[t],o=parseInt(s.css("padding-top"),10);if(o||(o=0),this.autoHeight){var a=parseInt(s.css("padding-top"),10),l=parseInt(s.css("padding-bottom"),10),d=s.css("border-top-width"),h=s.css("border-bottom-width");d=-1===d.indexOf("px")?1:parseInt(d,10),h=-1===h.indexOf("px")?1:parseInt(h,10),i.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(a+l+d+h))}else if("top"===this.position){var c=this._height(this._unorderedList)-parseInt(this._outerHeight(i,!0),10);parseInt(s.css("margin-top"),10)!==c&&0!==c&&(i.style.marginTop=this._toPx(c))}else i.style.height=this._toPx(this._height(i));r.style.height="100%";var u=this._height(i);if(n){var p=u/2-this._height(n)/2;n.style.marginTop=this._toPx(1+p)}var m=u/2-this._height(r)/2;r.style.marginTop=this._toPx(m)}if(this.scrollable){var f=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2;e(this._rightArrow).children()[0].style.marginTop=this._toPx(f),this._rightArrow.style.height="100%",e(this._leftArrow).children()[0].style.marginTop=this._toPx(f),this._leftArrow.style.height="100%"}},_getImageUrl:function(e){var t=e.css("background-image");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_fitToSize:function(){var e,t=!1,i=!1,s=this;null!==s.width&&-1!==s.width.toString().indexOf("%")&&(t=!0),null!==s.height&&-1!==s.height.toString().indexOf("%")&&(i=!0),t?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(s.element.style.width=s._toPx(s.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%")),i?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",e=this.element.offsetHeight-this._headerWrapper.offsetHeight-2,this._contentWrapper.style.height=e+"px"):"auto"!==this.height?(s.element.style.height=s._toPx(s.height),e=this._height(s.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=s._toPx(e)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var e=this.length(),t=-1;e;)e--,-1<this._outerHeight(this._titleList[e],!0)&&(t=e);return t},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&e(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=e(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){var e=null===this._contentWrapper;e&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style.float="none");for(var t=this.length();t;)t--,this._contentList[t].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(e){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var i=0;i<this._contentList.length;i++)this._contentWrapper.appendChild(this._contentList[i])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var t=this.length();void 0!==this._headerWrapper&&(e(this._headerWrapper).remove(),this.bar&&(this.bar=null)),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList);var i="jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header";for("bottom"===this.position&&(i+=" jqx-tabs-header-bottom"),this.roundedCorners&&("top"===this.position?i+=" jqx-rc-t":i+=" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(i);t;){t--;var s=this._titleList[t];if(null===s.querySelector(".jqx-tabs-titleWrapper")){var r=document.createElement("div");r.className="jqx-tabs-titleWrapper",r.style.outline="none",r.style.position="relative",r.style.zIndex=15;var n=e(s).children();r.appendChild(n[0]),r.appendChild(n[1]),s.appendChild(r)}}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t,i){var s=document.createElement("div"),r=this._titleList[t];s.className="jqx-tabs-titleContentWrapper jqx-disableselect";var n="left";this.rtl&&(n="right"),e(r).find(".jqx-tabs-close-button").length>0&&e(r).find(".jqx-tabs-close-button").remove(),s.style.float=n,s.innerHTML=r.innerHTML,r.innerHTML="";var o=document.createElement("div");o.className=this.toThemeProperty("jqx-tabs-close-button"),o.style.height=this._toPx(this.closeButtonSize),o.style.width=this._toPx(this.closeButtonSize),o.style.float=n,o.style.fontSize="1px",r.appendChild(s),r.appendChild(o),!0===i?this._closeButtonList[t]=o:this._closeButtonList.splice(t,0,o),this.showCloseButtons?this.hiddenCloseButtons&&1===this.hiddenCloseButtons[t]&&(o.style.display="none"):o.style.display="none"},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e,!0)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=this._titleList[e];if(this.showCloseButtons){var i=this._closeButtonList[e];this._removeClass(i,this.toThemeProperty("jqx-tabs-close-button-selected"))}var s="jqx-fill-state-pressed";"top"===this.position?s+=" jqx-tabs-title-selected-top":s+=" jqx-tabs-title-selected-bottom",this._removeClass(t,this.toThemeProperty(s))}},_addSelectStyle:function(e,t){if(this._removeSelectStyle(),!this.selectionTracker||void 0!==t&&t){var i=this._titleList[e];if(e>=0&&void 0!==i){var s=null;this.showCloseButtons&&(s=this._closeButtonList[e],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(s=null));var r="jqx-fill-state-hover",n=" jqx-fill-state-pressed";"top"===this.position?(r+=" jqx-tabs-title-hover-top",n+=" jqx-tabs-title-selected-top"):(r+=" jqx-tabs-title-hover-bottom",n+=" jqx-tabs-title-selected-bottom"),this._removeClass(i,this.toThemeProperty(r)),i.className+=this.toThemeProperty(n),null!==s&&(s.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))}}},_addItemTo:function(e,t,i){if(t<e.length){for(var s,r,n=t;n+1<e.length;n++)void 0===s?(s=e[n+1],e[n+1]=e[n]):(r=e[n+1],e[n+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_refreshBarPosition:function(){var t=this;if(!this.bar){var i=e("<span></span>");e(this._headerWrapper).append(i),i.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=i}setTimeout(function(){if(!(t._selectedItem<0)){var i=parseInt(t._unorderedListHelper.css("left"),10),s=parseInt(t._unorderedListHelper.css("margin-left"));i?t.bar.css("left",s+t._titleList[t._selectedItem].offsetLeft+i):t.bar.css("left",s+t._titleList[t._selectedItem].offsetLeft),t.bar.width(e(t._titleList[t._selectedItem]).outerWidth()-2)}})},_select:function(t,i,s,r,n){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;void 0===n?this._addSelectStyle(t):this._addSelectStyle(t,n);var a=e(o._titleList[t]),l=o._titleList[t].getAttribute("id"),d=e(o._contentList[t]);if(this.isCollapsed&&this.collapsible)return d[0].style.display="none",void this._selectCallback(t,s,r);switch(o._refreshBarPosition(),this.animationType){case"none":if(o.selectionTracker)setTimeout(function(){d[0].style.display="block",e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(d,"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",l)},this.selectionTrackerAnimationDuration);else{for(var h=0;h<this._contentList.length;h++)t!==h&&"block"===e(o._contentList[h]).css("display")&&(o._contentList[h].style.display="none",e.jqx.aria(e(o._titleList[h]),"aria-selected",!1),e.jqx.aria(e(o._contentList[h]),"aria-hidden",!0));d[0].style.display="block",e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(d,"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",l)}this._selectCallback(t,s,r);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(t,s,r),d.initAnimate&&void 0===d.fadeIn&&d.initAnimate(),d.fadeIn({duration:1e3,complete:function(){o._unlockAnimation("contentListSelect"),e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(d,"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",l)}})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,s){if(t>=0&&!this._tabCaptured){var r=this,n=r._contentList[t],o=e(n),a=r._titleList[t],l=e(a);o.initAnimate&&void 0===o.animate&&o.initAnimate(),r._stop(o),"fade"===this.animationType?(n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)),this._unselectCallback(t,i,s),this.selectionTracker||r._removeClass(a,r.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled||t++}),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled&&t++}),t},removeAt:function(t){if(this._isValidIndex(t)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates(),this._initTabContentList[t]=!1;var i,s=this,r=s._outerWidth(this._titleList[t],!0),n=this.getTitleAt(t);if(this._unorderedList.style.width=s._toPx(s._width(this._unorderedList)-r),e(this._titleList[t]).remove(),e(this._contentList[t]).remove(),this._titleList.splice(t,1),this._contentList.splice(t,1),s._closeButtonList.splice(t,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:t,title:n}),this._isAnimated={},this.selectedItem>0?(this._selectedItem=-1,this.selectedItem>=t?(i=this._getPreviousIndex(this.selectedItem),this.select(i)):this.select(s.selectedItem)):(this._selectedItem=-1,i=this._getNextIndex(this.selectedItem),this.select(i)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=s._toPx(this._getArrowsDisplacement())),s._width(this._unorderedList)<=s._width(this._headerWrapper)){var o=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},o,function(){s._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(t){var i=this._titleList[t];if(!i.disabled||void 0===i.disabled){if(this.selectedItem===t){var s=this.next();s||(s=this.previous())}i.disabled=!0,this.removeHandler(i,this.toggleMode),this.enabledHover&&e(i).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(t),i.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:t})}},enableAt:function(e){var t=this._titleList[e];t.disabled&&(t.disabled=!1,this._addEventListenerAt(e),this._removeClass(t,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(e,t,i){if(e>=0&&e<=this.length()){this._removeHoverStates();var s=document.createElement("li");s.innerHTML=t,s.className=this.toThemeProperty("jqx-tabs-title jqx-item");var r=document.createElement("div");r.innerHTML=i,r.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(s.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom"));0===this._titleList.length?this._unorderedList.appendChild(s):e<this.length()&&e>=0?this._unorderedList.insertBefore(s,this._titleList[e]):this._unorderedList.appendChild(s),this._contentWrapper.appendChild(r),this._addItemTo(this._titleList,e,s),this._addItemTo(this._contentList,e,r),this._addCloseButton(e),this._selectedItem>e&&this._selectedItem++,this._switchTabs(e,this._selectedItem),this._selectedItem=e,this._uiRefresh(!1),this._raiseEvent(2,{item:e}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0===arguments.length||"object"==typeof e?this._selectedItem:(this.select(e),this._selectedItem)},select:function(e){"object"==typeof e&&(e=this._indexOf(e));var t=!(e>=0&&e<this._titleList.length)||this._titleList[e].getAttribute("canselect");null!=t&&"true"!==t&&!0!==t||e!==this._selectedItem&&this._isValidIndex(e)&&(this._activeAnimation()||this._titleList[e].disabled||this._switchTabs(e,this._selectedItem)&&this.ensureVisible(e))},previous:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){this._isValidIndex(e)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[e].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=0)},hideCloseButtonAt:function(e){this._isValidIndex(e)&&(this._closeButtonList[e].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=1)},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(t){return this._titleList[t]?e(this._titleList[t]).text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(t,i){this._titleList[t]&&(e(this._titleList[t]).text(i),this.showCloseButtons&&(this._addCloseButton(t),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(t,i){this._contentList[t]&&e(this._contentList[t]).html(i)},ensureVisible:function(t){var i=this;if(void 0!==t&&-1!==t&&null!==t||(t=this.selectedItem),!this._isValidIndex(t))return!1;var s,r,n=this._titleList[t],o=parseInt(e(n).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),a=parseInt(this._unorderedListHelper.css("left"),10),l=this._outerWidth(this._headerWrapper,!0),d=this._outerWidth(n,!0),h=a-this._getArrowsDisplacement(),c=l-this._getArrowsDisplacement()-h;if(o<-h)s=-o+this._getArrowsDisplacement(),r=this._getArrowsDisplacement();else{if(!(o+d>c-this._getArrowsDisplacement()))return this._moveSelectionTrack(t,this.selectionTrackerAnimationDuration),!0;s=-o+l-d-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),r=l-d-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:s},this.scrollAnimationDuration,function(){return i._unlockAnimation("unorderedList"),i._moveSelectionTrack(i._selectedItem,0),!0}),this._moveSelectionTrack(t,this.selectionTrackerAnimationDuration,r),!0},isVisibleAt:function(t){var i=this;if(void 0!==t&&-1!==t&&null!==t||(t=i.selectedItem),!i._isValidIndex(t))return!1;var s=i._titleList[t],r=parseInt(e(s).position().left,10)+parseInt(i._unorderedListHelper.css("margin-left"),10),n=parseInt(i._unorderedListHelper.css("left"),10),o=i._outerWidth(i._headerWrapper,!0),a=i._outerWidth(s,!0),l=n-i._getArrowsDisplacement(),d=o-i._getArrowsDisplacement()-l;return!(r<-l)&&!(r+a>d)},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)){switch(this._validateProperties(),i){case"touchMode":r&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._setSize();case"disabled":return void(r?this.disable():this.enable());case"showCloseButtons":return r?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(r)&&this.select(r));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(r?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(r?(this._refresh(),this.select(this._selectedItem)):(e(this._leftArrow).remove(),e(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(s,r,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)},_width:function(t){var i=e(t),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),t.offsetWidth-(s+r+n+o)},_outerWidth:function(t,i){var s=t.offsetWidth;if(i){var r=e(t);s+=parseInt(r.css("margin-left"),10)+parseInt(r.css("margin-right"),10)}return s},_height:function(t){var i=e(t),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),t.offsetHeight-(s+r+n+o)},_outerHeight:function(t,i){var s=t.offsetHeight;if(i){var r=e(t);s+=parseInt(r.css("margin-top"),10)+parseInt(r.css("margin-bottom"),10)}return s},_stop:function(e){e.stop?e.stop():e.animate("stop",!0)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTagCloud","",{}),e.extend(e.jqx._jqxTagCloud.prototype,{defineInstance:function(){var t={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return this===e.jqx._jqxTagCloud.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e.render(),e.dataBind(e.source,!0)},dataBind:function(t,i){var s,r=this;r.records=[],!!t._source?(s=t,t=t._source):(t.datafields=[{name:r.displayMember},{name:r.valueMember},{name:r.urlMember}],s=new e.jqx.dataAdapter(t,{autoBind:!0}));var n=function(e){e._setSourceData(s),e._raiseEvent(1,{records:e.records}),e._renderTags()};switch(void 0!==t.type&&(s._options.type=t.type),void 0!==t.formatdata&&(s._options.formatData=t.formatdata),void 0!==t.contenttype&&(s._options.contentType=t.contenttype),void 0!==t.async&&(s._options.async=t.async),t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(s.unbindBindingUpdate(r.element.id),(r.autoBind||!r.autoBind&&!i)&&s.dataBind(),n(r),s.bindBindingUpdate(r.element.id,function(e){n(r)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(r.element.id),(r.autoBind||!r.autoBind&&!i)&&s.dataBind(),n(r),void s.bindBindingUpdate(r.element.id,function(){n(r)});var o={};s._options.data?e.extend(s._options.data,o):(t.data&&e.extend(o,t.data),s._options.data=o);s.unbindDownloadComplete(r.element.id),s.bindDownloadComplete(r.element.id,function(){n(r)}),(r.autoBind||!r.autoBind&&!i)&&s.dataBind()}r._raiseEvent(2,{records:r.records})},destroy:function(){var e=this;e.removeHandler(e._el,"keydown"),e.removeHandler(e._el,"click"),e.host.empty(),e.host.remove()},findTagIndex:function(e){for(var t=this,i=0;i<t.records.length;i++)if(t.records[i][t.displayMember]===e)return t.records[i].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(e,t){var i=this;if(t.index=e,void 0===t[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var s=void 0!==t[i.valueMember]?parseFloat(t[i.valueMember]):0;if(t[i.valueMember]=isNaN(s)?0:s,i.source.insertTag&&"function"==typeof i.source.insertTag)i.source.insertTag(e,t,function(s){if(s){i.records.splice(e,0,t);for(var r=e+1;r<i.records.length;r++)i.records[r].index+=1;for(r=0;r<i.hiddenList.length;r++)i.hiddenList[r]>=e&&i.hiddenList[r]++;i._renderTags()}});else{i.records.splice(e,0,t);for(var r=e+1;r<i.records.length;r++)i.records[r].index+=1;for(r=0;r<i.hiddenList.length;r++)i.hiddenList[r]>=e&&i.hiddenList[r]++;i._renderTags()}},updateAt:function(t,i){var s=this;if(void 0===i[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");i.index=t,i.uid=s.records[t].uid,s.source.updateTag&&"function"==typeof s.source.updateTag?s.source.updateTag(t,i,function(r){r&&(e.each(i,function(e,i){s.records[t][e]=i}),s._renderTags())}):(e.each(i,function(e,i){s.records[t][e]=i}),s._renderTags())},removeAt:function(e){var t=this;if(t.source.deleteTag&&"function"==typeof t.source.deleteTag)t.source.deleteTag(e,function(i){if(i){t.records.splice(e,1);for(var s=e;s<t.records.length;s++)t.records[s].index-=1;for(s=0;s<t.hiddenList.length;s++)t.hiddenList[s]>e?t.hiddenList[s]--:t.hiddenList[s]===e&&t.hiddentList.splice(e,1)}});else{t.records.splice(e,1);for(var i=e;i<t.records.length;i++)t.records[i].index-=1;for(i=0;i<t.hiddenList.length;i++)t.hiddenList[i]>e?t.hiddenList[i]--:t.hiddenList[i]===e&&t.hiddentList.splice(e,1)}t._renderTags()},hideItem:function(t){var i=this;if("number"==typeof t&&-1===i.hiddenList.indexOf(t)){i.hiddenList.push(t);for(var s=-1,r=0;r<i.renderedData.length;r++)i.renderedData[r].index===t&&(s=r);-1!==s&&(e(i._el).find("li")[s].style.display="none")}},showItem:function(t){var i=this;if(-1!==i.hiddenList.indexOf(t)){for(var s=-1,r=0;r<i.renderedData.length;r++)i.renderedData[r].index===t&&(s=r);-1!==s&&(e(i._el).find("li")[s].style.display=""),i.hiddenList.splice(i.hiddenList.indexOf(t),1)}},render:function(){var t=this;t._updateSize(),t.renderedData=[],t._el=e("<ul>"),t.host.addClass(t.toThemeProperty("jqx-widget jqx-tag-cloud")),t._setRtl(),t.host.append(t._el),t.focusedItem=null,t.minColor=t._parseColor(t.minColor),t.maxColor=t._parseColor(t.maxColor),t.displayLimit=parseInt(t.displayLimit),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.addHandler(t._el,"click",function(i){e(document.activeElement).parents("#"+t._el[0].parentElement.id).length||(null!=t.focusedItem?e(t.focusedItem).focus():(e(t._el).find("a")[0].focus(),t.focusedItem=document.activeElement)),t.disabled&&i.preventDefault(),"a"===i.target.tagName.toLowerCase()&&(i.target.focus(),t.focusedItem=document.activeElement),"li"===i.target.tagName.toLowerCase()&&(e(i.target).find("a").focus(),t.focusedItem=document.activeElement);var s=e(i.target).closest("li").index();-1!==s&&t._raiseEvent(0,{label:t.renderedData[s][t.displayMember],url:t.renderedData[s][t.urlMember],value:t.renderedData[s][t.valueMember],visibleIndex:s,index:t.renderedData[s].index,target:e(i.target).closest("li")[0],originalEvent:i})}),t._addKeyboardSupport()},resize:function(e,t){var i=this;i.width=e,i.height=t,i._updateSize()},propertyChangedHandler:function(e,t,i,s){var r=this;"source"===t&&r.dataBind(e.source),"displayLimit"===t&&(r[t]=parseInt(s)),"minColor"!==t&&"maxColor"!==t||(r[t]=r._parseColor(s)),"rtl"!==t?"width"!==t&&"height"!==t?"textColor"!==t||r.minColor&&r.maxColor?r._renderTags():r._updateColor():r._updateSize():r._setRtl()},_alterCase:function(e){var t=this;if("none"!==t.alterTextCase)switch(t.alterTextCase){case"allLower":for(var i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase();break;case"allUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toUpperCase();break;case"firstUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase(),e[i][t.displayMember]=e[i][t.displayMember].substr(0,1).toUpperCase()+e[i][t.displayMember].substr(1);break;case"titleCase":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return e},_addKeyboardSupport:function(){var t=this;t.addHandler(t._el,"keydown",function(i){39==i.keyCode&&(e("a:focus").closest("li").next().find("a").focus(),t.focusedItem=document.activeElement),37==i.keyCode&&(e("a:focus").closest("li").prev().find("a").focus(),t.focusedItem=document.activeElement)})},_renderTags:function(){var t=this,i=t.records.slice();if(e.each(t.records,function(e,i){if(void 0===i[t.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),i=t._filter(i),i=t._sort(i),i=t._alterCase(i),t._el.empty(),0!==i.length){for(var s=t._getMaxValue(i),r=t._getMinValue(i),n=s-r,o=0;o<i.length;o++){var a=t._prepareTag(i[o],r,n);t._el.append(a),-1!=t.hiddenList.indexOf(i[o].index)&&(a[0].style.display="none")}t.renderedData=i,t.focusedItem=null}},_prepareTag:function(t,i,s){var r=this;s||(s=1);var n=e("<li>"),o="";o=null!==r.tagRenderer&&"function"==typeof r.tagRenderer?r.tagRenderer.apply(r,arguments):t[r.displayMember]+(r.displayValue?"("+t[r.valueMember]+")":""),o=e('<a rel="tag">').append(o);var a="javascript:void(0)";void 0!==t[r.urlMember]&&(a=(null!=r.urlBase?r.urlBase:"")+t[r.urlMember]),o.attr("href",a),n.append(o),n.addClass(r.toThemeProperty("jqx-tag-cloud-item"));var l=+r.minFontSize+(r.maxFontSize-r.minFontSize)*((t[r.valueMember]-i)/s);if(n[0].style.fontSize=l+r.fontSizeUnit,r.minColor&&r.maxColor){var d=r.minColor.split("(")[1].split(")")[0];d=d.split(",");var h=parseInt(d[0]),c=parseInt(d[1]),u=parseInt(d[2]),p=parseFloat(d[3]);d=(d=r.maxColor.split("(")[1].split(")")[0]).split(",");var m=parseInt(d[0]),f=parseInt(d[1]),g=parseInt(d[2]),v=parseFloat(d[3]);h+=Math.floor((t[r.valueMember]-i)/s*(m-h)),c+=Math.floor((t[r.valueMember]-i)/s*(f-c)),u+=Math.floor((t[r.valueMember]-i)/s*(g-u)),p+=(t[r.valueMember]-i)/s*(v-p),n[0].style.color="rgba("+h+","+c+","+u+","+p+")",n.find("a")[0].style.color="inherit"}else null!==r.textColor&&(n[0].style.color=r.textColor,n.find("a")[0].style.color="inherit");return n},_parseColor:function(t){var i,s;if("rgba"===(t=e("<span>").css("color",t).css("color")).substr(0,4))return t;if("rgb"===t.substr(0,3)){var r=t.split("(")[1].split(")")[0];return r=r.split(","),"rgba("+parseInt(r[0])+","+parseInt(r[1])+","+parseInt(r[2])+",1)"}return"#"===t.substr(0,1)&&7===t.length?"rgba("+parseInt(t.substr(1,2),16)+","+parseInt(t.substr(3,2),16)+","+parseInt(t.substr(5,2),16)+",1)":"#"===t.substr(0,1)&&4===t.length?"rgba("+parseInt(t.substr(1,1)+t.substr(1,1),16)+","+parseInt(t.substr(2,1)+t.substr(2,1),16)+","+parseInt(t.substr(3,1)+t.substr(3,1),16)+",1)":(t=void 0!==(s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"})[(i=t).toLowerCase()]&&s[i.toLowerCase()])?"rgba("+parseInt(t.substr(1,2),16)+","+parseInt(t.substr(3,2),16)+","+parseInt(t.substr(5,2),16)+",1)":t},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(t,i){var s=this._events[t],r=e.Event(s);return r.args=i,this.host.trigger(r)},_filter:function(e){var t=this;if(0!=t.minValueToDisplay)for(var i=0;i<e.length;)e[i][t.valueMember]<t.minValueToDisplay?e.splice(i,1):i++;if(0!=t.maxValueToDisplay)for(i=0;i<e.length;)e[i][t.valueMember]>t.maxValueToDisplay?e.splice(i,1):i++;return null==t.displayLimit||isNaN(t.displayLimit)||(!0===t.takeTopWeightedItems?(e.sort(function(e,i){return e[t.valueMember]<i[t.valueMember]?1:e[t.valueMember]>i[t.valueMember]?-1:0}),(e=e.slice(0,t.displayLimit)).sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})):e=e.slice(0,t.displayLimit)),e},_sort:function(e){var t=this;if("none"!==t.sortBy){if("label"===t.sortBy)e.sort(function(e,i){return e[t.displayMember]<i[t.displayMember]?-1:e[t.displayMember]>i[t.displayMember]?1:0});else{if("value"!==t.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");e.sort(function(e,i){return e[t.valueMember]<i[t.valueMember]?-1:e[t.valueMember]>i[t.valueMember]?1:0})}if("ascending"===t.sortOrder)return e;if("descending"===t.sortOrder)return e.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}return e},_getMaxValue:function(e){for(var t=this,i=e[0][t.valueMember],s=0;s<e.length;s++)i<e[s][t.valueMember]&&(i=e[s][t.valueMember]);return i},_getMinValue:function(e){for(var t=this,i=e[0][t.valueMember],s=0;s<e.length;s++)i>e[s][t.valueMember]&&(i=e[s][t.valueMember]);return i},_setSourceData:function(e){var t=this;t.records=e.records;for(var i=0;i<t.records.length;i++){var s=void 0!==t.records[i][t.valueMember]?parseFloat(t.records[i][t.valueMember]):0;t.records[i][t.valueMember]=isNaN(s)?0:s,t.records[i].index=i}t.hiddenList=[]},_updateColor:function(){var t=this;t.textColor&&e(t._el).find("li").css("color",t.textColor)},_updateSize:function(){var e=this;e.width&&e.host.width(e.width),e.height&&e.host.height(e.height)},_setRtl:function(){var e=this;e.rtl?e.host.addClass(e.toThemeProperty("jqx-rtl")):e.host.removeClass(e.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTextArea","",{}),e.extend(e.jqx._jqxTextArea.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:1e3,items:8,minLength:1,maxLength:null,scrollBarSize:e.jqx.utilities.scrollBarSize,query:"",hint:!0,changeType:null,events:["change","select","open","close"]};return this===e.jqx._jqxTextArea.prototype?i:(e.extend(!0,t,i),i)},createInstance:function(){var t=this;t._textareaWidthFix=0,e.jqx.browser.chrome?t._textareaWidthFix=6:e.jqx.browser.msie&&(t._textareaWidthFix=3),!1===document.body.contains(t.element)&&(t._notInDOM=!0),t._popupHelper=e(t.$popup),t.render(),t.isInitialized=!0},render:function(){if(!0!==(l=this).isInitialized){15!==e.jqx.utilities.scrollBarSize&&(l.scrollBarSize=e.jqx.utilities.scrollBarSize);var t=document.createElement("div");t.style.overflow="hidden",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="transparent",t.style["-webkit-appearance"]="none",t.style.outline="none",t.style.align="left",t.style.border="0px",t.style.padding="0px",t.style.margin="0px",t.style.left="0px",t.style.top="0px",t.style.valign="top",t.style.position="relative";var i=document.createElement("div");if(i.style.align="left",i.style.valign="top",i.style.left="0px",i.style.top="0px",i.style.position="absolute",l._baseHost=l.host,e.jqx.utilities.resize(l._baseHost,function(){if(l._notInDOM)return l._notInDOM=!1,void("textarea"===l.element.nodeName.toLowerCase()&&(l.isInitialized=!1,l.render()));l._ttimer=setTimeout(function(){l.textarea.style.width="",l._arrange()},100)},!1,!0),this.input=this.element,"div"===l.element.tagName.toLowerCase()){l.element.appendChild(t);var s=document.createElement("textarea");s.className=l.toThemeProperty("jqx-text-area-element"),l.textarea=s,t.appendChild(s),t.appendChild(i),l.wrapper=l.element}else if("textarea"===l.element.tagName.toLowerCase()){if(l._notInDOM)return;l.textarea=l.element;var r=document.createElement("div");l.element.parentNode.insertBefore(r,l.element),r.appendChild(t),t.appendChild(l.element),t.appendChild(i);var n=l.host.data();l.host=e(r),l.host.data(n),r.style.cssText=l.element.style.cssText,l.element.style.cssText="",l.element.className=l.toThemeProperty("jqx-text-area-element"),l.wrapper=r,r.setAttribute("id",l.element.id),l.element=r,l.textarea.setAttribute("id",l.element.id+"TextArea")}var o=l.host;if(l._addClasses(),!o.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!o.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");if(null===l.width&&l.element.style&&null!==l.element.style.width&&(l.width=l.element.style.width),null===l.height&&l.element.style&&null!==l.element.style.height&&(l.height=l.element.style.height),l._setSize(),l.vScrollBar=e(i),l.vScrollBar.jqxScrollBar({vertical:!0,width:15,height:"100%",max:l.height,theme:l.theme}),""===e.trim(l.textarea.value)&&(l.textarea.value=""),null!==l.maxLength&&l.textarea.setAttribute("maxlength",l.maxLength),(l.source instanceof Array&&l.source.length||l.source._source||e.isFunction(l.source))&&(l._oldsource=l.source,l._updateSource(),l._addPopupClasses(),e.jqx.aria(l,"aria-haspopup",!0)),l.isMaterialized()){var a=e("<label></label");a[0].innerHTML=this.placeHolder,a.addClass(l.toThemeProperty("jqx-input-label"));var l,d=e("<span></span>");d.addClass(l.toThemeProperty("jqx-input-bar")),a.insertAfter(this.textarea),d.insertAfter(this.textarea),d.css("top",this.host.height()),this.bar=d,this.label=a,(l=this).template&&(l.bar.addClass(l.toThemeProperty("jqx-"+l.template)),l.label.addClass(l.toThemeProperty("jqx-"+l.template)))}l._arrange(),l._refreshPlaceHolder(),l._addHandlers()}else l.refresh()},refresh:function(e){if(!0!==e){var t=this;t._setSize(),t._arrange(),t._removeHandlers(),t._addHandlers(),!0===t.opened&&t.open(),t.isMaterialized()&&t.bar.css("top",t.host.height())}},_arrange:function(){var e=this,t=e.textarea,i=t.scrollHeight-e._height(t),s=Math.max(0,i);e.vScrollBar.jqxScrollBar({max:s,value:t.scrollTop}),i<5?(t.style.width=this._toPx(e._width(e.element)),e.vScrollBar[0].style.visibility="hidden"):(t.style.width=this._toPx(e._width(e.element)-e.scrollBarSize-e._textareaWidthFix),e.vScrollBar[0].style.visibility="visible",e._arrangeScrollbars(e.scrollBarSize))},val:function(t){var i,s=this,r=s.textarea,n=r.value;if(0===arguments.length||"object"==typeof t&&!0===e.isEmptyObject(t))return""!==s.displayMember&&""!==s.valueMember&&s.selectedItem?""===n?"":s.selectedItem:n;if(t&&t.label){if(s.selectedItem&&t.label===s.selectedItem.label&&t.value===s.selectedItem.value)return t.label;s.selectedItem={label:t.label,value:t.value},s.element.setAttribute("data-value",t.value),s.element.setAttribute("data-label",t.label),r.value=t.label,i=t.label}else{if(n===t)return t;r.value=t,s.element.setAttribute("data-value",t),s.element.setAttribute("data-label",t),i=t}return s._arrange(),s._refreshPlaceHolder(),s._raiseEvent("0"),i},focus:function(){this.textarea.focus()},selectAll:function(){var t=this.textarea;t[0]instanceof HTMLInputElement==!1&&(t=e(this.textarea)[0]),setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(0,t.value.length);else{var e=t.createTextRange();e.collapse(!0),e.moveEnd("character",t.value.length),e.moveStart("character",0),e.select()}},10)},_arrangeScrollbars:function(e){var t=this,i=t._width(t.element),s=t._height(t.element),r=t.vScrollBar,n=r[0],o="hidden"!==n.style.visibility;r.jqxScrollBar({width:e,height:parseInt(s,10)-2}),n.style.left=i-e-2-2+"px",n.style.top="0px";var a=t._width(t.element)-t.vScrollBar.outerWidth();if(t.rtl){n.style.left="0px";var l=o?parseInt(e,10)+3+"px":0;t.textarea.style.paddingLeft=t._toPx(l),t.textarea.style.width=t._toPx(a-4)}else"hidden"!==r.css("visibility")&&(t.textarea.style.width=this._toPx(a-t._textareaWidthFix));r.jqxScrollBar("refresh")},destroy:function(){var e=this;e._popupHelper.remove(),e.vScrollBar.jqxScrollBar("destroy"),e._removeHandlers(),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._arrange())},propertyChangedHandler:function(t,i,s,r){if(void 0!==t.isInitialized&&!1!==t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)switch(i){case"theme":t.vScrollBar.jqxScrollBar({theme:t.theme});break;case"width":case"height":t.element.style[i]=t._toPx(r),t._arrange();break;case"source":t._oldsource=r,t._updateSource();break;case"displayMember":case"valueMember":t.source=t._oldsource,t._updateSource();break;case"opened":!0===r?t.open():t.close();break;case"maxLength":t.textarea.setAttribute("maxlength",r);break;case"placeHolder":t.textarea.setAttribute("placeholder",r),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.value===s&&(t.textarea.value=r);break;case"scrollBarSize":t._arrange();break;case"dropDownWidth":t.$popup.style.width=t._toPx(r);break;case"roundedCorners":!0===r?(t.element.className+=" "+t.toThemeProperty("jqx-rc-all"),t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")):(t.host.removeClass(t.toThemeProperty("jqx-rc-all")),t._popupHelper.removeClass(t.toThemeProperty("jqx-rc-all")));break;case"disabled":t.vScrollBar.jqxScrollBar({disabled:r}),!0===r?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.textarea.setAttribute("disabled","disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.removeAttribute("disabled")),e.jqx.aria(t,"aria-disabled",r);break;case"rtl":!0===r?t.textarea.className+=" "+t.toThemeProperty("jqx-text-area-element-rtl"):e(t.textarea).removeClass(t.toThemeProperty("jqx-text-area-element-rtl")),t._arrange();break;default:t.refresh()}},_raiseEvent:function(t,i){var s=this;void 0===i&&(i={owner:null});var r=s.events[t];i.owner=s;var n=new e.Event(r);return n.owner=s,0==t&&(i.type=this.changeType,this.changeType=null),n.args=i,n.preventDefault&&n.preventDefault(),("change"===r||"div"===s._baseHost[0].tagName.toLowerCase()?s.host:s._baseHost).trigger(n)},_addHandlers:function(){var t=this,i=t.element.id,s=t.host,r=t.textarea,n=e.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(s,n+".jqxTextArea"+i,function(e){t.wheel(e,t)}),t.addHandler(s,"mouseenter.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(s,"mouseleave.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(s,"focus.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(s,"blur.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+i,function(){0!==t.wrapper.scrollTop&&(t.wrapper.scrollTop=0),0!==t.wrapper.scrollLeft&&(t.wrapper.scrollLeft=0)}),t.addHandler(r,"change.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t._arrange(),t._refreshPlaceHolder(),t._raiseEvent("0")}),t.addHandler(r,"select.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(r,"scroll.jqxTextArea"+i,function(){var e=Math.max(0,r.scrollHeight-t._height(r));t.vScrollBar.jqxScrollBar({max:e,value:r.scrollTop})}),t.addHandler(r,"focus.jqxTextArea"+i,function(){t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),e.jqx.browser.msie&&e.jqx.browser.version<10&&r.value===t.placeHolder&&(r.value="")}),t.addHandler(r,"blur.jqxTextArea"+i,function(){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10){var i=t.textarea.value;""===i?t.textarea.value=t.placeHolder:null!==t.maxLength&&i.length>t.maxLength&&(t.textarea.value=i.substr(0,t.maxLength))}}),t.addHandler(r,"keydown.jqxTextArea"+i,function(i){t._suppressKeyPressRepeat=~e.inArray(i.keyCode,[40,38,9,13,27]),t.changeType="keyboard",t._move(i)}),t.addHandler(r,"keypress.jqxTextArea"+i,function(i){if(null!==t.maxLength&&e.jqx.browser.msie&&e.jqx.browser.version<10&&r.value.length>t.maxLength)return!1;t._suppressKeyPressRepeat||t._move(i)}),t.addHandler(r,"keyup.jqxTextArea"+i,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i,function(e){r.scrollTop=e.currentValue}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t.changeType="mouse",t._select()})},_refreshPlaceHolder:function(){var t=this;t.isMaterialized()&&t.hint||("placeholder"in this.textarea&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.textarea.setAttribute("placeHolder",t.placeHolder):""===t.textarea.value&&(t.textarea.value=t.placeHolder)),t.hint&&(""!==t.textarea.value?t.element.setAttribute("hint",!0):t.element.removeAttribute("hint"),t.label&&(t.label.innerHTML=t.placeHolder))},_removeHandlers:function(){var t=this,i=t.element.id,s=t.host,r=t.textarea;e.jqx.utilities.resize(t._baseHost,null,!0),t.removeHandler(s,"mousewheel.jqxTextArea"+i),t.removeHandler(s,"mouseenter.jqxTextArea"+i),t.removeHandler(s,"mouseleave.jqxTextArea"+i),t.removeHandler(s,"focus.jqxTextArea"+i),t.removeHandler(s,"blur.jqxTextArea"+i),t.removeHandler(t.wrapper,"scroll.jqxTextArea"+i),t.removeHandler(r,"change.jqxTextArea"+i),t.removeHandler(r,"select.jqxTextArea"+i),t.removeHandler(r,"scroll.jqxTextArea"+i),t.removeHandler(r,"focus.jqxTextArea"+i),t.removeHandler(r,"blur.jqxTextArea"+i),t.removeHandler(r,"keydown.jqxTextArea"+i),t.removeHandler(r,"keypress.jqxTextArea"+i),t.removeHandler(r,"keyup.jqxTextArea"+i),t.removeHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i),t.removeHandler(t.$popup,"mousedown.jqxTextArea"+i)},_itemHandler:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},wheel:function(t,i){var s=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(s=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?s=t.wheelDelta/120:t.detail?s=-t.detail/3:t.originalEvent.wheelDelta?s=t.originalEvent.wheelDelta/120:t.originalEvent.detail?s=-t.originalEvent.detail/3:t.originalEvent.deltaY&&(s=-t.originalEvent.deltaY/3),s){var r=i._handleDelta(s);return r||t.preventDefault&&t.preventDefault(),!r&&r}t.preventDefault&&t.preventDefault(),t.returnValue=!1},_handleDelta:function(e){var t=this,i=t.vScrollBar.jqxScrollBar("getInstance");if(t.focused){var s=i.value;if(e<0?t.scrollDown():t.scrollUp(),s!==i.value)return!1}return!0},scrollDown:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.min(t.value+t.largestep,t.max);return t.setPosition(i),e._arrange(),!0},scrollUp:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.max(t.value-t.largestep,t.min);return t.setPosition(i),e._arrange(),!0},_setSize:function(){var e=this;e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height)},_addClasses:function(){var t=this,i="jqx-panel jqx-widget jqx-widget-content jqx-text-area";t.textarea.className+=" "+t.toThemeProperty("jqx-widget jqx-widget-content"),!0===t.roundedCorners&&(i+=" jqx-rc-all"),!0===t.disabled?(i+=" jqx-fill-state-disabled",t.textarea.setAttribute("disabled","disabled"),e.jqx.aria(t,"aria-disabled",!0)):e.jqx.aria(t,"aria-disabled",!1),!0===t.rtl&&(t.textarea.className+=" "+t.toThemeProperty("jqx-text-area-element-rtl")),t.element.className+=" "+t.toThemeProperty(i)},_addPopupClasses:function(){var t=this,i="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(i+=" jqx-noshadow"),t.roundedCorners&&(i+=" jqx-rc-all"),t.$popup.className+=" "+t.toThemeProperty(i)},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",s="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(s=e[t.valueMember]),""===i&&(i=e.label),""===s&&(s=e.value),{label:i,value:s}}return e},s=function(e){for(var t=[],s=0;s<e.length;s++)t[s]=i(e[s]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=s(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=s(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=s(this.source))},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var s=0,r=this._popupHelper.children();return e.each(r,function(){s+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(s),this.opened=!0,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("3",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_suggest:function(){var t,i=this;return i.query=i.textarea.value,!i.query||i.query.length<i.minLength?i.opened?i.close():i:(t=e.isFunction(i.source)?i.source(i.query,e.proxy(i._load,this)):i.source)?i._load(t):i},_load:function(t){var i=this;return t=e.grep(t,function(e){return i.filter(e)}),(t=i.sort(t)).length?i._render(t.slice(0,i.items)).open():i.opened?i.close():i},_filter:function(t){var i=this,s=i.query,r=t;switch(void 0!==t.label?r=t.label:i.displayMember&&(r=t[i.displayMember]),i.searchMode){case"none":break;case"contains":return e.jqx.string.contains(r,s);case"equals":return e.jqx.string.equals(r,s);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(r,s);case"startswith":return e.jqx.string.startsWith(r,s);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(r,s);case"endswith":return e.jqx.string.endsWith(r,s);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(r,s);default:return e.jqx.string.containsIgnoreCase(r,s)}},_sort:function(e){for(var t=this,i=[],s=[],r=[],n=0;n<e.length;n++){var o=e[n],a=o;o.label?a=o.label:t.displayMember&&(a=o[t.displayMember]),0===a.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())?i.push(o):a.toString().indexOf(t.query)>=0?s.push(o):a.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())>=0&&r.push(o)}return i.concat(s,r)},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_render:function(t){var i=this,s=i._popupHelper.children();if(s.length>0)for(var r=0;r<s.length;r++)e(s[r]).remove();var n=function(e,t){var s,r,n=e,o=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","#"),o.appendChild(a),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(s=e.label,r=i.escape_HTML(e.value)):(s=e.value,r=i.escape_HTML(e.value)):void 0!==e.label&&null!==e.label?(s=e.label,r=e.label):void 0!==i.displayMember&&""!==i.displayMember?(s=e[i.displayMember],r=e[i.valueMember]):(s=e,r=e),o.setAttribute("data-value",r),o.setAttribute("data-name",s),e.label?n=e.label:i.displayMember&&(n=e[i.displayMember]),a.innerHTML=i.highlight(n);var l="";i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),o.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(o),i.addHandler(o,"mouseenter",function(e){i._itemHandler(e)})};return function(e){for(var t=0;t<e.length;t++)n(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.getAttribute("data-value"),i=e.getAttribute("data-name");return this.textarea.value=this.renderer(i,this.textarea.value),this.selectedItem={label:i,value:t},this.element.setAttribute("data-value",t),this.element.setAttribute("data-label",i),this._raiseEvent("1",{item:{label:i,value:t}}),this._arrange(),this.textarea.scrollTop=this.textarea.scrollHeight,this._raiseEvent("0"),this.close()},_renderer:function(e){return e},_move:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),t._prev());break;case 40:e.shiftKey||(e.preventDefault(),t._next())}e.stopPropagation()}},_next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_width:function(t){var i=e(t),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10);s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var a=t.offsetWidth-(s+r+n+o);return a>0?a:""},_height:function(t){var i=e(t),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var a=t.offsetHeight-(s+r+n+o);return a>0?a:""}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxToolBar","",{}),e.extend(e.jqx._jqxToolBar.prototype,{defineInstance:function(){var t={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===e.jqx._jqxToolBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},e._toolChanges=[],e.render()},render:function(){var t=this,i=!0;t.element.innerHTML="",t.element.className.length>0&&t._removeClass(t.element,t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),t._setSize(),t._destroyTools(!1),t._toolWidgets&&(i=!1,e(t._minimizeButton).remove(),e(t._minimizePopup).remove()),t._appendMinimizeButton(),t._addClasses(),t._initiallyHidden||t._createTools(),!0===t.disabled&&(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)),t._initiallyHidden||t._minimize(),t._removeHandlers(),t._addHandlers(),!1===i&&t._toolChanges.length>0&&t._restoreChanges()},refresh:function(e){!0!==e&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){var e=this;e._removeHandlers(),e._destroyTools(),e.host.remove()},_destroyTools:function(e){var t=this;if(!1!==e&&(e=!0),t._toolWidgets)for(var i=t._toolWidgets.length-1;i>=0;i--)t._destroyTool(i,e,!0)},_destroyTool:function(t,i,s){var r=this;t=parseInt(t,10);var n=r._toolWidgets[t];if(n){var o=n.type,a=n.tool,l=n.menuTool;"custom"!==o?(a[r._toolToWidgetMapping[o]]("destroy"),l&&l[r._toolToWidgetMapping[o]]("destroy")):(a.remove(),l&&l.remove()),n.menuSeparator&&e(n.menuSeparator).remove(),r._toolWidgets.splice(t,1),r._checkType(o)&&r._refreshButtonGroups(),!0!==s&&r._minimize(),!1!==i&&r._toolChanges.push({action:"destroyTool",index:t})}},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,i,s){var r,n,o,a,l=this;r="first"===t?0:l._toolWidgets.length,l._toolWidgets[r-1]&&(n=l._toolWidgets[r-1].tool,o=l._toolWidgets[r-1].separatorAfterWidget?"|":l._toolWidgets[r-1].type),!0===i?a="|":l._toolWidgets[r+1]&&(a=l._toolWidgets[r+1].type);var d=l._initializeTool(r,e,n,o,a,s,!1);"first"===t?l._toolWidgets.splice(0,0,d):l._toolWidgets.push(d),l._removeHandlers(),l._addHandlers(),l._checkType(e)&&l._refreshButtonGroups(),"first"!==t&&l._minimizedTools>0?l._minimizeTool(!0):l._minimize(),l._toolChanges.push({action:"addTool",type:e,position:t,separator:i,initCallback:s})},_disableTools:function(e){for(var t=0;t<this._toolWidgets.length;t++)this.disableTool(t,e)},disableTool:function(e,t){var i=this;e=parseInt(e,10);var s=i._toolWidgets[e];if(s){var r=s.type;"custom"!==r&&(s.tool[i._toolToWidgetMapping[r]]({disabled:t}),s.menuTool[i._toolToWidgetMapping[r]]({disabled:t})),i._toolChanges.push({action:"disableTool",index:e,disable:t})}},propertyChangedHandler:function(t,i,s,r){if("initTools"!==i&&r!==s)switch(i){case"theme":""!==s&&(t._removeClass(t.element,t.toThemeProperty("jqx-widget-"+s+" jqx-fill-state-normal-"+s+" jqx-rc-all-"+s+" jqx-toolbar-"+s)),t._removeClass(t._minimizePopup,"jqx-popup-"+s+" jqx-fill-state-normal-"+s+" jqx-rc-b-"+s+" jqx-toolbar-minimized-popup-"+s)),t._addClasses(),t._minimizePopup.className+=" "+t.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var n=0;n<t._toolWidgets.length;n++){var o=t._toolWidgets[n];"custom"!==o.type&&(o.menuTool&&(o.menuSeparator&&(""!==s&&t._removeClass(o.menuSeparator,"jqx-fill-state-pressed-"+s+" jqx-toolbar-minimized-popup-separator-"+s),o.menuSeparator.className+=" jqx-fill-state-pressed-"+r+" jqx-toolbar-minimized-popup-separator-"+r),o.menuTool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:r})),o.tool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:r}))}e.jqx.utilities.setTheme(s,r,t.host);break;case"width":t.element.style.width=t._toPx(r),t._minimize();break;case"minWidth":t.element.style.minWidth=t._toPx(r),t._minimize();break;case"maxWidth":t.element.style.maxWidth=t._toPx(r),t._minimize();break;case"height":var a,l=!1;if(t.element.style.height=t._toPx(r),"string"==typeof r&&-1!==r.indexOf("%")){if("string"==typeof s&&-1!==s.indexOf("%"))return void t.host.trigger("resize");l=!0}else a=parseInt(r,10),a-=t._getComputedStyle(t.element,"paddingTop")+t._getComputedStyle(t.element,"paddingBottom")+t._getComputedStyle(t.element,"borderTopWidth")+t._getComputedStyle(t.element,"borderBottomWidth");for(var d=0;d<t._toolWidgets.length;d++){var h=t._toolWidgets[d],c=h.type;"button"===c||"toggleButton"===c||"repeatButton"===c||"linkButton"===c?(h.tool[0].style.height=l?"100%":t._toPx(a),h.menuTool&&(h.menuTool[0].style.height=l?"100%":t._toPx(a))):"dropdownlist"!==c&&"combobox"!==c&&"input"!==c||(h.tool[t._toolToWidgetMapping[c]]({height:l?"100%":a-2}),h.menuTool&&h.menuTool[t._toolToWidgetMapping[c]]({height:l?"100%":a-2}))}break;case"tools":t._removeHandlers(),t._destroyTools(),t._createTools(),t._addHandlers(),t._minimize();break;case"minimizeWidth":if(!0===t._isOpen){var u=t._getComputedStyle(t._minimizePopup,"left")-(r-s);t._minimizePopup.style.width=t._toPx(r),t._minimizePopup.style.left=t._toPx(u)}else t._minimizePopup.style.width=t._toPx(r);break;case"rtl":t.render();break;case"disabled":!0===r?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t._disableTools(!1))}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_addClasses:function(){var e=this,t="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";!0===e.rtl&&(t+=" jqx-toolbar-rtl"),e.element.className+=" "+e.toThemeProperty(t)},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){var t=this;function i(i,s,r,n,o,a){var l=i.tool[0],d=i.menuTool[0],h={add:"",remove:""};h[s]+=" jqx-toolbar-tool-inner-button",h[r]+=" jqx-rc-all",h[n]+=" jqx-rc-l",h[o]+=" jqx-rc-r",""!==h.add&&(l.className+=" "+t.toThemeProperty(e.trim(h.add)),d&&(d.className+=" "+t.toThemeProperty(e.trim(h.add)))),""!==h.remove&&(t._removeClass(l,t.toThemeProperty(e.trim(h.remove))),d&&t._removeClass(d,t.toThemeProperty(e.trim(h.remove)))),l.style.borderLeftWidth=a+"px",d&&(d.style.borderLeftWidth=a+"px")}for(var s=0;s<t._toolWidgets.length;s++){var r=t._toolWidgets[s];if(t._checkType(r.type)){var n,o,a=r.tool,l=r.menuTool;s>0&&(n=t._toolWidgets[s-1].separatorAfterWidget?"|":t._toolWidgets[s-1]),r.separatorAfterWidget?o="|":s<t._toolWidgets.length-1&&(o=t._toolWidgets[s+1]);var d=n&&t._checkType(n.type),h=!1===r.separatorAfterWidget&&o&&t._checkType(o.type);d||h?!d&&h?i(r,"remove","remove","add","remove",1):d&&h?i(r,"add","remove","remove","remove",0):d&&!h&&i(r,"remove","remove","remove","add",0):i(r,"remove","add","remove","remove",1);var c=t.rtl?"rtl":"ltr";h?(t._removeClass(a[0],t.toThemeProperty("jqx-toolbar-tool-separator-"+c)),t._removeClass(a[0],t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c)),l&&(t._removeClass(l[0],t.toThemeProperty("jqx-toolbar-tool-separator-"+c)),t._removeClass(l[0],t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c)))):r.separatorAfterWidget?(t._removeClass(a[0],t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c)),a[0].className+=" "+t.toThemeProperty("jqx-toolbar-tool-separator-"+c),l&&(t._removeClass(l[0],t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c)),l[0].className+=" "+t.toThemeProperty("jqx-toolbar-tool-separator-"+c))):(t._removeClass(a[0],t.toThemeProperty("jqx-toolbar-tool-separator-"+c)),a[0].className+=" "+t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c),l&&(t._removeClass(l[0],t.toThemeProperty("jqx-toolbar-tool-separator-"+c)),l[0].className+=" "+t.toThemeProperty("jqx-toolbar-tool-no-separator-"+c)))}}},_addHandlers:function(){var t=this,i=t.element.id;e.jqx.utilities.resize(t.host,function(){if(t._initiallyHidden)return t._createTools(),t._minimize(),void(t._initiallyHidden=!1);!0===t._isOpen&&(t._minimizePopup.style.display="none",t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(document,"click.jqxToolbar"+i,function(){!0===t._isOpen&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+i,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(e(".jqx-popup"),"click.jqxToolbar"+i,function(e){-1===e.target.className.indexOf("jqx-window-content")&&e.stopPropagation()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(document,"click.jqxToolbar"+i),t.removeHandler(t._minimizeButton,"click.jqxToolbar"+i),t.removeHandler(e(".jqx-popup"),"click.jqxToolbar"+i)},_setSize:function(){var e=this,t=e.element.style;t.width=e._toPx(e.width),t.height=e._toPx(e.height),e.minWidth&&(t.minWidth=e._toPx(e.minWidth)),e.maxWidth&&(t.maxWidth=e._toPx(e.maxWidth))},_createTools:function(){var t=this,i=t.tools.split(" "),s=e.trim(t.tools.replace(/\|/g,""));s=(s=s.replace(/\s+/g," ")).split(" "),t._toolWidgets=[];for(var r=0,n=0;n<s.length;n++){s[n]!==i[n+r]&&r++;var o,a=n+r;t._toolWidgets[n-1]&&(o=t._toolWidgets[n-1].tool);var l=i[a],d=i[a-1],h=i[a+1],c=t.initTools;if(""===l)return!0;var u=t._initializeTool(n,l,o,d,h,c,!0);t._toolWidgets.push(u)}t._minimizePopup.style.display="none",t._minimizePopup.style.visibility="visible"},_initializeTool:function(e,t,i,s,r,n,o){var a,l,d=this,h=d._initializeWidget(t,a,l,i);a=h.tool,l=h.menuTool;var c,u,p=a[0],m="jqx-toolbar-tool",f=l[0],g=!0;(!0===d.rtl&&(m+=" jqx-toolbar-tool-rtl"),d.initTools)&&(!(u=!0===o?d.initTools(t,e,a,!1):n(t,a,!1))||!1!==u.minimizable&&!1!==u.menuTool?(!0===o?d.initTools(t,e,l,!0):n(t,l,!0),l&&(c="jqx-toolbar-tool-minimized")):("custom"!==t?l[d._toolToWidgetMapping[t]]("destroy"):l.remove(),!1===u.minimizable&&(g=!1),l=!1));var v,x=!1;l&&(f.style.display="none");var w=d.rtl?"rtl":"ltr",y=["button","toggleButton","repeatButton","linkButton"],b={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};return"|"===r?(x=!0,m+=" jqx-toolbar-tool-separator-"+w,l&&(c+=" jqx-toolbar-tool-separator-"+w),l&&((v=document.createElement("div")).className=d.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),d._minimizePopup.appendChild(v))):(-1===y.indexOf(t)||-1!==y.indexOf(t)&&-1===y.indexOf(r))&&(m+=" jqx-toolbar-tool-no-separator-"+w,l&&(c+=" jqx-toolbar-tool-no-separator-"+w)),-1===y.indexOf(s)&&-1!==y.indexOf(t)&&-1!==y.indexOf(r)?!1===d.rtl?(a[b[t]]({roundedCorners:"left"}),l&&l[b[t]]({roundedCorners:"left"})):(a[b[t]]({roundedCorners:"left"}),p.style.borderLeftWidth="0px",l&&(l[b[t]]({roundedCorners:"left"}),f.style.borderLeftWidth="0px")):-1!==y.indexOf(s)&&-1!==y.indexOf(t)&&-1!==y.indexOf(r)?(m+=" jqx-toolbar-tool-inner-button",p.style.borderLeftWidth="0px",l&&(c+=" jqx-toolbar-tool-inner-button",f.style.borderLeftWidth="0px")):-1!==y.indexOf(s)&&-1!==y.indexOf(t)&&-1===y.indexOf(r)&&(!1===d.rtl?(a[b[t]]({roundedCorners:"right"}),p.style.borderLeftWidth="0px",l&&(l[b[t]]({roundedCorners:"right"}),f.style.borderLeftWidth="0px")):(a[b[t]]({roundedCorners:"left"}),l&&l[b[t]]({roundedCorners:"left"}))),p.className+=" "+d.toThemeProperty(m),l&&(f.className+=" "+d.toThemeProperty(c)),{type:t,tool:a,separatorAfterWidget:x,minimizable:g,minimized:!1,menuTool:l,menuSeparator:v}},_initializeWidget:function(t,i,s,r){var n,o,a,l,d=this,h=d._toolToWidgetMapping[t],c=!1;if("string"==typeof d.height&&-1!==d.height.indexOf("%"))c=!0;else{var u=window.getComputedStyle?window.getComputedStyle(d.element):d.element.currentStyle;o=d.element.offsetHeight-(parseInt(u.paddingTop,10)+parseInt(u.paddingBottom,10)+parseInt(u.borderTopWidth,10)+parseInt(u.borderBottomWidth,10))}if("custom"!==t&&void 0===d.host[h]){var p=d._toolToWidgetMapping[t].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+p+".js")}switch(t){case"button":case"toggleButton":i=document.createElement("button"),s=document.createElement("button"),n={theme:d.theme,height:c?"100%":o,disabled:d.disabled,rtl:d.rtl};break;case"dropdownlist":case"combobox":i=document.createElement("div"),s=document.createElement("div"),n={theme:d.theme,autoDropDownHeight:!0,height:c?"100%":o-2,disabled:d.disabled,rtl:d.rtl};break;case"input":(i=document.createElement("input")).setAttribute("type","text"),(s=document.createElement("input")).setAttribute("type","text"),n={theme:d.theme,height:c?"100%":o-2,disabled:d.disabled,rtl:d.rtl};break;case"custom":i=document.createElement("div"),s=document.createElement("div")}return a=d.host.children(),l=e(d._minimizePopup).children(),r||1===a.length&&0===l.length?(d.element.appendChild(i),d._minimizePopup.appendChild(s)):(d.element.insertBefore(i,a[1]),d._minimizePopup.insertBefore(s,l[0])),i=e(i),s=e(s),"custom"!==t&&(i[h](n),s[h](n)),{tool:i,menuTool:s}},_appendMinimizeButton:function(){var e=this;e._minimizedTools=0;var t=document.createElement("div"),i="jqx-menu-minimized-button jqx-toolbar-minimized-button",s=document.createElement("div"),r="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";s.setAttribute("id",e.element.id+"Popup"),!0===e.rtl&&(i+=" jqx-toolbar-minimized-button-rtl",r+=" jqx-toolbar-minimized-popup-rtl"),t.className=e.toThemeProperty(i),s.className=e.toThemeProperty(r),e.element.appendChild(t),document.body.appendChild(s),e._isOpen=!1,s.style.width=e._toPx(e.minimizeWidth),e._minimizeButton=t,e._minimizePopup=s},_openMinimizePopup:function(){var t=this;if(!1===t._isOpen){var i=t.host.offset(),s=i.left;!1===t.rtl&&(s+=t.element.offsetWidth-parseInt(t.minimizeWidth,10)-(t._getComputedStyle(t._minimizePopup,"paddingLeft")+t._getComputedStyle(t._minimizePopup,"paddingRight")+t._getComputedStyle(t._minimizePopup,"borderLeftWidth")+t._getComputedStyle(t._minimizePopup,"borderRightWidth")));var r=i.top+t.element.offsetHeight-1;t._minimizePopup.style.left=s+"px",t._minimizePopup.style.top=r+"px",e(t._minimizePopup).slideDown("fast",function(){t._isOpen=!0,t._raiseEvent("0")})}else e(t._minimizePopup).slideUp("fast"),t._isOpen=!1,t._raiseEvent("1")},_minimize:function(){var t=this,i=0;t._minimizedTools>0&&(i=t._minimizeButton.offsetWidth+t._getComputedStyle(t._minimizeButton,"marginLeft"));var s=t.element.offsetWidth-t._getComputedStyle(t.element,"paddingLeft")-t._getComputedStyle(t.element,"paddingRight")-i-10;if(!(s<0)){for(var r,n,o,a,l=0,d=0;d<t._toolWidgets.length;d++){var h=t._toolWidgets[d].tool;if(!1===t._toolWidgets[d].minimized)l+=h[0].offsetWidth+t._getComputedStyle(h[0],"marginLeft")+t._getComputedStyle(h[0],"marginRight");else void 0===r&&(n=h[0],o=void 0,a=void 0,(a=n.cloneNode(!0)).style.visibility="hidden",a.style.display="block",a.style.position="absolute",document.body.appendChild(a),o=a.offsetWidth+t._getComputedStyle(a,"marginLeft")+t._getComputedStyle(a,"marginRight"),e(a).remove(),r=o)}l>s?(t._minimizeTool(!0),t._minimize()):void 0!==r&&l+r<s&&(t._minimizeTool(!1),t._minimize())}},_minimizeTool:function(e){var t,i,s=this;if(!0===e){for(var r=s._toolWidgets.length-1;r>=0;r--)if(!1!==(t=s._toolWidgets[r]).minimizable&&!1===t.minimized){i=s._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool[0].style.display="block",s._setToolValue(i,t.menuTool,t.type)),t.menuSeparator&&(t.menuSeparator.style.display="block"),s._toolWidgets[r].minimized=!0,s._minimizedTools++,1===s._minimizedTools&&(s._minimizeButton.style.display="block");break}}else for(var n=0;n<s._toolWidgets.length;n++)if(!0===(t=s._toolWidgets[n]).minimized){t.menuTool&&(i=s._getToolValue(t.menuTool,t.type),t.menuTool[0].style.display="none"),t.menuSeparator&&(t.menuSeparator.style.display="none"),t.tool.show(),t.menuTool&&s._setToolValue(i,t.tool,t.type),s._toolWidgets[n].minimized=!1,s._minimizedTools--,0===s._minimizedTools&&(s._minimizeButton.style.display="none");break}},_getToolValue:function(e,t){var i;switch(t){case"button":case"custom":i=void 0;break;case"toggleButton":var s=-1!==e[0].className.indexOf("jqx-fill-state-pressed");i={text:e[0].innerHTML,toggled:s};break;case"dropdownlist":case"combobox":var r=this._toolToWidgetMapping[t];i=e[r]("checkboxes")?e[r]("val"):e[r]("getSelectedIndex");break;case"input":i=e.val()}return i},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_setToolValue:function(e,t,i){if(void 0!==e)switch(i){case"button":case"custom":break;case"toggleButton":t[0].innerHTML=this.escape_HTML(e.text),-1!==t[0].className.indexOf("jqx-fill-state-pressed")!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var s=this._toolToWidgetMapping[i];if(t[s]("checkboxes")){if(t[s]("uncheckAll"),""===e)return;for(var r=e.split(","),n=0;n<r.length;n++)t[s]("checkItem",r[n])}else e=t[s]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var t=this;e.each(t._toolChanges,function(e,i){"addTool"===i.action?t.addTool(i.type,i.position,i.separator,i.initCallback):"destroyTool"===i.action?t._destroyTool(i.index):"disableTool"===i.action&&t.disableTool(i.index,i.disable)})},_removeClass:function(t,i){e(t).removeClass(i)},_toPx:function(e){return"number"==typeof e?e+"px":e},_getComputedStyle:function(e,t){var i;return window.getComputedStyle?i=window.getComputedStyle(e):e.currentStyle&&(i=e.currentStyle),"string"==typeof i[t]&&-1===i[t].indexOf("px")?0:parseInt(i[t],10)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===e.jqx._jqxTooltip.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=e.data(document.body,"_tooltipIDArray"+this.name);t?this.IDArray=t:(this.IDArray=[],e.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i="jqxtooltip"+this._generatekey();this.IDArray.push({tooltipID:i,tooltipHost:this.host});var s=document.createElement("div");s.setAttribute("id",i),s.innerHTML='<div id="'+i+'Main"><div id="'+i+'Text"></div></div><div id="'+i+'Arrow"></div>',e.jqx.browser.msie&&(s.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(s),this._tooltip=s,this._tooltipHelper=e(s),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),s.style.visibility="hidden",s.style.display="none",s.style.opacity=0,s.style.zIndex=99999;var r=document.getElementById(i+"Arrow");this._arrow=r,!1===this.showArrow&&(r.style.visibility="hidden",r.style.display="none"),this._main=document.getElementById(i+"Main"),this._text=document.getElementById(i+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this,s=e.jqx.browser.msie&&e.jqx.browser.version<9;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var r=parseFloat(i._tooltip.style.opacity),n=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},t,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};!1!==this._isOpen||0===r?!0===this._isOpen&&(!s&&r===this.opacity||s)&&n():n()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(!0!==e){var t=this;this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl");var i=parseFloat(t._tooltip.style.opacity);"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,s){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID;break}return void 0===e&&(e="removed"),e},_setPosition:function(t){var i=this,s=i._tooltip;if(!1===this._isOpen&&0===parseFloat(s.style.opacity)||!0===this.changeContentFlag){if(!t&&("mouse"===this.position||"mouseenter"===this.position))return;s.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=s.offsetWidth,this.tooltipHeight=s.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var r,n=i._arrow,o=e(n),a=i._main,l=e(a),d=a.offsetWidth,h=a.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":r=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a.offsetHeight/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),n.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=t.pageX+10,i.tooltipOffset.top=t.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=t.pageX+10,this.tooltipOffset.top=t.pageY+10,this._detectBrowserBounds()}else{var c,u=t.pageX,p=t.pageY;if(t.originalEvent)t.originalEvent.touches&&t.originalEvent.touches.length?c=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(c=t.originalEvent.changedTouches[0]),void 0!==c&&(u=c.pageX,p=c.pageY);this.tooltipOffset.left=u+10,this.tooltipOffset.top=p+10,this._detectBrowserBounds()}n.style.borderWidth="0px";break;case"mouseenter":var m={top:t.pageY,left:t.pageX};m.top<this.hostOffset.top+10&&m.top>this.hostOffset.top-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.top<this.hostOffset.top+this.hostHeight+10&&m.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+10&&m.left>this.hostOffset.left-10?(r=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+this.hostWidth+10&&m.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===t){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return;i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var t=this,i=this.host;if(this.selector&&(i=e("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(e){1===t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(e){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var i=t._tooltipHelper.offset(),s=t._tooltip.offsetWidth,r=t._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(i.left,10)||parseInt(e.pageX,10)>parseInt(i.left,10)+s)&&t.close(),(parseInt(e.pageY,10)<parseInt(i.top,10)||parseInt(e.pageY,10)>parseInt(i.top,10)+r)&&t.close()}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(i,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(e){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var i=e.pageX,s=e.pageY,r=t._tooltipHelper.offset(),n=r.left,o=r.top,a=t._tooltip.offsetWidth,l=t._tooltip.offsetHeight;(parseInt(i,10)<parseInt(n,10)||parseInt(i,10)>parseInt(n,10)+a||parseInt(s,10)<parseInt(o,10)||parseInt(s,10)>parseInt(o,10)+l)&&t.close()}}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this;this.addHandler(e._tooltipHelper,"click.tooltip",function(t){e._checkBoundariesClick(t),e.close()})},_setSize:function(){var e=this;e._tooltip.style.width=e._toPx(e.width),e._tooltip.style.height=e._toPx(e.height)},resize:function(){this._setSize()},_setTheme:function(){var e=this;-1===e._tooltip.className.indexOf("jqx-tooltip")&&(e._tooltip.className+=" "+e.toThemeProperty("jqx-tooltip jqx-popup"),e._main.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),e._text.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),e._arrow&&(e._arrow.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow")))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:16,toggleIndicatorSize:18,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxTree.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(t,s,r,n){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(i,"aria-disabled",n)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&window.jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL"))&&((s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0));if(null!=this.source){var s,r=this.loadItems(this.source);this.element.innerHTML=r,(s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0)}(this._itemslength=this.items.length,this.createdTree)||0==this.host.find("ul").length&&(this.host.append(e("<ul></ul>")),(s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0),this.createdTree=!0);1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var s=this;if(null!=t){var r,n=0;if(r=(a=e(t.element).find("li")).length,e.each(a,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,n++)}),t!=i)n==r?this.checkItem(t.element,!0,"tree"):n>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var o=i.checked,a=e(i.element).find("li");e.each(a,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,o,"tree")})}this.checkItems(this._parentItem(t),i)}else{o=i.checked,a=e(i.element).find("li");e.each(a,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,o,"tree")})}},_getMatches:function(t,i){if(null==t||0==t.length)return-1;for(var s=this.items,r=new Array,n=0;n<s.length;n++)this._isVisible(s[n])&&!s[n].disabled&&r.push(s[n]);s=r,null!=i&&(s=s.slice(i));var o=new Array;return e.each(s,function(i){var s=this.label;s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&o.push({id:this.id,element:this.element})}),o},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var s=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var r=t.selectedItem.element;if(t.incrementalSearch&&!(s>=33&&s<=40)){t._searchString||(t._searchString=""),(8==s||46==s)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var n=String.fromCharCode(s),o=!isNaN(parseInt(n));if(s>=65&&s<=97||o||8==s||32==s||46==s){if(i.shiftKey||(n=n.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(t._searchString.length>0&&t._searchString.substr(0,1)==n||(t._searchString+=n)),32==s&&(t._searchString+=" "),t._searchTime=new Date,c=t.selectedItem){for(var a=c.id,l=-1,d=0;d<t.items.length;d++)if(t.items[d].id==a){l=d+1;break}if(0==(h=t._getMatches(t._searchString,l)).length||h.length>0&&h[0].id==a)var h=t._getMatches(t._searchString)}else h=t._getMatches(t._searchString);if(h.length>0){var c=t.selectedItem;t.selectedItem&&t.selectedItem.id!=h[0].id&&(t.clearSelection(),t.selectItem(h[0].element,"keyboard")),t._lastSearchString=t._searchString}}null!=t._searchTimer&&clearTimeout(t._searchTimer),27!=s&&13!=s||(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="",t._lastSearchString=""},500)}switch(s){case 32:if(t.checkboxes){t.fromKey=!0;var u=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!u,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:var p=t._getItemsOnPage(),m=t.selectedItem;for(d=0;d<p;d++)m=t._prevVisibleItem(m);return null!=m?(t.selectItem(m.element,"keyboard"),t.ensureVisible(m.element)):(t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element)),!1;case 34:p=t._getItemsOnPage();var f=t.selectedItem;for(d=0;d<p;d++)f=t._nextVisibleItem(f);return null!=f?(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element)):(t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==s&&!t.rtl||39==s&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(r);else{var g=t._parentItem(t.selectedItem);null!=g&&(t.selectItem(g.element,"keyboard"),t.ensureVisible(g.element))}if(39==s&&!t.rtl||37==s&&t.rtl)if(t.selectedItem.hasItems)if(t.selectedItem.isExpanded)null!=(f=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element));else t.expandItem(r);return!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(r):t.expandItem(r)),!1;case 36:return t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element),!1;case 38:return null!=(m=t._prevVisibleItem(t.selectedItem))&&(t.selectItem(m.element,"keyboard"),t.ensureVisible(m.element)),!1;case 40:return null!=(f=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element)),!1}}})},_firstItem:function(){for(var t=null,i=this.host.find("ul:first"),s=e(i).find("li"),r=0;r<=s.length-1;r++){var n=s[r];if(t=this.itemMapping["id"+n.id].item,this._isVisible(t))return t}return null},_lastItem:function(){for(var t=null,i=this.host.find("ul:first"),s=e(i).find("li"),r=s.length-1;r>=0;r--){var n=s[r];if(t=this.itemMapping["id"+n.id].item,this._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){if(this.element==i)return s=this,!1}),s},_nextVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),s=0,r=this._firstItem();if(parseInt(e(r.element).height())>0)for(;s<=i;)s+=parseInt(e(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var s="<ul>";return e.map(t,function(e){if(null==e)return null;s+=i._parseItem(e)}),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=e.value;!e.label&&e.html&&(i=e.html),null!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),null!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;null!=e.expanded&&e.expanded&&(r=!0);var n=!1;null!=e.locked&&e.locked&&(n=!0);var o=!1;null!=e.selected&&e.selected&&(o=!0);var a=!1;null!=e.disabled&&e.disabled&&(a=!0);var l=!1;null!=e.checked&&e.checked&&(l=!0);var d=e.icon;t+="<li",r&&(t+=' item-expanded="true" '),n&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),e.iconsize&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=d&&null!=d&&(t+=' item-icon="'+d+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),null!=e.checked&&(t+=' item-checked="'+l+'" ');var h="";return null!=e.id?t+=' id="'+(h=e.id)+'" ':t+=' id="'+(h=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):null!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[h]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&null!=t&&this.panel){var i=this.panel.jqxPanel("getVScrollPosition"),s=this.panel.jqxPanel("getHScrollPosition"),r=parseInt(this.host.height()),n=e(t).find(".jqx-tree-item:first"),o=e(n).position().top;if(0===i&&0===o)return;var a=this.panel.jqxPanel("hScrollBar").outerHeight();(o<=i||o>=r+i)&&this.panel.jqxPanel("scrollTo",s,o-r+e(n).outerHeight()+a)}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,function(){var t=e(this);if("none"!=t.css("display")){var s=t.outerHeight();if(t.height()>0){var r=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:r,height:s,bottom:r+s}}}})},hitTest:function(t,i){var s=this,r=null,n=this.host.find(".jqx-item");if(this._syncItems(n),s._visibleItems){var o=parseInt(s.host.offset().left),a=s.host.outerWidth();e.each(s._visibleItems,function(n){if(t>=o&&t<o+a&&this.top+5<i&&i<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&null!=(r=s.getItem(l[0])))return r.height=this.height,r.top=this.top,!1}})}return r},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,s,r){var n=new Array;i&&null!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var o="",a=this;e.each(n,function(){o+=a._parseItem(this)});var l=e(o);if(this.element.innerHTML.indexOf("UL"))var d=this.host.find("ul:first");null==i&&null==i?d.append(l):s?e(i).before(l):e(i).after(l);for(var h=l,c=0;c<h.length;c++){this._createItem(h[c]);var u=e(h[c]).find("li");if(u.length>0)for(var p=0;p<u.length;p++)this._createItem(u[p])}var m=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};if(0==r)return m(!0),void this._raiseEvent("4",{items:this.getItems()});m(!1),a._render(),this._raiseEvent("4",{items:this.getItems()}),a.checkboxes&&a._updateCheckLayout(null)},addTo:function(t,i,s){var r=this,n=new Array;i&&null!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var o="",a=this;e.each(n,function(){o+=a._parseItem(this)});var l=e(o);if(r.element.innerHTML.indexOf("UL"))var d=r.host.find("ul:first");if(null==i&&null==i)d.append(l);else{var h=(i=e(i)).find("ul:first");if(0==h.length){var c=e("<ul></ul>");e(i).append(c),h=i.find("ul:first");var u=r.itemMapping["id"+i[0].id].item;u.subtreeElement=h[0],u.hasItems=!0,h.addClass(r.toThemeProperty("jqx-tree-dropdown")),a.rtl&&h.addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),h.append(l);var p=h.find("li:first");u.parentElement=p}else h.append(l)}for(var m=l,f=0;f<m.length;f++){this._createItem(m[f]);var g=e(m[f]).find("li");if(g.length>0)for(var v=0;v<g.length;v++)this._createItem(g[v])}var x=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};if(0==s)return x(!0),void this._raiseEvent("4",{items:this.getItems()});x(!1),a._render(),a.checkboxes&&a._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(t,i){if(!(r=null!=t.treeInstance?t:this.getItem(t))){var s=t;t=i,i=s;var r=null!=t.treeInstance?t:this.getItem(t)}if(r){if("string"==typeof i&&(i={label:i}),i.value&&(r.value=i.value),i.label)if(r.label=i.label,e.jqx.utilities.html(e(r.titleElement),i.label),e.jqx.browser.msie&&e.jqx.browser.version<8){e(document.body).append(this._measureItem),this._measureItem.html(e(r.titleElement).text());var n=this._measureItem.width();r.icon&&(n+=20),e(e(r.titleElement).find("img")).length>0&&(n+=20),e(r.titleElement).css("max-width",n+"px"),this._measureItem.remove()}if(i.icon)if(e(r.element).children(".itemicon").length>0)e(r.element).find(".itemicon")[0].src=i.icon;else{var o=i.iconsize;o||(o=16);var a=e('<img width="'+o+'" height="'+o+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(r.titleElement).prepend(a),a.css("margin-right","6px"),this.rtl&&(a.css("margin-right","0px"),a.css("margin-left","6px"),a.css("float","right"))}return i.expanded&&this.expandItem(r),i.disabled&&this.disableItem(r),i.selected&&this.selectItem(r),!0}return!1},removeItem:function(t,i){if(null!=t&&null!=t){null!=t.treeInstance&&(t=t.element);var s=this,r=(t.id,this.getItem(t));r&&-1!=this.items.indexOf(r)&&function t(i){var s;-1!=(s=this.items.indexOf(i))&&this.items.splice(s,1);var r=e(i.element).find("li"),n=r.length,o=this,a=new Array;if(n>0){e.each(r,function(e){var t=o.itemMapping["id"+this.id].item;a.push(t)});for(var l=0;l<a.length;l++)t.apply(this,[a[l]])}}.apply(this,[r]),this.host.find("#"+t.id).length>0&&e(t).remove(),0!=i?(s._updateItemsNavigation(),s.allowDrag&&s._enableDragDrop?s._render(!0,!1):s._render(),null!=s.selectedItem&&s.selectedItem.element==t&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null),this._raiseEvent("5"),s.checkboxes&&s._updateCheckLayout(null)):this._raiseEvent("5")}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;if(s.element==t)return s.disabled=!0,e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),s==t.length-1?i+=r:i+=r+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array;return e.each(this.items,function(){this.checked&&t.push(this)}),t},getUncheckedItems:function(){var t=new Array;return e.each(this.items,function(){this.checked||t.push(this)}),t},checkAll:function(){e.each(this.items,function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){e.each(this.items,function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,s){if(null==t)return!1;void 0===i&&(i=!0),null!=t.treeInstance&&(t=t.element);var r=!1,n=null;e.each(this.items,function(){var s=this;if(s.element==t&&!s.disabled)return r=!0,s.checked=i,n=s,e(s.checkBoxElement).jqxCheckBox({checked:i}),!1}),r&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),null==s&&n&&this.hasThreeStates&&this.checkItems(n,n)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;if(s.element==t)return s.disabled=!1,e(s.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var t=this;e.each(t.items,function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(null==t)return!1;e.each(this.items,function(){if(this.element==t)return this.locked=!0,!1})},unlockItem:function(t){if(null==t)return!1;e.each(this.items,function(){if(this.element==t)return this.locked=!1,!1})},getItems:function(){return this.items},getItem:function(e){return null==e||null==e?null:this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t.isExpanded},isSelected:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){var i=this.getItem(t[0]);this.selectItem(i)}}else{i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t,i){if(!this.disabled){var s=this;if(t&&null!=t.treeInstance&&(t=t.element),null!=t&&null!=t){if(null==this.selectedItem||this.selectedItem.element!=t){var r=null!=this.selectedItem?this.selectedItem.element:null;r&&e(r).removeAttr("aria-selected"),e.each(s.items,function(){var i=this;this.selected=!1,i.disabled||i.element==t&&(null==s.selectedItem||null!=s.selectedItem&&s.selectedItem.titleElement!=i.titleElement)&&(null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected"))),e(i.titleElement).addClass(s.toThemeProperty("jqx-fill-state-pressed")),e(i.titleElement).addClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=i,this.selected=!0,e(i.element).attr("aria-selected","true"),e.jqx.aria(s,"aria-activedescendant",i.element.id))}),this._updateInputSelection(),i||(i=null),this._raiseEvent("2",{element:t,prevElement:r,type:i})}}else null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null)}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,s=this.animationHideDuration;this.animationHideDuration=0,e.each(i,function(){1==this.isExpanded&&t._collapseItem(t,this)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationHideDuration),this.animationHideDuration=s},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,function(){this.hasItems&&t._expandItem(t,this)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,function(){var e=this;if(1==e.isExpanded&&e.element==t)return i._collapseItem(i,e),!1}),!0},expandItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),s=-i.outerHeight();i.outerWidth();return 0,{left:0,top:s}},_collapseItem:function(t,i,s,r){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;var n=e(i.subtreeElement),o=this._getClosedSubtreeOffset(i);o.top,o.left,e(i.element),t.animationHideDelay;null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var a=function(){if(i.isExpanded=!1,t.checkboxes){var s=n.find(".chkbox");s.stop(),s.css("opacity",1),n.find(".chkbox").animate({opacity:0},50)}var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),n.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var s=e(i.arrow);t._arrowStyle(s,"",i.isExpanded),n.hide(),t._raiseEvent("1",{element:i.element})})};a()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=e(i.subtreeElement);null!=s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide);e(i.element);if(0!=parseInt(s.css("top"))){var r=e(i.arrow);if(t._arrowStyle(r,"",i.isExpanded),t.checkboxes){var n=s.find(".chkbox");n.stop(),n.css("opacity",0),n.animate({opacity:1},t.animationShowDuration)}r=e(i.arrow);if(t._arrowStyle(r,"",!0),s.slideDown(t.animationShowDuration,t.easing,function(){var s=e(i.arrow);i.isExpanded=!0,t._arrowStyle(s,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var o=e(i.subtreeElement).find("li");e.each(o,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}}else i.isExpanded=!0},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,s=0;if(!this.isUpdating){if(e.each(this.items,function(){if(0!=e(this.element).height()){var t=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(s=Math.max(s,t),this.hasItems){var r=parseInt(e(this.titleElement).css("padding-top"));isNaN(r)&&(r=0),r*=2;var n=((r+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(n)>=0&&e(this.arrow).css("margin-top",parseInt(n)+"px")}}}),this.toggleIndicatorSize>16&&(s=s+this.toggleIndicatorSize-16),t.panel)if(s>this.host.width()){var r=s-this.host.width();r+="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0,t.panel.jqxPanel({horizontalScrollBarMax:r})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(s);var n=this.host.width()-30;n>0&&this.host.find("ul:first").css("min-width",n),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var s=this;if(e.length>0){e.removeClass();var r="";"hover"==t&&(r="-"+t);var n="jqx-tree-item-arrow"+(o=i?"-expand":"-collapse")+r;if(e.addClass(s.toThemeProperty(n)),!this.rtl){var o=i?"-down":"-right";e.addClass(s.toThemeProperty("jqx-icon-arrow"+o))}if(this.rtl){e.addClass(s.toThemeProperty(n+"-rtl"));o=i?"-down":"-left";e.addClass(s.toThemeProperty("jqx-icon-arrow"+o))}}},_initialize:function(t,i){var s=this;this.host.addClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-widget-content")),this.host.addClass(s.toThemeProperty("jqx-tree")),this._updateDisabledState();var r=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,function(){var t=this,i=e(t.element),n=null;if(s.checkboxes&&!t.hasItems&&t.checkBoxElement&&e(t.checkBoxElement).css("margin-left","0px"),r)!t.hasItems&&e(t.element).find("ul").length>0&&e(t.element).find("ul").remove();else{var o;if(!t.hasItems)return s.rtl?t.element.style.marginRight=parseInt(s.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(s.toggleIndicatorSize)+"px",(o=e(t.arrow)).length>0&&(o.remove(),t.arrow=null),!0;s.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}(o=e(t.arrow)).length>0&&o.remove(),(n=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),s.rtl?n.css("float","right"):n.css("float","left"),n.css("clear","both"),n.width(s.toggleIndicatorSize),s._arrowStyle(n,"",t.isExpanded);var a=parseInt(e(this.titleElement).css("padding-top"));isNaN(a)&&(a=0),a*=2;var l=((a+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?n.css("margin-top","3px"):parseInt(l)>=0&&n.css("margin-top",parseInt(l)+"px"),i.addClass(s.toThemeProperty("jqx-disableselect")),n.addClass(s.toThemeProperty("jqx-disableselect"));var d="click",h=s.isTouchDevice();h&&(d=e.jqx.mobile.getTouchEventName("touchend")),s.addHandler(n,d,function(){return t.isExpanded?s._collapseItem(s,t):s._expandItem(s,t),!1}),s.addHandler(n,"selectstart",function(){return!1}),s.addHandler(n,"mouseup",function(){if(!h)return!1}),t.hasItems=e(t.element).find("li").length>0,t.arrow=n[0],t.hasItems||n.css("visibility","hidden"),i.css("float","none")})},_getOffset:function(t){var i=e(window).scrollTop(),s=e(window).scrollLeft(),r=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).offset(),o=n.top,a=n.left;return null!=r&&r?{left:a-s,top:o-i}:e(t).offset()},_renderHover:function(t,i,s){var r=this;if(!s){var n=e(i.titleElement);r.addHandler(n,"mouseenter",function(){i.disabled||!r.enableHover||r.disabled||(n.addClass(r.toThemeProperty("jqx-fill-state-hover")),n.addClass(r.toThemeProperty("jqx-tree-item-hover")))}),r.addHandler(n,"mouseleave",function(){i.disabled||!r.enableHover||r.disabled||(n.removeClass(r.toThemeProperty("jqx-fill-state-hover")),n.removeClass(r.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){var s=this;e.each(this.items,function(){var t=e(this.element),i=t.parent(),s=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",s);var r=parseInt(i.css("min-width"));isNaN(r)&&(r=0);var n=t.css("min-width");r<parseInt(t.css("min-width"))&&i.css("min-width",n),this.titleElement[0].style.width=null})}s=this;if(e.data(s.element,"animationHideDelay",s.animationHideDelay),e.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),null!=t&&1!=t||e.each(this.items,function(){s._updateItemEvents(s,this)}),this.allowDrag&&this._enableDragDrop&&(null==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var r=this.host.find("div:first"),n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),r.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:n}),e.jqx.browser.msie&&e.jqx.browser.version<8&&r.jqxPanel("content").css("left","0px"),r.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var o=e.data(r[0],"jqxPanel").instance;null!=o&&(this.vScrollInstance=o.vScrollInstance,this.hScrollInstance=o.hScrollInstance),this.panelInstance=o,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),r[0].className="",this.panel=r}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var s=this.isTouchDevice();s&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var r=e(i.element);t.enableRoundedCorners&&r.addClass(t.toThemeProperty("jqx-rc-all"));var n=s?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";!0===t.touchMode&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),n),t.addHandler(e(i.checkBoxElement),n,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var o=e(i.titleElement);t.removeHandler(r),this.allowDrag&&this._enableDragDrop?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o),t._renderHover(r,i,s);var a=e(i.subtreeElement);if(a.length>0){var l=i.isExpanded?"block":"none";a.css({overflow:"hidden",display:l}),a.data("timer",{})}t.addHandler(o,"selectstart",function(e){return!1}),e.jqx.browser.opera&&t.addHandler(o,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(o,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),o.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(o,t.toggleMode,function(e){if(a.length>0&&clearTimeout(a.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),null==i.isExpanding&&(i.isExpanding=!1),null==i.isCollapsing&&(i.isCollapsing=!1),a.length>0)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1})},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(this.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(this.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version;for(var s=0;s<i.length;s++)this._createItem(i[s]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,function(){this.level!=t&&null!=t||i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),s=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",s),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,function(){t._updateCheckState(this)}):e.each(this.items,function(){null==this.checked&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(null!=t&&null!=t){var i,s=this,r=0,n=e(t.element).find("li");i=n.length,t.checked&&i>0&&e.each(n,function(e){var t=s.itemMapping["id"+this.id].item,i=t.element.getAttribute("item-checked");null!=i&&null!=i&&"true"!=i&&1!=i||s.checkItem(t.element,!0,"tree")}),e.each(n,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,r++)}),i>0&&(r==i?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),s=0;s<i.length;s++){var r=i[s];if(this.itemMapping["id"+r.id]){var n=this.itemMapping["id"+r.id].item;if(!n)continue;n.prevItem=null,n.nextItem=null,s>0&&this.itemMapping["id"+i[s-1].id]&&(n.prevItem=this.itemMapping["id"+i[s-1].id].item),s<i.length-1&&this.itemMapping["id"+i[s+1].id]&&(n.nextItem=this.itemMapping["id"+i[s+1].id].item)}}},_applyTheme:function(t,i){var s=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(s.toThemeProperty("jqx-tree")),this.host.addClass(s.toThemeProperty("jqx-widget"));var r=this.host.find("ul:first");e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var n=e(r).find("li"),o=0;o<n.length;o++){var a=n[o];e(a).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown")),s.rtl&&(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}e.each(this.items,function(){var r=this,n=e(r.element);n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li")),this.rtl&&(n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li"))),e(r.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-"+t)),e(r.titleElement).addClass(s.toThemeProperty("jqx-tree-item")),e(r.titleElement).removeClass("jqx-item-"+t),e(r.titleElement).addClass(s.toThemeProperty("jqx-item"));var o=e(r.arrow);o.length>0&&s._arrowStyle(o,"",r.isExpanded),r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({theme:i}),s.enableRoundedCorners&&(n.removeClass("jqx-rc-all-"+t),n.addClass(s.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t,i){for(var s=this.host.find("li"),r=new Array,n=new Array,o=e.data(document.body,"treeItemsStorage"),a=this,l=0;l<s.length;l++){var d=s[l],h=e(d),c=o[d.id];if(null!=c){n[n.length]=c,null!=t&&1!=t||this._updateItemEvents(this,c),c.level=h.parents("li").length,c.treeInstance=this;var u=null,p=null;-1!=c.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(c.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(c.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-selected"))),h.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return c.subtreeElement=this,e(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&e(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),h.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return p=this.id,u=this,!1}),c.parentElement=u,c.parentId=p,c.hasItems=e(c.element).find("li").length>0,null!=c&&(r[l]={element:d,item:c},r["id"+d.id]=r[l])}}this.itemMapping=r,this.items=n},_createItem:function(t){if(null!=t&&null!=t){var i=t.id;i||(i=this.createID());var s=t,r=e(t);s.id=i;var n=e.data(document.body,"treeItemsStorage");null==n&&(n=new Array);var o=this.items.length;this.items[o]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[o],n[s.id]=this.items[o],e.data(document.body,"treeItemsStorage",n),o=this.items.length;var a=0,l=this,d=null;r.attr("role","treeitem"),r.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return l.items[o-1].subtreeElement=this,e(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(e(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1}),r.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return a=this.id,d=this,!1});var h=t.getAttribute("item-expanded");h=null!=h&&null!=h&&("true"==h||1==h),s.removeAttribute("item-expanded");var c=t.getAttribute("item-locked");c=null!=c&&null!=c&&("true"==c||1==c),s.removeAttribute("item-locked");var u=t.getAttribute("item-selected");u=null!=u&&null!=u&&("true"==u||1==u),s.removeAttribute("item-selected");var p=t.getAttribute("item-disabled");p=null!=p&&null!=p&&("true"==p||1==p),s.removeAttribute("item-disabled");var m=t.getAttribute("item-checked");m=null!=m&&null!=m&&("true"==m||1==m);var f=t.getAttribute("item-title");(null==f||null==f||"true"!=f&&1!=f)&&(f=!1),s.removeAttribute("item-title");var g=t.getAttribute("item-icon"),v=t.getAttribute("item-iconsize"),x=t.getAttribute("item-label"),w=t.getAttribute("item-value");s.removeAttribute("item-icon"),s.removeAttribute("item-iconsize"),s.removeAttribute("item-label"),s.removeAttribute("item-value");var y=this.items[o-1];y.id=i,null==y.value&&(this._valueList&&this._valueList[i]?y.value=this._valueList[i]:y.value=w),y.icon=g,y.iconsize=v,y.parentId=a,y.disabled=p,y.parentElement=d,y.element=t,y.locked=c,y.selected=u,y.checked=m,y.isExpanded=h,y.treeInstance=this,this.itemMapping[o-1]={element:s,item:y},this.itemMapping["id"+s.id]=this.itemMapping[o-1];if(!1,this.rtl&&(e(y.element).css("float","right"),e(y.element).css("clear","both")),e(s.firstChild).length>0){v=16;if(y.icon){(v=y.iconsize)||(v=16);g=e('<img width="'+v+'" height="'+v+'" style="float: left;" class="itemicon" src="'+y.icon+'"/>');e(s).prepend(g),g.css("margin-right","6px"),this.rtl&&(g.css("margin-right","0px"),g.css("margin-left","6px"),g.css("float","right"))}var b=s.innerHTML.indexOf("<ul");if(-1==b&&(b=s.innerHTML.indexOf("<UL")),-1==b)y.originalTitle=s.innerHTML,s.innerHTML='<div style="display: inline-block;">'+s.innerHTML+"</div>",y.titleElement=e(e(s)[0].firstChild);else{var _=s.innerHTML.substring(0,b);_=e.trim(_),y.originalTitle=_,_=e('<div style="display: inline-block;">'+_+"</div>");var j=e(s).find("ul:first");j.remove(),s.innerHTML="",e(s).prepend(_),e(s).append(j),y.titleElement=_,this.rtl&&(_.css("float","right"),j.css("padding-right","10px"))}if(16!==v&&e(y.titleElement).css("line-height",v+"px"),e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(s)[0].firstChild).css("display","inline-block");var q=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),q=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(y.titleElement).text();var T=this._measureItem.width();y.icon&&(T+=20),e(e(y.titleElement).find("img")).length>0&&(T+=20),e(e(s)[0].firstChild).css("max-width",T+"px"),q&&this._measureItem.remove()}}else y.originalTitle="Item",e(s).append(e("<span>Item</span>")),e(s.firstChild).wrap("<span/>"),y.titleElement=e(s)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(s.firstChild).css("display","inline-block");var C=e(y.titleElement),S=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&C.addClass("draggable"),null==x||null==x?(x=y.titleElement,y.label=e.trim(C.text())):y.label=x,e(s).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(s).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),S+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(S+=" "+this.toThemeProperty("jqx-tree-item-rtl")),C[0].className=C[0].className+" "+S,y.level=e(t).parents("li").length,y.hasItems=e(t).find("li").length>0,this.rtl&&y.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var k=e('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(k.width(parseInt(this.checkSize)),k.height(parseInt(this.checkSize)),e(s).prepend(k),this.rtl&&(k.css("float","right"),k.css("position","static")),k.jqxCheckBox({hasInput:!1,checked:y.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:p,theme:this.theme}),this.rtl){y.parentElement?k.css("margin-right","10px"):k.css("margin-right","5px")}else C.css("margin-left",parseInt(this.checkSize)+8);y.checkBoxElement=k[0],k[0].treeItem=y;var I=C.outerHeight()/2-1-parseInt(this.checkSize)/2;k.css("margin-top",I),e.jqx.browser.msie&&e.jqx.browser.version<8?(C.css("width","1%"),C.css("margin-left",parseInt(this.checkSize)+25)):y.hasItems&&(this.rtl||k.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&C.css("width","1%");p&&this.disableItem(y.element),u&&this.selectItem(y.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(s).css("margin","0px"),e(s).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,function(){var s=this,r=e(this.element),n=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(s.checkBoxElement),n);var o=e(s.titleElement);t.removeHandler(r),t.allowDrag&&t._enableDragDrop?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o);var a=e(s.arrow);a.length>0&&(t.removeHandler(a,n),t.removeHandler(a,"selectstart"),t.removeHandler(a,"mouseup"),i||(t.removeHandler(a,"mouseenter"),t.removeHandler(a,"mouseleave")),t.removeHandler(o,"selectstart")),e.jqx.browser.opera&&t.removeHandler(o,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(o,"click"),t.removeHandler(o,t.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(s,r),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=r),("width"==i||"height"==i)&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:n})}if("touchMode"==i&&(t._isTouchDevice=null,r&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var o=[];e.each(t.items,function(){this.isExpanded&&(o[o.length]={label:this.label,level:this.level})});var a=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",a):t.element.innerHTML=a;var l=t.disabled,d=t.host.find("ul:first");d.length>0&&(t.createTree(d[0]),t._render());var h=t,c=h.animationShowDuration;h.animationShowDuration=0,t.disabled=!1,o.length>0&&e.each(t.items,function(){for(var e=0;e<o.length;e++)if(o[e].label==this.label&&o[e].level==this.level){var t=h.getItem(this.element);h._expandItem(h,t)}}),t.disabled=l,h.animationShowDuration=c}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}},function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var t={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,aggregatesPosition:"top",rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===e.jqx._jqxTreeGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,s=i.getColumn(t);i.beginroweditbykey(e,s)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","visible"),e(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","hidden"),e(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var t=this.base,i=t._names(),s=new Array,r=function(n,o){if(o)for(var a=0;a<o.length;a++)if(o[a]){var l=e.extend({},o[a]),d=t.rowinfo[o[a].uid];d&&d[i.checked]?n.push(l):l[i.checked]&&n.push(l),r(s,o[a].records)}};return r(s,t.dataViewRecords),s},getRow:function(e){var t=this.base,i=t.source.records;if(t.source.hierarchy){var s=function(t){for(var i=0;i<t.length;i++)if(t[i]){if(t[i].uid==e)return t[i];if(t[i].records){var r=s(t[i].records);if(r)return r}}};return s(t.source.hierarchy)}for(var r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return i[r]},_renderrows:function(){var t=this.base,i=this;if(!t._loading&&!t._updating){var s=t._names();if(0===t.source.hierarchy.length&&!t.loadingFailed&&this.virtualModeCreateRecords){t._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return t._loading=!1,t.loadingFailed=!0,t.source.hierarchy=new Array,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),void t._arrange();for(var s=0;s<e.length;s++)e[s].level=0,i.virtualModeRecordCreating(e[s]),t.rowsByKey[e[s].uid]=e[s];t.source.hierarchy=e,t.source._source.hierarchy||(t.source._source.hierarchy={}),t._loading=!1,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),t._arrange()}),this._showLoadElement()}t.rendering&&t.rendering();var r=0;t.table[0].rows=new Array;var n=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item");t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var o=t.columns.records.length,a=e.jqx.browser.msie&&e.jqx.browser.version<8;a&&t.host.attr("hideFocus","true");var l=new Array,d=function(e,i){for(var r=0;r<e.length;r++){var n=e[r];if(n){var o=t.rowinfo[n.uid]?t.rowinfo[n.uid].expanded:n.expanded;if(0==t.dataview.filters.length&&(n._visible=!0),!1!==n._visible)if(o||n[s.leaf]){if(i.push(n),n.records&&n.records.length>0)for(var a=d(n.records,new Array),l=0;l<a.length;l++)i.push(a[l])}else i.push(n)}}return i},h=0===t.source.hierarchy.length?t.source.records:t.source.hierarchy;if(h=t.dataview.evaluate(h),t.dataViewRecords=h,this.showSubAggregates){var c=function(t,i){0!=t&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})));for(var s=0;s<i.length;s++)i[s]&&i[s].records&&c(t+1,i[s].records)};c(0,h)}var u=function(e){for(var i=0,r=new Array,n=0;n<e.length;n++){var o=e[n];if(0==o[s.level]&&i++,i>t.dataview.pagesize*t.dataview.pagenum&&i<=t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize&&r.push(o),i>t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)break}return r};if(0===t.source.hierarchy.length){if("all"==t.dataview.pagesize||!t.pageable||t.serverProcessing){var p=h;if(t.pageable&&t.serverProcessing&&h.length>t.dataview.pagesize)p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)}else p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);l=p}else{h=d.call(t,h,new Array);if("all"!=t.dataview.pagesize&&t.pageable){p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(h))}else var p=h;l=p;var m=t.dataview.pagenum;if(t.updatepagerdetails(),t.dataview.pagenum!=m){if("all"!=t.dataview.pagesize&&t.pageable){p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(h))}else p=h;l=p}}t.renderedRecords=l;var f=l.length,g=t.tableZIndex,v=0,x=0;if(a)for(var w=0;w<o;w++){(M=(C=t.columns.records[w]).width)<C.minwidth&&(M=C.minwidth),M>C.maxwidth&&(M=C.maxwidth);var y=e('<table><tr><td role="gridcell" style="max-width: '+M+"px; width:"+M+'px;" class="'+n+'"></td></tr></table>');e(document.body).append(y);var b=y.find("td");v=1+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right")),y.remove();break}var _=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+_+"' id='table"+t.element.id+"'><colgroup>",q="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+_+"' id='pinnedtable"+t.element.id+"'><colgroup>",T=null;for(w=0;w<o;w++){var C;if(!(C=t.columns.records[w]).hidden){if(T=C,(M=C.width)<C.minwidth&&(M=C.minwidth),M>C.maxwidth&&(M=C.maxwidth),(M-=v)<0&&(M=0),a){var S=M;0==w&&S++,q+="<col style='max-width: "+M+"px; width: "+S+"px;'>",j+="<col style='max-width: "+M+"px; width: "+S+"px;'>"}else q+="<col style='max-width: "+M+"px; width: "+M+"px;'>",j+="<col style='max-width: "+M+"px; width: "+M+"px;'>";x+=M}}j+="</colgroup>",q+="</colgroup>",t._hiddencolumns=!1;var k=!1;if(0===f){var I='<tr role="row">',D=t.host.height();if(t.pageable&&(D-=t.pagerHeight,"both"===t.pagerPosition&&(D-=t.pagerHeight)),D-=t.columnsHeight,t.filterable){var P=t.filter.find(".filterrow"),A=1;t.filter.find(".filterrow-hidden").length>0&&(A=0),D-=t.filterHeight+t.filterHeight*P.length*A}t.showstatusbar&&(D-=t.statusBarHeight),t.showAggregates&&(D-=t.aggregatesHeight),D<25&&(D=25),"hidden"!=t.hScrollBar[0].style.visibility&&(D-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(D=100);var M=t.host.width()+2;y='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+D+"px; height: "+D+"px;  min-width:"+x+"px; max-width:"+x+"px; width:"+x+"px;",n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");y+='" class="'+(n+=" "+t.toTP("jqx-center-align"))+'">',t._loading||(y+=t.gridlocalization.emptydatastring),j+=I+=y+="</td>",q+=I,t.table[0].style.width=x+2+"px",r=x}for(var H=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,B=0;B<l.length;B++){var z=l[B],E=z.uid;H>0&&z[s.level]<H&&(E=z.uid),void 0===z.uid&&(z.uid=t.dataview.generatekey());I='<tr data-key="'+E+'" role="row" id="row'+B+t.element.id+'">';var L='<tr data-key="'+E+'" role="row" id="row'+B+t.element.id+'">';if(z.aggregate)I='<tr data-role="summaryrow" role="row" id="row'+B+t.element.id+'">',L='<tr data-role="summaryrow" role="row" id="row'+B+t.element.id+'">';var N=0;if(t.rowinfo[E])void 0===t.rowinfo[E].checked&&(t.rowinfo[E].checked=z[s.checked]),void 0===t.rowinfo[E].icon&&(t.rowinfo[E].icon=z[s.icon]),void 0===t.rowinfo[E].aggregate&&(t.rowinfo[E].aggregate=z[s.aggregate]),void 0===t.rowinfo[E].row&&(t.rowinfo[E].row=z),void 0===t.rowinfo[E].leaf&&(t.rowinfo[E].leaf=z[s.leaf]),void 0===t.rowinfo[E].expanded&&(t.rowinfo[E].expanded=z[s.expanded]);else{var O=z[s.checked];void 0===O&&(O=!1),t.rowinfo[E]={selected:z[s.selected],checked:O,icon:z[s.icon],aggregate:z.aggregate,row:z,leaf:z[s.leaf],expanded:z[s.expanded]}}var R=t.rowinfo[E];R.row=z,z.originalRecord&&(R.originalRecord=z.originalRecord);var F=0;for(w=0;w<o;w++){var W=t.columns.records[w];(W.pinned||t.rtl&&t.columns.records[o-1].pinned)&&(k=!0),(M=W.width)<W.minwidth&&(M=W.minwidth),M>W.maxwidth&&(M=W.maxwidth),(M-=v)<0&&(M=0);n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");W.pinned&&(n+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===W.displayfield&&(n+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&B%2!=0&&(n+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var V="";if(H>0&&!a&&!z.aggregate&&z[s.level]<H){V+=' colspan="'+o+'"';S=0;for(var G=0;G<o;G++){var U=t.columns.records[G];if(!U.hidden){var Y=U.width;Y<U.minwidth&&(M=U.minwidth),Y>U.maxwidth&&(M=U.maxwidth),(Y-=v)<0&&(Y=0),S+=Y}}M=S}y='<td role="gridcell"'+V+' style="max-width:'+M+"px; width:"+M+"px;";var K='<td role="gridcell"'+V+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+M+"px; width:"+M+"px;";w==o-1&&1==o&&(y+="border-right-color: transparent;",K+="border-right-color: transparent;"),H>0&&z[s.level]<H&&!z.aggregate?t.rtl&&(n+=" "+t.toTP("jqx-right-align")):"left"!=W.cellsalign&&("right"===W.cellsalign?n+=" "+t.toTP("jqx-right-align"):n+=" "+t.toTP("jqx-center-align")),R&&(R.selected&&t.editKey!==E&&"none"!==t.selectionMode&&(n+=" "+t.toTP("jqx-grid-cell-selected"),n+=" "+t.toTP("jqx-fill-state-pressed")),R.locked&&(n+=" "+t.toTP("jqx-grid-cell-locked")),R.aggregate&&(n+=" "+t.toTP("jqx-grid-cell-pinned"))),W.hidden?(y+="display: none;",K+="display: none;",t._hiddencolumns=!0):(0!=F||t.rtl?(y+="border-right-width: 0px;",K+="border-right-width: 0px;"):(y+="border-left-width: 0px;",K+="border-left-width: 0px;"),F++,N+=v+M),W.pinned&&(y+="pointer-events: auto;",K+="pointer-events: auto;");var X="";if(0!=t.source.hierarchy.length&&z.records&&(!z.records||0!==z.records.length)||this.virtualModeCreateRecords||(R.leaf=!0),z.records&&z.records.length>0&&(R.leaf=!1),t.dataview.filters.length>0&&z.records&&z.records.length>0){for(var Z=!1,$=0;$<z.records.length;$++)if(!1!==z.records[$]._visible&&null==z.records[$].aggregate){Z=!0;break}R.leaf=!Z}R&&!R.leaf&&(R.expanded?(X+=t.toTP("jqx-tree-grid-expand-button")+" ",t.rtl?X+=t.toTP("jqx-grid-group-expand-rtl"):X+=t.toTP("jqx-grid-group-expand"),X+=" "+t.toTP("jqx-icon-arrow-down")):(X+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(X+=t.toTP("jqx-grid-group-collapse-rtl"),X+=" "+t.toTP("jqx-icon-arrow-left")):(X+=t.toTP("jqx-grid-group-collapse"),X+=" "+t.toTP("jqx-icon-arrow-right")))),(!t.autoRowHeight||1===F||t.autoRowHeight&&!W.autoCellHeight)&&(n+=" "+t.toTP("jqx-grid-cell-nowrap"));var J=t._getcellvalue(W,R.row);if(H>0&&!z.aggregate&&z[s.level]<H&&(J=z.label),""!=W.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(J)?J=e.jqx.dataFormat.formatdate(J,W.cellsFormat,t.gridlocalization):(e.jqx.dataFormat.isNumber(J)||!isNaN(parseFloat(J))&&isFinite(J))&&(J=e.jqx.dataFormat.formatnumber(J,W.cellsFormat,t.gridlocalization))),""!=W.cellclassname&&W.cellclassname)if("string"==typeof W.cellclassname)n+=" "+W.cellclassname;else{var Q=W.cellclassname(B,W.datafield,t._getcellvalue(W,R.row),R.row,J);Q&&(n+=" "+Q)}if(""!=W.cellsRenderer&&W.cellsRenderer){var ee=W.cellsRenderer(E,W.datafield,t._getcellvalue(W,R.row),R.row,J);void 0!==ee&&(J=ee)}if(R.aggregate&&W.aggregates){var te=z.siblings.slice(0,z.siblings.length-1),ie=t._calculateaggregate(W,null,!0,te);if(z[W.displayfield]="",ie)if(W.aggregatesRenderer){if(ie){var se=W.aggregatesRenderer(ie[W.datafield],W,null,t.getcolumnaggregateddata(W.datafield,W.aggregates,!1,te),"subAggregates");J=se;var re=Object.keys(ie[W.datafield]);z[W.displayfield]+=name+":"+ie[W.datafield][re[0]]+"\n"}}else J="",z[W.displayfield]="",e.each(ie,function(){var e=this;for(var i in e){var s=i,r='<div style="position: relative; margin: 0px; overflow: hidden;">'+(s=t._getaggregatename(s))+":"+e[i]+"</div>";J+=r,z[W.displayfield]+=s+":"+e[i]+"\n"}});else J=""}if(1===F&&!t.rtl||W==T&&t.rtl||H>0&&z[s.level]<H){for(var ne="",oe=t.toThemeProperty("jqx-tree-grid-indent"),ae=R.leaf?1:0,le=0;le<z[s.level]+ae;le++)ne+="<span class='"+oe+"'></span>";var de="<span class='"+X+"'></span>",he="",ce="";if(this.checkboxes&&!z.aggregate){var ue=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+oe+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),pe=!0;if(e.isFunction(this.checkboxes)&&null==(pe=this.checkboxes(E,z))&&(pe=!1),pe)if(R){var me=R.checked;void 0===me&&(me=!1),0==this.hierarchicalCheckboxes&&null===me&&(me=!1),he+=me?"<span checked='true' class='"+ue+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===me?"<span checked='undefined' class='"+ue+"'></span>":"<span class='"+ue+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else he+="<span class='"+ue+"'></span>"}if(this.icons&&!z.aggregate){var fe=t.toThemeProperty("jqx-tree-grid-icon")+" "+oe;if(t.rtl)fe=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+oe;var ge=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+oe,ve=R.icon;e.isFunction(this.icons)&&(R.icon=this.icons(E,z),R.icon&&(ve=!0)),ve&&(R.icon?ce+="<span class='"+fe+"'><img class='"+ge+"' src='"+R.icon+"'/></span>":ce+="<span class='"+fe+"'></span>")}var xe=t.autoRowHeight&&1===F&&W.autoCellHeight?" "+t.toTP("jqx-grid-cell-wrap"):"",we=ne+de+he+ce+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+xe+"'>"+J+"</span>";J=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+xe+"'>"+J+"</span>"+ce+he+de+ne:we}if(H>0&&a&&w>=H&&z[s.level]<H&&(y+="padding-left: 5px; border-left-width: 0px;",K+="padding-left: 5px; border-left-width: 0px;",J="<span style='visibility: hidden;'>-</span>"),y+='" class="'+n+'">',y+=J,y+="</td>",K+='" class="'+n+'">',K+=J,K+="</td>",W.pinned?(L+=y,I+=y):(I+=y,k&&(L+=K)),H>0&&!a&&z[s.level]<H&&!z.aggregate)break}if(0==r&&(t.table[0].style.width=N+2+"px",r=N),j+=I+="</tr>",q+=L+="</tr>",t.rowDetails&&!z.aggregate&&this.rowDetailsRenderer){var ye='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+M+"px; width:"+M+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"';n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");n+=" "+t.toTP("jqx-details"),n+=" "+t.toTP("jqx-reset");var be=this.rowDetailsRenderer(E,z);be&&(j+=ye+='" class="'+n+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+be+"</div></div></td></tr>",q+=ye)}}if(j+="</table>",q+="</table>",k){t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(q+j)}):t.table[0].innerHTML=q+j;var _e=t.table.find("#table"+t.element.id),je=t.table.find("#pinnedtable"+t.element.id);je.css("float","left"),je.css("pointer-events","none"),_e.css("float","left"),je[0].style.position="absolute",_e[0].style.position="relative",_e[0].style.zIndex=g-10,je[0].style.zIndex=g+10,t._table=_e,t._table[0].style.left="0px",t._pinnedTable=je,a&&(je[0].style.left="0px"),t._table[0].style.width=r+"px",t._pinnedTable[0].style.width=r+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-r+parseInt(t.element.style.width)+"px")}else{t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(j)}):t.table[0].innerHTML=j;G=t.table.find("#table"+t.element.id);t._table=G,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=r+"px"),0===f&&(t._table[0].style.width=2+r+"px")}0===f&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto")),t.showAggregates&&t._updatecolumnsaggregates(),t._loading&&0==f&&(t._arrange(),this._showLoadElement()),t.rendered&&t.rendered()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized){var n=t.base;if("pageSizeMode"==i||"hierarchicalCheckboxes"==i)t._renderrows();else if("filterable"==i)n._render();else if("height"===i)n.host.height(t.height),n.host.width(t.width),n._updatesize(!1,!0);else if("width"===i)n.host.height(t.height),n.host.width(t.width),n._updatesize(!0,!1);else if("source"===i)n.updateBoundData();else if("columns"===i||"columnGroups"===i)n._columns=null,n._render();else if("rtl"===i)n.content.css("left",""),t.columns=t._columns,n.vScrollBar.jqxScrollBar({rtl:r}),n.hScrollBar.jqxScrollBar({rtl:r}),n._render();else if("pagerMode"===i)t.pagerMode=r,n._initpager();else if("pageSizeOptions"==i){n._initpager();for(var o=!1,a=0;a<r.length;a++)if(parseInt(r[a])==t.pageSize){o=!0;break}o||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var l=n.dataview.pagenum*n.dataview.pagesize;n.dataview.pagesize=n.pageSize;var d=Math.floor(l/n.dataview.pagesize);if(d!==n.dataview.pagenum||parseInt(r)!==parseInt(s))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:n.dataview.pagesize}),t.goToPage(d)||n.refresh()}else if("pagerPosition"===i)n.refresh();else if("selectionMode"===i)n.selectionMode=r.toLowerCase();else if("touchmode"==i)n.touchDevice=null,n._removeHandlers(),n.touchDevice=null,n.vScrollBar.jqxScrollBar({touchMode:r}),n.hScrollBar.jqxScrollBar({touchMode:r}),n._updateTouchScrolling(),n._arrange(),n._updatecolumnwidths(),n._renderrows(),n._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?n.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):n.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),n.pageable&&(n.pagernexttop&&(n.pagernexttop.jqxButton({disabled:r}),n.pagerprevioustop.jqxButton({disabled:r}),n.pagernextbottom.jqxButton({disabled:r}),n.pagerpreviousbottom.jqxButton({disabled:r}),n.pagerfirsttop.jqxButton({disabled:r}),n.pagerfirstbottom.jqxButton({disabled:r}),n.pagerlasttop.jqxButton({disabled:r}),n.pagerlastbottom.jqxButton({disabled:r}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),n.base.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),n.base.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),n.base.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)n._render();else if("theme"==i){var h=r;if(n.theme=r,e.jqx.utilities.setTheme(s,r,n.host),n.vScrollBar.jqxScrollBar({theme:h}),n.hScrollBar.jqxScrollBar({theme:h}),n.pageable&&n.pagernexttop&&(n.pagernexttop.jqxButton({theme:h}),n.pagerprevioustop.jqxButton({theme:h}),n.pagernextbottom.jqxButton({theme:h}),n.pagerpreviousbottom.jqxButton({theme:h}),n.pagerfirsttop.jqxButton({theme:h}),n.pagerfirstbottom.jqxButton({theme:h}),n.pagerlasttop.jqxButton({theme:h}),n.pagerlastbottom.jqxButton({theme:h}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({theme:h}),n.pagershowrowscombobottom.jqxDropDownList({theme:h}))),n.filterable){var c=e(".filterconditions");c.length>0&&c.jqxDropDownList({theme:h}),n.filtercolumnsList&&n.filtercolumnsList.jqxDropDownList({theme:h})}n.refresh()}else n.refresh()}}},checkRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!0,n.row[r.checked]=!0,n.originalRecord&&(n.originalRecord[r.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowCheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!0},s.rowinfo[e].row[r.checked]=!0,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowCheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},checkRows:function(t,i){var s=this.base,r=this,n=s._names(),o=function(e){var t=new Array,i=function(e){for(var s=0;s<e.length;s++)t.push(e[s]),e[s]&&e[s].records&&i(e[s].records)};return e.records&&i(e.records),t};if(null!=t){var a=0,l=0,d=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][n.checked];void 0===i&&(i=!1),0!=i&&(null==e[t][n.checked]&&!0,e[t].records&&d(e[t].records),a++),l++}};if(t.records&&d(t.records),t!=i)a==l?this.checkRow(t.uid,!1,"tree"):a>0?this.indeterminateRow(t.uid,!1,"tree"):this.uncheckRow(t.uid,!1,"tree");else{var h=i[n.checked],c=o(i);e.each(c,function(){!0===h?r.checkRow(this.uid,!1,"tree"):!1===h?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}var u=t[n.parent]?t[n.parent]:null;this.checkRows(u,i)}else{h=i[n.checked],c=o(i);e.each(c,function(){!0===h?r.checkRow(this.uid,!1,"tree"):!1===h?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=null,n.row[r.checked]=null,n.originalRecord&&(n.originalRecord[r.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows();else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:null},s.rowinfo[e].row[r.checked]=null,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},uncheckRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!1,n.row[r.checked]=!1,n.originalRecord&&(n.originalRecord[r.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowUncheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!1},s.rowinfo[e].row[r.checked]=!1,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowUncheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},expandRows:function(t){var i=this;if(t)if(i.virtualModeCreateRecords)e.each(t,function(){var e=this;i.base._loading=!1,i.expandRow(e.uid,function(){i.base._loading=!1,i.expandRows(e.records)})});else for(var s=0;s<t.length;s++){var r=t[s];i.expandRow(r.uid),i.expandRows(r.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,t){var i=this.base;if(!i._loading){var s=i._names(),r=this,n=i.rowinfo[e];if(!n){var o=this.getRow(e);o&&(i.rowinfo[e]={row:o},o.originalRecord&&(i.rowinfo[e].originalRecord=o.originalRecord),n=i.rowinfo[e])}if(n){if(n.expanded)return void(n.row[s.expanded]=!0);if(n.expanded=!0,n.row[s.expanded]=!0,n.originalRecord&&(n.originalRecord[s.expanded]=!0),this.virtualModeCreateRecords&&!n.row._loadedOnDemand){if(!n.row[s.leaf])return i._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(n.row,function(e){if(n.row._loadedOnDemand=!0,!1===e)return i._loading=!1,r._hideLoadElement(),n.leaf=!0,n.row[s.leaf]=!0,i._renderrows(),void(t&&t());for(var o=0;o<e.length;o++){if(e[o][s.level]=n.row[s.level]+1,e[o][s.parent]=n.row,i.rowsByKey[e[o].uid])throw i._loading=!1,r._hideLoadElement(),n.leaf=!0,n.row[s.leaf]=!0,i._renderrows(),t&&t(),new Error("Please, check whether you Add Records with unique ID/Key. ");i.rowsByKey[e[o].uid]=e[o],r.virtualModeRecordCreating(e[o])}n.row.records?n.row.records=n.row.records.concat(e):n.row.records=e,(!e||e&&0==e.length)&&(n.leaf=!0,n.row[s.leaf]=!0),n.originalRecord&&(n.originalRecord.records=e,n.originalRecord[s.expanded]=!0,0==e.length&&(n.originalRecord[s.leaf]=!0)),i._loading=!1,r._hideLoadElement();var a=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=a!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),t&&t()})}if(!i.updating()){var a=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=a!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),i._raiseEvent("rowExpand",{row:n.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names();if(!t._loading){var s=t.rowinfo[e];if(!s){var r=this.getRow(e);r&&(t.rowinfo[e]={row:r},r.originalRecord&&(t.rowinfo[e].originalRecord=r.originalRecord),s=t.rowinfo[e])}if(s){if(!s.expanded)return void(s.row[i.expanded]=!1);if(s.expanded=!1,s.row[i.expanded]=!1,s.originalRecord&&(s.originalRecord[i.expanded]=!1),!t.updating()){var n=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var o=n!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||o)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:s.row,key:e})}}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTreeMap","",{});var t={};function i(e,t,i,s,r,n,o,a){this.label=e,this.value=t,this.parent=i,this.children=s,this.area=r||null,this.color=n,this.data=o,this.record=a}t.default=function(){function e(e,i,r,n,o){return n=void 0===n?0:n,o=void 0===o?0:o,function(e){for(var t=[],i=0;i<e.length;i+=1)for(var s=0;s<e[i].length;s+=1)t.push(e[i][s]);return t}(function e(i,r,n,o){var a,l,d;if(0===i.length)return void o.push(n.getCoordinates(r));a=n.shortestEdge();l=i[0];!function(e,i,s){var r;if(0===e.length)return!0;(r=e.slice()).push(i);var n=t(e,s),o=t(r,s);return n>=o}(r,l,a)?(d=n.cutArea(s(r),o),o.push(n.getCoordinates(r)),e(i,[],d,o)):(r.push(l),e(i.slice(1),r,n,o));return o}(function(e,t){for(var i=[],r=t/s(e),n=0;n<e.length;n+=1)i[n]=e[n]*r;return i}(e,i*r),[],new function e(t,i,r,n){this.height=n,this.width=r,this.xoffset=t,this.yoffset=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t=[],i=this.xoffset,r=this.yoffset,n=s(e)/this.height,o=s(e)/this.width;if(this.width>=this.height)for(var a=0;a<e.length;a+=1)t.push([i,r,i+n,r+e[a]/n]),r+=e[a]/n;else for(a=0;a<e.length;a+=1)t.push([i,r,i+e[a]/o,r+o]),i+=e[a]/o;return t},this.cutArea=function(t){var i;if(this.width>=this.height){var s=t/this.height,r=this.width-s;i=new e(this.xoffset+s,this.yoffset,r,this.height)}else{var n=t/this.width,o=this.height-n;i=new e(this.xoffset,this.yoffset+n,this.width,o)}return i}}(n,o,i,r),[]))}function t(e,t){var i=Math.min.apply(Math,e),r=Math.max.apply(Math,e),n=s(e);return Math.max(Math.pow(t,2)*r/Math.pow(n,2),Math.pow(n,2)/(Math.pow(t,2)*i))}function i(e){return e&&e.constructor===Array}function s(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t}function r(e){var t=0;if(i(e[0]))for(var n=0;n<e.length;n+=1)t+=r(e[n]);else t=s(e);return t}return function t(s,n,o,a,l){a=void 0===a?0:a,l=void 0===l?0:l;var d,h=[],c=[];if(i(s[0])){for(var u=0;u<s.length;u+=1)h[u]=r(s[u]);for(d=e(h,n,o,a,l),u=0;u<s.length;u+=1)c.push(t(s[u],d[u][2]-d[u][0],d[u][3]-d[u][1],d[u][0],d[u][1]))}else c=e(s,n,o,a,l);return c}}();var s=0,r=1,n=2;e.extend(e.jqx._jqxTreeMap.prototype,{defineInstance:function(){var t={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(e){return e},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return this===e.jqx._jqxTreeMap.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new i(void 0,0,null,[],this.host);var s=function(e,i){for(var s,r={},n=null,o=0;o<e.length;o+=1)if(e[o].items){n=!0;break}var a=new Array;if(n){var l=function(e,t){for(var i=0;i<e.length;i+=1){if(e[i].parent=t,e[i].data||(e[i].data=e[i].value),null==e[i].value&&(e[i].value=0),isNaN(parseFloat(e[i].value))){for(var s=e[i].value.toString(),r="",n=0;n<s.length;n++){var o=s.substring(n,n+1);null==o.match(/^[0-9]+$/)&&"."!=o||(r+=o)}e[i].value=new Number(r)}else e[i].value=parseFloat(e[i].value);a.push(e[i]),e[i].items&&l(e[i].items,e[i].label)}};l(e,null),e=a}for(o=0;o<e.length;o+=1)(s=e[o]).value&&null!=s.parent&&(r[s.parent]||(r[s.parent]=0),r[s.parent]+=s.value);for(o=0;o<e.length;o+=1)void 0!==r[(s=e[o]).label]&&(s.value=r[s.label]);i._buildTree(e,i._root),i._dataList=i._buildList(),i._setStyles();var d=t.default;"simple"===i.layout&&(d=t.simple),i._render(i._root,d),i._renderLegend()};e.jqx.dataAdapter&&null!=this.source&&this.source._source?this.dataBind(this.source,s):(s(this.source,this),this._trigger("bindingComplete"))},dataBind:function(t,i){this.records=new Array;var s=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(e,t){e.records=r.records;for(var s=new Array,n=0;n<e.records.length;n++){var o=e.records[n];e.displayMember&&(o.label=o[e.displayMember]),e.valueMember&&(o.value=o[e.valueMember]),o.record=o,s.push(o)}e._trigger("bindingComplete"),i(s,e)};null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async);var o=this;switch(t.datatype){case"local":case"array":default:null!=t.localdata&&(r.unbindBindingUpdate(this.element.id),r.dataBind(),n(this),r.bindBindingUpdate(this.element.id,function(e){n(o)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),r.dataBind(),n(this),void r.bindBindingUpdate(this.element.id,function(){n(o)});var a={};r._options.data?e.extend(r._options.data,a):(t.data&&e.extend(a,t.data),r._options.data=a);r.unbindDownloadComplete(o.element.id),r.bindDownloadComplete(o.element.id,function(){n(o)}),r.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(e){e||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});null!=this.width&&this.width.toString().indexOf("%"),null!=this.height&&this.height.toString().indexOf("%");var t=this;e.jqx.utilities.resize(this.host,function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.performLayout()},50)})},resize:function(e,t){this.width=e,this.height=t,this.performLayout()},performLayout:function(){var e=t.default;this.clearSelection(),this._layout(this._root,e)},_getValues:function(e){for(var t=[],i=0;i<e.length;i+=1)t.push(e[i].value);return t},_isColor:function(e){if(!e)return!1;var t=this._colorEvaluator;return!(!t._isRgb(e)&&!t._isHex(e))},_colorEvaluator:{_toRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},_toHex:function(e){var t=e.r.toString(16),i=e.g.toString(16),s=e.b.toString(16);return"#"+(t=1===t.length?"0"+t:t)+(i=1===i.length?"0"+i:i)+(s=1===s.length?"0"+s:s)},_isRgb:function(e){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(e)},_isHex:function(e){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(e)},getColorByValue:function(e,t,i){var s,r,n,o,a=this._colorEvaluator;a._isRgb(i)&&(i=a._toHex(i)),i=a._toRgb(i),n=t.length,s=-1/0;for(var l=0;l<n;l+=1)s<t[l].value&&(s=t[l].value);return r=e/s,o=Math.round(r*this.colorRange),a._toHex({r:Math.max(i.r-o,0),g:Math.max(i.g-o,0),b:Math.max(i.b-o,0)})},parent:function(e){var t=e.parent.color,i=this._colorEvaluator;return e.parent?(t||(t=this.baseColor),t=i.getColorByValue.call(this,e.value,e.parent.children,t),e.color=t,t):"#fff"},autoColors:function(e){var t=this.baseColor;return t=this._colorEvaluator.getColorByValue.call(this,e.value,this._dataList,t),e.color=t,t},rangeColors:function(e){for(var t,i=e.value,s=0;s<this.colorRanges.length;s+=1)if((t=this.colorRanges[s]).min<i&&t.max>=i)return t.color;return"#fff"}},_getColor:function(e){var t=e.color,i=this.colorMode;if(this._isColor(t))return t;if("function"==typeof this._colorEvaluator[i])return this._colorEvaluator[i].call(this,e);throw"Invalid colorMode"},_renderRect:function(t,i){var s=e("<div/>"),r=t[2]-t[0],n=t[3]-t[1],o=this._getColor(i);s.css({position:"absolute",left:t[0]-1,top:t[1]-1,width:r,height:n,backgroundColor:o}),s.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var a=this._colorEvaluator,l={data:i.data,label:i.label,value:i.value,parent:i.parent,record:i.record,color:o,rgb:a._toRgb(o)};if((i.parent==this._root&&(l.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](s,l))return s;if("function"==typeof this.renderCallbacks[i.label])this.renderCallbacks[i.label](s,l);else{r=s.width()-2;s.html('<span style="max-width:'+r+'px;" class="jqx-treemap-label">'+i.label+"</span>")}return s},_centerLabel:function(e,t){var i=e[0].firstChild;i.style.position="absolute",t!==s&&t!==n||(i.style.left=(e[0].offsetWidth-i.offsetWidth)/2+"px"),t!==r&&t!==n||(i.style.top=(e[0].offsetHeight-i.offsetHeight)/2+"px")},_trigger:function(t,i){var s=e.Event(t);return s.args=i,this.host.trigger(s)},_addHandlers:function(t,i){var s=this;t.on("mouseenter",function(e){s.hoverEnabled&&(s.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),t.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover"))),s._trigger("mouseenterSector",i)}),t.on("mouseleave",function(e){s.hoverEnabled&&t.removeClass("jqx-treemap-rectangle-hover"),s._trigger("mouseleaveSector",i)}),t.on("click",function(i){if(s.selectionEnabled){var r=e.data(this,"jqx-treemap-selected")||!1;s.singleSelection&&s.host.find(".jqx-treemap-rectangle-hover").each(function(t,i){e.data(i,"jqx-treemap-selected",!1),e(i).removeClass("jqx-treemap-rectangle-hover")}),r?(t.removeClass("jqx-treemap-rectangle-hover"),r=!1):(t.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover")),r=!0),e.data(this,"jqx-treemap-selected",r),i.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),e.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(e,t){e.children.length&&e.children.length>0?(this._centerLabel(t,s),t.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(t,n)},_render:function(e,t){if(e.children.length){var i=0;e.value&&(i=this.headerHeight);for(var s,r,n=this._getValues(e.children),o=(e.area.offset(),t(n,e.area.width(),e.area.height()-i,0,i)),a=0;a<e.children.length;a+=1)s=e.children[a],r=this._renderRect(o[a],s),s.area=r,e.area.append(r),this._addHandlers(r,{label:s.label,value:s.value,color:s.color,sector:s.area,data:s.data}),this._layoutArea(s,r),this._render(s,t)}},_layout:function(t,i){if(t.children.length){var s=0;t.value&&(s=this.headerHeight);for(var r=this._getValues(t.children),n=(t.area.offset(),i(r,t.area.width(),t.area.height()-s,0,s)),o=0;o<t.children.length;o+=1){var a=t.children[o];this._layoutRect(n[o],a),this._layoutArea(a,a.area),this._layout(a,i)}this.showLegend&&(e(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(e,t){var i=t.area,s=e[2]-e[0],r=e[3]-e[1];i.css({left:e[0]-1,top:e[1]-1,width:s,height:r});var n=this._colorEvaluator,o=this._getColor(t),a={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:o,rgb:n._toRgb(o)};if((t.parent==this._root&&(a.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](i,a))return i;if("function"==typeof this.renderCallbacks[t.label])this.renderCallbacks[t.label](i,a);else{s=i.width()-2;i.find(".jqx-treemap-label:first").css("max-width",s)}},_getBoundValues:function(){var e,t=this._root,i=[],s={},r={};for(s.value=t.value||1/0,r.value=t.value||-1/0,i.push(t);i.length;){e=i.pop(),s.value>e.value&&(s=e),r.value<e.value&&(r=e);for(var n=0;n<e.children.length;n+=1)i.push(e.children[n])}return[s,r]},_getAutocolorRanges:function(){for(var e,t=this._getBoundValues(),i=t[1].value,s=t[0].value,r=(i-s)/5,n=[],o=s;o<i;o+=r)e=Math.round(o),n.push({min:e,max:o+r,color:this._colorEvaluator.getColorByValue.call(this,e,this._dataList,this.baseColor)});return n},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var e=this.colorRanges;"autoColors"===this.colorMode&&(e=this._getAutocolorRanges());var t=this._renderColorLegend(e);this._renderLegendLabel(t)}},_renderLegendLabel:function(t){var i=e('<tr><td colspan="'+t.find("td").length/2+'"/></tr>'),s=e('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');s.text(this.legendLabel),i.children().append(s),t.prepend(i)},_renderColorLegend:function(t){var i,s,r=e('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),n=function(e){return e};"function"==typeof this.legendScaleCallback&&(n=this.legendScaleCallback);var o=e('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');r.append(o),o.append("<tr/>"),r.append("<div/>"),this.host.append(r),i=e(r.find("tr")[0]),(s=e(r.find("div")[0])).addClass(this.toThemeProperty("jqx-treemap-legend-values"));t.sort(function(e,t){try{if(e.min<t.min)return-1;if(e.min>t.min)return 1}catch(e){}return 0});for(var a=Math.round(r.width()/t.length),l=-2,d=0,h=0;h<t.length;h+=1){var c,u=e('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');if(u.css("backgroundColor",t[h].color),i.append(u),0===h)(c=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(n(t[h].min)),s.append(c),o.css("margin-left",c.width()/2),d=l+=c.width()/2;l+=a,(c=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(n(t[h].max)),s.append(c),h==t.length-1&&(d+=c.width()/2,r.css("padding-right",d+5),l-=2),l-=c.width()/2,c.css("left",l),l+=c.width()/2}return r.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),r},_buildTree:function(e,t){var s,r,n=null,o=[];for(o.push(t);o.length;){n=o.pop();for(var a=0;a<e.length;a+=1)if((r=e[a]).parent===n.label||!r.parent&&!n.label){var l=n;s=new i(r.label,parseFloat(r.value,10),l,[],null,r.color,r.data,r.record),n.children.push(s),o.push(s)}}return t},_buildList:function(){var e,t=[],i=[];for(i.push(this._root);i.length;){(e=i.pop())!==this._root&&t.push(e);for(var s=0;s<e.children.length;s+=1)i.push(e.children[s])}return t},propertyChangedHandler:function(e,t,i){"renderCallbacks"!==t&&(/hoverEnabled|selectionEnabled/.test(t)?i||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===t?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxValidator","",{}),e.extend(e.jqx._jqxValidator.prototype,{defineInstance:function(){var t={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return this===e.jqx._jqxValidator.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(t){var i,s,r,n,o=!0,a=1/0,l=[];this.updatePosition();for(var d=this,h=0,c=0;c<this.rules.length;c+=1)"function"==typeof this.rules[c].rule&&h++;this.positions=new Array;for(c=0;c<this.rules.length;c+=1){e(this.rules[c].input);if("function"==typeof this.rules[c].rule){this._validateRule(this.rules[c],function(c,u){if(0==(i=c)){o=!1,e(u.input),n=e(u.input),l.push(n);var p=n.offset();p&&(s=p.top,a>s&&(a=s,r=n))}0==--h&&"function"==typeof t&&(d._handleValidation(o,a,r,l),t&&t(o))})}else i=this._validateRule(this.rules[c]);if(0==i){o=!1,n=e(this.rules[c].input),l.push(n);var u=n.offset();u&&(s=u.top,a>s&&(a=s,r=n))}}return 0==h?(this._handleValidation(o,a,r,l),o):void 0},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,s=0;s<t.length;s+=1)this._validateRule(t[s])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e=0;e<this.rules.length;e+=1)this.rules[e],this._hideHintByRule(this.rules[e])},updatePosition:function(){var t;this.positions=new Array;for(var i=0;i<this.rules.length;i+=1)(t=this.rules[i]).hint&&this._hintLayout(t.hint,e(t.input),t.position,t)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(t,i){var s,r=e(t.input),n=!0,o=this,a=!1;return"function"==typeof t.rule&&1==(a=t.rule.call(this,r,function(n){if(n)o._hideHintByRule(t),i&&i(!0,t);else{var a=o.animation;if(o.animation=null,t.hint&&o._hideHintByRule(t),"none"==e(r).css("display"))return void o._hideHintByRule(t);if(0==e(r).parents().length)return void o._hideHintByRule(t);s=t.hintRender.apply(o,[t.message,r]),o._hintLayout(s,r,t.position,t),o._showHint(s),t.hint=s,o._removeLowPriorityHints(t),i&&i(!1,t),o.animation=a}}))&&i&&i(!0,t),"function"==typeof t.rule&&0==a?("function"!=typeof t.hintRender||t.hint||this._higherPriorityActive(t)||!r.is(":visible")||(s=t.hintRender.apply(this,[t.message,r]),this._removeLowPriorityHints(t),this._hintLayout(s,r,t.position,t),this._showHint(s),t.hint=s),n=!1,i&&i(!1,t)):this._hideHintByRule(t),n},_hideHintByRule:function(t){var i,s=e(t.input),r=this,n=function(){if("label"==r.hintType){var e=r;if("top"==e.position||"left"==e.position){if(s.prev().hasClass(".jqx-validator-error-label"))return}else if(s.next().hasClass(".jqx-validator-error-label"))return;"input"!=s[0].nodeName.toLowerCase()&&s.find("input").length>0?(s.find(".jqx-input").length>0?s.find(".jqx-input").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.find(".jqx-text-area").length>0?s.find(".jqx-text-area").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.is(".jqx-checkbox")&&s.find(".jqx-checkbox-default").removeClass(e.toThemeProperty("jqx-validator-error-element")),s.is(".jqx-radiobutton")?s.find(".jqx-radiobutton-default").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.removeClass(e.toThemeProperty("jqx-validator-error-element"))):s.removeClass(e.toThemeProperty("jqx-validator-error-element"))}};t&&((i=t.hint)&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),n()}):(i.remove(),n())),t.hint=null)},_handleValidation:function(e,t,i,s){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:s}),"function"==typeof this.onError&&this.onError(s))},_scrollHandler:function(t){if(this.scroll){var i=this;e("html,body").animate({scrollTop:t},this.scrollDuration,function(){"function"==typeof i.scrollCallback&&i.scrollCallback.call(i)})}},_higherPriorityActive:function(e){for(var t,i=!1,s=this.rules.length-1;s>=0;s-=1){if(t=this.rules[s],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,s=0;s<this.rules.length;s+=1)t=this.rules[s],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(t){for(var i,s=0;s<this.rules.length;s+=1)if(i=this.rules[s],e(i.input)[0]===t[0]&&i.hint)return i;return null},_removeEventListeners:function(){for(var t,i,s,r=0;r<this.rules.length;r+=1){s=(t=this.rules[r]).action.split(","),i=e(t.input);for(var n=0;n<s.length;n+=1)this.removeHandler(i,e.trim(s[n])+".jqx-validator")}},_addEventListeners:function(){var t,i;if(this.host.parents(".jqx-window").length>0){var s=this,r=function(){s.updatePosition()},n=this.host.parents(".jqx-window");this.addHandler(n,"closed",function(){s.hide()}),this.addHandler(n,"moved",r),this.addHandler(n,"moving",r),this.addHandler(n,"resized",r),this.addHandler(n,"resizing",r),this.addHandler(e(document.parentWindow),"scroll",function(){s.scroll&&r()})}for(var o=0;o<this.rules.length;o+=1)t=this.rules[o],i=e(t.input),this._addListenerTo(i,t)},_addListenerTo:function(t,i){var s=this,r=i.action.split(","),n=!1;this._isjQWidget(t)&&(n=!0);for(var o=0;o<r.length;o+=1){var a=e.trim(r[o]);!n||"blur"!=a&&"focus"!=a||t&&"input"!=t[0].nodeName.toLowerCase()&&(t=t.find("input")),this.addHandler(t,a+".jqx-validator",function(e){s._validateRule(i)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){var t=this.rules[e];t.position||(t.position=this.position),t.message||(t.message="Validation Failed!"),t.action||(t.action="blur"),t.hintRender||(t.hintRender=this._hintRender),t.rule?this._handleRule(t):t.rule=null},_handleRule:function(e){var t,i,s=e.rule,r=!1;if("string"==typeof s?(s.indexOf("=")>=0&&(s=s.split("="),i=s[1].split(","),s=s[0]),(t=this["_"+s])?e.rule=function(e,s){return t.apply(this,[e].concat(i))}:r=!0):"function"!=typeof s?r=!0:e.rule=s,r)throw new Error("Wrong parameter!")},_required:function(t){switch(this._getType(t)){case"jqx-input-inner":if(t.find("input").length>0)return""!==e.trim(t.find("input").val());break;case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var i=e.data(t[0]);if(i.jqxMaskedInput){var s=t.jqxMaskedInput("promptChar");return(r=t.jqxMaskedInput("value"))&&r.indexOf(s)<0}return i.jqxNumberInput?""!==t.jqxNumberInput("inputValue"):!!i.jqxDateTimeInput||""!==e.trim(t.val());case"checkbox":case"radio":return t.is(":checked");case"jqx-check-box":case"jqx-radio-button":return t[0].val();case"jqxCheckBox":case"jqxcheckbox":case"jqxradiobutton":case"jqxRadioButton":var r;return!0===(r=t.find("input").val())||1===r||"true"===r;case"div":return t.is(".jqx-checkbox")?t.jqxCheckBox("checked"):!!t.is(".jqx-radiobutton")&&t.jqxRadioButton("checked")}return!1},_notNumber:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=new Number(e);return!isNaN(t)&&isFinite(t)})},_phone:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^\(\d{3}\)(\d){3}-(\d){4}$/.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/.test(e)})},_ssn:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/\d{3}-\d{2}-\d{4}/.test(e)})},_validateText:function(e,t){return!!this._isTextInput(e)&&t(this._isjQWidget(e)&&e.find("input").length>0?e.find("input").val():e.val())},_isjQWidget:function(t){var i=e.data(t[0]);return!!(i.jqxMaskedInput||i.jqxNumberInput||i.jqxDateTimeInput)||(t[0].tagName.toLowerCase().indexOf("jqx")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-password-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-complex-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-formatted-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-masked-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-date-time-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-number-input")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-check-box")>=0||(t[0].tagName.toLowerCase().indexOf("jqx-radio-button")>=0||(t[0].tagName.toLowerCase().indexOf("jqxcheckbox")>=0||t[0].tagName.toLowerCase().indexOf("angular")>=0)))))))))))},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||"jqx-input-inner"===t||e.is(".jqx-input")||e.is(".jqx-text-area")},_getType:function(t){if(t[0]){var i=t[0].tagName.toLowerCase();return"textarea"===i?"textarea":t.is(".jqx-input")?"jqx-input":t.is(".jqx-text-area")?"jqx-text-area":t.find(".jqx-input").length>0?"jqx-input-inner":"input"===i?e(t).attr("type")?e(t).attr("type").toLowerCase():"text":"jqx-password-input"===i?"password":"jqx-check-box"===i?"jqx-check-box":"jqx-radio-button"===i?"jqx-radio-button":i}},_hintRender:function(t,i){if("label"==this.hintType){(n=e('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>')).html(t);var s=!1;i.parent().find(".jqx-input-label").length>0&&!i.hasClass("jqx-dropdownlist")&&!i.hasClass("jqx-combobox")&&!i.hasClass("jqx-datetimeinput")&&(n=i.parent().find(".jqx-input-label"),i.data().jqxWidget.hint&&(n.html(t),n.addClass(this.toThemeProperty("jqx-validator-error-label")),i.data().jqxWidget.host.attr("hint",!0)),s=!0,this.hasHint=!0);var r=this;return this.closeOnClick&&n.click(function(){r.hideHint(i.selector)}),s||("left"==this.position||"top"==this.position?n.insertBefore(e(i)):n.insertAfter(e(i))),n}var n=e('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),o=this;return n.html(t),this.closeOnClick&&n.click(function(){o.hideHint(i.selector)}),null==this.ownerElement?n.appendTo(document.body):this.ownerElement.innerHTML?n.appendTo(e(this.ownerElement)):n.appendTo(this.ownerElement),n},_hintLayout:function(t,i,s,r){if(this._hintRender===r.hintRender){var n;if(n=this._getPosition(i,s,t,r),"label"==this.hintType){var o="2px";"left"!=this.position&&"top"!=this.position||(o="-2px"),"input"!=i[0].nodeName.toLowerCase()&&"textarea"!=i[0].nodeName.toLowerCase()?(i.find(".jqx-text-area").length>0&&i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),i.find("input").length>0&&(i.find(".jqx-input").length>0?i.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):i.find(".jqx-text-area").length>0?i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):i.addClass(this.toThemeProperty("jqx-validator-error-element")))):i.addClass(this.toThemeProperty("jqx-validator-error-element"));var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-validator-hint")),a.html(t.text()),a.appendTo(e(document.body));var l=a.outerWidth();return a.remove(),void(this.hasHint||(t.css({position:"relative",left:e(i).css("margin-left"),width:e(i).width(),top:o}),"center"==s&&(t.css("width",l),t.css("left","0px"),t.css("margin-left","auto"),t.css("margin-right","auto"))))}t.css({position:"absolute",left:n.left,top:n.top}),this.arrow&&this._addArrow(i,t,s,n)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(t,i,s,r){var n,o,a=t.offset(),l=t.outerWidth(),d=t.outerHeight();if(this.rtl&&i.indexOf("left")>=0&&(i="right"),this.rtl&&i.indexOf("right")>=0&&(i="left"),null!=this.ownerElement&&((a={left:0,top:0}).top=parseInt(a.top)+t.position().top,a.left=parseInt(a.left)+t.position().left),r&&r.hintPositionRelativeElement){var h=e(r.hintPositionRelativeElement);a=h.offset(),l=h.width(),d=h.height()}return n=i.indexOf("top")>=0?a.top-d:i.indexOf("bottom")>=0?a.top+s.outerHeight()+this.hintPositionOffset+5:a.top,o=i.indexOf("center")>=0?a.left+this.hintPositionOffset+(l-s.outerWidth())/2:i.indexOf("left")>=0?a.left-s.outerWidth()-this.hintPositionOffset:i.indexOf("right")>=0?a.left+l+this.hintPositionOffset:a.left+this.hintPositionOffset,i.indexOf(":")>=0&&(i=i.split(":")[1].split(","),o+=parseInt(i[0],10),n+=parseInt(i[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(n)+"_"+Math.round(o)]&&this.positions[Math.round(n)+"_"+Math.round(o)].top==n&&(n+=t.outerHeight()),this.positions[Math.round(n)+"_"+Math.round(o)]={left:o,top:n},{left:o,top:n}},_addArrow:function(t,i,s,r){var n,o,a=e('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&s.indexOf("left")>=0&&(s="right"),this.rtl&&s.indexOf("right")>=0&&(s="left"),i.children(".jqx-validator-hint-arrow").remove(),i.append(a);var l=a.outerHeight(),d=a.outerWidth(),h=i.outerHeight(),c=i.outerWidth();this._addImage(a),o=s.indexOf("top")>=0?h-l:s.indexOf("bottom")>=0?-l:(h-l)/2-l/2,s.indexOf("center")>=0?n=(c-d)/2:s.indexOf("left")>=0?n=c-d/2-1:s.indexOf("right")>=0&&(n=-d/2),(s.indexOf("topright")>=0||s.indexOf("bottomright")>=0)&&(n=0),(s.indexOf("topleft")>=0||s.indexOf("bottomleft")>=0)&&(n=c-d),a.css({position:"absolute",left:n,top:o})},_addImage:function(e){var t=e.css("background-image");t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},propertyChangedHandler:function(e,t,i,s){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(e){function t(t){var i=e(t);return"none"!==i.css("display")&&"hidden"!==i.css("visibility")}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:1200,minWidth:50,maxWidth:1200,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:1299,modalZIndex:1800,zIndex:1e3,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return this===e.jqx._jqxWindow.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);var t=this;!function(e){for(var i=0;i<e.length;i++){var s=e[i];t[s]&&t[s].toString().indexOf("px")>=0&&(t[s]=parseInt(t[s],10))}}(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var i=function(){var i=parseInt(e(t.restricter).css("padding-top"),10),s=parseInt(e(t.restricter).css("padding-left"),10),r=parseInt(e(t.restricter).css("padding-bottom"),10),n=parseInt(e(t.restricter).css("padding-right"),10),o=e(t.restricter).coord();t.dragArea={left:s+o.left,top:i+o.top,width:1+n+e(t.restricter).width(),height:1+r+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var r=e.data(document.body,"jqxwindows-modallist");if(r)if("modal-show"==t)r.push(this.host);else{var n=r.indexOf(this.host);-1!=n&&r.splice(n,1)}else if("modal-show"==t){var o=[];o.push(this.host),e.data(document.body,"jqxwindows-modallist",o),r=o}else e.data(document.body,"jqxwindows-modallist",[]),r=[];return s=this.modalZIndex,e.each(r,function(){if(this.data()&&this.data().jqxWindow){var e=this.data().jqxWindow.instance;e._modalBackground.style.zIndex=s,e.element.style.zIndex=s+1,s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];if("auto"==a.css("z-index"))s=this.zIndex+i.length+1;else{var l=this.zIndex;(s=parseInt(a.css("z-index"),10)+1)<l&&(s=l)}}this.element.style.zIndex=s,this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){throw new Error(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(e(t[i-=1].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children();if(1===t.length)this._content=t[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=e(this._header),this._content=e(this._content);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=e(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=e(this._closeButtonWrapper),this._closeButton=e(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=e(this._collapseButtonWrapper),this._collapseButton=e(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&!this._modalBackground){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this;this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(),setTimeout(function(){t[0].focus()},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var s=e.data(document.body,"jqxwindows-modallist");if(!(s.length>1&&s[s.length-1][0]!=i.element)){var r=i._getTabbables(),n=null,o=null;if(0!==i.element.offsetWidth&&0!==i.element.offsetHeight&&(r.length>0&&(n=r[0],o=r[r.length-1]),t.target!=i.element&&null!=n))return function(e,t){return t.contains(e)}(t.target,i.element)&&(t.target!==o||t.shiftKey)?t.target===n&&t.shiftKey?(o.focus(),!1):void 0:(n.focus(),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style.float="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style.float="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){if(this._closeButtonWrapper){if(this.showCloseButton){this._closeButtonWrapper[0].style.visibility="visible";var e=this._toPx(this.closeButtonSize);this._closeButtonWrapper[0].style.width=e,this._closeButtonWrapper[0].style.height=e}else this._closeButtonWrapper[0].style.visibility="hidden";if(this.showCollapseButton){this._collapseButtonWrapper[0].style.visibility="visible";var t=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t}else this._collapseButtonWrapper[0].style.visibility="hidden"}},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(e),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left="")}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var t=parseInt(this._header.css("padding-right"),10);if(!isNaN(t)){var i=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=i,this._collapseButtonWrapper[0].style.height=i,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(t)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(t),this._collapseButtonWrapper[0].style.marginLeft="0px")}this._collapseButtonWrapper[0].style.position="absolute";var s=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0);this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=s):(this._collapseButtonWrapper[0].style.right=s,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,e(this._collapseButton[0].parentElement),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&(this.width&&this.width.toString().indexOf("%")>=0?this.element.style.width=this.width:this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.height&&this.height.toString().indexOf("%")>=0?this.element.style.height=this.height:this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var t=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),t=!1);var i=e(this._header.children()[0]).outerWidth()+(this._header.children()[1]?e(this._header.children()[1]).outerWidth():0);return this.minWidth<100&&(this.minWidth=Math.min(i,100),t=!1),t},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){var r,n,o="none"===e.css("display");if(s?(r=s+"Top",n=s+"Left"):(r="top",n="left"),(i=i.toLowerCase()).indexOf("y")>=0){o&&(e[0].style.display="block");var a,l=e.outerHeight(!0);o&&(e[0].style.display="none"),a=t.height();var d=Math.max(0,a-l)/2;e[0].style[r]=d+"px"}if(i.indexOf("x")>=0){o&&(e[0].style.display="block");var h,c=e.outerWidth(!0);o&&(e[0].style.display="none"),h=t.width();var u=Math.max(0,h-c)/2;e[0].style[n]=u+"px"}},_centerElementInArea:function(e,t,i){if((i=i.toLowerCase()).indexOf("y")>=0){var s=e.outerHeight(!0),r=(t.height-s)/2;e[0].style.top=r+t.top+"px"}if(i.indexOf("x")>=0){var n=e.outerWidth(!0),o=(t.width-n)/2;e[0].style.left=o+t.left+"px"}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return this._indexOf(e,t)>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var r,n=t[s],o=t[s-1];parseInt(n.css(e),10)<parseInt(o.css(e),10)&&(r=n,t[s]=o,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){var t=this;t.addHandler(t.host,"resizing",t._windowResizeHandler,{self:t}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){t._performLayout()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){t._performLayout()})},_windowResizeHandler:function(t){var i=t.data.self;if(i._header.width(i.host.width()-(i._header.outerWidth(!0)-i._header.width())),i.width&&i.width.toString().indexOf("%")>=0){var s=1/(e(document.body).width()/100);i.width=s*t.args.width+"%"}else i.width=t.args.width;if(i.height&&i.height.toString().indexOf("%")>=0){s=1/(e(document.body).height()/100);i.height=s*t.args.height+"%"}else i.height=t.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){if("object"==typeof t._modalBackground&&null!==t._modalBackground){if(t.isOpen()&&(t._modalBackground.style.display="none"),t.restricter)t._modalBackground.style.left=t._toPx(t.dragArea.left),t._modalBackground.style.top=t._toPx(t.dragArea.top),t._modalBackground.style.width=t._toPx(t.dragArea.width),t._modalBackground.style.height=t._toPx(t.dragArea.height);else{var e=t._getDocumentSize();t._modalBackground.style.width=e.width+"px",t._modalBackground.style.height=e.height+"px"}t.isOpen()&&(t._modalBackground.style.display="block")}})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){var t=this._getDocumentSize();e.jqx.browser.msie&&e.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=t.width,this._modalBackground.style.height=t.height,this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none")}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(){if(e.keyboardNavigation&&e._moved){var t=e.host.coord(),i=t.left,s=t.top;e._raiseEvent(3,i,s,i,s),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,r=this.host.coord(),n=r.left,o=r.top,a=this._getDraggingArea(),l=this.host.width(),d=this.host.height(),h=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(l-c,d):this.draggable&&n-c>=0&&this.move(n-c,o),h=!1;break;case 38:i?this.resizable&&this.resize(l,d-c):this.draggable&&o-c>=0&&this.move(n,o-c),h=!1;break;case 39:i?this.resizable&&this.resize(l+c,d):this.draggable&&n+l+c<=a.width&&this.move(n+c,o),h=!1;break;case 40:i?this.resizable&&this.resize(l,d+c):this.draggable&&o+d+c<=a.height&&this.move(n,o+c),h=!1}return h||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),h}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){e.resizeArea&&e.resizable&&!e.collapsed?e._header[0].style.cursor=e._resizeWrapper.style.cursor:e.draggable?e._header[0].style.cursor="move":(e._header[0].style.cursor="default",e._resizeWrapper&&(e._resizeWrapper.style.cursor="default"))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!==document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.position(i);t._mousePosition.x=s.left,t._mousePosition.y=s.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i)[0],r=s.pageX,n=s.pageY,o=e.jqx.position(i);return r=o.left,n=o.top,(r+3<t._mousePosition.x||r-3>t._mousePosition.x||n+3<t._mousePosition.y||n-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:r,y:n},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),!!t._isTouchDevice&&(i.preventDefault(),!0)}return!t._isDragging||!!t._isTouchDevice&&(i.preventDefault(),!0)},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),o=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,r,n,o,a),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if(void 0===t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var r=e.jqx.position(i),n=r.left,o=r.top,a=n-t._mousePosition.x,l=o-t._mousePosition.y,d=t._windowPosition.x+a,h=t._windowPosition.y+l;return t.move(d,h,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var n=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+n>=r.width+r.left-2*s&&(e=r.width+r.left-n-s),t+o>=r.height+r.top-i&&(t=r.height+r.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1]);else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!==this.position.y)this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y);else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left"),10),i=parseInt(this.host.css("top"),10);this.element.style.left=this._toPx(t+e.left),this.element.style.top=this._toPx(i+e.top)}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.element.style.top=this._toPx(i.top);break;case"left":this.element.style.left=this._toPx(i.left);break;case"bottom":this.element.style.top=this._toPx(i.height-this.host.height()+i.top);break;case"right":this.element.style.left=this._toPx(i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),r={};return 2!==t&&3!==t||(r.x=arguments[1],r.y=arguments[2],r.pageX=arguments[3],r.pageY=arguments[4]),"closed"!==i&&"close"!==i||(r.dialogResult=this.dialogResult),s.args=r,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.isModal&&(null!==this._modalBackground&&e(this._modalBackground).remove(),this.host.jqxWindow({isModal:!1})),this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&e(this._modalBackground).remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),!1===r)for(var n=e.data(document.body,"jqxwindows-modallist"),o=[],a=0;a<n.length;a++){n[a][0]!==this.element&&o.push(n[a])}e.data(document.body,"jqxwindows-modallist",o);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":r?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(r),this.title=r;break;case"content":this.setContent(r);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=r,r?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":r?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));break;case"theme":e.jqx.utilities.setTheme(s,r,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!0!==this._animationInProgress){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),r=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10);t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,isNaN(r)||(s-=2*r),isNaN(n)||(s+=n),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(s),i._animationInProgress=!0,this.host.animate({height:s},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="none",i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)}})}},expand:function(t){if(this.collapsed&&!0!==this._animationInProgress){var i=this;t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,i._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!1,i.element.style.minHeight=i._toPx(i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="block",i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)}})}},closeAll:function(t){for(var i=e.data(document.body,"jqxwindows-list"),s=i.length,r=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(!0,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(!0,r)&&(r.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(e){if("string"==typeof e)this._headerContentWrapper.html(e);else if("object"==typeof e)try{this._headerContentWrapper[0].innerHTML="",e instanceof HTMLElement?this._headerContentWrapper[0].appendChild(e):e.appendTo&&e.appendTo(this._headerContentWrapper)}catch(e){throw new Error(e)}this.title=e,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i[0].style.width="auto",i[0].style.height="auto",i.hasClass("jqx-window")?s=!0:i=e(i[0].parentNode);if(e.isArray(t))for(var r=0;r<t.length;r++)t[r].appendTo(this._content);else if("string"==typeof t)e(this._content[0]).html(t);else if("object"==typeof t)try{this._content[0].innerHTML="",t instanceof HTMLElement?this._content[0].appendChild(t):t.appendTo&&t.appendTo(this._content)}catch(e){throw new Error(e)}this.content=t,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),r=this._indexOf(this.host,t),n=t.length-1;n>r;n-=1){var o=parseInt(t[n].css("z-index"),10)-1;t[n][0].style.zIndex=o}this.element.style.zIndex=s,this._sortByStyle("z-index",t)},hide:function(t,i,s){var r=this;if(this.closing&&!1===this.closing())return;switch(i=i||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":r._animationInProgress=!0,this.host.fadeOut({duration:i,callback:function(){r._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":r._animationInProgress=!0,this.host.slideUp({duration:i,callback:function(){r._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":r._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:i,complete:function(){r._animationInProgress=!1,r.element.style.display="none",t instanceof Function&&t()}})}this._visible=!1,this.isModal&&(e(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),!0!==s&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(t,i){var s=this;switch(this._setDialogResult("none"),i=i||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":s._animationInProgress=!0,this.host.fadeIn({duration:i,complete:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":s._animationInProgress=!0,this.host.slideDown({duration:i,callback:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":this.element.style.display="block";var r=s.host.width(),n=s.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",s._animationInProgress=!0,this.host.animate({opacity:1,width:r+"px",height:n+"px"},{duration:i,complete:function(){s._animationInProgress=!1,s._performLayout(),t instanceof Function&&t()}})}this.isModal&&(e(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var o=this;if(this._visible||(i>150&&"none"!=this.animationType?setTimeout(function(){o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),o._raiseEvent(7),o._raiseEvent(9)},i-150):(o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),this._raiseEvent(7),o._raiseEvent(9))),this._visible=!0,"combined"!==s.animationType&&this._performLayout(),this.autoFocus){var a=function(){o._isTouchDevice||o._content[0].focus()};a(),setTimeout(function(){a()},100)}},_getTabbables:function(){var i;i=e.jqx.browser.msie&&e.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*");var s=[];return e.each(i,function(){(function(i){var s=i.getAttribute("tabindex"),r=null===s;return(r||s>=0)&&function(i,s){var r=i.nodeName.toLowerCase();if("area"===r){var n,o=i.parentNode,a=o.name;return!(!i.href||!a||"map"!==o.nodeName.toLowerCase())&&(!!(n=e("img[usemap=#"+a+"]")[0])&&t(n))}return(/input|select|textarea|button|object/.test(r)?!i.disabled:"a"==r&&i.href||s)&&t(i)}(i,!r)})(this)&&(s[s.length]=this)}),s},move:function(t,i,s,r){var n,o,a,l=0,d=0;if(t=parseInt(t,10),i=parseInt(i,10),e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(d=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,d,l),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(s){var h=e.jqx.position(s);o=h.left,a=h.top}void 0===o&&(o=t),void 0===a&&(a=i),!1!==r&&this._raiseEvent(2,n.x,n.y,o,a)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){var t,i=(t=jqxBaseFramework,{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var e=t(this.resizeTarget.children(".jqx-resize"));e.detach();var i=e.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)t(i[s]).detach(),this.resizeTarget.append(i[s]);e.remove()}this._resizeDirection=null},initResize:function(e){this.resizeConfig(),this.resizeTarget=t(e.target),this.resizeIndicatorSize=e.indicatorSize||10,this.maxWidth=e.maxWidth||100,this.minWidth=e.minWidth||1,this.maxHeight=e.maxHeight||100,this.minHeight=e.minHeight||1,this.resizeParent=e.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,e.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(e,i,s,r,n){this.resizeTargetChildren=t(n),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var o=this.resizeTargetChildren.length;o;)o-=1,this.resizeTargetChildren[o]=t(this.resizeTargetChildren[o])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){var e=this;if(!(void 0!==e._resizeWrapper&&t(e._resizeWrapper).parents().length>0)){var i=document.createElement("div");i.className="jqx-resize jqx-rc-all",i.style.zIndex=8e3,i.appendChild(e._header[0]),i.appendChild(e._content[0]),e.resizeTarget[0].appendChild(i),e._resizeWrapper=i}},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var e=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+e),this.removeHandler(this._resizeWrapper,"mousedown.resize"+e),this.removeHandler(t(document),"mousemove.resize"+e),this.removeHandler(t(document),"mouseup.resize"+e)},_addResizeEventHandlers:function(){var e=this.resizeTarget.attr("id"),i=this;i._isTouchDevice?(this.addHandler(this._resizeWrapper,"touchmove.resize."+e,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"touchstart.resize."+e,function(e){i._resizeCursorChangeHandler(i,e),i._resizeMouseDownHandler(i,e)}),this.addHandler(t(document),"touchmove.resize."+e,function(e){return i._resizeHandler(i,e)}),this.addHandler(t(document),"touchend.resize."+e,function(e){i._stopResizing(i,e)})):(this.addHandler(this._resizeWrapper,"mousemove.resize."+e,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+e,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(t(document),"mousemove.resize."+e,function(e){return i._resizeHandler(i,e)}),this.addHandler(t(document),"mouseup.resize."+e,function(e){i._stopResizing(i,e)}));try{if(""!==document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(e){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&(e._resizeWrapper.style.cursor=e._cursorBackup)},_resizeHandler:function(e,i){if(e.enableResize&&!e.collapsed){if(e.isResizing&&e._resizeDirection){if(0===i.which&&t.jqx.browser.msie&&t.jqx.browser.version<9&&e._stopResizing(i),e._isTouchDevice){var s=t.jqx.position(i);return e._performResize(s.left,s.top),!1}return e._performResize(i.pageX,i.pageY),!1}return e._isTouchDevice?(s=t.jqx.position(i),e._resizeCaptureCursor(s.left,s.top)):e._resizeCaptureCursor(i.pageX,i.pageY)}},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if(this._isTouchDevice)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1;if(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,i){if(e.enableResize&&!e.collapsed&&!e.isResizing){if(e._isTouchDevice){var s=t.jqx.position(i);return void e._changeCursor(s.left-parseInt(e.resizeTarget.css("left"),10),s.top-parseInt(e.resizeTarget.css("top"),10))}e._changeCursor(i.pageX-parseInt(e.resizeTarget.css("left"),10),i.pageY-parseInt(e.resizeTarget.css("top"),10))}},_resizeMouseDownHandler:function(e,i){if(e.enableResize&&null!==e._resizeDirection){if(e._resizeMouseDown=!0,e._isTouchDevice){var s=t.jqx.position(i);e._mouseResizePosition.x=s.left,e._mouseResizePosition.y=s.top}else e._mouseResizePosition.x=i.pageX,e._mouseResizePosition.y=i.pageY;i.preventDefault()}},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){throw new Error(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:t(document).width(),height:t(document).height()}},_validateHeight:function(e,i,s){var r=0,n=this._getParent();return t(window).width()>t(document).width()&&t.jqx.browser.msie&&n.height===t(document).height()&&(r=this._SCROLL_WIDTH),"bottom"===s&&e+i.position().top+r+2>n.height+n.top?{fix:n.height-i.position().top-r-2+n.top,result:!1}:"top"===s&&i.lastHeight-e+i.y<n.top?{fix:e+(i.lastHeight-e+i.y)-n.top,result:!1}:e<i.minHeight?{fix:i.minHeight,result:!1}:e>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:e}},_validateWidth:function(e,i,s){var r=0,n=this._getParent();return t(window).height()<t(document).height()&&t.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&n.width===t(document).width()&&(r=this._SCROLL_WIDTH),"right"===s&&e+i.position().left+r+2>n.width+n.left?{fix:n.width-i.position().left-r-2+n.left,result:!1}:"left"===s&&i.lastWidth-e+i.x<n.left?{fix:e+(i.lastWidth-e+i.x)-n.left,result:!1}:e<i.minWidth?{fix:i.minWidth,result:!1}:e>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:e}},_resize:function(e,t,i){for(var s=this._resizeMethods.length,r=0;r<s;r++)if(this._resizeMethods[r]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[r](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!==s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1,i>0&&s>0&&(this._resizeDirection="right",this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1)}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].width(s)}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&r>0&&this.resizeTargetChildren[i].height(r)}},_resizeRight:function(e){var i=e.element.lastWidth+e.x,s=e.self._validateResize(i,0,"horizontal",e.element,"right");if(s.result||(i=s.fix),e.element.width()!==i){if(e.self._setResizeChildrenSize(i,"width"),e.element.width(i),e.self.width.toString().indexOf("%")>=0){var r=1/(t(document.body).width()/100);e.element[0].style.width=r*i+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return i},_resizeLeft:function(e){var i=e.element.lastWidth-e.x,s=e.self._validateResize(i,0,"horizontal",e.element,"left"),r=e.element.x+e.x;if(!s.result)return r=e.element.x+(e.element.lastWidth-s.fix),void(i=s.fix);if(e.element.width()!==i){if(e.self._setResizeChildrenSize(i,"width"),e.element.width(i),e.self.width.toString().indexOf("%")>=0){var n=1/(t(document.body).width()/100);e.element[0].style.width=n*i+"%",e.self._setChildrenLayout()}e.element[0].style.left=e.self._toPx(r),e.self._raiseResizeEvent(0)}return i},_resizeBottom:function(e){var i=e.element.lastHeight+e.y,s=e.self._validateResize(0,i,"vertical",e.element,"bottom");if(s.result||(i=s.fix),e.element.height()!==i){if(e.self._setResizeChildrenSize(i,"height"),e.element.height(i),e.self.height.toString().indexOf("%")>=0){var r=1/(t(document.body).height()/100);e.element[0].style.height=r*i+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return i},_resizeTop:function(e){var i=e.element.lastHeight-e.y,s=e.self._validateResize(0,i,"vertical",e.element,"top"),r=e.element.y+e.y;if(!s.result)return r=e.element.y+(e.element.lastHeight-s.fix),void(i=s.fix);if(e.element.height()!==i){if(e.self._setResizeChildrenSize(i,"height"),e.element.height(i),e.self.height.toString().indexOf("%")>=0){var n=1/(t(document.body).height()/100);e.element[0].style.height=n*i+"%",e.self._setChildrenLayout()}e.element[0].style.top=e.self._toPx(r),e.self._raiseResizeEvent(0)}return i},_raiseResizeEvent:function(e){var i=this._resizeEvents[e],s=t.Event(i),r={};if(r.width=parseInt(this.resizeTarget[0].style.width,10),r.height=parseInt(this.resizeTarget[0].style.height,10),s.args=r,0===e){i=this._resizeEvents[2];var n=t.Event(i);n.args=r,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(s)}});e.extend(e.jqx._jqxWindow.prototype,i)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxHeatMap","",{}),e.extend(e.jqx._jqxHeatMap.prototype,{defineInstance:function(){var t={width:"auto",xAxis:{labels:[],opposedPosition:!1,isInversed:!1,minimum:null,maximum:null,labelFormat:"short"},yAxis:{labels:[],opposedPosition:!1,isInversed:!1},source:[],title:"Title",paletteSettings:{palette:[{value:0,color:"#5dc3f0",label:""},{value:50,color:"#4bb1de",label:""},{value:100,color:"#3885a6",label:""}],type:"Gradient",emptyPointColor:"#eee"},legendSettings:{position:"Right"},tooltipRender:null,_isXAxisInversed:!1,_isYAxisInversed:!1};return this===e.jqx._jqxHeatMap.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),e._setDefaultValues(),e._renderAllElements(),e._addHandlers()},_addHandlers:function(){var t=this;t.host.find(".jqx-heatmap-cell").on("mouseenter",function(e){var i=e.target,s=i.getAttribute("data-value");"Top"===t.legendSettings.position||"Bottom"===t.legendSettings.position?t._showLegendArrow("horizontal",s):t._showLegendArrow("vertical",s),t._hideTimer&&clearTimeout(t._hideTimer),t._showTooltip(e.target),i.classList.toggle("jqx-opacity-50")}),t.host.find(".jqx-heatmap-cell").on("mouseleave",function(){var e,i=event.target;t._arrow.style.display="",i.classList.toggle("jqx-opacity-50"),e=setTimeout(function(){t._tooltipContainer.classList.add("jqx-heatmap-hidden")},300),t._hideTimer=e}),t.host.find(".jqx-color-container, .jqx-color-container-tick").on("click",function(){var i=e(this).attr("data-value"),s=e(this).attr("data-color-index");t._hideCells(s),t._toggleClass("jqx-color-container","jqx-selected-color",i),t._toggleClass("jqx-color-container-tick","jqx-opacity-50",i)})},_setDefaultValues:function(){var e=this,t=Object.keys(e.xAxis),i=Object.keys(e.yAxis),s=Object.keys(e.legendSettings),r=Object.keys(e.paletteSettings);-1===t.indexOf("labels")&&(e.xAxis.labels=[]),-1===t.indexOf("opposedPosition")&&(e.xAxis.opposedPosition=!1),-1===t.indexOf("isInversed")&&(e.xAxis.isInversed=!1),-1===i.indexOf("opposedPosition")&&(e.yAxis.opposedPosition=!1),-1===i.indexOf("isInversed")&&(e.yAxis.isInversed=!1),-1===s.indexOf("position")&&(e.legendSettings.position="Right"),-1===r.indexOf("type")&&(e.paletteSettings.type="Gradient"),-1===r.indexOf("palette")&&(e.paletteSettings.palette=[{value:0,color:"#5dc3f0",label:""},{value:50,color:"#4bb1de",label:""},{value:100,color:"#3885a6",label:""}]),-1===r.indexOf("emptyPointColor")&&(e.paletteSettings.emptyPointColor="#eee")},_showTooltip:function(e){var t,i,s,r=this,n=document.createElement("div"),o=e.getAttribute("data-value"),a=e.getAttribute("data-date"),l=e.getAttribute("data-column"),d=r.xAxis.labels[l],h=e.getAttribute("data-row"),c=r.yAxis.labels[h],u=d+" | "+c+" : "+o,p=e.offsetWidth;if(r._tooltipContainer||(r._tooltipContainer=n),r.element.appendChild(r._tooltipContainer),r._tooltipContainer.classList.remove("jqx-heatmap-hidden"),r._tooltipContainer.className="jqx-heatmap-tooltip",r.tooltipRender){if(r.xAxis.minimum&&r.xAxis.maximum)var m={xLabel:d,yLabel:c,value:o,date:a,content:u};else m={xLabel:d,yLabel:c,value:o,content:u};r.tooltipRender(m),u=m.content}r.xAxis.minimum&&r.xAxis.maximum?r._tooltipContainer.innerHTML=o+" on "+r._defaultDateTooltipFormat(new Date(a)):r._tooltipContainer.innerHTML=u,t=r._tooltipContainer.offsetWidth,i=r._tooltipContainer.offsetHeight,s=t-p,r._tooltipContainer.style.top=e.offsetTop-i+10+"px",r._tooltipContainer.style.left=s>0?e.offsetLeft-s/2+"px":e.offsetLeft+Math.abs(s)/2+"px"},_defaultDateTooltipFormat:function(e){return new Intl.DateTimeFormat("en-US",{day:"numeric",weekday:"short",month:"short",year:"numeric"}).format(e)},_getAllDates:function(){for(var e=this,t=new Date(e.xAxis.minimum),i=new Date(e.xAxis.maximum),s=e.source[0].length,r=[],n=[],o=t,a=0;o<=i;o.setDate(o.getDate()+1),a++)a<s?n.push(o.toISOString()):(r.push(n),e._addMonthLabel(n),a=0,(n=[]).push(o.toISOString()));e._dateArray=r},_addMonthLabel:function(e){var t={month:this.xAxis.labelFormat},i=new Intl.DateTimeFormat("en-US",t),s=new Date(e[0]),r=i.format(s);this.xAxis.labels.push(r)},_renderGrid:function(){var e=this,t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div");t.className="jqx-heatmap-grid",i.className="jqx-x-axis-container",s.className="jqx-y-axis-container",r.className="jqx-heatmap-container-wrapper",e._setAxisOrigin();for(var n=0,o=e.source.length;n<o;n++){var a=document.createElement("div"),l=e.source[n];e._setGridColumn(a,n,o);for(var d=0,h=l.length;d<h;d++){var c=document.createElement("div");e._setGridCell(c,n,d,l),a.appendChild(c)}t.appendChild(a)}r.style.width=e._toPx(e.width),i.appendChild(t),s.appendChild(i),r.appendChild(s),e._gridXAxisContainer=i,e._gridYAxisContainer=s,e._gridContainerWrapper=r,e.element.appendChild(r)},_renderAxis:function(e,t,i,s){for(var r=this,n=document.createElement("div"),o=r.element.querySelector(".jqx-heatmap-grid").offsetHeight,a=0,l=t.length;a<l;a++){var d=t[a],h=document.createElement("div");if(h.innerHTML=d,h.className=s,"x"===e){if(h.style.width="calc(100% /"+l+")",r.xAxis.minimum&&r.xAxis.maximum){var c=r.source.length,u=d.duplicates/c*100;h.innerHTML=d.name,h.style.width=u+"%",r.xAxis.isInversed?h.style.textAlign="right":h.style.textAlign="left"}}else n.style.height=o+"px",h.style.height="calc(100% /"+l+")";n.appendChild(h)}"x"===e?(n.className=i,r._gridXAxisContainer.appendChild(n)):(n.className=i,r._gridYAxisContainer.appendChild(n))},_getLabels:function(e){var t={},i=[],s=0;e.forEach(function(r,n){r===e[n+1]?s++:(t={name:r,duplicates:++s},i.push(t),s=0)}),this.xAxis.labels=i},_renderAllAxis:function(){var e,t,i,s=this;s.xAxis.minimum&&s.xAxis.maximum&&s._getLabels(s.xAxis.labels),s._renderAxis("x",s.xAxis.labels,"jqx-x-axis","jqx-x-axis-label"),s._renderAxis("y",s.yAxis.labels,"jqx-y-axis","jqx-y-axis-label"),i=s.element.querySelector(".jqx-y-axis"),e=s.element.querySelectorAll(".jqx-x-axis-label"),t=s.element.querySelectorAll(".jqx-y-axis-label"),s.xAxis.opposedPosition&&(s._gridXAxisContainer.style.flexDirection="column-reverse",i.classList.add("jqx-margin-top-auto"),e.forEach(function(e){e.classList.add("jqx-top")})),s.yAxis.opposedPosition&&(s._gridYAxisContainer.style.flexDirection="row",t.forEach(function(e){e.classList.add("jqx-right")}))},_setGridColumn:function(e,t,i){e.id="jqx-column-"+t,e.classList.add("jqx-column"),e.style.width="calc(100% / "+i+")"},_setGridCell:function(e,t,i,s){var r=this,n=s[i];e.classList.add("jqx-heatmap-cell"),e.setAttribute("data-row",i),e.setAttribute("data-column",t),e.setAttribute("data-value",n),r.xAxis.minimum&&r.xAxis.maximum&&e.setAttribute("data-date",r._dateArray[t][i]);for(var o=0,a=r.paletteSettings.palette.length;o<a;o++)if(null!==n){var l=Number(n),d=r.paletteSettings.palette[o].value,h=Number(d),c=null,u=null;if(o+1<a&&(c=r.paletteSettings.palette[o+1].value,u=Number(c)),u&&(l>=h&&l<u||l<r._minValue)){e.setAttribute("data-color-index",o);break}!u&&l>=h&&e.setAttribute("data-color-index",o)}if(!r.xAxis.minimum||!r.xAxis.maximum)return null===n?(e.innerHTML="&nbsp",void e.classList.add("jqx-empty-cell")):void(e.innerHTML=n);null===n&&e.classList.add("jqx-empty-cell")},_getTicksMinMax:function(){for(var e=this,t=JSON.parse(JSON.stringify(e.paletteSettings.palette)),i=t[0].value,s=t[0].value,r=[],n=0,o=t.length;n<o;n++){var a=t[n].value,l=t[n].label||"";r.push({value:a,label:l}),a<i?i=a:a>s&&(s=a)}e._minValue=i,e._maxValue=s,e._ticksArray=r},_renderTitle:function(){var e=this,t=document.createElement("div");t.className="jqx-heatmap-title",t.innerHTML=e.title,t.style.width=e._toPx(e.width),e._title=t,e.element.appendChild(t)},_renderLegend:function(e){var t=this,i=document.createElement("div"),s="Gradient"===t.paletteSettings.type?document.createElement("canvas"):document.createElement("div"),r=document.createElement("div");i.classList.add("jqx-legend-"+e),s.classList.add("jqx-palette-"+e),r.classList.add("jqx-arrow-"+e),t._drawLegend(i,s,e),i.appendChild(s),i.appendChild(r),t._gridContainerWrapper.appendChild(i),t._arrow=r,t._palette=s,t._legend=i,t._adjustLegend(e)},_drawLegend:function(e,t,i){var s=this;"vertical"===i?(!0===s.xAxis.opposedPosition&&e.classList.add("jqx-margin-top-auto"),"Gradient"===s.paletteSettings.type?s._drawGradientLegend(t,"vertical"):s._drawFixedLegend(t,"vertical"),"Left"===s.legendSettings.position&&e.classList.add("jqx-left"),s._gridXAxisContainer.width="calc(100% - "+e.offsetWidth+"px)"):("Gradient"===s.paletteSettings.type?s._drawGradientLegend(t,"horizontal"):s._drawFixedLegend(t,"horizontal"),"Bottom"===s.legendSettings.position&&e.classList.add("jqx-bottom"),!0===s.yAxis.opposedPosition&&e.classList.add("jqx-margin-right-auto"))},_drawFixedLegend:function(e,t){var i=this,s=JSON.parse(JSON.stringify(i.paletteSettings.palette)),r=i.element.querySelector(".jqx-heatmap-grid").offsetWidth,n=i.element.querySelector(".jqx-heatmap-grid").offsetHeight;"horizontal"===t&&e.classList.add("jqx-fixed");for(var o=0,a=s.length;o<a;o++){var l=s[o],d=document.createElement("div"),h=r/a/r*100;d.id="jqx-color-container-"+o,d.className="jqx-color-container",d.setAttribute("data-value",l.value),d.setAttribute("data-color-index",o),d.setAttribute("data-color",l.color),d.style.background=l.color,"vertical"===t?(d.style.width="10px",d.style.height="calc("+n+"px / "+a+")"):(d.style.width=h+"%",d.style.height="10px"),e.appendChild(d)}},_drawGradientLegend:function(e,t){var i=this,s=JSON.parse(JSON.stringify(i.paletteSettings.palette)),r=e.getContext("2d");if("vertical"===t)var n=r.createLinearGradient(0,0,0,150);else n=r.createLinearGradient(0,0,300,0);"Gradient"===i.paletteSettings.type&&i._checkNewMinMax();for(var o=0,a=s.length;o<a;o++){var l=s[o],d=(l.value-i._minValue)/(i._maxValue-i._minValue);n.addColorStop(d,l.color)}r.fillStyle=n,r.fillRect(0,0,300,150),i._canvasContext=r},_getSourceMinMax:function(){for(var e=this,t=e.source[0][0],i=e.source[0][0],s=0,r=e.source.length;s<r;s++)for(var n=0,o=e.source[s].length;n<o;n++){var a=e.source[s][n];null!==a&&(t>a?t=a:i<a&&(i=a))}return{min:t,max:i}},_checkNewMinMax:function(){var e=this,t=JSON.parse(JSON.stringify(e.paletteSettings.palette)),i=e._getSourceMinMax();e._minValue>i.min&&(e._minValue=i.min,t.splice(0,0,{value:i.min,color:t[0].color})),e._maxValue<i.max&&(e._maxValue=i.max,t.push({value:i.max,color:t[t.length-1].color}))},_adjustLegend:function(e){var t=this;"vertical"===e?(t._setVerticalLegendHeight(),t._renderScale("vertical")):(t._setHorizontalLegendWidth(),t._renderScale("horizontal"))},_renderScale:function(e){for(var t=this,i=0,s=t._ticksArray.length;i<s;i++){var r=t._ticksArray[i].value,n=t._ticksArray[i].label,o=document.createElement("div");"Fixed"===t.paletteSettings.type&&o.classList.add("jqx-color-container-tick"),o.classList.add("jqx-tick","jqx-tick-"+e),o.setAttribute("data-value",r),o.setAttribute("data-color-index",i),o.innerHTML=n||r,t._setLegendTicksPosition(o,r,i,e),t._legend.appendChild(o)}"vertical"===e&&(t._tick=o,t._setVerticalLegendWidth())},_setLegendTicksPosition:function(e,t,i,s){var r=this;if("Gradient"===r.paletteSettings.type)if(t===r._minValue||t===r._maxValue)t===r._minValue?"vertical"===s?e.style.top="-0.5%":e.style.left="-3px":"vertical"===s?e.style.top="96%":e.style.right="-11px",e.classList.add("jqx-no-line");else{var n=(t-r._minValue)/(r._maxValue-r._minValue)*100;"vertical"===s?e.style.top="calc("+n+"% - 6px)":e.style.left="calc("+n+"% - 6px)"}else{var o=r.element.querySelector(".jqx-color-container").offsetHeight,a=r.element.querySelector(".jqx-color-container").offsetWidth;if("vertical"===s)e.style.top=0===i?i*o+"px":i*o-5+"px";else if(0===i)e.style.left=i*a+"px";else{var l=r.paletteSettings.palette.length,d=r.element.querySelector(".jqx-heatmap-grid").offsetWidth,h=d/l/d*100;e.style.left="calc("+h*i+"% - 5px)"}e.classList.add("jqx-no-line")}},_showLegendArrow:function(e,t){var i=this,s=(t-i._minValue)/(i._maxValue-i._minValue)*100;"Gradient"===i.paletteSettings.type&&t<=i._maxValue&&(i._arrow.style.display="block","vertical"===e?i._arrow.style.top="calc("+s+"% - 6px)":i._arrow.style.left="calc("+s+"% - 6px)")},_setVerticalLegendWidth:function(){var e=this;e._legend.style.width=15+e._tick.offsetWidth+"px",e._gridXAxisContainer.style.width="calc(100% - "+(e._legend.offsetWidth+15)+"px)"},_setVerticalLegendHeight:function(){var e=this.element.querySelector(".jqx-heatmap-grid").offsetHeight;this._legend.style.height=e+"px"},_setHorizontalLegendWidth:function(){var e=this.element.querySelector(".jqx-y-axis").offsetWidth;this._legend.style.width="calc(100% - "+e+"px)"},_hideCells:function(e){for(var t=this.element.querySelectorAll('.jqx-heatmap-cell[data-color-index="'+e+'"]'),i=0,s=t.length;i<s;i++){t[i].classList.toggle("jqx-heatmap-hidden")}},_toggleClass:function(e,t,i){for(var s=this.element.querySelectorAll("."+e),r=0,n=s.length;r<n;r++){var o=s[r];if(i===o.getAttribute("data-value"))return void o.classList.toggle(t)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_getLegendColor:function(e,t){var i=this,s=(e-i._minValue)/(i._maxValue-i._minValue)*149,r=(e-i._minValue)/(i._maxValue-i._minValue)*299,n=null;if(!(e>i._maxValue||e<i._minValue))return"rgba("+(n="vertical"===t?i._canvasContext.getImageData(0,s,1,1).data:i._canvasContext.getImageData(r,0,1,1).data)[0]+", "+n[1]+", "+n[2]+", "+n[3]/255+")"},_getFixedLegendColor:function(e){for(var t=JSON.parse(JSON.stringify(this.paletteSettings.palette)),i=0,s=t.length;i<s;i++){var r=t[i],n=t[i+1];if(n&&(e>=r.value&&e<n.value||e<this._minValue))return r.color;if(!n&&e>=r.value)return r.color}},_setCellsBackground:function(e){for(var t=this,i=t.element.querySelectorAll(".jqx-heatmap-cell"),s=0,r=i.length;s<r;s++){var n=i[s],o=i[s].getAttribute("data-value");if("null"===o)n.style.background=t.paletteSettings.emptyPointColor;else{if("Gradient"===t.paletteSettings.type)var a=t._getLegendColor(o,e);else a=t._getFixedLegendColor(o);n.style.background=a}}},_renderLegendPosition:function(){var e=this;switch(e.legendSettings.position){default:case"Right":e._gridContainerWrapper.style.flexDirection="row",e._renderLegend("vertical"),e._setCellsBackground("vertical");break;case"Left":e._gridContainerWrapper.style.flexDirection="row-reverse",e._renderLegend("vertical"),e._setCellsBackground("vertical");break;case"Top":e._gridContainerWrapper.style.flexDirection="column-reverse",e._renderLegend("horizontal"),e._setCellsBackground("horizontal");break;case"Bottom":e._gridContainerWrapper.style.flexDirection="column",e._renderLegend("horizontal"),e._setCellsBackground("horizontal")}},_reverseXAxisOrigin:function(){var e=this;e.xAxis.labels.reverse(),e.source.reverse(),e._isXAxisInversed=!e._isXAxisInversed,e.xAxis.minimum&&e.xAxis.maximum&&e._dateArray.reverse()},_reverseYAxisOrigin:function(){var e=this;e.yAxis.labels.reverse(),e._isYAxisInversed=!e._isYAxisInversed,e._reverseNestedArray(e.source),e.xAxis.minimum&&e.xAxis.maximum&&e._reverseNestedArray(e._dateArray)},_reverseNestedArray:function(e){for(var t=0,i=e.length;t<i;t++){e[t].reverse()}},_setAxisOrigin:function(){var e=this;e.xAxis.isInversed!==e._isXAxisInversed&&e._reverseXAxisOrigin(),e.yAxis.isInversed!==e._isYAxisInversed&&e._reverseYAxisOrigin()},_destroyGrid:function(){var t=this;e(t._gridContainerWrapper).remove(),t.xAxis.minimum&&t.xAxis.maximum&&(t.xAxis.labels=[])},_destroyTitle:function(){e(this._title).remove()},_renderAllElements:function(){var e=this;e._renderTitle(),e._getTicksMinMax(),e.xAxis.minimum&&e.xAxis.maximum&&e._getAllDates(),e._renderGrid(),e._renderAllAxis(),e._renderLegendPosition()},_rerender:function(){var e=this;e._destroyTitle(),e._destroyGrid(),e._renderAllElements(),e._addHandlers()},setLegendPosition:function(e){var t=this;t.legendSettings.position!==e&&(t.legendSettings.position=e,t._rerender())},setOpposedXAxisPosition:function(e){var t=this;t.xAxis.opposedPosition!==e&&(t.xAxis.opposedPosition=e,t._rerender())},setOpposedYAxisPosition:function(e){var t=this;t.yAxis.opposedPosition!==e&&(t.yAxis.opposedPosition=e,t._rerender())},reverseXAxisPosition:function(e){this.xAxis.isInversed=e,this._rerender()},reverseYAxisPosition:function(e){this.yAxis.isInversed=e,this._rerender()},setPaletteType:function(e){this.paletteSettings.type=e,this._rerender()},destroy:function(){this.host.remove()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTimePicker","",{}),e.extend(e.jqx._jqxTimePicker.prototype,{defineInstance:function(){var t={autoSwitchToMinutes:!1,footer:!1,footerTemplate:null,format:"12-hour",minuteInterval:1,selection:"hour",value:new Date,view:"portrait",width:500,height:500,animation:!0,disabled:!1,readonly:!1,unfocusable:!1,name:"",_events:["change"]};return this===e.jqx._jqxTimePicker.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._createTimePicker()},_createTimePicker:function(){this.widgetID=this.element.id;var t=this,i='<div class="'+t.toThemeProperty("jqx-container jqx-rc-all jqx-widget")+'"><div class="'+t.toThemeProperty("jqx-header jqx-unselectable jqx-widget-header")+'"><div class="'+t.toThemeProperty("jqx-hour-minute-container")+'"><div class ="'+t.toThemeProperty("jqx-hour-container")+'"></div><div>:</div><div class="'+t.toThemeProperty("jqx-minute-container")+'"></div></div><div class="'+t.toThemeProperty("jqx-am-pm-container")+'"><div class="'+t.toThemeProperty("jqx-am-container")+'">AM</div><div class="'+t.toThemeProperty("jqx-pm-container")+'">PM</div></div></div><div class="'+t.toThemeProperty("jqx-main-container jqx-widget-content")+'"><div class="'+t.toThemeProperty("jqx-svg-container jqx-item")+'"><div class="'+t.toThemeProperty("jqx-svg-picker jqx-fill-state-normal jqx-item")+'"></div></div><div class="'+t.toThemeProperty("jqx-footer")+'"></div></div><input name="'+this.name+'" type="hidden"></div>';t.element.innerHTML=i,t.element.className+=t.toThemeProperty("jqx-time-picker jqx-rc-all jqx-widget"),t.element.setAttribute("view",t.view),t._container=t.element.getElementsByTagName("div")[0],t._header=t.element.getElementsByClassName("jqx-header")[0],t._hourMinuteContainer=t.element.getElementsByClassName("jqx-hour-minute-container")[0],t._hourContainer=t.element.getElementsByClassName("jqx-hour-container")[0],t._minuteContainer=t.element.getElementsByClassName("jqx-minute-container")[0],t._ampmContainer=t.element.getElementsByClassName("jqx-am-pm-container")[0],t._amContainer=t.element.getElementsByClassName("jqx-am-container")[0],t._pmContainer=t.element.getElementsByClassName("jqx-pm-container")[0],t._main=t.element.getElementsByClassName("jqx-main-container")[0],t._svgContainer=t.element.getElementsByClassName("jqx-svg-container")[0],t._picker=t.element.getElementsByClassName("jqx-svg-picker")[0],t._footer=t.element.getElementsByClassName("jqx-footer")[0],t._hiddenInput=t.element.getElementsByTagName("input")[0],t.footer&&t.element.setAttribute("footer",""),t.readonly&&t.element.setAttribute("readonly",""),t.disabled&&t.element.setAttribute("disabled",""),t.coerce=!0,t.min=0,t._drawMin="0",t.startAngle=-270,t.endAngle=90,t._angleDifference=t.endAngle-t.startAngle,t.ticksVisibility="none",t._tickIntervalHandler={},t._tickIntervalHandler.labelsSize={},t._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},t._measurements={},e(t.element).css({width:t.width,height:t.height}),e.jqx.utilities.resize(t.host,function(){t._resizeHandler()}),t._validateInitialPropertyValues(),t._applyInitialSettings(),t._isVisible()?(t._setPickerSize(),e(t._picker).jqxDraw(),t._draw=e(t._picker).jqxDraw("getInstance"),t._getMeasurements(),t._getAngleRangeCoefficient(),t._renderSVG(),t._setFocusable(),t._addEventHandlers()):t._renderingSuspended=!0},_getAngleRangeCoefficient:function(){var e=this;e._angleRangeCoefficient=e._angleDifference/e._range},_getAngleByValue:function(e,t,i){var s=this;!1!==t&&s.logarithmicScale&&(e=Math.log10(e));var r,n=(e-s._drawMin)*s._angleRangeCoefficient;return r=s.inverted?s.startAngle+n:s.endAngle-n,i?r:r*Math.PI/180+Math.PI/2},_addGaugeTicksAndLabels:function(){var e,t,i,s,r,n,o=this,a=Math.max(o._tickIntervalHandler.labelsSize.minLabelSize,o._tickIntervalHandler.labelsSize.maxLabelSize),l=o._majorTicksInterval,d=o._minorTicksInterval,h={},c=o._distance,u=o._measurements.radius,p=u-c.majorTickDistance,m=u-c.minorTickDistance;"none"!==o.ticksVisibility&&!1!==o._plotTicks?(e=function(e){o._drawTick(e,p,"major")},t=function(e){o._drawTick(o._getAngleByValue(e,!0),m,"minor")}):(e=function(){},t=function(){}),i="none"!==o.labelsVisibility&&!1!==o._plotLabels?function(e,t,i){o._drawLabel(e,t,c.labelDistance,i)}:function(){},o.inverted?(r=o.startAngle,n=o.endAngle):(r=o.endAngle,n=o.startAngle),e(s=o._getAngleByValue(o._drawMin,!1)),h[o._drawMin]=!0,i(s,o.min,!1);var f,g=o._drawMin-o._drawMin%l;o._drawMin>=0&&(g+=l);for(var v=g;v>=o._drawMin;v-=d)f=v;for(e(s=o._getAngleByValue(g,!1)),h[g]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(r,o._getAngleByValue(g,!1,!0))/360)>a&&i(s,o._getActualValue(g),g<o._drawMax),v=g+l;v<o._drawMax-l;v+=l)e(s=o._getAngleByValue(v,!1)),h[v]=!0,i(s,o._getActualValue(v),!0);if(void 0===h[v]&&v<=o._drawMax&&(e(s=o._getAngleByValue(v,!1)),h[v]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(n,o._getAngleByValue(v,!1,!0))/360)>=a&&i(s,o._getActualValue(v),!0),o._normalizedStartAngle!==o.endAngle&&(e(s=o._getAngleByValue(o._drawMax,!1)),h[o._drawMax]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(n,r)/360)>=a&&i(s,o.max,!1))),o.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(h,l,t);else for(var x=f;x<o._drawMax;x+=d)h[x]||t(x)},_getAngleDifference:function(e,t){var i=Math.abs(t-e)%360;return i>180?360-i:i},_getActualValue:function(e){return this.logarithmicScale?Math.pow(10,e):e},_computeArrowBodyPoints:function(e,t,i,s){var r=Math.sin(t),n=Math.cos(t),o=e-i*n+s*r,a=e+i*r+s*n,l=e+i*n+s*r,d=e-i*r+s*n,h="M "+(e+i*n)+","+(e-i*r)+" L "+(e-i*n)+","+(e+i*r)+" L "+o+","+a+" "+l+","+d;return this._headCenter={x:(o+l)/2,y:(a+d)/2},h},_documentMoveHandler:function(e){this._dragging&&this._changeSelection(e,!0)},_documentUpHandler:function(){var t=this;t._dragging&&(t._inInnerCircle=!1,t._dragging=!1,t.autoSwitchToMinutes&&"hour"===t.selection&&(t.animation?(e(t._picker).addClass("animate"),setTimeout(function(){t.selection="minute",t._changeToMinuteSelection()},250),setTimeout(function(){e(t._picker).removeClass("animate")},550)):(t.selection="minute",t._changeToMinuteSelection())))},_drawArrow:function(e,t,i){var s=this,r="hour"===s.selection,n="12-hour"===s.format,o=s._oldTimePart;if(delete s._oldTimePart,void 0===t&&(r?(t=s.value.getHours(),n&&t>12&&(t-=12)):t=s.value.getMinutes()),void 0!==o&&!i&&s.animation)if(!r||n){var a,l;r?(a=.2,t%=l=12,o%=l):(a=1,l=60);var d=t-o,h=o-t;d<0&&(d+=l),h<0&&(h+=l),h<d&&(a*=-1),s._animationFrameId=requestAnimationFrame(function i(){o+=a,(o=parseFloat((o%l).toFixed(1)))<0&&(o+=l),s._drawArrowSVG(e,o),o!==t%l&&(s._animationFrameId=requestAnimationFrame(i))})}else s._animate24HourView(o,t);else s._drawArrowSVG(e,t)},_animate24HourView:function(e,t){var i=this,s=.2;i._inInnerCircle=!1;var r=0===e||e>12,n=0===t||t>12;if(r!==n){if(e=r?Math.abs(e-12):(e+12)%24,i._inInnerCircle=n,i._drawArrowSVG(!0,e),e===t)return}else i._inInnerCircle=n;var o=e,a=t;i._inInnerCircle&&(0===a&&o<18?a=12:0===o&&a<18&&(o=12));var l=a-o,d=o-a;l<0&&(l+=12),d<0&&(d+=12),d<l&&(s*=-1),i._animationFrameId=requestAnimationFrame(function(){!function r(n){i._inInnerCircle=n,n?((e=parseFloat((e+s).toFixed(1)))<0?e+=24:e<1&&(e+=12),12!==e&&24!==e||(e=0)):(12!==(e+=s)&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),i._drawArrowSVG(!0,e),e!==t?i._animationFrameId=requestAnimationFrame(function(){r(n)}):i._inInnerCircle=!1}(i._inInnerCircle)})},_drawArrowSVG:function(e,t){var i,s=this,r=s._measurements,n=s._getAngleByValue(t);i=s._inInnerCircle?s._computeArrowBodyPoints(r.radius,n,1,r.innerRadius-s._largestLabelSize/2-45):s._computeArrowBodyPoints(r.radius,n,1,r.innerRadius-s._largestLabelSize/2),e?(s._arrow.setAttribute("d",i),s._head.setAttribute("cx",s._headCenter.x),s._head.setAttribute("cy",s._headCenter.y),s._head.setAttribute("r",s._largestLabelSize),s._headRect=s._head.getBoundingClientRect(),t%1==0&&s._highlightLabel(t)):(s._arrow=s._draw.path(i,{class:s.toThemeProperty("jqx-needle jqx-widget-header")}),s._head=s._draw.circle(s._headCenter.x,s._headCenter.y,s._largestLabelSize,{class:s.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),s._headRect=s._head.getBoundingClientRect())},_drawLabel:function(e,t,i){var s=this,r=s._measurements,n=r.radius,o={class:s.toThemeProperty("jqx-label jqx-unselectable jqx-item"),"font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle};"hour"===s.selection?s._plotInnerCircle?t>0?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);var a=s._draw.measureText(t,0,o),l=n-i-s._largestLabelSize/2,d=n+l*Math.sin(e),h=n+l*Math.cos(e);s._draw.text(t,Math.round(d)-a.width/2,Math.round(h)-a.height/2,a.width,a.height,0,o).setAttribute("value",parseFloat(t))},_getCenterCoordinates:function(){var e=this._picker.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,s=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+i+t,y:e.top+s+t}},_headerClickHandler:function(t){var i=this;if(!i.disabled&&!i.readonly)switch(t.target){case i._hourContainer:"hour"!==i.selection&&(i.selection="hour",i._changeToHourSelection());break;case i._minuteContainer:"minute"!==i.selection&&(i.selection="minute",i._changeToMinuteSelection());break;case i._amContainer:if(!e(i._amContainer).hasClass("jqx-selected")){i._selectAmPm("am");var s=new Date(i.value.getTime());i.value.setHours(i.value.getHours()-12),i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:s})}break;case i._pmContainer:if(!e(i._pmContainer).hasClass("jqx-selected")){i._selectAmPm("pm");s=new Date(i.value.getTime());i.value.setHours(i.value.getHours()+12),i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:s})}}},_highlightLabel:function(e){var t,i,s,r,n=this;if(n._highlightedLabel){if(parseFloat(n._highlightedLabel.getAttribute("value"))===e)return;if(n._highlightedLabel.className.baseVal.indexOf(n.toThemeProperty("jqx-selected"))>-1){var o=n._highlightedLabel.className.baseVal,a=(t=o,i=n.toThemeProperty("jqx-selected"),s=new RegExp("\\s?"+i+"\\s?","gm"),t.replace(s,""));n._highlightedLabel.className.baseVal=a}n._highlightedLabel=void 0}"hour"===n.selection?(void 0===e&&(e=n.value.getHours()),"12-hour"===n.format&&(0===e?e=12:e>12&&(e-=12)),r=e):(void 0===e&&(e=n.value.getMinutes()),60===(r=5*Math.round(e/5))&&(r=0));var l=n._picker.querySelector('.jqx-label[value="'+r+'"]');l&&(r===e||n._overlapsLabel(l))&&(n._highlightedLabel=l,l.className.baseVal+=" "+n.toThemeProperty("jqx-selected"))},_isVisible:function(){var e=this.host[0];return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_getMeasurements:function(){var e,t,i,s,r,n,o=this,a=o._measurements,l=document.createElement("div");l.className="jqx-label",l.style.position="absolute",l.style.visibility="hidden",o._svgContainer.appendChild(l),"hour"===o.selection?(e="1",t="23",o.max=12,o._drawMax="12",o._range=12):(e="00",t="55",o.max=60,o._drawMax="60",o._range=60),l.innerHTML=e,i=l.offsetWidth,r=l.offsetHeight,l.innerHTML=t,s=l.offsetWidth,n=l.offsetHeight,o._largestLabelSize=Math.max(i,r,s,n),o._tickIntervalHandler.labelsSize.minLabelSize=r,o._tickIntervalHandler.labelsSize.maxLabelSize=n;var d=window.getComputedStyle(l);a.fontSize=d.fontSize,a.fontFamily=d.fontFamily,a.fontWeight=d.fontWeight,a.fontStyle=d.fontStyle,o._svgContainer.removeChild(l)},_renderHours:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)},_renderMinutes:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=5,e._addGaugeTicksAndLabels()},_renderSVG:function(){var e=this;if(e._isVisible()&&!e._renderingSuspended)if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:e.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),"hour"===e.selection&&"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,"hour"===e.selection){e.interval=1,e._renderHours();var t=e.value.getHours();"12-hour"===e.format&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes());else e._renderingSuspended=!0},_selectAmPm:function(t){var i=this;"am"===t?(i._ampm="am",e(i._pmContainer).removeClass(i.toThemeProperty("jqx-selected")),e(i._amContainer).addClass(i.toThemeProperty("jqx-selected"))):(i._ampm="pm",e(i._amContainer).removeClass(i.toThemeProperty("jqx-selected")),e(i._pmContainer).addClass(i.toThemeProperty("jqx-selected")))},_setFocusable:function(){var e=this;if(e.disabled||e.unfocusable)return e._hourContainer.removeAttribute("tabindex"),e._minuteContainer.removeAttribute("tabindex"),e._amContainer.removeAttribute("tabindex"),e._pmContainer.removeAttribute("tabindex"),void e._picker.removeAttribute("tabindex");var t=e.tabIndex>0?e.tabIndex:0;e._hourContainer.tabIndex=t,e._minuteContainer.tabIndex=t,e._amContainer.tabIndex=t,e._pmContainer.tabIndex=t,e._picker.tabIndex=t},_setPickerSize:function(){var e=this,t=e._svgContainer.offsetWidth,i=e._svgContainer.offsetHeight,s=.9*Math.min(t,i);void 0!==e._pickerSize&&e._pickerSize!==s?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=s,e._measurements.radius=s/2,e._measurements.innerRadius=e._measurements.radius-10,s+="px",e._picker.style.width=s,e._picker.style.height=s},refresh:function(e){!0!==e&&this.render()},setHours:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setHours method required a parameter. Its type should be number.";(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||e>12),t._drawArrow(!0,e,arguments[2]),t.animation||(t._inInnerCircle=!1))},setMinutes:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setMinutes method required a parameter. Its type should be number.";e=60===e?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),"minute"===t.selection&&t._drawArrow(!0,e,arguments[1])},propertyChangedHandler:function(e,t,i,s){var r=e;if(i!=s||s instanceof Object)switch(t){case"disabled":r.disabled?(r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.element.setAttribute("disabled","")):(r.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.element.removeAttribute("disabled")),r._setFocusable();break;case"footer":case"view":r._resizeHandler();break;case"footerTemplate":r._validateFooterTemplate();break;case"format":var n=r.value.getHours();"12-hour"===s?(r._ampmContainer.removeClass("jqx-hidden"),r.value.getHours()<12?r._selectAmPm("am"):r._selectAmPm("pm"),0===n?n=12:n>12&&(n-=12)):r._ampmContainer.addClass("jqx-hidden"),r._hourContainer.innerHTML=n,"hour"===r.selection&&(r._draw.clear(),r._renderSVG());break;case"minuteInterval":var o=Math.max(1,Math.min(s,60));o!==s&&(r.minuteInterval=o),"minute"===r.selection&&(r.interval=o);break;case"selection":"hour"===s?r._changeToHourSelection():r._changeToMinuteSelection();break;case"value":r._oldValue=i,r._validateValue();var a=r.value.getHours()===i.getHours(),l=r.value.getMinutes()===i.getMinutes();a&&l||(l?r.setHours(r.value.getHours()):(a||r.setHours(r.value.getHours(),!0),r.setMinutes(r.value.getMinutes()))),delete r._oldValue}},_applyInitialSettings:function(){var e,t,i=this,s=i.value;e=s.getHours(),t=s.getMinutes(),"12-hour"===i.format?e<12?(i._ampm="am",i._amContainer.className+=" "+i.toThemeProperty("jqx-selected"),0===e&&(e=12)):(i._ampm="pm",i._pmContainer.className+=" "+i.toThemeProperty("jqx-selected"),e>12&&(e-=12)):i._ampmContainer.className+=" "+i.toThemeProperty("jqx-hidden"),1===(t=t.toString()).length&&(t="0"+t),i._hourContainer.innerHTML=e,i._minuteContainer.innerHTML=t,"hour"===i.selection?i._hourContainer.className+=" "+i.toThemeProperty("jqx-selected"):i._minuteContainer.className+=" "+i.toThemeProperty("jqx-selected")},_getValueByAngle:function(e,t){var i,s,r,n=this;for(n.inverted?(i=e,s=n._normalizedStartAngle):(i=n.endAngle,s=e);i<s;)i+=360;if(r=(i-s)/n._angleDifference*n._range+parseFloat(n._drawMin),n.logarithmicScale){if(n.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(r,!0)).toFixed(12));r=Math.pow(10,r)}return t&&!n.coerce?Math.round(r):this._getCoercedValue(r,!1)},_getCoercedValue:function(e,t,i){var s=this;if(!s.coerce)return e;var r,n,o=!s.logarithmicScale;r=parseFloat(s.min),n=parseFloat(s.max);var a=e-r,l=a%parseFloat(s.interval);if(0===l)return e;var d=parseFloat((a-l).toFixed(12)),h=d+parseFloat(s.interval);if(s.max-s.min<=parseFloat(s.interval)&&o){return e>=r+(n-r)/2?n:r}if(Math.abs(a-d)<Math.abs(a-h))return d+r;var c=h+r;return c>n?d+r:c},_changeSelection:function(e,t){var i=this,s=e.pageX,r=e.pageY,n=i._getCenterCoordinates(),o=Math.sqrt(Math.pow(n.x-s,2)+Math.pow(n.y-r,2));if(i._measurements.center=n,"mousedown"===e.type){if(o>i._measurements.radius)return void e.stopPropagation();i._dragging=!0}"24-hour"===i.format&&"hour"===i.selection&&o<i._measurements.radius-50?i._inInnerCircle=!0:i._inInnerCircle=!1;var a=-1*Math.atan2(r-n.y,s-n.x)*180/Math.PI;a<0&&(a+=360),i._angle=a;var l=i._getValueByAngle(i._angle);"hour"===i.selection?("24-hour"===i.format&&i._inInnerCircle?0!==l&&12!==l?l+=12:l=0:0===l&&(l=12),i._updateHours(l)):(60===l&&(l=0),i._updateMinutes(l)),void 0!==i._oldTimePart&&(cancelAnimationFrame(i._animationFrameId),i._drawArrow(!0,l,t))},_changeToHourSelection:function(){var t=this,i=t._centralCircle.parentElement||t._centralCircle.parentNode;cancelAnimationFrame(t._animationFrameId),t.interval=1,e(t._hourContainer).addClass(t.toThemeProperty("jqx-selected")),e(t._minuteContainer).removeClass(t.toThemeProperty("jqx-selected")),i.removeChild(t._centralCircle),i.removeChild(t._arrow),i.removeChild(t._head),t._getMeasurements(),t._getAngleRangeCoefficient(),t._draw.clear(),i.appendChild(t._centralCircle),i.appendChild(t._arrow),i.appendChild(t._head),t._renderHours(),"24-hour"===t.format&&(0===t.value.getHours()||t.value.getHours()>12)&&(t._inInnerCircle=!0),t._drawArrow(!0,void 0,!0),t._inInnerCircle=!1},_changeToMinuteSelection:function(){var t=this,i=t._centralCircle.parentElement||t._centralCircle.parentNode;t._inInnerCircle=!1,cancelAnimationFrame(t._animationFrameId),t.interval=t.minuteInterval,e(t._hourContainer).removeClass(t.toThemeProperty("jqx-selected")),e(t._minuteContainer).addClass(t.toThemeProperty("jqx-selected")),i.removeChild(t._centralCircle),i.removeChild(t._arrow),i.removeChild(t._head),t._getMeasurements(),t._getAngleRangeCoefficient(),t._draw.clear(),i.appendChild(t._centralCircle),i.appendChild(t._arrow),i.appendChild(t._head),t._renderMinutes(),t._drawArrow(!0,void 0,!0)},_overlapsLabel:function(e){var t=e.getBoundingClientRect(),i=this._headRect;return!(t.right-10<i.left||t.left+10>i.right||t.bottom-10<i.top||t.top+10>i.bottom)},_parseDateString:function(e,t){var i=e.indexOf("Date("),s=e.indexOf(")"),r=e;if(-1!==i&&-1!==s){if(""===(r=(r=e.slice(i+5,s)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(r))return(r=(r=r.replace(/\s/g,"")).split(",")).map(function(e,t){r[t]=parseInt(e)}),r.unshift(null),r=new(Function.prototype.bind.apply(Date,r))}if(""===r.trim())return t;if(!isNaN(r))return new Date(parseInt(r,10));try{r=new Date(r)}catch(e){r=t}return isNaN(r.getTime())?t:r},_updateHours:function(e,t){var i=this,s=e;"12-hour"===i.format?"am"===i._ampm?12===s&&(s=0):s<12&&(s+=12):s=e;var r=void 0!==i._oldValue?i._oldValue:new Date(i.value.getTime()),n=r.getHours();s!==n?(i._oldTimePart=n,void 0===i._oldValue&&i.value.setHours(s),i._hourContainer.innerHTML=e,!0!==t&&(i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:r}))):delete i._oldTimePart},_updateMinutes:function(e){var t=this,i=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),s=i.getMinutes();e!==s?(t._oldTimePart=s,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t._minuteContainer.innerHTML=e,t._hiddenInput.value=t.value,t._raiseEvent("0",{value:t.value,oldValue:i})):delete t._oldTimePart},_validateFooterTemplate:function(){var e=this,t=e.footerTemplate,i=window.navigator.userAgent,s=i.indexOf("MSIE")>-1||i.indexOf("NET")>-1;if(null===t||s)e._footer.innerHTML="";else{var r;if(t instanceof HTMLTemplateElement?r=t:"string"==typeof t&&((r=document.getElementById(t))instanceof HTMLTemplateElement||(r=void 0)),void 0===r)return e.footerTemplate=null,void(e._footer.innerHTML="");var n=document.importNode(r.content,!0);e._footer.appendChild(n)}},_validateInitialPropertyValues:function(){var e=this;e._validateFooterTemplate(),e.minuteInterval=Math.max(1,Math.min(e.minuteInterval,60)),e._validateValue()},_validateValue:function(){var e=this,t=e.value,i=void 0!==e._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){var s=t.split(":");return void(e.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),parseFloat(s[0]),parseFloat(s[1])))}e.value=e._parseDateString(t,i)}else e.value=i},destroy:function(){var e=this;e._removeEventHandlers(),e._draw.clear(),e.host.removeData(),e.host.removeClass(),e.host.remove(),delete e.element,delete e.host},_keydownHandler:function(t){var i=this;if(!i._dragging){var s,r=i.enableShadowDOM&&i.shadowRoot.activeElement||document.activeElement,n=t.key;if(!i._header.contains(r)||"Enter"!==n&&" "!==n){if(r===i._picker&&!t.altKey)if("ArrowRight"===n||"ArrowUp"===n?s=1:"ArrowLeft"!==n&&"ArrowDown"!==n||(s=-1),s)if(t.preventDefault(),"hour"===i.selection){var o=i.value.getHours();0===o&&-1===s?o=23:23===o&&1===s?o=0:o+=s,"12-hour"===i.format&&(o>=12&&e(i._amContainer).hasClass("jqx-selected")?o-=12:o<12&&e(i._pmContainer).hasClass("jqx-selected")&&(o+=12)),i.setHours(o,void 0,!0)}else{var a=i.value.getMinutes();a+(s*=i.minuteInterval)>=60?a=0:a<-1*s?a=60%s==0?60+s:60-60%s:a+=s,i.setMinutes(a,!0)}}else t.preventDefault(),i._headerClickHandler({target:r})}},_resizeHandler:function(){var e=this,t=!1;e._isVisible()?(e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1,e._draw.refresh()):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0},_pickerDownHandler:function(e){var t=this;t.disabled||t.readonly||!jqx.mobile.isTouchDevice()&&1!==e.which||t._changeSelection(e)},_pickerMoveHandler:function(e){},_addEventHandlers:function(){var t=this;t.addHandler(e(t.element),"keydown.timepicker"+t.widgetID,t._keydownHandler.bind(this)),t.addHandler(e(t.element),"resize.timepicker"+t.widgetID,t._resizeHandler.bind(this)),t.addHandler(e(t._header),"click.timepicker"+t.widgetID,t._headerClickHandler.bind(this)),t.addHandler(e(t._picker),"mousedown.timepicker"+t.widgetID,t._pickerDownHandler.bind(this)),t.addHandler(e(document),"mousemove.timepicker"+t.widgetID,t._documentMoveHandler.bind(this)),t.addHandler(e(document),"mouseup.timepicker"+t.widgetID,t._documentUpHandler.bind(this))},_removeEventHandlers:function(){var t=this;t.removeHandler(e(t.element),"keydown.timepicker"+t.widgetID),t.removeHandler(e(t.element),"resize.timepicker"+t.widgetID),t.removeHandler(e(t._header),"click.timepicker"+t.widgetID),t.removeHandler(e(t._picker),"mousedown.timepicker"+t.widgetID),t.removeHandler(e(t._picker),"mousemove.timepicker"+t.widgetID),t.removeHandler(e(document),"mousemove.timepicker"+t.widgetID),t.removeHandler(e(document),"mouseup.timepicker"+t.widgetID)},_raiseEvent:function(t,i){var s,r=this._events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),function(e,t,i){if(t){e.jqx=e.jqx||{},e.jqx.AMD=!1;var s=t.module("jqwidgets",[]),r=(t.module("jqwidgets-amd",[],function(){e.jqx.AMD=!0}),null),n=null,o=null,a=null,l=new Array,d=new Array,h=new Array,c=new Array,u=new Array,p=new Array,m={},f=!1,g=function(){var e,t,i,s=document.getElementsByTagName("script");for(e=0;t=s[e];e++)if((i=t.src).indexOf("jqxcore.js")>=0){var r=i.substring(0,i.indexOf("jqxcore.js"));break}return r}();e.jqx.angularCompile=function(e,s){e.length>0&&(e=e[0]);var r=t.element(e),n=r.injector();s==i&&(s=e.innerHTML),n.invoke(["$compile","$rootScope",function(e,t){var i=r.html(s).scope();e(r)(i||t),/^\$(digest|apply)$/.test(t.$$phase)?/^\$(digest|apply)$/.test(i.$$phase)||i.$digest():t.$digest()}])},_("jqxBulletChart"),_("jqxButtonGroup"),_("jqxButton"),_("jqxBarGauge"),_("jqxRepeatButton"),_("jqxToggleButton"),_("jqxLinkButton"),_("jqxCalendar"),_("jqxChart"),_("jqxCheckBox"),_("jqxComplexInput"),_("jqxColorPicker"),_("jqxComboBox"),_("jqxDataTable"),_("jqxDateTimeInput"),_("jqxDocking"),_("jqxDockPanel"),_("jqxDragDrop"),_("jqxDraw"),_("jqxDropDownButton"),_("jqxDropDownList"),_("jqxEditor"),_("jqxExpander"),_("jqxFormattedInput"),_("jqxFileUpload"),_("jqxGauge"),_("jqxLinearGauge"),_("jqxGrid"),_("jqxInput"),_("jqxListBox"),_("jqxListMenu"),_("jqxMaskedInput"),_("jqxMenu"),_("jqxNavigationBar"),_("jqxNavBar"),_("jqxNotification"),_("jqxNumberInput"),_("jqxPanel"),_("jqxPasswordInput"),_("jqxProgressBar"),_("jqxRadioButton"),_("jqxRangeSelector"),_("jqxRating"),_("jqxRibbon"),_("jqxScrollBar"),_("jqxScrollView"),_("jqxSlider"),_("jqxSplitter"),_("jqxSwitchButton"),_("jqxTabs"),_("jqxToolBar"),_("jqxTooltip"),_("jqxTouch"),_("jqxTree"),_("jqxTreeGrid"),_("jqxTreeMap"),_("jqxValidator"),_("jqxWindow"),_("jqxTagCloud"),_("jqxPopover"),_("jqxKanban"),_("jqxKnob"),_("jqxSortablePlugin"),_("jqxScheduler"),_("jqxTextArea"),_("jqxLayout"),_("jqxDockingLayout"),_("jqxResponsivePanel"),_("jqxLoader"),_("jqxPivotGrid")}function v(t,i,s,r,n){if(r&&n)switch(t){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(s.columns){var o=r.columns||r,a=n.columns||n;if(o.length!=a.length)return!1;var l={};if(e.each(o,function(e,t){var i=this;for(var s in this)if(i[s]!=a[e][s]){var r=i.datafield||i.dataField;l[r]||(l[r]={}),l[r][s]=i[s]}}),!e.isEmptyObject(l))return e.each(l,function(t,s){for(var r in s){e(i).jqxProxy("getcolumnproperty",t,r)!==s[r]&&e(i).jqxProxy("setcolumnproperty",t,r,s[r])}}),!0}}return!1}function x(s,n,o,a,l,d,h){var c=function(t){if("jqxTree"===d||"jqxMenu"===d)return t;if("object"==typeof t&&t&&null!=t._bindingUpdate)return t;var i={},s=!1;if(e.isArray(t)||t instanceof Object&&!t.url&&!t.localdata&&!t.localData){if("jqxChart"===d)return t;if(s=!0,i.localData=t,i.type="array",t[0]){var r=new Array;"object"==e.type(t[0])&&(e.each(t[0],function(t,i){var s={name:t,type:e.type(i)};r.push(s)}),i.datafields=r)}}else t&&t.url?i=t:t&&(t.localdata||t.localData)&&(i=t);return e.jqx.dataAdapter?new e.jqx.dataAdapter(i):s?t:null};if(o.jqxSource!=i){var u=s.$watchCollection(o.jqxSource,function(i,r){if(i!=r){if(t.equals(i,r))return;if(i&&r&&i._source&&r._source&&t.equals(i._source,r._source))return;var a=c(i);e(n).jqxProxy({source:a});var l=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged("source",r,i)}});h.push(u)}else if(o.jqxSettings!=i){var p={},m=null,f=r(o.jqxSettings)(s),g=n.controller();for(var v in g)if(f&&g[v]==f.source){m=v;break}if(!m)for(var v in s)if(f&&s[v]==f.source){m=v;break}if(m){var x="";for(var v in s)if(s[v]==g){x=v;break}""!=x&&(m=x+"."+m);u=l.$watchCollection(m,function(i,r){if(i!=r){if(t.equals(i,r))return;if(i&&r&&i._source&&r._source&&t.equals(i._source,r._source))return;var a=e.isArray(i)||"array"===e.type(i);if(new Date-p["jqxSettings.source"]>1e3||p=={}||!p["jqxSettings.source"]||a){var l=c(i);e(n).jqxProxy({source:l});var d=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&d&&d.propertyChanged&&d.propertyChanged("source",r,i),p.property=new Date}}});h.push(u)}u=s.$watchCollection(o.jqxSettings+".source",function(i,r){if(i!=r){if(t.equals(i,r))return;if(i&&r&&i._source&&r._source&&t.equals(i._source,r._source))return;if(new Date-p.property>1e3||!p["jqxSettings.property"]||p=={}){var a=c(i);e(n).jqxProxy({source:a});var l=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged("source",r,i),p["jqxSettings.source"]=new Date}}});h.push(u);u=s.$watchCollection(o.jqxSettings,function(i,r){if(i)if(r){if(i.source!=r.source){if(t.equals(i.source,r.source))return;if(i&&r&&i.source&&r.source&&i.source._source&&r.source._source&&t.equals(i.source._source,r.source._source))return;if(i.source&&r.source&&e.isArray(i.source)&&e.isArray(r.source)&&w(i.source)==w(r.source))return;if(new Date-p.property>1e3||!p["jqxSettings.source"]||p=={}){l=c(i.source);e(n).jqxProxy({source:l});var a=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&a&&a.propertyChanged&&a.propertyChanged("source",r.source,i.source),p["jqxSettings.source"]=new Date}}}else{var l=c(i.source);e(n).jqxProxy({source:l})}});h.push(u)}return c(a)}function w(t){if(null==t)return"";var i="";return e.each(t,function(t){var s=this;t>0&&(i+=", "),i+="[";var r=0;if("object"==e.type(s))for(var n in s)r>0&&(i+=", "),i+="{"+n+":"+s[n]+"}",r++;else r>0&&(i+=", "),i+="{"+t+":"+s+"}",r++;i+="]"}),i}function y(s,n,o,a,c){var u=new Array,p=t.extend({},s.$eval(o.jqxSettings));!function(s,r,n,o,a,l,d){if(n.jqxSettings&&l&&l.source===i&&n.jqxSource===i&&o.match(/(jqxGrid|jqxPivotGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi)&&(o.match(/(jqxTree|jqxMenu)/gi)?-1===r[0].innerHTML.toLowerCase().indexOf("ul")&&(l.source=[]):l.source=[]),l.source!==i&&n.jqxSettings)l.source=x(s,r,n,l.source,a,o,d);else if(n.jqxSource!==i){var h=t.extend({},s.$eval(n.jqxSource)),c=!(!n.jqxSource||!n.jqxSource.dataBind);l.source=x(s,r,n,c?n.jqxSource:h,a,o,d)}var u=s.$watch(n.ngDisabled,function(t,s){if(t!=i&&(t!=s||e(r).jqxProxy("disabled")!==t)){var n={};n.disabled=t,e(r).length>0&&e(r).jqxProxy(n)}});d.push(u)}(s,n,o,a,c,p,u);var f={},g={};if(m[n[0].id]&&e.each(m[n[0].id],function(){var r=this.label,l=this.value,d=e.camelCase(l.substring("4"));if(void 0!==o[r]){var h=s.$eval(o[r]);if(h===i&&"string"===e.type(o[r])&&(h=o[r]),"instance"==d)return!0;"array"===e.type(h)&&"source"!==a?h=h.slice(0):"object"===e.type(h)&&"source"!==a&&(h=e.extend({},h));var c=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,p=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(h)&&!d.match(c)){var m=arguments[0];g[m]=h}else{if(d.match(c)&&!d.match(/(searchMode)/gi)){return f[d]=function(){var e=h.apply(this,arguments);return d.match(p)&&!/^\$(digest|apply)$/.test(s.$root.$$phase)&&s.$digest(),e},!0}f[d]=h}var x=function(i,r){if(i!=r){if(t.equals(i,r))return;var d=e.camelCase(l.substring("4"));if("watch"==d){if(o.jqxWatch.indexOf(",")>=0||o.jqxWatch.indexOf("[")>=0)return h=(h=(h=(h=(h=o.jqxWatch).replace("[","")).replace("]","")).trim()).split(","),void e.each(h,function(l,h){for(var c=this.split("."),u=0;u<c.length;u++){if(c[u]in e(n).data().jqxWidget){d=c[u];break}if(c[u].toLowerCase()in e(n).data().jqxWidget){d=c[u].toLowerCase();break}}var p={};if(p[d]=i[l],!v(a,e(n),p,i,r)){e(n).jqxProxy(p);var m=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&m&&m.propertyChanged&&m.propertyChanged(d,r,i)}});for(var h=o.jqxWatch.split("."),c=0;c<h.length;c++){if(h[c]in e(n).data().jqxWidget){d=h[c];break}if(h[c].toLowerCase()in e(n).data().jqxWidget){d=h[c].toLowerCase();break}}}var u={};if(u[d]=i,!v(a,e(n),u,i,r)){e(n).jqxProxy(u);var p=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&p&&p.propertyChanged&&p.propertyChanged(d,r,i)}}};if("watch"==d){delete f[d];x=s.$watch(o[r],x,!0);u.push(x)}else{x=s.$watch(o[r],x);u.push(x)}}}),""==n[0].id?(i==l[a]&&(l[a]=0),n[0].id=a+l[a]++):""!=n[0].id&&n[0].id==a+"0"&&(i==l[a]&&(l[a]=0),n[0].id=a+l[a]++),!e(n)[a])throw new Error("Missing required JavaScript references for: "+a);e.each(p,function(t,i){if("data"===t||"created"===t||"propertyChanged"===t)return!0;var r=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,n=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(i)&&!t.match(r))g[t]=i;else{if(t.match(r)&&!t.match(/(searchMode)/gi)){return f[t]=function(){var e=i.apply(this,arguments);return t.match(n)&&!/^\$(digest|apply)$/.test(s.$root.$$phase)&&s.$digest(),e},!0}"array"===e.type(i)&&"source"!==t?i=i.slice(0):"object"===e.type(i)&&"source"!==t&&(i=e.extend({},i)),f[t]=i}}),function(t,i,s,n,o,a){e.extend(e.jqx["_"+n].prototype,{definedInstance:function(){if(this.element&&this.element!==i[0])return!0;if(this.base&&this.base.element!==i[0])return!0;var l=this,d=function(i){e.each(a,function(s,r){l.addHandler(e(i),s,function(i){t.$parent?e.proxy(r,o)(i):r(i),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})});var n=s.$attr;if(e.each(s,function(o,a){if(o.indexOf("jqxOn")>=0){var d=n[o].substring(7),h=e.camelCase(d),c=a;l.addHandler(e(i),h,function(e){if(e.data=s.data||s.jqxData,c.indexOf("(")>=0){var i=c.indexOf("("),n=r(c.substring(0,i))(t);n?n(e):t.$emit(h,e)}else t.$emit(c,e);"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})}}),s.jqxInstance){var d=r(s.jqxInstance).assign;d&&d(t,l),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()}};d(i),"jqxPopover"==n&&setTimeout(function(){d(l.host)})}})}(s,n,o,a,c,g);var y=n[0];!function(s,n,o,a,l,c){if(o.jqxSettings){var u=r(o.jqxSettings)(s);u&&(u.apply?(d[l.$id+a+o.jqxSettings]||(d[l.$id+a+o.jqxSettings]=new Array),d[l.$id+a+o.jqxSettings].push(c)):(u.apply=u[a]=function(){var t=arguments,i=new Array;return 0==t.length||(e.each(d[l.$id+a+o.jqxSettings],function(s,r){i.push({widgetName:a,element:this,result:e.jqx.jqxWidgetProxy(a,this,t)})}),1==i.length?i[0].result:i)},u.digest=function(){/^\$(digest|apply)$/.test(s.$root.$$phase)||s.$digest()},u.refresh=function(c,p){var f={},g=e(n)[a]("getInstance");if(e.each(u,function(e,t){if("created"===e||"propertyChanged"===e||"data"==e||"refresh"==e||e==a||"apply"==e)return!0;var s=g.events||g._events;return!!(s&&s.indexOf(e)>=0||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||c!=i&&-1===c.indexOf(e)||void(f[e]=t)}),f!=={})if(p)e.each(f,function(e,t){u[e]=g[e]}),"$apply"!=s.$root.$$phase&&"$digest"!=s.$root.$$phase&&s.$apply();else if(e.each(d[l.$id+a+o.jqxSettings],function(t,i){e(this).jqxProxy(f)}),o.jqxWatchSettings!=i&&l){var x=r(o.jqxSettings)(l);e.each(x,function(i,r){if(i.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var n=g.events||g._events;if(n&&n.indexOf(i)>=0||i.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(i===a)return!0;if(!h[o.jqxSettings+"."+i]){var c=i,u=l.$watch(o.jqxSettings+"."+i,function(i,r){if(i!=r){if(t.equals(i,r))return;var n={};n[c]=i,e.each(d[l.$id+a+o.jqxSettings],function(t,s){v(a,e(this),n,i,r)||e(this).jqxProxy(n)});var h=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&h&&h.propertyChanged&&h.propertyChanged(c,r,i)}},!0);h[o.jqxSettings+"."+i]=u}})}m[n[0].id]&&(f={},e.each(m[n[0].id],function(){if(c!=i&&-1===c.indexOf(e.camelCase(this.value.substring(4))))return!0;if(f[e.camelCase(this.value.substring(4))]=s.$eval(this.label),p){var t=e.parse(this.label)(s).assign;t&&t(s,g[e.camelCase(this.value.substring(4))])}}),p?"$apply"!=s.$root.$$phase&&"$digest"!=s.$root.$$phase&&s.$apply():e.each(d[l.$id+a+o.jqxSettings],function(t,i){e(this).jqxProxy(f)}))},d[l.$id+a+o.jqxSettings]=new Array,d[l.$id+a+o.jqxSettings].push(c)))}}(s,n,o,a,c,y);e(n)[a](f);var b=e(n)[a]("getInstance");!function(s,n,o,a,l,d,c,u,p,m){if(o.jqxSettings){if(o.jqxWatchSettings!=i&&l){var f=r(o.jqxSettings)(l);e.each(f,function(i,r){if(i.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var d=u.events||u._events;if(d&&d.indexOf(i)>=0||i.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(i===a)return!0;if(p.hasOwnProperty(i)){var c=i,f=l.$watch(o.jqxSettings+"."+i,function(i,r){if(i!=r){if(t.equals(i,r))return;var l={};l[c]=i;var d=v(a,e(n),l,i,r);if(!d){e(n).jqxProxy(l);var h=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&h&&h.propertyChanged&&h.propertyChanged(c,r,i)}}},!0);h[o.jqxSettings+"."+i]=f,m.push(f)}})}var g=s.$watch(o.jqxSettings,function(r,d){var c={},p=!1;if(r!=d){if(t.equals(r,d))return;if(e.each(r,function(r,f){if("source"===r){if(null!=d.source)return!0;var g=x(s,n,o,f,l,m);c[r]=g}if("created"===r)return!0;if("propertyChanged"===r)return!0;if("data"===r)return s.$apply(),!0;var y=u.events||u._events;if(y&&y.indexOf(r)>=0||r.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;var b=function(d){if(o.jqxWatchSettings!=i&&l&&!h[o.jqxSettings+"."+d]){var d=r,c=l.$watch(o.jqxSettings+"."+d,function(i,r){if(i!=r){if(t.equals(i,r))return;var l={};l[d]=i;var h=v(a,e(n),l,i,r);if(!h){e(n).jqxProxy(l);var c=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&c&&c.propertyChanged&&c.propertyChanged(d,r,i)}}},!0);h[o.jqxSettings+"."+d]=c,m.push(c)}};f instanceof Object||null!=d&&f===d[r]?r!==a&&"apply"!==r&&"created"!==r&&"propertyChanged"!==r&&f instanceof Object&&(null==d||w(f)!==w(d[r])||""==w(f)&&""==w(d[r]))&&(c[r]=f,b(r),p=!0):(c[r]=f,b(r),p=!0)}),c!=={}&&p){var f=v(a,e(n),c,r,d);if(!f){e(n).jqxProxy(c);var g=t.extend({},s.$eval(o.jqxSettings));o.jqxSettings&&g&&g.propertyChanged&&g.propertyChanged(0,d,r)}}}});m.push(g)}}(s,n,o,a,c,0,0,b,f,u);var _=s.$on("$destroy",function(){b&&b.destroy&&!b.isDestroyed?(b.isDestroyed=!0,e(n).parents().length>0&&e(n)[a]("destroy"),b=null):(e(n).remove(),b=null);for(var t=0;t<u.length;t++)u[t]();f=[],g=[],_()});return b}function b(t,s,r,n){var o=t[0].nodeName.toLowerCase(),a=e(t).parent(),d=e(t).html(),h=!(!a||!a[0]||"ng-include"!=a[0].nodeName.toLowerCase());if(e(t).parents("[ui-view]").length>0&&(h=!0),!h||s){var c='<div id="jqx-ngwidget">'+d+"</div>";if(o.indexOf("jqx")>=0){var u=t[0].attributes,p=t;if(o.indexOf("input")>=0)o.indexOf("date")>=0||o.indexOf("number")>=0?e(t).replaceWith('<div id="jqx-ngwidget"></div>'):o.indexOf("password")>=0?e(t).replaceWith('<input id="jqx-ngwidget" type="password"/>'):e(t).replaceWith('<input id="jqx-ngwidget"/>');else if(o.indexOf("jqx-button")>=0&&-1==o.indexOf("jqx-button-group"))e(t).replaceWith('<button id="jqx-ngwidget">'+d+"</button>");else if(o.indexOf("jqx-toggle-button")>=0)e(t).replaceWith('<button id="jqx-ngwidget">'+d+"</button>");else if(o.indexOf("jqx-link-button")>=0)if(e(t).find("a").length>0){var f=e(t).find("a");f.attr("id","jqx-ngwidget"),e(t).replaceWith(f)}else e(t).replaceWith('<a id="jqx-ngwidget">'+d+"</a>");else if(o.indexOf("jqx-data-table")>=0||o.indexOf("jqx-grid")>=0)e(t).find("tr").length>0?e(t).replaceWith('<div id="jqx-ngwidget">'+d+"</div>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(o.indexOf("jqx-list-box")>=0||o.indexOf("jqx-drop-down-list")>=0||o.indexOf("jqx-combo-box")>=0)e(t).find("option").length>0?e(t).replaceWith('<select id="jqx-ngwidget">'+d+"</select>"):e(t).find("li").length>0?e(t).replaceWith('<ul id="jqx-ngwidget">'+d+"</ul>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(o.indexOf("jqx-list-menu")>=0)e(t).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+d+"</ul>");else if(o.indexOf("jqx-tooltip")>=0){var g=e(t).children();g.detach(),e(g).insertAfter(e(t)),e.each(u,function(){e(g)[0]&&e(g)[0].setAttribute(this.name,this.value)}),e(t).remove(),t=g}else e(t).replaceWith(c);p=a.find("#jqx-ngwidget").removeAttr("id"),e.each(u,function(){e(p)[0]&&e(p)[0].setAttribute(this.name,this.value)})}var v=t[0];p&&p.length&&(v=p[0]);return""==v.id&&(i==l[n]&&(l[n]=0),v.id=n+l[n]++),e.each(r,function(e,t){e!==n&&"jqxNgModel"!=e&&-1==e.indexOf("jqxOn")&&"jqxData"!=e&&"jqxWatchSettings"!=e&&"jqxCreated"!=e&&"jqxSource"!=e&&"jqxCreate"!=e&&"jqxSettings"!=e&&e.indexOf("jqx")>=0&&(m[v.id]||(m[v.id]=new Array),m[v.id].push({label:e,value:r.$attr[e]}))}),e(v)}e(t).attr("data-jqx-ng-include",!0)}function _(t){var l=function(s,l,d,h,m){if(e(l).attr("data-jqx-ng-include")){e(l).removeAttr("data-jqx-ng-include");var v=e(l.children()).detach();(l=b(l,!0,d,t)).append(v),a(l)(s);var x=!0;for(var w in d)if(-1!=w.toString().indexOf("jqx")&&(s[d[w]]!=i&&(x=!1),d[w].split(".").length>1))for(var _=d[w].split("."),j=0;j<_.length;j++)s[_[j]]!=i&&(x=!1);x&&d.jqxSettings&&(r(d.jqxSettings)(s)||(x=!1)),x&&(s=s.$parent)}if(e.jqx.AMD){var q={};p[t]=!1,q.documentReady=!1,function(t,s){!function(t){s.filesCount=0;var r=t.length;if(t.scripts){var n=t.scripts.length;for(var o in t.deps)n++,n+=t.deps[o].length;r=n}var a=function(t,n){var o=0,a=0,l=function(){var d=t[o];if(0===e('script[src*="'+d+'"]').length){var h=document.getElementsByTagName("head")[0],p=document.createElement("script");p.type="text/javascript";var m=function(){if(s.filesCount++,a++,u[d]=!1,c[d]!=i&&e.each(c[d],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),c[d]=!0,s.filesCount==r)return s.documentReady=!0,void(s.scriptsLoaded&&s.scriptsLoaded());a===t.length&&n&&n()};p.addEventListener?p.addEventListener("load",m,!1):window.attachEvent&&p.attachEvent("onreadystatechange",function(){"complete"!=p.readyState&&"loaded"!=p.readyState||m()}),u[d]=!0;var f=g;"globalize.js"==d&&(f=g+"globalization/"),p.src=f+d,h.appendChild(p),++o<t.length&&l()}else{if(s.filesCount++,s.filesCount==r)return!0===c[d]||u[d]===i?(s.documentReady=!0,void(s.scriptsLoaded&&s.scriptsLoaded())):(c[d]==i&&(c[d]=new Array),void c[d].push(s));++o<t.length&&l(),++a===t.length&&n&&n()}};l()};t.scripts?(a(t.scripts),e.each(t.deps,function(e,t){var i=new Array;i.push(e),a(i,function(){a(t)})})):a(t)}({jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxPivotGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxdragdrop","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxpivotgrid.js":["jqxpivot.js","jqxpivotdesigner"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]}[t])}(t,q)}var T=l[0].style.visibility,C=l[0].style.display;l[0].style.visibility="hidden",l[0].style.display="none";var S=s,k=o(function(){o.cancel(k),k=i;var a=function(){var a=h[0];l[0].style.visibility=T,l[0].style.display=C;var c=y(s,l,d,t,S),u=(t.toLowerCase(),t.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),p={element:l[0],name:t,instance:e(l).data().jqxWidget,id:l[0].id,scope:s},m=function(){s.$emit(t+"Created",p),d.jqxSettings&&r(d.jqxSettings)(s)&&r(d.jqxSettings)(s).created&&n(function(){(0,r(d.jqxSettings)(s).created)(p)}),d.jqxCreated&&n(function(){r(d.jqxCreated)(s)(p)})};if("jqxGrid"===t||"jqxDataTable"===t)var f=0,g=o(function(){e(l).data().jqxWidget?(e(l).data().jqxWidget.initializedcall||25==f)&&(o.cancel(g),g=i,m()):(o.cancel(g),g=i),f++},100);else m();n(function(){if(a){if(a.$render=function(){var r=a.$viewValue;if(r===i&&(r=a.$modelValue),"jqxRadioButton"!==t)return"jqxCheckBox"===t?(s.$eval(e(l).attr("ng-true-value"))==a.$viewValue&&e(l).val(!0),void(s.$eval(e(l).attr("ng-false-value"))==a.$viewValue?e(l).val(!1):e(l).val(a.$viewValue))):void(r!=e(l).val()&&n(function(){e(l).val(r)}));s.$eval(e(l).attr("value"))==a.$viewValue?e(l).val(!0):"true"==s.$eval(e(l).attr("value"))&&1==a.$viewValue?e(l).val(!0):e(l).val(!1)},"jqxRadioButton"===t)s.$eval(e(l).attr("value"))==a.$viewValue?e(l).val(!0):"true"==s.$eval(e(l).attr("value"))&&1==a.$viewValue?e(l).val(!0):e(l).val(!1);else if("jqxCheckBox"===t)s.$eval(e(l).attr("ng-true-value"))==a.$viewValue&&e(l).val(!0),s.$eval(e(l).attr("ng-false-value"))==a.$viewValue?e(l).val(!1):e(l).val(a.$viewValue);else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t)if(d.jqxNgModel!=i){var r=e(l).data().jqxWidget;"jqxInput"!=t?r.valueMember?r.selectItem(a.$viewValue[r.valueMember]):r.displayMember?r.selectItem(a.$viewValue[r.displayMember]):e(l).val(a.$viewValue):e(l).val(a.$viewValue)}else e(l).val(a.$viewValue);else if("jqxDateTimeInput"===t||"jqxCalendar"===t)if(d.jqxNgModel!=i)"range"==(r=e(l).data().jqxWidget).selectionMode?r.setRange(a.$viewValue):r.setDate(a.$viewValue);else e(l).val(a.$viewValue);else if("jqxToggleButton"==t)(r=e(l).data().jqxWidget).toggled=!0,r.refresh();else e(l).val(a.$viewValue);if(u){var o,h="keyup change";"jqxScrollBar"==t&&(h="valueChanged"),"jqxToggleButton"==t&&(h="keyup click"),"jqxInput"==t&&(h="keyup change select");var p=c.host;!p&&c.base&&(p=c.base.host),e(p).on(h,function(r){var h=r.args;o&&n.cancel(o),o=n(function(){if("jqxRadioButton"===t)h&&"api"!=h.type&&a.$setViewValue(s.$eval(e(l).attr("value")));else if("jqxCheckBox"===t)e(l).attr("ng-true-value")!=i&&h.checked?a.$setViewValue(e(l).attr("ng-true-value")):e(l).attr("ng-false-value")==i||h.checked?a.$setViewValue(e(l).val()):a.$setViewValue(e(l).attr("ng-false-value"));else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t){var r=e(l).val();if(d.jqxNgModel!=i)(n=e(l).data().jqxWidget).getSelectedItem&&(r=n.getSelectedItem()).originalItem&&(r=r.originalItem),"jqxInput"!==t&&"jqxTextArea"!==t||(r=n.selectedItem),a.$setViewValue(r);else a.$setViewValue(r)}else{if("jqxDateTimeInput"===t||"jqxCalendar"===t)if(d.jqxNgModel!=i)"range"==(n=e(l).data().jqxWidget).selectionMode?a.$setViewValue(n.getRange()):a.$setViewValue(n.getDate());else if("date"===e.type(a.$viewValue))"range"==(n=e(l).data().jqxWidget).selectionMode?a.$setViewValue(n.getRange()):a.$setViewValue(n.getDate());else a.$setViewValue(e(l).val());else if("jqxToggleButton"==t){var n=e(l).data().jqxWidget;a.$setViewValue(n.toggled)}else a.$setViewValue(e(l).val())}s.$emit(t+"ModelChange",a.$viewValue)})})}}})};if(d.ngShow===i||d.jqxCreate!==i){var c=function(){if(null!=d.jqxCreate||null!=d.jqxCreate)if(!0===d.jqxCreate||null!==d.jqxCreate&&"object"==e.type(d.jqxCreate))a();else var t=s.$watch(d.jqxCreate,function(e,i){"number"==typeof e?(n(a,e),t()):e&&(a(),t())});else a()};if(e.jqx.AMD){var u=function(){var t=!0;for(var i in p)if(!p[i]){t=!1;break}if(t)for(var i in f||(s.$emit("jQWidgetsScriptsLoaded"),f=!0),p)e.each(p[i],function(){this()}),p[i]=new Array};if(q.documentReady){var m={element:l[0],name:t,scope:s};s.$emit(t+"ScriptsLoaded",m),p[t]||(p[t]=new Array),p[t].push(c),u()}else q.scriptsLoaded=function(){var e={element:l[0],name:t,scope:s};s.$emit(t+"ScriptsLoaded",e),p[t]||(p[t]=new Array),p[t].push(c),u()}}else c()}else var g=s.$watch(d.ngShow,function(e,t){e&&(a(),g())})})};s.directive(t,["$timeout","$interval","$parse","$compile","$log",function(e,i,s,d,h){return n=e,o=i,r=s,a=d,h,{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(e,i){b(e,!1,i,t),this.scope},controller:["$scope","$attrs","$element","$transclude",function(e,t,i,s){}],compile:function(e,t,i){return{pre:function(e,t,i,s,r){},post:function(e,t,i,s,r){l(e,t,i,s)}}},link:l}}])}}(jqxBaseFramework,window.angular);try{!function(e,t){t.jqwidgets=t.jqwidgets||{},t.jqwidgets.knockout=function(i){var s={},r=i.name;s.init=function(s,n,o,a){var l=t.utils.unwrapObservable(n()),d=t.toJS(l);if(i.reset&&i.reset(),null==e.data(s)[r]){var h=[];e(s)[r](),widget=e.data(s)[r].instance,e.each(i,function(e,s){if(widget.hasOwnProperty(e)&&d.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var r=!1;i.serialize&&i.serialize(widget,e)&&(t.toJSON(d[e])!=t.toJSON(i.serialize(widget,e))&&i.setProperty(widget,e,widget[e],d[e]),r=!0),r||t.toJSON(d[e])!=t.toJSON(widget[e])&&i.setProperty(widget,e,widget[e],d[e])}catch(t){i.setProperty(widget,e,widget[e],d[e])}h[e]=e,widget.koupdatingFromObservable=!1}});var c={};e.each(d,function(e,t){null==h[e]&&(c[e]=d[e])}),widget.host[r](c)}widget=e.data(s)[r].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,i.events&&e.each(i.events,function(){var o=this;e(s).on(o+"."+s.id,function(a){if(widget=e.data(s)[r].instance,!widget.koupdatingFromObservable){var d=widget;d.koupdating=!0;var h=n(),c=i.getProperty(widget,a,o,l);null!=c&&(h.hasOwnProperty(c.name)&&e.isFunction(h[c.name])?t.isObservable(h[c.name])&&h[c.name].push?n(c.value):h[c.name](c.value):h[c.name]&&n(c.value)),d.koupdating=!1}})})},s.update=function(s,n,o,a,l){var d=t.utils.unwrapObservable(n()),h=t.toJS(d);widget=e.data(s)[r].instance,widget.koupdating||e.each(i,function(e,s){if(widget.hasOwnProperty(e)&&h.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;var r=!1;i.serialize&&i.serialize(widget,e)&&(t.toJSON(h[e])!=t.toJSON(i.serialize(widget,e))&&i.setProperty(widget,e,widget[e],h[e]),r=!0),r||t.toJSON(h[e])!=t.toJSON(widget[e])&&i.setProperty(widget,e,widget[e],h[e]),widget.koupdatingFromObservable=!1}})},t.bindingHandlers[i.name]=s};new t.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxGauge({disabled:s}),"min"==t&&e.host.jqxGauge({min:s}),"max"==t&&e.host.jqxGauge({max:s}),"value"==t&&e.host.jqxGauge({value:s})}}),new t.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxLinearGauge({disabled:s}),"min"==t&&e.host.jqxLinearGauge({min:s}),"max"==t&&e.host.jqxLinearGauge({max:s}),"value"==t&&e.host.jqxLinearGauge({value:s})}}),new t.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:t.args.value}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxSlider({disabled:s}),"min"==t&&e.host.jqxSlider({min:parseFloat(s)}),"max"==t&&e.host.jqxSlider({max:parseFloat(s)}),"value"==t&&e.host.jqxSlider({value:parseFloat(s)})}}),new t.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxScrollBar({disabled:s}),"min"==t&&e.host.jqxScrollBar({min:parseFloat(s)}),"max"==t&&e.host.jqxScrollBar({max:parseFloat(s)}),"value"==t&&e.host.jqxScrollBar({value:parseFloat(s)})}}),new t.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxProgressBar({disabled:s}),"value"==t&&e.host.jqxProgressBar({value:parseFloat(s)})}}),new t.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxButton({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxCheckBox({disabled:s}),"checked"==t&&i!=s&&e.host.jqxCheckBox({checked:s})}}),new t.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxRadioButton({disabled:s}),"checked"==t&&i!=s&&e.host.jqxRadioButton({checked:s})}}),new t.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxDateTimeInput({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxCalendar({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxNumberInput("val",s),"disabled"==t&&e.host.jqxNumberInput({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxMaskedInput("val",s),"disabled"==t&&e.host.jqxMaskedInput({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return this.selectedIndex=e.selectedIndex,{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){if("source"==t&&(e.source=s,e.refresh()),"disabled"==t&&(e.disabled=s,e._renderItems()),"selectedIndex"==t){var r=e.disabled;e.disabled=!1,e.selectIndex(s),e.disabled=r,r&&e._renderItems()}}}),new t.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxDropDownList({source:s}),"disabled"==t&&e.host.jqxDropDownList({disabled:s}),"selectedIndex"==t&&e.host.jqxDropDownList({selectedIndex:s})}}),new t.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComboBox({source:s}),"disabled"==t&&e.host.jqxComboBox({disabled:s}),"selectedIndex"==t&&e.host.jqxComboBox({selectedIndex:s})}}),new t.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxInput({source:s}),"disabled"==t&&e.host.jqxInput({disabled:s}),"value"==t&&e.host.jqxInput({value:s})}}),new t.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComplexInput({source:s}),"disabled"==t&&e.host.jqxComplexInput({disabled:s}),"value"==t&&e.host.jqxComplexInput({value:s})}}),new t.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxFormattedInput({source:s}),"disabled"==t&&e.host.jqxFormattedInput({disabled:s}),"value"==t&&e.host.jqxFormattedInput({value:s})}}),new t.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxPasswordInput({source:s}),"disabled"==t&&e.host.jqxPasswordInput({disabled:s}),"value"==t&&e.host.jqxPasswordInput({value:s})}}),new t.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxTree({source:s}),"disabled"==t&&e.host.jqxTree({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxTabs({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t?e.host.jqxWindow({disabled:s}):"content"==t?e.host.jqxWindow("setContent",s):"title"==t&&e.host.jqxWindow({title:s})}}),new t.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&s!=this.disabled&&(this.disabled=s,e.host.jqxNavigationBar({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxMenu({source:s}),"disabled"==t&&e.host.jqxMenu({disabled:s})}}),new t.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxChart({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxChart({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxDataTable({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxDataTable({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxTreeGrid({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxTreeGrid({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"value"==t&&(this.value=s,e.host.jqxKnob({value:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKnob({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxScheduler({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxScheduler({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxKanban({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKanban({disabled:s}))}}),new t.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(e,t){return!("source"!=t||!e.source||!e.source._source)&&e.source.records},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(i,s,r,n){if("cellvaluechanged"==r){var o=i.host.jqxGrid("getrowid",s.args.rowindex),a=i.host.jqxGrid("getrowdata",o),l=n.source;if(null!=l){var d={},h={},c=!1,u=!1;return l()[o]&&e.each(l()[o],function(e,i){d[e]=i,h[e]="",t.isObservable(i)&&!t.isComputed(i)&&(c=!0,i(a[e])),t.isObservable(i)&&t.isComputed(i)&&(u=!0)}),c?(d=a,l.replace&&l.replace(l()[o],d)):(d=a,l.replace&&(l.replace(l()[o],h),l.replace(l()[o],d))),u&&i.host.jqxGrid("updaterow",o,t.toJS(l)[o]),{name:"source",value:l}}}},setProperty:function(i,s,r,n){if("selectedRowIndex"==s&&i.host.jqxGrid("selectrow",n),"source"==s)if(null==this.source||null==n){if(this.source!=n){this.source=n;var o={localdata:n,datatype:"local"},a=new e.jqx.dataAdapter(o);i.host.jqxGrid({source:a})}}else{o={localdata:n,datatype:"local"};if((a=new e.jqx.dataAdapter(o)).dataBind(),!r.records||!a.records)return;var l=Math.max(r.records.length,a.records.length),d=Math.abs(r.records.length-a.records.length);if(0==d&&l>10)return void i.host.jqxGrid({source:a});d>1&&i.host.jqxGrid("beginupdate");for(var h=new Array,c=0;c<l;c++){var u=a.records[c];if(null==u){var p=i.host.jqxGrid("getrowid",c);h.push(p)}else{if(null!=r.records[c]){if(t.toJSON(u)!=t.toJSON(r.records[c])){if(null!=r.records[c].uid&&(u.uid=r.records[c].uid,t.toJSON(u)==t.toJSON(r.records[c])))continue;p=i.host.jqxGrid("getrowid",c);i.host.jqxGrid("updaterow",p,u)}}else i.host.jqxGrid("addrow",null,u)}}h.length>0&&i.host.jqxGrid("deleterow",h),d>1&&i.host.jqxGrid("endupdate")}"disabled"==s&&i.host.jqxGrid({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"pointer"==t&&e.host.jqxBulletChart({pointer:s}),"target"==t&&e.host.jqxBulletChart({target:s}),"disabled"==t&&e.host.jqxBulletChart({disabled:s})}})}(jqxBaseFramework,ko)}catch(e){var er=e}