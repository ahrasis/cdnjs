"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const d3_selection_1=require("d3-selection"),d3_color_1=require("d3-color"),utils_1=__importDefault(require("../utils")),evaluate_1=__importDefault(require("../evaluate"));function scatter(u){const n=u.meta.xScale,s=u.meta.yScale;return function(t){t.each(function(t){let e,r;var l=t.index;const o=utils_1.default.color(t,l);var a=evaluate_1.default(u,t);const c=[];for(e=0;e<a.length;e+=1)for(r=0;r<a[e].length;r+=1)c.push(a[e][r]);const i=d3_selection_1.select(this).selectAll(":scope > circle").data(c);l=i.enter().append("circle");i.merge(l).attr("fill",d3_color_1.hsl(o.toString()).brighter(1.5).hex()).attr("stroke",o).attr("opacity",.7).attr("r",1).attr("cx",function(t){return n(t[0])}).attr("cy",function(t){return s(t[1])}).attr(t.attr),i.exit().remove()})}}exports.default=scatter;