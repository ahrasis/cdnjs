export function getExtension(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");const t=e.split("?")[0],n=t?t.split("\\"):null,p=n?n.pop():null,i=p?p.split("/"):null,o=i?i.pop():null;return o&&o.indexOf(".")>-1?o.substring(o.lastIndexOf(".")+1):""};export function isHlsSource(e){return/\.m3u8$/i.test(e.src)||["application/x-mpegURL","application/vnd.apple.mpegurl"].indexOf(e.type)>-1};export function isM3USource(e){return/\.m3u$/i.test(e.src)};export function isDashSource(e){return/\.mpd/i.test(e.src)||"application/dash+xml"===e.type};export function predictType(e){const t=getExtension(e);let n;if(!t)return"video/mp4";switch(t){case"m3u8":case"m3u":n="application/x-mpegURL";break;case"mpd":n="application/dash+xml";break;case"mp3":n="audio/mp3";break;case"webm":n="video/webm";break;default:n="video/mp4"}return n};export function isAutoplaySupported(e,t,n,p){const i=e.play();void 0!==i?i.then(()=>(e.pause(),t(!0),n(!1),p())).catch(()=>{e.volume=0,e.muted=!0,e.play().then(()=>(e.pause(),t(!0),n(!0),p())).catch(()=>{e.volume=1,e.muted=!1,t(!1),n(!1),p()})}):(t(!e.paused||"Promise"in window&&i instanceof Promise),e.pause(),n(!1),p())};