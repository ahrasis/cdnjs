"use strict";class _ZZFX{constructor(){this.x=this.CreateAudioContext(),this.volume=.3,this.sampleRate=44100,this.samples=0}Play(t){var a=t&&"object"==typeof t?this.SoundToArray(t):arguments;return a=this.BuildSamples(...a),this.PlaySamples(a)}PlaySamples(t){const a=this.x.createBuffer(1,t.length,this.sampleRate),n=this.x.createBufferSource();return a.getChannelData(0).set(t),n.buffer=a,n.connect(this.x.destination),n.start(),this.samples=t,n}BuildSamples(t=1,a=.05,n=220,e=0,r=0,o=.1,h=0,s=1,d=0,m=0,i=0,u=0,M=0,l=0,c=0,p=0,f=0,S=0){const x=2*Math.PI;var B=this.sampleRate;const y=d*=500*x/B**2,C=(0<c?1:-1)*x/4;a=n*=(1+a*(2*Math.random()-1))*x/B,e=99+e*B|0,r=r*B|0,o=o*B|0,f=f*B|0,m*=500*x/B**3,c*=x/B,i*=x/B,u*=B,M*=B,B=Math.max(1,Math.min(e+r+o+f,10*B));let Z=[],b=0,v=0,A=0,P=1,F=0,R=0,T=0;for(;A<B;Z[A++]=T)++R>100*p&&(R=0,T=b*n*Math.sin(v*c-C),T=(0<(T=h?1<h?2<h?3<h?Math.sin((T%x)**3):Math.max(Math.min(Math.tan(T),1),-1):1-(2*T/x%2+2)%2:1-4*Math.abs(Math.round(T/x)-T/x):Math.sin(T))?1:-1)*Math.abs(T)**s,T*=t*this.volume*(A<e?A/e:A<e+r?1+(e-A)*S/r:A<B-f?(1-(A-e-r)/o)*(1-S):0),T=f?T/2+(f>A?0:(A<B-f?1:(A-B)/f)*Z[A-f]/2):T),b+=1+l*(2*Math.random()-1),v+=1+l*(2*Math.random()-1),n+=d+=m,P&&++P>u&&(n+=i,a+=i,P=0),M&&++F>M&&(n=a,d=y,F=1,P=P||1);return Z}BuildRandomSound(){const t=Math.random()**3,a=Math.random()**3,n=Math.random()**3,e=t+a+n;return this.BuildSound(1,.05,2e3*Math.random()**2,t,a,n,5*Math.random()|0,3*Math.random()**2,(.5>Math.random())*Math.random()**3*99*(.5>Math.random()?1:-1),(.5>Math.random())*Math.random()**3*99*(.5>Math.random()?1:-1),(.5>Math.random())*Math.random()**2*1e3*(.5>Math.random()?1:-1),Math.random()**2*e,(.5>Math.random())*Math.random()*e,(.5>Math.random())*Math.random()**4,(.5>Math.random())*Math.random()**3*9*(.5>Math.random()?1:-1),(.5>Math.random())*Math.random()**4,(.5>Math.random())*Math.random()**3/2,(.5>Math.random())*Math.random())}BuildSound(t=1,a=.05,n=220,e=0,r=0,o=.1,h=0,s=1,d=0,m=0,i=0,u=0,M=0,l=0,c=0,p=0,f=0,S=0){return{volume:t,randomness:a,frequency:n,attack:e,sustain:r,release:o,shape:h,shapeCurve:s,slide:d,deltaSlide:m,pitchJump:i,pitchJumpTime:u,repeatTime:M,noise:l,modulation:c,bitCrush:p,delay:f,deltaSustain:S}}GetNote(t=440,a=0){return t*2**(a/12)}SoundToArray(t){const a=this.BuildSound(),n=[];for(const e in a)n.push(t[e]);return n}CreateAudioContext(){const t=new(AudioContext||webkitAudioContext);return t.a=t.createBufferSource,t.createBufferSource=((a=t.a())=>(a.start=a.start||a.noteOn,a.stop=a.stop||a.noteOff,a)),t}}const ZZFX=new _ZZFX;function zzfx(){return ZZFX.Play(...arguments)}