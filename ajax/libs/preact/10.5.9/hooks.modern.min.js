import{options as n}from"preact";let t,o,c,u=0,i=[],r=n.__b,e=n.__r,f=n.diffed,s=n.__c,a=n.unmount;function l(_,t){n.__h&&n.__h(o,_,u||t),u=0;const e=o.__H||(o.__H={__:[],__h:[]});return _>=e.__.length&&e.__.push({}),e.__[_]}function m(_){return u=1,p(z,_)}function p(_,n,e){const u=l(t++,2);return u.t=_,u.__c||(u.__=[e?e(n):z(void 0,n),_=>{const n=u.t(u.__[0],_);u.__[0]!==n&&(u.__=[n,u.__[1]],u.__c.setState({}))}],u.__c=o),u.__}function y(_,e){const u=l(t++,3);!n.__s&&w(u.__H,e)&&(u.__=_,u.__H=e,o.__H.__h.push(u))}function h(_,e){const u=l(t++,4);!n.__s&&w(u.__H,e)&&(u.__=_,u.__H=e,o.__h.push(u))}function _(_){return u=5,v(()=>({current:_}),[])}function d(_,n,t){u=6,h(()=>{"function"==typeof _?_(n()):_&&(_.current=n())},null==t?t:t.concat(_))}function v(_,n){const o=l(t++,7);return w(o.__H,n)&&(o.__=_(),o.__H=n,o.__h=_),o.__}function A(_,n){return u=8,v(()=>_,n)}function F(_){const n=o.context[_.__c],e=l(t++,9);return e.__c=_,n?(null==e.__&&(e.__=!0,n.sub(o)),n.props.value):_.__}function T(_,t){n.useDebugValue&&n.useDebugValue(t?t(_):_)}function q(_){const n=l(t++,10),e=m();return n.__=_,o.componentDidCatch||(o.componentDidCatch=(_=>{n.__&&n.__(_),e[1](_)})),[e[0],()=>{e[1](void 0)}]}function x(){i.forEach(_=>{if(_.__P)try{_.__H.__h.forEach(j),_.__H.__h.forEach(k),_.__H.__h=[]}catch(t){_.__H.__h=[],n.__e(t,_.__v)}}),i=[]}n.__b=(_=>{o=null,r&&r(_)}),n.__r=(_=>{e&&e(_),o=_.__c,t=0;const n=o.__H;n&&(n.__h.forEach(j),n.__h.forEach(k),n.__h=[])}),n.diffed=(_=>{f&&f(_);const t=_.__c;t&&t.__H&&t.__H.__h.length&&(1!==i.push(t)&&c===n.requestAnimationFrame||((c=n.requestAnimationFrame)||g)(x)),o=void 0}),n.__c=((_,t)=>{t.some(_=>{try{_.__h.forEach(j),_.__h=_.__h.filter(_=>!_.__||k(_))}catch(o){t.some(_=>{_.__h&&(_.__h=[])}),t=[],n.__e(o,_.__v)}}),s&&s(_,t)}),n.unmount=(_=>{a&&a(_);const t=_.__c;if(t&&t.__H)try{t.__H.__.forEach(j)}catch(_){n.__e(_,t.__v)}});let b="function"==typeof requestAnimationFrame;function g(_){const n=()=>{clearTimeout(t),b&&cancelAnimationFrame(o),setTimeout(_)},t=setTimeout(n,100);let o;b&&(o=requestAnimationFrame(n))}function j(_){const n=o;"function"==typeof _.__c&&_.__c(),o=n}function k(_){const n=o;_.__c=_.__(),o=n}function w(_,n){return!_||_.length!==n.length||n.some((n,t)=>n!==_[t])}function z(_,n){return"function"==typeof n?n(_):n}export{A as useCallback,F as useContext,T as useDebugValue,y as useEffect,q as useErrorBoundary,d as useImperativeHandle,h as useLayoutEffect,v as useMemo,p as useReducer,_ as useRef,m as useState};