!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("shifty",[],n):"object"==typeof exports?exports.shifty=n():t.shifty=n()}(global,function(){return r={},i.m=e=[function(t,n,e){"use strict";var c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(t){return n[t]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,n){for(var e,r,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var o in e=Object(arguments[u]))s.call(e,o)&&(i[o]=e[o]);if(c){r=c(e);for(var a=0;a<r.length;a++)f.call(e,r[a])&&(i[r[a]]=e[r[a]])}}return i}},function(t,n,e){"use strict";e.r(n),e.d(n,"processTweens",function(){return yt}),e.d(n,"Tweenable",function(){return gt}),e.d(n,"tween",function(){return wt}),e.d(n,"interpolate",function(){return Ht}),e.d(n,"Scene",function(){return tn}),e.d(n,"setBezierFunction",function(){return en}),e.d(n,"unsetBezierFunction",function(){return rn});var r={};e.r(r),e.d(r,"linear",function(){return u}),e.d(r,"easeInQuad",function(){return o}),e.d(r,"easeOutQuad",function(){return a}),e.d(r,"easeInOutQuad",function(){return s}),e.d(r,"easeInCubic",function(){return f}),e.d(r,"easeOutCubic",function(){return l}),e.d(r,"easeInOutCubic",function(){return h}),e.d(r,"easeInQuart",function(){return p}),e.d(r,"easeOutQuart",function(){return d}),e.d(r,"easeInOutQuart",function(){return _}),e.d(r,"easeInQuint",function(){return y}),e.d(r,"easeOutQuint",function(){return v}),e.d(r,"easeInOutQuint",function(){return g}),e.d(r,"easeInSine",function(){return m}),e.d(r,"easeOutSine",function(){return b}),e.d(r,"easeInOutSine",function(){return w}),e.d(r,"easeInExpo",function(){return S}),e.d(r,"easeOutExpo",function(){return O}),e.d(r,"easeInOutExpo",function(){return j}),e.d(r,"easeInCirc",function(){return k}),e.d(r,"easeOutCirc",function(){return M}),e.d(r,"easeInOutCirc",function(){return P}),e.d(r,"easeOutBounce",function(){return E}),e.d(r,"easeInBack",function(){return x}),e.d(r,"easeOutBack",function(){return T}),e.d(r,"easeInOutBack",function(){return F}),e.d(r,"elastic",function(){return I}),e.d(r,"swingFromTo",function(){return A}),e.d(r,"swingFrom",function(){return C}),e.d(r,"swingTo",function(){return q}),e.d(r,"bounce",function(){return D}),e.d(r,"bouncePast",function(){return Q}),e.d(r,"easeFromTo",function(){return N}),e.d(r,"easeFrom",function(){return B}),e.d(r,"easeTo",function(){return R});var i={};e.r(i),e.d(i,"doesApply",function(){return Rt}),e.d(i,"tweenCreated",function(){return zt}),e.d(i,"beforeTween",function(){return Lt}),e.d(i,"afterTween",function(){return Ut});var n=e(0),c=e.n(n),u=function(t){return t},o=function(t){return Math.pow(t,2)},a=function(t){return-(Math.pow(t-1,2)-1)},s=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},f=function(t){return Math.pow(t,3)},l=function(t){return Math.pow(t-1,3)+1},h=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},p=function(t){return Math.pow(t,4)},d=function(t){return-(Math.pow(t-1,4)-1)},_=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},y=function(t){return Math.pow(t,5)},v=function(t){return Math.pow(t-1,5)+1},g=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},m=function(t){return 1-Math.cos(t*(Math.PI/2))},b=function(t){return Math.sin(t*(Math.PI/2))},w=function(t){return-.5*(Math.cos(Math.PI*t)-1)},S=function(t){return 0===t?0:Math.pow(2,10*(t-1))},O=function(t){return 1===t?1:1-Math.pow(2,-10*t)},j=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},k=function(t){return-(Math.sqrt(1-t*t)-1)},M=function(t){return Math.sqrt(1-Math.pow(t-1,2))},P=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},E=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},x=function(t){return t*t*(2.70158*t-1.70158)},T=function(t){return--t*t*(2.70158*t+1.70158)+1},F=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},I=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},A=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},C=function(t){return t*t*(2.70158*t-1.70158)},q=function(t){return--t*t*(2.70158*t+1.70158)+1},D=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},Q=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},N=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},B=function(t){return Math.pow(t,4)},R=function(t){return Math.pow(t,.25)};function z(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(){lt&&(st.call(ot,V,1e3/60),yt())}function W(t,n,e){var r=1<arguments.length&&void 0!==n?n:"linear",i=2<arguments.length&&void 0!==e?e:{};if("string"===(e=U(r))||"function"===e)for(var u in t)i[u]=r;else for(var o in t)i[o]=r[o]||"linear";return i}var $,G,H,J,K,X,Y,Z,tt,nt,et,rt,it,ut,ot="undefined"!=typeof window?window:global,at="afterTween",ct="beforeTween",st=ot.requestAnimationFrame||ot.webkitRequestAnimationFrame||ot.oRequestAnimationFrame||ot.msRequestAnimationFrame||ot.mozCancelRequestAnimationFrame&&ot.mozRequestAnimationFrame||setTimeout,ft=function(){},lt=null,ht=null,pt=c()({},r),dt=function(t,n,e,r,i,u,o){for(G in $=t<u?0:(t-u)/i,n)J=o[G],H=J.call?J:pt[J],J=e[G],n[G]=J+(r[G]-J)*H($);return n},_t=function(t,n){K=t._duration,X=t._timestamp,nt=t._currentState,et=t._targetState,rt=t._delay,tt=K-((Y=X+rt+K)-(Z=Y<n?Y:n)),Y<=Z?(t._render(et,t._data,tt),t.stop(!0)):(t._applyFilter(ct),Z<X+rt?X=K=Z=1:X+=rt,dt(Z,nt,t._originalState,et,K,X,t._easing),t._applyFilter(at),t._render(nt,t._data,tt))},yt=function(t,n,e){return function(){for(t=gt.now(),n=lt;n;)e=n._next,_t(n,t),n=e}()},vt=function(t){t===lt?(lt=t._next)?lt._previous=null:ht=null:t===ht?(ht=t._previous)?ht._next=null:lt=null:(it=t._previous,ut=t._next,(it._next=ut)._previous=it),t._previous=t._next=null},gt=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),L(this,"_config",{}),L(this,"_data",{}),L(this,"_filters",[]),L(this,"_next",null),L(this,"_previous",null),L(this,"_timestamp",null),L(this,"_resolve",null),L(this,"_reject",null),L(this,"_currentState",{}),L(this,"_originalState",{}),L(this,"_targetState",{}),L(this,"_start",ft),L(this,"_render",ft),this._currentState=t||this._currentState,n&&this.setConfig(n)}var t,n,e;return t=a,(n=[{key:"_applyFilter",value:function(t){for(var n=this._filters.length;0<n;n--){var e=this._filters[n-n][t];e&&e(this)}}},{key:"tween",value:function(t){t=0<arguments.length&&void 0!==t?t:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=a.now(),this._start(this.get(),this._data),this._resume(this._timestamp)}},{key:"setConfig",value:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:{};c()(this._config,n);var r,i=this._config,u=i.promise,o=void 0===u?Promise:u,t=i.start,u=void 0===t?ft:t,t=i.render,t=void 0===t?this._config.step||ft:t,i=i.step,i=void 0===i?ft:i;for(r in this._data=this._config.data||this._config.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=n.delay||0,this._start=u,this._render=t||i,this._duration=this._config.duration||500,c()(this._currentState,n.from),c()(this._originalState,this._currentState),c()(this._targetState,this._currentState,n.to),this._easing=W(this._currentState,this._config.easing,this._easing),this._filters.length=0,a.filters)a.filters[r].doesApply(this)&&this._filters.push(a.filters[r]);return this._applyFilter("tweenCreated"),this._promise=new o(function(t,n){e._resolve=t,e._reject=n}),this}},{key:"get",value:function(){return c()({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=a.now(),this._isPlaying=!1,vt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(t){t=0<arguments.length&&void 0!==t?t:a.now();return null===this._timestamp?this.tween():(this._isPlaying||(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===lt?(ht=lt=this,V()):((this._previous=ht)._next=this,ht=this)),this._promise)}},{key:"seek",value:function(t){t=Math.max(t,0);var n=a.now();return this._timestamp+t===0||(this._timestamp=n-t,this._isPlaying||_t(this,n)),this}},{key:"stop",value:function(t){t=0<arguments.length&&void 0!==t&&t;return this._isPlaying&&(this._isPlaying=!1,vt(this),t&&(this._applyFilter(ct),dt(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),this._applyFilter(at),this._applyFilter("afterTweenEnd")),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,c()(this._targetState,this._currentState),c()(this._originalState,this._targetState)),this}},{key:"cancel",value:function(t){var n=0<arguments.length&&void 0!==t&&t,e=this._currentState,t=this._data;return this._isPlaying?(this._reject({data:t,state:e,tweenable:this}),this._resolve=null,this._reject=null,this.stop(n)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(t){a.setScheduleFunction(t)}},{key:"data",value:function(t){t=0<arguments.length&&void 0!==t?t:null;return t&&(this._data=c()({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&z(t.prototype,n),e&&z(t,e),a}();gt.setScheduleFunction=function(t){return st=t},gt.formulas=pt,gt.filters={};var mt,bt=Date.now||function(){return+new Date};function wt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new gt,t=n.tween(t);return t.tweenable=n,t}(function t(){mt=bt(),st(t)})(),gt.now=function(){return mt};var St=/(\d|-|\.)/,Ot=/([^\-0-9.]+)/g,jt=/[0-9.-]+/g,kt=(n=jt.source,r=/,\s*/.source,new RegExp("rgb\\(".concat(n).concat(r).concat(n).concat(r).concat(n,"\\)"),"g")),Mt=/^.*\(/,Pt=/#([0-9]|[a-f]){3,6}/gi,Et="VAL";function xt(t){return parseInt(t,16)}function Tt(t){return"rgb(".concat((3===(t=(t=t).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[xt(t.substr(0,2)),xt(t.substr(2,2)),xt(t.substr(4,2))].join(",")),")")}function Ft(t,n,e){var r=n.match(t),i=n.replace(t,Et);return r&&r.forEach(function(t){return i=i.replace(Et,e(t))}),i}function It(t){var n=t.match(jt).map(Math.floor),t=t.match(Mt)[0];return"".concat(t).concat(n.join(","),")")}function At(t){return t.match(jt)}var Ct=function(t){for(var n in t){var e=t[n];"string"==typeof e&&e.match(Pt)&&(t[n]=Ft(Pt,e,Tt))}},qt=function(t){var n,e,r,i={};for(n in t){var u=t[n];"string"==typeof u&&(i[n]={formatString:(r=void 0,(r=(e=u).match(Ot))?1!==r.length&&!e.charAt(0).match(St)||r.unshift(""):r=["",""],r.join(Et)),chunkNames:function(t,e){return t.map(function(t,n){return"_".concat(e,"_").concat(n)})}(At(u),n)})}return i},Dt=function(r,i){for(var t in i)!function(e){At(r[e]).forEach(function(t,n){return r[i[e].chunkNames[n]]=+t}),delete r[e]}(t)},Qt=function(t,n){for(var e in n){var r=n[e],i=r.chunkNames,i=function(n,t){return t.forEach(function(t){return n=n.replace(Et,+t.toFixed(4))}),n}(r.formatString,function(n,t){return t.map(function(t){return n[t]})}(function(n,t){var e={};return t.forEach(function(t){e[t]=n[t],delete n[t]}),e}(t,i),i));t[e]=Ft(kt,i,It)}},Nt=function(u,o){for(var t in o)!function(t){var e,r,n=o[t].chunkNames,i=u[t];"string"==typeof i?(e=i.split(" "),r=e[e.length-1],n.forEach(function(t,n){return u[t]=e[n]||r})):n.forEach(function(t){return u[t]=i}),delete u[t]}(t)},Bt=function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map(function(t){var n=e[t];return delete e[t],n}).join(" "):i}},Rt=function(t){for(var n in t._currentState)if("string"==typeof t._currentState[n])return!0;return!1};function zt(t){var n=t._currentState;[n,t._originalState,t._targetState].forEach(Ct),t._tokenData=qt(n)}function Lt(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;Nt(i,u),[n,e,r].forEach(function(t){return Dt(t,u)})}function Ut(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[n,e,r].forEach(function(t){return Qt(t,u)}),Bt(i,u)}function Vt(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function Wt(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}var $t=new gt,Gt=gt.filters,Ht=function(t,n,e,r,i){var u,o=4<arguments.length&&void 0!==i?i:0,i=Wt({},t),r=W(t,r);for(u in $t._filters.length=0,$t.set({}),$t._currentState=i,$t._originalState=t,$t._targetState=n,$t._easing=r,Gt)Gt[u].doesApply($t)&&$t._filters.push(Gt[u]);$t._applyFilter("tweenCreated"),$t._applyFilter("beforeTween");r=dt(e,i,t,n,1,o,r);return $t._applyFilter("afterTween"),r};function Jt(t){return function(t){if(Array.isArray(t))return Kt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return Kt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Kt(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Xt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,n){n=n.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Zt=new WeakMap,tn=function(){function r(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),Zt.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];n.forEach(this.add.bind(this))}var t,n,e;return t=r,(n=[{key:"add",value:function(t){return Yt(this,Zt).push(t),t}},{key:"remove",value:function(t){var n=Yt(this,Zt).indexOf(t);return~n&&Yt(this,Zt).splice(n,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Yt(this,Zt).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return Yt(this,Zt).forEach(function(t){return t.tween()}),this}},{key:"pause",value:function(){return Yt(this,Zt).forEach(function(t){return t.pause()}),this}},{key:"resume",value:function(){return Yt(this,Zt).forEach(function(t){return t.resume()}),this}},{key:"stop",value:function(n){return Yt(this,Zt).forEach(function(t){return t.stop(n)}),this}},{key:"tweenables",get:function(){return Jt(Yt(this,Zt))}},{key:"promises",get:function(){return Yt(this,Zt).map(function(t){return t._promise})}}])&&Xt(t.prototype,n),e&&Xt(t,e),r}();function nn(t,n,e,r,i,u){function c(t){return((f*t+l)*t+h)*t}function s(t){return 0<=t?t:0-t}function o(t,n){for(var e,r,i,u,o=t,a=0;a<8;a++){if(i=c(o)-t,s(i)<n)return o;if(s(u=(3*f*(u=o)+2*l)*u+h)<1e-6)break;o-=i/u}if((o=t)<(e=0))return e;if((r=1)<o)return r;for(;e<r;){if(i=c(o),s(i-t)<n)return o;i<t?e=o:r=o,o=.5*(r-e)+e}return o}var a,f=0,l=0,h=0,p=0,d=0,_=0,f=1-(h=3*n)-(l=3*(r-n)-h),p=1-(_=3*e)-(d=3*(i-e)-_);return a=o(t,a=1/(200*u)),((p*a+d)*a+_)*a}var en=function(t,n,e,r,i){var u,o,a,c,s=(u=n,o=e,a=r,c=i,function(t){return nn(t,u,o,a,c,1)});return s.displayName=t,s.x1=n,s.y1=e,s.x2=r,s.y2=i,gt.formulas[t]=s},rn=function(t){return delete gt.formulas[t]};gt.filters.token=i}],i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=1);function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e,r});