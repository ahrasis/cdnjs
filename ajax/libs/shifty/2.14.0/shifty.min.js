!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("shifty",[],n):"object"==typeof exports?exports.shifty=n():t.shifty=n()}(window,function(){return r={},i.m=e=[function(t,z,L){"use strict";(function(t){L.d(z,"e",function(){return I}),L.d(z,"c",function(){return C}),L.d(z,"b",function(){return q}),L.d(z,"a",function(){return B}),L.d(z,"d",function(){return R});var n=L(1);function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach(function(t){u(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t,n){if(_=t._timestamp,w=t._currentState,S=t._delay,!(n<_+S)){if(d=t._duration,O=t._targetState,m=(y=n>(g=_+S+d)?g:n)>=g,b=d-(g-y),g=0<t._filters.length,m)return t._render(O,t._data,b),t.stop(!0);g&&t._applyFilter("beforeTween"),y<_+S?_=d=y=1:_+=S,I(y,w,t._originalState,O,d,_,t._easing),g&&t._applyFilter("afterTween"),t._render(w,t._data,b)}}function a(t){t===x?(x=t._next)?x._previous=null:E=null:t===E?(E=t._previous)?E._next=null:x=null:(k=t._previous,P=t._next,(k._next=P)._previous=k),t._previous=t._next=null}var s,c,f,l,h,p,d,_,y,m,g,b,w,O,S,j,k,P,M="undefined"!=typeof window?window:t,A=M.requestAnimationFrame||M.webkitRequestAnimationFrame||M.oRequestAnimationFrame||M.msRequestAnimationFrame||M.mozCancelRequestAnimationFrame&&M.mozRequestAnimationFrame||setTimeout,T=function(){},x=null,E=null,F=i({},n),I=function(t,n,e,r,i,u,o){for(l in h=t<u?0:(t-u)/i,c=null,f=!1,o&&o.call&&(f=!0,s=o(h)),n)f||(p=o[l],c=p.call?p:F[p],s=c(h)),p=e[l],n[l]=p+(r[l]-p)*s;return n},C=function(t,n,e){return function(){for(t=B.now(),n=x;n;)e=n._next,o(n,t),n=e}()},D=Date.now||function(){return+new Date},q=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"linear",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=v(n);if(F[n])return F[n];if("string"===r||"function"===r)for(var i in t)e[i]=n;else for(var u in t)e[u]=n[u]||"linear";return e},Q="function"==typeof Promise?Promise:null,B=(e(N.prototype,[{key:"_applyFilter",value:function(t){for(var n=this._filters.length;0<n;n--){var e=this._filters[n-n][t];e&&e(this)}}},{key:"tween",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=N.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this._config;for(t in n)e[t]=n[t];var r=e.promise,i=void 0===r?this._promiseCtor:r,u=e.start,o=void 0===u?T:u,a=e.finish,r=e.render,u=void 0===r?this._config.step||T:r,r=e.step,r=void 0===r?T:r;this._data=e.data||e.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=n.delay||0,this._start=o,this._render=u||r,this._duration=e.duration||500,this._promiseCtor=i,a&&(this._resolve=a);var s,c=n.from,a=n.to,f=void 0===a?{}:a,l=this._currentState,h=this._originalState,p=this._targetState;for(s in c)l[s]=c[s];var d=!1;for(s in l){var _=l[s];d||"string"!==v(_)||(d=!0),h[s]=_,p[s]=f.hasOwnProperty(s)?f[s]:_}if(this._easing=q(this._currentState,e.easing,this._easing),this._filters.length=0,d){for(s in N.filters)N.filters[s].doesApply(this)&&this._filters.push(N.filters[s]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(t,n){var e=this;return this._promise=new this._promiseCtor(function(t,n){e._resolve=t,e._reject=n}),this._promise.then(t,n)}},{key:"get",value:function(){return i({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=N.now(),this._isPlaying=!1,a(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:N.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,E=(null===x?x=this:(this._previous=E)._next=this,this),this)}},{key:"seek",value:function(t){t=Math.max(t,0);var n=N.now();return this._timestamp+t===0||(this._timestamp=n-t,o(this,n)),this}},{key:"stop",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,a(this);var n=0<this._filters.length;t&&(n&&this._applyFilter("beforeTween"),I(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),n&&(this._applyFilter("afterTween"),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null;var e,r=this._currentState,i=this._originalState,u=this._targetState;for(e in r)i[e]=u[e]=r[e];return this}},{key:"cancel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this._currentState,e=this._data;return this._isPlaying?(this._reject&&this._reject({data:e,state:n,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(t){N.setScheduleFunction(t)}},{key:"data",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=i({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}]),N);function N(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,N),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._resolve=null,this._reject=null,this._currentState=t||{},this._originalState={},this._targetState={},this._start=T,this._render=T,this._promiseCtor=Q,n&&this.setConfig(n)}function R(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new B;return n.tween(t),n.tweenable=n}u(B,"now",function(){return j}),B.setScheduleFunction=function(t){return A=t},B.formulas=F,B.filters={},function t(){j=D(),A.call(M,t,1e3/60),C()}()}).call(this,L(2))},function(t,n,e){"use strict";e.r(n),e.d(n,"linear",function(){return r}),e.d(n,"easeInQuad",function(){return i}),e.d(n,"easeOutQuad",function(){return u}),e.d(n,"easeInOutQuad",function(){return o}),e.d(n,"easeInCubic",function(){return a}),e.d(n,"easeOutCubic",function(){return s}),e.d(n,"easeInOutCubic",function(){return c}),e.d(n,"easeInQuart",function(){return f}),e.d(n,"easeOutQuart",function(){return l}),e.d(n,"easeInOutQuart",function(){return h}),e.d(n,"easeInQuint",function(){return p}),e.d(n,"easeOutQuint",function(){return d}),e.d(n,"easeInOutQuint",function(){return _}),e.d(n,"easeInSine",function(){return v}),e.d(n,"easeOutSine",function(){return y}),e.d(n,"easeInOutSine",function(){return m}),e.d(n,"easeInExpo",function(){return g}),e.d(n,"easeOutExpo",function(){return b}),e.d(n,"easeInOutExpo",function(){return w}),e.d(n,"easeInCirc",function(){return O}),e.d(n,"easeOutCirc",function(){return S}),e.d(n,"easeInOutCirc",function(){return j}),e.d(n,"easeOutBounce",function(){return k}),e.d(n,"easeInBack",function(){return P}),e.d(n,"easeOutBack",function(){return M}),e.d(n,"easeInOutBack",function(){return A}),e.d(n,"elastic",function(){return T}),e.d(n,"swingFromTo",function(){return x}),e.d(n,"swingFrom",function(){return E}),e.d(n,"swingTo",function(){return F}),e.d(n,"bounce",function(){return I}),e.d(n,"bouncePast",function(){return C}),e.d(n,"easeFromTo",function(){return D}),e.d(n,"easeFrom",function(){return q}),e.d(n,"easeTo",function(){return Q});var r=function(t){return t},i=function(t){return Math.pow(t,2)},u=function(t){return-(Math.pow(t-1,2)-1)},o=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},a=function(t){return Math.pow(t,3)},s=function(t){return Math.pow(t-1,3)+1},c=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},f=function(t){return Math.pow(t,4)},l=function(t){return-(Math.pow(t-1,4)-1)},h=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},p=function(t){return Math.pow(t,5)},d=function(t){return Math.pow(t-1,5)+1},_=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},v=function(t){return 1-Math.cos(t*(Math.PI/2))},y=function(t){return Math.sin(t*(Math.PI/2))},m=function(t){return-.5*(Math.cos(Math.PI*t)-1)},g=function(t){return 0===t?0:Math.pow(2,10*(t-1))},b=function(t){return 1===t?1:1-Math.pow(2,-10*t)},w=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},O=function(t){return-(Math.sqrt(1-t*t)-1)},S=function(t){return Math.sqrt(1-Math.pow(t-1,2))},j=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},k=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},P=function(t){return t*t*(2.70158*t-1.70158)},M=function(t){return--t*t*(2.70158*t+1.70158)+1},A=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},T=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},x=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},E=function(t){return t*t*(2.70158*t-1.70158)},F=function(t){return--t*t*(2.70158*t+1.70158)+1},I=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},C=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},D=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},q=function(t){return Math.pow(t,4)},Q=function(t){return Math.pow(t,.25)}},function(t,n){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";e.r(n),e.d(n,"processTweens",function(){return f.c}),e.d(n,"Tweenable",function(){return f.a}),e.d(n,"tween",function(){return f.d}),e.d(n,"interpolate",function(){return T}),e.d(n,"Scene",function(){return C}),e.d(n,"setBezierFunction",function(){return Q}),e.d(n,"unsetBezierFunction",function(){return B});var r={};e.r(r),e.d(r,"doesApply",function(){return w}),e.d(r,"tweenCreated",function(){return O}),e.d(r,"beforeTween",function(){return S}),e.d(r,"afterTween",function(){return j});var f=e(0),o=/(\d|-|\.)/,a=/([^\-0-9.]+)/g,i=/[0-9.-]+/g,s=(n=i.source,e=/,\s*/.source,new RegExp("rgb\\(".concat(n).concat(e).concat(n).concat(e).concat(n,"\\)"),"g")),u=/^.*\(/,c=/#([0-9]|[a-f]){3,6}/gi,l=function(t,e){return t.map(function(t,n){return"_".concat(e,"_").concat(n)})};function h(t){return parseInt(t,16)}function p(t){return"rgb(".concat((3===(t=(t=t).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[h(t.substr(0,2)),h(t.substr(2,2)),h(t.substr(4,2))].join(",")),")")}var d=function(t,n,e){var r=n.match(t),i=n.replace(t,"VAL");return r&&r.forEach(function(t){return i=i.replace("VAL",e(t))}),i},_=function(t){for(var n in t){var e=t[n];"string"==typeof e&&e.match(c)&&(t[n]=d(c,e,p))}},v=function(t){var n=t.match(i).map(Math.floor),t=t.match(u)[0];return"".concat(t).concat(n.join(","),")")},y=function(t){return t.match(i)},m=function(n,t){var e={};return t.forEach(function(t){e[t]=n[t],delete n[t]}),e},g=function(n,t){return t.map(function(t){return n[t]})},b=function(n,t){return t.forEach(function(t){return n=n.replace("VAL",+t.toFixed(4))}),n},w=function(t){for(var n in t._currentState)if("string"==typeof t._currentState[n])return!0;return!1};function O(t){var n=t._currentState;[n,t._originalState,t._targetState].forEach(_),t._tokenData=function(t){var n,e,r,i={};for(r in t){var u=t[r];"string"==typeof u&&(i[r]={formatString:(e=void 0,(e=(n=u).match(a))?1!==e.length&&!n.charAt(0).match(o)||e.unshift(""):e=["",""],e.join("VAL")),chunkNames:l(y(u),r)})}return i}(n)}function S(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;!function(u,o){for(var t in o)!function(t){var e,r,n=o[t].chunkNames,i=u[t];"string"==typeof i?(e=i.split(" "),r=e[e.length-1],n.forEach(function(t,n){return u[t]=e[n]||r})):n.forEach(function(t){return u[t]=i}),delete u[t]}(t)}(i,u),[n,e,r].forEach(function(t){return function(r,i){for(var t in i)!function(e){y(r[e]).forEach(function(t,n){return r[i[e].chunkNames[n]]=+t}),delete r[e]}(t)}(t,u)})}function j(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[n,e,r].forEach(function(t){return function(t,n){for(var e in n){var r=n[e],i=r.chunkNames,r=r.formatString,i=b(r,g(m(t,i),i));t[e]=d(s,i,v)}}(t,u)}),function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map(function(t){var n=e[t];return delete e[t],n}).join(" "):i}}(i,u)}function k(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function P(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}var M=new f.a,A=f.a.filters,T=function(t,n,e,r){var i,u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=P({},t),r=Object(f.b)(t,r);for(i in M._filters.length=0,M.set({}),M._currentState=o,M._originalState=t,M._targetState=n,M._easing=r,A)A[i].doesApply(M)&&M._filters.push(A[i]);M._applyFilter("tweenCreated"),M._applyFilter("beforeTween");r=Object(f.e)(e,o,t,n,1,u,r);return M._applyFilter("afterTween"),r};function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,n){n=n.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var I=new WeakMap,C=(E(D.prototype,[{key:"add",value:function(t){return F(this,I).push(t),t}},{key:"remove",value:function(t){var n=F(this,I).indexOf(t);return~n&&F(this,I).splice(n,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return F(this,I).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return F(this,I).forEach(function(t){return t.tween()}),this}},{key:"pause",value:function(){return F(this,I).forEach(function(t){return t.pause()}),this}},{key:"resume",value:function(){return F(this,I).forEach(function(t){return t.resume()}),this}},{key:"stop",value:function(n){return F(this,I).forEach(function(t){return t.stop(n)}),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t))return x(t)}(t=F(this,I))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return x(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}},{key:"promises",get:function(){return F(this,I).map(function(t){return t.then()})}}]),D);function D(){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,D),I.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];n.forEach(this.add.bind(this))}function q(t,n,e,r,i,u){function s(t){return((f*t+l)*t+h)*t}function c(t){return 0<=t?t:0-t}var o,a,f=0,l=0,h=0,f=1-(h=3*n)-(l=3*(r-n)-h),p=1-(a=3*e)-(o=3*(i-e)-a);return u=function(t,n){for(var e,r,i,u,o=t,a=0;a<8;a++){if(i=s(o)-t,c(i)<n)return o;if(c(u=(3*f*(u=o)+2*l)*u+h)<1e-6)break;o-=i/u}if((o=t)<(e=0))return e;if(o>(r=1))return r;for(;e<r;){if(i=s(o),c(i-t)<n)return o;i<t?e=o:r=o,o=.5*(r-e)+e}return o}(t,1/(200*u)),((p*u+o)*u+a)*u}var Q=function(t,n,e,r,i){var u,o,a,s,c=(u=n,o=e,a=r,s=i,function(t){return q(t,u,o,a,s,1)});return c.displayName=t,c.x1=n,c.y1=e,c.x2=r,c.y2=i,f.a.formulas[t]=c},B=function(t){return delete f.a.formulas[t]};f.a.filters.token=r}],i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=3);function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e,r});