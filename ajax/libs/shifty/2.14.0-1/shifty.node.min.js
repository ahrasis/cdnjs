!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("shifty",[],e):"object"==typeof exports?exports.shifty=e():t.shifty=e()}(global,function(){return r={},i.m=n=[function(t,e,n){"use strict";n.r(e),n.d(e,"processTweens",function(){return gt}),n.d(e,"Tweenable",function(){return St}),n.d(e,"tween",function(){return jt}),n.d(e,"interpolate",function(){return Xt}),n.d(e,"Scene",function(){return re}),n.d(e,"setBezierFunction",function(){return ue}),n.d(e,"unsetBezierFunction",function(){return oe});var r={};n.r(r),n.d(r,"linear",function(){return i}),n.d(r,"easeInQuad",function(){return u}),n.d(r,"easeOutQuad",function(){return o}),n.d(r,"easeInOutQuad",function(){return a}),n.d(r,"easeInCubic",function(){return s}),n.d(r,"easeOutCubic",function(){return c}),n.d(r,"easeInOutCubic",function(){return f}),n.d(r,"easeInQuart",function(){return l}),n.d(r,"easeOutQuart",function(){return h}),n.d(r,"easeInOutQuart",function(){return p}),n.d(r,"easeInQuint",function(){return d}),n.d(r,"easeOutQuint",function(){return _}),n.d(r,"easeInOutQuint",function(){return y}),n.d(r,"easeInSine",function(){return v}),n.d(r,"easeOutSine",function(){return m}),n.d(r,"easeInOutSine",function(){return g}),n.d(r,"easeInExpo",function(){return b}),n.d(r,"easeOutExpo",function(){return w}),n.d(r,"easeInOutExpo",function(){return O}),n.d(r,"easeInCirc",function(){return S}),n.d(r,"easeOutCirc",function(){return j}),n.d(r,"easeInOutCirc",function(){return k}),n.d(r,"easeOutBounce",function(){return P}),n.d(r,"easeInBack",function(){return M}),n.d(r,"easeOutBack",function(){return E}),n.d(r,"easeInOutBack",function(){return x}),n.d(r,"elastic",function(){return F}),n.d(r,"swingFromTo",function(){return T}),n.d(r,"swingFrom",function(){return A}),n.d(r,"swingTo",function(){return I}),n.d(r,"bounce",function(){return C}),n.d(r,"bouncePast",function(){return D}),n.d(r,"easeFromTo",function(){return q}),n.d(r,"easeFrom",function(){return Q}),n.d(r,"easeTo",function(){return B});e={};n.r(e),n.d(e,"doesApply",function(){return Ut}),n.d(e,"tweenCreated",function(){return Vt}),n.d(e,"beforeTween",function(){return Wt}),n.d(e,"afterTween",function(){return $t});var i=function(t){return t},u=function(t){return Math.pow(t,2)},o=function(t){return-(Math.pow(t-1,2)-1)},a=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},s=function(t){return Math.pow(t,3)},c=function(t){return Math.pow(t-1,3)+1},f=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},l=function(t){return Math.pow(t,4)},h=function(t){return-(Math.pow(t-1,4)-1)},p=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},d=function(t){return Math.pow(t,5)},_=function(t){return Math.pow(t-1,5)+1},y=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},v=function(t){return 1-Math.cos(t*(Math.PI/2))},m=function(t){return Math.sin(t*(Math.PI/2))},g=function(t){return-.5*(Math.cos(Math.PI*t)-1)},b=function(t){return 0===t?0:Math.pow(2,10*(t-1))},w=function(t){return 1===t?1:1-Math.pow(2,-10*t)},O=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},S=function(t){return-(Math.sqrt(1-t*t)-1)},j=function(t){return Math.sqrt(1-Math.pow(t-1,2))},k=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},P=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},M=function(t){return t*t*(2.70158*t-1.70158)},E=function(t){return--t*t*(2.70158*t+1.70158)+1},x=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},F=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},T=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},A=function(t){return t*t*(2.70158*t-1.70158)},I=function(t){return--t*t*(2.70158*t+1.70158)+1},C=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},D=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},q=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},Q=function(t){return Math.pow(t,4)},B=function(t){return Math.pow(t,.25)};function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e,n){var r=1<arguments.length&&void 0!==e?e:"linear",i=2<arguments.length&&void 0!==n?n:{},n=R(r);if(yt[r])return yt[r];if("string"===n||"function"===n)for(var u in t)i[u]=r;else for(var o in t)i[o]=r[o]||"linear";return i}var W,$,G,H,J,K,X,Y,Z,tt,et,nt,rt,it,ut,ot,at,st,ct="undefined"!=typeof window?window:global,ft="afterTween",lt="beforeTween",ht=ct.requestAnimationFrame||ct.webkitRequestAnimationFrame||ct.oRequestAnimationFrame||ct.msRequestAnimationFrame||ct.mozCancelRequestAnimationFrame&&ct.mozRequestAnimationFrame||setTimeout,pt=function(){},dt=null,_t=null,yt=L({},r),vt=function(t,e,n,r,i,u,o){for(H in J=t<u?0:(t-u)/i,$=null,G=!1,o&&o.call&&(G=!0,W=o(J)),e)G||(K=o[H],$=K.call?K:yt[K],W=$(J)),K=n[H],e[H]=K+(r[H]-K)*W;return e},mt=function(t,e){if(Y=t._timestamp,rt=t._currentState,ut=t._delay,!(e<Y+ut)){if(X=t._duration,it=t._targetState,tt=(et=Y+ut+X)<=(Z=et<e?et:e),nt=X-(et-Z),et=0<t._filters.length,tt)return t._render(it,t._data,nt),t.stop(!0);et&&t._applyFilter(lt),Z<Y+ut?Y=X=Z=1:Y+=ut,vt(Z,rt,t._originalState,it,X,Y,t._easing),et&&t._applyFilter(ft),t._render(rt,t._data,nt)}},gt=function(t,e,n){return function(){for(t=St.now(),e=dt;e;)n=e._next,mt(e,t),e=n}()},bt=Date.now||function(){return+new Date},n=function t(){ot=bt(),ht.call(ct,t,1e3/60),gt()},wt=function(t){t===dt?(dt=t._next)?dt._previous=null:_t=null:t===_t?(_t=t._previous)?_t._next=null:dt=null:(at=t._previous,st=t._next,(at._next=st)._previous=at),t._previous=t._next=null},Ot="function"==typeof Promise?Promise:null,St=function(){function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._resolve=null,this._reject=null,this._currentState={},this._originalState={},this._targetState={},this._start=pt,this._render=pt,this._promiseCtor=Ot,this._currentState=t||this._currentState,e&&this.setConfig(e)}var t,e,n;return t=m,(e=[{key:"_applyFilter",value:function(t){for(var e=this._filters.length;0<e;e--){var n=this._filters[e-e][t];n&&n(this)}}},{key:"tween",value:function(t){t=0<arguments.length&&void 0!==t?t:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=m.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(t){var e,n=0<arguments.length&&void 0!==t?t:{},r=this._config;for(e in n)r[e]=n[e];var i=r.promise,u=void 0===i?this._promiseCtor:i,o=r.start,a=void 0===o?pt:o,t=r.finish,i=r.render,o=void 0===i?this._config.step||pt:i,i=r.step,i=void 0===i?pt:i;this._data=r.data||r.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=n.delay||0,this._start=a,this._render=o||i,this._duration=r.duration||500,this._promiseCtor=u,t&&(this._resolve=t);var s,c=n.from,t=n.to,f=void 0===t?{}:t,l=this._currentState,h=this._originalState,p=this._targetState;for(s in c)l[s]=c[s];var d,_=!1;for(d in l){var y=l[d];_||"string"!==R(y)||(_=!0),h[d]=y,p[d]=f.hasOwnProperty(d)?f[d]:y}if(this._easing=V(this._currentState,r.easing,this._easing),this._filters.length=0,_){for(var v in m.filters)m.filters[v].doesApply(this)&&this._filters.push(m.filters[v]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(t,e){var n=this;return this._promise=new this._promiseCtor(function(t,e){n._resolve=t,n._reject=e}),this._promise.then(t,e)}},{key:"get",value:function(){return L({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=m.now(),this._isPlaying=!1,wt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(t){t=0<arguments.length&&void 0!==t?t:m.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,_t=null===dt?dt=this:(this._previous=_t)._next=this,this)}},{key:"seek",value:function(t){t=Math.max(t,0);var e=m.now();return this._timestamp+t===0||(this._timestamp=e-t,mt(this,e)),this}},{key:"stop",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(!this._isPlaying)return this;this._isPlaying=!1,wt(this);t=0<this._filters.length;e&&(t&&this._applyFilter(lt),vt(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),t&&(this._applyFilter(ft),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null;var n,r=this._currentState,i=this._originalState,u=this._targetState;for(n in r)i[n]=u[n]=r[n];return this}},{key:"cancel",value:function(t){var e=0<arguments.length&&void 0!==t&&t,n=this._currentState,t=this._data;return this._isPlaying?(this._reject&&this._reject({data:t,state:n,tweenable:this}),this._resolve=null,this._reject=null,this.stop(e)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(t){m.setScheduleFunction(t)}},{key:"data",value:function(t){t=0<arguments.length&&void 0!==t?t:null;return t&&(this._data=L({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&N(t.prototype,e),n&&N(t,n),m}();function jt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=new St,t=e.tween(t);return t.tweenable=e,t}U(St,"now",function(){return ot}),St.setScheduleFunction=function(t){return ht=t},St.formulas=yt,St.filters={},n();var kt=/(\d|-|\.)/,Pt=/([^\-0-9.]+)/g,Mt=/[0-9.-]+/g,Et=(r=Mt.source,n=/,\s*/.source,new RegExp("rgb\\(".concat(r).concat(n).concat(r).concat(n).concat(r,"\\)"),"g")),xt=/^.*\(/,Ft=/#([0-9]|[a-f]){3,6}/gi,Tt="VAL";function At(t){return parseInt(t,16)}function It(t){return"rgb(".concat((3===(t=(t=t).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[At(t.substr(0,2)),At(t.substr(2,2)),At(t.substr(4,2))].join(",")),")")}function Ct(t,e,n){var r=e.match(t),i=e.replace(t,Tt);return r&&r.forEach(function(t){return i=i.replace(Tt,n(t))}),i}function Dt(t){var e=t.match(Mt).map(Math.floor),t=t.match(xt)[0];return"".concat(t).concat(e.join(","),")")}function qt(t){return t.match(Mt)}var Qt=function(t){for(var e in t){var n=t[e];"string"==typeof n&&n.match(Ft)&&(t[e]=Ct(Ft,n,It))}},Bt=function(t){var e,n,r,i={};for(e in t){var u=t[e];"string"==typeof u&&(i[e]={formatString:(r=void 0,(r=(n=u).match(Pt))?1!==r.length&&!n.charAt(0).match(kt)||r.unshift(""):r=["",""],r.join(Tt)),chunkNames:function(t,n){return t.map(function(t,e){return"_".concat(n,"_").concat(e)})}(qt(u),e)})}return i},Nt=function(r,i){for(var t in i)!function(n){qt(r[n]).forEach(function(t,e){return r[i[n].chunkNames[e]]=+t}),delete r[n]}(t)},Rt=function(t,e){for(var n in e){var r=e[n],i=r.chunkNames,i=function(e,t){return t.forEach(function(t){return e=e.replace(Tt,+t.toFixed(4))}),e}(r.formatString,function(e,t){return t.map(function(t){return e[t]})}(function(e,t){var n={};return t.forEach(function(t){n[t]=e[t],delete e[t]}),n}(t,i),i));t[n]=Ct(Et,i,Dt)}},zt=function(u,o){for(var t in o)!function(t){var n,r,e=o[t].chunkNames,i=u[t];"string"==typeof i?(n=i.split(" "),r=n[n.length-1],e.forEach(function(t,e){return u[t]=n[e]||r})):e.forEach(function(t){return u[t]=i}),delete u[t]}(t)},Lt=function(n,t){for(var e in t){var r=t[e].chunkNames,i=n[r[0]];n[e]="string"==typeof i?r.map(function(t){var e=n[t];return delete n[t],e}).join(" "):i}},Ut=function(t){for(var e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1};function Vt(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(Qt),t._tokenData=Bt(e)}function Wt(t){var e=t._currentState,n=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;zt(i,u),[e,n,r].forEach(function(t){return Nt(t,u)})}function $t(t){var e=t._currentState,n=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[e,n,r].forEach(function(t){return Rt(t,u)}),Lt(i,u)}function Gt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ht(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(i),!0).forEach(function(t){var e,n;e=r,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}var Jt=new St,Kt=St.filters,Xt=function(t,e,n,r,i){var u,o=4<arguments.length&&void 0!==i?i:0,i=Ht({},t),r=V(t,r);for(u in Jt._filters.length=0,Jt.set({}),Jt._currentState=i,Jt._originalState=t,Jt._targetState=e,Jt._easing=r,Kt)Kt[u].doesApply(Jt)&&Jt._filters.push(Kt[u]);Jt._applyFilter("tweenCreated"),Jt._applyFilter("beforeTween");r=vt(n,i,t,e,1,o,r);return Jt._applyFilter("afterTween"),r};function Yt(t){return function(t){if(Array.isArray(t))return Zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){e=e.get(t);if(!e)throw new TypeError("attempted to get private field on non-instance");return e.get?e.get.call(t):e.value}var ne=new WeakMap,re=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),ne.set(this,{writable:!0,value:[]});for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(this.add.bind(this))}var t,e,n;return t=r,(e=[{key:"add",value:function(t){return ee(this,ne).push(t),t}},{key:"remove",value:function(t){var e=ee(this,ne).indexOf(t);return~e&&ee(this,ne).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return ee(this,ne).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return ee(this,ne).forEach(function(t){return t.tween()}),this}},{key:"pause",value:function(){return ee(this,ne).forEach(function(t){return t.pause()}),this}},{key:"resume",value:function(){return ee(this,ne).forEach(function(t){return t.resume()}),this}},{key:"stop",value:function(e){return ee(this,ne).forEach(function(t){return t.stop(e)}),this}},{key:"tweenables",get:function(){return Yt(ee(this,ne))}},{key:"promises",get:function(){return ee(this,ne).map(function(t){return t.then()})}}])&&te(t.prototype,e),n&&te(t,n),r}();function ie(t,e,n,r,i,u){function s(t){return((f*t+l)*t+h)*t}function c(t){return 0<=t?t:0-t}function o(t,e){for(var n,r,i,u,o=t,a=0;a<8;a++){if(i=s(o)-t,c(i)<e)return o;if(c(u=(3*f*(u=o)+2*l)*u+h)<1e-6)break;o-=i/u}if((o=t)<(n=0))return n;if((r=1)<o)return r;for(;n<r;){if(i=s(o),c(i-t)<e)return o;i<t?n=o:r=o,o=.5*(r-n)+n}return o}var a,f=0,l=0,h=0,p=0,d=0,_=0,f=1-(h=3*e)-(l=3*(r-e)-h),p=1-(_=3*n)-(d=3*(i-n)-_);return a=o(t,a=1/(200*u)),((p*a+d)*a+_)*a}var ue=function(t,e,n,r,i){var u,o,a,s,c=(u=e,o=n,a=r,s=i,function(t){return ie(t,u,o,a,s,1)});return c.displayName=t,c.x1=e,c.y1=n,c.x2=r,c.y2=i,St.formulas[t]=c},oe=function(t){return delete St.formulas[t]};St.filters.token=e}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r});