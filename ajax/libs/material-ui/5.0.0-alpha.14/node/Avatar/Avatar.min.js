"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_styles=require("@material-ui/styles"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_Person=_interopRequireDefault(require("../internal/svg-icons/Person"));const styles=e=>({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}});function useLoaded({src:e,srcSet:t}){const[r,s]=React.useState(!1);return React.useEffect(()=>{if(!e&&!t)return;s(!1);let r=!0;const a=new Image;return a.src=e,a.srcSet=t,a.onload=(()=>{r&&s("loaded")}),a.onerror=(()=>{r&&s("error")}),()=>{r=!1}},[e,t]),r}exports.styles=styles;const Avatar=React.forwardRef(function(e,t){const{alt:r,children:s,classes:a,className:o,component:l="div",imgProps:i,sizes:n,src:u,srcSet:p,variant:c="circular"}=e,d=(0,_objectWithoutPropertiesLoose2.default)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),f=(0,_styles.useThemeVariants)((0,_extends2.default)({},e,{component:l,variant:c}),"MuiAvatar");let y=null;const _=useLoaded({src:u,srcSet:p}),m=u||p,h=m&&"error"!==_;return y=h?React.createElement("img",(0,_extends2.default)({alt:r,src:u,srcSet:p,sizes:n,className:a.img},i)):null!=s?s:m&&r?r[0]:React.createElement(_Person.default,{className:a.fallback}),React.createElement(l,(0,_extends2.default)({className:(0,_clsx.default)(a.root,a.system,a[c],f,o,!h&&a.colorDefault),ref:t},d),y)});"production"!==process.env.NODE_ENV&&(Avatar.propTypes={alt:_propTypes.default.string,children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,component:_propTypes.default.elementType,imgProps:_propTypes.default.object,sizes:_propTypes.default.string,src:_propTypes.default.string,srcSet:_propTypes.default.string,variant:_propTypes.default.oneOfType([_propTypes.default.oneOf(["circular","rounded","square"]),_propTypes.default.string])});var _default=(0,_withStyles.default)(styles,{name:"MuiAvatar"})(Avatar);exports.default=_default;