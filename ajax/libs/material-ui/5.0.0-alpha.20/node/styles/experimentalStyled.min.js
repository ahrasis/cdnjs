"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_styledEngine=_interopRequireDefault(require("@material-ui/styled-engine")),_styles=require("@material-ui/styles"),_system=require("@material-ui/system"),_defaultTheme=_interopRequireDefault(require("./defaultTheme"));function isEmpty(e){return 0===Object.keys(e).length}const getStyleOverrides=(e,t)=>{let r={};return t&&t.components&&t.components[e]&&t.components[e].styleOverrides&&(r=t.components[e].styleOverrides),r},getVariantStyles=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const s={};return r.forEach(e=>{const t=(0,_styles.propsToClassKey)(e.props);s[t]=e.style}),s},variantsResolver=(e,t,r,s)=>{var o,l;const{styleProps:n={}}=e;let a={};const u=null==r?void 0:null===(o=r.components)||void 0===o?void 0:null===(l=o[s])||void 0===l?void 0:l.variants;return u&&u.forEach(r=>{let s=!0;Object.keys(r.props).forEach(t=>{n[t]!==r.props[t]&&e[t]!==r.props[t]&&(s=!1)}),s&&(a=(0,_extends2.default)({},a,t[(0,_styles.propsToClassKey)(r.props)]))}),a},shouldForwardProp=e=>"styleProps"!==e&&"theme"!==e&&"isRtl"!==e&&"sx"!==e&&"as"!==e,lowercaseFirstLetter=e=>e.charAt(0).toLowerCase()+e.slice(1),experimentalStyled=(e,t,r={})=>{const s=r.name,o=r.slot,l=r.skipSx||!1;let n,a,u;s&&(n=`${s}${o||""}`,a=o&&"Root"!==o?null:`Mui${s}`,u=`Mui${s}-${lowercaseFirstLetter(o||"Root")}`);const i=(0,_styledEngine.default)(e,(0,_extends2.default)({shouldForwardProp:shouldForwardProp,label:u||s||""},t));return(e,...t)=>{const s=t?t.map(e=>"function"==typeof e?t=>{let{theme:r}=t,s=(0,_objectWithoutPropertiesLoose2.default)(t,["theme"]);return e((0,_extends2.default)({theme:isEmpty(r)?_defaultTheme.default:r},s))}:e):[];let o=e;a&&r.overridesResolver&&s.push(e=>{const t=isEmpty(e.theme)?_defaultTheme.default:e.theme;return r.overridesResolver(e,getStyleOverrides(a,t),a)}),a&&s.push(e=>{const t=isEmpty(e.theme)?_defaultTheme.default:e.theme;return variantsResolver(e,getVariantStyles(a,t),t,a)}),l||s.push(e=>{const t=isEmpty(e.theme)?_defaultTheme.default:e.theme;return(0,_system.unstable_styleFunctionSx)((0,_extends2.default)({},e,{theme:t}))});const u=s.length-t.length;if(Array.isArray(e)&&u>0){const t=new Array(u).fill("");(o=[...e,...t]).raw=[...e.raw,...t]}else"function"==typeof e&&(o=(t=>{let{theme:r}=t,s=(0,_objectWithoutPropertiesLoose2.default)(t,["theme"]);return e((0,_extends2.default)({theme:isEmpty(r)?_defaultTheme.default:r},s))}));const p=i(o,...s);return(n||a)&&(p.displayName=n||a),p}};var _default=experimentalStyled;exports.default=_default;