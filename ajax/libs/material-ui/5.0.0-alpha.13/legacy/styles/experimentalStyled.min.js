import _toConsumableArray from"@babel/runtime/helpers/esm/toConsumableArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _extends from"@babel/runtime/helpers/esm/extends";import styled from"@material-ui/styled-engine";import{propsToClassKey}from"@material-ui/styles";import defaultTheme from"./defaultTheme";function isEmpty(e){return 0===Object.keys(e).length}var getStyleOverrides=function(e,t){var r={};return t&&t.components&&t.components[e]&&t.components[e].styleOverrides&&(r=t.components[e].styleOverrides),r},getVariantStyles=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var o={};return r.forEach(function(e){var t=propsToClassKey(e.props);o[t]=e.style}),o},variantsResolver=function(e,t,r,o){var n,s,i=e.styleProps,a=void 0===i?{}:i,l={},p=null==r?void 0:null===(n=r.components)||void 0===n?void 0:null===(s=n[o])||void 0===s?void 0:s.variants;return p&&p.forEach(function(r){var o=!0;Object.keys(r.props).forEach(function(t){a[t]!==r.props[t]&&e[t]!==r.props[t]&&(o=!1)}),o&&(l=_extends({},l,t[propsToClassKey(r.props)]))}),l},shouldForwardProp=function(e){return"styleProps"!==e&&"theme"!==e},experimentalStyled=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.muiName,n=styled(e,_extends({shouldForwardProp:shouldForwardProp,label:o},t));return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var i=t.map(function(e){return"function"==typeof e?function(t){var r=t.theme,o=_objectWithoutProperties(t,["theme"]);return e(_extends({theme:isEmpty(r)?defaultTheme:r},o))}:e});return o&&r.overridesResolver&&i.push(function(e){var t=isEmpty(e.theme)?defaultTheme:e.theme;return r.overridesResolver(e,getStyleOverrides(o,t),o)}),o&&i.push(function(e){var t=isEmpty(e.theme)?defaultTheme:e.theme;return variantsResolver(e,getVariantStyles(o,t),t,o)}),n.apply(void 0,_toConsumableArray(i))}};export default experimentalStyled;