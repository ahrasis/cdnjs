"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_utils=require("@material-ui/utils"),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_formControlState=_interopRequireDefault(require("../FormControl/formControlState")),_FormControlContext=_interopRequireWildcard(require("../FormControl/FormControlContext")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_useEnhancedEffect=_interopRequireDefault(require("../utils/useEnhancedEffect")),_TextareaAutosize=_interopRequireDefault(require("../TextareaAutosize")),_utils2=require("./utils");const styles=e=>{const t="light"===e.palette.mode,o={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},n={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,_extends2.default)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"4px 0 5px","&$marginDense":{paddingTop:1}},colorSecondary:{},fullWidth:{width:"100%"},hiddenLabel:{},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus:-ms-input-placeholder":n,"&:focus::-ms-input-placeholder":n},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}};exports.styles=styles;const InputBase=React.forwardRef(function(e,t){const{"aria-describedby":o,autoComplete:r,autoFocus:n,classes:a,className:l,defaultValue:i,disabled:u,endAdornment:p,fullWidth:s=!1,id:d,inputComponent:c="input",inputProps:f={},inputRef:m,maxRows:y,minRows:_,multiline:h=!1,name:b,onBlur:T,onChange:g,onClick:R,onFocus:x,onKeyDown:C,onKeyUp:w,placeholder:q,readOnly:E,renderSuffix:v,rows:D,startAdornment:F,type:k="text",value:S}=e,N=(0,_objectWithoutPropertiesLoose2.default)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","startAdornment","type","value"]),A=null!=f.value?f.value:S,{current:O}=React.useRef(null!=A),W=React.useRef(),z=React.useCallback(e=>{"production"!==process.env.NODE_ENV&&e&&"INPUT"!==e.nodeName&&!e.focus&&console.error(["Material-UI: You have provided a `inputComponent` to the input component","that does not correctly handle the `inputRef` prop.","Make sure the `inputRef` prop is called with a HTMLInputElement."].join("\n"))},[]),B=(0,_useForkRef.default)(f.ref,z),M=(0,_useForkRef.default)(m,B),L=(0,_useForkRef.default)(W,M),[I,P]=React.useState(!1),V=(0,_FormControlContext.useFormControl)();"production"!==process.env.NODE_ENV&&React.useEffect(()=>{if(V)return V.registerEffect()},[V]);const K=(0,_formControlState.default)({props:e,muiFormControl:V,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});K.focused=V?V.focused:I,React.useEffect(()=>{!V&&u&&I&&(P(!1),T&&T())},[V,u,I,T]);const U=V&&V.onFilled,j=V&&V.onEmpty,H=React.useCallback(e=>{(0,_utils2.isFilled)(e)?U&&U():j&&j()},[U,j]);(0,_useEnhancedEffect.default)(()=>{O&&H({value:A})},[A,H,O]);React.useEffect(()=>{H(W.current)},[]);let $=c,Y=(0,_extends2.default)({},f,{ref:L});"string"!=typeof $?Y=(0,_extends2.default)({inputRef:L,type:k},Y,{ref:null}):h?D?($="textarea","production"!==process.env.NODE_ENV&&(_||y)&&console.warn("Material-UI: You can not use the `minRows` or `maxRows` props when the input `rows` prop is set.")):(Y=(0,_extends2.default)({maxRows:y,minRows:_},Y),$=_TextareaAutosize.default):Y=(0,_extends2.default)({type:k},Y);return React.useEffect(()=>{V&&V.setAdornedStart(Boolean(F))},[V,F]),React.createElement("div",(0,_extends2.default)({className:(0,_clsx.default)(a.root,a[`color${(0,_capitalize.default)(K.color||"primary")}`],l,K.disabled&&a.disabled,K.error&&a.error,s&&a.fullWidth,K.focused&&a.focused,V&&a.formControl,h&&a.multiline,F&&a.adornedStart,p&&a.adornedEnd,K.hiddenLabel&&a.hiddenLabel,"dense"===K.margin&&a.marginDense),onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),R&&R(e)},ref:t},N),F,React.createElement(_FormControlContext.default.Provider,{value:null},React.createElement($,(0,_extends2.default)({"aria-invalid":K.error,"aria-describedby":o,autoComplete:r,autoFocus:n,defaultValue:i,disabled:K.disabled,id:d,onAnimationStart:e=>{H("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:b,placeholder:q,readOnly:E,required:K.required,rows:D,value:A,onKeyDown:C,onKeyUp:w},Y,{className:(0,_clsx.default)(a.input,f.className,K.disabled&&a.disabled,h&&a.inputMultiline,K.hiddenLabel&&a.inputHiddenLabel,F&&a.inputAdornedStart,p&&a.inputAdornedEnd,"search"===k&&a.inputTypeSearch,"dense"===K.margin&&a.inputMarginDense),onBlur:e=>{T&&T(e),f.onBlur&&f.onBlur(e),V&&V.onBlur?V.onBlur(e):P(!1)},onChange:(e,...t)=>{if(!O){const t=e.target||W.current;if(null==t)throw new Error("production"!==process.env.NODE_ENV?"Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.":(0,_utils.formatMuiErrorMessage)(1));H({value:t.value})}f.onChange&&f.onChange(e,...t),g&&g(e,...t)},onFocus:e=>{K.disabled?e.stopPropagation():(x&&x(e),f.onFocus&&f.onFocus(e),V&&V.onFocus?V.onFocus(e):P(!0))}}))),p,v?v((0,_extends2.default)({},K,{startAdornment:F})):null)});"production"!==process.env.NODE_ENV&&(InputBase.propTypes={"aria-describedby":_propTypes.default.string,autoComplete:_propTypes.default.string,autoFocus:_propTypes.default.bool,classes:_propTypes.default.object,className:_propTypes.default.string,color:_propTypes.default.oneOf(["primary","secondary"]),defaultValue:_propTypes.default.any,disabled:_propTypes.default.bool,endAdornment:_propTypes.default.node,error:_propTypes.default.bool,fullWidth:_propTypes.default.bool,id:_propTypes.default.string,inputComponent:_propTypes.default.elementType,inputProps:_propTypes.default.object,inputRef:_utils.refType,margin:_propTypes.default.oneOf(["dense","none"]),maxRows:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),minRows:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),multiline:_propTypes.default.bool,name:_propTypes.default.string,onBlur:_propTypes.default.func,onChange:_propTypes.default.func,onClick:_propTypes.default.func,onFocus:_propTypes.default.func,onKeyDown:_propTypes.default.func,onKeyUp:_propTypes.default.func,placeholder:_propTypes.default.string,readOnly:_propTypes.default.bool,renderSuffix:_propTypes.default.func,required:_propTypes.default.bool,rows:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),startAdornment:_propTypes.default.node,type:_propTypes.default.string,value:_propTypes.default.any});var _default=(0,_withStyles.default)(styles,{name:"MuiInputBase"})(InputBase);exports.default=_default;