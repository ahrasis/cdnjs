var parse=require("./parse"),defaultOptions=require("./options").default,flattenOptions=require("./options").flatten,isHtml=require("./utils").isHtml,api=[require("./api/attributes"),require("./api/traversing"),require("./api/manipulation"),require("./api/css"),require("./api/forms")],Cheerio=module.exports=function(t,e,i,o){return this instanceof Cheerio?(this.options=Object.assign({},defaultOptions,this.options,flattenOptions(o)),t?(i&&("string"==typeof i&&(i=parse(i,this.options,!1)),this._root=Cheerio.call(this,i)),t.cheerio?t:(isNode(t)&&(t=[t]),Array.isArray(t)?(t.forEach(function(t,e){this[e]=t},this),this.length=t.length,this):"string"==typeof t&&isHtml(t)?Cheerio.call(this,parse(t,this.options,!1).children):(e?"string"==typeof e?e=isHtml(e)?(e=parse(e,this.options,!1),Cheerio.call(this,e)):(t=[e,t].join(" "),this._root):e.cheerio||(e=Cheerio.call(this,e)):e=this._root,e?e.find(t):this))):this):new Cheerio(t,e,i,o)};Cheerio.prototype.cheerio="[cheerio object]",Cheerio.prototype.length=0,Cheerio.prototype.splice=Array.prototype.splice,Cheerio.prototype._make=function(t,e){e=new this.constructor(t,e,this._root,this.options);return e.prevObject=this,e},Cheerio.prototype.toArray=function(){return this.get()},"undefined"!=typeof Symbol&&(Cheerio.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),api.forEach(function(t){Object.assign(Cheerio.prototype,t)});var isNode=function(t){return t.name||"root"===t.type||"text"===t.type||"comment"===t.type};