{"version":3,"sources":["webpack://AJS/webpack/universalModuleDefinition","webpack://AJS/webpack/bootstrap","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/backbone/backbone.js","webpack://AJS/external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\",\"assign\":\"jQuery\",\"global\":\"jQuery\",\"var\":\"jQuery\"}","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/underscore/underscore.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs-template-html/dist/template-html.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/version.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/skate.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/constants.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/utils.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/widget.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/widgets/mouse.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/globals.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/version.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/lifecycle.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/mutation-observer.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/registry.js","webpack://AJS/(webpack)/buildin/global.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/ie.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/data.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/scroll-parent.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/fancy-file-input/dist/fancy-file-input.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/widgets/datepicker.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/document-observer.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/data.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/skatejs/lib/fix-ie-innerhtml.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@atlassian/tipsy/src/javascripts/jquery.tipsy.js","webpack://AJS/../src/js-vendor/jquery/plugins/jquery.select2.js","webpack://AJS/../src/js-vendor/jquery/jquery.tablesorter.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/keycode.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/core.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/widgets/draggable.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/plugin.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/safe-active-element.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/safe-blur.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/jquery-ui/ui/widgets/sortable.js","webpack://AJS/../src/js-vendor/jquery/serializetoobject.js","webpack://AJS/../src/js/jquery/jquery.hotkeys.js","webpack://AJS/../src/js/jquery/jquery.moveto.js","webpack://AJS/../src/js/aui/jquery.js","webpack://AJS/../src/js/aui/internal/globalize.js","webpack://AJS/../src/js/aui/forms.js","webpack://AJS/../src/js/aui/internal/log.js","webpack://AJS/../src/js/aui/forms/custom-checkbox.js","webpack://AJS/../src/js/aui/forms/custom-radio.js","webpack://AJS/../src/js/aui/format.js","webpack://AJS/../src/js/aui/version.js","webpack://AJS/../src/js/aui/event.js","webpack://AJS/../src/js/aui/escape-html.js","webpack://AJS/../src/js/aui/internal/deprecation.js","webpack://AJS/../src/js/aui/internal/animation.js","webpack://AJS/../src/js/aui/blanket.js","webpack://AJS/../src/js/aui/key-code.js","webpack://AJS/../src/js/aui/internal/amdify.js","webpack://AJS/../src/js/aui/internal/skate.js","webpack://AJS/../src/js/aui/internal/state.js","webpack://AJS/../src/js/aui/trigger.js","webpack://AJS/../src/js/aui/focus-manager.js","webpack://AJS/../src/js/aui/internal/widget.js","webpack://AJS/../src/js/aui/polyfills/custom-event.js","webpack://AJS/../src/js/aui/layer.js","webpack://AJS/../src/js/aui/layer-manager.js","webpack://AJS/../src/js/aui/params.js","webpack://AJS/../src/js/aui/populate-parameters.js","webpack://AJS/../src/js/aui/setup.js","webpack://AJS/../src/js/aui/to-init.js","webpack://AJS/../src/js/aui/i18n.js","webpack://AJS/../src/js/aui/internal/i18n/aui.js","webpack://AJS/../src/js/aui/banner.js","webpack://AJS/../src/js/aui/spinner.js","webpack://AJS/../src/js/aui/button.js","webpack://AJS/../src/js/aui/close-button.js","webpack://AJS/../src/js/aui/dialog2.js","webpack://AJS/../src/js/aui/internal/browser.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/enums.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/index.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/debounce.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getVariation.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/offset.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/within.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/hide.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/popper.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/flip.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack://AJS//buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT-JOB1/aui/node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack://AJS/../src/js/aui/internal/alignment.js","webpack://AJS/../src/js/aui/internal/elements.js","webpack://AJS/../src/js/aui/unique-id.js","webpack://AJS/../src/js/aui/dropdown2.js","webpack://AJS/../src/js/aui/expander.js","webpack://AJS/../src/js/aui/messages.js","webpack://AJS/../src/js/aui/flag.js","webpack://AJS/../src/js/aui/tooltip.js","webpack://AJS/../src/js/aui/checkbox-multiselect.js","webpack://AJS/../src/js/aui/fancy-file-input.js","webpack://AJS/../src/js/aui/internal/enforcer.js","webpack://AJS/../src/js/aui/internal/constants.js","webpack://AJS/../src/js/aui/label.js","webpack://AJS/../src/js/aui/select2.js","webpack://AJS/../src/js/aui/spin.js","webpack://AJS/../src/js/aui/internal/select/option.js","webpack://AJS/../src/js/aui/progressive-data-set.js","webpack://AJS/../src/js/aui/internal/select/suggestion-model.js","webpack://AJS/../src/js/aui/internal/select/suggestions-model.js","webpack://AJS/../src/js/aui/internal/select/suggestions-view.js","webpack://AJS/../src/js/aui/internal/select/template.js","webpack://AJS/../src/js/aui/select.js","webpack://AJS/../src/js/aui/internal/attributes.js","webpack://AJS/../src/js/aui/toggle.js","webpack://AJS/../src/js/aui/inline-dialog2.js","webpack://AJS/../src/js/aui/navigation.js","webpack://AJS/../src/js/aui/progress-indicator.js","webpack://AJS/../src/js/aui/tables-sortable.js","webpack://AJS/../src/js/aui/internal/add-id.js","webpack://AJS/../src/js/aui/is-clipped.js","webpack://AJS/../src/js/aui/tabs.js","webpack://AJS/../src/js/aui/form-notification.js","webpack://AJS/../src/js/aui/form-validation/validator-register.js","webpack://AJS/../src/js/aui/form-validation/basic-validators.js","webpack://AJS/../src/js/aui/form-validation.js","webpack://AJS/../src/js/aui/debounce.js","webpack://AJS/../src/js/aui/internal/header/create-header.js","webpack://AJS/../src/js/aui/header.js","webpack://AJS/../src/js/aui/header-async.js","webpack://AJS/../src/js/aui/date-picker.js","webpack://AJS/../src/js/aui/restful-table/class-names.js","webpack://AJS/../src/js/aui/restful-table/custom-create-view.js","webpack://AJS/../src/js/aui/restful-table/custom-edit-view.js","webpack://AJS/../src/js/aui/restful-table/custom-read-view.js","webpack://AJS/../src/js/aui/restful-table/data-keys.js","webpack://AJS/../src/js/aui/restful-table/event-names.js","webpack://AJS/../src/js/aui/restful-table/spinner.js","webpack://AJS/../src/js/aui/restful-table/edit-row.js","webpack://AJS/../src/js/aui/restful-table/event-handlers.js","webpack://AJS/../src/js/aui/restful-table/entry-model.js","webpack://AJS/../src/js/aui/restful-table/row.js","webpack://AJS/../src/js/aui/restful-table.js","webpack://AJS/../src/js/aui/clone.js","webpack://AJS/../src/js/aui/internal/has-touch.js","webpack://AJS/../src/js/aui/internal/deduplicateIDs.js","webpack://AJS/../src/js/aui/sidebar.js","webpack://AJS/../src/js/aui/internal/mediaQuery.js","webpack://AJS/../src/js/aui/internal/is-input.js","webpack://AJS/../src/js/aui/dialog.js","webpack://AJS/../src/js/aui/when-i-type.js","webpack://AJS/./aui.batch.prototyping.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","self","global","_","$","Backbone","previousBackbone","slice","Array","VERSION","noConflict","this","emulateHTTP","emulateJSON","_listening","Events","eventSplitter","eventsApi","iteratee","events","callback","opts","names","context","keys","length","test","split","on","_events","onApi","ctx","listening","_listeners","id","interop","listenTo","obj","_listenId","uniqueId","listeningTo","_listeningTo","Listening","error","tryCatchOn","options","handlers","count","push","e","off","offApi","listeners","stopListening","ids","isEmpty","remaining","j","handler","_callback","cleanup","once","onceMap","listenToOnce","map","offer","apply","arguments","trigger","Math","max","args","triggerApi","objEvents","allEvents","all","triggerEvents","concat","ev","a1","a2","a3","listener","unbind","extend","Model","attributes","attrs","preinitialize","cid","cidPrefix","collection","parse","defaults","result","set","changed","initialize","validationError","idAttribute","toJSON","clone","sync","attr","escape","has","matches","val","_validate","unset","silent","changes","changing","_changing","_previousAttributes","current","prev","isEqual","_pending","clear","hasChanged","changedAttributes","diff","old","previous","previousAttributes","fetch","model","success","resp","serverAttrs","wrapError","save","wait","validate","method","isNew","patch","xhr","destroy","defer","url","base","urlError","replace","encodeURIComponent","constructor","isValid","Collection","models","comparator","_reset","reset","setOptions","add","remove","merge","addOptions","splice","array","insert","at","min","tail","singular","isArray","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sort","sortable","sortAttr","isString","existing","_prepareModel","_addReference","orderChanged","some","index","_removeReference","previousModels","pop","unshift","shift","_byId","modelId","where","first","findWhere","Error","isFunction","sortBy","pluck","callbackOpts","values","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","entries","ITERATOR_KEYSVALUES","indexOf","_onModelEvent","event","prevId","$$iterator","iterator","kind","_collection","_kind","_index","next","done","View","pick","viewOptions","_ensureElement","delegateEventSplitter","tagName","selector","$el","find","render","_removeElement","setElement","element","undelegateEvents","_setElement","delegateEvents","el","match","delegate","eventName","undelegate","_createElement","document","createElement","className","_setAttributes","addMethod","attribute","cb","defaultVal","addUnderscoreMethods","Class","methods","each","instance","isObject","modelMatcher","matcher","collectionMethods","forEach","collect","reduce","foldl","inject","reduceRight","foldr","detect","filter","select","reject","every","any","include","includes","contains","invoke","toArray","size","head","take","initial","rest","drop","last","without","difference","shuffle","lastIndexOf","chain","sample","partition","groupBy","countBy","indexBy","findIndex","findLastIndex","modelMethods","pairs","invert","omit","config","Base","mixin","mappings","functions","memo","type","methodMap","params","dataType","data","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","textStatus","errorThrown","ajax","update","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","fragment","_extractParameters","execute","navigate","optional","RegExp","exec","param","decodeURIComponent","History","checkUrl","location","routeStripper","rootStripper","pathStripper","started","interval","atRoot","pathname","getSearch","matchRoot","decodeFragment","decodeURI","href","getHash","getPath","path","charAt","getFragment","_usePushState","_wantsHashChange","start","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","rootPath","iframe","src","style","display","tabIndex","body","iWindow","insertBefore","firstChild","contentWindow","open","close","hash","addEventListener","attachEvent","_checkUrlInterval","setInterval","loadUrl","stop","removeEventListener","detachEvent","removeChild","clearInterval","decodedFragment","title","assign","_updateHash","protoProps","staticProps","child","parent","__super__","Function","ArrayProto","ObjProto","SymbolProto","toString","nativeIsArray","nativeKeys","nativeCreate","_isNaN","isNaN","_isFinite","isFinite","Ctor","_wrapped","optimizeCb","func","argCount","accumulator","baseIteratee","identity","Infinity","restArguments","startIndex","baseCreate","shallowProperty","_has","deepGet","MAX_ARRAY_INDEX","pow","getLength","isArrayLike","_keys","results","currentKey","createReduce","dir","reducer","predicate","findKey","list","item","fromIndex","guard","contextPath","computed","lastComputed","v","random","rand","temp","group","behavior","reStrSymbol","pass","_flatten","input","shallow","strict","output","idx","isArguments","len","otherArrays","uniq","isSorted","isBoolean","seen","union","arrays","unzip","zip","createPredicateIndexFinder","sortedIndex","low","high","mid","floor","createIndexFinder","predicateFind","executeBound","sourceFunc","boundFunc","callingContext","TypeError","bound","callArgs","partial","boundArgs","placeholder","position","bindAll","delay","setTimeout","negate","before","times","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","proto","prop","allKeys","createAssigner","keysFunc","source","extendOwn","keyInObj","String","isMatch","eq","a","b","aStack","bStack","valueOf","areArrays","aCtor","bCtor","deepEq","tagTester","isNumber","isDate","isError","isSymbol","isMap","isWeakMap","isSet","isWeakSet","nodelist","childNodes","Int8Array","now","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","join","testRegexp","replaceRegexp","string","unescape","idCounter","templateSettings","evaluate","interpolate","noMatch","escapes","escapeChar","chainResult","_chain","_$1","criteria","left","right","compact","Boolean","flatten","unique","intersection","argsLength","range","step","ceil","chunk","memoize","hasher","cache","address","throttle","timeout","later","leading","throttled","_now","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","wrap","wrapper","compose","after","mapObject","props","tap","interceptor","isElement","nodeType","parseFloat","isNull","isUndefined","constant","noop","propertyOf","accum","fallback","prefix","template","text","settings","oldSettings","offset","variable","argument","DocumentFragment","elProto","HTMLElement","matchesSelector","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","getData","__SKATE_TEMPLATE_HTML_DATA","setData","createFragmentFromString","domString","tag","div","caption","dd","dt","li","tbody","td","thead","tr","innerHTML","createFragmentFromNodeList","nodeList","frag","createDocumentFragment","appendChild","getNodesBetween","startNode","endNode","nodes","nextNode","nextSibling","findChildrenMatchingSelector","sourceNode","found","querySelectorAll","foundLength","filtered","node","parentNode","addDefaultContent","content","defaultNodes","nodesLen","container","isDefault","removeDefaultContent","createProxyProperty","cacheContentData","contentNodes","getElementsByTagName","contentData","contentNode","getAttribute","createComment","replaceChild","textContent","defaultContent","parseCommentNode","undefined","parseNodeForContent","lastContentNode","childNodesLen","contentDatas","childNode","contentInfo","skateTemplateHtml","target","wrapped","wrapNodeWith","contentNodesLen","html","outerHTML","targetFragment","foundNodes","lastChild","toLowerCase","attrsLength","nodeName","nodeValue","childNodesLength","acceptsTextContent","createTextNode","fragChildNodes","contentSelector","insertAdjacentHTML","referenceNode","fragChildNodesLength","hasFoundReferenceNode","mainLoop","betweenNodes","betweenNodesLen","betweenNode","newChild","oldChild","ui","version","_constants","_documentObserver","_lifecycle","_registry","_utils","_version","_interopRequire","TYPE_ATTRIBUTE","TYPE_CLASSNAME","TYPE_ELEMENT","documentObserver","triggerCreated","triggerAttached","triggerDetached","triggerAttributeChanged","initElements","registry","inherit","isOldIE","isReady","readyState","initDocument","initialiseSkateElementsOnDomLoad","documentElement","makeElementConstructor","definition","CustomElement","tagToExtend","definitionId","setAttribute","skate","isNativeCustomElement","elementPrototype","isPrototypeOf","createdCallback","attachedCallback","detachedCallback","attributeChangedCallback","oldValue","newValue","registerElement","register","detached","isType","init","nodesToUse","ATTRIBUTE","CLASSNAME","ELEMENT","resolvedAttribute","unresolvedAttribute","previousSkate","ATTR_IGNORE","hasOwn","camelCase","elementContains","getClosestIgnoredElement","objEach","supportsNativeCustomElements","isValidNativeCustomElementName","elementPrototypeContains","str","toUpperCase","substring","fn","called","Element","hasAttribute","overwrite","getOwnPropertyNames","namesLen","desc","getOwnPropertyDescriptor","writable","configurable","orig","widgetUuid","widgetSlice","cleanData","elems","elem","_data","triggerHandler","widget","existingConstructor","basePrototype","proxiedPrototype","namespace","fullName","Widget","expr","_createWidget","_proto","_childConstructors","_super","_superApply","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","childPrototype","bridge","inputIndex","inputLength","isPlainObject","isMethodCall","methodValue","jquery","pushStack","option","_init","defaultElement","classes","disabled","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","ownerDocument","defaultView","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","that","_destroy","_removeClass","removeData","removeAttr","parts","curOption","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","addClass","_classes","_toggleClass","enable","disable","full","processClassString","checkOption","not","extra","_untrackClassesElement","inArray","_addClass","toggleClass","suppressDisabledCheck","delegateElement","handlerProxy","hasClass","guid","_off","_delay","_hoverable","mouseenter","currentTarget","mouseleave","_focusable","focusin","focusout","Event","originalEvent","isDefaultPrevented","show","hide","defaultEffect","hasOptions","effect","effectName","duration","isEmptyObject","complete","effects","easing","queue","mouseHandled","distance","_mouseInit","_mouseDown","stopImmediatePropagation","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","which","elIsCancel","closest","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","preventDefault","_mouseMove","ie","button","altKey","ctrlKey","metaKey","shiftKey","ignoreMissingWhich","_mouseDrag","_mouseStop","abs","pageX","pageY","observer","_mutationObserver","Node","nativeMatchesSelector","hasNativeMatchesSelectorDetattachedBug","cloneNode","needsAttributeOldValueCaching","navigator","userAgent","parseEvent","initAttributes","component","componentAttributes","defineAttributeProperty","removeAttribute","addAttributeToPropertyLinks","mutationData","cachedAttributeOldValues","newValueIsString","oldValueIsString","specific","triggerAttributesCreated","attrsCopy","attrsLen","addAttributeListeners","MutationObserver","mutations","mutation","attributeName","observe","attributeOldValue","addEventListeners","makeHandler","evt","useCapture","targetData","created","attached","triggerLifecycle","ELEMENT_NODE","currentNodeDefinitions","getForElement","currentNodeDefinitionsLength","elementChildNodes","removeElements","definitions","definitionsLen","WeakMap","counter","entry","JsMutationObserver","setImmediate","registrationsTable","setImmediateQueue","sentinel","postMessage","currentRecord","recordWithOldValue","isScheduled","scheduledObservers","uidCounter","wrapIfNeeded","childList","characterData","attributeFilter","characterDataOldValue","SyntaxError","registration","registrations","removeListeners","Registration","nodes_","addListeners","disconnect","records_","takeRecords","copyOfRecords","enqueue","record","records","recordToReplaceLast","selectRecord","scheduleCallback","addListeners_","subtree","removeListeners_","addTransientObserver","transientObservedNodes","removeTransientObservers","handleEvent","attrName","relatedNode","namespaceURI","getRecord","attributeNamespace","attrChange","MutationEvent","ADDITION","prevValue","forEachAncestorAndObserverEnqueueRecord","getRecordWithOldValue","addedNodes","removedNodes","changedNode","previousSibling","clearRecords","_isPolyfilled","dispatchCallbacks","ShadowDOMPolyfill","observers","o1","o2","uid_","anyNonEmpty","removeTransientObserversFor","callback_","MutationRecord","copyMutationRecord","original","recordRepresentsCurrentMutation","lastRecord","newRecord","_globals","globals","getClassList","classList","isAttr","is","isAttrValue","localName","isAttrOrTag","classListLen","def","g","createPseudo","dataName","scrollParent","includeHidden","css","excludeStaticParent","overflowRegex","parents","a0","fakePathRegex","multipleFileTextRegex","FancyFileInput","$label","createLabel","buttonText","_addLabelText","$clearButton","clearButtonText","multipleFileTextPattern","_eventNamespace","CLASSES","focused","active","valid","invalid","isDisabled","isFocused","$associatedLabel","formatMultipleFileText","numFiles","bindEvents","proxy","checkValidity","change","keydown","mousedown","mouseup","focus","blur","unbindEvents","fireEvent","removeClass","unwrap","keyCode","TAB","required","isInvalid","files","multiple","appendTo","detach","setFieldText","dataAttribute","fancyFileInput","ffi","datepicker_instActive","datepicker_getZindex","parseInt","Datepicker","_curInst","_keyEvent","_disabledInputs","_datepickerShowing","_inDialog","_mainDivId","_inlineClass","_appendClass","_triggerClass","_dialogClass","_disableClass","_unselectableClass","_currentClass","_dayOverClass","regional","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","_defaults","showOn","showAnim","showOptions","defaultDate","appendText","buttonImage","buttonImageOnly","hideIfNoPrevNext","navigationAsDateFormat","gotoCurrent","changeMonth","changeYear","yearRange","showOtherMonths","selectOtherMonths","showWeek","calculateWeek","iso8601Week","shortYearCutoff","minDate","maxDate","beforeShowDay","beforeShow","onSelect","onChangeMonthYear","onClose","numberOfMonths","showCurrentAtPos","stepMonths","stepBigMonths","altField","altFormat","constrainInput","showButtonPanel","autoSize","en","dpDiv","datepicker_bindHover","datepicker_handleMouseover","datepicker","_isDisabledDatepicker","inline","datepicker_extendRemove","markerClassName","maxRows","_widgetDatepicker","setDefaults","_attachDatepicker","inst","_newInst","_connectDatepicker","_inlineDatepicker","selectedDay","selectedMonth","selectedYear","drawMonth","drawYear","append","_attachments","_doKeyDown","_doKeyPress","_doKeyUp","_autoSize","_disableDatepicker","_get","_showDatepicker","alt","_lastInput","_hideDatepicker","findMax","maxI","date","setMonth","setDate","getDay","_formatDate","divSpan","_setDate","_getDefaultDate","_updateDatepicker","_updateAlternate","_dialogDatepicker","pos","browserWidth","browserHeight","scrollX","scrollY","_dialogInst","_dialogInput","_pos","clientWidth","clientHeight","scrollLeft","scrollTop","blockUI","_destroyDatepicker","$target","empty","_enableDatepicker","end","opacity","cursor","children","_getInst","err","_optionDatepicker","_getDateDatepicker","_getMinMaxDate","_changeDatepicker","_refreshDatepicker","_setDateDatepicker","noDefault","_setDateFromField","_getDate","dateStr","sel","handled","_selectDay","_adjustDate","_clearDate","_gotoToday","stopPropagation","chars","chr","_possibleChars","fromCharCode","charCode","lastVal","parseDate","_getFormatConfig","beforeShowSettings","isFixed","_findPos","offsetHeight","top","_checkOffset","_shouldFocusInput","_generateHTML","_attachHandlers","origyearshtml","numMonths","_getNumberOfMonths","cols","width","activeCell","yearshtml","replaceWith","dpWidth","outerWidth","dpHeight","outerHeight","inputWidth","inputHeight","viewWidth","viewHeight","filters","hidden","postProcess","_tidyDialog","unblockUI","_checkExternalClick","period","_adjustInstDate","currentDay","currentMonth","currentYear","getDate","getMonth","getFullYear","_notifyChange","_selectMonthYear","selectedIndex","month","year","_selectDate","formatDate","noWeekends","day","time","checkDate","round","format","iFormat","dim","iValue","shortYearCutoffTemp","doy","literal","lookAhead","getNumber","isDoubled","digits","num","getName","shortNames","longNames","k","pair","substr","checkLiteral","_ticksTo1970","_getDaysInMonth","_daylightSavingAdjust","ATOM","COOKIE","ISO_8601","RFC_822","RFC_850","RFC_1036","RFC_1123","RFC_2822","RSS","TICKS","TIMESTAMP","W3C","formatNumber","formatName","dates","_restrictMinMax","_determineDate","offsetNumeric","offsetString","pattern","newDate","setHours","setMinutes","setSeconds","setMilliseconds","getHours","noChange","origMonth","origYear","today","selectDay","selectMonth","selectYear","maxDraw","gotoDate","controls","buttonPanel","dow","row","col","selectedDate","cornerClass","calender","daysInMonth","leadDays","curRows","numRows","printDate","dRow","daySettings","otherMonth","unselectable","tempDate","isMultiMonth","currentDate","_canAdjustMonth","_isInRange","_generateMonthYearHeader","_getFirstDayOfMonth","secondary","inMinYear","inMaxYear","years","thisYear","determineYear","endYear","monthHtml","onChange","minMax","curYear","curMonth","yearSplit","minYear","maxYear","initialized","otherArgs","_fixIeInnerhtml","documentObserverHandler","mutationsLen","createDocumentObserver","fixIe","unregister","__SKATE_DATA","isIeUntil10","isIe11","isIe","walkTree","fixInnerHTML","originalInnerHTML","_hasBeenEnhanced","mutationEvent","createEvent","initMutationEvent","dispatchEvent","propertyDescriptor","liveBindingWarning","maybeCall","thing","isElementInDOM","ele","tipsyIDcounter","Tipsy","$element","enabled","fixTitle","getTitle","$tip","tip","visibility","hover","hoverTooltip","hoverState","eventOut","getBoundingClientRect","height","tipCss","actualWidth","offsetWidth","actualHeight","gravity","fade","animate","aria","$tipID","unbindHandlers","live","fadeOut","$e","toggleEnabled","tipsy","delayOut","console","warn","elementOptions","enter","delayIn","leave","eventIn","revalidate","pointee","metadata","autoNS","autoWE","autoBounds","margin","prefer","ew","boundTop","boundLeft","$this","jQuery","each2","Select2","AbstractSelect2","SingleSelect2","MultiSelect2","nextUid","sizer","$document","scrollBarDimensions","lastMousePosition","x","y","KEY","ENTER","ESC","SPACE","LEFT","UP","RIGHT","DOWN","SHIFT","CTRL","ALT","PAGE_UP","PAGE_DOWN","HOME","END","BACKSPACE","DELETE","isArrow","isControl","isFunctionKey","DIACRITICS","clazz","search","formula","evaluated","resultsSelector","prepareOpts","createContainer","containerId","containerSelector","syncCssClasses","adaptContainerCssClass","containerCss","containerCssClass","elementTabIndex","killEvent","dropdown","adaptDropdownCssClass","dropdownCssClass","queryCount","resultsPage","initContainer","lastpos","highlightUnderEvent","threshold","notify","installDebouncedScroll","loadMoreIfNeeded","mousewheel","delta","deltaX","deltaY","scrollHeight","installKeyUpChangeEvent","updateResults","selectHighlighted","initSelection","monitorSource","maximumInputLength","readonly","$template","measureScrollbar","autofocus","nextSearchTerm","select2","propertyObserver","tabindex","optionToData","locked","equal","idKey","ajaxUrl","populateResults","query","populate","depth","selectable","compound","label","innerContainer","formatted","sortResults","formatResultCssClass","formatResult","escapeMarkup","tags","placeholderOption","process","more","term","elm","getPlaceholder","getPlaceholderOption","local","createSearchChoice","trim","splitVal","separator","mutationCallback","WebKitMutationObserver","MozMutationObserver","triggerSelect","triggerChange","details","click","blurOnChange","isInterfaceEnabled","enabledInterface","enableInterface","_enabled","_readonly","opened","positionDropdown","bodyOffset","above","changeDirection","resultsListNode","$dropdown","dropHeight","$window","windowWidth","windowHeight","viewPortRight","viewportBottom","dropTop","dropLeft","enoughRoomBelow","enoughRoomAbove","dropWidth","enoughRoomOnRight","dropdownAutoWidth","bottom","dropdownCss","shouldOpen","clearDropdownAlignmentPreference","opening","mask","scroll","resize","orient","selectOnBlur","noFocus","clearSearch","externalSearch","getMaximumSelectionSize","maximumSelectionSize","ensureHighlightVisible","hb","rb","highlight","findHighlightableChoices","moveHighlight","choices","choice","removeHighlight","countSelectableResults","page","loadMorePadding","postprocessResults","formatLoadMore","items","tokenize","queryNumber","lastTerm","showSearchInput","maxSelSize","checkFormatter","formatSelectionTooBig","minimumInputLength","formatInputTooShort","showSearch","formatInputTooLong","formatSearching","formatNoMatches","postRender","activeElement","selection","focusSearch","setSelectionRange","createTextRange","collapse","firstOption","initContainerWidth","focusser","minimumResultsForSearch","openOnEnter","allowClear","setPlaceholder","isPlaceholderOptionSelected","updateSelection","selected","is_match","noHighlightUpdate","countResults","oldData","cssClass","formatSelection","formatSelectionCssClass","grep","ordered","selectChoice","searchContainer","_this","keydowns","selectionStart","selectionEnd","createRange","moveStart","getCursorInfo","selectedChoice","unselect","resizeSearch","clearPlaceholder","maxWidth","getMaxSearchWidth","getVal","addSelectedChoice","tokenizer","closeOnSelect","enableChoice","enabledItem","disabledItem","dequeue","setVal","getSideBorderPadding","minimumWidth","searchWidth","sideBorderPadding","currentStyle","getComputedStyle","fontSize","fontFamily","fontStyle","fontWeight","letterSpacing","textTransform","whiteSpace","measureTextWidth","buildChangeDetails","onSortStart","onSortEnd","allowedMethods","valueMethods","propertyMethods","methodsMap","markup","markMatch","limit","pageNumber","stripDiacritics","tokenSeparators","selectCallback","token","dupe","defaultEscapeMarkup","selectedObject","currentSearchTerm","ajaxDefaults","transport","util","ret","quietMillis","dest","adapter","adapted","replacements","tl","replace_map","deprecated","jsonpCallback","abort","dataText","tmp","dataItem","datum","childDatum","isFunc","formatter","formatterName","SuperClass","tablesorter","ts","log","alert","benchmark","getElementText","table","cellIndex","te","textExtraction","textAttribute","innerText","getColumnData","detectParserForColumn","rows","rowIndex","cur","parsers","keepLooking","cells","debug","getParserById","buildParserCache","h","ch","np","tb","$tbodies","$table","cssInfoBlock","parsersDebug","extractors","columns","$headers","headers","empties","emptyTo","emptyToBottom","strings","stringTo","buildCache","cc","tx","$row","cacheTime","totalRows","rowData","colMax","$tb","showProcessing","isProcessing","normalized","cssChildRow","cssHasChild","order","ignoreCase","appendToTable","$bk","appendTime","wo","widgetOptions","tBodies","appender","isUpdating","processTbody","pager","removeRows","pager_removeRows","applyWidget","formatSortingOrder","buildHeaders","$t","lock","headerList","headerContent","computeColumnIndex","cssIcon","icon","selectorHeaders","headerTemplate","onRenderTemplate","headerIn","onRenderHeader","column","sortInitialOrder","lockedOrder","header","cssHeader","headerRow","cssHeaderRow","scope","role","updateHeader","commonUpdate","resort","selectorRemove","checkResort","$th","th","sortDisabled","setHeadersCss","f","sortList","none","sortNone","cssNone","sortAsc","cssAsc","sortDesc","cssDesc","$extraHeaders","nextSort","sortReset","txt","language","getCachedSortType","initSort","cell","arry","indx","sortMultiSortKey","sortResetKey","sortRestart","sortForce","colSpan","sortAppend","isValueInArray","multisort","sortTime","cts","textSorter","bl","serverSideSorting","sortStable","numberSorter","resortComplete","flag","sl","bindMethods","refreshWidgets","restoreHeaders","icell","$cell","tbdy","primary","updateHeaderSortCount","delayInit","getWidgetById","dontapply","originalSettings","hasInitialized","setup","widgets","theme","widthFixed","cancelSelection","usNumberFormat","sortLocaleCompare","zebra","initWidgets","tableClass","cssProcessing","selectorSort","childRow","info","processing","nextAsc","nextDesc","nextNone","construct","buildTable","tHead","supportsDataObject","widgetInit","colgroup","overallWidth","prepend","fixColumnWidth","sortlist","processTimer","getCell","trs","cellId","rowSpan","firstAvailCol","matrixrow","matrix","lookup","toggle","$ths","$h","getIt","holdr","insertAfter","clearTableBody","core","downTime","external","removeClasses","$r","$f","regex","chunks","hex","sortNatural","xN","xD","yN","yD","xF","yF","mx","sortNaturalAsc","sortNaturalDesc","sortText","getTextValue","charCodeAt","sortNumericAsc","sortNumericDesc","sortNumeric","characterEquivalents","replaceAccents","acc","characterRegex","characterRegexArray","addParser","parser","addWidget","hasWidget","w","wd","isApplyingWidgets","priority","doAll","cw","cl","formatFloat","isDigit","toLocaleLowerCase","ci","parserMetadataName","$tr","even","rmv","COMMA","ESCAPE","PERIOD","mouse","addClasses","axis","connectToSortable","containment","cursorAt","grid","handle","helper","iframeFix","refreshPositions","revert","revertDuration","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","drag","_setPositionRelative","_setHandleClassName","_removeHandleClassName","destroyOnClear","_getHandle","_blurActiveElement","_blockFrames","iframeBlocks","_unblockFrames","safeActiveElement","safeBlur","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","offsetParent","hasFixedAncestor","positionAbs","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","dragStart","margins","_getParentOffset","relative","_getRelativeOffset","noPropagation","_convertPositionTo","_uiHash","dropped","dragStop","handleElement","helperIsFunction","helperProportions","_isRootNode","po","scrollIsRootNode","isUserScrollable","ce","relativeContainer","scrollWidth","mod","constrainPosition","co","cancelHelperRemoval","plugin","plugins","draggable","uiSortable","sortables","isOver","_storedCSS","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","currentItem","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","$o","bs","ls","rs","x1","x2","y1","y2","snapping","release","snapItem","makeArray","_zIndex","allowDisconnected","ready","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","tolerance","activate","beforeStop","deactivate","out","over","receive","_isOverAxis","reference","_isFloating","refresh","overrideHandle","validHandle","reverting","_refreshItems","addBack","_removeCurrentsFromItems","noActivation","currentContainer","domPosition","_createPlaceholder","storedCursor","storedStylesheet","_storedOpacity","_storedZIndex","_preserveHelperProportions","containers","dragging","itemElement","lastPositionAbs","_intersectsWithPointer","direction","_intersectsWithSides","_rearrange","_contactContainers","animation","_noFinalSort","serialize","_getItemsAsjQuery","connected","res","expression","dyClick","dxClick","isOverElementHeight","isOverElementWidth","isOverElement","forcePointerForContainers","floating","verticalDirection","horizontalDirection","_getDragVerticalDirection","_getDragHorizontalDirection","isOverBottomHalf","isOverRightHalf","_connectWith","queries","addItems","_queries","queriesLength","fast","toleranceElement","custom","refreshContainers","_createTrPlaceholder","innerHeight","innerWidth","sourceTr","targetTr","dist","itemWithLeastDistance","posProperty","sizeProperty","nearBottom","innermostContainer","innermostIndex","hardRefresh","delayedTriggers","delayEvent","_inst","sender","serializeObject","$select","TimedNumber","timer","keyHandler","handleObj","origHandler","combo","special","hotkeys","specialKeys","character","modif","possible","shiftNums","pressed","inc","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","91","96","97","98","99","100","101","102","103","104","105","106","107","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","144","145","188","190","191","224","219","221","keypressKeys","moveTo","scrollTarget","transition","scrollOffset","topOffset","animating","jQueryCache","Zepto","globalize","polyfillConsole","checkbox","radio","siblings","formatString","message","apos","simpleFormat","numberFormat","choiceFormat","choicePart","getParamValue","isInvalidFormat","prevOptionValue","argValue","logger","formatArgs","_performTokenRegex","tick","openIndex","openCount","_formatString","AUI_VERSION","eventType","eventData","extraParameters","'","escapeHtml","deprecationCalls","getShowDeprecationMessage","displayName","printFrameOffset","deprecatedLocation","stacktrace","stackMessage","getDeprecatedLocation","deprecationType","sinceVersion","removeInVersion","alternativeName","extraInfo","extraObject","logCssDeprecation","selectorMap","newNode","deprecateFunctionExpression","showDeprecationMessage","deprecateConstructor","constructorFn","deprecatedConstructor","supportsProperties","deprecateObjectProperty","displayNameOrShowMessageFn","oldVal","deprecateValueProperty","handleAddingSelector","deprecatedSelectorMap","testAndHandleDeprecation","observeFutureChange","recomputeStyle","getPropertyValue","overflowEl","selectors","objDisplayPrefix","alternativeNamePrefix","propertyDeprecationSupported","getMessageLogger","_hiddenByAui","useShim","hasAriaHidden","isAuiLayer","useShimDeprecationLogger","isBlanketShowing","$dim","cachedOverflow","overflow","overflowX","overflowY","undim","CAPS_LOCK","COMMAND","COMMAND_LEFT","COMMAND_RIGHT","LEFT_SQUARE_BRACKET","CONTROL","INSERT","MENU","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","WINDOWS","alias","auiSkate","state","stateName","stateValue","_state","getTrigger","findControllers","setTrigger","validTrigger","doIfTrigger","forEachTrigger","frames","controllers","someFramesAreCrossOrigin","currentDocumentControllers","allControllers","findControlled","getElementById","isEnabled","triggerMessage","$closestAnchor","isNestedAnchor","relatedTarget","focusingToControlledElement","msg","amdify","visible","isTabIndexNotNaN","mapName","imageMap","isFormElement","isAnchor","isAnchorTabbable","pseudos","isTabIndexNaN","RESTORE_FOCUS_DATA_KEY","elementTrapsFocus","FocusManager","_focusTrapStack","_handler","focusTrapHandler","focusTrapStack","keyCodes","focusOrigin","$focusTrapElement","$tabbableElements","originIdx","newFocusIdx","$controlledElementWithFocus","$subTabbable","subMove","triggerEl","getFocusManager","defaultFocusSelector","$lastFocused","lastFocussedEl","setLastFocus","focusSelector","exit","$restoreFocus","getLastFocus","dataAttr","selectorOrOptions","maybeOptions","CustomEvent","bubbles","cancelable","detail","defaultPrevented","initCustomEvent","origPrevent","EVENT_PREFIX","GLOBAL_EVENT_PREFIX","$doc","onTransitionEnd","transitionProperty","isTransitioning","propertyName","triggerEvent","deprecatedName","newNativeName","e1","e2","nativeEvent","nativeEvent2","Layer","below","LayerManager","changeSize","isVisible","thisLayer","popUntil","isBlanketed","dataset","auiBlanketed","isPersistent","modal","getDOMContainer","querySelector","_hideLayer","triggerBeforeEvents","_showLayer","domContainer","createLayer","topIndexWhere","layerArr","layerIndex","$layer","topBlanketedIndex","updateBlanket","oldBlanketIndex","newTopBlanketedIndex","popLayers","stopIndex","forceClosePersistent","layer","_stack","hasLayer","$trigger","popLayersBeside","_nextZIndex","$topEl","nextZIndex","hasTrigger","blanketedIndex","parentLayer","getParentLayer","parentIndex","hideAll","reverse","getNextLowerNonPersistentOrBlanketedLayer","$nextEl","getNextHigherNonPeristentAndNonBlanketedLayer","oldTopBlanketedIndex","getTopLayer","popTopIfNonPersistent","$topLayer","popUntilTopBlanketed","$topBlanketedLayer","$next","popUntilTopPersistent","$toPop","toPop","customEvent","Manager","deprecation","Proxy","populateParameters","parameters","$body","toInit","when","then","ex","I18n","getText","banner","$banner","parseHTML","renderBannerElement","findContainer","$bannerContainer","prependTo","insertBanner","SIZE","SMALL","px","radius","MEDIUM","LARGE","DEFAULTS","filled","filledAttributeReplacementText","filledAttributeDeprecatedLogger","filledPropDeprecatedLogger","validateSize","svg","circle","circleSize","setSize","selfDomRect","parentDomRect","parentMiddleTop","spinnerMiddleTop","setMiddleTop","removeMiddleTop","SpinnerEl","__data","isFilled","newSize","isBusy","isInputNode","_spinner","busy","idle","CLOSE_BUTTON_CLASS","CLOSE_BUTTON_CLASS_SELECTOR","CLOSE_BUTTON","Dialog2","_handlers","dataKey","layerWidget","dialog2Widget","dialog2GlobalHandlers","Set","$elementToFocus","doesSupportHtml5DateInput","doesSupportFocusWithin","ua","isMacOSX","rect","getWindow","getWindowScroll","win","pageXOffset","pageYOffset","isHTMLElement","getNodeName","getDocumentElement","getWindowScrollBarX","isScrollParent","_getComputedStyle","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","getParentNode","assignedSlot","host","getScrollParent","listScrollParents","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","getOffsetParent","currentNode","transform","perspective","willChange","getContainingBlock","auto","basePlacements","viewport","variationPlacements","placement","modifierPhases","modifiers","Map","visited","modifier","requires","requiresIfExists","dep","depModifier","DEFAULT_OPTIONS","strategy","areValidElements","_len","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","popper","pending","orderedModifiers","modifiersData","styles","effectCleanupFns","isDestroyed","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","mergeByName","_ref3","_ref3$options","cleanupFn","noopFn","forceUpdate","_state$elements","rects","_state$orderedModifie","_state$orderedModifie2","_options","Promise","resolve","onFirstUpdate","passive","getBasePlacement","getVariation","getMainAxisFromPlacement","computeOffsets","_ref","basePlacement","variation","commonX","commonY","mainAxis","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","_roundOffsets","dpr","devicePixelRatio","roundOffsets","hasX","hasY","sideX","sideY","_Object$assign","commonStyles","getOppositePlacement","matched","getOppositeVariationPlacement","isShadow","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","getViewportRect","getInnerBoundingClientRect","winScroll","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperOffsets","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","_options$scroll","_options$resize","_options$gpuAccelerat","_options$adaptive","arrow","initialStyles","_options$offset","invertDistance","skidding","distanceAndSkiddingToXY","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","placements","_options$allowedAutoP","allowedPlacements","overflows","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","check","_loop","_i","fittingPlacement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_preventedOffset","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","GPU_ACCELERATION_FLAG","ALIGNMENT_MAP","getAlignmentAttribute","getAlignment","addAlignmentClasses","sideClass","snapClass","calculateBestAlignmentSnap","getContainer","containerBounds","calculatePlacement","alignment","getPlacement","allowedPlacement","Alignment","frame","frameElement","_eventListenersEnabled","eventsEnabled","_triggerOnEvents","flip","flipContainer","escapeWithReference","overflowContainer","onUpdate","onEvents","sum","getTotalValue","paddingTop","borderTop","paddingLeft","borderLeft","popperConfig","positionFixed","onCreate","createPopper","changeTarget","newTarget","referenceEl","scheduleUpdate","ifGone","deferred","Deferred","parentElement","promise","uniqueID","uniqueIDstring","uniqueIDcounter","generateUniqueId","isHidden","setDropdownTriggerActiveState","isActive","handleFocus","mouseEvent","isSubmenu","focusItem","UNLOADED","LOADING","ERROR","setDropdownContents","json","sectionData","sectionItemsHtml","itemData","makeBooleanAttribute","makeAttribute","sectionAttributes","makeAsyncDropdownContents","setDropdownErrorState","loadContentsIfAsync","setDropdownLoadingState","status","fail","always","setDropdownLoaded","getDropdownItems","getAllDropdownItems","getVisibleDropdownItems","amendDropdownContent","amendDropdownItem","destroyAlignment","_auiAlignment","setLayerAlignment","hasSubmenu","hasSubmenuAlignment","previousAlignment","restorePreviousAlignment","hasAnyAlignment","saveCurrentAlignment","deprecate","lazyDeprecate","$item","$triggerGroup","$groupActiveTrigger","$groupFocusedTrigger","keyboardClose","keyboardCloseDetected","bindDropdownBehaviourToLayer","migrateAndSyncLegacyClassNames","_returnTo","possibleHome","getDropdownHideLocation","bindItemInteractionBehaviourToDropdown","belongsToDropdown","focusNext","focusPrevious","eventKeyCode","isEnter","isSpace","theMenu","hideIfNotSubmenuAndNotInteractive","maybeALayer","dropdownCreated","isInteractive","isChecked","uncheck","dropdownPrototype","$items","disabledAttributeHandler","interactiveAttributeHandler","checkedAttributeHandler","hiddenAttributeHandler","stringAttributeHandlerGenerator","ItemLinkEl","interactive","for","anchor","updated","ItemCheckboxEl","ItemRadioEl","checked","SectionEl","headingElement","groupElement","DropdownEl","isDropdownUnloaded","hasCurrentErrorBeenShown","dropdownID","handleIt","forceShow","normalInvoke","submenuInvoke","rootMenuInvoke","loadContentWhenMouseEnterTrigger","getExpanderProperties","properties","$content","triggerIsParent","$shortContent","isCollapsible","replaceText","replaceSelector","$replaceElement","EXPANDER_EVENTS","createMessageConstructor","messages","closeable","$message","fadeout","titleHtml","renderMessageElement","insertWhere","insertMessageIntoContext","makeCloseable","makeFadeout","$closeIcons","$icon","closeMessage","hasFocus","isHover","resetFadeOut","fadeTo","shouldStartFadeOut","createMessage","MessageEl","ID_FLAG_CONTAINER","$flag","renderFlagElement","closeFlag","extendFlagElement","makeAutoClosable","closedFlags","from","handleFlagContainer","flagContainer","insertFlag","$flagToClose","AUI_TOOLTIP_CLASS_NAME","tooltip","allOptions","stringOption","$self","triggerIsHover","hideOnClick","onClick","bindTooltip","templates","createSection","$clearItemsSection","class","$section","$itemList","$li","styleClass","$a","optionsHtml","dropdownId","$button","handleDropdownSelection","updateOption","$toUpdate","updateClearAll","getSelectedDescriptors","mapOptionDescriptors","$options","$option","renderDropdown","getOptions","getDescriptors","renderButton","selectedLabels","getSelectedLabels","isImplicitAll","getImplicitAllLabel","$btn","getSelectedOptions","descriptor","CheckboxMultiselectEl","uid","deselectAllOptions","getButtonTitle","selectOption","unselectOption","getValue","addOption","removeOption","enforcer","attributeExists","satisfiesRules","refersTo","desiredId","ariaControls","ariaOwns","INPUT_SUFFIX","getLabel","LabelEl","_label","enforce","form","originalSelect2","auiContainer","auiDropdown","auiHasAvatar","auiSelect2","updatedArgs","auiOpts","auiAvatarClass","hasAvatar","spin","firstArgs","maybeArgs","spinStop","$spinnerDom","color","spinner","encodeURI","ProgressiveDataSet","_idAttribute","_maxResults","maxResults","_queryData","queryData","_queryParamKey","queryParamKey","_queryEndpoint","queryEndpoint","queryCache","activeQueryCount","remote","getFilteredResults","respond","hasQueryCache","shouldGetMoreResults","activity","succ","addQueryCache","getQueryData","response","findQueryCache","setMaxResults","number","SuggestionsModel","_suggestions","_activeIndex","onHighlightChange","suggestions","oldSuggestions","getNumberOfResults","setHighlighted","toHighlight","highlightPrevious","previousActiveIndex","highlightNext","nextActiveIndex","highlighted","highlightedIndex","generateListItemID","listId","SuggestionsView","clearActive","currentLength","currListId","sugg","imageSrc","image","newValueText","setActive","getActive","view","enableAlignment","deselect","_select","_input","clearElementImage","hasResults","_suggestionModel","matchPrefix","hideDropdown","_suggestionsView","setInitialVisualState","initialHighlightedItem","suggest","autoHighlight","_autoHighlight","_progressiveDataSet","setInputImageToHighlightedSuggestion","imageSource","setElementImage","setValueAndDisplayFromModel","DOMParser","parseFromString","selectHighlightedSuggestion","convertOptionToModel","SuggestionModel","convertOptionsToModels","_datalist","getActiveId","_dropdown","getIndexInResults","initialiseProgressiveDataSet","_isSync","_button","setBusyState","setIdleState","isInputExactMatch","isInputEmpty","Option","newValueSuggestionModel","createNewValueModel","indexOfValueInResults","resultsChanged","clearAndSet","optionToHighlight","focusInHandler","searchValue","cancelInProgressQueries","isQueryInProgress","getSelectedLabel","focusOutHandler","selectCanBeEmpty","selectionIsEmpty","selectionNotExact","handleInvalidInputOnFocusOut","handleHighlightOnFocusOut","SelectEl","_listId","suggestionsToAdd","newSuggestion","oldSuggestion","associateDropdownAndTrigger","bindHighlightMouseover","preventClosingContainerLayer","bindSelectMousedown","initialiseValue","currentValue","handleTabOut","setBooleanAttribute","computeBooleanValue","attrValue","computeEnumValue","enumOptions","matchesEnumValue","enumValue","isMissing","missingDefault","invalidDefault","setEnumAttribute","getInput","getSpinner","removedAttributeHandler","fallbackAttributeHandler","getAttributeHandler","formAttributeHandler","_formId","idAttributeHandler","valueAttributeHandler","labelHandler","bindEventsToInput","supportsFocusWithin","ToggleEl","_canFireEventsNow","fireChangeEvent","newVal","indeterminate","changeTrigger","newTrigger","oldTrigger","alignmentOptions","shouldFocus","userInteractingWith","showOnEnter","_closingTimeout","closeAfter","messageHandler","onMouseEnter","onMouseLeave","onBlur","respondsTo","rebindMouseEvents","namespaceEvent","elId","maybeShow","maybeHide","maybeInitialise","__initialised","noNestedTriggers","setupNestedLayerHandlers","teardownNestedLayerHandlers","disableAlignment","RESPONDS_TO_ATTRIBUTE_ENUM","InlineDialogEl","__propUpdate","oldComputedValue","messageList","handleMessage","Navigation","$treeParent","$subtreeToggleIcon","$selected","navigationWidget","expand","$togglers","$parent","isListItemExpanded","isNested","isCollapsed","NavigationEl","transitionProgress","progressBar","progressBarContainer","currentProgress","$progressBar","$progressBarContainer","one","progressValue","updateProgress","setIndeterminateOnProgressElement","validNumeric","parseNumeric","Number","parseDecimal","precision","toFixed","calc","parsedMax","safeMax","parsedVal","safeValue","valAsFraction","valAsPercent","bar","setValue","setMax","ProgressBarEl","legacyValue","_updating","progressBars","valueAttribute","isIndeterminate","isProgressNotChanged","setIndeterminate","DEFAULT_SORT_OPTIONS","sortTable","extraOptions","$header","sorter","wrapInner","tablessortable","keyComponents","projectKey","issueNumber","PROJECT_KEY_TEMPLATE","ISSUE_NUMBER_TEMPLATE","stringRepresentation","setTableSortable","addId","addprefix","isClipped","getPaneIdFromTabLink","maybeId","getPaneFromTabLink","ResponsiveAdapter","totalTabsWidth","$visibleTabs","totalVisibleTabsWidth","totalVisibleTabWidth","totalDropdownTabsWidth","tab","$tabs","totalWidth","removeResponsiveDropdown","$dropdownTriggerTab","createResponsiveDropdownTrigger","$tabsMenu","triggerMarkup","createResponsiveDropdown","$tabsContainer","dropdownMarkup","findNewVisibleTabs","tabs","parentWidth","dropdownTriggerTabWidth","hasMoreSpace","currentTotalTabWidth","moveVisibleTabs","oldVisibleTabs","$tabsParent","newVisibleTabs","lastTabIndex","$tab","moveTabToResponsiveDropdown","$tabLink","moveInvisibleTabs","tabsInDropdown","remainingSpace","tabInDropdownWidth","moveTabOutOfDropdown","switchToTab","pane","$pane","isPersistentTabGroup","$tabGroup","createPersistentKey","tabGroupId","handleTabClick","responsiveResizeHandler","tabsContainer","$dropdownTrigger","isResponsive","needsResponsive","$newVisibleTabs","visibleTabWidth","$tabsInDropdown","calculateResponsiveTabs","getResponsiveTabs","initTab","$tabMenu","link","$thisLink","targetPane","initPane","initPanes","initTabs","$tabGroups","ii","localStorage","persistentTabId","getItem","updateTabsFromLocalStorage","initWindow","thisTab","tabId","setItem","updateLocalStorageEntry","TabContainerEl","findTabs","TabItemEl","extends","TabPaneEl","$component","findComponent","CLASS_NOTIFICATION_INITIALISED","ATTRIBUTE_NOTIFICATION_WAIT","ATTRIBUTE_NOTIFICATION_PREFIX","ATTRIBUTE_NOTIFICATION_INFO","ATTRIBUTE_NOTIFICATION_ERROR","NOTIFICATION_PRIORITY","initialiseNotification","$field","isFieldInitialised","appendDescription","prepareFieldMarkup","synchroniseNotificationDisplay","getNotificationMessage","getFieldNotificationType","descriptionTemplate","notificationType","jsonOrString","jsonArray","exception","jsonToArray","fieldNotificationType","prioritisedNotification","field","setFieldSpinner","appendErrorMessages","previousErrors","getMessageContainer","errorMessageTemplate","isSpinnerVisible","isSpinnerForFieldAlreadyExisting","deprecationLogger","ATTRIBUTE_RESERVED_ARGUMENTS","validators","validatorRegister","validatorFunction","triggerSelector","reservedArgument","validatorArguments","arg","isReserved","getReservedArgument","validator","validatorTrigger","minMaxLength","fieldValueLength","fieldIsEmpty","minlength","maxlength","exactlengthMessage","makeMessage","invalidate","minlengthMessage","maxlengthMessage","isPasswordField","matchesRegex","patternMessage","requiredMessage","minOrMax","validNumberMessage","fieldValue","minValue","maxValue","accessorFunction","customTokens","defaultMessage","pluginI18nMessages","messageTokens","formattingArguments","customMessageUnformatted","AJS","thisFieldValue","matchingField","matchingFieldValue","matchingFieldMessage","doesNotContainMessage","dateFormatSymbolic","dateFormatMessage","symbolRegexMap","dateFormatSymbolArray","dateFormatRegexString","dateSymbol","isRecognisedSymbol","dateFormatRegex","amountChecked","aboveMin","belowMax","belowMinMessage","aboveMaxMessage","exactlength","matchingfield","doesnotcontain","validnumber","dateformat","minchecked","maxchecked","INVALID","VALID","VALIDATING","UNVALIDATED","CLASS_VALIDATION_INITIALISED","EVENT_FIELD_STATE_CHANGED","initValidation","keyUpTimer","triggerStopTypingEvent","bindStopTypingEvent","validateWhen","getValidationOption","watchedFieldID","validationTriggeredHandler","bindValidationEvent","bindFieldEvents","changeFieldState","setFieldNotification","getDisplayField","clearFieldMessages","validatorsToRun","callList","getValidators","getActivatedValidators","deferreds","allDeferreds","validatorIndex","validatorDeferred","createArgumentAccessorFunction","createValidatorContext","runValidatorsAndGetDeferred","fieldValidators","startValidating","optionValue","$displayField","stateToNotificationTypeMap","getFieldState","showSpinnerIfSlow","spinnerWasVisible","removeFieldNotification","removeIconOnlyNotifications","newString","previousString","previousMessage","newMessages","displayFieldID","delaySubmitUntilStateChange","$form","getFieldsInFormWithState","formState","$fields","stateNames","containsInvalidState","containsUnvalidatedState","containsValidatingState","getFormStateName","validateUnvalidatedFields","selectFirstInvalid","validSubmitEvent","deprecatedDebounce","Header","$secondaryNav","menuItems","$moreMenu","rightMostNavItemIndex","$applicationLogo","moreMenuWidth","primaryButtonsWidth","$headerFind","_resizeHandler","constructResponsiveDropdown","$logoImg","calculateAvailableWidth","showResponsiveDropdown","hideResponsiveDropdown","remainingWidth","availableWidth","showAll","newRightMostNavItemIndex","moveToResponsiveDropdown","moveOutOfResponsiveDropdown","moreNavItemEl","dropdownEl","dropdownSectionEl","numItems","$moreDropdown","leftMostIndexToMove","rightMostIndexToMove","$navItem","$navItemTrigger","$navItemDropdown","moreDropdownSectionEl","moreDropdownItemEl","originalItem","newItem","createHeader","_header","findAndCreateHeaders","responsiveheader","makeConfig","dateText","makeDefaultPopupController","datePickerUUID","popup","popupContents","parentPopup","isTrackingDatePickerFocus","handleDatePickerFocus","$eventTarget","isTargetInput","isTargetPopup","hideDatePicker","handleFieldBlur","handleFieldFocus","showDatePicker","calendarContainerSelector","getPopupContents","horizontalAlignment","popupInlineDialogElement","makePopup","calculateHorizontalAlignment","_datePickerPopup","handleChangeMonthYear","getCalendarNode","destroyPolyfill","createPolyfill","initPolyfill","datePicker","getField","getUUID","calendar","handleFieldUpdate","originalPlaceholder","originalType","attributeHandler","withCalendar","destroyCalendar","setMin","languageCode","DatePicker","localisations","i18nConfig","baseConfig","hint","$hint","initCalendar","mutationsList","baseOptions","browserDoesNotSupportDateField","browserSupportsDateField","shouldOverrideBrowserDefault","overrideBrowserDefault","reconfigure","newOptions","CalendarWidget","calendarNode","$result","supportsDateField","datepickerUI","makePlugin","WidgetConstructor","picker","calendarWidget","NO_VALUE","NO_ENTRIES","RESTFUL_TABLE","ROW","READ_ONLY","ACTIVE","ALLOW_HOVER","FOCUSED","MOVEABLE","DISABLED","SUBMIT","CANCEL","EDIT_ROW","CREATE","DRAG_HANDLE","ORDER","EDITABLE","STATUS","ENABLED_SUBMIT","ROW_VIEW","REORDER_SUCCESS","ROW_ADDED","ROW_REMOVED","SERVER_ERROR","CREATED","UPDATED","FOCUS","BLUR","SAVE","MODAL","MODELESS","CONTENT_REFRESHED","RENDER","FINISHED_EDITING","VALIDATION_ERROR","SUBMIT_STARTED","SUBMIT_FINISHED","INITIALIZED","ROW_INITIALIZED","ROW_EDIT","SPINNER_SELECTOR","appendStatusSpinner","classNames","removeStatusSpinner","isFirefox","_event","dataKeys","isCreateRow","allowReorder","isUpdateMode","_modelClass","fieldFocusSelector","focusUpdated","submit","_submitStarted","_submitFinished","defaultColumnRenderer","allowEdit","ariaLabel","renderDragHandle","_handleKeyUpEvent","_cancel","submitting","showLoading","hideLoading","_focus","$focus","$error","$replacementSubmit","$submit","$placeholderSubmit","hasUpdates","mapSubmitParams","errors","renderErrors","renderError","renderData","contents","inputAriaLabel","createView","editView","renderOperations","$operations","accesskey","submitAccessKey","cancelAccessKey","eventRoot","triggerEvt","triggerEvtForInst","EntryModel","oldError","_serverErrorHandler","syncModel","parseJSON","responseText","addExpand","ajaxOptions","allowDelete","deleteConfirmationCallback","unfocus","edit","$opsCell","$throbberCell","fieldName","readView","$editableRegion","emptyText","RestfulTable","_getDefaultOptions","wrapAll","$thead","$theadRow","$tbody","showGlobalLoading","_models","_createCollection","_rowClass","views","editRows","focusedRow","elt","$td","borderRight","cachedHeight","getColumnCount","getRowFromElement","nextItem","prevItem","move","allowCreate","_createRow","editRow","resources","addPosition","createPosition","addRow","$create","_applyFocusCoordinator","getRows","removeRow","fetchInitialResources","createRequest","afterElement","reverseOrder","responseData","tableRows","hideGlobalLoading","renderRows","showNoEntriesMsg","autoFocus","$loading","loadingMsg","_renderRow","removeNoEntriesMsg","getModels","getTable","getTableBody","getCreateRow","staticFieldCount","$noEntries","noEntriesMsg","$rows","isRowBeingEdited","isBeingEdited","hasFocusBound","Row","_removeEditRow","_shiftFocusAfterEdit","_saveEditRowOnBlur","dismissEditRows","els","EditRow","ClassNames","CustomCreateView","CustomEditView","CustomReadView","DataKeys","DocumentTouch","hasTouch","replaceAttributeForID","$clone","deduplicateIDs","uidFunction","setCorrespondingTriggersID","sidebarOffset","sidebar","Sidebar","$wrapper","_previousScrollTop","_previousViewportHeight","_previousViewportWidth","_previousOffsetTop","submenus","SubmenuManager","collapsedTriggersSelector","constructSubmenu","lazilyInitializeSubmenus","mq","matchMedia","testMediaQuery","mediaQuery","pendingReflow","onScrollResizeReflow","requestAnimationFrame","reflow","isAnimated","isViewportNarrow","toggleShortcutHandler","isNormalSquareBracket","isNormalTab","isContentEditable","isShiftTab","isFirstSubmenuItem","$submenuDialog","isLastSubmenuItem","focusFirstItemOfInlineDialog","$inlineDialog","_remove","_removeAllTooltips","inlineDialogSelector","showTipsy","hideTipsy","toggleSelector","submenuInlineDialog","getSubmenuInlineDialog","$submenuInlineDialog","hideAllSubmenus","initializeHandlers","namespaceEvents","getAllSubmenuDialogs","inlineDialog","getSubmenu","inlineDialogId","allSubmenuDialogs","inlineDialog2","inlineDialogClass","didOtherLayerOpened","didNestedInlineDialogOpened","SUBMENU_INLINE_DIALOG_CONTENTS_HTML","$container","cloneExpander","inlineDialogShowHandler","inlineDialogHideHandler","addHandlersToSubmenuInlineDialog","namespacedEvents","setHeight","viewportHeight","headerHeight","visibleHeaderHeight","setTopPosition","setPosition","setLeftPosition","setCollapsedState","viewportWidth","collapsed","expanded","narrow","wide","_expand","_collapse","collapseState","oldSize","startEvent","submenuTriggersSelector","tooltipSelector","responsiveReflow","isInitialPageLoad","isTouch","isTrackpadBounce","_previousScrollLeft","isFlyOut","submenu","sidebarSubmenuDeprecationLogger","submenuHeadingHeight","isShowing","isSubmenuVisible","showSubmenu","moveSubmenuToInlineDialog","restoreSubmenu","getVisibleSubmenus","tipsyOpts","durationStr","timeoutMs","createPopup","closeOnOutsideClick","keypressListener","highestZIndex","currentPopup","applySize","_applySize","marginTop","marginLeft","blanket","focusDialog","popupBlanket","Dialog","Button","onclick","buttonpanel","addButtonPanel","_onclick","dialog","Link","itemMove","leftOrRight","dtarget","curtab","itemRemove","moveUp","moveLeft","moveDown","moveRight","Panel","panelButtonId","panel","menu","onblur","onselect","ontabchange","setPadding","recalcSize","Page","curpage","buttonHeight","dialogComponentsHeight","addPanel","addHeader","addButton","addLink","gotoPanel","getCurrentPanel","addSubmit","addCancel","addPage","nextPage","prevPage","gotoPage","getPanel","pageorpanelId","panelId","pageid","getPage","pageorpanel","coll","nameExp","selectorExp","queryRE","justtitle","name2","title2","id2","justtitle2","pages","updateHeight","maxDialogHeight","MIN_DIALOG_VERTICAL_BUFFER","isMaximised","getCurPanel","getCurPanelButton","alternatveName","EMPTY_SELECTOR","isMac","platform","isSafari","multiCharRegex","triggerClickEvent","initMouseEvent","whenIType","boundKeyCombos","executor","Callbacks","keypressHandler","fire","defaultPreventionHandler","bindKeys","keyCombo","keysArr","keyString","currModifiers","modifierMatch","multiCharMatch","keyComboArrayFromString","hasUnprintables","bindKeyCombo","appendKeyComboInstructions","isFirst","makeShortcut","addShortcutsToTitle","keyCombos","existingCombos","shortcutInstructions","originalTitle","existingCombo","removeShortcutsFromTitle","shortcuts","selectorsWithTitlesModified","makeMoveToFunction","getNewFocus","focusedClass","wrapAround","escToCancel","$focusedElem","moveToOptions","moveToNextItem","moveToPrevItem","goTo","followLink","command","moveToAndClick","moveToAndFocus","$elem","or","fromJSON","switchCtrlToMetaOnMac","operation","op","shortcutList","shortcutString","newShortcut","load","InlineDialog2","debounceImmediate","formValidation","_addID"],"mappings":"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IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,KAAK,IAAS,KAAK,IAAS,KAAK,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,IAAI,IAAS,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","file":"aui-prototyping.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@atlassian/aui\", [\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@atlassian/aui\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"AJS\"] = factory(root[\"jQuery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n","//     Backbone.js 1.4.0\n\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global;\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.4.0';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // A private global variable to share between listeners and listenees.\n  var _listening;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening;\n      // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n      _listening.interop = false;\n    }\n\n    return this;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    }\n\n    // Bind callbacks on obj.\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n\n    if (error) throw error;\n    // If the target obj is not Backbone.Events, track events manually.\n    if (listening.interop) listening.on(name, callback);\n\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n  var tryCatchOn = function(obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var context = options.context, listeners = options.listeners;\n    var i = 0, names;\n\n    // Delete all event listeners and \"drop\" events.\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Find any remaining events.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      }\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n  var Listening = function(listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on;\n\n  // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n  Listening.prototype.off = function(name, callback) {\n    var cleanup;\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n    if (cleanup) this.cleanup();\n  };\n\n  // Cleans up memory bindings between the listener and the listenee.\n  Listening.prototype.cleanup = function() {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n      return hasChanged ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Get an iterator of all models in this collection.\n    values: function() {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n\n    // Get an iterator of all model IDs in this collection.\n    keys: function() {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function() {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n  /* global Symbol */\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  }\n\n  // CollectionIterator\n  // ------------------\n\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n  var CollectionIterator = function(collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  };\n\n  // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3;\n\n  // All Iterators should themselves be Iterable.\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function() {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function() {\n    if (this._collection) {\n\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n        this._index++;\n\n        // Construct a value depending on what kind of values should be iterated.\n        var value;\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes);\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else { // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n        return {value: value, done: false};\n      }\n\n      // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n      this._collection = void 0;\n    }\n\n    return {value: void 0, done: true};\n  };\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(base, length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return base[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return base[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return base[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return base[method].apply(base, args);\n      };\n    }\n  };\n\n  var addUnderscoreMethods = function(Class, base, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n    foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n    select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n    contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n    head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n    without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n    isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n    sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n    omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([\n    [Collection, collectionMethods, 'models'],\n    [Model, modelMethods, 'attributes']\n  ], function(config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function(obj) {\n      var mappings = _.reduce(_.functions(obj), function(memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    create: 'POST',\n    update: 'PUT',\n    patch: 'PATCH',\n    delete: 'DELETE',\n    read: 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n        .replace(optionalParam, '(?:$1)?')\n        .replace(namedParam, function(match, optional) {\n          return optional ? match : '([^/?]+)';\n        })\n        .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var rootPath = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the fragment of the query and hash for matching.\n      fragment = fragment.replace(pathStripper, '');\n\n      // Decode for matching.\n      var decodedFragment = this.decodeFragment(fragment);\n\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define('underscore', factory) :\n  (function() {\n  \tvar current = global._;\n  \tvar exports = factory();\n  \tglobal._ = exports;\n  \texports.noConflict = function() { global._ = current; return exports; };\n  })();\n}(this, (function () {\n\n  //     Underscore.js 1.10.2\n  //     https://underscorejs.org\n  //     (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            Function('return this')() ||\n            {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Create references to these builtin functions because we override them.\n  var _isNaN = root.isNaN,\n      _isFinite = root.isFinite;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // The Underscore object. All exported functions below are added to it in the\n  // modules/index-all.js using the mixin function.\n  function _(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  }\n\n  // Current version.\n  var VERSION = _.VERSION = '1.10.2';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  function optimizeCb(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because we’re not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  }\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result — either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  function baseIteratee(value, context, argCount) {\n    if (value == null) return identity;\n    if (isFunction(value)) return optimizeCb(value, context, argCount);\n    if (isObject(value) && !isArray(value)) return matcher(value);\n    return property(value);\n  }\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = iteratee;\n  function iteratee(value, context) {\n    return baseIteratee(value, context, Infinity);\n  }\n\n  // The function we actually call internally. It invokes _.iteratee if\n  // overridden, otherwise baseIteratee.\n  function cb(value, context, argCount) {\n    if (_.iteratee !== iteratee) return _.iteratee(value, context);\n    return baseIteratee(value, context, argCount);\n  }\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the function’s\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6’s \"rest parameter\".\n  function restArguments(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  }\n\n  // An internal function for creating a new object that inherits from another.\n  function baseCreate(prototype) {\n    if (!isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  }\n\n  function shallowProperty(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  }\n\n  function _has(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  function deepGet(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  }\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  function isArrayLike(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  }\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  function each(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var _keys = keys(obj);\n      for (i = 0, length = _keys.length; i < length; i++) {\n        iteratee(obj[_keys[i]], _keys[i], obj);\n      }\n    }\n    return obj;\n  }\n\n  // Return the results of applying the iteratee to each element.\n  function map(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var _keys = !isArrayLike(obj) && keys(obj),\n          length = (_keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[_keys ? _keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = _keys ? _keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  var reduce = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  var reduceRight = createReduce(-1);\n\n  // Return the first value which passes a truth test.\n  function find(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  }\n\n  // Return all the elements that pass a truth test.\n  function filter(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  }\n\n  // Return all the elements for which a truth test fails.\n  function reject(obj, predicate, context) {\n    return filter(obj, negate(cb(predicate)), context);\n  }\n\n  // Determine whether all of the elements match a truth test.\n  function every(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  }\n\n  // Determine if at least one element in the object matches a truth test.\n  function some(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  }\n\n  // Determine if the array or object contains a given item (using `===`).\n  function contains(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return indexOf(obj, item, fromIndex) >= 0;\n  }\n\n  // Invoke a method (with arguments) on every item in a collection.\n  var invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (isFunction(path)) {\n      func = path;\n    } else if (isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  function pluck(obj, key) {\n    return map(obj, property(key));\n  }\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  function where(obj, attrs) {\n    return filter(obj, matcher(attrs));\n  }\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  function findWhere(obj, attrs) {\n    return find(obj, matcher(attrs));\n  }\n\n  // Return the maximum element (or element-based computation).\n  function max(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Return the minimum element (or element-based computation).\n  function min(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Shuffle a collection.\n  function shuffle(obj) {\n    return sample(obj, Infinity);\n  }\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  function sample(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = values(obj);\n      return obj[random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? clone(obj) : values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  }\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  function sortBy(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return pluck(map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  }\n\n  // An internal function used for aggregate \"group by\" operations.\n  function group(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  }\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  var groupBy = group(function(result, value, key) {\n    if (_has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  var indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  var countBy = group(function(result, value, key) {\n    if (_has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  function toArray(obj) {\n    if (!obj) return [];\n    if (isArray(obj)) return slice.call(obj);\n    if (isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return map(obj, identity);\n    return values(obj);\n  }\n\n  // Return the number of elements in an object.\n  function size(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : keys(obj).length;\n  }\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  var partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. The **guard** check allows it to work with `map`.\n  function first(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return initial(array, array.length - n);\n  }\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  function initial(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  }\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  function last(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return rest(array, Math.max(0, array.length - n));\n  }\n\n  // Returns everything but the first entry of the array. Especially useful on\n  // the arguments object. Passing an **n** will return the rest N values in the\n  // array.\n  function rest(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  }\n\n  // Trim out all falsy values from an array.\n  function compact(array) {\n    return filter(array, Boolean);\n  }\n\n  // Internal implementation of a recursive `flatten` function.\n  function _flatten(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          _flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  }\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  function flatten(array, shallow) {\n    return _flatten(array, shallow, false);\n  }\n\n  // Return a version of the array that does not contain the specified value(s).\n  var without = restArguments(function(array, otherArrays) {\n    return difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  function uniq(array, isSorted, iteratee, context) {\n    if (!isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  var union = restArguments(function(arrays) {\n    return uniq(_flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  function intersection(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  }\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  var difference = restArguments(function(array, rest) {\n    rest = _flatten(rest, true, true);\n    return filter(array, function(value){\n      return !contains(rest, value);\n    });\n  });\n\n  // Complement of zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  function unzip(array) {\n    var length = array && max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = pluck(array, index);\n    }\n    return result;\n  }\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  var zip = restArguments(unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of pairs.\n  function object(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  }\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test.\n  var findIndex = createPredicateIndexFinder(1);\n  var findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  function sortedIndex(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  }\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  var indexOf = createIndexFinder(1, findIndex, sortedIndex);\n  var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](https://docs.python.org/library/functions.html#range).\n  function range(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  }\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  function chunk(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  }\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (isObject(result)) return result;\n    return self;\n  }\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  var bind = restArguments(function(func, context, args) {\n    if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `partial.placeholder` for a custom placeholder argument.\n  var partial = restArguments(function(func, boundArgs) {\n    var placeholder = partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  var bindAll = restArguments(function(obj, _keys) {\n    _keys = _flatten(_keys, false, false);\n    var index = _keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = _keys[index];\n      obj[key] = bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  function memoize(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  }\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  var delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  var defer = partial(delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  function throttle(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var _now = now();\n      if (!previous && options.leading === false) previous = _now;\n      var remaining = wait - (_now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = _now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  }\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  function debounce(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  }\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  function wrap(func, wrapper) {\n    return partial(wrapper, func);\n  }\n\n  // Returns a negated version of the passed-in predicate.\n  function negate(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  function compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  }\n\n  // Returns a function that will only be executed on and after the Nth call.\n  function after(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  function before(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  }\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  var once = partial(before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, _keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_has(obj, prop) && !contains(_keys, prop)) _keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !contains(_keys, prop)) {\n        _keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  function keys(obj) {\n    if (!isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var _keys = [];\n    for (var key in obj) if (_has(obj, key)) _keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, _keys);\n    return _keys;\n  }\n\n  // Retrieve all the property names of an object.\n  function allKeys(obj) {\n    if (!isObject(obj)) return [];\n    var _keys = [];\n    for (var key in obj) _keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, _keys);\n    return _keys;\n  }\n\n  // Retrieve the values of an object's properties.\n  function values(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[_keys[i]];\n    }\n    return values;\n  }\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to map it returns an object.\n  function mapObject(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = keys(obj),\n        length = _keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of object.\n  function pairs(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [_keys[i], obj[_keys[i]]];\n    }\n    return pairs;\n  }\n\n  // Invert the keys and values of an object. The values must be serializable.\n  function invert(obj) {\n    var result = {};\n    var _keys = keys(obj);\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      result[obj[_keys[i]]] = _keys[i];\n    }\n    return result;\n  }\n\n  // Return a sorted list of the function names available on the object.\n  function functions(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  }\n\n  // An internal function for creating assigner functions.\n  function createAssigner(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            _keys = keysFunc(source),\n            l = _keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = _keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  }\n\n  // Extend a given object with all the properties in passed-in object(s).\n  var extend = createAssigner(allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  var extendOwn = createAssigner(keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  function findKey(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = keys(obj), key;\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      key = _keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  }\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  function keyInObj(value, key, obj) {\n    return key in obj;\n  }\n\n  // Return a copy of the object only containing the whitelisted properties.\n  var pick = restArguments(function(obj, _keys) {\n    var result = {}, iteratee = _keys[0];\n    if (obj == null) return result;\n    if (isFunction(iteratee)) {\n      if (_keys.length > 1) iteratee = optimizeCb(iteratee, _keys[1]);\n      _keys = allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      _keys = _flatten(_keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      var key = _keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  var omit = restArguments(function(obj, _keys) {\n    var iteratee = _keys[0], context;\n    if (isFunction(iteratee)) {\n      iteratee = negate(iteratee);\n      if (_keys.length > 1) context = _keys[1];\n    } else {\n      _keys = map(_flatten(_keys, false, false), String);\n      iteratee = function(value, key) {\n        return !contains(_keys, key);\n      };\n    }\n    return pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  var defaults = createAssigner(allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  function create(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) extendOwn(result, props);\n    return result;\n  }\n\n  // Create a (shallow-cloned) duplicate of an object.\n  function clone(obj) {\n    if (!isObject(obj)) return obj;\n    return isArray(obj) ? obj.slice() : extend({}, obj);\n  }\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  function tap(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  }\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  function isMatch(object, attrs) {\n    var _keys = keys(attrs), length = _keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = _keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  }\n\n\n  // Internal recursive comparison function for `isEqual`.\n  function eq(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  }\n\n  // Internal recursive comparison function for `isEqual`.\n  function deepEq(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                               isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var _keys = keys(a), key;\n      length = _keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = _keys[length];\n        if (!(_has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  // Perform a deep comparison to check if two objects are equal.\n  function isEqual(a, b) {\n    return eq(a, b);\n  }\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  function isEmpty(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (isArray(obj) || isString(obj) || isArguments(obj))) return obj.length === 0;\n    return keys(obj).length === 0;\n  }\n\n  // Is a given value a DOM element?\n  function isElement(obj) {\n    return !!(obj && obj.nodeType === 1);\n  }\n\n  // Internal function for creating a toString-based type tester.\n  function tagTester(name) {\n    return function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  }\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  var isArray = nativeIsArray || tagTester('Array');\n\n  // Is a given variable an object?\n  function isObject(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  var isArguments = tagTester('Arguments');\n  var isFunction = tagTester('Function');\n  var isString = tagTester('String');\n  var isNumber = tagTester('Number');\n  var isDate = tagTester('Date');\n  var isRegExp = tagTester('RegExp');\n  var isError = tagTester('Error');\n  var isSymbol = tagTester('Symbol');\n  var isMap = tagTester('Map');\n  var isWeakMap = tagTester('WeakMap');\n  var isSet = tagTester('Set');\n  var isWeakSet = tagTester('WeakSet');\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  (function() {\n    if (!isArguments(arguments)) {\n      isArguments = function(obj) {\n        return _has(obj, 'callee');\n      };\n    }\n  }());\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  function isFinite(obj) {\n    return !isSymbol(obj) && _isFinite(obj) && !_isNaN(parseFloat(obj));\n  }\n\n  // Is the given value `NaN`?\n  function isNaN(obj) {\n    return isNumber(obj) && _isNaN(obj);\n  }\n\n  // Is a given value a boolean?\n  function isBoolean(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  }\n\n  // Is a given value equal to null?\n  function isNull(obj) {\n    return obj === null;\n  }\n\n  // Is a given variable undefined?\n  function isUndefined(obj) {\n    return obj === void 0;\n  }\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  function has(obj, path) {\n    if (!isArray(path)) {\n      return _has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  }\n\n  // Utility Functions\n  // -----------------\n\n  // Keep the identity function around for default iteratees.\n  function identity(value) {\n    return value;\n  }\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  function constant(value) {\n    return function() {\n      return value;\n    };\n  }\n\n  function noop(){}\n\n  // Creates a function that, when passed an object, will traverse that object’s\n  // properties down the given `path`, specified as an array of keys or indexes.\n  function property(path) {\n    if (!isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  }\n\n  // Generates a function for a given object that returns a given property.\n  function propertyOf(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  }\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  function matcher(attrs) {\n    attrs = extendOwn({}, attrs);\n    return function(obj) {\n      return isMatch(obj, attrs);\n    };\n  }\n\n  // Run a function **n** times.\n  function times(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  }\n\n  // Return a random integer between min and max (inclusive).\n  function random(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  }\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  var now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  function createEscaper(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  }\n  var escape = createEscaper(escapeMap);\n  var unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  function result(obj, path, fallback) {\n    if (!isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  }\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  var templateSettings = _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  function template(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  }\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  function chain(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  }\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  function chainResult(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  }\n\n  // Add your own custom functions to the Underscore object.\n  function mixin(obj) {\n    each(functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  }\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  var allExports = ({\n    'default': _,\n    VERSION: VERSION,\n    iteratee: iteratee,\n    restArguments: restArguments,\n    each: each,\n    forEach: each,\n    map: map,\n    collect: map,\n    reduce: reduce,\n    foldl: reduce,\n    inject: reduce,\n    reduceRight: reduceRight,\n    foldr: reduceRight,\n    find: find,\n    detect: find,\n    filter: filter,\n    select: filter,\n    reject: reject,\n    every: every,\n    all: every,\n    some: some,\n    any: some,\n    contains: contains,\n    includes: contains,\n    include: contains,\n    invoke: invoke,\n    pluck: pluck,\n    where: where,\n    findWhere: findWhere,\n    max: max,\n    min: min,\n    shuffle: shuffle,\n    sample: sample,\n    sortBy: sortBy,\n    groupBy: groupBy,\n    indexBy: indexBy,\n    countBy: countBy,\n    toArray: toArray,\n    size: size,\n    partition: partition,\n    first: first,\n    head: first,\n    take: first,\n    initial: initial,\n    last: last,\n    rest: rest,\n    tail: rest,\n    drop: rest,\n    compact: compact,\n    flatten: flatten,\n    without: without,\n    uniq: uniq,\n    unique: uniq,\n    union: union,\n    intersection: intersection,\n    difference: difference,\n    unzip: unzip,\n    zip: zip,\n    object: object,\n    findIndex: findIndex,\n    findLastIndex: findLastIndex,\n    sortedIndex: sortedIndex,\n    indexOf: indexOf,\n    lastIndexOf: lastIndexOf,\n    range: range,\n    chunk: chunk,\n    bind: bind,\n    partial: partial,\n    bindAll: bindAll,\n    memoize: memoize,\n    delay: delay,\n    defer: defer,\n    throttle: throttle,\n    debounce: debounce,\n    wrap: wrap,\n    negate: negate,\n    compose: compose,\n    after: after,\n    before: before,\n    once: once,\n    keys: keys,\n    allKeys: allKeys,\n    values: values,\n    mapObject: mapObject,\n    pairs: pairs,\n    invert: invert,\n    functions: functions,\n    methods: functions,\n    extend: extend,\n    extendOwn: extendOwn,\n    assign: extendOwn,\n    findKey: findKey,\n    pick: pick,\n    omit: omit,\n    defaults: defaults,\n    create: create,\n    clone: clone,\n    tap: tap,\n    isMatch: isMatch,\n    isEqual: isEqual,\n    isEmpty: isEmpty,\n    isElement: isElement,\n    isArray: isArray,\n    isObject: isObject,\n    isArguments: isArguments,\n    isFunction: isFunction,\n    isString: isString,\n    isNumber: isNumber,\n    isDate: isDate,\n    isRegExp: isRegExp,\n    isError: isError,\n    isSymbol: isSymbol,\n    isMap: isMap,\n    isWeakMap: isWeakMap,\n    isSet: isSet,\n    isWeakSet: isWeakSet,\n    isFinite: isFinite,\n    isNaN: isNaN,\n    isBoolean: isBoolean,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    has: has,\n    identity: identity,\n    constant: constant,\n    noop: noop,\n    property: property,\n    propertyOf: propertyOf,\n    matcher: matcher,\n    matches: matcher,\n    times: times,\n    random: random,\n    now: now,\n    escape: escape,\n    unescape: unescape,\n    result: result,\n    uniqueId: uniqueId,\n    templateSettings: templateSettings,\n    template: template,\n    chain: chain,\n    mixin: mixin\n  });\n\n  // Add all of the Underscore functions to the wrapper object.\n  var _$1 = mixin(allExports);\n  // Legacy Node.js API\n  _$1._ = _$1;\n\n  return _$1;\n\n})));\n//# sourceMappingURL=underscore.js.map\n","(function () {\n  'use strict';\n\n  var DocumentFragment = window.DocumentFragment;\n  var elProto = window.HTMLElement.prototype;\n  var matchesSelector = (\n    elProto.matches ||\n    elProto.msMatchesSelector ||\n    elProto.webkitMatchesSelector ||\n    elProto.mozMatchesSelector ||\n    elProto.oMatchesSelector\n  );\n\n  function getData (element, name) {\n    if (element.__SKATE_TEMPLATE_HTML_DATA) {\n      return element.__SKATE_TEMPLATE_HTML_DATA[name];\n    }\n  }\n\n  function setData (element, name, value) {\n    if (!element.__SKATE_TEMPLATE_HTML_DATA) {\n      element.__SKATE_TEMPLATE_HTML_DATA = {};\n    }\n\n    element.__SKATE_TEMPLATE_HTML_DATA[name] = value;\n\n    return element;\n  }\n\n  function createFragmentFromString (domString) {\n    var specialMap = {\n      caption: 'table',\n      dd: 'dl',\n      dt: 'dl',\n      li: 'ul',\n      tbody: 'table',\n      td: 'tr',\n      thead: 'table',\n      tr: 'tbody'\n    };\n\n    var tag = domString.match(/\\s*<([^\\s>]+)/);\n    var div = document.createElement(tag && specialMap[tag[1]] || 'div');\n\n    div.innerHTML = domString;\n\n    return createFragmentFromNodeList(div.childNodes);\n  }\n\n  function createFragmentFromNodeList (nodeList) {\n    var frag = document.createDocumentFragment();\n\n    while (nodeList && nodeList.length) {\n      frag.appendChild(nodeList[0]);\n    }\n\n    return frag;\n  }\n\n  function getNodesBetween (startNode, endNode) {\n    var nodes = [];\n    var nextNode = startNode.nextSibling;\n\n    while (nextNode !== endNode) {\n      nodes.push(nextNode);\n      nextNode = nextNode.nextSibling;\n    }\n\n    return nodes;\n  }\n\n  function findChildrenMatchingSelector (sourceNode, selector) {\n    if (selector) {\n      var found = sourceNode.querySelectorAll(selector);\n      var foundLength = found.length;\n      var filtered = [];\n\n      for (var a = 0; a < foundLength; a++) {\n        var node = found[a];\n\n        if (node.parentNode === sourceNode) {\n          filtered.push(node);\n        }\n      }\n\n      return filtered;\n    }\n\n    return [].slice.call(sourceNode.childNodes) || [];\n  }\n\n  function htmlTemplateParentWrapper (element) {\n    var contentNodes = getData(element, 'content');\n    var contentNodesLen = contentNodes.length;\n\n    return {\n      childNodes: {\n        get: function () {\n          var nodes = [];\n\n          for (var a = 0; a < contentNodesLen; a++) {\n            var contentNode = contentNodes[a];\n\n            if (contentNode.isDefault) {\n              continue;\n            }\n\n            nodes = nodes.concat(getNodesBetween(contentNode.startNode, contentNode.endNode));\n          }\n\n          return nodes;\n        }\n      },\n\n      firstChild: {\n        get: function () {\n          var childNodes = this.childNodes;\n          return childNodes.length && childNodes[0] || null;\n        }\n      },\n\n      innerHTML: {\n        get: function () {\n          var html = '';\n          var childNodes = this.childNodes;\n          var childNodesLen = childNodes.length;\n\n          for (var a = 0; a < childNodesLen; a++) {\n            var childNode = childNodes[a];\n            html += childNode.outerHTML || childNode.textContent;\n          }\n\n          return html;\n        },\n        set: function (html) {\n          var targetFragment = createFragmentFromString(html);\n\n          for (var a = 0; a < contentNodesLen; a++) {\n            var contentNode = contentNodes[a];\n            var childNodes = getNodesBetween(contentNode.startNode, contentNode.endNode);\n\n            // Remove all nodes (including default content).\n            for (var b = 0; b < childNodes.length; b++) {\n              var childNode = childNodes[b];\n              childNode.parentNode.removeChild(childNode);\n            }\n\n            var foundNodes = findChildrenMatchingSelector(targetFragment, contentNode.selector);\n\n            // Add any matched nodes from the given HTML.\n            for (var c = 0; c < foundNodes.length; c++) {\n              contentNode.container.insertBefore(foundNodes[c], contentNode.endNode);\n            }\n\n            // If no nodes were found, set the default content.\n            if (foundNodes.length) {\n              removeDefaultContent(contentNode);\n            } else {\n              addDefaultContent(contentNode);\n            }\n          }\n        }\n      },\n\n      lastChild: {\n        get: function () {\n          for (var a = contentNodesLen - 1; a > -1; a--) {\n            var contentNode = contentNodes[a];\n\n            if (contentNode.isDefault) {\n              continue;\n            }\n\n            var childNodes = this.childNodes;\n            var childNodesLen = childNodes.length;\n\n            return childNodes[childNodesLen - 1];\n          }\n\n          return null;\n        }\n      },\n\n      outerHTML: {\n        get: function () {\n          var name = this.tagName.toLowerCase();\n          var html = '<' + name;\n          var attrs = this.attributes;\n\n          if (attrs) {\n            var attrsLength = attrs.length;\n\n            for (var a = 0; a < attrsLength; a++) {\n              var attr = attrs[a];\n              html += ' ' + attr.nodeName + '=\"' + attr.nodeValue + '\"';\n            }\n          }\n\n          html += '>';\n          html += this.innerHTML;\n          html += '</' + name + '>';\n\n          return html;\n        }\n      },\n\n      textContent: {\n        get: function () {\n          var textContent = '';\n          var childNodes = this.childNodes;\n          var childNodesLength = this.childNodes.length;\n\n          for (var a = 0; a < childNodesLength; a++) {\n            textContent += childNodes[a].textContent;\n          }\n\n          return textContent;\n        },\n        set: function (textContent) {\n          var acceptsTextContent;\n\n          // Removes all nodes (including default content).\n          this.innerHTML = '';\n\n          // Find the first content node without a selector.\n          for (var a = 0; a < contentNodesLen; a++) {\n            var contentNode = contentNodes[a];\n\n            if (!contentNode.selector) {\n              acceptsTextContent = contentNode;\n              break;\n            }\n          }\n\n          // There may be no content nodes that accept text content.\n          if (acceptsTextContent) {\n            if (textContent) {\n              removeDefaultContent(acceptsTextContent);\n              acceptsTextContent.container.insertBefore(document.createTextNode(textContent), acceptsTextContent.endNode);\n            } else {\n              addDefaultContent(acceptsTextContent);\n            }\n          }\n        }\n      },\n\n      appendChild: {\n        value: function (node) {\n          if (node instanceof DocumentFragment) {\n            var fragChildNodes = node.childNodes;\n\n            [].slice.call(fragChildNodes).forEach(function (node) {\n              this.appendChild(node);\n            }.bind(this));\n\n            return this;\n          }\n\n          for (var b = 0; b < contentNodesLen; b++) {\n            var contentNode = contentNodes[b];\n            var contentSelector = contentNode.selector;\n\n            if (!contentSelector || node instanceof window.HTMLElement && matchesSelector.call(node, contentSelector)) {\n              removeDefaultContent(contentNode);\n              contentNode.endNode.parentNode.insertBefore(node, contentNode.endNode);\n              break;\n            }\n          }\n\n          return this;\n        }\n      },\n\n      insertAdjacentHTML: {\n        value: function (where, html) {\n          if (where === 'afterbegin') {\n            this.insertBefore(createFragmentFromString(html), this.childNodes[0]);\n          } else if (where === 'beforeend') {\n            this.appendChild(createFragmentFromString(html));\n          } else {\n            element.insertAdjacentHTML(where, html);\n          }\n\n          return this;\n        }\n      },\n\n      insertBefore: {\n        value: function (node, referenceNode) {\n          // If no reference node is supplied, we append. This also means that we\n          // don't need to add / remove any default content because either there\n          // aren't any nodes or appendChild will handle it.\n          if (!referenceNode) {\n            return this.appendChild(node);\n          }\n\n          // Handle document fragments.\n          if (node instanceof DocumentFragment) {\n            var fragChildNodes = node.childNodes;\n\n            if (fragChildNodes) {\n              var fragChildNodesLength = fragChildNodes.length;\n\n              for (var a = 0; a < fragChildNodesLength; a++) {\n                this.insertBefore(fragChildNodes[a], referenceNode);\n              }\n            }\n\n            return this;\n          }\n\n          var hasFoundReferenceNode = false;\n\n          // There's no reason to handle default content add / remove because:\n          // 1. If no reference node is supplied, appendChild handles it.\n          // 2. If a reference node is supplied, there already is content.\n          // 3. If a reference node is invalid, an exception is thrown, but also\n          //    it's state would not change even if it wasn't.\n          mainLoop:\n          for (var b = 0; b < contentNodesLen; b++) {\n            var contentNode = contentNodes[b];\n            var betweenNodes = getNodesBetween(contentNode.startNode, contentNode.endNode);\n            var betweenNodesLen = betweenNodes.length;\n\n            for (var c = 0; c < betweenNodesLen; c++) {\n              var betweenNode = betweenNodes[c];\n\n              if (betweenNode === referenceNode) {\n                hasFoundReferenceNode = true;\n              }\n\n              if (hasFoundReferenceNode) {\n                var selector = contentNode.selector;\n\n                if (!selector || matchesSelector.call(node, selector)) {\n                  betweenNode.parentNode.insertBefore(node, betweenNode);\n                  break mainLoop;\n                }\n              }\n            }\n          }\n\n          // If no reference node was found as a child node of the element we must\n          // throw an error. This works for both no child nodes, or if the\n          // reference wasn't found to be a child node.\n          if (!hasFoundReferenceNode) {\n            throw new Error('DOMException 8: The node before which the new node is to be inserted is not a child of this node.');\n          }\n\n          return node;\n        }\n      },\n\n      removeChild: {\n        value: function (childNode) {\n          var removed = false;\n\n          for (var a = 0; a < contentNodesLen; a++) {\n            var contentNode = contentNodes[a];\n\n            if (contentNode.container === childNode.parentNode) {\n              contentNode.container.removeChild(childNode);\n              removed = true;\n              break;\n            }\n\n            if (contentNode.startNode.nextSibling === contentNode.endNode) {\n              addDefaultContent(contentNode);\n            }\n          }\n\n          if (!removed) {\n            throw new Error('DOMException 8: The node in which you are trying to remove is not a child of this node.');\n          }\n\n          return childNode;\n        }\n      },\n\n      replaceChild: {\n        value: function (newChild, oldChild) {\n          for (var a = 0; a < contentNodesLen; a++) {\n            var contentNode = contentNodes[a];\n\n            if (contentNode.container === oldChild.parentNode) {\n              contentNode.container.replaceChild(newChild, oldChild);\n              break;\n            }\n          }\n\n          return this;\n        }\n      }\n    };\n  }\n\n  function addDefaultContent (content) {\n    var nodes = content.defaultNodes;\n    var nodesLen = nodes.length;\n\n    for (var a = 0; a < nodesLen; a++) {\n      content.container.insertBefore(nodes[a], content.endNode);\n    }\n\n    content.isDefault = true;\n  }\n\n  function removeDefaultContent (content) {\n    var nodes = content.defaultNodes;\n    var nodesLen = nodes.length;\n\n    for (var a = 0; a < nodesLen; a++) {\n      var node = nodes[a];\n      node.parentNode.removeChild(node);\n    }\n\n    content.isDefault = false;\n  }\n\n  function createProxyProperty (node, name) {\n    return {\n      get: function () {\n        var value = node[name];\n\n        if (typeof value === 'function') {\n          return value.bind(node);\n        }\n\n        return value;\n      },\n\n      set: function (value) {\n        node[name] = value;\n      }\n    };\n  }\n\n  function wrapNodeWith (node, wrapper) {\n    var wrapped = {};\n\n    for (var name in node) {\n      var inWrapper = name in wrapper;\n\n      if (inWrapper) {\n        Object.defineProperty(wrapped, name, wrapper[name]);\n      } else {\n        Object.defineProperty(wrapped, name, createProxyProperty(node, name));\n      }\n    }\n\n    return wrapped;\n  }\n\n  function cacheContentData (node) {\n    var contentNodes = node.getElementsByTagName('content');\n    var contentNodesLen = contentNodes && contentNodes.length;\n\n    if (contentNodesLen) {\n      var contentData = [];\n\n      while (contentNodes.length) {\n        var contentNode = contentNodes[0];\n        var parentNode = contentNode.parentNode;\n        var selector = contentNode.getAttribute('select');\n        var startNode = document.createComment(' content ');\n        var endNode = document.createComment(' /content ');\n\n        contentData.push({\n          container: parentNode,\n          contentNode: contentNode,\n          defaultNodes: [].slice.call(contentNode.childNodes),\n          endNode: endNode,\n          isDefault: true,\n          selector: selector,\n          startNode: startNode\n        });\n\n        parentNode.replaceChild(endNode, contentNode);\n        parentNode.insertBefore(startNode, endNode);\n\n        // Cache data in the comment that can be read if no content information\n        // is cached. This allows seamless server-side rendering.\n        startNode.textContent += JSON.stringify({\n          defaultContent: contentNode.innerHTML,\n          selector: selector\n        }) + ' ';\n      }\n\n      setData(node, 'content', contentData);\n    }\n  }\n\n\n\n  // Content Parser\n  // --------------\n\n  function parseCommentNode (node) {\n    var data;\n    var matches = node.textContent.match(/^ (\\/?)content (.*)/i);\n\n    if (matches) {\n      if (matches[2]) {\n        try {\n          data = JSON.parse(matches[2]);\n        } catch (e) {\n          throw new Error('Unable to parse content comment data: \"' + e + '\" in \"<!--' + node.textContent + '-->\".');\n        }\n      }\n\n      return {\n        data: data || {\n          defaultContent: undefined,\n          isDefault: undefined,\n          selector: undefined\n        },\n        type: matches[1] ? 'close' : 'open'\n      };\n    }\n  }\n\n  function parseNodeForContent (node) {\n    var a;\n    var childNodes = node.childNodes;\n    var childNodesLen = childNodes.length;\n    var contentDatas = [];\n    var lastContentNode;\n\n    for (a = 0; a < childNodesLen; a++) {\n      var childNode = childNodes[a];\n\n      if (childNode.nodeType === 8) {\n        var contentInfo = parseCommentNode(childNode);\n\n        if (contentInfo) {\n          if (contentInfo.type === 'open') {\n            if (lastContentNode) {\n              throw new Error('Cannot have an opening content placeholder after another content placeholder at the same level in the DOM tree: \"' + childNode.textContent + '\" in \"' + childNode.parentNode.innerHTML + '\".');\n            }\n\n            lastContentNode = {\n              container: childNode.parentNode,\n              contentNode: childNode,\n              defaultNodes: contentInfo.data.defaultContent && createFragmentFromString(contentInfo.data.defaultContent).childNodes || [],\n              isDefault: contentInfo.data.isDefault,\n              selector: contentInfo.data.selector,\n              startNode: childNode\n            };\n          } else if (contentInfo.type === 'close') {\n            if (!lastContentNode) {\n              throw new Error('Unmatched closing content placeholder: \"' + childNode.textContent + '\" in \"' + childNode.parentNode.innerHTML + '\".');\n            }\n\n            lastContentNode.endNode = childNode;\n            contentDatas.push(lastContentNode);\n            lastContentNode = undefined;\n          }\n        }\n      } else {\n        contentDatas = contentDatas.concat(parseNodeForContent(childNode));\n      }\n    }\n\n    return contentDatas;\n  }\n\n\n\n  // Public API\n  // ----------\n\n  function skateTemplateHtml () {\n    var template = [].slice.call(arguments).join('');\n\n    return function (target) {\n      var frag = createFragmentFromNodeList(target.childNodes);\n\n      target.innerHTML = template;\n      cacheContentData(target);\n\n      if (frag.childNodes.length) {\n        skateTemplateHtml.wrap(target).appendChild(frag);\n      }\n    };\n  }\n\n  skateTemplateHtml.wrap = function (node) {\n    if (!getData(node, 'content')) {\n      setData(node, 'content', parseNodeForContent(node));\n    }\n\n    return wrapNodeWith(node, htmlTemplateParentWrapper(node));\n  };\n\n\n\n  // Exporting\n  // ---------\n\n  // Global.\n  window.skateTemplateHtml = skateTemplateHtml;\n\n  // AMD.\n  if (typeof define === 'function') {\n    define(function () {\n      return skateTemplateHtml;\n    });\n  }\n\n  // CommonJS.\n  if (typeof module === 'object') {\n    module.exports = skateTemplateHtml;\n  }\n})();\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n$.ui = $.ui || {};\n\nreturn $.ui.version = \"1.12.1\";\n\n} ) );\n","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\", \"./constants\", \"./document-observer\", \"./lifecycle\", \"./registry\", \"./utils\", \"./version\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module, require(\"./constants\"), require(\"./document-observer\"), require(\"./lifecycle\"), require(\"./registry\"), require(\"./utils\"), require(\"./version\"));\n  }\n})(function (exports, module, _constants, _documentObserver, _lifecycle, _registry, _utils, _version) {\n  \"use strict\";\n\n  var _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n  var TYPE_ATTRIBUTE = _constants.TYPE_ATTRIBUTE;\n  var TYPE_CLASSNAME = _constants.TYPE_CLASSNAME;\n  var TYPE_ELEMENT = _constants.TYPE_ELEMENT;\n\n  var documentObserver = _interopRequire(_documentObserver);\n\n  var triggerCreated = _lifecycle.triggerCreated;\n  var triggerAttached = _lifecycle.triggerAttached;\n  var triggerDetached = _lifecycle.triggerDetached;\n  var triggerAttributeChanged = _lifecycle.triggerAttributeChanged;\n  var initElements = _lifecycle.initElements;\n\n  var registry = _interopRequire(_registry);\n\n  var debounce = _utils.debounce;\n  var inherit = _utils.inherit;\n\n  var version = _interopRequire(_version);\n\n  var HTMLElement = window.HTMLElement; //jshint ignore:line\n\n  // IE <= 10 can fire \"interactive\" too early (#243).\n  var isOldIE = !!document.attachEvent; // attachEvent was removed in IE11.\n\n  function isReady() {\n    if (isOldIE) {\n      return document.readyState === \"complete\";\n    } else {\n      return document.readyState === \"interactive\" || document.readyState === \"complete\";\n    }\n  }\n\n  /**\n   * Initialises all valid elements in the document. Ensures that it does not\n   * happen more than once in the same execution, and that it happens after the DOM is ready.\n   *\n   * @returns {undefined}\n   */\n  var initDocument = debounce(function () {\n    var initialiseSkateElementsOnDomLoad = function initialiseSkateElementsOnDomLoad() {\n      initElements(document.documentElement.childNodes);\n    };\n    if (isReady()) {\n      initialiseSkateElementsOnDomLoad();\n    } else {\n      if (isOldIE) {\n        window.addEventListener(\"load\", initialiseSkateElementsOnDomLoad);\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", initialiseSkateElementsOnDomLoad);\n      }\n    }\n  });\n\n  /**\n   * Creates a constructor for the specified definition.\n   *\n   * @param {Object} definition The definition information to use for generating the constructor.\n   *\n   * @returns {Function} The element constructor.\n   */\n  function makeElementConstructor(definition) {\n    function CustomElement() {\n      var element;\n      var tagToExtend = definition[\"extends\"];\n      var definitionId = definition.id;\n\n      if (tagToExtend) {\n        element = document.createElement(tagToExtend);\n        element.setAttribute(\"is\", definitionId);\n      } else {\n        element = document.createElement(definitionId);\n      }\n\n      // Ensure the definition prototype is up to date with the element's\n      // prototype. This ensures that overwriting the element prototype still\n      // works.\n      definition.prototype = CustomElement.prototype;\n\n      // If they use the constructor we don't have to wait until it's attached.\n      triggerCreated(element, definition);\n\n      return element;\n    }\n\n    // This allows modifications to the element prototype propagate to the\n    // definition prototype.\n    CustomElement.prototype = definition.prototype;\n\n    return CustomElement;\n  }\n\n  // Public API\n  // ----------\n\n  /**\n   * Creates a listener for the specified definition.\n   *\n   * @param {String} id The ID of the definition.\n   * @param {Object | Function} definition The definition definition.\n   *\n   * @returns {Function} Constructor that returns a custom element.\n   */\n  function skate(id, definition) {\n    // Just in case the definition is shared, we duplicate it so that internal\n    // modifications to the original aren't shared.\n    definition = inherit({}, definition);\n    definition = inherit(definition, skate.defaults);\n    definition.id = id;\n\n    registry.set(id, definition);\n\n    if (registry.isNativeCustomElement(id)) {\n      var elementPrototype = definition[\"extends\"] ? document.createElement(definition[\"extends\"]).constructor.prototype : HTMLElement.prototype;\n\n      if (!elementPrototype.isPrototypeOf(definition.prototype)) {\n        definition.prototype = inherit(Object.create(elementPrototype), definition.prototype, true);\n      }\n\n      var options = {\n        prototype: inherit(definition.prototype, {\n          createdCallback: function createdCallback() {\n            triggerCreated(this, definition);\n          },\n          attachedCallback: function attachedCallback() {\n            triggerAttached(this, definition);\n          },\n          detachedCallback: function detachedCallback() {\n            triggerDetached(this, definition);\n          },\n          attributeChangedCallback: function attributeChangedCallback(name, oldValue, newValue) {\n            triggerAttributeChanged(this, definition, {\n              name: name,\n              oldValue: oldValue,\n              newValue: newValue\n            });\n          }\n        })\n      };\n\n      if (definition[\"extends\"]) {\n        options[\"extends\"] = definition[\"extends\"];\n      }\n\n      return document.registerElement(id, options);\n    }\n\n    initDocument();\n    documentObserver.register(!!definition.detached);\n\n    if (registry.isType(id, TYPE_ELEMENT)) {\n      return makeElementConstructor(definition);\n    }\n  }\n\n  /**\n   * Synchronously initialises the specified element or elements and descendants.\n   *\n   * @param {Mixed} nodes The node, or nodes to initialise. Can be anything:\n   *                      jQuery, DOMNodeList, DOMNode, selector etc.\n   *\n   * @returns {skate}\n   */\n  skate.init = function (nodes) {\n    var nodesToUse = nodes;\n\n    if (!nodes) {\n      return nodes;\n    }\n\n    if (typeof nodes === \"string\") {\n      nodesToUse = nodes = document.querySelectorAll(nodes);\n    } else if (nodes instanceof HTMLElement) {\n      nodesToUse = [nodes];\n    }\n\n    initElements(nodesToUse);\n\n    return nodes;\n  };\n\n  // Restriction type constants.\n  skate.type = {\n    ATTRIBUTE: TYPE_ATTRIBUTE,\n    CLASSNAME: TYPE_CLASSNAME,\n    ELEMENT: TYPE_ELEMENT\n  };\n\n  // Makes checking the version easy when debugging.\n  skate.version = version;\n\n  /**\n   * The default options for a definition.\n   *\n   * @var {Object}\n   */\n  skate.defaults = {\n    // Attribute lifecycle callback or callbacks.\n    attributes: undefined,\n\n    // The events to manage the binding and unbinding of during the definition's\n    // lifecycle.\n    events: undefined,\n\n    // Restricts a particular definition to binding explicitly to an element with\n    // a tag name that matches the specified value.\n    \"extends\": undefined,\n\n    // The ID of the definition. This is automatically set in the `skate()`\n    // function.\n    id: \"\",\n\n    // Properties and methods to add to each element.\n    prototype: {},\n\n    // The attribute name to add after calling the created() callback.\n    resolvedAttribute: \"resolved\",\n\n    // The template to replace the content of the element with.\n    template: undefined,\n\n    // The type of bindings to allow.\n    type: TYPE_ELEMENT,\n\n    // The attribute name to remove after calling the created() callback.\n    unresolvedAttribute: \"unresolved\"\n  };\n\n  // Exporting\n  // ---------\n\n  var previousSkate = window.skate;\n  skate.noConflict = function () {\n    window.skate = previousSkate;\n    return skate;\n  };\n\n  // Global\n  window.skate = skate;\n\n  // ES6\n  module.exports = skate;\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  }\n})(function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  \"use strict\";\n\n  var ATTR_IGNORE = \"data-skate-ignore\";\n  exports.ATTR_IGNORE = ATTR_IGNORE;\n  var TYPE_ATTRIBUTE = \"a\";\n  exports.TYPE_ATTRIBUTE = TYPE_ATTRIBUTE;\n  var TYPE_CLASSNAME = \"c\";\n  exports.TYPE_CLASSNAME = TYPE_CLASSNAME;\n  var TYPE_ELEMENT = \"t\";\n  exports.TYPE_ELEMENT = TYPE_ELEMENT;\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"./constants\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"./constants\"));\n  }\n})(function (exports, _constants) {\n\n  /**\n   * Checks {}.hasOwnProperty in a safe way.\n   *\n   * @param {Object} obj The object the property is on.\n   * @param {String} key The object key to check.\n   *\n   * @returns {Boolean}\n   */\n  \"use strict\";\n\n  exports.hasOwn = hasOwn;\n\n  /**\n   * Camel-cases the specified string.\n   *\n   * @param {String} str The string to camel-case.\n   *\n   * @returns {String}\n   */\n  exports.camelCase = camelCase;\n\n  /**\n   * Returns whether or not the source element contains the target element.\n   * This is for browsers that don't support Element.prototype.contains on an\n   * HTMLUnknownElement.\n   *\n   * @param {HTMLElement} source The source element.\n   * @param {HTMLElement} target The target element.\n   *\n   * @returns {Boolean}\n   */\n  exports.elementContains = elementContains;\n\n  /**\n   * Returns a function that will prevent more than one call in a single clock\n   * tick.\n   *\n   * @param {Function} fn The function to call.\n   *\n   * @returns {Function}\n   */\n  exports.debounce = debounce;\n\n  /**\n   * Returns whether or not the specified element has been selectively ignored.\n   *\n   * @param {Element} element The element to check and traverse up from.\n   *\n   * @returns {Boolean}\n   */\n  exports.getClosestIgnoredElement = getClosestIgnoredElement;\n\n  /**\n   * Merges the second argument into the first.\n   *\n   * @param {Object} child The object to merge into.\n   * @param {Object} parent The object to merge from.\n   * @param {Boolean} overwrite Whether or not to overwrite properties on the child.\n   *\n   * @returns {Object} Returns the child object.\n   */\n  exports.inherit = inherit;\n\n  /**\n   * Traverses an object checking hasOwnProperty.\n   *\n   * @param {Object} obj The object to traverse.\n   * @param {Function} fn The function to call for each item in the object.\n   *\n   * @returns {undefined}\n   */\n  exports.objEach = objEach;\n  exports.supportsNativeCustomElements = supportsNativeCustomElements;\n  exports.isValidNativeCustomElementName = isValidNativeCustomElementName;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  \"use strict\";\n\n  var ATTR_IGNORE = _constants.ATTR_IGNORE;\n  var elementPrototype = window.HTMLElement.prototype;\n  exports.elementPrototype = elementPrototype;\n  var elementPrototypeContains = elementPrototype.contains;\n  function hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  function camelCase(str) {\n    return str.split(/-/g).map(function (str, index) {\n      return index === 0 ? str : str[0].toUpperCase() + str.substring(1);\n    }).join(\"\");\n  }\n\n  function elementContains(source, target) {\n    // The document element does not have the contains method in IE.\n    if (source === document && !source.contains) {\n      return document.head.contains(target) || document.body.contains(target);\n    }\n\n    return source.contains ? source.contains(target) : elementPrototypeContains.call(source, target);\n  }\n\n  function debounce(fn) {\n    var called = false;\n\n    return function () {\n      if (!called) {\n        called = true;\n        setTimeout(function () {\n          called = false;\n          fn();\n        }, 1);\n      }\n    };\n  }\n\n  function getClosestIgnoredElement(element) {\n    var parent = element;\n\n    // e.g. document doesn't have a function hasAttribute; no need to go further up\n    while (parent instanceof Element) {\n      if (parent.hasAttribute(ATTR_IGNORE)) {\n        return parent;\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  function inherit(child, parent, overwrite) {\n    var names = Object.getOwnPropertyNames(parent);\n    var namesLen = names.length;\n\n    for (var a = 0; a < namesLen; a++) {\n      var name = names[a];\n\n      if (overwrite || child[name] === undefined) {\n        var desc = Object.getOwnPropertyDescriptor(parent, name);\n        var shouldDefineProps = desc.get || desc.set || !desc.writable || !desc.enumerable || !desc.configurable;\n\n        if (shouldDefineProps) {\n          Object.defineProperty(child, name, desc);\n        } else {\n          child[name] = parent[name];\n        }\n      }\n    }\n\n    return child;\n  }\n\n  function objEach(obj, fn) {\n    for (var a in obj) {\n      if (hasOwn(obj, a)) {\n        fn(obj[a], a);\n      }\n    }\n  }\n\n  function supportsNativeCustomElements() {\n    return typeof document.registerElement === \"function\";\n  }\n\n  function isValidNativeCustomElementName(name) {\n    return name.indexOf(\"-\") > 0;\n  }\n});","/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\n\t\t\t// If this is an empty collection, we need to have the instance method\n\t\t\t// return undefined instead of the jQuery instance\n\t\t\tif ( !this.length && options === \"instance\" ) {\n\t\t\t\treturnValue = undefined;\n\t\t\t} else {\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar methodValue;\n\t\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\t\treturnValue = instance;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !instance ) {\n\t\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\t\tmethodValue;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._on( options.element, {\n\t\t\t\"remove\": \"_untrackClassesElement\"\n\t\t} );\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_untrackClassesElement: function( event ) {\n\t\tvar that = this;\n\t\t$.each( that.classesElementLookup, function( key, value ) {\n\t\t\tif ( $.inArray( event.target, value ) !== -1 ) {\n\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nreturn $.widget;\n\n} ) );\n","/*!\n * jQuery UI Mouse 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Mouse\n//>>group: Widgets\n//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.\n//>>docs: http://api.jqueryui.com/mouse/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../ie\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar mouseHandled = false;\n$( document ).on( \"mouseup\", function() {\n\tmouseHandled = false;\n} );\n\nreturn $.widget( \"ui.mouse\", {\n\tversion: \"1.12.1\",\n\toptions: {\n\t\tcancel: \"input, textarea, button, select, option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.on( \"mousedown.\" + this.widgetName, function( event ) {\n\t\t\t\treturn that._mouseDown( event );\n\t\t\t} )\n\t\t\t.on( \"click.\" + this.widgetName, function( event ) {\n\t\t\t\tif ( true === $.data( event.target, that.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t\t\t$.removeData( event.target, that.widgetName + \".preventClickEvent\" );\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.off( \".\" + this.widgetName );\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\tthis.document\n\t\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\t\t}\n\t},\n\n\t_mouseDown: function( event ) {\n\n\t\t// don't let more than one widget handle mouseStart\n\t\tif ( mouseHandled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._mouseMoved = false;\n\n\t\t// We may have missed mouseup (out of window)\n\t\t( this._mouseStarted && this._mouseUp( event ) );\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = ( event.which === 1 ),\n\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\n\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\n\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif ( !this.mouseDelayMet ) {\n\t\t\tthis._mouseDelayTimer = setTimeout( function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay );\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\n\t\t\tif ( !this._mouseStarted ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif ( true === $.data( event.target, this.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t$.removeData( event.target, this.widgetName + \".preventClickEvent\" );\n\t\t}\n\n\t\t// These delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function( event ) {\n\t\t\treturn that._mouseMove( event );\n\t\t};\n\t\tthis._mouseUpDelegate = function( event ) {\n\t\t\treturn that._mouseUp( event );\n\t\t};\n\n\t\tthis.document\n\t\t\t.on( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.on( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function( event ) {\n\n\t\t// Only check for mouseups outside the document if you've moved inside the document\n\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\n\t\t// fire a mousemove event if content is placed under the cursor. See #7778\n\t\t// Support: IE <9\n\t\tif ( this._mouseMoved ) {\n\n\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\t\tif ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&\n\t\t\t\t\t!event.button ) {\n\t\t\t\treturn this._mouseUp( event );\n\n\t\t\t// Iframe mouseup check - mouseup occurred in another document\n\t\t\t} else if ( !event.which ) {\n\n\t\t\t\t// Support: Safari <=8 - 9\n\t\t\t\t// Safari sets which to 0 if you press any of the following keys\n\t\t\t\t// during a drag (#14461)\n\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\n\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\n\t\t\t\t\tthis.ignoreMissingWhich = true;\n\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\n\t\t\t\t\treturn this._mouseUp( event );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( event.which || event.button ) {\n\t\t\tthis._mouseMoved = true;\n\t\t}\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseDrag( event );\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\n\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis.document\n\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif ( event.target === this._mouseDownEvent.target ) {\n\t\t\t\t$.data( event.target, this.widgetName + \".preventClickEvent\", true );\n\t\t\t}\n\n\t\t\tthis._mouseStop( event );\n\t\t}\n\n\t\tif ( this._mouseDelayTimer ) {\n\t\t\tclearTimeout( this._mouseDelayTimer );\n\t\t\tdelete this._mouseDelayTimer;\n\t\t}\n\n\t\tthis.ignoreMissingWhich = false;\n\t\tmouseHandled = false;\n\t\tevent.preventDefault();\n\t},\n\n\t_mouseDistanceMet: function( event ) {\n\t\treturn ( Math.max(\n\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\n\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function( /* event */ ) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function( /* event */ ) {},\n\t_mouseDrag: function( /* event */ ) {},\n\t_mouseStop: function( /* event */ ) {},\n\t_mouseCapture: function( /* event */ ) { return true; }\n} );\n\n} ) );\n","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\", \"./version\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module, require(\"./version\"));\n  }\n})(function (exports, module, _version) {\n  \"use strict\";\n\n  var _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n  var version = _interopRequire(_version);\n\n  var VERSION = \"__skate_\" + version.replace(/[^\\w]/g, \"_\");\n\n  if (!window[VERSION]) {\n    window[VERSION] = {\n      observer: undefined,\n      registry: {}\n    };\n  }\n\n  module.exports = window[VERSION];\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module);\n  }\n})(function (exports, module) {\n  \"use strict\";\n\n  module.exports = \"0.13.17\";\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"./constants\", \"./data\", \"./mutation-observer\", \"./registry\", \"./utils\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"./constants\"), require(\"./data\"), require(\"./mutation-observer\"), require(\"./registry\"), require(\"./utils\"));\n  }\n})(function (exports, _constants, _data, _mutationObserver, _registry, _utils) {\n  \"use strict\";\n\n  var _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  \"use strict\";\n\n  var ATTR_IGNORE = _constants.ATTR_IGNORE;\n\n  var data = _interopRequire(_data);\n\n  var registry = _interopRequire(_registry);\n\n  var camelCase = _utils.camelCase;\n  var elementContains = _utils.elementContains;\n  var hasOwn = _utils.hasOwn;\n  var inherit = _utils.inherit;\n  var objEach = _utils.objEach;\n  var Node = window.Node;\n  //jshint ignore:line\n  var elProto = window.HTMLElement.prototype;\n  var nativeMatchesSelector = elProto.matches || elProto.msMatchesSelector || elProto.webkitMatchesSelector || elProto.mozMatchesSelector || elProto.oMatchesSelector;\n  // Only IE9 has this msMatchesSelector bug, but best to detect it.\n  var hasNativeMatchesSelectorDetattachedBug = !nativeMatchesSelector.call(document.createElement(\"div\"), \"div\");\n  var matchesSelector = function matchesSelector(element, selector) {\n    if (hasNativeMatchesSelectorDetattachedBug) {\n      var clone = element.cloneNode();\n      document.createElement(\"div\").appendChild(clone);\n      return nativeMatchesSelector.call(clone, selector);\n    }\n    return nativeMatchesSelector.call(element, selector);\n  };\n\n  // Edge has a bug where oldValue is sent as null instead of the true oldValue\n  // when an element attribute is removed. Bug raised at\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7711883/\n  var needsAttributeOldValueCaching = /Edge/.test(navigator.userAgent);\n\n  /**\n   * Parses an event definition and returns information about it.\n   *\n   * @param {String} e The event to parse.\n   *\n   * @returns {Object]}\n   */\n  function parseEvent(e) {\n    var parts = e.split(\" \");\n    return {\n      name: parts.shift(),\n      delegate: parts.join(\" \")\n    };\n  }\n\n  /**\n   * Sets the defined attributes to their default values, if specified.\n   *\n   * @param {Element} target The web component element.\n   * @param {Object} component The web component definition.\n   *\n   * @returns {undefined}\n   */\n  function initAttributes(target, component) {\n    var componentAttributes = component.attributes;\n\n    if (typeof componentAttributes !== \"object\") {\n      return;\n    }\n\n    for (var attribute in componentAttributes) {\n      if (hasOwn(componentAttributes, attribute) && hasOwn(componentAttributes[attribute], \"value\") && !target.hasAttribute(attribute)) {\n        var value = componentAttributes[attribute].value;\n        value = typeof value === \"function\" ? value(target) : value;\n        target.setAttribute(attribute, value);\n      }\n    }\n  }\n\n  /**\n   * Defines a property that proxies the specified attribute.\n   *\n   * @param {Element} target The web component element.\n   * @param {String} attribute The attribute name to proxy.\n   *\n   * @returns {undefined}\n   */\n  function defineAttributeProperty(target, attribute, property) {\n    Object.defineProperty(target, property, {\n      get: function get() {\n        return this.getAttribute(attribute);\n      },\n      set: function set(value) {\n        if (value === undefined) {\n          this.removeAttribute(attribute);\n        } else {\n          this.setAttribute(attribute, value);\n        }\n      }\n    });\n  }\n\n  /**\n   * Adds links from attributes to properties.\n   *\n   * @param {Element} target The web component element.\n   * @param {Object} component The web component definition.\n   *\n   * @returns {undefined}\n   */\n  function addAttributeToPropertyLinks(target, component) {\n    var componentAttributes = component.attributes;\n\n    if (typeof componentAttributes !== \"object\") {\n      return;\n    }\n\n    for (var attribute in componentAttributes) {\n      var property = camelCase(attribute);\n      if (hasOwn(componentAttributes, attribute) && !hasOwn(target, property)) {\n        defineAttributeProperty(target, attribute, property);\n      }\n    }\n  }\n\n  function triggerAttributeChanged(target, component, mutationData) {\n    var callback;\n    var type;\n    var name = mutationData.name;\n    var newValue = mutationData.newValue;\n\n    var cachedAttributeOldValues;\n    if (needsAttributeOldValueCaching) {\n      cachedAttributeOldValues = data(target, \"cachedAttributeOldValues\");\n    }\n\n    // Read the old attribute value from cache if needed, otherwise use native oldValue\n    var oldValue = needsAttributeOldValueCaching && hasOwn(cachedAttributeOldValues, name) ? cachedAttributeOldValues[name] : mutationData.oldValue;\n\n    var newValueIsString = typeof newValue === \"string\";\n    var oldValueIsString = typeof oldValue === \"string\";\n    var attrs = component.attributes;\n    var specific = attrs && attrs[name];\n\n    if (!oldValueIsString && newValueIsString) {\n      type = \"created\";\n    } else if (oldValueIsString && newValueIsString) {\n      type = \"updated\";\n    } else if (oldValueIsString && !newValueIsString) {\n      type = \"removed\";\n    }\n\n    if (needsAttributeOldValueCaching) {\n      if (type === \"removed\") {\n        delete cachedAttributeOldValues[name];\n      } else {\n        cachedAttributeOldValues[name] = newValue;\n      }\n    }\n\n    if (specific && typeof specific[type] === \"function\") {\n      callback = specific[type];\n    } else if (specific && typeof specific.fallback === \"function\") {\n      callback = specific.fallback;\n    } else if (typeof specific === \"function\") {\n      callback = specific;\n    } else if (typeof attrs === \"function\") {\n      callback = attrs;\n    }\n\n    // Ensure values are null if undefined.\n    newValue = newValue === undefined ? null : newValue;\n    oldValue = oldValue === undefined ? null : oldValue;\n\n    // There may still not be a callback.\n    if (callback) {\n      callback(target, {\n        type: type,\n        name: name,\n        newValue: newValue,\n        oldValue: oldValue\n      });\n    }\n  }\n\n  function triggerAttributesCreated(target, component) {\n    var a;\n    var attrs = target.attributes;\n    var attrsCopy = [];\n    var attrsLen = attrs.length;\n\n    for (a = 0; a < attrsLen; a++) {\n      attrsCopy.push(attrs[a]);\n    }\n\n    // In default web components, attribute changes aren't triggered for\n    // attributes that already exist on an element when it is bound. This sucks\n    // when you want to reuse and separate code for attributes away from your\n    // lifecycle callbacks. Skate will initialise each attribute by calling the\n    // created callback for the attributes that already exist on the element.\n    for (a = 0; a < attrsLen; a++) {\n      var attr = attrsCopy[a];\n      triggerAttributeChanged(target, component, {\n        name: attr.nodeName,\n        newValue: attr.value || attr.nodeValue\n      });\n    }\n  }\n\n  function addAttributeListeners(target, component) {\n    var attrs = target.attributes;\n\n    if (!component.attributes || registry.isNativeCustomElement(component.id)) {\n      return;\n    }\n\n    var observer = new window.MutationObserver(function (mutations) {\n      mutations.forEach(function (mutation) {\n        var name = mutation.attributeName;\n        var attr = attrs[name];\n\n        triggerAttributeChanged(target, component, {\n          name: name,\n          newValue: attr && (attr.value || attr.nodeValue),\n          oldValue: mutation.oldValue\n        });\n      });\n    });\n\n    observer.observe(target, {\n      attributes: true,\n      attributeOldValue: true\n    });\n  }\n\n  /**\n   * Binds event listeners for the specified event handlers.\n   *\n   * @param {Element} target The component element.\n   * @param {Object} component The component data.\n   *\n   * @returns {undefined}\n   */\n  function addEventListeners(target, component) {\n    if (typeof component.events !== \"object\") {\n      return;\n    }\n\n    function makeHandler(handler, delegate) {\n      return function (e) {\n        // If we're not delegating, trigger directly on the component element.\n        if (!delegate) {\n          return handler(target, e, target);\n        }\n\n        // If we're delegating, but the target doesn't match, then we've have\n        // to go up the tree until we find a matching ancestor or stop at the\n        // component element, or document. If a matching ancestor is found, the\n        // handler is triggered on it.\n        var current = e.target;\n\n        while (current && current !== document && current !== target.parentNode) {\n          if (matchesSelector(current, delegate)) {\n            return handler(target, e, current);\n          }\n\n          current = current.parentNode;\n        }\n      };\n    }\n\n    objEach(component.events, function (handler, name) {\n      var evt = parseEvent(name);\n      var useCapture = !!evt.delegate && (evt.name === \"blur\" || evt.name === \"focus\");\n      target.addEventListener(evt.name, makeHandler(handler, evt.delegate), useCapture);\n    });\n  }\n\n  /**\n   * Triggers the created lifecycle callback.\n   *\n   * @param {Element} target The component element.\n   * @param {Object} component The component data.\n   *\n   * @returns {undefined}\n   */\n  function triggerCreated(target, component) {\n    var targetData = data(target, component.id);\n\n    if (targetData.created) {\n      return;\n    }\n\n    targetData.created = true;\n\n    // TODO: This doesn't need to happen if using native.\n    inherit(target, component.prototype, true);\n\n    // We use the unresolved / resolved attributes to flag whether or not the\n    // element has been templated or not.\n    if (component.template && !target.hasAttribute(component.resolvedAttribute)) {\n      component.template(target);\n    }\n\n    target.removeAttribute(component.unresolvedAttribute);\n    target.setAttribute(component.resolvedAttribute, \"\");\n    addEventListeners(target, component);\n    addAttributeListeners(target, component);\n    addAttributeToPropertyLinks(target, component);\n    initAttributes(target, component);\n    triggerAttributesCreated(target, component);\n\n    if (component.created) {\n      component.created(target);\n    }\n  }\n\n  /**\n   * Triggers the attached lifecycle callback.\n   *\n   * @param {Element} target The component element.\n   * @param {Object} component The component data.\n   *\n   * @returns {undefined}\n   */\n  function triggerAttached(target, component) {\n    var targetData = data(target, component.id);\n\n    if (targetData.attached) {\n      return;\n    }\n\n    if (!elementContains(document, target)) {\n      return;\n    }\n\n    targetData.attached = true;\n\n    if (component.attached) {\n      component.attached(target);\n    }\n\n    targetData.detached = false;\n  }\n\n  /**\n   * Triggers the detached lifecycle callback.\n   *\n   * @param {Element} target The component element.\n   * @param {Object} component The component data.\n   *\n   * @returns {undefined}\n   */\n  function triggerDetached(target, component) {\n    var targetData = data(target, component.id);\n\n    if (targetData.detached) {\n      return;\n    }\n\n    targetData.detached = true;\n\n    if (component.detached) {\n      component.detached(target);\n    }\n\n    targetData.attached = false;\n  }\n\n  /**\n   * Triggers the entire element lifecycle if it's not being ignored.\n   *\n   * @param {Element} target The component element.\n   * @param {Object} component The component data.\n   *\n   * @returns {undefined}\n   */\n  function triggerLifecycle(target, component) {\n    triggerCreated(target, component);\n    triggerAttached(target, component);\n  }\n\n  /**\n   * Initialises a set of elements.\n   *\n   * @param {DOMNodeList | Array} elements A traversable set of elements.\n   *\n   * @returns {undefined}\n   */\n  function initElements(elements) {\n    // [CATION] Don't cache elements length! Components initialization could append nodes\n    // as siblings (see label's element behaviour for example) and this could lead to problems with\n    // components placed at the end of processing childNodes because they will change they index\n    // position and get out of cached value range.\n    for (var a = 0; a < elements.length; a++) {\n      var element = elements[a];\n\n      if (element.nodeType !== Node.ELEMENT_NODE || element.attributes[ATTR_IGNORE]) {\n        continue;\n      }\n\n      var currentNodeDefinitions = registry.getForElement(element);\n      var currentNodeDefinitionsLength = currentNodeDefinitions.length;\n\n      for (var b = 0; b < currentNodeDefinitionsLength; b++) {\n        triggerLifecycle(element, currentNodeDefinitions[b]);\n      }\n\n      // When <object> tag is used to expose NPAPI api to js may have different behaviour then other\n      // tags. One of those differences is that it's childNodes can be undefined.\n      var elementChildNodes = element.childNodes || [];\n      var elementChildNodesLen = elementChildNodes.length;\n\n      if (elementChildNodesLen) {\n        initElements(elementChildNodes);\n      }\n    }\n  }\n\n  /**\n   * Triggers the remove lifecycle callback on all of the elements.\n   *\n   * @param {DOMNodeList} elements The elements to trigger the remove lifecycle\n   * callback on.\n   *\n   * @returns {undefined}\n   */\n  function removeElements(elements) {\n    // Don't cache `childNodes` length. For more info see description in `initElements` function.\n    for (var a = 0; a < elements.length; a++) {\n      var element = elements[a];\n\n      if (element.nodeType !== Node.ELEMENT_NODE) {\n        continue;\n      }\n\n      removeElements(element.childNodes);\n\n      var definitions = registry.getForElement(element);\n      var definitionsLen = definitions.length;\n\n      for (var b = 0; b < definitionsLen; b++) {\n        triggerDetached(element, definitions[b]);\n      }\n    }\n  }\n\n  exports.initElements = initElements;\n  exports.removeElements = removeElements;\n  exports.triggerAttached = triggerAttached;\n  exports.triggerAttributeChanged = triggerAttributeChanged;\n  exports.triggerCreated = triggerCreated;\n  exports.triggerDetached = triggerDetached;\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  }\n})(function (exports) {\n  \"use strict\";\n\n  (function (self) {\n    // Atlassian: added IIFE\n    /**\n     * @license\n     * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n     * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n     * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n     * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n     * Code distributed by Google as part of the polymer project is also\n     * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n     */\n    // @version 0.7.15\n    if (typeof WeakMap === \"undefined\") {\n      (function () {\n        var defineProperty = Object.defineProperty;\n        var counter = Date.now() % 1000000000;\n        var WeakMap = function WeakMap() {\n          this.name = \"__st\" + (Math.random() * 1000000000 >>> 0) + (counter++ + \"__\");\n        };\n        WeakMap.prototype = {\n          set: function set(key, value) {\n            var entry = key[this.name];\n            if (entry && entry[0] === key) entry[1] = value;else defineProperty(key, this.name, {\n              value: [key, value],\n              writable: true\n            });\n            return this;\n          },\n          get: function get(key) {\n            var entry;\n            return (entry = key[this.name]) && entry[0] === key ? entry[1] : undefined;\n          },\n          \"delete\": function _delete(key) {\n            var entry = key[this.name];\n            if (!entry || entry[0] !== key) {\n              return false;\n            }entry[0] = entry[1] = undefined;\n            return true;\n          },\n          has: function has(key) {\n            var entry = key[this.name];\n            if (!entry) {\n              return false;\n            }return entry[0] === key;\n          }\n        };\n        window.WeakMap = WeakMap;\n      })();\n    }\n\n    (function (global) {\n      if (global.JsMutationObserver) {\n        return;\n      }\n      var registrationsTable = new WeakMap();\n      var setImmediate;\n      if (/Trident|Edge/.test(navigator.userAgent)) {\n        setImmediate = setTimeout;\n      } else if (window.setImmediate) {\n        setImmediate = window.setImmediate;\n      } else {\n        var setImmediateQueue = [];\n        var sentinel = String(Math.random());\n        window.addEventListener(\"message\", function (e) {\n          if (e.data === sentinel) {\n            var queue = setImmediateQueue;\n            setImmediateQueue = [];\n            queue.forEach(function (func) {\n              func();\n            });\n          }\n        });\n        setImmediate = function (func) {\n          setImmediateQueue.push(func);\n          window.postMessage(sentinel, \"*\");\n        };\n      }\n      var isScheduled = false;\n      var scheduledObservers = [];\n      function scheduleCallback(observer) {\n        scheduledObservers.push(observer);\n        if (!isScheduled) {\n          isScheduled = true;\n          setImmediate(dispatchCallbacks);\n        }\n      }\n      function wrapIfNeeded(node) {\n        return window.ShadowDOMPolyfill && window.ShadowDOMPolyfill.wrapIfNeeded(node) || node;\n      }\n      function dispatchCallbacks() {\n        isScheduled = false;\n        var observers = scheduledObservers;\n        scheduledObservers = [];\n        observers.sort(function (o1, o2) {\n          return o1.uid_ - o2.uid_;\n        });\n        var anyNonEmpty = false;\n        observers.forEach(function (observer) {\n          var queue = observer.takeRecords();\n          removeTransientObserversFor(observer);\n          if (queue.length) {\n            observer.callback_(queue, observer);\n            anyNonEmpty = true;\n          }\n        });\n        if (anyNonEmpty) dispatchCallbacks();\n      }\n      function removeTransientObserversFor(observer) {\n        observer.nodes_.forEach(function (node) {\n          var registrations = registrationsTable.get(node);\n          if (!registrations) return;\n          registrations.forEach(function (registration) {\n            if (registration.observer === observer) registration.removeTransientObservers();\n          });\n        });\n      }\n      function forEachAncestorAndObserverEnqueueRecord(target, callback) {\n        for (var node = target; node; node = node.parentNode) {\n          var registrations = registrationsTable.get(node);\n          if (registrations) {\n            for (var j = 0; j < registrations.length; j++) {\n              var registration = registrations[j];\n              var options = registration.options;\n              if (node !== target && !options.subtree) continue;\n              var record = callback(options);\n              if (record) registration.enqueue(record);\n            }\n          }\n        }\n      }\n      var uidCounter = 0;\n      function JsMutationObserver(callback) {\n        this.callback_ = callback;\n        this.nodes_ = [];\n        this.records_ = [];\n        this.uid_ = ++uidCounter;\n      }\n      JsMutationObserver.prototype = {\n        observe: function observe(target, options) {\n          target = wrapIfNeeded(target);\n          if (!options.childList && !options.attributes && !options.characterData || options.attributeOldValue && !options.attributes || options.attributeFilter && options.attributeFilter.length && !options.attributes || options.characterDataOldValue && !options.characterData) {\n            throw new SyntaxError();\n          }\n          var registrations = registrationsTable.get(target);\n          if (!registrations) registrationsTable.set(target, registrations = []);\n          var registration;\n          for (var i = 0; i < registrations.length; i++) {\n            if (registrations[i].observer === this) {\n              registration = registrations[i];\n              registration.removeListeners();\n              registration.options = options;\n              break;\n            }\n          }\n          if (!registration) {\n            registration = new Registration(this, target, options);\n            registrations.push(registration);\n            this.nodes_.push(target);\n          }\n          registration.addListeners();\n        },\n        disconnect: function disconnect() {\n          this.nodes_.forEach(function (node) {\n            var registrations = registrationsTable.get(node);\n            for (var i = 0; i < registrations.length; i++) {\n              var registration = registrations[i];\n              if (registration.observer === this) {\n                registration.removeListeners();\n                registrations.splice(i, 1);\n                break;\n              }\n            }\n          }, this);\n          this.records_ = [];\n        },\n        takeRecords: function takeRecords() {\n          var copyOfRecords = this.records_;\n          this.records_ = [];\n          return copyOfRecords;\n        }\n      };\n      function MutationRecord(type, target) {\n        this.type = type;\n        this.target = target;\n        this.addedNodes = [];\n        this.removedNodes = [];\n        this.previousSibling = null;\n        this.nextSibling = null;\n        this.attributeName = null;\n        this.attributeNamespace = null;\n        this.oldValue = null;\n      }\n      function copyMutationRecord(original) {\n        var record = new MutationRecord(original.type, original.target);\n        record.addedNodes = original.addedNodes.slice();\n        record.removedNodes = original.removedNodes.slice();\n        record.previousSibling = original.previousSibling;\n        record.nextSibling = original.nextSibling;\n        record.attributeName = original.attributeName;\n        record.attributeNamespace = original.attributeNamespace;\n        record.oldValue = original.oldValue;\n        return record;\n      }\n      var currentRecord, recordWithOldValue;\n      function getRecord(type, target) {\n        return currentRecord = new MutationRecord(type, target);\n      }\n      function getRecordWithOldValue(oldValue) {\n        if (recordWithOldValue) {\n          return recordWithOldValue;\n        }recordWithOldValue = copyMutationRecord(currentRecord);\n        recordWithOldValue.oldValue = oldValue;\n        return recordWithOldValue;\n      }\n      function clearRecords() {\n        currentRecord = recordWithOldValue = undefined;\n      }\n      function recordRepresentsCurrentMutation(record) {\n        return record === recordWithOldValue || record === currentRecord;\n      }\n      function selectRecord(lastRecord, newRecord) {\n        if (lastRecord === newRecord) {\n          return lastRecord;\n        }if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord)) {\n          return recordWithOldValue;\n        }return null;\n      }\n      function Registration(observer, target, options) {\n        this.observer = observer;\n        this.target = target;\n        this.options = options;\n        this.transientObservedNodes = [];\n      }\n      Registration.prototype = {\n        enqueue: function enqueue(record) {\n          var records = this.observer.records_;\n          var length = records.length;\n          if (records.length > 0) {\n            var lastRecord = records[length - 1];\n            var recordToReplaceLast = selectRecord(lastRecord, record);\n            if (recordToReplaceLast) {\n              records[length - 1] = recordToReplaceLast;\n              return;\n            }\n          } else {\n            scheduleCallback(this.observer);\n          }\n          records[length] = record;\n        },\n        addListeners: function addListeners() {\n          this.addListeners_(this.target);\n        },\n        addListeners_: function addListeners_(node) {\n          var options = this.options;\n          if (options.attributes) node.addEventListener(\"DOMAttrModified\", this, true);\n          if (options.characterData) node.addEventListener(\"DOMCharacterDataModified\", this, true);\n          if (options.childList) node.addEventListener(\"DOMNodeInserted\", this, true);\n          if (options.childList || options.subtree) node.addEventListener(\"DOMNodeRemoved\", this, true);\n        },\n        removeListeners: function removeListeners() {\n          this.removeListeners_(this.target);\n        },\n        removeListeners_: function removeListeners_(node) {\n          var options = this.options;\n          if (options.attributes) node.removeEventListener(\"DOMAttrModified\", this, true);\n          if (options.characterData) node.removeEventListener(\"DOMCharacterDataModified\", this, true);\n          if (options.childList) node.removeEventListener(\"DOMNodeInserted\", this, true);\n          if (options.childList || options.subtree) node.removeEventListener(\"DOMNodeRemoved\", this, true);\n        },\n        addTransientObserver: function addTransientObserver(node) {\n          if (node === this.target) {\n            return;\n          }this.addListeners_(node);\n          this.transientObservedNodes.push(node);\n          var registrations = registrationsTable.get(node);\n          if (!registrations) registrationsTable.set(node, registrations = []);\n          registrations.push(this);\n        },\n        removeTransientObservers: function removeTransientObservers() {\n          var transientObservedNodes = this.transientObservedNodes;\n          this.transientObservedNodes = [];\n          transientObservedNodes.forEach(function (node) {\n            this.removeListeners_(node);\n            var registrations = registrationsTable.get(node);\n            for (var i = 0; i < registrations.length; i++) {\n              if (registrations[i] === this) {\n                registrations.splice(i, 1);\n                break;\n              }\n            }\n          }, this);\n        },\n        handleEvent: function handleEvent(e) {\n          e.stopImmediatePropagation();\n          switch (e.type) {\n            case \"DOMAttrModified\":\n              var name = e.attrName;\n              var namespace = e.relatedNode.namespaceURI;\n              var target = e.target;\n              var record = new getRecord(\"attributes\", target);\n              record.attributeName = name;\n              record.attributeNamespace = namespace;\n              var oldValue = e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;\n              forEachAncestorAndObserverEnqueueRecord(target, function (options) {\n                if (!options.attributes) return;\n                if (options.attributeFilter && options.attributeFilter.length && options.attributeFilter.indexOf(name) === -1 && options.attributeFilter.indexOf(namespace) === -1) {\n                  return;\n                }\n                if (options.attributeOldValue) return getRecordWithOldValue(oldValue);\n                return record;\n              });\n              break;\n\n            case \"DOMCharacterDataModified\":\n              var target = e.target;\n              var record = getRecord(\"characterData\", target);\n              var oldValue = e.prevValue;\n              forEachAncestorAndObserverEnqueueRecord(target, function (options) {\n                if (!options.characterData) return;\n                if (options.characterDataOldValue) return getRecordWithOldValue(oldValue);\n                return record;\n              });\n              break;\n\n            case \"DOMNodeRemoved\":\n              this.addTransientObserver(e.target);\n\n            case \"DOMNodeInserted\":\n              var changedNode = e.target;\n              var addedNodes, removedNodes;\n              if (e.type === \"DOMNodeInserted\") {\n                addedNodes = [changedNode];\n                removedNodes = [];\n              } else {\n                addedNodes = [];\n                removedNodes = [changedNode];\n              }\n              var previousSibling = changedNode.previousSibling;\n              var nextSibling = changedNode.nextSibling;\n              var record = getRecord(\"childList\", e.target.parentNode);\n              record.addedNodes = addedNodes;\n              record.removedNodes = removedNodes;\n              record.previousSibling = previousSibling;\n              record.nextSibling = nextSibling;\n              forEachAncestorAndObserverEnqueueRecord(e.relatedNode, function (options) {\n                if (!options.childList) return;\n                return record;\n              });\n          }\n          clearRecords();\n        }\n      };\n      global.JsMutationObserver = JsMutationObserver;\n      if (!global.MutationObserver) {\n        global.MutationObserver = JsMutationObserver;\n        JsMutationObserver._isPolyfilled = true;\n      }\n    })(self);\n  })(window); // Atlassian: added IIFE\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\", \"./constants\", \"./globals\", \"./utils\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module, require(\"./constants\"), require(\"./globals\"), require(\"./utils\"));\n  }\n})(function (exports, module, _constants, _globals, _utils) {\n  \"use strict\";\n\n  var _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n  var TYPE_ATTRIBUTE = _constants.TYPE_ATTRIBUTE;\n  var TYPE_CLASSNAME = _constants.TYPE_CLASSNAME;\n  var TYPE_ELEMENT = _constants.TYPE_ELEMENT;\n\n  var globals = _interopRequire(_globals);\n\n  var hasOwn = _utils.hasOwn;\n  var isValidNativeCustomElementName = _utils.isValidNativeCustomElementName;\n  var supportsNativeCustomElements = _utils.supportsNativeCustomElements;\n\n  /**\n   * Returns the class list for the specified element.\n   *\n   * @param {Element} element The element to get the class list for.\n   *\n   * @returns {ClassList | Array}\n   */\n  function getClassList(element) {\n    var classList = element.classList;\n\n    if (classList) {\n      return classList;\n    }\n\n    var attrs = element.attributes;\n\n    return attrs[\"class\"] && attrs[\"class\"].nodeValue.split(/\\s+/) || [];\n  }\n\n  module.exports = {\n    clear: function clear() {\n      globals.registry = {};\n      return this;\n    },\n\n    get: function get(id) {\n      return hasOwn(globals.registry, id) && globals.registry[id];\n    },\n\n    getForElement: function getForElement(element) {\n      var attrs = element.attributes;\n      var attrsLen = attrs.length;\n      var definitions = [];\n      var isAttr = attrs.is;\n      var isAttrValue = isAttr && (isAttr.value || isAttr.nodeValue);\n\n      // Using localName as fallback for edge cases when processing <object> tag that is used\n      // as inteface to NPAPI plugin.\n      var tag = (element.tagName || element.localName).toLowerCase();\n      var isAttrOrTag = isAttrValue || tag;\n      var definition;\n      var tagToExtend;\n\n      if (this.isType(isAttrOrTag, TYPE_ELEMENT)) {\n        definition = globals.registry[isAttrOrTag];\n        tagToExtend = definition[\"extends\"];\n\n        if (isAttrValue) {\n          if (tag === tagToExtend) {\n            definitions.push(definition);\n          }\n        } else if (!tagToExtend) {\n          definitions.push(definition);\n        }\n      }\n\n      for (var a = 0; a < attrsLen; a++) {\n        var attr = attrs[a].nodeName;\n\n        if (this.isType(attr, TYPE_ATTRIBUTE)) {\n          definition = globals.registry[attr];\n          tagToExtend = definition[\"extends\"];\n\n          if (!tagToExtend || tag === tagToExtend) {\n            definitions.push(definition);\n          }\n        }\n      }\n\n      var classList = getClassList(element);\n      var classListLen = classList.length;\n\n      for (var b = 0; b < classListLen; b++) {\n        var className = classList[b];\n\n        if (this.isType(className, TYPE_CLASSNAME)) {\n          definition = globals.registry[className];\n          tagToExtend = definition[\"extends\"];\n\n          if (!tagToExtend || tag === tagToExtend) {\n            definitions.push(definition);\n          }\n        }\n      }\n\n      return definitions;\n    },\n\n    isType: function isType(id, type) {\n      var def = this.get(id);\n      return def && def.type === type;\n    },\n\n    isNativeCustomElement: function isNativeCustomElement(id) {\n      return supportsNativeCustomElements() && this.isType(id, TYPE_ELEMENT) && isValidNativeCustomElementName(id);\n    },\n\n    set: function set(id, definition) {\n      if (hasOwn(globals.registry, id)) {\n        throw new Error(\"A component definition of type \\\"\" + definition.type + \"\\\" with the ID of \\\"\" + id + \"\\\" already exists.\");\n      }\n\n      globals.registry[id] = definition;\n\n      return this;\n    }\n  };\n});","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// This file is deprecated\nreturn $.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n} ) );\n","/*!\n * jQuery UI :data 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :data Selector\n//>>group: Core\n//>>description: Selects elements which have data stored under the specified key.\n//>>docs: http://api.jqueryui.com/data-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo( function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t} ) :\n\n\t\t// Support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t}\n} );\n} ) );\n","/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*! jQuery Fancy File Input plugin - v2.0.4 - 2018-11-23\n* Copyright (c) 2018 Atlassian Pty Ltd; Licensed Apache-2.0 */\n(function (root, factory) {\n  if (root === undefined && window !== undefined) root = window;\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return (root['FancyFileInput'] = factory(a0));\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    root['FancyFileInput'] = factory(root[\"jQuery\"]);\n  }\n}(this, function ($) {\n\n/**\n * --------------------------------------------------------------------\n * jQuery Fancy File Input plugin\n * Author: Atlassian Pty Ltd\n * Copyright © 2012 - 2016 Atlassian Pty Ltd. Licensed under the\n * Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n * implied. See the License for the specific language governing\n * permissions and limitations under the License.\n * --------------------------------------------------------------------\n */\n\n/* jshint -W097 */\n'use strict';\n\nvar fakePathRegex = /^.*[\\\\\\/]/;\nvar multipleFileTextRegex = /\\{0\\}/gi;\nvar ie = (function() {\n    var v = 3;\n    var div = document.createElement( 'div' );\n    var all = div.getElementsByTagName( 'i' );\n\n    do {\n        div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->';\n    } while (all[0]);\n\n    return v > 4 ? v : document.documentMode;\n}());\n\nfunction FancyFileInput(el, options) {\n    var instance = $(el).data('FancyFileInput');\n    if (instance) {\n        return instance;\n    }\n    options = $.extend({}, FancyFileInput.defaults, options);\n    this.el = el;\n    this.$el = $(el);\n    this.$label = this.createLabel(options.buttonText);\n    this._addLabelText();\n    this.$clearButton = $('<button>', {\n        text: (this.$label.attr('data-ffi-clearButtonText') || options.clearButtonText),\n        'class': 'ffi-clear',\n        type: 'button',\n        'tabindex': '-1'\n    });\n    this.multipleFileTextPattern = this.$label.attr('data-ffi-multipleFileTextPattern') || options.multipleFileTextPattern;\n    this._eventNamespace = '.ffi';\n    this.CLASSES = {\n        disabled: 'is-disabled',\n        focused: 'is-focused',\n        active: 'is-active',\n        valid: 'is-valid',\n        invalid: 'is-invalid'\n    };\n    this[this.isDisabled() ? 'disable' : 'enable']();\n    this.isFocused = false;\n}\n\nFancyFileInput.defaults = {\n    buttonText: 'Browse\\u2026',\n    clearButtonText: 'Clear',\n    multipleFileTextPattern: '{0} files'\n};\n\nFancyFileInput.prototype._addLabelText = function attLabelText() {\n    var $associatedLabel = $('label[for=\"' + this.el.id + '\"]');\n    if ($associatedLabel.length) {\n        this.$el.attr('aria-label', $associatedLabel.text());\n    }\n};\n\nFancyFileInput.prototype.createLabel = function (buttonText) {\n    var $label = this.$el.parent('.ffi[data-ffi-button-text]');\n    if (!$label.length) {\n        $label = this.$el.wrap($('<label>', { 'class': 'ffi', 'data-ffi-button-text': buttonText })).parent();\n    }\n    return $label;\n};\n\nFancyFileInput.prototype.isDisabled = function () {\n    return this.$el.is(':disabled');\n};\n\nFancyFileInput.prototype.formatMultipleFileText = function (numFiles) {\n    return this.multipleFileTextPattern.replace(multipleFileTextRegex, numFiles);\n};\n\nFancyFileInput.prototype.bindEvents = function () {\n    this.$el\n        .on('invalid'   + this._eventNamespace, $.proxy(this.checkValidity, this))\n        .on('change'    + this._eventNamespace, $.proxy(this.change, this))\n        .on('keydown'   + this._eventNamespace, $.proxy(this.keydown, this))\n        .on('mousedown' + this._eventNamespace, $.proxy(this.mousedown, this))\n        .on('mouseup'   + this._eventNamespace, $.proxy(this.mouseup, this))\n        .on('focus'     + this._eventNamespace, $.proxy(this.focus, this))\n        .on('blur'      + this._eventNamespace, $.proxy(this.blur, this));\n    this.$clearButton.on('click' + this._eventNamespace, $.proxy(this.clear, this));\n};\n\nFancyFileInput.prototype.unbindEvents = function () {\n    this.$el.off(this._eventNamespace);\n    this.$clearButton.off(this._eventNamespace);\n};\n\nFancyFileInput.prototype.fireEvent = function (event) {\n    this.$el.trigger(event + this._eventNamespace);\n};\n\nFancyFileInput.prototype.enable = function () {\n    this.bindEvents();\n    this.$el.prop('disabled', false);\n    this.$label.removeClass(this.CLASSES.disabled);\n};\n\nFancyFileInput.prototype.disable = function () {\n    this.unbindEvents();\n    this.$el.prop('disabled', true);\n    this.$label.addClass(this.CLASSES.disabled);\n};\n\nFancyFileInput.prototype.clear = function () {\n    this.$el.wrap('<form>').closest('form').get(0).reset();\n    this.$el.unwrap();\n    this.el.value = '';\n    this.change();\n    return false;\n};\n\nFancyFileInput.prototype.focus = function () {\n    var instance = this;\n\n    this.$label.addClass(this.CLASSES.focused);\n\n    // toggle focus so that the cursor appears back in the field instead of on the button\n    if (ie && !this.isFocused) {\n        this.isFocused = true;\n\n        setTimeout(function() {\n            instance.$el.blur();\n            instance.$el.focus();\n        }, 0);\n    }\n};\n\nFancyFileInput.prototype.blur = function () {\n    if (!ie || !this.isFocused) {\n        this.$label.removeClass(this.CLASSES.focused);\n        this.isFocused = false;\n    }\n};\n\nFancyFileInput.prototype.mousedown = function () {\n    this.$label.addClass(this.CLASSES.active);\n};\n\nFancyFileInput.prototype.mouseup = function () {\n    this.$label.removeClass(this.CLASSES.active);\n};\n\nFancyFileInput.prototype.keydown = function (e) {\n    var keyCode = e.which;\n    var BACKSPACE = 8;\n    var TAB = 9;\n    var DELETE = 46;\n\n    // Add clear behaviour for all browsers\n    if (keyCode === BACKSPACE || keyCode === DELETE) {\n        this.clear();\n        e.preventDefault();\n    }\n\n    // This works around the IE double tab-stop - no events or blur/change occur when moving between\n    //  the field part of the input and the button part. This is dirty, but it works.\n    if (ie && keyCode === TAB) {\n        var instance = this;\n\n        this.isFocused = false;\n        this.$el.prop('disabled',true);\n\n        setTimeout(function(){\n            instance.$el.prop('disabled', false).blur();\n        }, 0);\n    }\n};\n\nFancyFileInput.prototype.checkValidity = function () {\n    if (!this.el.required) {\n        return;\n    }\n    var isInvalid = this.$el.is(':invalid');\n\n    this.$label.toggleClass(this.CLASSES.invalid, isInvalid).toggleClass(this.CLASSES.valid, !isInvalid);\n};\n\nFancyFileInput.prototype.change = function () {\n    var files;\n    var val = '';\n\n    this.checkValidity();\n\n    // multiple file selection\n    if (this.el.multiple && this.el.files.length > 1) {\n        files = this.formatMultipleFileText(this.el.files.length); // '5 files'\n    } else {\n        files = this.el.value; // 'README.txt'\n    }\n\n    if (files.length) {\n        val = files.replace(fakePathRegex, ''); // Strips off the C:\\fakepath nonsense\n        this.$clearButton.appendTo(this.$label);\n    } else {\n        this.$clearButton.detach();\n    }\n\n    this.$el.focus();\n    this.setFieldText(val);\n    this.fireEvent('value-changed');\n};\n\nFancyFileInput.prototype.setFieldText = function (text) {\n    var dataAttribute = 'data-ffi-value';\n    if (text.length) {\n        this.$label.attr(dataAttribute, text);\n        this.fireEvent('value-added');\n    } else {\n        this.$label.removeAttr(dataAttribute);\n        this.fireEvent('value-cleared');\n    }\n};\n\n$.fn.fancyFileInput = function (options) {\n    return this.each(function () {\n        var ffi = new FancyFileInput(this, options);\n        $(this).data('FancyFileInput', ffi);\n    });\n};\n\nreturn FancyFileInput;\n\n}));\n","// jscs:disable maximumLineLength\n/* jscs:disable requireCamelCaseOrUpperCaseIdentifiers */\n/*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Datepicker\n//>>group: Widgets\n//>>description: Displays a calendar from an input or inline for selecting dates.\n//>>docs: http://api.jqueryui.com/datepicker/\n//>>demos: http://jqueryui.com/datepicker/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/datepicker.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../version\",\n\t\t\t\"../keycode\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.extend( $.ui, { datepicker: { version: \"1.12.1\" } } );\n\nvar datepicker_instActive;\n\nfunction datepicker_getZindex( elem ) {\n\tvar position, value;\n\twhile ( elem.length && elem[ 0 ] !== document ) {\n\n\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t// This makes behavior of this function consistent across browsers\n\t\t// WebKit always returns auto if the element is positioned\n\t\tposition = elem.css( \"position\" );\n\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\n\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t// other browsers return a string\n\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\telem = elem.parent();\n\t}\n\n\treturn 0;\n}\n/* Date picker manager.\n   Use the singleton instance of this class, $.datepicker, to interact with the date picker.\n   Settings for (groups of) date pickers are maintained in an instance object,\n   allowing multiple different settings on the same page. */\n\nfunction Datepicker() {\n\tthis._curInst = null; // The current instance in use\n\tthis._keyEvent = false; // If the last event was a key event\n\tthis._disabledInputs = []; // List of date picker inputs that have been disabled\n\tthis._datepickerShowing = false; // True if the popup picker is showing , false if not\n\tthis._inDialog = false; // True if showing within a \"dialog\", false if not\n\tthis._mainDivId = \"ui-datepicker-div\"; // The ID of the main datepicker division\n\tthis._inlineClass = \"ui-datepicker-inline\"; // The name of the inline marker class\n\tthis._appendClass = \"ui-datepicker-append\"; // The name of the append marker class\n\tthis._triggerClass = \"ui-datepicker-trigger\"; // The name of the trigger marker class\n\tthis._dialogClass = \"ui-datepicker-dialog\"; // The name of the dialog marker class\n\tthis._disableClass = \"ui-datepicker-disabled\"; // The name of the disabled covering marker class\n\tthis._unselectableClass = \"ui-datepicker-unselectable\"; // The name of the unselectable cell marker class\n\tthis._currentClass = \"ui-datepicker-current-day\"; // The name of the current day marker class\n\tthis._dayOverClass = \"ui-datepicker-days-cell-over\"; // The name of the day hover marker class\n\tthis.regional = []; // Available regional settings, indexed by language code\n\tthis.regional[ \"\" ] = { // Default regional settings\n\t\tcloseText: \"Done\", // Display text for close link\n\t\tprevText: \"Prev\", // Display text for previous month link\n\t\tnextText: \"Next\", // Display text for next month link\n\t\tcurrentText: \"Today\", // Display text for current month link\n\t\tmonthNames: [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\n\t\t\t\"July\",\"August\",\"September\",\"October\",\"November\",\"December\" ], // Names of months for drop-down and formatting\n\t\tmonthNamesShort: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ], // For formatting\n\t\tdayNames: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ], // For formatting\n\t\tdayNamesShort: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ], // For formatting\n\t\tdayNamesMin: [ \"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\" ], // Column headings for days starting at Sunday\n\t\tweekHeader: \"Wk\", // Column header for week of the year\n\t\tdateFormat: \"mm/dd/yy\", // See format options on parseDate\n\t\tfirstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...\n\t\tisRTL: false, // True if right-to-left language, false if left-to-right\n\t\tshowMonthAfterYear: false, // True if the year select precedes month, false for month then year\n\t\tyearSuffix: \"\" // Additional text to append to the year in the month headers\n\t};\n\tthis._defaults = { // Global defaults for all the date picker instances\n\t\tshowOn: \"focus\", // \"focus\" for popup on focus,\n\t\t\t// \"button\" for trigger button, or \"both\" for either\n\t\tshowAnim: \"fadeIn\", // Name of jQuery animation for popup\n\t\tshowOptions: {}, // Options for enhanced animations\n\t\tdefaultDate: null, // Used when field is blank: actual date,\n\t\t\t// +/-number for offset from today, null for today\n\t\tappendText: \"\", // Display text following the input box, e.g. showing the format\n\t\tbuttonText: \"...\", // Text for trigger button\n\t\tbuttonImage: \"\", // URL for trigger button image\n\t\tbuttonImageOnly: false, // True if the image appears alone, false if it appears on a button\n\t\thideIfNoPrevNext: false, // True to hide next/previous month links\n\t\t\t// if not applicable, false to just disable them\n\t\tnavigationAsDateFormat: false, // True if date formatting applied to prev/today/next links\n\t\tgotoCurrent: false, // True if today link goes back to current selection instead\n\t\tchangeMonth: false, // True if month can be selected directly, false if only prev/next\n\t\tchangeYear: false, // True if year can be selected directly, false if only prev/next\n\t\tyearRange: \"c-10:c+10\", // Range of years to display in drop-down,\n\t\t\t// either relative to today's year (-nn:+nn), relative to currently displayed year\n\t\t\t// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)\n\t\tshowOtherMonths: false, // True to show dates in other months, false to leave blank\n\t\tselectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable\n\t\tshowWeek: false, // True to show week of the year, false to not show it\n\t\tcalculateWeek: this.iso8601Week, // How to calculate the week of the year,\n\t\t\t// takes a Date and returns the number of the week for it\n\t\tshortYearCutoff: \"+10\", // Short year values < this are in the current century,\n\t\t\t// > this are in the previous century,\n\t\t\t// string value starting with \"+\" for current year + value\n\t\tminDate: null, // The earliest selectable date, or null for no limit\n\t\tmaxDate: null, // The latest selectable date, or null for no limit\n\t\tduration: \"fast\", // Duration of display/closure\n\t\tbeforeShowDay: null, // Function that takes a date and returns an array with\n\t\t\t// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or \"\",\n\t\t\t// [2] = cell title (optional), e.g. $.datepicker.noWeekends\n\t\tbeforeShow: null, // Function that takes an input field and\n\t\t\t// returns a set of custom settings for the date picker\n\t\tonSelect: null, // Define a callback function when a date is selected\n\t\tonChangeMonthYear: null, // Define a callback function when the month or year is changed\n\t\tonClose: null, // Define a callback function when the datepicker is closed\n\t\tnumberOfMonths: 1, // Number of months to show at a time\n\t\tshowCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)\n\t\tstepMonths: 1, // Number of months to step back/forward\n\t\tstepBigMonths: 12, // Number of months to step back/forward for the big links\n\t\taltField: \"\", // Selector for an alternate field to store selected dates into\n\t\taltFormat: \"\", // The date format to use for the alternate field\n\t\tconstrainInput: true, // The input is constrained by the current date format\n\t\tshowButtonPanel: false, // True to show button panel, false to not show it\n\t\tautoSize: false, // True to size the input for the date format, false to leave as is\n\t\tdisabled: false // The initial disabled state\n\t};\n\t$.extend( this._defaults, this.regional[ \"\" ] );\n\tthis.regional.en = $.extend( true, {}, this.regional[ \"\" ] );\n\tthis.regional[ \"en-US\" ] = $.extend( true, {}, this.regional.en );\n\tthis.dpDiv = datepicker_bindHover( $( \"<div id='\" + this._mainDivId + \"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\" ) );\n}\n\n$.extend( Datepicker.prototype, {\n\t/* Class name added to elements to indicate already configured with a date picker. */\n\tmarkerClassName: \"hasDatepicker\",\n\n\t//Keep track of the maximum number of rows displayed (see #7043)\n\tmaxRows: 4,\n\n\t// TODO rename to \"widget\" when switching to widget factory\n\t_widgetDatepicker: function() {\n\t\treturn this.dpDiv;\n\t},\n\n\t/* Override the default settings for all instances of the date picker.\n\t * @param  settings  object - the new settings to use as defaults (anonymous object)\n\t * @return the manager object\n\t */\n\tsetDefaults: function( settings ) {\n\t\tdatepicker_extendRemove( this._defaults, settings || {} );\n\t\treturn this;\n\t},\n\n\t/* Attach the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t * @param  settings  object - the new settings to use for this date picker instance (anonymous)\n\t */\n\t_attachDatepicker: function( target, settings ) {\n\t\tvar nodeName, inline, inst;\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tinline = ( nodeName === \"div\" || nodeName === \"span\" );\n\t\tif ( !target.id ) {\n\t\t\tthis.uuid += 1;\n\t\t\ttarget.id = \"dp\" + this.uuid;\n\t\t}\n\t\tinst = this._newInst( $( target ), inline );\n\t\tinst.settings = $.extend( {}, settings || {} );\n\t\tif ( nodeName === \"input\" ) {\n\t\t\tthis._connectDatepicker( target, inst );\n\t\t} else if ( inline ) {\n\t\t\tthis._inlineDatepicker( target, inst );\n\t\t}\n\t},\n\n\t/* Create a new instance object. */\n\t_newInst: function( target, inline ) {\n\t\tvar id = target[ 0 ].id.replace( /([^A-Za-z0-9_\\-])/g, \"\\\\\\\\$1\" ); // escape jQuery meta chars\n\t\treturn { id: id, input: target, // associated target\n\t\t\tselectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection\n\t\t\tdrawMonth: 0, drawYear: 0, // month being drawn\n\t\t\tinline: inline, // is datepicker inline or not\n\t\t\tdpDiv: ( !inline ? this.dpDiv : // presentation div\n\t\t\tdatepicker_bindHover( $( \"<div class='\" + this._inlineClass + \" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\" ) ) ) };\n\t},\n\n\t/* Attach the date picker to an input field. */\n\t_connectDatepicker: function( target, inst ) {\n\t\tvar input = $( target );\n\t\tinst.append = $( [] );\n\t\tinst.trigger = $( [] );\n\t\tif ( input.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\t\tthis._attachments( input, inst );\n\t\tinput.addClass( this.markerClassName ).on( \"keydown\", this._doKeyDown ).\n\t\t\ton( \"keypress\", this._doKeyPress ).on( \"keyup\", this._doKeyUp );\n\t\tthis._autoSize( inst );\n\t\t$.data( target, \"datepicker\", inst );\n\n\t\t//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)\n\t\tif ( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\t},\n\n\t/* Make attachments based on settings. */\n\t_attachments: function( input, inst ) {\n\t\tvar showOn, buttonText, buttonImage,\n\t\t\tappendText = this._get( inst, \"appendText\" ),\n\t\t\tisRTL = this._get( inst, \"isRTL\" );\n\n\t\tif ( inst.append ) {\n\t\t\tinst.append.remove();\n\t\t}\n\t\tif ( appendText ) {\n\t\t\tinst.append = $( \"<span class='\" + this._appendClass + \"'>\" + appendText + \"</span>\" );\n\t\t\tinput[ isRTL ? \"before\" : \"after\" ]( inst.append );\n\t\t}\n\n\t\tinput.off( \"focus\", this._showDatepicker );\n\n\t\tif ( inst.trigger ) {\n\t\t\tinst.trigger.remove();\n\t\t}\n\n\t\tshowOn = this._get( inst, \"showOn\" );\n\t\tif ( showOn === \"focus\" || showOn === \"both\" ) { // pop-up date picker when in the marked field\n\t\t\tinput.on( \"focus\", this._showDatepicker );\n\t\t}\n\t\tif ( showOn === \"button\" || showOn === \"both\" ) { // pop-up date picker when button clicked\n\t\t\tbuttonText = this._get( inst, \"buttonText\" );\n\t\t\tbuttonImage = this._get( inst, \"buttonImage\" );\n\t\t\tinst.trigger = $( this._get( inst, \"buttonImageOnly\" ) ?\n\t\t\t\t$( \"<img/>\" ).addClass( this._triggerClass ).\n\t\t\t\t\tattr( { src: buttonImage, alt: buttonText, title: buttonText } ) :\n\t\t\t\t$( \"<button type='button'></button>\" ).addClass( this._triggerClass ).\n\t\t\t\t\thtml( !buttonImage ? buttonText : $( \"<img/>\" ).attr(\n\t\t\t\t\t{ src:buttonImage, alt:buttonText, title:buttonText } ) ) );\n\t\t\tinput[ isRTL ? \"before\" : \"after\" ]( inst.trigger );\n\t\t\tinst.trigger.on( \"click\", function() {\n\t\t\t\tif ( $.datepicker._datepickerShowing && $.datepicker._lastInput === input[ 0 ] ) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t} else if ( $.datepicker._datepickerShowing && $.datepicker._lastInput !== input[ 0 ] ) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t$.datepicker._showDatepicker( input[ 0 ] );\n\t\t\t\t} else {\n\t\t\t\t\t$.datepicker._showDatepicker( input[ 0 ] );\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t}\n\t},\n\n\t/* Apply the maximum length for the date format. */\n\t_autoSize: function( inst ) {\n\t\tif ( this._get( inst, \"autoSize\" ) && !inst.inline ) {\n\t\t\tvar findMax, max, maxI, i,\n\t\t\t\tdate = new Date( 2009, 12 - 1, 20 ), // Ensure double digits\n\t\t\t\tdateFormat = this._get( inst, \"dateFormat\" );\n\n\t\t\tif ( dateFormat.match( /[DM]/ ) ) {\n\t\t\t\tfindMax = function( names ) {\n\t\t\t\t\tmax = 0;\n\t\t\t\t\tmaxI = 0;\n\t\t\t\t\tfor ( i = 0; i < names.length; i++ ) {\n\t\t\t\t\t\tif ( names[ i ].length > max ) {\n\t\t\t\t\t\t\tmax = names[ i ].length;\n\t\t\t\t\t\t\tmaxI = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn maxI;\n\t\t\t\t};\n\t\t\t\tdate.setMonth( findMax( this._get( inst, ( dateFormat.match( /MM/ ) ?\n\t\t\t\t\t\"monthNames\" : \"monthNamesShort\" ) ) ) );\n\t\t\t\tdate.setDate( findMax( this._get( inst, ( dateFormat.match( /DD/ ) ?\n\t\t\t\t\t\"dayNames\" : \"dayNamesShort\" ) ) ) + 20 - date.getDay() );\n\t\t\t}\n\t\t\tinst.input.attr( \"size\", this._formatDate( inst, date ).length );\n\t\t}\n\t},\n\n\t/* Attach an inline date picker to a div. */\n\t_inlineDatepicker: function( target, inst ) {\n\t\tvar divSpan = $( target );\n\t\tif ( divSpan.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\t\tdivSpan.addClass( this.markerClassName ).append( inst.dpDiv );\n\t\t$.data( target, \"datepicker\", inst );\n\t\tthis._setDate( inst, this._getDefaultDate( inst ), true );\n\t\tthis._updateDatepicker( inst );\n\t\tthis._updateAlternate( inst );\n\n\t\t//If disabled option is true, disable the datepicker before showing it (see ticket #5665)\n\t\tif ( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\n\t\t// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements\n\t\t// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height\n\t\tinst.dpDiv.css( \"display\", \"block\" );\n\t},\n\n\t/* Pop-up the date picker in a \"dialog\" box.\n\t * @param  input element - ignored\n\t * @param  date\tstring or Date - the initial date to display\n\t * @param  onSelect  function - the function to call when a date is selected\n\t * @param  settings  object - update the dialog date picker instance's settings (anonymous object)\n\t * @param  pos int[2] - coordinates for the dialog's position within the screen or\n\t *\t\t\t\t\tevent - with x/y coordinates or\n\t *\t\t\t\t\tleave empty for default (screen centre)\n\t * @return the manager object\n\t */\n\t_dialogDatepicker: function( input, date, onSelect, settings, pos ) {\n\t\tvar id, browserWidth, browserHeight, scrollX, scrollY,\n\t\t\tinst = this._dialogInst; // internal instance\n\n\t\tif ( !inst ) {\n\t\t\tthis.uuid += 1;\n\t\t\tid = \"dp\" + this.uuid;\n\t\t\tthis._dialogInput = $( \"<input type='text' id='\" + id +\n\t\t\t\t\"' style='position: absolute; top: -100px; width: 0px;'/>\" );\n\t\t\tthis._dialogInput.on( \"keydown\", this._doKeyDown );\n\t\t\t$( \"body\" ).append( this._dialogInput );\n\t\t\tinst = this._dialogInst = this._newInst( this._dialogInput, false );\n\t\t\tinst.settings = {};\n\t\t\t$.data( this._dialogInput[ 0 ], \"datepicker\", inst );\n\t\t}\n\t\tdatepicker_extendRemove( inst.settings, settings || {} );\n\t\tdate = ( date && date.constructor === Date ? this._formatDate( inst, date ) : date );\n\t\tthis._dialogInput.val( date );\n\n\t\tthis._pos = ( pos ? ( pos.length ? pos : [ pos.pageX, pos.pageY ] ) : null );\n\t\tif ( !this._pos ) {\n\t\t\tbrowserWidth = document.documentElement.clientWidth;\n\t\t\tbrowserHeight = document.documentElement.clientHeight;\n\t\t\tscrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t\t\tscrollY = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\tthis._pos = // should use actual width/height below\n\t\t\t\t[ ( browserWidth / 2 ) - 100 + scrollX, ( browserHeight / 2 ) - 150 + scrollY ];\n\t\t}\n\n\t\t// Move input on screen for focus, but hidden behind dialog\n\t\tthis._dialogInput.css( \"left\", ( this._pos[ 0 ] + 20 ) + \"px\" ).css( \"top\", this._pos[ 1 ] + \"px\" );\n\t\tinst.settings.onSelect = onSelect;\n\t\tthis._inDialog = true;\n\t\tthis.dpDiv.addClass( this._dialogClass );\n\t\tthis._showDatepicker( this._dialogInput[ 0 ] );\n\t\tif ( $.blockUI ) {\n\t\t\t$.blockUI( this.dpDiv );\n\t\t}\n\t\t$.data( this._dialogInput[ 0 ], \"datepicker\", inst );\n\t\treturn this;\n\t},\n\n\t/* Detach a datepicker from its control.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_destroyDatepicker: function( target ) {\n\t\tvar nodeName,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\t$.removeData( target, \"datepicker\" );\n\t\tif ( nodeName === \"input\" ) {\n\t\t\tinst.append.remove();\n\t\t\tinst.trigger.remove();\n\t\t\t$target.removeClass( this.markerClassName ).\n\t\t\t\toff( \"focus\", this._showDatepicker ).\n\t\t\t\toff( \"keydown\", this._doKeyDown ).\n\t\t\t\toff( \"keypress\", this._doKeyPress ).\n\t\t\t\toff( \"keyup\", this._doKeyUp );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\t$target.removeClass( this.markerClassName ).empty();\n\t\t}\n\n\t\tif ( datepicker_instActive === inst ) {\n\t\t\tdatepicker_instActive = null;\n\t\t}\n\t},\n\n\t/* Enable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_enableDatepicker: function( target ) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif ( nodeName === \"input\" ) {\n\t\t\ttarget.disabled = false;\n\t\t\tinst.trigger.filter( \"button\" ).\n\t\t\t\teach( function() { this.disabled = false; } ).end().\n\t\t\t\tfilter( \"img\" ).css( { opacity: \"1.0\", cursor: \"\" } );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\tinline = $target.children( \".\" + this._inlineClass );\n\t\t\tinline.children().removeClass( \"ui-state-disabled\" );\n\t\t\tinline.find( \"select.ui-datepicker-month, select.ui-datepicker-year\" ).\n\t\t\t\tprop( \"disabled\", false );\n\t\t}\n\t\tthis._disabledInputs = $.map( this._disabledInputs,\n\t\t\tfunction( value ) { return ( value === target ? null : value ); } ); // delete entry\n\t},\n\n\t/* Disable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_disableDatepicker: function( target ) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif ( nodeName === \"input\" ) {\n\t\t\ttarget.disabled = true;\n\t\t\tinst.trigger.filter( \"button\" ).\n\t\t\t\teach( function() { this.disabled = true; } ).end().\n\t\t\t\tfilter( \"img\" ).css( { opacity: \"0.5\", cursor: \"default\" } );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\tinline = $target.children( \".\" + this._inlineClass );\n\t\t\tinline.children().addClass( \"ui-state-disabled\" );\n\t\t\tinline.find( \"select.ui-datepicker-month, select.ui-datepicker-year\" ).\n\t\t\t\tprop( \"disabled\", true );\n\t\t}\n\t\tthis._disabledInputs = $.map( this._disabledInputs,\n\t\t\tfunction( value ) { return ( value === target ? null : value ); } ); // delete entry\n\t\tthis._disabledInputs[ this._disabledInputs.length ] = target;\n\t},\n\n\t/* Is the first field in a jQuery collection disabled as a datepicker?\n\t * @param  target\telement - the target input field or division or span\n\t * @return boolean - true if disabled, false if enabled\n\t */\n\t_isDisabledDatepicker: function( target ) {\n\t\tif ( !target ) {\n\t\t\treturn false;\n\t\t}\n\t\tfor ( var i = 0; i < this._disabledInputs.length; i++ ) {\n\t\t\tif ( this._disabledInputs[ i ] === target ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t/* Retrieve the instance data for the target control.\n\t * @param  target  element - the target input field or division or span\n\t * @return  object - the associated instance data\n\t * @throws  error if a jQuery problem getting data\n\t */\n\t_getInst: function( target ) {\n\t\ttry {\n\t\t\treturn $.data( target, \"datepicker\" );\n\t\t}\n\t\tcatch ( err ) {\n\t\t\tthrow \"Missing instance data for this datepicker\";\n\t\t}\n\t},\n\n\t/* Update or retrieve the settings for a date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t * @param  name\tobject - the new settings to update or\n\t *\t\t\t\tstring - the name of the setting to change or retrieve,\n\t *\t\t\t\twhen retrieving also \"all\" for all instance settings or\n\t *\t\t\t\t\"defaults\" for all global defaults\n\t * @param  value   any - the new value for the setting\n\t *\t\t\t\t(omit if above is an object or to retrieve a value)\n\t */\n\t_optionDatepicker: function( target, name, value ) {\n\t\tvar settings, date, minDate, maxDate,\n\t\t\tinst = this._getInst( target );\n\n\t\tif ( arguments.length === 2 && typeof name === \"string\" ) {\n\t\t\treturn ( name === \"defaults\" ? $.extend( {}, $.datepicker._defaults ) :\n\t\t\t\t( inst ? ( name === \"all\" ? $.extend( {}, inst.settings ) :\n\t\t\t\tthis._get( inst, name ) ) : null ) );\n\t\t}\n\n\t\tsettings = name || {};\n\t\tif ( typeof name === \"string\" ) {\n\t\t\tsettings = {};\n\t\t\tsettings[ name ] = value;\n\t\t}\n\n\t\tif ( inst ) {\n\t\t\tif ( this._curInst === inst ) {\n\t\t\t\tthis._hideDatepicker();\n\t\t\t}\n\n\t\t\tdate = this._getDateDatepicker( target, true );\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" );\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" );\n\t\t\tdatepicker_extendRemove( inst.settings, settings );\n\n\t\t\t// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided\n\t\t\tif ( minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined ) {\n\t\t\t\tinst.settings.minDate = this._formatDate( inst, minDate );\n\t\t\t}\n\t\t\tif ( maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined ) {\n\t\t\t\tinst.settings.maxDate = this._formatDate( inst, maxDate );\n\t\t\t}\n\t\t\tif ( \"disabled\" in settings ) {\n\t\t\t\tif ( settings.disabled ) {\n\t\t\t\t\tthis._disableDatepicker( target );\n\t\t\t\t} else {\n\t\t\t\t\tthis._enableDatepicker( target );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._attachments( $( target ), inst );\n\t\t\tthis._autoSize( inst );\n\t\t\tthis._setDate( inst, date );\n\t\t\tthis._updateAlternate( inst );\n\t\t\tthis._updateDatepicker( inst );\n\t\t}\n\t},\n\n\t// Change method deprecated\n\t_changeDatepicker: function( target, name, value ) {\n\t\tthis._optionDatepicker( target, name, value );\n\t},\n\n\t/* Redraw the date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t */\n\t_refreshDatepicker: function( target ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst ) {\n\t\t\tthis._updateDatepicker( inst );\n\t\t}\n\t},\n\n\t/* Set the dates for a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  date\tDate - the new date\n\t */\n\t_setDateDatepicker: function( target, date ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst ) {\n\t\t\tthis._setDate( inst, date );\n\t\t\tthis._updateDatepicker( inst );\n\t\t\tthis._updateAlternate( inst );\n\t\t}\n\t},\n\n\t/* Get the date(s) for the first entry in a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  noDefault boolean - true if no default date is to be used\n\t * @return Date - the current date\n\t */\n\t_getDateDatepicker: function( target, noDefault ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst && !inst.inline ) {\n\t\t\tthis._setDateFromField( inst, noDefault );\n\t\t}\n\t\treturn ( inst ? this._getDate( inst ) : null );\n\t},\n\n\t/* Handle keystrokes. */\n\t_doKeyDown: function( event ) {\n\t\tvar onSelect, dateStr, sel,\n\t\t\tinst = $.datepicker._getInst( event.target ),\n\t\t\thandled = true,\n\t\t\tisRTL = inst.dpDiv.is( \".ui-datepicker-rtl\" );\n\n\t\tinst._keyEvent = true;\n\t\tif ( $.datepicker._datepickerShowing ) {\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase 9: $.datepicker._hideDatepicker();\n\t\t\t\t\t\thandled = false;\n\t\t\t\t\t\tbreak; // hide on tab out\n\t\t\t\tcase 13: sel = $( \"td.\" + $.datepicker._dayOverClass + \":not(.\" +\n\t\t\t\t\t\t\t\t\t$.datepicker._currentClass + \")\", inst.dpDiv );\n\t\t\t\t\t\tif ( sel[ 0 ] ) {\n\t\t\t\t\t\t\t$.datepicker._selectDay( event.target, inst.selectedMonth, inst.selectedYear, sel[ 0 ] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tonSelect = $.datepicker._get( inst, \"onSelect\" );\n\t\t\t\t\t\tif ( onSelect ) {\n\t\t\t\t\t\t\tdateStr = $.datepicker._formatDate( inst );\n\n\t\t\t\t\t\t\t// Trigger custom callback\n\t\t\t\t\t\t\tonSelect.apply( ( inst.input ? inst.input[ 0 ] : null ), [ dateStr, inst ] );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false; // don't submit the form\n\t\t\t\tcase 27: $.datepicker._hideDatepicker();\n\t\t\t\t\t\tbreak; // hide on escape\n\t\t\t\tcase 33: $.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\tbreak; // previous month/year on page up/+ ctrl\n\t\t\t\tcase 34: $.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\tbreak; // next month/year on page down/+ ctrl\n\t\t\t\tcase 35: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._clearDate( event.target );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // clear on ctrl or command +end\n\t\t\t\tcase 36: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._gotoToday( event.target );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // current on ctrl or command +home\n\t\t\t\tcase 37: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( isRTL ? +1 : -1 ), \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\n\t\t\t\t\t\t// -1 day on ctrl or command +left\n\t\t\t\t\t\tif ( event.originalEvent.altKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// next month/year on alt +left on Mac\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 38: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, -7, \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // -1 week on ctrl or command +up\n\t\t\t\tcase 39: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( isRTL ? -1 : +1 ), \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\n\t\t\t\t\t\t// +1 day on ctrl or command +right\n\t\t\t\t\t\tif ( event.originalEvent.altKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// next month/year on alt +right\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 40: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, +7, \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // +1 week on ctrl or command +down\n\t\t\t\tdefault: handled = false;\n\t\t\t}\n\t\t} else if ( event.keyCode === 36 && event.ctrlKey ) { // display the date picker on ctrl+home\n\t\t\t$.datepicker._showDatepicker( this );\n\t\t} else {\n\t\t\thandled = false;\n\t\t}\n\n\t\tif ( handled ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t},\n\n\t/* Filter entered characters - based on date format. */\n\t_doKeyPress: function( event ) {\n\t\tvar chars, chr,\n\t\t\tinst = $.datepicker._getInst( event.target );\n\n\t\tif ( $.datepicker._get( inst, \"constrainInput\" ) ) {\n\t\t\tchars = $.datepicker._possibleChars( $.datepicker._get( inst, \"dateFormat\" ) );\n\t\t\tchr = String.fromCharCode( event.charCode == null ? event.keyCode : event.charCode );\n\t\t\treturn event.ctrlKey || event.metaKey || ( chr < \" \" || !chars || chars.indexOf( chr ) > -1 );\n\t\t}\n\t},\n\n\t/* Synchronise manual entry and field/alternate field. */\n\t_doKeyUp: function( event ) {\n\t\tvar date,\n\t\t\tinst = $.datepicker._getInst( event.target );\n\n\t\tif ( inst.input.val() !== inst.lastVal ) {\n\t\t\ttry {\n\t\t\t\tdate = $.datepicker.parseDate( $.datepicker._get( inst, \"dateFormat\" ),\n\t\t\t\t\t( inst.input ? inst.input.val() : null ),\n\t\t\t\t\t$.datepicker._getFormatConfig( inst ) );\n\n\t\t\t\tif ( date ) { // only if valid\n\t\t\t\t\t$.datepicker._setDateFromField( inst );\n\t\t\t\t\t$.datepicker._updateAlternate( inst );\n\t\t\t\t\t$.datepicker._updateDatepicker( inst );\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch ( err ) {\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/* Pop-up the date picker for a given input field.\n\t * If false returned from beforeShow event handler do not show.\n\t * @param  input  element - the input field attached to the date picker or\n\t *\t\t\t\t\tevent - if triggered by focus\n\t */\n\t_showDatepicker: function( input ) {\n\t\tinput = input.target || input;\n\t\tif ( input.nodeName.toLowerCase() !== \"input\" ) { // find from button/image trigger\n\t\t\tinput = $( \"input\", input.parentNode )[ 0 ];\n\t\t}\n\n\t\tif ( $.datepicker._isDisabledDatepicker( input ) || $.datepicker._lastInput === input ) { // already here\n\t\t\treturn;\n\t\t}\n\n\t\tvar inst, beforeShow, beforeShowSettings, isFixed,\n\t\t\toffset, showAnim, duration;\n\n\t\tinst = $.datepicker._getInst( input );\n\t\tif ( $.datepicker._curInst && $.datepicker._curInst !== inst ) {\n\t\t\t$.datepicker._curInst.dpDiv.stop( true, true );\n\t\t\tif ( inst && $.datepicker._datepickerShowing ) {\n\t\t\t\t$.datepicker._hideDatepicker( $.datepicker._curInst.input[ 0 ] );\n\t\t\t}\n\t\t}\n\n\t\tbeforeShow = $.datepicker._get( inst, \"beforeShow\" );\n\t\tbeforeShowSettings = beforeShow ? beforeShow.apply( input, [ input, inst ] ) : {};\n\t\tif ( beforeShowSettings === false ) {\n\t\t\treturn;\n\t\t}\n\t\tdatepicker_extendRemove( inst.settings, beforeShowSettings );\n\n\t\tinst.lastVal = null;\n\t\t$.datepicker._lastInput = input;\n\t\t$.datepicker._setDateFromField( inst );\n\n\t\tif ( $.datepicker._inDialog ) { // hide cursor\n\t\t\tinput.value = \"\";\n\t\t}\n\t\tif ( !$.datepicker._pos ) { // position below input\n\t\t\t$.datepicker._pos = $.datepicker._findPos( input );\n\t\t\t$.datepicker._pos[ 1 ] += input.offsetHeight; // add the height\n\t\t}\n\n\t\tisFixed = false;\n\t\t$( input ).parents().each( function() {\n\t\t\tisFixed |= $( this ).css( \"position\" ) === \"fixed\";\n\t\t\treturn !isFixed;\n\t\t} );\n\n\t\toffset = { left: $.datepicker._pos[ 0 ], top: $.datepicker._pos[ 1 ] };\n\t\t$.datepicker._pos = null;\n\n\t\t//to avoid flashes on Firefox\n\t\tinst.dpDiv.empty();\n\n\t\t// determine sizing offscreen\n\t\tinst.dpDiv.css( { position: \"absolute\", display: \"block\", top: \"-1000px\" } );\n\t\t$.datepicker._updateDatepicker( inst );\n\n\t\t// fix width for dynamic number of date pickers\n\t\t// and adjust position before showing\n\t\toffset = $.datepicker._checkOffset( inst, offset, isFixed );\n\t\tinst.dpDiv.css( { position: ( $.datepicker._inDialog && $.blockUI ?\n\t\t\t\"static\" : ( isFixed ? \"fixed\" : \"absolute\" ) ), display: \"none\",\n\t\t\tleft: offset.left + \"px\", top: offset.top + \"px\" } );\n\n\t\tif ( !inst.inline ) {\n\t\t\tshowAnim = $.datepicker._get( inst, \"showAnim\" );\n\t\t\tduration = $.datepicker._get( inst, \"duration\" );\n\t\t\tinst.dpDiv.css( \"z-index\", datepicker_getZindex( $( input ) ) + 1 );\n\t\t\t$.datepicker._datepickerShowing = true;\n\n\t\t\tif ( $.effects && $.effects.effect[ showAnim ] ) {\n\t\t\t\tinst.dpDiv.show( showAnim, $.datepicker._get( inst, \"showOptions\" ), duration );\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[ showAnim || \"show\" ]( showAnim ? duration : null );\n\t\t\t}\n\n\t\t\tif ( $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\t\tinst.input.trigger( \"focus\" );\n\t\t\t}\n\n\t\t\t$.datepicker._curInst = inst;\n\t\t}\n\t},\n\n\t/* Generate the date picker content. */\n\t_updateDatepicker: function( inst ) {\n\t\tthis.maxRows = 4; //Reset the max number of rows being displayed (see #7043)\n\t\tdatepicker_instActive = inst; // for delegate hover events\n\t\tinst.dpDiv.empty().append( this._generateHTML( inst ) );\n\t\tthis._attachHandlers( inst );\n\n\t\tvar origyearshtml,\n\t\t\tnumMonths = this._getNumberOfMonths( inst ),\n\t\t\tcols = numMonths[ 1 ],\n\t\t\twidth = 17,\n\t\t\tactiveCell = inst.dpDiv.find( \".\" + this._dayOverClass + \" a\" );\n\n\t\tif ( activeCell.length > 0 ) {\n\t\t\tdatepicker_handleMouseover.apply( activeCell.get( 0 ) );\n\t\t}\n\n\t\tinst.dpDiv.removeClass( \"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\" ).width( \"\" );\n\t\tif ( cols > 1 ) {\n\t\t\tinst.dpDiv.addClass( \"ui-datepicker-multi-\" + cols ).css( \"width\", ( width * cols ) + \"em\" );\n\t\t}\n\t\tinst.dpDiv[ ( numMonths[ 0 ] !== 1 || numMonths[ 1 ] !== 1 ? \"add\" : \"remove\" ) +\n\t\t\t\"Class\" ]( \"ui-datepicker-multi\" );\n\t\tinst.dpDiv[ ( this._get( inst, \"isRTL\" ) ? \"add\" : \"remove\" ) +\n\t\t\t\"Class\" ]( \"ui-datepicker-rtl\" );\n\n\t\tif ( inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\tinst.input.trigger( \"focus\" );\n\t\t}\n\n\t\t// Deffered render of the years select (to avoid flashes on Firefox)\n\t\tif ( inst.yearshtml ) {\n\t\t\torigyearshtml = inst.yearshtml;\n\t\t\tsetTimeout( function() {\n\n\t\t\t\t//assure that inst.yearshtml didn't change.\n\t\t\t\tif ( origyearshtml === inst.yearshtml && inst.yearshtml ) {\n\t\t\t\t\tinst.dpDiv.find( \"select.ui-datepicker-year:first\" ).replaceWith( inst.yearshtml );\n\t\t\t\t}\n\t\t\t\torigyearshtml = inst.yearshtml = null;\n\t\t\t}, 0 );\n\t\t}\n\t},\n\n\t// #6694 - don't focus the input if it's already focused\n\t// this breaks the change event in IE\n\t// Support: IE and jQuery <1.9\n\t_shouldFocusInput: function( inst ) {\n\t\treturn inst.input && inst.input.is( \":visible\" ) && !inst.input.is( \":disabled\" ) && !inst.input.is( \":focus\" );\n\t},\n\n\t/* Check positioning to remain on screen. */\n\t_checkOffset: function( inst, offset, isFixed ) {\n\t\tvar dpWidth = inst.dpDiv.outerWidth(),\n\t\t\tdpHeight = inst.dpDiv.outerHeight(),\n\t\t\tinputWidth = inst.input ? inst.input.outerWidth() : 0,\n\t\t\tinputHeight = inst.input ? inst.input.outerHeight() : 0,\n\t\t\tviewWidth = document.documentElement.clientWidth + ( isFixed ? 0 : $( document ).scrollLeft() ),\n\t\t\tviewHeight = document.documentElement.clientHeight + ( isFixed ? 0 : $( document ).scrollTop() );\n\n\t\toffset.left -= ( this._get( inst, \"isRTL\" ) ? ( dpWidth - inputWidth ) : 0 );\n\t\toffset.left -= ( isFixed && offset.left === inst.input.offset().left ) ? $( document ).scrollLeft() : 0;\n\t\toffset.top -= ( isFixed && offset.top === ( inst.input.offset().top + inputHeight ) ) ? $( document ).scrollTop() : 0;\n\n\t\t// Now check if datepicker is showing outside window viewport - move to a better place if so.\n\t\toffset.left -= Math.min( offset.left, ( offset.left + dpWidth > viewWidth && viewWidth > dpWidth ) ?\n\t\t\tMath.abs( offset.left + dpWidth - viewWidth ) : 0 );\n\t\toffset.top -= Math.min( offset.top, ( offset.top + dpHeight > viewHeight && viewHeight > dpHeight ) ?\n\t\t\tMath.abs( dpHeight + inputHeight ) : 0 );\n\n\t\treturn offset;\n\t},\n\n\t/* Find an object's position on the screen. */\n\t_findPos: function( obj ) {\n\t\tvar position,\n\t\t\tinst = this._getInst( obj ),\n\t\t\tisRTL = this._get( inst, \"isRTL\" );\n\n\t\twhile ( obj && ( obj.type === \"hidden\" || obj.nodeType !== 1 || $.expr.filters.hidden( obj ) ) ) {\n\t\t\tobj = obj[ isRTL ? \"previousSibling\" : \"nextSibling\" ];\n\t\t}\n\n\t\tposition = $( obj ).offset();\n\t\treturn [ position.left, position.top ];\n\t},\n\n\t/* Hide the date picker from view.\n\t * @param  input  element - the input field attached to the date picker\n\t */\n\t_hideDatepicker: function( input ) {\n\t\tvar showAnim, duration, postProcess, onClose,\n\t\t\tinst = this._curInst;\n\n\t\tif ( !inst || ( input && inst !== $.data( input, \"datepicker\" ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this._datepickerShowing ) {\n\t\t\tshowAnim = this._get( inst, \"showAnim\" );\n\t\t\tduration = this._get( inst, \"duration\" );\n\t\t\tpostProcess = function() {\n\t\t\t\t$.datepicker._tidyDialog( inst );\n\t\t\t};\n\n\t\t\t// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed\n\t\t\tif ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {\n\t\t\t\tinst.dpDiv.hide( showAnim, $.datepicker._get( inst, \"showOptions\" ), duration, postProcess );\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[ ( showAnim === \"slideDown\" ? \"slideUp\" :\n\t\t\t\t\t( showAnim === \"fadeIn\" ? \"fadeOut\" : \"hide\" ) ) ]( ( showAnim ? duration : null ), postProcess );\n\t\t\t}\n\n\t\t\tif ( !showAnim ) {\n\t\t\t\tpostProcess();\n\t\t\t}\n\t\t\tthis._datepickerShowing = false;\n\n\t\t\tonClose = this._get( inst, \"onClose\" );\n\t\t\tif ( onClose ) {\n\t\t\t\tonClose.apply( ( inst.input ? inst.input[ 0 ] : null ), [ ( inst.input ? inst.input.val() : \"\" ), inst ] );\n\t\t\t}\n\n\t\t\tthis._lastInput = null;\n\t\t\tif ( this._inDialog ) {\n\t\t\t\tthis._dialogInput.css( { position: \"absolute\", left: \"0\", top: \"-100px\" } );\n\t\t\t\tif ( $.blockUI ) {\n\t\t\t\t\t$.unblockUI();\n\t\t\t\t\t$( \"body\" ).append( this.dpDiv );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._inDialog = false;\n\t\t}\n\t},\n\n\t/* Tidy up after a dialog display. */\n\t_tidyDialog: function( inst ) {\n\t\tinst.dpDiv.removeClass( this._dialogClass ).off( \".ui-datepicker-calendar\" );\n\t},\n\n\t/* Close date picker if clicked elsewhere. */\n\t_checkExternalClick: function( event ) {\n\t\tif ( !$.datepicker._curInst ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar $target = $( event.target ),\n\t\t\tinst = $.datepicker._getInst( $target[ 0 ] );\n\n\t\tif ( ( ( $target[ 0 ].id !== $.datepicker._mainDivId &&\n\t\t\t\t$target.parents( \"#\" + $.datepicker._mainDivId ).length === 0 &&\n\t\t\t\t!$target.hasClass( $.datepicker.markerClassName ) &&\n\t\t\t\t!$target.closest( \".\" + $.datepicker._triggerClass ).length &&\n\t\t\t\t$.datepicker._datepickerShowing && !( $.datepicker._inDialog && $.blockUI ) ) ) ||\n\t\t\t( $target.hasClass( $.datepicker.markerClassName ) && $.datepicker._curInst !== inst ) ) {\n\t\t\t\t$.datepicker._hideDatepicker();\n\t\t}\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustDate: function( id, offset, period ) {\n\t\tvar target = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tif ( this._isDisabledDatepicker( target[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\t\tthis._adjustInstDate( inst, offset +\n\t\t\t( period === \"M\" ? this._get( inst, \"showCurrentAtPos\" ) : 0 ), // undo positioning\n\t\t\tperiod );\n\t\tthis._updateDatepicker( inst );\n\t},\n\n\t/* Action for current link. */\n\t_gotoToday: function( id ) {\n\t\tvar date,\n\t\t\ttarget = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tif ( this._get( inst, \"gotoCurrent\" ) && inst.currentDay ) {\n\t\t\tinst.selectedDay = inst.currentDay;\n\t\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth;\n\t\t\tinst.drawYear = inst.selectedYear = inst.currentYear;\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t\tinst.selectedDay = date.getDate();\n\t\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\t}\n\t\tthis._notifyChange( inst );\n\t\tthis._adjustDate( target );\n\t},\n\n\t/* Action for selecting a new month/year. */\n\t_selectMonthYear: function( id, select, period ) {\n\t\tvar target = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tinst[ \"selected\" + ( period === \"M\" ? \"Month\" : \"Year\" ) ] =\n\t\tinst[ \"draw\" + ( period === \"M\" ? \"Month\" : \"Year\" ) ] =\n\t\t\tparseInt( select.options[ select.selectedIndex ].value, 10 );\n\n\t\tthis._notifyChange( inst );\n\t\tthis._adjustDate( target );\n\t},\n\n\t/* Action for selecting a day. */\n\t_selectDay: function( id, month, year, td ) {\n\t\tvar inst,\n\t\t\ttarget = $( id );\n\n\t\tif ( $( td ).hasClass( this._unselectableClass ) || this._isDisabledDatepicker( target[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tinst = this._getInst( target[ 0 ] );\n\t\tinst.selectedDay = inst.currentDay = $( \"a\", td ).html();\n\t\tinst.selectedMonth = inst.currentMonth = month;\n\t\tinst.selectedYear = inst.currentYear = year;\n\t\tthis._selectDate( id, this._formatDate( inst,\n\t\t\tinst.currentDay, inst.currentMonth, inst.currentYear ) );\n\t},\n\n\t/* Erase the input field and hide the date picker. */\n\t_clearDate: function( id ) {\n\t\tvar target = $( id );\n\t\tthis._selectDate( target, \"\" );\n\t},\n\n\t/* Update the input field with the selected date. */\n\t_selectDate: function( id, dateStr ) {\n\t\tvar onSelect,\n\t\t\ttarget = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tdateStr = ( dateStr != null ? dateStr : this._formatDate( inst ) );\n\t\tif ( inst.input ) {\n\t\t\tinst.input.val( dateStr );\n\t\t}\n\t\tthis._updateAlternate( inst );\n\n\t\tonSelect = this._get( inst, \"onSelect\" );\n\t\tif ( onSelect ) {\n\t\t\tonSelect.apply( ( inst.input ? inst.input[ 0 ] : null ), [ dateStr, inst ] );  // trigger custom callback\n\t\t} else if ( inst.input ) {\n\t\t\tinst.input.trigger( \"change\" ); // fire the change event\n\t\t}\n\n\t\tif ( inst.inline ) {\n\t\t\tthis._updateDatepicker( inst );\n\t\t} else {\n\t\t\tthis._hideDatepicker();\n\t\t\tthis._lastInput = inst.input[ 0 ];\n\t\t\tif ( typeof( inst.input[ 0 ] ) !== \"object\" ) {\n\t\t\t\tinst.input.trigger( \"focus\" ); // restore focus\n\t\t\t}\n\t\t\tthis._lastInput = null;\n\t\t}\n\t},\n\n\t/* Update any alternate field to synchronise with the main field. */\n\t_updateAlternate: function( inst ) {\n\t\tvar altFormat, date, dateStr,\n\t\t\taltField = this._get( inst, \"altField\" );\n\n\t\tif ( altField ) { // update alternate field too\n\t\t\taltFormat = this._get( inst, \"altFormat\" ) || this._get( inst, \"dateFormat\" );\n\t\t\tdate = this._getDate( inst );\n\t\t\tdateStr = this.formatDate( altFormat, date, this._getFormatConfig( inst ) );\n\t\t\t$( altField ).val( dateStr );\n\t\t}\n\t},\n\n\t/* Set as beforeShowDay function to prevent selection of weekends.\n\t * @param  date  Date - the date to customise\n\t * @return [boolean, string] - is this date selectable?, what is its CSS class?\n\t */\n\tnoWeekends: function( date ) {\n\t\tvar day = date.getDay();\n\t\treturn [ ( day > 0 && day < 6 ), \"\" ];\n\t},\n\n\t/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.\n\t * @param  date  Date - the date to get the week for\n\t * @return  number - the number of the week within the year that contains this date\n\t */\n\tiso8601Week: function( date ) {\n\t\tvar time,\n\t\t\tcheckDate = new Date( date.getTime() );\n\n\t\t// Find Thursday of this week starting on Monday\n\t\tcheckDate.setDate( checkDate.getDate() + 4 - ( checkDate.getDay() || 7 ) );\n\n\t\ttime = checkDate.getTime();\n\t\tcheckDate.setMonth( 0 ); // Compare with Jan 1\n\t\tcheckDate.setDate( 1 );\n\t\treturn Math.floor( Math.round( ( time - checkDate ) / 86400000 ) / 7 ) + 1;\n\t},\n\n\t/* Parse a string value into a date object.\n\t * See formatDate below for the possible formats.\n\t *\n\t * @param  format string - the expected format of the date\n\t * @param  value string - the date in the above format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tshortYearCutoff  number - the cutoff year for determining the century (optional)\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  Date - the extracted date value or null if value is blank\n\t */\n\tparseDate: function( format, value, settings ) {\n\t\tif ( format == null || value == null ) {\n\t\t\tthrow \"Invalid arguments\";\n\t\t}\n\n\t\tvalue = ( typeof value === \"object\" ? value.toString() : value + \"\" );\n\t\tif ( value === \"\" ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar iFormat, dim, extra,\n\t\t\tiValue = 0,\n\t\t\tshortYearCutoffTemp = ( settings ? settings.shortYearCutoff : null ) || this._defaults.shortYearCutoff,\n\t\t\tshortYearCutoff = ( typeof shortYearCutoffTemp !== \"string\" ? shortYearCutoffTemp :\n\t\t\t\tnew Date().getFullYear() % 100 + parseInt( shortYearCutoffTemp, 10 ) ),\n\t\t\tdayNamesShort = ( settings ? settings.dayNamesShort : null ) || this._defaults.dayNamesShort,\n\t\t\tdayNames = ( settings ? settings.dayNames : null ) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = ( settings ? settings.monthNamesShort : null ) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = ( settings ? settings.monthNames : null ) || this._defaults.monthNames,\n\t\t\tyear = -1,\n\t\t\tmonth = -1,\n\t\t\tday = -1,\n\t\t\tdoy = -1,\n\t\t\tliteral = false,\n\t\t\tdate,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\n\t\t\t// Extract a number from the string value\n\t\t\tgetNumber = function( match ) {\n\t\t\t\tvar isDoubled = lookAhead( match ),\n\t\t\t\t\tsize = ( match === \"@\" ? 14 : ( match === \"!\" ? 20 :\n\t\t\t\t\t( match === \"y\" && isDoubled ? 4 : ( match === \"o\" ? 3 : 2 ) ) ) ),\n\t\t\t\t\tminSize = ( match === \"y\" ? size : 1 ),\n\t\t\t\t\tdigits = new RegExp( \"^\\\\d{\" + minSize + \",\" + size + \"}\" ),\n\t\t\t\t\tnum = value.substring( iValue ).match( digits );\n\t\t\t\tif ( !num ) {\n\t\t\t\t\tthrow \"Missing number at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue += num[ 0 ].length;\n\t\t\t\treturn parseInt( num[ 0 ], 10 );\n\t\t\t},\n\n\t\t\t// Extract a name from the string value and convert to an index\n\t\t\tgetName = function( match, shortNames, longNames ) {\n\t\t\t\tvar index = -1,\n\t\t\t\t\tnames = $.map( lookAhead( match ) ? longNames : shortNames, function( v, k ) {\n\t\t\t\t\t\treturn [ [ k, v ] ];\n\t\t\t\t\t} ).sort( function( a, b ) {\n\t\t\t\t\t\treturn -( a[ 1 ].length - b[ 1 ].length );\n\t\t\t\t\t} );\n\n\t\t\t\t$.each( names, function( i, pair ) {\n\t\t\t\t\tvar name = pair[ 1 ];\n\t\t\t\t\tif ( value.substr( iValue, name.length ).toLowerCase() === name.toLowerCase() ) {\n\t\t\t\t\t\tindex = pair[ 0 ];\n\t\t\t\t\t\tiValue += name.length;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tif ( index !== -1 ) {\n\t\t\t\t\treturn index + 1;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Unknown name at position \" + iValue;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Confirm that a literal character matches the string value\n\t\t\tcheckLiteral = function() {\n\t\t\t\tif ( value.charAt( iValue ) !== format.charAt( iFormat ) ) {\n\t\t\t\t\tthrow \"Unexpected literal at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue++;\n\t\t\t};\n\n\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\tif ( literal ) {\n\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tday = getNumber( \"d\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\tgetName( \"D\", dayNamesShort, dayNames );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\tdoy = getNumber( \"o\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\tmonth = getNumber( \"m\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\tmonth = getName( \"M\", monthNamesShort, monthNames );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tyear = getNumber( \"y\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\tdate = new Date( getNumber( \"@\" ) );\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\tdate = new Date( ( getNumber( \"!\" ) - this._ticksTo1970 ) / 10000 );\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( iValue < value.length ) {\n\t\t\textra = value.substr( iValue );\n\t\t\tif ( !/^\\s+/.test( extra ) ) {\n\t\t\t\tthrow \"Extra/unparsed characters found in date: \" + extra;\n\t\t\t}\n\t\t}\n\n\t\tif ( year === -1 ) {\n\t\t\tyear = new Date().getFullYear();\n\t\t} else if ( year < 100 ) {\n\t\t\tyear += new Date().getFullYear() - new Date().getFullYear() % 100 +\n\t\t\t\t( year <= shortYearCutoff ? 0 : -100 );\n\t\t}\n\n\t\tif ( doy > -1 ) {\n\t\t\tmonth = 1;\n\t\t\tday = doy;\n\t\t\tdo {\n\t\t\t\tdim = this._getDaysInMonth( year, month - 1 );\n\t\t\t\tif ( day <= dim ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmonth++;\n\t\t\t\tday -= dim;\n\t\t\t} while ( true );\n\t\t}\n\n\t\tdate = this._daylightSavingAdjust( new Date( year, month - 1, day ) );\n\t\tif ( date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day ) {\n\t\t\tthrow \"Invalid date\"; // E.g. 31/02/00\n\t\t}\n\t\treturn date;\n\t},\n\n\t/* Standard date formats. */\n\tATOM: \"yy-mm-dd\", // RFC 3339 (ISO 8601)\n\tCOOKIE: \"D, dd M yy\",\n\tISO_8601: \"yy-mm-dd\",\n\tRFC_822: \"D, d M y\",\n\tRFC_850: \"DD, dd-M-y\",\n\tRFC_1036: \"D, d M y\",\n\tRFC_1123: \"D, d M yy\",\n\tRFC_2822: \"D, d M yy\",\n\tRSS: \"D, d M y\", // RFC 822\n\tTICKS: \"!\",\n\tTIMESTAMP: \"@\",\n\tW3C: \"yy-mm-dd\", // ISO 8601\n\n\t_ticksTo1970: ( ( ( 1970 - 1 ) * 365 + Math.floor( 1970 / 4 ) - Math.floor( 1970 / 100 ) +\n\t\tMath.floor( 1970 / 400 ) ) * 24 * 60 * 60 * 10000000 ),\n\n\t/* Format a date object into a string value.\n\t * The format can be combinations of the following:\n\t * d  - day of month (no leading zero)\n\t * dd - day of month (two digit)\n\t * o  - day of year (no leading zeros)\n\t * oo - day of year (three digit)\n\t * D  - day name short\n\t * DD - day name long\n\t * m  - month of year (no leading zero)\n\t * mm - month of year (two digit)\n\t * M  - month name short\n\t * MM - month name long\n\t * y  - year (two digit)\n\t * yy - year (four digit)\n\t * @ - Unix timestamp (ms since 01/01/1970)\n\t * ! - Windows ticks (100ns since 01/01/0001)\n\t * \"...\" - literal text\n\t * '' - single quote\n\t *\n\t * @param  format string - the desired format of the date\n\t * @param  date Date - the date value to format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  string - the date in the above format\n\t */\n\tformatDate: function( format, date, settings ) {\n\t\tif ( !date ) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar iFormat,\n\t\t\tdayNamesShort = ( settings ? settings.dayNamesShort : null ) || this._defaults.dayNamesShort,\n\t\t\tdayNames = ( settings ? settings.dayNames : null ) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = ( settings ? settings.monthNamesShort : null ) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = ( settings ? settings.monthNames : null ) || this._defaults.monthNames,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\n\t\t\t// Format a number, with leading zero if necessary\n\t\t\tformatNumber = function( match, value, len ) {\n\t\t\t\tvar num = \"\" + value;\n\t\t\t\tif ( lookAhead( match ) ) {\n\t\t\t\t\twhile ( num.length < len ) {\n\t\t\t\t\t\tnum = \"0\" + num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn num;\n\t\t\t},\n\n\t\t\t// Format a name, short or long as requested\n\t\t\tformatName = function( match, value, shortNames, longNames ) {\n\t\t\t\treturn ( lookAhead( match ) ? longNames[ value ] : shortNames[ value ] );\n\t\t\t},\n\t\t\toutput = \"\",\n\t\t\tliteral = false;\n\n\t\tif ( date ) {\n\t\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\t\tif ( literal ) {\n\t\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\t\tliteral = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt( iFormat );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\t\toutput += formatNumber( \"d\", date.getDate(), 2 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\t\toutput += formatName( \"D\", date.getDay(), dayNamesShort, dayNames );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\t\toutput += formatNumber( \"o\",\n\t\t\t\t\t\t\t\tMath.round( ( new Date( date.getFullYear(), date.getMonth(), date.getDate() ).getTime() - new Date( date.getFullYear(), 0, 0 ).getTime() ) / 86400000 ), 3 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\t\toutput += formatNumber( \"m\", date.getMonth() + 1, 2 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\t\toutput += formatName( \"M\", date.getMonth(), monthNamesShort, monthNames );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\t\toutput += ( lookAhead( \"y\" ) ? date.getFullYear() :\n\t\t\t\t\t\t\t\t( date.getFullYear() % 100 < 10 ? \"0\" : \"\" ) + date.getFullYear() % 100 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\t\toutput += date.getTime();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\t\toutput += date.getTime() * 10000 + this._ticksTo1970;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt( iFormat );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t},\n\n\t/* Extract all possible characters from the date format. */\n\t_possibleChars: function( format ) {\n\t\tvar iFormat,\n\t\t\tchars = \"\",\n\t\t\tliteral = false,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t};\n\n\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\tif ( literal ) {\n\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tchars += format.charAt( iFormat );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\tcase \"d\": case \"m\": case \"y\": case \"@\":\n\t\t\t\t\t\tchars += \"0123456789\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\": case \"M\":\n\t\t\t\t\t\treturn null; // Accept anything\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\tchars += \"'\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tchars += format.charAt( iFormat );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn chars;\n\t},\n\n\t/* Get a setting value, defaulting if necessary. */\n\t_get: function( inst, name ) {\n\t\treturn inst.settings[ name ] !== undefined ?\n\t\t\tinst.settings[ name ] : this._defaults[ name ];\n\t},\n\n\t/* Parse existing date and initialise date picker. */\n\t_setDateFromField: function( inst, noDefault ) {\n\t\tif ( inst.input.val() === inst.lastVal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dateFormat = this._get( inst, \"dateFormat\" ),\n\t\t\tdates = inst.lastVal = inst.input ? inst.input.val() : null,\n\t\t\tdefaultDate = this._getDefaultDate( inst ),\n\t\t\tdate = defaultDate,\n\t\t\tsettings = this._getFormatConfig( inst );\n\n\t\ttry {\n\t\t\tdate = this.parseDate( dateFormat, dates, settings ) || defaultDate;\n\t\t} catch ( event ) {\n\t\t\tdates = ( noDefault ? \"\" : dates );\n\t\t}\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tinst.currentDay = ( dates ? date.getDate() : 0 );\n\t\tinst.currentMonth = ( dates ? date.getMonth() : 0 );\n\t\tinst.currentYear = ( dates ? date.getFullYear() : 0 );\n\t\tthis._adjustInstDate( inst );\n\t},\n\n\t/* Retrieve the default date shown on opening. */\n\t_getDefaultDate: function( inst ) {\n\t\treturn this._restrictMinMax( inst,\n\t\t\tthis._determineDate( inst, this._get( inst, \"defaultDate\" ), new Date() ) );\n\t},\n\n\t/* A date may be specified as an exact value or a relative one. */\n\t_determineDate: function( inst, date, defaultDate ) {\n\t\tvar offsetNumeric = function( offset ) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setDate( date.getDate() + offset );\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\toffsetString = function( offset ) {\n\t\t\t\ttry {\n\t\t\t\t\treturn $.datepicker.parseDate( $.datepicker._get( inst, \"dateFormat\" ),\n\t\t\t\t\t\toffset, $.datepicker._getFormatConfig( inst ) );\n\t\t\t\t}\n\t\t\t\tcatch ( e ) {\n\n\t\t\t\t\t// Ignore\n\t\t\t\t}\n\n\t\t\t\tvar date = ( offset.toLowerCase().match( /^c/ ) ?\n\t\t\t\t\t$.datepicker._getDate( inst ) : null ) || new Date(),\n\t\t\t\t\tyear = date.getFullYear(),\n\t\t\t\t\tmonth = date.getMonth(),\n\t\t\t\t\tday = date.getDate(),\n\t\t\t\t\tpattern = /([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,\n\t\t\t\t\tmatches = pattern.exec( offset );\n\n\t\t\t\twhile ( matches ) {\n\t\t\t\t\tswitch ( matches[ 2 ] || \"d\" ) {\n\t\t\t\t\t\tcase \"d\" : case \"D\" :\n\t\t\t\t\t\t\tday += parseInt( matches[ 1 ], 10 ); break;\n\t\t\t\t\t\tcase \"w\" : case \"W\" :\n\t\t\t\t\t\t\tday += parseInt( matches[ 1 ], 10 ) * 7; break;\n\t\t\t\t\t\tcase \"m\" : case \"M\" :\n\t\t\t\t\t\t\tmonth += parseInt( matches[ 1 ], 10 );\n\t\t\t\t\t\t\tday = Math.min( day, $.datepicker._getDaysInMonth( year, month ) );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\": case \"Y\" :\n\t\t\t\t\t\t\tyear += parseInt( matches[ 1 ], 10 );\n\t\t\t\t\t\t\tday = Math.min( day, $.datepicker._getDaysInMonth( year, month ) );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmatches = pattern.exec( offset );\n\t\t\t\t}\n\t\t\t\treturn new Date( year, month, day );\n\t\t\t},\n\t\t\tnewDate = ( date == null || date === \"\" ? defaultDate : ( typeof date === \"string\" ? offsetString( date ) :\n\t\t\t\t( typeof date === \"number\" ? ( isNaN( date ) ? defaultDate : offsetNumeric( date ) ) : new Date( date.getTime() ) ) ) );\n\n\t\tnewDate = ( newDate && newDate.toString() === \"Invalid Date\" ? defaultDate : newDate );\n\t\tif ( newDate ) {\n\t\t\tnewDate.setHours( 0 );\n\t\t\tnewDate.setMinutes( 0 );\n\t\t\tnewDate.setSeconds( 0 );\n\t\t\tnewDate.setMilliseconds( 0 );\n\t\t}\n\t\treturn this._daylightSavingAdjust( newDate );\n\t},\n\n\t/* Handle switch to/from daylight saving.\n\t * Hours may be non-zero on daylight saving cut-over:\n\t * > 12 when midnight changeover, but then cannot generate\n\t * midnight datetime, so jump to 1AM, otherwise reset.\n\t * @param  date  (Date) the date to check\n\t * @return  (Date) the corrected date\n\t */\n\t_daylightSavingAdjust: function( date ) {\n\t\tif ( !date ) {\n\t\t\treturn null;\n\t\t}\n\t\tdate.setHours( date.getHours() > 12 ? date.getHours() + 2 : 0 );\n\t\treturn date;\n\t},\n\n\t/* Set the date(s) directly. */\n\t_setDate: function( inst, date, noChange ) {\n\t\tvar clear = !date,\n\t\t\torigMonth = inst.selectedMonth,\n\t\t\torigYear = inst.selectedYear,\n\t\t\tnewDate = this._restrictMinMax( inst, this._determineDate( inst, date, new Date() ) );\n\n\t\tinst.selectedDay = inst.currentDay = newDate.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();\n\t\tinst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();\n\t\tif ( ( origMonth !== inst.selectedMonth || origYear !== inst.selectedYear ) && !noChange ) {\n\t\t\tthis._notifyChange( inst );\n\t\t}\n\t\tthis._adjustInstDate( inst );\n\t\tif ( inst.input ) {\n\t\t\tinst.input.val( clear ? \"\" : this._formatDate( inst ) );\n\t\t}\n\t},\n\n\t/* Retrieve the date(s) directly. */\n\t_getDate: function( inst ) {\n\t\tvar startDate = ( !inst.currentYear || ( inst.input && inst.input.val() === \"\" ) ? null :\n\t\t\tthis._daylightSavingAdjust( new Date(\n\t\t\tinst.currentYear, inst.currentMonth, inst.currentDay ) ) );\n\t\t\treturn startDate;\n\t},\n\n\t/* Attach the onxxx handlers.  These are declared statically so\n\t * they work with static code transformers like Caja.\n\t */\n\t_attachHandlers: function( inst ) {\n\t\tvar stepMonths = this._get( inst, \"stepMonths\" ),\n\t\t\tid = \"#\" + inst.id.replace( /\\\\\\\\/g, \"\\\\\" );\n\t\tinst.dpDiv.find( \"[data-handler]\" ).map( function() {\n\t\t\tvar handler = {\n\t\t\t\tprev: function() {\n\t\t\t\t\t$.datepicker._adjustDate( id, -stepMonths, \"M\" );\n\t\t\t\t},\n\t\t\t\tnext: function() {\n\t\t\t\t\t$.datepicker._adjustDate( id, +stepMonths, \"M\" );\n\t\t\t\t},\n\t\t\t\thide: function() {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t},\n\t\t\t\ttoday: function() {\n\t\t\t\t\t$.datepicker._gotoToday( id );\n\t\t\t\t},\n\t\t\t\tselectDay: function() {\n\t\t\t\t\t$.datepicker._selectDay( id, +this.getAttribute( \"data-month\" ), +this.getAttribute( \"data-year\" ), this );\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectMonth: function() {\n\t\t\t\t\t$.datepicker._selectMonthYear( id, this, \"M\" );\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectYear: function() {\n\t\t\t\t\t$.datepicker._selectMonthYear( id, this, \"Y\" );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\t\t\t$( this ).on( this.getAttribute( \"data-event\" ), handler[ this.getAttribute( \"data-handler\" ) ] );\n\t\t} );\n\t},\n\n\t/* Generate the HTML for the current state of the date picker. */\n\t_generateHTML: function( inst ) {\n\t\tvar maxDraw, prevText, prev, nextText, next, currentText, gotoDate,\n\t\t\tcontrols, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,\n\t\t\tmonthNames, monthNamesShort, beforeShowDay, showOtherMonths,\n\t\t\tselectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,\n\t\t\tcornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,\n\t\t\tprintDate, dRow, tbody, daySettings, otherMonth, unselectable,\n\t\t\ttempDate = new Date(),\n\t\t\ttoday = this._daylightSavingAdjust(\n\t\t\t\tnew Date( tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate() ) ), // clear time\n\t\t\tisRTL = this._get( inst, \"isRTL\" ),\n\t\t\tshowButtonPanel = this._get( inst, \"showButtonPanel\" ),\n\t\t\thideIfNoPrevNext = this._get( inst, \"hideIfNoPrevNext\" ),\n\t\t\tnavigationAsDateFormat = this._get( inst, \"navigationAsDateFormat\" ),\n\t\t\tnumMonths = this._getNumberOfMonths( inst ),\n\t\t\tshowCurrentAtPos = this._get( inst, \"showCurrentAtPos\" ),\n\t\t\tstepMonths = this._get( inst, \"stepMonths\" ),\n\t\t\tisMultiMonth = ( numMonths[ 0 ] !== 1 || numMonths[ 1 ] !== 1 ),\n\t\t\tcurrentDate = this._daylightSavingAdjust( ( !inst.currentDay ? new Date( 9999, 9, 9 ) :\n\t\t\t\tnew Date( inst.currentYear, inst.currentMonth, inst.currentDay ) ) ),\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tdrawMonth = inst.drawMonth - showCurrentAtPos,\n\t\t\tdrawYear = inst.drawYear;\n\n\t\tif ( drawMonth < 0 ) {\n\t\t\tdrawMonth += 12;\n\t\t\tdrawYear--;\n\t\t}\n\t\tif ( maxDate ) {\n\t\t\tmaxDraw = this._daylightSavingAdjust( new Date( maxDate.getFullYear(),\n\t\t\t\tmaxDate.getMonth() - ( numMonths[ 0 ] * numMonths[ 1 ] ) + 1, maxDate.getDate() ) );\n\t\t\tmaxDraw = ( minDate && maxDraw < minDate ? minDate : maxDraw );\n\t\t\twhile ( this._daylightSavingAdjust( new Date( drawYear, drawMonth, 1 ) ) > maxDraw ) {\n\t\t\t\tdrawMonth--;\n\t\t\t\tif ( drawMonth < 0 ) {\n\t\t\t\t\tdrawMonth = 11;\n\t\t\t\t\tdrawYear--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tinst.drawMonth = drawMonth;\n\t\tinst.drawYear = drawYear;\n\n\t\tprevText = this._get( inst, \"prevText\" );\n\t\tprevText = ( !navigationAsDateFormat ? prevText : this.formatDate( prevText,\n\t\t\tthis._daylightSavingAdjust( new Date( drawYear, drawMonth - stepMonths, 1 ) ),\n\t\t\tthis._getFormatConfig( inst ) ) );\n\n\t\tprev = ( this._canAdjustMonth( inst, -1, drawYear, drawMonth ) ?\n\t\t\t\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'\" +\n\t\t\t\" title='\" + prevText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\" ) + \"'>\" + prevText + \"</span></a>\" :\n\t\t\t( hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\" + prevText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\" ) + \"'>\" + prevText + \"</span></a>\" ) );\n\n\t\tnextText = this._get( inst, \"nextText\" );\n\t\tnextText = ( !navigationAsDateFormat ? nextText : this.formatDate( nextText,\n\t\t\tthis._daylightSavingAdjust( new Date( drawYear, drawMonth + stepMonths, 1 ) ),\n\t\t\tthis._getFormatConfig( inst ) ) );\n\n\t\tnext = ( this._canAdjustMonth( inst, +1, drawYear, drawMonth ) ?\n\t\t\t\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'\" +\n\t\t\t\" title='\" + nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\" ) + \"'>\" + nextText + \"</span></a>\" :\n\t\t\t( hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\" + nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\" ) + \"'>\" + nextText + \"</span></a>\" ) );\n\n\t\tcurrentText = this._get( inst, \"currentText\" );\n\t\tgotoDate = ( this._get( inst, \"gotoCurrent\" ) && inst.currentDay ? currentDate : today );\n\t\tcurrentText = ( !navigationAsDateFormat ? currentText :\n\t\t\tthis.formatDate( currentText, gotoDate, this._getFormatConfig( inst ) ) );\n\n\t\tcontrols = ( !inst.inline ? \"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\" +\n\t\t\tthis._get( inst, \"closeText\" ) + \"</button>\" : \"\" );\n\n\t\tbuttonPanel = ( showButtonPanel ) ? \"<div class='ui-datepicker-buttonpane ui-widget-content'>\" + ( isRTL ? controls : \"\" ) +\n\t\t\t( this._isInRange( inst, gotoDate ) ? \"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'\" +\n\t\t\t\">\" + currentText + \"</button>\" : \"\" ) + ( isRTL ? \"\" : controls ) + \"</div>\" : \"\";\n\n\t\tfirstDay = parseInt( this._get( inst, \"firstDay\" ), 10 );\n\t\tfirstDay = ( isNaN( firstDay ) ? 0 : firstDay );\n\n\t\tshowWeek = this._get( inst, \"showWeek\" );\n\t\tdayNames = this._get( inst, \"dayNames\" );\n\t\tdayNamesMin = this._get( inst, \"dayNamesMin\" );\n\t\tmonthNames = this._get( inst, \"monthNames\" );\n\t\tmonthNamesShort = this._get( inst, \"monthNamesShort\" );\n\t\tbeforeShowDay = this._get( inst, \"beforeShowDay\" );\n\t\tshowOtherMonths = this._get( inst, \"showOtherMonths\" );\n\t\tselectOtherMonths = this._get( inst, \"selectOtherMonths\" );\n\t\tdefaultDate = this._getDefaultDate( inst );\n\t\thtml = \"\";\n\n\t\tfor ( row = 0; row < numMonths[ 0 ]; row++ ) {\n\t\t\tgroup = \"\";\n\t\t\tthis.maxRows = 4;\n\t\t\tfor ( col = 0; col < numMonths[ 1 ]; col++ ) {\n\t\t\t\tselectedDate = this._daylightSavingAdjust( new Date( drawYear, drawMonth, inst.selectedDay ) );\n\t\t\t\tcornerClass = \" ui-corner-all\";\n\t\t\t\tcalender = \"\";\n\t\t\t\tif ( isMultiMonth ) {\n\t\t\t\t\tcalender += \"<div class='ui-datepicker-group\";\n\t\t\t\t\tif ( numMonths[ 1 ] > 1 ) {\n\t\t\t\t\t\tswitch ( col ) {\n\t\t\t\t\t\t\tcase 0: calender += \" ui-datepicker-group-first\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + ( isRTL ? \"right\" : \"left\" ); break;\n\t\t\t\t\t\t\tcase numMonths[ 1 ] - 1: calender += \" ui-datepicker-group-last\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + ( isRTL ? \"left\" : \"right\" ); break;\n\t\t\t\t\t\t\tdefault: calender += \" ui-datepicker-group-middle\"; cornerClass = \"\"; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcalender += \"'>\";\n\t\t\t\t}\n\t\t\t\tcalender += \"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\" + cornerClass + \"'>\" +\n\t\t\t\t\t( /all|left/.test( cornerClass ) && row === 0 ? ( isRTL ? next : prev ) : \"\" ) +\n\t\t\t\t\t( /all|right/.test( cornerClass ) && row === 0 ? ( isRTL ? prev : next ) : \"\" ) +\n\t\t\t\t\tthis._generateMonthYearHeader( inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\t\t\trow > 0 || col > 0, monthNames, monthNamesShort ) + // draw month headers\n\t\t\t\t\t\"</div><table class='ui-datepicker-calendar'><thead>\" +\n\t\t\t\t\t\"<tr>\";\n\t\t\t\tthead = ( showWeek ? \"<th class='ui-datepicker-week-col'>\" + this._get( inst, \"weekHeader\" ) + \"</th>\" : \"\" );\n\t\t\t\tfor ( dow = 0; dow < 7; dow++ ) { // days of the week\n\t\t\t\t\tday = ( dow + firstDay ) % 7;\n\t\t\t\t\tthead += \"<th scope='col'\" + ( ( dow + firstDay + 6 ) % 7 >= 5 ? \" class='ui-datepicker-week-end'\" : \"\" ) + \">\" +\n\t\t\t\t\t\t\"<span title='\" + dayNames[ day ] + \"'>\" + dayNamesMin[ day ] + \"</span></th>\";\n\t\t\t\t}\n\t\t\t\tcalender += thead + \"</tr></thead><tbody>\";\n\t\t\t\tdaysInMonth = this._getDaysInMonth( drawYear, drawMonth );\n\t\t\t\tif ( drawYear === inst.selectedYear && drawMonth === inst.selectedMonth ) {\n\t\t\t\t\tinst.selectedDay = Math.min( inst.selectedDay, daysInMonth );\n\t\t\t\t}\n\t\t\t\tleadDays = ( this._getFirstDayOfMonth( drawYear, drawMonth ) - firstDay + 7 ) % 7;\n\t\t\t\tcurRows = Math.ceil( ( leadDays + daysInMonth ) / 7 ); // calculate the number of rows to generate\n\t\t\t\tnumRows = ( isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows ); //If multiple months, use the higher number of rows (see #7043)\n\t\t\t\tthis.maxRows = numRows;\n\t\t\t\tprintDate = this._daylightSavingAdjust( new Date( drawYear, drawMonth, 1 - leadDays ) );\n\t\t\t\tfor ( dRow = 0; dRow < numRows; dRow++ ) { // create date picker rows\n\t\t\t\t\tcalender += \"<tr>\";\n\t\t\t\t\ttbody = ( !showWeek ? \"\" : \"<td class='ui-datepicker-week-col'>\" +\n\t\t\t\t\t\tthis._get( inst, \"calculateWeek\" )( printDate ) + \"</td>\" );\n\t\t\t\t\tfor ( dow = 0; dow < 7; dow++ ) { // create date picker days\n\t\t\t\t\t\tdaySettings = ( beforeShowDay ?\n\t\t\t\t\t\t\tbeforeShowDay.apply( ( inst.input ? inst.input[ 0 ] : null ), [ printDate ] ) : [ true, \"\" ] );\n\t\t\t\t\t\totherMonth = ( printDate.getMonth() !== drawMonth );\n\t\t\t\t\t\tunselectable = ( otherMonth && !selectOtherMonths ) || !daySettings[ 0 ] ||\n\t\t\t\t\t\t\t( minDate && printDate < minDate ) || ( maxDate && printDate > maxDate );\n\t\t\t\t\t\ttbody += \"<td class='\" +\n\t\t\t\t\t\t\t( ( dow + firstDay + 6 ) % 7 >= 5 ? \" ui-datepicker-week-end\" : \"\" ) + // highlight weekends\n\t\t\t\t\t\t\t( otherMonth ? \" ui-datepicker-other-month\" : \"\" ) + // highlight days from other months\n\t\t\t\t\t\t\t( ( printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent ) || // user pressed key\n\t\t\t\t\t\t\t( defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime() ) ?\n\n\t\t\t\t\t\t\t// or defaultDate is current printedDate and defaultDate is selectedDate\n\t\t\t\t\t\t\t\" \" + this._dayOverClass : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( unselectable ? \" \" + this._unselectableClass + \" ui-state-disabled\" : \"\" ) +  // highlight unselectable days\n\t\t\t\t\t\t\t( otherMonth && !showOtherMonths ? \"\" : \" \" + daySettings[ 1 ] + // highlight custom dates\n\t\t\t\t\t\t\t( printDate.getTime() === currentDate.getTime() ? \" \" + this._currentClass : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( printDate.getTime() === today.getTime() ? \" ui-datepicker-today\" : \"\" ) ) + \"'\" + // highlight today (if different)\n\t\t\t\t\t\t\t( ( !otherMonth || showOtherMonths ) && daySettings[ 2 ] ? \" title='\" + daySettings[ 2 ].replace( /'/g, \"&#39;\" ) + \"'\" : \"\" ) + // cell title\n\t\t\t\t\t\t\t( unselectable ? \"\" : \" data-handler='selectDay' data-event='click' data-month='\" + printDate.getMonth() + \"' data-year='\" + printDate.getFullYear() + \"'\" ) + \">\" + // actions\n\t\t\t\t\t\t\t( otherMonth && !showOtherMonths ? \"&#xa0;\" : // display for other months\n\t\t\t\t\t\t\t( unselectable ? \"<span class='ui-state-default'>\" + printDate.getDate() + \"</span>\" : \"<a class='ui-state-default\" +\n\t\t\t\t\t\t\t( printDate.getTime() === today.getTime() ? \" ui-state-highlight\" : \"\" ) +\n\t\t\t\t\t\t\t( printDate.getTime() === currentDate.getTime() ? \" ui-state-active\" : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( otherMonth ? \" ui-priority-secondary\" : \"\" ) + // distinguish dates from other months\n\t\t\t\t\t\t\t\"' href='#'>\" + printDate.getDate() + \"</a>\" ) ) + \"</td>\"; // display selectable date\n\t\t\t\t\t\tprintDate.setDate( printDate.getDate() + 1 );\n\t\t\t\t\t\tprintDate = this._daylightSavingAdjust( printDate );\n\t\t\t\t\t}\n\t\t\t\t\tcalender += tbody + \"</tr>\";\n\t\t\t\t}\n\t\t\t\tdrawMonth++;\n\t\t\t\tif ( drawMonth > 11 ) {\n\t\t\t\t\tdrawMonth = 0;\n\t\t\t\t\tdrawYear++;\n\t\t\t\t}\n\t\t\t\tcalender += \"</tbody></table>\" + ( isMultiMonth ? \"</div>\" +\n\t\t\t\t\t\t\t( ( numMonths[ 0 ] > 0 && col === numMonths[ 1 ] - 1 ) ? \"<div class='ui-datepicker-row-break'></div>\" : \"\" ) : \"\" );\n\t\t\t\tgroup += calender;\n\t\t\t}\n\t\t\thtml += group;\n\t\t}\n\t\thtml += buttonPanel;\n\t\tinst._keyEvent = false;\n\t\treturn html;\n\t},\n\n\t/* Generate the month and year header. */\n\t_generateMonthYearHeader: function( inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\tsecondary, monthNames, monthNamesShort ) {\n\n\t\tvar inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,\n\t\t\tchangeMonth = this._get( inst, \"changeMonth\" ),\n\t\t\tchangeYear = this._get( inst, \"changeYear\" ),\n\t\t\tshowMonthAfterYear = this._get( inst, \"showMonthAfterYear\" ),\n\t\t\thtml = \"<div class='ui-datepicker-title'>\",\n\t\t\tmonthHtml = \"\";\n\n\t\t// Month selection\n\t\tif ( secondary || !changeMonth ) {\n\t\t\tmonthHtml += \"<span class='ui-datepicker-month'>\" + monthNames[ drawMonth ] + \"</span>\";\n\t\t} else {\n\t\t\tinMinYear = ( minDate && minDate.getFullYear() === drawYear );\n\t\t\tinMaxYear = ( maxDate && maxDate.getFullYear() === drawYear );\n\t\t\tmonthHtml += \"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\";\n\t\t\tfor ( month = 0; month < 12; month++ ) {\n\t\t\t\tif ( ( !inMinYear || month >= minDate.getMonth() ) && ( !inMaxYear || month <= maxDate.getMonth() ) ) {\n\t\t\t\t\tmonthHtml += \"<option value='\" + month + \"'\" +\n\t\t\t\t\t\t( month === drawMonth ? \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + monthNamesShort[ month ] + \"</option>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonthHtml += \"</select>\";\n\t\t}\n\n\t\tif ( !showMonthAfterYear ) {\n\t\t\thtml += monthHtml + ( secondary || !( changeMonth && changeYear ) ? \"&#xa0;\" : \"\" );\n\t\t}\n\n\t\t// Year selection\n\t\tif ( !inst.yearshtml ) {\n\t\t\tinst.yearshtml = \"\";\n\t\t\tif ( secondary || !changeYear ) {\n\t\t\t\thtml += \"<span class='ui-datepicker-year'>\" + drawYear + \"</span>\";\n\t\t\t} else {\n\n\t\t\t\t// determine range of years to display\n\t\t\t\tyears = this._get( inst, \"yearRange\" ).split( \":\" );\n\t\t\t\tthisYear = new Date().getFullYear();\n\t\t\t\tdetermineYear = function( value ) {\n\t\t\t\t\tvar year = ( value.match( /c[+\\-].*/ ) ? drawYear + parseInt( value.substring( 1 ), 10 ) :\n\t\t\t\t\t\t( value.match( /[+\\-].*/ ) ? thisYear + parseInt( value, 10 ) :\n\t\t\t\t\t\tparseInt( value, 10 ) ) );\n\t\t\t\t\treturn ( isNaN( year ) ? thisYear : year );\n\t\t\t\t};\n\t\t\t\tyear = determineYear( years[ 0 ] );\n\t\t\t\tendYear = Math.max( year, determineYear( years[ 1 ] || \"\" ) );\n\t\t\t\tyear = ( minDate ? Math.max( year, minDate.getFullYear() ) : year );\n\t\t\t\tendYear = ( maxDate ? Math.min( endYear, maxDate.getFullYear() ) : endYear );\n\t\t\t\tinst.yearshtml += \"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";\n\t\t\t\tfor ( ; year <= endYear; year++ ) {\n\t\t\t\t\tinst.yearshtml += \"<option value='\" + year + \"'\" +\n\t\t\t\t\t\t( year === drawYear ? \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + year + \"</option>\";\n\t\t\t\t}\n\t\t\t\tinst.yearshtml += \"</select>\";\n\n\t\t\t\thtml += inst.yearshtml;\n\t\t\t\tinst.yearshtml = null;\n\t\t\t}\n\t\t}\n\n\t\thtml += this._get( inst, \"yearSuffix\" );\n\t\tif ( showMonthAfterYear ) {\n\t\t\thtml += ( secondary || !( changeMonth && changeYear ) ? \"&#xa0;\" : \"\" ) + monthHtml;\n\t\t}\n\t\thtml += \"</div>\"; // Close datepicker_header\n\t\treturn html;\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustInstDate: function( inst, offset, period ) {\n\t\tvar year = inst.selectedYear + ( period === \"Y\" ? offset : 0 ),\n\t\t\tmonth = inst.selectedMonth + ( period === \"M\" ? offset : 0 ),\n\t\t\tday = Math.min( inst.selectedDay, this._getDaysInMonth( year, month ) ) + ( period === \"D\" ? offset : 0 ),\n\t\t\tdate = this._restrictMinMax( inst, this._daylightSavingAdjust( new Date( year, month, day ) ) );\n\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tif ( period === \"M\" || period === \"Y\" ) {\n\t\t\tthis._notifyChange( inst );\n\t\t}\n\t},\n\n\t/* Ensure a date is within any min/max bounds. */\n\t_restrictMinMax: function( inst, date ) {\n\t\tvar minDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tnewDate = ( minDate && date < minDate ? minDate : date );\n\t\treturn ( maxDate && newDate > maxDate ? maxDate : newDate );\n\t},\n\n\t/* Notify change of month/year. */\n\t_notifyChange: function( inst ) {\n\t\tvar onChange = this._get( inst, \"onChangeMonthYear\" );\n\t\tif ( onChange ) {\n\t\t\tonChange.apply( ( inst.input ? inst.input[ 0 ] : null ),\n\t\t\t\t[ inst.selectedYear, inst.selectedMonth + 1, inst ] );\n\t\t}\n\t},\n\n\t/* Determine the number of months to show. */\n\t_getNumberOfMonths: function( inst ) {\n\t\tvar numMonths = this._get( inst, \"numberOfMonths\" );\n\t\treturn ( numMonths == null ? [ 1, 1 ] : ( typeof numMonths === \"number\" ? [ 1, numMonths ] : numMonths ) );\n\t},\n\n\t/* Determine the current maximum date - ensure no time components are set. */\n\t_getMinMaxDate: function( inst, minMax ) {\n\t\treturn this._determineDate( inst, this._get( inst, minMax + \"Date\" ), null );\n\t},\n\n\t/* Find the number of days in a given month. */\n\t_getDaysInMonth: function( year, month ) {\n\t\treturn 32 - this._daylightSavingAdjust( new Date( year, month, 32 ) ).getDate();\n\t},\n\n\t/* Find the day of the week of the first of a month. */\n\t_getFirstDayOfMonth: function( year, month ) {\n\t\treturn new Date( year, month, 1 ).getDay();\n\t},\n\n\t/* Determines if we should allow a \"next/prev\" month display change. */\n\t_canAdjustMonth: function( inst, offset, curYear, curMonth ) {\n\t\tvar numMonths = this._getNumberOfMonths( inst ),\n\t\t\tdate = this._daylightSavingAdjust( new Date( curYear,\n\t\t\tcurMonth + ( offset < 0 ? offset : numMonths[ 0 ] * numMonths[ 1 ] ), 1 ) );\n\n\t\tif ( offset < 0 ) {\n\t\t\tdate.setDate( this._getDaysInMonth( date.getFullYear(), date.getMonth() ) );\n\t\t}\n\t\treturn this._isInRange( inst, date );\n\t},\n\n\t/* Is the given date in the accepted range? */\n\t_isInRange: function( inst, date ) {\n\t\tvar yearSplit, currentYear,\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tminYear = null,\n\t\t\tmaxYear = null,\n\t\t\tyears = this._get( inst, \"yearRange\" );\n\t\t\tif ( years ) {\n\t\t\t\tyearSplit = years.split( \":\" );\n\t\t\t\tcurrentYear = new Date().getFullYear();\n\t\t\t\tminYear = parseInt( yearSplit[ 0 ], 10 );\n\t\t\t\tmaxYear = parseInt( yearSplit[ 1 ], 10 );\n\t\t\t\tif ( yearSplit[ 0 ].match( /[+\\-].*/ ) ) {\n\t\t\t\t\tminYear += currentYear;\n\t\t\t\t}\n\t\t\t\tif ( yearSplit[ 1 ].match( /[+\\-].*/ ) ) {\n\t\t\t\t\tmaxYear += currentYear;\n\t\t\t\t}\n\t\t\t}\n\n\t\treturn ( ( !minDate || date.getTime() >= minDate.getTime() ) &&\n\t\t\t( !maxDate || date.getTime() <= maxDate.getTime() ) &&\n\t\t\t( !minYear || date.getFullYear() >= minYear ) &&\n\t\t\t( !maxYear || date.getFullYear() <= maxYear ) );\n\t},\n\n\t/* Provide the configuration settings for formatting/parsing. */\n\t_getFormatConfig: function( inst ) {\n\t\tvar shortYearCutoff = this._get( inst, \"shortYearCutoff\" );\n\t\tshortYearCutoff = ( typeof shortYearCutoff !== \"string\" ? shortYearCutoff :\n\t\t\tnew Date().getFullYear() % 100 + parseInt( shortYearCutoff, 10 ) );\n\t\treturn { shortYearCutoff: shortYearCutoff,\n\t\t\tdayNamesShort: this._get( inst, \"dayNamesShort\" ), dayNames: this._get( inst, \"dayNames\" ),\n\t\t\tmonthNamesShort: this._get( inst, \"monthNamesShort\" ), monthNames: this._get( inst, \"monthNames\" ) };\n\t},\n\n\t/* Format the given date for display. */\n\t_formatDate: function( inst, day, month, year ) {\n\t\tif ( !day ) {\n\t\t\tinst.currentDay = inst.selectedDay;\n\t\t\tinst.currentMonth = inst.selectedMonth;\n\t\t\tinst.currentYear = inst.selectedYear;\n\t\t}\n\t\tvar date = ( day ? ( typeof day === \"object\" ? day :\n\t\t\tthis._daylightSavingAdjust( new Date( year, month, day ) ) ) :\n\t\t\tthis._daylightSavingAdjust( new Date( inst.currentYear, inst.currentMonth, inst.currentDay ) ) );\n\t\treturn this.formatDate( this._get( inst, \"dateFormat\" ), date, this._getFormatConfig( inst ) );\n\t}\n} );\n\n/*\n * Bind hover events for datepicker elements.\n * Done via delegate so the binding only occurs once in the lifetime of the parent div.\n * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.\n */\nfunction datepicker_bindHover( dpDiv ) {\n\tvar selector = \"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";\n\treturn dpDiv.on( \"mouseout\", selector, function() {\n\t\t\t$( this ).removeClass( \"ui-state-hover\" );\n\t\t\tif ( this.className.indexOf( \"ui-datepicker-prev\" ) !== -1 ) {\n\t\t\t\t$( this ).removeClass( \"ui-datepicker-prev-hover\" );\n\t\t\t}\n\t\t\tif ( this.className.indexOf( \"ui-datepicker-next\" ) !== -1 ) {\n\t\t\t\t$( this ).removeClass( \"ui-datepicker-next-hover\" );\n\t\t\t}\n\t\t} )\n\t\t.on( \"mouseover\", selector, datepicker_handleMouseover );\n}\n\nfunction datepicker_handleMouseover() {\n\tif ( !$.datepicker._isDisabledDatepicker( datepicker_instActive.inline ? datepicker_instActive.dpDiv.parent()[ 0 ] : datepicker_instActive.input[ 0 ] ) ) {\n\t\t$( this ).parents( \".ui-datepicker-calendar\" ).find( \"a\" ).removeClass( \"ui-state-hover\" );\n\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\tif ( this.className.indexOf( \"ui-datepicker-prev\" ) !== -1 ) {\n\t\t\t$( this ).addClass( \"ui-datepicker-prev-hover\" );\n\t\t}\n\t\tif ( this.className.indexOf( \"ui-datepicker-next\" ) !== -1 ) {\n\t\t\t$( this ).addClass( \"ui-datepicker-next-hover\" );\n\t\t}\n\t}\n}\n\n/* jQuery extend now ignores nulls! */\nfunction datepicker_extendRemove( target, props ) {\n\t$.extend( target, props );\n\tfor ( var name in props ) {\n\t\tif ( props[ name ] == null ) {\n\t\t\ttarget[ name ] = props[ name ];\n\t\t}\n\t}\n\treturn target;\n}\n\n/* Invoke the datepicker functionality.\n   @param  options  string - a command, optionally followed by additional parameters or\n\t\t\t\t\tObject - settings for attaching new datepicker functionality\n   @return  jQuery object */\n$.fn.datepicker = function( options ) {\n\n\t/* Verify an empty collection wasn't passed - Fixes #6976 */\n\tif ( !this.length ) {\n\t\treturn this;\n\t}\n\n\t/* Initialise the date picker. */\n\tif ( !$.datepicker.initialized ) {\n\t\t$( document ).on( \"mousedown\", $.datepicker._checkExternalClick );\n\t\t$.datepicker.initialized = true;\n\t}\n\n\t/* Append datepicker main container to body if not exist. */\n\tif ( $( \"#\" + $.datepicker._mainDivId ).length === 0 ) {\n\t\t$( \"body\" ).append( $.datepicker.dpDiv );\n\t}\n\n\tvar otherArgs = Array.prototype.slice.call( arguments, 1 );\n\tif ( typeof options === \"string\" && ( options === \"isDisabled\" || options === \"getDate\" || options === \"widget\" ) ) {\n\t\treturn $.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\tapply( $.datepicker, [ this[ 0 ] ].concat( otherArgs ) );\n\t}\n\tif ( options === \"option\" && arguments.length === 2 && typeof arguments[ 1 ] === \"string\" ) {\n\t\treturn $.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\tapply( $.datepicker, [ this[ 0 ] ].concat( otherArgs ) );\n\t}\n\treturn this.each( function() {\n\t\ttypeof options === \"string\" ?\n\t\t\t$.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\t\tapply( $.datepicker, [ this ].concat( otherArgs ) ) :\n\t\t\t$.datepicker._attachDatepicker( this, options );\n\t} );\n};\n\n$.datepicker = new Datepicker(); // singleton instance\n$.datepicker.initialized = false;\n$.datepicker.uuid = new Date().getTime();\n$.datepicker.version = \"1.12.1\";\n\nreturn $.datepicker;\n\n} ) );\n","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\", \"./globals\", \"./lifecycle\", \"./mutation-observer\", \"./fix-ie-innerhtml\", \"./utils\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module, require(\"./globals\"), require(\"./lifecycle\"), require(\"./mutation-observer\"), require(\"./fix-ie-innerhtml\"), require(\"./utils\"));\n  }\n})(function (exports, module, _globals, _lifecycle, _mutationObserver, _fixIeInnerhtml, _utils) {\n  \"use strict\";\n\n  var _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n  var globals = _interopRequire(_globals);\n\n  var initElements = _lifecycle.initElements;\n  var removeElements = _lifecycle.removeElements;\n  var getClosestIgnoredElement = _utils.getClosestIgnoredElement;\n\n  /**\n   * The document observer handler.\n   *\n   * @param {Array} mutations The mutations to handle.\n   *\n   * @returns {undefined}\n   */\n  function documentObserverHandler(mutations) {\n    var mutationsLen = mutations.length;\n\n    for (var a = 0; a < mutationsLen; a++) {\n      var mutation = mutations[a];\n      var addedNodes = mutation.addedNodes;\n      var removedNodes = mutation.removedNodes;\n\n      // Since siblings are batched together, we check the first node's parent\n      // node to see if it is ignored. If it is then we don't process any added\n      // nodes. This prevents having to check every node.\n      if (addedNodes && addedNodes.length && !getClosestIgnoredElement(addedNodes[0].parentNode)) {\n        initElements(addedNodes);\n      }\n\n      // We can't check batched nodes here because they won't have a parent node.\n      if (removedNodes && removedNodes.length) {\n        removeElements(removedNodes);\n      }\n    }\n  }\n\n  /**\n   * Creates a new mutation observer for listening to Skate definitions for the\n   * document.\n   *\n   * @param {Element} root The element to observe.\n   *\n   * @returns {MutationObserver}\n   */\n  function createDocumentObserver() {\n    var observer = new window.MutationObserver(documentObserverHandler);\n\n    // Observe after the DOM content has loaded.\n    observer.observe(document, {\n      childList: true,\n      subtree: true\n    });\n\n    return observer;\n  }\n\n  module.exports = {\n    register: function register(fixIe) {\n      // IE has issues with reporting removedNodes correctly. See the polyfill for\n      // details. If we fix IE, we must also re-define the document observer.\n      if (fixIe) {\n        this.unregister();\n      }\n\n      if (!globals.observer) {\n        globals.observer = createDocumentObserver();\n      }\n\n      return this;\n    },\n\n    unregister: function unregister() {\n      if (globals.observer) {\n        globals.observer.disconnect();\n        globals.observer = undefined;\n      }\n\n      return this;\n    }\n  };\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"module\"], factory);\n  } else if (typeof exports !== \"undefined\" && typeof module !== \"undefined\") {\n    factory(exports, module);\n  }\n})(function (exports, module) {\n  \"use strict\";\n\n  module.exports = function (element) {\n    var namespace = arguments[1] === undefined ? \"\" : arguments[1];\n\n    var data = element.__SKATE_DATA || (element.__SKATE_DATA = {});\n    return namespace && (data[namespace] || (data[namespace] = {})) || data;\n  };\n});","(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  }\n})(function (exports) {\n  \"use strict\";\n\n  var isIeUntil10 = /MSIE/.test(navigator.userAgent);\n  var isIe11 = /Trident/.test(navigator.userAgent);\n  var isIe = isIeUntil10 || isIe11;\n  var elementPrototype = window.HTMLElement.prototype;\n\n  // ! This walkTree method differs from the implementation in ../../utils/walk-tree\n  // It invokes the callback only for the children, not the passed node and the second parameter to the callback is the parent node\n  function walkTree(node, cb) {\n    var childNodes = node.childNodes;\n\n    if (!childNodes) {\n      return;\n    }\n\n    var childNodesLen = childNodes.length;\n\n    for (var a = 0; a < childNodesLen; a++) {\n      var childNode = childNodes[a];\n      cb(childNode, node);\n      walkTree(childNode, cb);\n    }\n  }\n\n  function fixInnerHTML() {\n    var originalInnerHTML = Object.getOwnPropertyDescriptor(elementPrototype, \"innerHTML\");\n\n    var get = function get() {\n      return originalInnerHTML.get.call(this);\n    };\n    get._hasBeenEnhanced = true;\n\n    // This redefines the innerHTML property so that we can ensure that events\n    // are properly triggered.\n    Object.defineProperty(elementPrototype, \"innerHTML\", {\n      get: get,\n      set: function set(html) {\n        walkTree(this, function (node, parentNode) {\n          var mutationEvent = document.createEvent(\"MutationEvent\");\n          mutationEvent.initMutationEvent(\"DOMNodeRemoved\", true, false, parentNode, null, null, null, null);\n          node.dispatchEvent(mutationEvent);\n        });\n        originalInnerHTML.set.call(this, html);\n      }\n    });\n  }\n\n  if (isIe) {\n    // IE 9-11\n    var propertyDescriptor = Object.getOwnPropertyDescriptor(elementPrototype, \"innerHTML\");\n    var hasBeenEnhanced = !!propertyDescriptor && propertyDescriptor.get._hasBeenEnhanced;\n\n    if (!hasBeenEnhanced) {\n      if (isIe11) {\n        // IE11's native MutationObserver needs some help as well :()\n        window.MutationObserver = window.JsMutationObserver || window.MutationObserver;\n      }\n\n      fixInnerHTML();\n    }\n  }\n});","// tipsy, facebook style tooltips for jquery\n// version 1.3.1\n// (c) 2008-2010 jason frame [jason@onehackoranother.com]\n// released under the MIT license\n//\n// Modified by Atlassian\n// https://github.com/atlassian/tipsy\n\n(function($) {\n    var liveBindingWarning =\n        \"To be compatible with jQuery 1.9 and higher,\" +\n        \" You must pass a selector to tipsy's live argument.\" +\n        \" For instance, `$(document).tipsy({live: 'a.live'});`\";\n\n    function maybeCall(thing, ctx) {\n        return typeof thing == \"function\" ? thing.call(ctx) : thing;\n    }\n\n    function isElementInDOM(ele) {\n        var el = ele && ele.jquery ? ele.get(0) : ele;\n        return $.contains(document.documentElement, el);\n    }\n\n    var tipsyIDcounter = 0;\n    function tipsyID() {\n        var tipsyID = tipsyIDcounter++;\n        return \"tipsyuid\" + tipsyID;\n    }\n\n    function Tipsy(element, options) {\n        this.$element = $(element);\n        this.options = options;\n        this.enabled = true;\n        this.fixTitle();\n    }\n\n    Tipsy.prototype = {\n        show: function() {\n            // if element is not in the DOM then don't show the Tipsy and return early\n            if (!isElementInDOM(this.$element)) {\n                return;\n            }\n\n            var title = this.getTitle();\n            if (title && this.enabled) {\n                var $tip = this.tip();\n\n                $tip.find(\".tipsy-inner\")[this.options.html ? \"html\" : \"text\"](\n                    title\n                );\n                $tip[0].className = \"tipsy\"; // reset classname in case of dynamic gravity\n                $tip.remove()\n                    .css({\n                        top: 0,\n                        left: 0,\n                        visibility: \"hidden\",\n                        display: \"block\"\n                    })\n                    .appendTo(document.body);\n\n                var that = this;\n                function tipOver() {\n                    that.hoverTooltip = true;\n                }\n                function tipOut() {\n                    if (that.hoverState == \"in\") return; // If field is still focused.\n                    that.hoverTooltip = false;\n                    if (that.options.trigger != \"manual\") {\n                        var eventOut =\n                            that.options.trigger == \"hover\"\n                                ? \"mouseleave.tipsy\"\n                                : \"blur.tipsy\";\n                        that.$element.trigger(eventOut);\n                    }\n                }\n\n                if (this.options.hoverable) {\n                    $tip.hover(tipOver, tipOut);\n                }\n\n                if (this.options.className) {\n                    $tip.addClass(\n                        maybeCall(this.options.className, this.$element[0])\n                    );\n                }\n\n                var pos = $.extend({}, this.$element.offset(), {\n                    width: this.$element[0].getBoundingClientRect().width,\n                    height: this.$element[0].getBoundingClientRect().height\n                });\n\n                var tipCss = {};\n                var actualWidth = $tip[0].offsetWidth,\n                    actualHeight = $tip[0].offsetHeight;\n                var gravity = maybeCall(this.options.gravity, this.$element[0]);\n\n                if (gravity.length === 2) {\n                    if (gravity.charAt(1) === \"w\") {\n                        tipCss.left = pos.left + pos.width / 2 - 15;\n                    } else {\n                        tipCss.left =\n                            pos.left + pos.width / 2 - actualWidth + 15;\n                    }\n                }\n\n                switch (gravity.charAt(0)) {\n                    case \"n\":\n                        // left could already be set if gravity is 'nw' or 'ne'\n                        if (typeof tipCss.left === \"undefined\") {\n                            tipCss.left =\n                                pos.left + pos.width / 2 - actualWidth / 2;\n                        }\n                        tipCss.top = pos.top + pos.height + this.options.offset;\n                        break;\n                    case \"s\":\n                        // left could already be set if gravity is 'sw' or 'se'\n                        if (typeof tipCss.left === \"undefined\") {\n                            tipCss.left =\n                                pos.left + pos.width / 2 - actualWidth / 2;\n\n                            // We need to apply the left positioning and then recalculate the tooltip height\n                            // If the tooltip is positioned close to the right edge of the window, it could cause\n                            // the tooltip text to overflow and change height.\n                            $tip.css(tipCss);\n                            actualHeight = $tip[0].offsetHeight;\n                        }\n                        tipCss.top =\n                            pos.top - actualHeight - this.options.offset;\n                        break;\n                    case \"e\":\n                        tipCss.left =\n                            pos.left - actualWidth - this.options.offset;\n                        tipCss.top =\n                            pos.top + pos.height / 2 - actualHeight / 2;\n                        break;\n                    case \"w\":\n                        tipCss.left =\n                            pos.left + pos.width + this.options.offset;\n                        tipCss.top =\n                            pos.top + pos.height / 2 - actualHeight / 2;\n                        break;\n                }\n\n                $tip.css(tipCss).addClass(\"tipsy-\" + gravity);\n                $tip.find(\".tipsy-arrow\")[0].className =\n                    \"tipsy-arrow tipsy-arrow-\" + gravity.charAt(0);\n\n                if (this.options.fade) {\n                    $tip.stop()\n                        .css({\n                            opacity: 0,\n                            display: \"block\",\n                            visibility: \"visible\"\n                        })\n                        .animate({ opacity: this.options.opacity });\n                } else {\n                    $tip.css({\n                        visibility: \"visible\",\n                        opacity: this.options.opacity\n                    });\n                }\n\n                if (this.options.aria) {\n                    var $tipID = tipsyID();\n                    $tip.attr(\"id\", $tipID);\n                    this.$element.attr(\"aria-describedby\", $tipID);\n                }\n            }\n        },\n\n        destroy: function() {\n            this.$element.removeData(\"tipsy\");\n\n            this.unbindHandlers();\n            this.hide();\n        },\n\n        unbindHandlers: function() {\n            if (this.options.live) {\n                $(document).off(\".tipsy\", this.options.live);\n            } else {\n                this.$element.off(\".tipsy\");\n            }\n        },\n\n        hide: function() {\n            if (this.options.fade) {\n                this.tip()\n                    .stop()\n                    .fadeOut(function() {\n                        $(this).remove();\n                    });\n            } else {\n                this.tip().remove();\n            }\n            if (this.options.aria) {\n                this.$element.removeAttr(\"aria-describedby\");\n            }\n        },\n\n        fixTitle: function() {\n            var $e = this.$element;\n            if (\n                $e.attr(\"title\") ||\n                typeof $e.attr(\"original-title\") != \"string\"\n            ) {\n                $e.attr(\"original-title\", $e.attr(\"title\") || \"\").removeAttr(\n                    \"title\"\n                );\n            }\n        },\n\n        getTitle: function() {\n            var title,\n                $e = this.$element,\n                o = this.options;\n            this.fixTitle();\n            var title,\n                o = this.options;\n            if (typeof o.title == \"string\") {\n                title = $e.attr(\n                    o.title == \"title\" ? \"original-title\" : o.title\n                );\n            } else if (typeof o.title == \"function\") {\n                title = o.title.call($e[0]);\n            }\n            title = (\"\" + title).replace(/(^\\s*|\\s*$)/, \"\");\n            return title || o.fallback;\n        },\n\n        tip: function() {\n            if (!this.$tip) {\n                this.$tip = $('<div class=\"tipsy\"></div>')\n                    .html(\n                        '<div class=\"tipsy-arrow\"></div><div class=\"tipsy-inner\"></div>'\n                    )\n                    .attr(\"role\", \"tooltip\");\n                this.$tip.data(\"tipsy-pointee\", this.$element[0]);\n            }\n            return this.$tip;\n        },\n\n        validate: function() {\n            if (!this.$element[0].parentNode) {\n                this.hide();\n                this.$element = null;\n                this.options = null;\n            }\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n        disable: function() {\n            this.enabled = false;\n        },\n        toggleEnabled: function() {\n            this.enabled = !this.enabled;\n        }\n    };\n\n    $.fn.tipsy = function(options) {\n        if (options === true) {\n            return this.data(\"tipsy\");\n        } else if (typeof options == \"string\") {\n            var tipsy = this.data(\"tipsy\");\n            if (tipsy) tipsy[options]();\n            return this;\n        }\n\n        options = $.extend({}, $.fn.tipsy.defaults, options);\n        if (options.hoverable) {\n            options.delayOut = options.delayOut || 20;\n        }\n\n        // Check for jQuery support and patch live binding for jQuery 3 compat.\n        if (options.live === true) {\n            if (!this.selector) {\n                // No more jQuery support!\n                throw new Error(liveBindingWarning);\n            } else {\n                // Deprecated behaviour\n                console && console.warn && console.warn(liveBindingWarning);\n                options.live = this.selector;\n            }\n        }\n\n        function get(ele) {\n            var tipsy = $.data(ele, \"tipsy\");\n            if (!tipsy) {\n                tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options));\n                $.data(ele, \"tipsy\", tipsy);\n            }\n            return tipsy;\n        }\n\n        function enter() {\n            var tipsy = get(this);\n            tipsy.hoverState = \"in\";\n            if (options.delayIn == 0) {\n                tipsy.show();\n            } else {\n                tipsy.fixTitle();\n                setTimeout(function() {\n                    if (\n                        tipsy.hoverState == \"in\" &&\n                        isElementInDOM(tipsy.$element)\n                    ) {\n                        tipsy.show();\n                    }\n                }, options.delayIn);\n            }\n        }\n\n        function leave() {\n            var tipsy = get(this);\n            tipsy.hoverState = \"out\";\n            if (options.delayOut == 0) {\n                tipsy.hide();\n            } else {\n                setTimeout(function() {\n                    if (tipsy.hoverState == \"out\" && !tipsy.hoverTooltip) {\n                        tipsy.hide();\n                    }\n                }, options.delayOut);\n            }\n        }\n\n        // create a tipsy object for every selected element,\n        // even when the events are delegated.\n        // this allows destruction to occur.\n        this.each(function() {\n            get(this);\n        });\n\n        if (options.trigger != \"manual\") {\n            var eventIn =\n                    options.trigger == \"hover\"\n                        ? \"mouseenter.tipsy focus.tipsy\"\n                        : \"focus.tipsy\",\n                eventOut =\n                    options.trigger == \"hover\"\n                        ? \"mouseleave.tipsy blur.tipsy\"\n                        : \"blur.tipsy\";\n            if (options.live) {\n                $(document)\n                    .on(eventIn, options.live, enter)\n                    .on(eventOut, options.live, leave);\n            } else {\n                this.on(eventIn, enter).on(eventOut, leave);\n            }\n        }\n\n        return this;\n    };\n\n    $.fn.tipsy.defaults = {\n        aria: false,\n        className: null,\n        delayIn: 0,\n        delayOut: 0,\n        fade: false,\n        fallback: \"\",\n        gravity: \"n\",\n        html: false,\n        live: false,\n        hoverable: false,\n        offset: 0,\n        opacity: 0.8,\n        title: \"title\",\n        trigger: \"hover\"\n    };\n\n    $.fn.tipsy.revalidate = function() {\n        $(\".tipsy\").each(function() {\n            var pointee = $.data(this, \"tipsy-pointee\");\n            if (!pointee || !isElementInDOM(pointee)) {\n                $(this).remove();\n            }\n        });\n    };\n\n    // Overwrite this method to provide options on a per-element basis.\n    // For example, you could store the gravity in a 'tipsy-gravity' attribute:\n    // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });\n    // (remember - do not modify 'options' in place!)\n    $.fn.tipsy.elementOptions = function(ele, options) {\n        return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;\n    };\n\n    $.fn.tipsy.autoNS = function() {\n        return $(this).offset().top >\n            $(document).scrollTop() + $(window).height() / 2\n            ? \"s\"\n            : \"n\";\n    };\n\n    $.fn.tipsy.autoWE = function() {\n        return $(this).offset().left >\n            $(document).scrollLeft() + $(window).width() / 2\n            ? \"e\"\n            : \"w\";\n    };\n\n    /**\n     * yields a closure of the supplied parameters, producing a function that takes\n     * no arguments and is suitable for use as an autogravity function like so:\n     *\n     * @param margin (int) - distance from the viewable region edge that an\n     *        element should be before setting its tooltip's gravity to be away\n     *        from that edge.\n     * @param prefer (string, e.g. 'n', 'sw', 'w') - the direction to prefer\n     *        if there are no viewable region edges effecting the tooltip's\n     *        gravity. It will try to vary from this minimally, for example,\n     *        if 'sw' is preferred and an element is near the right viewable\n     *        region edge, but not the top edge, it will set the gravity for\n     *        that element's tooltip to be 'se', preserving the southern\n     *        component.\n     */\n    $.fn.tipsy.autoBounds = function(margin, prefer) {\n        return function() {\n            var dir = {\n                    ns: prefer[0],\n                    ew: prefer.length > 1 ? prefer[1] : false\n                },\n                boundTop = $(document).scrollTop() + margin,\n                boundLeft = $(document).scrollLeft() + margin,\n                $this = $(this);\n\n            if ($this.offset().top < boundTop) dir.ns = \"n\";\n            if ($this.offset().left < boundLeft) dir.ew = \"w\";\n            if (\n                $(window).width() +\n                    $(document).scrollLeft() -\n                    $this.offset().left <\n                margin\n            )\n                dir.ew = \"e\";\n            if (\n                $(window).height() +\n                    $(document).scrollTop() -\n                    $this.offset().top <\n                margin\n            )\n                dir.ns = \"s\";\n\n            return dir.ns + (dir.ew ? dir.ew : \"\");\n        };\n    };\n})(jQuery);\n","/*\n Copyright 2012 Igor Vaynberg\n\n Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013\n (with cherry-picked https://github.com/select2/select2/commit/60359f9d43d0fd0bd93e2cb861d677dbb04d3d79)\n\n This software is licensed under the Apache License, Version 2.0 (the \"Apache License\") or the GNU\n General Public License version 2 (the \"GPL License\"). You may choose either license to govern your\n use of this software only upon the condition that you accept all of the terms of either the Apache\n License or the GPL License.\n\n You may obtain a copy of the Apache License and the GPL License at:\n\n http://www.apache.org/licenses/LICENSE-2.0\n http://www.gnu.org/licenses/gpl-2.0.html\n\n Unless required by applicable law or agreed to in writing, software distributed under the\n Apache License or the GPL Licesnse is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for\n the specific language governing permissions and limitations under the Apache License and the GPL License.\n */\n(function ($) {\n    if(typeof $.fn.each2 == \"undefined\") {\n        $.extend($.fn, {\n            /*\n             * 4-10 times faster .each replacement\n             * use it carefully, as it overrides jQuery context of element on each iteration\n             */\n            each2 : function (c) {\n                var j = $([0]), i = -1, l = this.length;\n                while (\n                    ++i < l\n                        && (j.context = j[0] = this[i])\n                        && c.call(j[0], i, j) !== false //\"this\"=DOM, i=index, j=jQuery object\n                    );\n                return this;\n            }\n        });\n    }\n})(jQuery);\n\n(function ($, undefined) {\n    \"use strict\";\n    /*global document, window, jQuery, console */\n\n    if (window.Select2 !== undefined) {\n        return;\n    }\n\n    var KEY, AbstractSelect2, SingleSelect2, MultiSelect2, nextUid, sizer,\n        lastMousePosition={x:0,y:0}, $document, scrollBarDimensions,\n\n        KEY = {\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            SPACE: 32,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            SHIFT: 16,\n            CTRL: 17,\n            ALT: 18,\n            PAGE_UP: 33,\n            PAGE_DOWN: 34,\n            HOME: 36,\n            END: 35,\n            BACKSPACE: 8,\n            DELETE: 46,\n            isArrow: function (k) {\n                k = k.which ? k.which : k;\n                switch (k) {\n                    case KEY.LEFT:\n                    case KEY.RIGHT:\n                    case KEY.UP:\n                    case KEY.DOWN:\n                        return true;\n                }\n                return false;\n            },\n            isControl: function (e) {\n                var k = e.which;\n                switch (k) {\n                    case KEY.SHIFT:\n                    case KEY.CTRL:\n                    case KEY.ALT:\n                        return true;\n                }\n\n                if (e.metaKey) return true;\n\n                return false;\n            },\n            isFunctionKey: function (k) {\n                k = k.which ? k.which : k;\n                return k >= 112 && k <= 123;\n            }\n        },\n        MEASURE_SCROLLBAR_TEMPLATE = \"<div class='select2-measure-scrollbar'></div>\",\n\n        DIACRITICS = {\"\\u24B6\":\"A\",\"\\uFF21\":\"A\",\"\\u00C0\":\"A\",\"\\u00C1\":\"A\",\"\\u00C2\":\"A\",\"\\u1EA6\":\"A\",\"\\u1EA4\":\"A\",\"\\u1EAA\":\"A\",\"\\u1EA8\":\"A\",\"\\u00C3\":\"A\",\"\\u0100\":\"A\",\"\\u0102\":\"A\",\"\\u1EB0\":\"A\",\"\\u1EAE\":\"A\",\"\\u1EB4\":\"A\",\"\\u1EB2\":\"A\",\"\\u0226\":\"A\",\"\\u01E0\":\"A\",\"\\u00C4\":\"A\",\"\\u01DE\":\"A\",\"\\u1EA2\":\"A\",\"\\u00C5\":\"A\",\"\\u01FA\":\"A\",\"\\u01CD\":\"A\",\"\\u0200\":\"A\",\"\\u0202\":\"A\",\"\\u1EA0\":\"A\",\"\\u1EAC\":\"A\",\"\\u1EB6\":\"A\",\"\\u1E00\":\"A\",\"\\u0104\":\"A\",\"\\u023A\":\"A\",\"\\u2C6F\":\"A\",\"\\uA732\":\"AA\",\"\\u00C6\":\"AE\",\"\\u01FC\":\"AE\",\"\\u01E2\":\"AE\",\"\\uA734\":\"AO\",\"\\uA736\":\"AU\",\"\\uA738\":\"AV\",\"\\uA73A\":\"AV\",\"\\uA73C\":\"AY\",\"\\u24B7\":\"B\",\"\\uFF22\":\"B\",\"\\u1E02\":\"B\",\"\\u1E04\":\"B\",\"\\u1E06\":\"B\",\"\\u0243\":\"B\",\"\\u0182\":\"B\",\"\\u0181\":\"B\",\"\\u24B8\":\"C\",\"\\uFF23\":\"C\",\"\\u0106\":\"C\",\"\\u0108\":\"C\",\"\\u010A\":\"C\",\"\\u010C\":\"C\",\"\\u00C7\":\"C\",\"\\u1E08\":\"C\",\"\\u0187\":\"C\",\"\\u023B\":\"C\",\"\\uA73E\":\"C\",\"\\u24B9\":\"D\",\"\\uFF24\":\"D\",\"\\u1E0A\":\"D\",\"\\u010E\":\"D\",\"\\u1E0C\":\"D\",\"\\u1E10\":\"D\",\"\\u1E12\":\"D\",\"\\u1E0E\":\"D\",\"\\u0110\":\"D\",\"\\u018B\":\"D\",\"\\u018A\":\"D\",\"\\u0189\":\"D\",\"\\uA779\":\"D\",\"\\u01F1\":\"DZ\",\"\\u01C4\":\"DZ\",\"\\u01F2\":\"Dz\",\"\\u01C5\":\"Dz\",\"\\u24BA\":\"E\",\"\\uFF25\":\"E\",\"\\u00C8\":\"E\",\"\\u00C9\":\"E\",\"\\u00CA\":\"E\",\"\\u1EC0\":\"E\",\"\\u1EBE\":\"E\",\"\\u1EC4\":\"E\",\"\\u1EC2\":\"E\",\"\\u1EBC\":\"E\",\"\\u0112\":\"E\",\"\\u1E14\":\"E\",\"\\u1E16\":\"E\",\"\\u0114\":\"E\",\"\\u0116\":\"E\",\"\\u00CB\":\"E\",\"\\u1EBA\":\"E\",\"\\u011A\":\"E\",\"\\u0204\":\"E\",\"\\u0206\":\"E\",\"\\u1EB8\":\"E\",\"\\u1EC6\":\"E\",\"\\u0228\":\"E\",\"\\u1E1C\":\"E\",\"\\u0118\":\"E\",\"\\u1E18\":\"E\",\"\\u1E1A\":\"E\",\"\\u0190\":\"E\",\"\\u018E\":\"E\",\"\\u24BB\":\"F\",\"\\uFF26\":\"F\",\"\\u1E1E\":\"F\",\"\\u0191\":\"F\",\"\\uA77B\":\"F\",\"\\u24BC\":\"G\",\"\\uFF27\":\"G\",\"\\u01F4\":\"G\",\"\\u011C\":\"G\",\"\\u1E20\":\"G\",\"\\u011E\":\"G\",\"\\u0120\":\"G\",\"\\u01E6\":\"G\",\"\\u0122\":\"G\",\"\\u01E4\":\"G\",\"\\u0193\":\"G\",\"\\uA7A0\":\"G\",\"\\uA77D\":\"G\",\"\\uA77E\":\"G\",\"\\u24BD\":\"H\",\"\\uFF28\":\"H\",\"\\u0124\":\"H\",\"\\u1E22\":\"H\",\"\\u1E26\":\"H\",\"\\u021E\":\"H\",\"\\u1E24\":\"H\",\"\\u1E28\":\"H\",\"\\u1E2A\":\"H\",\"\\u0126\":\"H\",\"\\u2C67\":\"H\",\"\\u2C75\":\"H\",\"\\uA78D\":\"H\",\"\\u24BE\":\"I\",\"\\uFF29\":\"I\",\"\\u00CC\":\"I\",\"\\u00CD\":\"I\",\"\\u00CE\":\"I\",\"\\u0128\":\"I\",\"\\u012A\":\"I\",\"\\u012C\":\"I\",\"\\u0130\":\"I\",\"\\u00CF\":\"I\",\"\\u1E2E\":\"I\",\"\\u1EC8\":\"I\",\"\\u01CF\":\"I\",\"\\u0208\":\"I\",\"\\u020A\":\"I\",\"\\u1ECA\":\"I\",\"\\u012E\":\"I\",\"\\u1E2C\":\"I\",\"\\u0197\":\"I\",\"\\u24BF\":\"J\",\"\\uFF2A\":\"J\",\"\\u0134\":\"J\",\"\\u0248\":\"J\",\"\\u24C0\":\"K\",\"\\uFF2B\":\"K\",\"\\u1E30\":\"K\",\"\\u01E8\":\"K\",\"\\u1E32\":\"K\",\"\\u0136\":\"K\",\"\\u1E34\":\"K\",\"\\u0198\":\"K\",\"\\u2C69\":\"K\",\"\\uA740\":\"K\",\"\\uA742\":\"K\",\"\\uA744\":\"K\",\"\\uA7A2\":\"K\",\"\\u24C1\":\"L\",\"\\uFF2C\":\"L\",\"\\u013F\":\"L\",\"\\u0139\":\"L\",\"\\u013D\":\"L\",\"\\u1E36\":\"L\",\"\\u1E38\":\"L\",\"\\u013B\":\"L\",\"\\u1E3C\":\"L\",\"\\u1E3A\":\"L\",\"\\u0141\":\"L\",\"\\u023D\":\"L\",\"\\u2C62\":\"L\",\"\\u2C60\":\"L\",\"\\uA748\":\"L\",\"\\uA746\":\"L\",\"\\uA780\":\"L\",\"\\u01C7\":\"LJ\",\"\\u01C8\":\"Lj\",\"\\u24C2\":\"M\",\"\\uFF2D\":\"M\",\"\\u1E3E\":\"M\",\"\\u1E40\":\"M\",\"\\u1E42\":\"M\",\"\\u2C6E\":\"M\",\"\\u019C\":\"M\",\"\\u24C3\":\"N\",\"\\uFF2E\":\"N\",\"\\u01F8\":\"N\",\"\\u0143\":\"N\",\"\\u00D1\":\"N\",\"\\u1E44\":\"N\",\"\\u0147\":\"N\",\"\\u1E46\":\"N\",\"\\u0145\":\"N\",\"\\u1E4A\":\"N\",\"\\u1E48\":\"N\",\"\\u0220\":\"N\",\"\\u019D\":\"N\",\"\\uA790\":\"N\",\"\\uA7A4\":\"N\",\"\\u01CA\":\"NJ\",\"\\u01CB\":\"Nj\",\"\\u24C4\":\"O\",\"\\uFF2F\":\"O\",\"\\u00D2\":\"O\",\"\\u00D3\":\"O\",\"\\u00D4\":\"O\",\"\\u1ED2\":\"O\",\"\\u1ED0\":\"O\",\"\\u1ED6\":\"O\",\"\\u1ED4\":\"O\",\"\\u00D5\":\"O\",\"\\u1E4C\":\"O\",\"\\u022C\":\"O\",\"\\u1E4E\":\"O\",\"\\u014C\":\"O\",\"\\u1E50\":\"O\",\"\\u1E52\":\"O\",\"\\u014E\":\"O\",\"\\u022E\":\"O\",\"\\u0230\":\"O\",\"\\u00D6\":\"O\",\"\\u022A\":\"O\",\"\\u1ECE\":\"O\",\"\\u0150\":\"O\",\"\\u01D1\":\"O\",\"\\u020C\":\"O\",\"\\u020E\":\"O\",\"\\u01A0\":\"O\",\"\\u1EDC\":\"O\",\"\\u1EDA\":\"O\",\"\\u1EE0\":\"O\",\"\\u1EDE\":\"O\",\"\\u1EE2\":\"O\",\"\\u1ECC\":\"O\",\"\\u1ED8\":\"O\",\"\\u01EA\":\"O\",\"\\u01EC\":\"O\",\"\\u00D8\":\"O\",\"\\u01FE\":\"O\",\"\\u0186\":\"O\",\"\\u019F\":\"O\",\"\\uA74A\":\"O\",\"\\uA74C\":\"O\",\"\\u01A2\":\"OI\",\"\\uA74E\":\"OO\",\"\\u0222\":\"OU\",\"\\u24C5\":\"P\",\"\\uFF30\":\"P\",\"\\u1E54\":\"P\",\"\\u1E56\":\"P\",\"\\u01A4\":\"P\",\"\\u2C63\":\"P\",\"\\uA750\":\"P\",\"\\uA752\":\"P\",\"\\uA754\":\"P\",\"\\u24C6\":\"Q\",\"\\uFF31\":\"Q\",\"\\uA756\":\"Q\",\"\\uA758\":\"Q\",\"\\u024A\":\"Q\",\"\\u24C7\":\"R\",\"\\uFF32\":\"R\",\"\\u0154\":\"R\",\"\\u1E58\":\"R\",\"\\u0158\":\"R\",\"\\u0210\":\"R\",\"\\u0212\":\"R\",\"\\u1E5A\":\"R\",\"\\u1E5C\":\"R\",\"\\u0156\":\"R\",\"\\u1E5E\":\"R\",\"\\u024C\":\"R\",\"\\u2C64\":\"R\",\"\\uA75A\":\"R\",\"\\uA7A6\":\"R\",\"\\uA782\":\"R\",\"\\u24C8\":\"S\",\"\\uFF33\":\"S\",\"\\u1E9E\":\"S\",\"\\u015A\":\"S\",\"\\u1E64\":\"S\",\"\\u015C\":\"S\",\"\\u1E60\":\"S\",\"\\u0160\":\"S\",\"\\u1E66\":\"S\",\"\\u1E62\":\"S\",\"\\u1E68\":\"S\",\"\\u0218\":\"S\",\"\\u015E\":\"S\",\"\\u2C7E\":\"S\",\"\\uA7A8\":\"S\",\"\\uA784\":\"S\",\"\\u24C9\":\"T\",\"\\uFF34\":\"T\",\"\\u1E6A\":\"T\",\"\\u0164\":\"T\",\"\\u1E6C\":\"T\",\"\\u021A\":\"T\",\"\\u0162\":\"T\",\"\\u1E70\":\"T\",\"\\u1E6E\":\"T\",\"\\u0166\":\"T\",\"\\u01AC\":\"T\",\"\\u01AE\":\"T\",\"\\u023E\":\"T\",\"\\uA786\":\"T\",\"\\uA728\":\"TZ\",\"\\u24CA\":\"U\",\"\\uFF35\":\"U\",\"\\u00D9\":\"U\",\"\\u00DA\":\"U\",\"\\u00DB\":\"U\",\"\\u0168\":\"U\",\"\\u1E78\":\"U\",\"\\u016A\":\"U\",\"\\u1E7A\":\"U\",\"\\u016C\":\"U\",\"\\u00DC\":\"U\",\"\\u01DB\":\"U\",\"\\u01D7\":\"U\",\"\\u01D5\":\"U\",\"\\u01D9\":\"U\",\"\\u1EE6\":\"U\",\"\\u016E\":\"U\",\"\\u0170\":\"U\",\"\\u01D3\":\"U\",\"\\u0214\":\"U\",\"\\u0216\":\"U\",\"\\u01AF\":\"U\",\"\\u1EEA\":\"U\",\"\\u1EE8\":\"U\",\"\\u1EEE\":\"U\",\"\\u1EEC\":\"U\",\"\\u1EF0\":\"U\",\"\\u1EE4\":\"U\",\"\\u1E72\":\"U\",\"\\u0172\":\"U\",\"\\u1E76\":\"U\",\"\\u1E74\":\"U\",\"\\u0244\":\"U\",\"\\u24CB\":\"V\",\"\\uFF36\":\"V\",\"\\u1E7C\":\"V\",\"\\u1E7E\":\"V\",\"\\u01B2\":\"V\",\"\\uA75E\":\"V\",\"\\u0245\":\"V\",\"\\uA760\":\"VY\",\"\\u24CC\":\"W\",\"\\uFF37\":\"W\",\"\\u1E80\":\"W\",\"\\u1E82\":\"W\",\"\\u0174\":\"W\",\"\\u1E86\":\"W\",\"\\u1E84\":\"W\",\"\\u1E88\":\"W\",\"\\u2C72\":\"W\",\"\\u24CD\":\"X\",\"\\uFF38\":\"X\",\"\\u1E8A\":\"X\",\"\\u1E8C\":\"X\",\"\\u24CE\":\"Y\",\"\\uFF39\":\"Y\",\"\\u1EF2\":\"Y\",\"\\u00DD\":\"Y\",\"\\u0176\":\"Y\",\"\\u1EF8\":\"Y\",\"\\u0232\":\"Y\",\"\\u1E8E\":\"Y\",\"\\u0178\":\"Y\",\"\\u1EF6\":\"Y\",\"\\u1EF4\":\"Y\",\"\\u01B3\":\"Y\",\"\\u024E\":\"Y\",\"\\u1EFE\":\"Y\",\"\\u24CF\":\"Z\",\"\\uFF3A\":\"Z\",\"\\u0179\":\"Z\",\"\\u1E90\":\"Z\",\"\\u017B\":\"Z\",\"\\u017D\":\"Z\",\"\\u1E92\":\"Z\",\"\\u1E94\":\"Z\",\"\\u01B5\":\"Z\",\"\\u0224\":\"Z\",\"\\u2C7F\":\"Z\",\"\\u2C6B\":\"Z\",\"\\uA762\":\"Z\",\"\\u24D0\":\"a\",\"\\uFF41\":\"a\",\"\\u1E9A\":\"a\",\"\\u00E0\":\"a\",\"\\u00E1\":\"a\",\"\\u00E2\":\"a\",\"\\u1EA7\":\"a\",\"\\u1EA5\":\"a\",\"\\u1EAB\":\"a\",\"\\u1EA9\":\"a\",\"\\u00E3\":\"a\",\"\\u0101\":\"a\",\"\\u0103\":\"a\",\"\\u1EB1\":\"a\",\"\\u1EAF\":\"a\",\"\\u1EB5\":\"a\",\"\\u1EB3\":\"a\",\"\\u0227\":\"a\",\"\\u01E1\":\"a\",\"\\u00E4\":\"a\",\"\\u01DF\":\"a\",\"\\u1EA3\":\"a\",\"\\u00E5\":\"a\",\"\\u01FB\":\"a\",\"\\u01CE\":\"a\",\"\\u0201\":\"a\",\"\\u0203\":\"a\",\"\\u1EA1\":\"a\",\"\\u1EAD\":\"a\",\"\\u1EB7\":\"a\",\"\\u1E01\":\"a\",\"\\u0105\":\"a\",\"\\u2C65\":\"a\",\"\\u0250\":\"a\",\"\\uA733\":\"aa\",\"\\u00E6\":\"ae\",\"\\u01FD\":\"ae\",\"\\u01E3\":\"ae\",\"\\uA735\":\"ao\",\"\\uA737\":\"au\",\"\\uA739\":\"av\",\"\\uA73B\":\"av\",\"\\uA73D\":\"ay\",\"\\u24D1\":\"b\",\"\\uFF42\":\"b\",\"\\u1E03\":\"b\",\"\\u1E05\":\"b\",\"\\u1E07\":\"b\",\"\\u0180\":\"b\",\"\\u0183\":\"b\",\"\\u0253\":\"b\",\"\\u24D2\":\"c\",\"\\uFF43\":\"c\",\"\\u0107\":\"c\",\"\\u0109\":\"c\",\"\\u010B\":\"c\",\"\\u010D\":\"c\",\"\\u00E7\":\"c\",\"\\u1E09\":\"c\",\"\\u0188\":\"c\",\"\\u023C\":\"c\",\"\\uA73F\":\"c\",\"\\u2184\":\"c\",\"\\u24D3\":\"d\",\"\\uFF44\":\"d\",\"\\u1E0B\":\"d\",\"\\u010F\":\"d\",\"\\u1E0D\":\"d\",\"\\u1E11\":\"d\",\"\\u1E13\":\"d\",\"\\u1E0F\":\"d\",\"\\u0111\":\"d\",\"\\u018C\":\"d\",\"\\u0256\":\"d\",\"\\u0257\":\"d\",\"\\uA77A\":\"d\",\"\\u01F3\":\"dz\",\"\\u01C6\":\"dz\",\"\\u24D4\":\"e\",\"\\uFF45\":\"e\",\"\\u00E8\":\"e\",\"\\u00E9\":\"e\",\"\\u00EA\":\"e\",\"\\u1EC1\":\"e\",\"\\u1EBF\":\"e\",\"\\u1EC5\":\"e\",\"\\u1EC3\":\"e\",\"\\u1EBD\":\"e\",\"\\u0113\":\"e\",\"\\u1E15\":\"e\",\"\\u1E17\":\"e\",\"\\u0115\":\"e\",\"\\u0117\":\"e\",\"\\u00EB\":\"e\",\"\\u1EBB\":\"e\",\"\\u011B\":\"e\",\"\\u0205\":\"e\",\"\\u0207\":\"e\",\"\\u1EB9\":\"e\",\"\\u1EC7\":\"e\",\"\\u0229\":\"e\",\"\\u1E1D\":\"e\",\"\\u0119\":\"e\",\"\\u1E19\":\"e\",\"\\u1E1B\":\"e\",\"\\u0247\":\"e\",\"\\u025B\":\"e\",\"\\u01DD\":\"e\",\"\\u24D5\":\"f\",\"\\uFF46\":\"f\",\"\\u1E1F\":\"f\",\"\\u0192\":\"f\",\"\\uA77C\":\"f\",\"\\u24D6\":\"g\",\"\\uFF47\":\"g\",\"\\u01F5\":\"g\",\"\\u011D\":\"g\",\"\\u1E21\":\"g\",\"\\u011F\":\"g\",\"\\u0121\":\"g\",\"\\u01E7\":\"g\",\"\\u0123\":\"g\",\"\\u01E5\":\"g\",\"\\u0260\":\"g\",\"\\uA7A1\":\"g\",\"\\u1D79\":\"g\",\"\\uA77F\":\"g\",\"\\u24D7\":\"h\",\"\\uFF48\":\"h\",\"\\u0125\":\"h\",\"\\u1E23\":\"h\",\"\\u1E27\":\"h\",\"\\u021F\":\"h\",\"\\u1E25\":\"h\",\"\\u1E29\":\"h\",\"\\u1E2B\":\"h\",\"\\u1E96\":\"h\",\"\\u0127\":\"h\",\"\\u2C68\":\"h\",\"\\u2C76\":\"h\",\"\\u0265\":\"h\",\"\\u0195\":\"hv\",\"\\u24D8\":\"i\",\"\\uFF49\":\"i\",\"\\u00EC\":\"i\",\"\\u00ED\":\"i\",\"\\u00EE\":\"i\",\"\\u0129\":\"i\",\"\\u012B\":\"i\",\"\\u012D\":\"i\",\"\\u00EF\":\"i\",\"\\u1E2F\":\"i\",\"\\u1EC9\":\"i\",\"\\u01D0\":\"i\",\"\\u0209\":\"i\",\"\\u020B\":\"i\",\"\\u1ECB\":\"i\",\"\\u012F\":\"i\",\"\\u1E2D\":\"i\",\"\\u0268\":\"i\",\"\\u0131\":\"i\",\"\\u24D9\":\"j\",\"\\uFF4A\":\"j\",\"\\u0135\":\"j\",\"\\u01F0\":\"j\",\"\\u0249\":\"j\",\"\\u24DA\":\"k\",\"\\uFF4B\":\"k\",\"\\u1E31\":\"k\",\"\\u01E9\":\"k\",\"\\u1E33\":\"k\",\"\\u0137\":\"k\",\"\\u1E35\":\"k\",\"\\u0199\":\"k\",\"\\u2C6A\":\"k\",\"\\uA741\":\"k\",\"\\uA743\":\"k\",\"\\uA745\":\"k\",\"\\uA7A3\":\"k\",\"\\u24DB\":\"l\",\"\\uFF4C\":\"l\",\"\\u0140\":\"l\",\"\\u013A\":\"l\",\"\\u013E\":\"l\",\"\\u1E37\":\"l\",\"\\u1E39\":\"l\",\"\\u013C\":\"l\",\"\\u1E3D\":\"l\",\"\\u1E3B\":\"l\",\"\\u017F\":\"l\",\"\\u0142\":\"l\",\"\\u019A\":\"l\",\"\\u026B\":\"l\",\"\\u2C61\":\"l\",\"\\uA749\":\"l\",\"\\uA781\":\"l\",\"\\uA747\":\"l\",\"\\u01C9\":\"lj\",\"\\u24DC\":\"m\",\"\\uFF4D\":\"m\",\"\\u1E3F\":\"m\",\"\\u1E41\":\"m\",\"\\u1E43\":\"m\",\"\\u0271\":\"m\",\"\\u026F\":\"m\",\"\\u24DD\":\"n\",\"\\uFF4E\":\"n\",\"\\u01F9\":\"n\",\"\\u0144\":\"n\",\"\\u00F1\":\"n\",\"\\u1E45\":\"n\",\"\\u0148\":\"n\",\"\\u1E47\":\"n\",\"\\u0146\":\"n\",\"\\u1E4B\":\"n\",\"\\u1E49\":\"n\",\"\\u019E\":\"n\",\"\\u0272\":\"n\",\"\\u0149\":\"n\",\"\\uA791\":\"n\",\"\\uA7A5\":\"n\",\"\\u01CC\":\"nj\",\"\\u24DE\":\"o\",\"\\uFF4F\":\"o\",\"\\u00F2\":\"o\",\"\\u00F3\":\"o\",\"\\u00F4\":\"o\",\"\\u1ED3\":\"o\",\"\\u1ED1\":\"o\",\"\\u1ED7\":\"o\",\"\\u1ED5\":\"o\",\"\\u00F5\":\"o\",\"\\u1E4D\":\"o\",\"\\u022D\":\"o\",\"\\u1E4F\":\"o\",\"\\u014D\":\"o\",\"\\u1E51\":\"o\",\"\\u1E53\":\"o\",\"\\u014F\":\"o\",\"\\u022F\":\"o\",\"\\u0231\":\"o\",\"\\u00F6\":\"o\",\"\\u022B\":\"o\",\"\\u1ECF\":\"o\",\"\\u0151\":\"o\",\"\\u01D2\":\"o\",\"\\u020D\":\"o\",\"\\u020F\":\"o\",\"\\u01A1\":\"o\",\"\\u1EDD\":\"o\",\"\\u1EDB\":\"o\",\"\\u1EE1\":\"o\",\"\\u1EDF\":\"o\",\"\\u1EE3\":\"o\",\"\\u1ECD\":\"o\",\"\\u1ED9\":\"o\",\"\\u01EB\":\"o\",\"\\u01ED\":\"o\",\"\\u00F8\":\"o\",\"\\u01FF\":\"o\",\"\\u0254\":\"o\",\"\\uA74B\":\"o\",\"\\uA74D\":\"o\",\"\\u0275\":\"o\",\"\\u01A3\":\"oi\",\"\\u0223\":\"ou\",\"\\uA74F\":\"oo\",\"\\u24DF\":\"p\",\"\\uFF50\":\"p\",\"\\u1E55\":\"p\",\"\\u1E57\":\"p\",\"\\u01A5\":\"p\",\"\\u1D7D\":\"p\",\"\\uA751\":\"p\",\"\\uA753\":\"p\",\"\\uA755\":\"p\",\"\\u24E0\":\"q\",\"\\uFF51\":\"q\",\"\\u024B\":\"q\",\"\\uA757\":\"q\",\"\\uA759\":\"q\",\"\\u24E1\":\"r\",\"\\uFF52\":\"r\",\"\\u0155\":\"r\",\"\\u1E59\":\"r\",\"\\u0159\":\"r\",\"\\u0211\":\"r\",\"\\u0213\":\"r\",\"\\u1E5B\":\"r\",\"\\u1E5D\":\"r\",\"\\u0157\":\"r\",\"\\u1E5F\":\"r\",\"\\u024D\":\"r\",\"\\u027D\":\"r\",\"\\uA75B\":\"r\",\"\\uA7A7\":\"r\",\"\\uA783\":\"r\",\"\\u24E2\":\"s\",\"\\uFF53\":\"s\",\"\\u00DF\":\"s\",\"\\u015B\":\"s\",\"\\u1E65\":\"s\",\"\\u015D\":\"s\",\"\\u1E61\":\"s\",\"\\u0161\":\"s\",\"\\u1E67\":\"s\",\"\\u1E63\":\"s\",\"\\u1E69\":\"s\",\"\\u0219\":\"s\",\"\\u015F\":\"s\",\"\\u023F\":\"s\",\"\\uA7A9\":\"s\",\"\\uA785\":\"s\",\"\\u1E9B\":\"s\",\"\\u24E3\":\"t\",\"\\uFF54\":\"t\",\"\\u1E6B\":\"t\",\"\\u1E97\":\"t\",\"\\u0165\":\"t\",\"\\u1E6D\":\"t\",\"\\u021B\":\"t\",\"\\u0163\":\"t\",\"\\u1E71\":\"t\",\"\\u1E6F\":\"t\",\"\\u0167\":\"t\",\"\\u01AD\":\"t\",\"\\u0288\":\"t\",\"\\u2C66\":\"t\",\"\\uA787\":\"t\",\"\\uA729\":\"tz\",\"\\u24E4\":\"u\",\"\\uFF55\":\"u\",\"\\u00F9\":\"u\",\"\\u00FA\":\"u\",\"\\u00FB\":\"u\",\"\\u0169\":\"u\",\"\\u1E79\":\"u\",\"\\u016B\":\"u\",\"\\u1E7B\":\"u\",\"\\u016D\":\"u\",\"\\u00FC\":\"u\",\"\\u01DC\":\"u\",\"\\u01D8\":\"u\",\"\\u01D6\":\"u\",\"\\u01DA\":\"u\",\"\\u1EE7\":\"u\",\"\\u016F\":\"u\",\"\\u0171\":\"u\",\"\\u01D4\":\"u\",\"\\u0215\":\"u\",\"\\u0217\":\"u\",\"\\u01B0\":\"u\",\"\\u1EEB\":\"u\",\"\\u1EE9\":\"u\",\"\\u1EEF\":\"u\",\"\\u1EED\":\"u\",\"\\u1EF1\":\"u\",\"\\u1EE5\":\"u\",\"\\u1E73\":\"u\",\"\\u0173\":\"u\",\"\\u1E77\":\"u\",\"\\u1E75\":\"u\",\"\\u0289\":\"u\",\"\\u24E5\":\"v\",\"\\uFF56\":\"v\",\"\\u1E7D\":\"v\",\"\\u1E7F\":\"v\",\"\\u028B\":\"v\",\"\\uA75F\":\"v\",\"\\u028C\":\"v\",\"\\uA761\":\"vy\",\"\\u24E6\":\"w\",\"\\uFF57\":\"w\",\"\\u1E81\":\"w\",\"\\u1E83\":\"w\",\"\\u0175\":\"w\",\"\\u1E87\":\"w\",\"\\u1E85\":\"w\",\"\\u1E98\":\"w\",\"\\u1E89\":\"w\",\"\\u2C73\":\"w\",\"\\u24E7\":\"x\",\"\\uFF58\":\"x\",\"\\u1E8B\":\"x\",\"\\u1E8D\":\"x\",\"\\u24E8\":\"y\",\"\\uFF59\":\"y\",\"\\u1EF3\":\"y\",\"\\u00FD\":\"y\",\"\\u0177\":\"y\",\"\\u1EF9\":\"y\",\"\\u0233\":\"y\",\"\\u1E8F\":\"y\",\"\\u00FF\":\"y\",\"\\u1EF7\":\"y\",\"\\u1E99\":\"y\",\"\\u1EF5\":\"y\",\"\\u01B4\":\"y\",\"\\u024F\":\"y\",\"\\u1EFF\":\"y\",\"\\u24E9\":\"z\",\"\\uFF5A\":\"z\",\"\\u017A\":\"z\",\"\\u1E91\":\"z\",\"\\u017C\":\"z\",\"\\u017E\":\"z\",\"\\u1E93\":\"z\",\"\\u1E95\":\"z\",\"\\u01B6\":\"z\",\"\\u0225\":\"z\",\"\\u0240\":\"z\",\"\\u2C6C\":\"z\",\"\\uA763\":\"z\"};\n\n    $document = $(document);\n\n    nextUid=(function() { var counter=1; return function() { return counter++; }; }());\n\n\n    function stripDiacritics(str) {\n        var ret, i, l, c;\n\n        if (!str || str.length < 1) return str;\n\n        ret = \"\";\n        for (i = 0, l = str.length; i < l; i++) {\n            c = str.charAt(i);\n            ret += DIACRITICS[c] || c;\n        }\n        return ret;\n    }\n\n    function indexOf(value, array) {\n        var i = 0, l = array.length;\n        for (; i < l; i = i + 1) {\n            if (equal(value, array[i])) return i;\n        }\n        return -1;\n    }\n\n    function measureScrollbar () {\n        var $template = $( MEASURE_SCROLLBAR_TEMPLATE );\n        $template.appendTo('body');\n\n        var dim = {\n            width: $template.width() - $template[0].clientWidth,\n            height: $template.height() - $template[0].clientHeight\n        };\n        $template.remove();\n\n        return dim;\n    }\n\n    /**\n     * Compares equality of a and b\n     * @param a\n     * @param b\n     */\n    function equal(a, b) {\n        if (a === b) return true;\n        if (a === undefined || b === undefined) return false;\n        if (a === null || b === null) return false;\n        // Check whether 'a' or 'b' is a string (primitive or object).\n        // The concatenation of an empty string (+'') converts its argument to a string's primitive.\n        if (a.constructor === String) return a+'' === b+''; // a+'' - in case 'a' is a String object\n        if (b.constructor === String) return b+'' === a+''; // b+'' - in case 'b' is a String object\n        return false;\n    }\n\n    /**\n     * Splits the string into an array of values, trimming each value. An empty array is returned for nulls or empty\n     * strings\n     * @param string\n     * @param separator\n     */\n    function splitVal(string, separator) {\n        var val, i, l;\n        if (string === null || string.length < 1) return [];\n        val = string.split(separator);\n        for (i = 0, l = val.length; i < l; i = i + 1) val[i] = $.trim(val[i]);\n        return val;\n    }\n\n    function getSideBorderPadding(element) {\n        return element.outerWidth(false) - element.width();\n    }\n\n    function installKeyUpChangeEvent(element) {\n        var key=\"keyup-change-value\";\n        element.on(\"keydown\", function () {\n            if ($.data(element, key) === undefined) {\n                $.data(element, key, element.val());\n            }\n        });\n        element.on(\"keyup\", function () {\n            var val= $.data(element, key);\n            if (val !== undefined && element.val() !== val) {\n                $.removeData(element, key);\n                element.trigger(\"keyup-change\");\n            }\n        });\n    }\n\n    $document.on(\"mousemove\", function (e) {\n        lastMousePosition.x = e.pageX;\n        lastMousePosition.y = e.pageY;\n    });\n\n    /**\n     * filters mouse events so an event is fired only if the mouse moved.\n     *\n     * filters out mouse events that occur when mouse is stationary but\n     * the elements under the pointer are scrolled.\n     */\n    function installFilteredMouseMove(element) {\n        element.on(\"mousemove\", function (e) {\n            var lastpos = lastMousePosition;\n            if (lastpos === undefined || lastpos.x !== e.pageX || lastpos.y !== e.pageY) {\n                $(e.target).trigger(\"mousemove-filtered\", e);\n            }\n        });\n    }\n\n    /**\n     * Debounces a function. Returns a function that calls the original fn function only if no invocations have been made\n     * within the last quietMillis milliseconds.\n     *\n     * @param quietMillis number of milliseconds to wait before invoking fn\n     * @param fn function to be debounced\n     * @param ctx object to be used as this reference within fn\n     * @return debounced version of fn\n     */\n    function debounce(quietMillis, fn, ctx) {\n        ctx = ctx || undefined;\n        var timeout;\n        return function () {\n            var args = arguments;\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(function() {\n                fn.apply(ctx, args);\n            }, quietMillis);\n        };\n    }\n\n    /**\n     * A simple implementation of a thunk\n     * @param formula function used to lazily initialize the thunk\n     * @return {Function}\n     */\n    function thunk(formula) {\n        var evaluated = false,\n            value;\n        return function() {\n            if (evaluated === false) { value = formula(); evaluated = true; }\n            return value;\n        };\n    };\n\n    function installDebouncedScroll(threshold, element) {\n        var notify = debounce(threshold, function (e) { element.trigger(\"scroll-debounced\", e);});\n        element.on(\"scroll\", function (e) {\n            if (indexOf(e.target, element.get()) >= 0) notify(e);\n        });\n    }\n\n    function focus($el) {\n        if ($el[0] === document.activeElement) return;\n\n        /* set the focus in a 0 timeout - that way the focus is set after the processing\n         of the current event has finished - which seems like the only reliable way\n         to set focus */\n        window.setTimeout(function() {\n            var el=$el[0], pos=$el.val().length, range;\n\n            $el.focus();\n\n            /* make sure el received focus so we do not error out when trying to manipulate the caret.\n             sometimes modals or others listeners may steal it after its set */\n            if ($el.is(\":visible\") && el === document.activeElement) {\n\n                /* after the focus is set move the caret to the end, necessary when we val()\n                 just before setting focus */\n                if(el.setSelectionRange)\n                {\n                    el.setSelectionRange(pos, pos);\n                }\n                else if (el.createTextRange) {\n                    range = el.createTextRange();\n                    range.collapse(false);\n                    range.select();\n                }\n            }\n        }, 0);\n    }\n\n    function getCursorInfo(el) {\n        el = $(el)[0];\n        var offset = 0;\n        var length = 0;\n        if ('selectionStart' in el) {\n            offset = el.selectionStart;\n            length = el.selectionEnd - offset;\n        } else if ('selection' in document) {\n            el.focus();\n            var sel = document.selection.createRange();\n            length = document.selection.createRange().text.length;\n            sel.moveStart('character', -el.value.length);\n            offset = sel.text.length - length;\n        }\n        return { offset: offset, length: length };\n    }\n\n    function killEvent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    function killEventImmediately(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n    }\n\n    function measureTextWidth(e) {\n        if (!sizer){\n            var style = e[0].currentStyle || window.getComputedStyle(e[0], null);\n            sizer = $(document.createElement(\"div\")).css({\n                position: \"absolute\",\n                left: \"-10000px\",\n                top: \"-10000px\",\n                display: \"none\",\n                fontSize: style.fontSize,\n                fontFamily: style.fontFamily,\n                fontStyle: style.fontStyle,\n                fontWeight: style.fontWeight,\n                letterSpacing: style.letterSpacing,\n                textTransform: style.textTransform,\n                whiteSpace: \"nowrap\"\n            });\n            sizer.attr(\"class\",\"select2-sizer\");\n            $(\"body\").append(sizer);\n        }\n        sizer.text(e.val());\n        return sizer.width();\n    }\n\n    function syncCssClasses(dest, src, adapter) {\n        var classes, replacements = [], adapted;\n\n        classes = dest.attr(\"class\");\n        if (classes) {\n            classes = '' + classes; // for IE which returns object\n            $(classes.split(\" \")).each2(function() {\n                if (this.indexOf(\"select2-\") === 0) {\n                    replacements.push(this);\n                }\n            });\n        }\n        classes = src.attr(\"class\");\n        if (classes) {\n            classes = '' + classes; // for IE which returns object\n            $(classes.split(\" \")).each2(function() {\n                if (this.indexOf(\"select2-\") !== 0) {\n                    adapted = adapter(this);\n                    if (adapted) {\n                        replacements.push(adapted);\n                    }\n                }\n            });\n        }\n        dest.attr(\"class\", replacements.join(\" \"));\n    }\n\n\n    function markMatch(text, term, markup, escapeMarkup) {\n        var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),\n            tl=term.length;\n\n        if (match<0) {\n            markup.push(escapeMarkup(text));\n            return;\n        }\n\n        markup.push(escapeMarkup(text.substring(0, match)));\n        markup.push(\"<span class='select2-match'>\");\n        markup.push(escapeMarkup(text.substring(match, match + tl)));\n        markup.push(\"</span>\");\n        markup.push(escapeMarkup(text.substring(match + tl, text.length)));\n    }\n\n    function defaultEscapeMarkup(markup) {\n        var replace_map = {\n            '\\\\': '&#92;',\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#39;',\n            \"/\": '&#47;'\n        };\n\n        return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n            return replace_map[match];\n        });\n    }\n\n    /**\n     * Produces an ajax-based query function\n     *\n     * @param options object containing configuration paramters\n     * @param options.params parameter map for the transport ajax call, can contain such options as cache, jsonpCallback, etc. see $.ajax\n     * @param options.transport function that will be used to execute the ajax request. must be compatible with parameters supported by $.ajax\n     * @param options.url url for the data\n     * @param options.data a function(searchTerm, pageNumber, context) that should return an object containing query string parameters for the above url.\n     * @param options.dataType request data type: ajax, jsonp, other datatatypes supported by jQuery's $.ajax function or the transport function if specified\n     * @param options.quietMillis (optional) milliseconds to wait before making the ajaxRequest, helps debounce the ajax function if invoked too often\n     * @param options.results a function(remoteData, pageNumber) that converts data returned form the remote request to the format expected by Select2.\n     *      The expected format is an object containing the following keys:\n     *      results array of objects that will be used as choices\n     *      more (optional) boolean indicating whether there are more results available\n     *      Example: {results:[{id:1, text:'Red'},{id:2, text:'Blue'}], more:true}\n     */\n    function ajax(options) {\n        var timeout, // current scheduled but not yet executed request\n            handler = null,\n            quietMillis = options.quietMillis || 100,\n            ajaxUrl = options.url,\n            self = this;\n\n        return function (query) {\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                var data = options.data, // ajax data function\n                    url = ajaxUrl, // ajax url string or function\n                    transport = options.transport || $.fn.select2.ajaxDefaults.transport,\n                // deprecated - to be removed in 4.0  - use params instead\n                    deprecated = {\n                        type: options.type || 'GET', // set type of request (GET or POST)\n                        cache: options.cache || false,\n                        jsonpCallback: options.jsonpCallback||undefined,\n                        dataType: options.dataType||\"json\"\n                    },\n                    params = $.extend({}, $.fn.select2.ajaxDefaults.params, deprecated);\n\n                data = data ? data.call(self, query.term, query.page, query.context) : null;\n                url = (typeof url === 'function') ? url.call(self, query.term, query.page, query.context) : url;\n\n                if (handler) { handler.abort(); }\n\n                if (options.params) {\n                    if ($.isFunction(options.params)) {\n                        $.extend(params, options.params.call(self));\n                    } else {\n                        $.extend(params, options.params);\n                    }\n                }\n\n                $.extend(params, {\n                    url: url,\n                    dataType: options.dataType,\n                    data: data,\n                    success: function (data) {\n                        // TODO - replace query.page with query so users have access to term, page, etc.\n                        var results = options.results(data, query.page);\n                        query.callback(results);\n                    }\n                });\n                handler = transport.call(self, params);\n            }, quietMillis);\n        };\n    }\n\n    /**\n     * Produces a query function that works with a local array\n     *\n     * @param options object containing configuration parameters. The options parameter can either be an array or an\n     * object.\n     *\n     * If the array form is used it is assumed that it contains objects with 'id' and 'text' keys.\n     *\n     * If the object form is used ti is assumed that it contains 'data' and 'text' keys. The 'data' key should contain\n     * an array of objects that will be used as choices. These objects must contain at least an 'id' key. The 'text'\n     * key can either be a String in which case it is expected that each element in the 'data' array has a key with the\n     * value of 'text' which will be used to match choices. Alternatively, text can be a function(item) that can extract\n     * the text.\n     */\n    function local(options) {\n        var data = options, // data elements\n            dataText,\n            tmp,\n            text = function (item) { return \"\"+item.text; }; // function used to retrieve the text portion of a data item that is matched against the search\n\n        if ($.isArray(data)) {\n            tmp = data;\n            data = { results: tmp };\n        }\n\n        if ($.isFunction(data) === false) {\n            tmp = data;\n            data = function() { return tmp; };\n        }\n\n        var dataItem = data();\n        if (dataItem.text) {\n            text = dataItem.text;\n            // if text is not a function we assume it to be a key name\n            if (!$.isFunction(text)) {\n                dataText = dataItem.text; // we need to store this in a separate variable because in the next step data gets reset and data.text is no longer available\n                text = function (item) { return item[dataText]; };\n            }\n        }\n\n        return function (query) {\n            var t = query.term, filtered = { results: [] }, process;\n            if (t === \"\") {\n                query.callback(data());\n                return;\n            }\n\n            process = function(datum, collection) {\n                var group, attr;\n                datum = datum[0];\n                if (datum.children) {\n                    group = {};\n                    for (attr in datum) {\n                        if (datum.hasOwnProperty(attr)) group[attr]=datum[attr];\n                    }\n                    group.children=[];\n                    $(datum.children).each2(function(i, childDatum) { process(childDatum, group.children); });\n                    if (group.children.length || query.matcher(t, text(group), datum)) {\n                        collection.push(group);\n                    }\n                } else {\n                    if (query.matcher(t, text(datum), datum)) {\n                        collection.push(datum);\n                    }\n                }\n            };\n\n            $(data().results).each2(function(i, datum) { process(datum, filtered.results); });\n            query.callback(filtered);\n        };\n    }\n\n    // TODO javadoc\n    function tags(data) {\n        var isFunc = $.isFunction(data);\n        return function (query) {\n            var t = query.term, filtered = {results: []};\n            $(isFunc ? data() : data).each(function () {\n                var isObject = this.text !== undefined,\n                    text = isObject ? this.text : this;\n                if (t === \"\" || query.matcher(t, text)) {\n                    filtered.results.push(isObject ? this : {id: this, text: this});\n                }\n            });\n            query.callback(filtered);\n        };\n    }\n\n    /**\n     * Checks if the formatter function should be used.\n     *\n     * Throws an error if it is not a function. Returns true if it should be used,\n     * false if no formatting should be performed.\n     *\n     * @param formatter\n     */\n    function checkFormatter(formatter, formatterName) {\n        if ($.isFunction(formatter)) return true;\n        if (!formatter) return false;\n        throw new Error(formatterName +\" must be a function or a falsy value\");\n    }\n\n    function evaluate(val) {\n        return $.isFunction(val) ? val() : val;\n    }\n\n    function countResults(results) {\n        var count = 0;\n        $.each(results, function(i, item) {\n            if (item.children) {\n                count += countResults(item.children);\n            } else {\n                count++;\n            }\n        });\n        return count;\n    }\n\n    /**\n     * Default tokenizer. This function uses breaks the input on substring match of any string from the\n     * opts.tokenSeparators array and uses opts.createSearchChoice to create the choice object. Both of those\n     * two options have to be defined in order for the tokenizer to work.\n     *\n     * @param input text user has typed so far or pasted into the search field\n     * @param selection currently selected choices\n     * @param selectCallback function(choice) callback tho add the choice to selection\n     * @param opts select2's opts\n     * @return undefined/null to leave the current input unchanged, or a string to change the input to the returned value\n     */\n    function defaultTokenizer(input, selection, selectCallback, opts) {\n        var original = input, // store the original so we can compare and know if we need to tell the search to update its text\n            dupe = false, // check for whether a token we extracted represents a duplicate selected choice\n            token, // token\n            index, // position at which the separator was found\n            i, l, // looping variables\n            separator; // the matched separator\n\n        if (!opts.createSearchChoice || !opts.tokenSeparators || opts.tokenSeparators.length < 1) return undefined;\n\n        while (true) {\n            index = -1;\n\n            for (i = 0, l = opts.tokenSeparators.length; i < l; i++) {\n                separator = opts.tokenSeparators[i];\n                index = input.indexOf(separator);\n                if (index >= 0) break;\n            }\n\n            if (index < 0) break; // did not find any token separator in the input string, bail\n\n            token = input.substring(0, index);\n            input = input.substring(index + separator.length);\n\n            if (token.length > 0) {\n                token = opts.createSearchChoice.call(this, token, selection);\n                if (token !== undefined && token !== null && opts.id(token) !== undefined && opts.id(token) !== null) {\n                    dupe = false;\n                    for (i = 0, l = selection.length; i < l; i++) {\n                        if (equal(opts.id(token), opts.id(selection[i]))) {\n                            dupe = true; break;\n                        }\n                    }\n\n                    if (!dupe) selectCallback(token);\n                }\n            }\n        }\n\n        if (original!==input) return input;\n    }\n\n    /**\n     * Creates a new class\n     *\n     * @param superClass\n     * @param methods\n     */\n    function clazz(SuperClass, methods) {\n        var constructor = function () {};\n        constructor.prototype = new SuperClass;\n        constructor.prototype.constructor = constructor;\n        constructor.prototype.parent = SuperClass.prototype;\n        constructor.prototype = $.extend(constructor.prototype, methods);\n        return constructor;\n    }\n\n    AbstractSelect2 = clazz(Object, {\n\n        // abstract\n        bind: function (func) {\n            var self = this;\n            return function () {\n                func.apply(self, arguments);\n            };\n        },\n\n        // abstract\n        init: function (opts) {\n            var results, search, resultsSelector = \".select2-results\";\n\n            // prepare options\n            this.opts = opts = this.prepareOpts(opts);\n\n            this.id=opts.id;\n\n            // destroy if called on an existing component\n            if (opts.element.data(\"select2\") !== undefined &&\n                opts.element.data(\"select2\") !== null) {\n                opts.element.data(\"select2\").destroy();\n            }\n\n            this.container = this.createContainer();\n\n            this.containerId=\"s2id_\"+(opts.element.attr(\"id\") || \"autogen\"+nextUid());\n            this.containerSelector=\"#\"+this.containerId.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, '\\\\$1');\n            this.container.attr(\"id\", this.containerId);\n\n            // cache the body so future lookups are cheap\n            this.body = thunk(function() { return opts.element.closest(\"body\"); });\n\n            syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);\n\n            this.container.attr(\"style\", opts.element.attr(\"style\"));\n            this.container.css(evaluate(opts.containerCss));\n            this.container.addClass(evaluate(opts.containerCssClass));\n\n            this.elementTabIndex = this.opts.element.attr(\"tabindex\");\n\n            // swap container for the element\n            this.opts.element\n                .data(\"select2\", this)\n                .attr(\"tabindex\", \"-1\")\n                .before(this.container)\n                .on(\"click.select2\", killEvent); // do not leak click events\n\n            this.container.data(\"select2\", this);\n\n            this.dropdown = this.container.find(\".select2-drop\");\n\n            syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);\n\n            this.dropdown.addClass(evaluate(opts.dropdownCssClass));\n            this.dropdown.data(\"select2\", this);\n            this.dropdown.on(\"click\", killEvent);\n\n            this.results = results = this.container.find(resultsSelector);\n            this.search = search = this.container.find(\"input.select2-input\");\n\n            this.queryCount = 0;\n            this.resultsPage = 0;\n            this.context = null;\n\n            // initialize the container\n            this.initContainer();\n\n            this.container.on(\"click\", killEvent);\n\n            installFilteredMouseMove(this.results);\n            this.dropdown.on(\"mousemove-filtered touchstart touchmove touchend\", resultsSelector, this.bind(this.highlightUnderEvent));\n\n            installDebouncedScroll(80, this.results);\n            this.dropdown.on(\"scroll-debounced\", resultsSelector, this.bind(this.loadMoreIfNeeded));\n\n            // do not propagate change event from the search field out of the component\n            $(this.container).on(\"change\", \".select2-input\", function(e) {e.stopPropagation();});\n            $(this.dropdown).on(\"change\", \".select2-input\", function(e) {e.stopPropagation();});\n\n            // if jquery.mousewheel plugin is installed we can prevent out-of-bounds scrolling of results via mousewheel\n            if ($.fn.mousewheel) {\n                results.mousewheel(function (e, delta, deltaX, deltaY) {\n                    var top = results.scrollTop();\n                    if (deltaY > 0 && top - deltaY <= 0) {\n                        results.scrollTop(0);\n                        killEvent(e);\n                    } else if (deltaY < 0 && results.get(0).scrollHeight - results.scrollTop() + deltaY <= results.height()) {\n                        results.scrollTop(results.get(0).scrollHeight - results.height());\n                        killEvent(e);\n                    }\n                });\n            }\n\n            installKeyUpChangeEvent(search);\n            search.on(\"keyup-change input paste\", this.bind(this.updateResults));\n            search.on(\"focus\", function () { search.addClass(\"select2-focused\"); });\n            search.on(\"blur\", function () { search.removeClass(\"select2-focused\");});\n\n            this.dropdown.on(\"mouseup\", resultsSelector, this.bind(function (e) {\n                if ($(e.target).closest(\".select2-result-selectable\").length > 0) {\n                    this.highlightUnderEvent(e);\n                    this.selectHighlighted(e);\n                }\n            }));\n\n            // trap all mouse events from leaving the dropdown. sometimes there may be a modal that is listening\n            // for mouse events outside of itself so it can close itself. since the dropdown is now outside the select2's\n            // dom it will trigger the popup close, which is not what we want\n            this.dropdown.on(\"click mouseup mousedown\", function (e) { e.stopPropagation(); });\n\n            if ($.isFunction(this.opts.initSelection)) {\n                // initialize selection based on the current value of the source element\n                this.initSelection();\n\n                // if the user has provided a function that can set selection based on the value of the source element\n                // we monitor the change event on the element and trigger it, allowing for two way synchronization\n                this.monitorSource();\n            }\n\n            if (opts.maximumInputLength !== null) {\n                this.search.attr(\"maxlength\", opts.maximumInputLength);\n            }\n\n            var disabled = opts.element.prop(\"disabled\");\n            if (disabled === undefined) disabled = false;\n            this.enable(!disabled);\n\n            var readonly = opts.element.prop(\"readonly\");\n            if (readonly === undefined) readonly = false;\n            this.readonly(readonly);\n\n            // Calculate size of scrollbar\n            scrollBarDimensions = scrollBarDimensions || measureScrollbar();\n\n            this.autofocus = opts.element.prop(\"autofocus\");\n            opts.element.prop(\"autofocus\", false);\n            if (this.autofocus) this.focus();\n\n            this.nextSearchTerm = undefined;\n        },\n\n        // abstract\n        destroy: function () {\n            var element=this.opts.element, select2 = element.data(\"select2\");\n\n            this.close();\n\n            if (this.propertyObserver) { delete this.propertyObserver; this.propertyObserver = null; }\n\n            if (select2 !== undefined) {\n                select2.container.remove();\n                select2.dropdown.remove();\n                element\n                    .removeClass(\"select2-offscreen\")\n                    .removeData(\"select2\")\n                    .off(\".select2\")\n                    .prop(\"autofocus\", this.autofocus || false);\n                if (this.elementTabIndex) {\n                    element.attr({tabindex: this.elementTabIndex});\n                } else {\n                    element.removeAttr(\"tabindex\");\n                }\n                element.show();\n            }\n        },\n\n        // abstract\n        optionToData: function(element) {\n            if (element.is(\"option\")) {\n                return {\n                    id:element.prop(\"value\"),\n                    text:element.text(),\n                    element: element.get(),\n                    css: element.attr(\"class\"),\n                    disabled: element.prop(\"disabled\"),\n                    locked: equal(element.attr(\"locked\"), \"locked\") || equal(element.data(\"locked\"), true)\n                };\n            } else if (element.is(\"optgroup\")) {\n                return {\n                    text:element.attr(\"label\"),\n                    children:[],\n                    element: element.get(),\n                    css: element.attr(\"class\")\n                };\n            }\n        },\n\n        // abstract\n        prepareOpts: function (opts) {\n            var element, select, idKey, ajaxUrl, self = this;\n\n            element = opts.element;\n\n            if (element.get(0).tagName.toLowerCase() === \"select\") {\n                this.select = select = opts.element;\n            }\n\n            if (select) {\n                // these options are not allowed when attached to a select because they are picked up off the element itself\n                $.each([\"id\", \"multiple\", \"ajax\", \"query\", \"createSearchChoice\", \"initSelection\", \"data\", \"tags\"], function () {\n                    if (this in opts) {\n                        throw new Error(\"Option '\" + this + \"' is not allowed for Select2 when attached to a <select> element.\");\n                    }\n                });\n            }\n\n            opts = $.extend({}, {\n                populateResults: function(container, results, query) {\n                    var populate, id=this.opts.id;\n\n                    populate=function(results, container, depth) {\n\n                        var i, l, result, selectable, disabled, compound, node, label, innerContainer, formatted;\n\n                        results = opts.sortResults(results, container, query);\n\n                        for (i = 0, l = results.length; i < l; i = i + 1) {\n\n                            result=results[i];\n\n                            disabled = (result.disabled === true);\n                            selectable = (!disabled) && (id(result) !== undefined);\n\n                            compound=result.children && result.children.length > 0;\n\n                            node=$(\"<li></li>\");\n                            node.addClass(\"select2-results-dept-\"+depth);\n                            node.addClass(\"select2-result\");\n                            node.addClass(selectable ? \"select2-result-selectable\" : \"select2-result-unselectable\");\n                            if (disabled) { node.addClass(\"select2-disabled\"); }\n                            if (compound) { node.addClass(\"select2-result-with-children\"); }\n                            node.addClass(self.opts.formatResultCssClass(result));\n\n                            label=$(document.createElement(\"div\"));\n                            label.addClass(\"select2-result-label\");\n\n                            formatted=opts.formatResult(result, label, query, self.opts.escapeMarkup);\n                            if (formatted!==undefined) {\n                                label.html(formatted);\n                            }\n\n                            node.append(label);\n\n                            if (compound) {\n\n                                innerContainer=$(\"<ul></ul>\");\n                                innerContainer.addClass(\"select2-result-sub\");\n                                populate(result.children, innerContainer, depth+1);\n                                node.append(innerContainer);\n                            }\n\n                            node.data(\"select2-data\", result);\n                            container.append(node);\n                        }\n                    };\n\n                    populate(results, container, 0);\n                }\n            }, $.fn.select2.defaults, opts);\n\n            if (typeof(opts.id) !== \"function\") {\n                idKey = opts.id;\n                opts.id = function (e) { return e[idKey]; };\n            }\n\n            if ($.isArray(opts.element.data(\"select2Tags\"))) {\n                if (\"tags\" in opts) {\n                    throw \"tags specified as both an attribute 'data-select2-tags' and in options of Select2 \" + opts.element.attr(\"id\");\n                }\n                opts.tags=opts.element.data(\"select2Tags\");\n            }\n\n            if (select) {\n                opts.query = this.bind(function (query) {\n                    var data = { results: [], more: false },\n                        term = query.term,\n                        children, placeholderOption, process;\n\n                    process=function(element, collection) {\n                        var group;\n                        if (element.is(\"option\")) {\n                            if (query.matcher(term, element.text(), element)) {\n                                collection.push(self.optionToData(element));\n                            }\n                        } else if (element.is(\"optgroup\")) {\n                            group=self.optionToData(element);\n                            element.children().each2(function(i, elm) { process(elm, group.children); });\n                            if (group.children.length>0) {\n                                collection.push(group);\n                            }\n                        }\n                    };\n\n                    children=element.children();\n\n                    // ignore the placeholder option if there is one\n                    if (this.getPlaceholder() !== undefined && children.length > 0) {\n                        placeholderOption = this.getPlaceholderOption();\n                        if (placeholderOption) {\n                            children=children.not(placeholderOption);\n                        }\n                    }\n\n                    children.each2(function(i, elm) { process(elm, data.results); });\n\n                    query.callback(data);\n                });\n                // this is needed because inside val() we construct choices from options and there id is hardcoded\n                opts.id=function(e) { return e.id; };\n                opts.formatResultCssClass = function(data) { return data.css; };\n            } else {\n                if (!(\"query\" in opts)) {\n\n                    if (\"ajax\" in opts) {\n                        ajaxUrl = opts.element.data(\"ajax-url\");\n                        if (ajaxUrl && ajaxUrl.length > 0) {\n                            opts.ajax.url = ajaxUrl;\n                        }\n                        opts.query = ajax.call(opts.element, opts.ajax);\n                    } else if (\"data\" in opts) {\n                        opts.query = local(opts.data);\n                    } else if (\"tags\" in opts) {\n                        opts.query = tags(opts.tags);\n                        if (opts.createSearchChoice === undefined) {\n                            opts.createSearchChoice = function (term) { return {id: $.trim(term), text: $.trim(term)}; };\n                        }\n                        if (opts.initSelection === undefined) {\n                            opts.initSelection = function (element, callback) {\n                                var data = [];\n                                $(splitVal(element.val(), opts.separator)).each(function () {\n                                    var obj = { id: this, text: this },\n                                        tags = opts.tags;\n                                    if ($.isFunction(tags)) tags=tags();\n                                    $(tags).each(function() { if (equal(this.id, obj.id)) { obj = this; return false; } });\n                                    data.push(obj);\n                                });\n\n                                callback(data);\n                            };\n                        }\n                    }\n                }\n            }\n            if (typeof(opts.query) !== \"function\") {\n                throw \"query function not defined for Select2 \" + opts.element.attr(\"id\");\n            }\n\n            return opts;\n        },\n\n        /**\n         * Monitor the original element for changes and update select2 accordingly\n         */\n        // abstract\n        monitorSource: function () {\n            var el = this.opts.element, sync, observer;\n\n            el.on(\"change.select2\", this.bind(function (e) {\n                if (this.opts.element.data(\"select2-change-triggered\") !== true) {\n                    this.initSelection();\n                }\n            }));\n\n            sync = this.bind(function () {\n\n                // sync enabled state\n                var disabled = el.prop(\"disabled\");\n                if (disabled === undefined) disabled = false;\n                this.enable(!disabled);\n\n                var readonly = el.prop(\"readonly\");\n                if (readonly === undefined) readonly = false;\n                this.readonly(readonly);\n\n                syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);\n                this.container.addClass(evaluate(this.opts.containerCssClass));\n\n                syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);\n                this.dropdown.addClass(evaluate(this.opts.dropdownCssClass));\n\n            });\n\n            // IE8-10\n            el.on(\"propertychange.select2\", sync);\n\n            // hold onto a reference of the callback to work around a chromium bug\n            if (this.mutationCallback === undefined) {\n                this.mutationCallback = function (mutations) {\n                    mutations.forEach(sync);\n                }\n            }\n\n            // safari, chrome, firefox, IE11\n            observer = window.MutationObserver || window.WebKitMutationObserver|| window.MozMutationObserver;\n            if (observer !== undefined) {\n                if (this.propertyObserver) { delete this.propertyObserver; this.propertyObserver = null; }\n                this.propertyObserver = new observer(this.mutationCallback);\n                this.propertyObserver.observe(el.get(0), { attributes:true, subtree:false });\n            }\n        },\n\n        // abstract\n        triggerSelect: function(data) {\n            var evt = $.Event(\"select2-selecting\", { val: this.id(data), object: data });\n            this.opts.element.trigger(evt);\n            return !evt.isDefaultPrevented();\n        },\n\n        /**\n         * Triggers the change event on the source element\n         */\n        // abstract\n        triggerChange: function (details) {\n\n            details = details || {};\n            details= $.extend({}, details, { type: \"change\", val: this.val() });\n            // prevents recursive triggering\n            this.opts.element.data(\"select2-change-triggered\", true);\n            this.opts.element.trigger(details);\n            this.opts.element.data(\"select2-change-triggered\", false);\n\n            // some validation frameworks ignore the change event and listen instead to keyup, click for selects\n            // so here we trigger the click event manually\n            this.opts.element.click();\n\n            // ValidationEngine ignorea the change event and listens instead to blur\n            // so here we trigger the blur event manually if so desired\n            if (this.opts.blurOnChange)\n                this.opts.element.blur();\n        },\n\n        //abstract\n        isInterfaceEnabled: function()\n        {\n            return this.enabledInterface === true;\n        },\n\n        // abstract\n        enableInterface: function() {\n            var enabled = this._enabled && !this._readonly,\n                disabled = !enabled;\n\n            if (enabled === this.enabledInterface) return false;\n\n            this.container.toggleClass(\"select2-container-disabled\", disabled);\n            this.close();\n            this.enabledInterface = enabled;\n\n            return true;\n        },\n\n        // abstract\n        enable: function(enabled) {\n            if (enabled === undefined) enabled = true;\n            if (this._enabled === enabled) return;\n            this._enabled = enabled;\n\n            this.opts.element.prop(\"disabled\", !enabled);\n            this.enableInterface();\n        },\n\n        // abstract\n        disable: function() {\n            this.enable(false);\n        },\n\n        // abstract\n        readonly: function(enabled) {\n            if (enabled === undefined) enabled = false;\n            if (this._readonly === enabled) return false;\n            this._readonly = enabled;\n\n            this.opts.element.prop(\"readonly\", enabled);\n            this.enableInterface();\n            return true;\n        },\n\n        // abstract\n        opened: function () {\n            return this.container.hasClass(\"select2-dropdown-open\");\n        },\n\n        // abstract\n        positionDropdown: function() {\n            var $dropdown = this.dropdown,\n                offset = this.container.offset(),\n                height = this.container.outerHeight(false),\n                width = this.container.outerWidth(false),\n                dropHeight = $dropdown.outerHeight(false),\n                $window = $(window),\n                windowWidth = $window.width(),\n                windowHeight = $window.height(),\n                viewPortRight = $window.scrollLeft() + windowWidth,\n                viewportBottom = $window.scrollTop() + windowHeight,\n                dropTop = offset.top + height,\n                dropLeft = offset.left,\n                enoughRoomBelow = dropTop + dropHeight <= viewportBottom,\n                enoughRoomAbove = (offset.top - dropHeight) >= this.body().scrollTop(),\n                dropWidth = $dropdown.outerWidth(false),\n                enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight,\n                aboveNow = $dropdown.hasClass(\"select2-drop-above\"),\n                bodyOffset,\n                above,\n                changeDirection,\n                css,\n                resultsListNode;\n\n            // always prefer the current above/below alignment, unless there is not enough room\n            if (aboveNow) {\n                above = true;\n                if (!enoughRoomAbove && enoughRoomBelow) {\n                    changeDirection = true;\n                    above = false;\n                }\n            } else {\n                above = false;\n                if (!enoughRoomBelow && enoughRoomAbove) {\n                    changeDirection = true;\n                    above = true;\n                }\n            }\n\n            //if we are changing direction we need to get positions when dropdown is hidden;\n            if (changeDirection) {\n                $dropdown.hide();\n                offset = this.container.offset();\n                height = this.container.outerHeight(false);\n                width = this.container.outerWidth(false);\n                dropHeight = $dropdown.outerHeight(false);\n                viewPortRight = $window.scrollLeft() + windowWidth;\n                viewportBottom = $window.scrollTop() + windowHeight;\n                dropTop = offset.top + height;\n                dropLeft = offset.left;\n                dropWidth = $dropdown.outerWidth(false);\n                enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight;\n                $dropdown.show();\n            }\n\n            if (this.opts.dropdownAutoWidth) {\n                resultsListNode = $('.select2-results', $dropdown)[0];\n                $dropdown.addClass('select2-drop-auto-width');\n                $dropdown.css('width', '');\n                // Add scrollbar width to dropdown if vertical scrollbar is present\n                dropWidth = $dropdown.outerWidth(false) + (resultsListNode.scrollHeight === resultsListNode.clientHeight ? 0 : scrollBarDimensions.width);\n                dropWidth > width ? width = dropWidth : dropWidth = width;\n                enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight;\n            }\n            else {\n                this.container.removeClass('select2-drop-auto-width');\n            }\n\n            //console.log(\"below/ droptop:\", dropTop, \"dropHeight\", dropHeight, \"sum\", (dropTop+dropHeight)+\" viewport bottom\", viewportBottom, \"enough?\", enoughRoomBelow);\n            //console.log(\"above/ offset.top\", offset.top, \"dropHeight\", dropHeight, \"top\", (offset.top-dropHeight), \"scrollTop\", this.body().scrollTop(), \"enough?\", enoughRoomAbove);\n\n            // fix positioning when body has an offset and is not position: static\n            if (this.body().css('position') !== 'static') {\n                bodyOffset = this.body().offset();\n                dropTop -= bodyOffset.top;\n                dropLeft -= bodyOffset.left;\n            }\n\n            if (!enoughRoomOnRight) {\n                dropLeft = offset.left + width - dropWidth;\n            }\n\n            css =  {\n                left: dropLeft,\n                width: width\n            };\n\n            if (above) {\n                css.bottom = windowHeight - offset.top;\n                css.top = 'auto';\n                this.container.addClass(\"select2-drop-above\");\n                $dropdown.addClass(\"select2-drop-above\");\n            }\n            else {\n                css.top = dropTop;\n                css.bottom = 'auto';\n                this.container.removeClass(\"select2-drop-above\");\n                $dropdown.removeClass(\"select2-drop-above\");\n            }\n            css = $.extend(css, evaluate(this.opts.dropdownCss));\n\n            $dropdown.css(css);\n        },\n\n        // abstract\n        shouldOpen: function() {\n            var event;\n\n            if (this.opened()) return false;\n\n            if (this._enabled === false || this._readonly === true) return false;\n\n            event = $.Event(\"select2-opening\");\n            this.opts.element.trigger(event);\n            return !event.isDefaultPrevented();\n        },\n\n        // abstract\n        clearDropdownAlignmentPreference: function() {\n            // clear the classes used to figure out the preference of where the dropdown should be opened\n            this.container.removeClass(\"select2-drop-above\");\n            this.dropdown.removeClass(\"select2-drop-above\");\n        },\n\n        /**\n         * Opens the dropdown\n         *\n         * @return {Boolean} whether or not dropdown was opened. This method will return false if, for example,\n         * the dropdown is already open, or if the 'open' event listener on the element called preventDefault().\n         */\n        // abstract\n        open: function () {\n\n            if (!this.shouldOpen()) return false;\n\n            this.opening();\n\n            return true;\n        },\n\n        /**\n         * Performs the opening of the dropdown\n         */\n        // abstract\n        opening: function() {\n            var cid = this.containerId,\n                scroll = \"scroll.\" + cid,\n                resize = \"resize.\"+cid,\n                orient = \"orientationchange.\"+cid,\n                mask;\n\n            this.container.addClass(\"select2-dropdown-open\").addClass(\"select2-container-active\");\n\n            this.clearDropdownAlignmentPreference();\n\n            if(this.dropdown[0] !== this.body().children().last()[0]) {\n                this.dropdown.detach().appendTo(this.body());\n            }\n\n            // create the dropdown mask if doesnt already exist\n            mask = $(\"#select2-drop-mask\");\n            if (mask.length == 0) {\n                mask = $(document.createElement(\"div\"));\n                mask.attr(\"id\",\"select2-drop-mask\").attr(\"class\",\"select2-drop-mask\");\n                mask.hide();\n                mask.appendTo(this.body());\n                mask.on(\"mousedown touchstart click\", function (e) {\n                    var dropdown = $(\"#select2-drop\"), self;\n                    if (dropdown.length > 0) {\n                        self=dropdown.data(\"select2\");\n                        if (self.opts.selectOnBlur) {\n                            self.selectHighlighted({noFocus: true});\n                        }\n                        self.close({focus:true});\n                        e.preventDefault();\n                        e.stopPropagation();\n                    }\n                });\n            }\n\n            // ensure the mask is always right before the dropdown\n            if (this.dropdown.prev()[0] !== mask[0]) {\n                this.dropdown.before(mask);\n            }\n\n            // move the global id to the correct dropdown\n            $(\"#select2-drop\").removeAttr(\"id\");\n            this.dropdown.attr(\"id\", \"select2-drop\");\n\n            // show the elements\n            mask.show();\n\n            this.positionDropdown();\n            this.dropdown.show();\n            this.positionDropdown();\n\n            this.dropdown.addClass(\"select2-drop-active\");\n\n            // attach listeners to events that can change the position of the container and thus require\n            // the position of the dropdown to be updated as well so it does not come unglued from the container\n            var that = this;\n            this.container.parents().add(window).each(function () {\n                $(this).on(resize+\" \"+scroll+\" \"+orient, function (e) {\n                    that.positionDropdown();\n                });\n            });\n\n\n        },\n\n        // abstract\n        close: function () {\n            if (!this.opened()) return;\n\n            var cid = this.containerId,\n                scroll = \"scroll.\" + cid,\n                resize = \"resize.\"+cid,\n                orient = \"orientationchange.\"+cid;\n\n            // unbind event listeners\n            this.container.parents().add(window).each(function () { $(this).off(scroll).off(resize).off(orient); });\n\n            this.clearDropdownAlignmentPreference();\n\n            $(\"#select2-drop-mask\").hide();\n            this.dropdown.removeAttr(\"id\"); // only the active dropdown has the select2-drop id\n            this.dropdown.hide();\n            this.container.removeClass(\"select2-dropdown-open\").removeClass(\"select2-container-active\");\n            this.results.empty();\n\n\n            this.clearSearch();\n            this.search.removeClass(\"select2-active\");\n            this.opts.element.trigger($.Event(\"select2-close\"));\n        },\n\n        /**\n         * Opens control, sets input value, and updates results.\n         */\n        // abstract\n        externalSearch: function (term) {\n            this.open();\n            this.search.val(term);\n            this.updateResults(false);\n        },\n\n        // abstract\n        clearSearch: function () {\n\n        },\n\n        //abstract\n        getMaximumSelectionSize: function() {\n            return evaluate(this.opts.maximumSelectionSize);\n        },\n\n        // abstract\n        ensureHighlightVisible: function () {\n            var results = this.results, children, index, child, hb, rb, y, more;\n\n            index = this.highlight();\n\n            if (index < 0) return;\n\n            if (index == 0) {\n\n                // if the first element is highlighted scroll all the way to the top,\n                // that way any unselectable headers above it will also be scrolled\n                // into view\n\n                results.scrollTop(0);\n                return;\n            }\n\n            children = this.findHighlightableChoices().find('.select2-result-label');\n\n            child = $(children[index]);\n\n            hb = child.offset().top + child.outerHeight(true);\n\n            // if this is the last child lets also make sure select2-more-results is visible\n            if (index === children.length - 1) {\n                more = results.find(\"li.select2-more-results\");\n                if (more.length > 0) {\n                    hb = more.offset().top + more.outerHeight(true);\n                }\n            }\n\n            rb = results.offset().top + results.outerHeight(true);\n            if (hb > rb) {\n                results.scrollTop(results.scrollTop() + (hb - rb));\n            }\n            y = child.offset().top - results.offset().top;\n\n            // make sure the top of the element is visible\n            if (y < 0 && child.css('display') != 'none' ) {\n                results.scrollTop(results.scrollTop() + y); // y is negative\n            }\n        },\n\n        // abstract\n        findHighlightableChoices: function() {\n            return this.results.find(\".select2-result-selectable:not(.select2-disabled, .select2-selected)\");\n        },\n\n        // abstract\n        moveHighlight: function (delta) {\n            var choices = this.findHighlightableChoices(),\n                index = this.highlight();\n\n            while (index > -1 && index < choices.length) {\n                index += delta;\n                var choice = $(choices[index]);\n                if (choice.hasClass(\"select2-result-selectable\") && !choice.hasClass(\"select2-disabled\") && !choice.hasClass(\"select2-selected\")) {\n                    this.highlight(index);\n                    break;\n                }\n            }\n        },\n\n        // abstract\n        highlight: function (index) {\n            var choices = this.findHighlightableChoices(),\n                choice,\n                data;\n\n            if (arguments.length === 0) {\n                return indexOf(choices.filter(\".select2-highlighted\")[0], choices.get());\n            }\n\n            if (index >= choices.length) index = choices.length - 1;\n            if (index < 0) index = 0;\n\n            this.removeHighlight();\n\n            choice = $(choices[index]);\n            choice.addClass(\"select2-highlighted\");\n\n            this.ensureHighlightVisible();\n\n            data = choice.data(\"select2-data\");\n            if (data) {\n                this.opts.element.trigger({ type: \"select2-highlight\", val: this.id(data), choice: data });\n            }\n        },\n\n        removeHighlight: function() {\n            this.results.find(\".select2-highlighted\").removeClass(\"select2-highlighted\");\n        },\n\n        // abstract\n        countSelectableResults: function() {\n            return this.findHighlightableChoices().length;\n        },\n\n        // abstract\n        highlightUnderEvent: function (event) {\n            var el = $(event.target).closest(\".select2-result-selectable\");\n            if (el.length > 0 && !el.is(\".select2-highlighted\")) {\n                var choices = this.findHighlightableChoices();\n                this.highlight(choices.index(el));\n            } else if (el.length == 0) {\n                // if we are over an unselectable item remove all highlights\n                this.removeHighlight();\n            }\n        },\n\n        // abstract\n        loadMoreIfNeeded: function () {\n            var results = this.results,\n                more = results.find(\"li.select2-more-results\"),\n                below, // pixels the element is below the scroll fold, below==0 is when the element is starting to be visible\n                page = this.resultsPage + 1,\n                self=this,\n                term=this.search.val(),\n                context=this.context;\n\n            if (more.length === 0) return;\n            below = more.offset().top - results.offset().top - results.height();\n\n            if (below <= this.opts.loadMorePadding) {\n                more.addClass(\"select2-active\");\n                this.opts.query({\n                    element: this.opts.element,\n                    term: term,\n                    page: page,\n                    context: context,\n                    matcher: this.opts.matcher,\n                    callback: this.bind(function (data) {\n\n                        // ignore a response if the select2 has been closed before it was received\n                        if (!self.opened()) return;\n\n\n                        self.opts.populateResults.call(this, results, data.results, {term: term, page: page, context:context});\n                        self.postprocessResults(data, false, false);\n\n                        if (data.more===true) {\n                            more.detach().appendTo(results).text(self.opts.formatLoadMore(page+1));\n                            window.setTimeout(function() { self.loadMoreIfNeeded(); }, 10);\n                        } else {\n                            more.remove();\n                        }\n                        self.positionDropdown();\n                        self.resultsPage = page;\n                        self.context = data.context;\n                        this.opts.element.trigger({ type: \"select2-loaded\", items: data });\n                    })});\n            }\n        },\n\n        /**\n         * Default tokenizer function which does nothing\n         */\n        tokenize: function() {\n\n        },\n\n        /**\n         * @param initial whether or not this is the call to this method right after the dropdown has been opened\n         */\n        // abstract\n        updateResults: function (initial) {\n            var search = this.search,\n                results = this.results,\n                opts = this.opts,\n                data,\n                self = this,\n                input,\n                term = search.val(),\n                lastTerm = $.data(this.container, \"select2-last-term\"),\n            // sequence number used to drop out-of-order responses\n                queryNumber;\n\n            // prevent duplicate queries against the same term\n            if (initial !== true && lastTerm && equal(term, lastTerm)) return;\n\n            $.data(this.container, \"select2-last-term\", term);\n\n            // if the search is currently hidden we do not alter the results\n            if (initial !== true && (this.showSearchInput === false || !this.opened())) {\n                return;\n            }\n\n            function postRender() {\n                search.removeClass(\"select2-active\");\n                self.positionDropdown();\n            }\n\n            function render(html) {\n                results.html(html);\n                postRender();\n            }\n\n            queryNumber = ++this.queryCount;\n\n            var maxSelSize = this.getMaximumSelectionSize();\n            if (maxSelSize >=1) {\n                data = this.data();\n                if ($.isArray(data) && data.length >= maxSelSize && checkFormatter(opts.formatSelectionTooBig, \"formatSelectionTooBig\")) {\n                    render(\"<li class='select2-selection-limit'>\" + opts.formatSelectionTooBig(maxSelSize) + \"</li>\");\n                    return;\n                }\n            }\n\n            if (search.val().length < opts.minimumInputLength) {\n                if (checkFormatter(opts.formatInputTooShort, \"formatInputTooShort\")) {\n                    render(\"<li class='select2-no-results'>\" + opts.formatInputTooShort(search.val(), opts.minimumInputLength) + \"</li>\");\n                } else {\n                    render(\"\");\n                }\n                if (initial && this.showSearch) this.showSearch(true);\n                return;\n            }\n\n            if (opts.maximumInputLength && search.val().length > opts.maximumInputLength) {\n                if (checkFormatter(opts.formatInputTooLong, \"formatInputTooLong\")) {\n                    render(\"<li class='select2-no-results'>\" + opts.formatInputTooLong(search.val(), opts.maximumInputLength) + \"</li>\");\n                } else {\n                    render(\"\");\n                }\n                return;\n            }\n\n            if (opts.formatSearching && this.findHighlightableChoices().length === 0) {\n                render(\"<li class='select2-searching'>\" + opts.formatSearching() + \"</li>\");\n            }\n\n            search.addClass(\"select2-active\");\n\n            this.removeHighlight();\n\n            // give the tokenizer a chance to pre-process the input\n            input = this.tokenize();\n            if (input != undefined && input != null) {\n                search.val(input);\n            }\n\n            this.resultsPage = 1;\n\n            opts.query({\n                element: opts.element,\n                term: search.val(),\n                page: this.resultsPage,\n                context: null,\n                matcher: opts.matcher,\n                callback: this.bind(function (data) {\n                    var def; // default choice\n\n                    // ignore old responses\n                    if (queryNumber != this.queryCount) {\n                        return;\n                    }\n\n                    // ignore a response if the select2 has been closed before it was received\n                    if (!this.opened()) {\n                        this.search.removeClass(\"select2-active\");\n                        return;\n                    }\n\n                    // save context, if any\n                    this.context = (data.context===undefined) ? null : data.context;\n                    // create a default choice and prepend it to the list\n                    if (this.opts.createSearchChoice && search.val() !== \"\") {\n                        def = this.opts.createSearchChoice.call(self, search.val(), data.results);\n                        if (def !== undefined && def !== null && self.id(def) !== undefined && self.id(def) !== null) {\n                            if ($(data.results).filter(\n                                function () {\n                                    return equal(self.id(this), self.id(def));\n                                }).length === 0) {\n                                data.results.unshift(def);\n                            }\n                        }\n                    }\n\n                    if (data.results.length === 0 && checkFormatter(opts.formatNoMatches, \"formatNoMatches\")) {\n                        render(\"<li class='select2-no-results'>\" + opts.formatNoMatches(search.val()) + \"</li>\");\n                        return;\n                    }\n\n                    results.empty();\n                    self.opts.populateResults.call(this, results, data.results, {term: search.val(), page: this.resultsPage, context:null});\n\n                    if (data.more === true && checkFormatter(opts.formatLoadMore, \"formatLoadMore\")) {\n                        results.append(\"<li class='select2-more-results'>\" + self.opts.escapeMarkup(opts.formatLoadMore(this.resultsPage)) + \"</li>\");\n                        window.setTimeout(function() { self.loadMoreIfNeeded(); }, 10);\n                    }\n\n                    this.postprocessResults(data, initial);\n\n                    postRender();\n\n                    this.opts.element.trigger({ type: \"select2-loaded\", items: data });\n                })});\n        },\n\n        // abstract\n        cancel: function () {\n            this.close();\n        },\n\n        // abstract\n        blur: function () {\n            // if selectOnBlur == true, select the currently highlighted option\n            if (this.opts.selectOnBlur)\n                this.selectHighlighted({noFocus: true});\n\n            this.close();\n            this.container.removeClass(\"select2-container-active\");\n            // synonymous to .is(':focus'), which is available in jquery >= 1.6\n            if (this.search[0] === document.activeElement) { this.search.blur(); }\n            this.clearSearch();\n            this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n        },\n\n        // abstract\n        focusSearch: function () {\n            focus(this.search);\n        },\n\n        // abstract\n        selectHighlighted: function (options) {\n            var index=this.highlight(),\n                highlighted=this.results.find(\".select2-highlighted\"),\n                data = highlighted.closest('.select2-result').data(\"select2-data\");\n\n            if (data) {\n                this.highlight(index);\n                this.onSelect(data, options);\n            } else if (options && options.noFocus) {\n                this.close();\n            }\n        },\n\n        // abstract\n        getPlaceholder: function () {\n            var placeholderOption;\n            return this.opts.element.attr(\"placeholder\") ||\n                this.opts.element.attr(\"data-placeholder\") || // jquery 1.4 compat\n                this.opts.element.data(\"placeholder\") ||\n                this.opts.placeholder ||\n                ((placeholderOption = this.getPlaceholderOption()) !== undefined ? placeholderOption.text() : undefined);\n        },\n\n        // abstract\n        getPlaceholderOption: function() {\n            if (this.select) {\n                var firstOption = this.select.children('option').first();\n                if (this.opts.placeholderOption !== undefined ) {\n                    //Determine the placeholder option based on the specified placeholderOption setting\n                    return (this.opts.placeholderOption === \"first\" && firstOption) ||\n                        (typeof this.opts.placeholderOption === \"function\" && this.opts.placeholderOption(this.select));\n                } else if (firstOption.text() === \"\" && firstOption.val() === \"\") {\n                    //No explicit placeholder option specified, use the first if it's blank\n                    return firstOption;\n                }\n            }\n        },\n\n        /**\n         * Get the desired width for the container element.  This is\n         * derived first from option `width` passed to select2, then\n         * the inline 'style' on the original element, and finally\n         * falls back to the jQuery calculated element width.\n         */\n        // abstract\n        initContainerWidth: function () {\n            function resolveContainerWidth() {\n                var style, attrs, matches, i, l, attr;\n\n                if (this.opts.width === \"off\") {\n                    return null;\n                } else if (this.opts.width === \"element\"){\n                    return this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px';\n                } else if (this.opts.width === \"copy\" || this.opts.width === \"resolve\") {\n                    // check if there is inline style on the element that contains width\n                    style = this.opts.element.attr('style');\n                    if (style !== undefined) {\n                        attrs = style.split(';');\n                        for (i = 0, l = attrs.length; i < l; i = i + 1) {\n                            attr = attrs[i].replace(/\\s/g, '');\n                            matches = attr.match(/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);\n                            if (matches !== null && matches.length >= 1)\n                                return matches[1];\n                        }\n                    }\n\n                    if (this.opts.width === \"resolve\") {\n                        // next check if css('width') can resolve a width that is percent based, this is sometimes possible\n                        // when attached to input type=hidden or elements hidden via css\n                        style = this.opts.element.css('width');\n                        if (style.indexOf(\"%\") > 0) return style;\n\n                        // finally, fallback on the calculated width of the element\n                        return (this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px');\n                    }\n\n                    return null;\n                } else if ($.isFunction(this.opts.width)) {\n                    return this.opts.width();\n                } else {\n                    return this.opts.width;\n                }\n            };\n\n            var width = resolveContainerWidth.call(this);\n            if (width !== null) {\n                this.container.css(\"width\", width);\n            }\n        }\n    });\n\n    SingleSelect2 = clazz(AbstractSelect2, {\n\n        // single\n\n        createContainer: function () {\n            var container = $(document.createElement(\"div\")).attr({\n                \"class\": \"select2-container\"\n            }).html([\n                    \"<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>\",\n                    \"   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>\",\n                    \"   <span class='select2-arrow'><b></b></span>\",\n                    \"</a>\",\n                    \"<input class='select2-focusser select2-offscreen' type='text'/>\",\n                    \"<div class='select2-drop select2-display-none'>\",\n                    \"   <div class='select2-search'>\",\n                    \"       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>\",\n                    \"   </div>\",\n                    \"   <ul class='select2-results'>\",\n                    \"   </ul>\",\n                    \"</div>\"].join(\"\"));\n            return container;\n        },\n\n        // single\n        enableInterface: function() {\n            if (this.parent.enableInterface.apply(this, arguments)) {\n                this.focusser.prop(\"disabled\", !this.isInterfaceEnabled());\n            }\n        },\n\n        // single\n        opening: function () {\n            var el, range, len;\n\n            if (this.opts.minimumResultsForSearch >= 0) {\n                this.showSearch(true);\n            }\n\n            this.parent.opening.apply(this, arguments);\n\n            if (this.showSearchInput !== false) {\n                // IE appends focusser.val() at the end of field :/ so we manually insert it at the beginning using a range\n                // all other browsers handle this just fine\n\n                this.search.val(this.focusser.val());\n            }\n            this.search.focus();\n            // move the cursor to the end after focussing, otherwise it will be at the beginning and\n            // new text will appear *before* focusser.val()\n            el = this.search.get(0);\n            if (el.createTextRange) {\n                range = el.createTextRange();\n                range.collapse(false);\n                range.select();\n            } else if (el.setSelectionRange) {\n                len = this.search.val().length;\n                el.setSelectionRange(len, len);\n            }\n\n            // initializes search's value with nextSearchTerm (if defined by user)\n            // ignore nextSearchTerm if the dropdown is opened by the user pressing a letter\n            if(this.search.val() === \"\") {\n                if(this.nextSearchTerm != undefined){\n                    this.search.val(this.nextSearchTerm);\n                    this.search.select();\n                }\n            }\n\n            this.focusser.prop(\"disabled\", true).val(\"\");\n            this.updateResults(true);\n            this.opts.element.trigger($.Event(\"select2-open\"));\n        },\n\n        // single\n        close: function (params) {\n            if (!this.opened()) return;\n            this.parent.close.apply(this, arguments);\n\n            params = params || {focus: true};\n            this.focusser.removeAttr(\"disabled\");\n\n            if (params.focus) {\n                this.focusser.focus();\n            }\n        },\n\n        // single\n        focus: function () {\n            if (this.opened()) {\n                this.close();\n            } else {\n                this.focusser.removeAttr(\"disabled\");\n                this.focusser.focus();\n            }\n        },\n\n        // single\n        isFocused: function () {\n            return this.container.hasClass(\"select2-container-active\");\n        },\n\n        // single\n        cancel: function () {\n            this.parent.cancel.apply(this, arguments);\n            this.focusser.removeAttr(\"disabled\");\n            this.focusser.focus();\n        },\n\n        // single\n        destroy: function() {\n            $(\"label[for='\" + this.focusser.attr('id') + \"']\")\n                .attr('for', this.opts.element.attr(\"id\"));\n            this.parent.destroy.apply(this, arguments);\n        },\n\n        // single\n        initContainer: function () {\n\n            var selection,\n                container = this.container,\n                dropdown = this.dropdown;\n\n            if (this.opts.minimumResultsForSearch < 0) {\n                this.showSearch(false);\n            } else {\n                this.showSearch(true);\n            }\n\n            this.selection = selection = container.find(\".select2-choice\");\n\n            this.focusser = container.find(\".select2-focusser\");\n\n            // rewrite labels from original element to focusser\n            this.focusser.attr(\"id\", \"s2id_autogen\"+nextUid());\n\n            $(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\")\n                .attr('for', this.focusser.attr('id'));\n\n            this.focusser.attr(\"tabindex\", this.elementTabIndex);\n\n            this.search.on(\"keydown\", this.bind(function (e) {\n                if (!this.isInterfaceEnabled()) return;\n\n                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                    // prevent the page from scrolling\n                    killEvent(e);\n                    return;\n                }\n\n                switch (e.which) {\n                    case KEY.UP:\n                    case KEY.DOWN:\n                        this.moveHighlight((e.which === KEY.UP) ? -1 : 1);\n                        killEvent(e);\n                        return;\n                    case KEY.ENTER:\n                        this.selectHighlighted();\n                        killEvent(e);\n                        return;\n                    case KEY.TAB:\n                        this.selectHighlighted({noFocus: true});\n                        return;\n                    case KEY.ESC:\n                        this.cancel(e);\n                        killEvent(e);\n                        return;\n                }\n            }));\n\n            this.search.on(\"blur\", this.bind(function(e) {\n                // a workaround for chrome to keep the search field focussed when the scroll bar is used to scroll the dropdown.\n                // without this the search field loses focus which is annoying\n                if (document.activeElement === this.body().get(0)) {\n                    window.setTimeout(this.bind(function() {\n                        this.search.focus();\n                    }), 0);\n                }\n            }));\n\n            this.focusser.on(\"keydown\", this.bind(function (e) {\n                if (!this.isInterfaceEnabled()) return;\n\n                if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {\n                    return;\n                }\n\n                if (this.opts.openOnEnter === false && e.which === KEY.ENTER) {\n                    killEvent(e);\n                    return;\n                }\n\n                if (e.which == KEY.DOWN || e.which == KEY.UP\n                    || (e.which == KEY.ENTER && this.opts.openOnEnter)) {\n\n                    if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) return;\n\n                    this.open();\n                    killEvent(e);\n                    return;\n                }\n\n                if (e.which == KEY.DELETE || e.which == KEY.BACKSPACE) {\n                    if (this.opts.allowClear) {\n                        this.clear();\n                    }\n                    killEvent(e);\n                    return;\n                }\n            }));\n\n\n            installKeyUpChangeEvent(this.focusser);\n            this.focusser.on(\"keyup-change input\", this.bind(function(e) {\n                if (this.opts.minimumResultsForSearch >= 0) {\n                    e.stopPropagation();\n                    if (this.opened()) return;\n                    this.open();\n                }\n            }));\n\n            selection.on(\"mousedown\", \"abbr\", this.bind(function (e) {\n                if (!this.isInterfaceEnabled()) return;\n                this.clear();\n                killEventImmediately(e);\n                this.close();\n                this.selection.focus();\n            }));\n\n            selection.on(\"mousedown\", this.bind(function (e) {\n\n                if (!this.container.hasClass(\"select2-container-active\")) {\n                    this.opts.element.trigger($.Event(\"select2-focus\"));\n                }\n\n                if (this.opened()) {\n                    this.close();\n                } else if (this.isInterfaceEnabled()) {\n                    this.open();\n                }\n\n                killEvent(e);\n            }));\n\n            dropdown.on(\"mousedown\", this.bind(function() { this.search.focus(); }));\n\n            selection.on(\"focus\", this.bind(function(e) {\n                killEvent(e);\n            }));\n\n            this.focusser.on(\"focus\", this.bind(function(){\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    this.container.addClass(\"select2-container-active\");\n                })).on(\"blur\", this.bind(function() {\n                    if (!this.opened()) {\n                        this.container.removeClass(\"select2-container-active\");\n                        this.opts.element.trigger($.Event(\"select2-blur\"));\n                    }\n                }));\n            this.search.on(\"focus\", this.bind(function(){\n                if (!this.container.hasClass(\"select2-container-active\")) {\n                    this.opts.element.trigger($.Event(\"select2-focus\"));\n                }\n                this.container.addClass(\"select2-container-active\");\n            }));\n\n            this.initContainerWidth();\n            this.opts.element.addClass(\"select2-offscreen\");\n            this.setPlaceholder();\n\n        },\n\n        // single\n        clear: function(triggerChange) {\n            var data=this.selection.data(\"select2-data\");\n            if (data) { // guard against queued quick consecutive clicks\n                var evt = $.Event(\"select2-clearing\");\n                this.opts.element.trigger(evt);\n                if (evt.isDefaultPrevented()) {\n                    return;\n                }\n                var placeholderOption = this.getPlaceholderOption();\n                this.opts.element.val(placeholderOption ? placeholderOption.val() : \"\");\n                this.selection.find(\".select2-chosen\").empty();\n                this.selection.removeData(\"select2-data\");\n                this.setPlaceholder();\n\n                if (triggerChange !== false){\n                    this.opts.element.trigger({ type: \"select2-removed\", val: this.id(data), choice: data });\n                    this.triggerChange({removed:data});\n                }\n            }\n        },\n\n        /**\n         * Sets selection based on source element's value\n         */\n        // single\n        initSelection: function () {\n            var selected;\n            if (this.isPlaceholderOptionSelected()) {\n                this.updateSelection(null);\n                this.close();\n                this.setPlaceholder();\n            } else {\n                var self = this;\n                this.opts.initSelection.call(null, this.opts.element, function(selected){\n                    if (selected !== undefined && selected !== null) {\n                        self.updateSelection(selected);\n                        self.close();\n                        self.setPlaceholder();\n                    }\n                });\n            }\n        },\n\n        isPlaceholderOptionSelected: function() {\n            var placeholderOption;\n            if (!this.getPlaceholder()) return false; // no placeholder specified so no option should be considered\n            return ((placeholderOption = this.getPlaceholderOption()) !== undefined && placeholderOption.prop(\"selected\"))\n                || (this.opts.element.val() === \"\")\n                || (this.opts.element.val() === undefined)\n                || (this.opts.element.val() === null);\n        },\n\n        // single\n        prepareOpts: function () {\n            var opts = this.parent.prepareOpts.apply(this, arguments),\n                self=this;\n\n            if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                // install the selection initializer\n                opts.initSelection = function (element, callback) {\n                    var selected = element.find(\"option\").filter(function() { return this.selected });\n                    // a single select box always has a value, no need to null check 'selected'\n                    callback(self.optionToData(selected));\n                };\n            } else if (\"data\" in opts) {\n                // install default initSelection when applied to hidden input and data is local\n                opts.initSelection = opts.initSelection || function (element, callback) {\n                    var id = element.val();\n                    //search in data by id, storing the actual matching item\n                    var match = null;\n                    opts.query({\n                        matcher: function(term, text, el){\n                            var is_match = equal(id, opts.id(el));\n                            if (is_match) {\n                                match = el;\n                            }\n                            return is_match;\n                        },\n                        callback: !$.isFunction(callback) ? $.noop : function() {\n                            callback(match);\n                        }\n                    });\n                };\n            }\n\n            return opts;\n        },\n\n        // single\n        getPlaceholder: function() {\n            // if a placeholder is specified on a single select without a valid placeholder option ignore it\n            if (this.select) {\n                if (this.getPlaceholderOption() === undefined) {\n                    return undefined;\n                }\n            }\n\n            return this.parent.getPlaceholder.apply(this, arguments);\n        },\n\n        // single\n        setPlaceholder: function () {\n            var placeholder = this.getPlaceholder();\n\n            if (this.isPlaceholderOptionSelected() && placeholder !== undefined) {\n\n                // check for a placeholder option if attached to a select\n                if (this.select && this.getPlaceholderOption() === undefined) return;\n\n                this.selection.find(\".select2-chosen\").html(this.opts.escapeMarkup(placeholder));\n\n                this.selection.addClass(\"select2-default\");\n\n                this.container.removeClass(\"select2-allowclear\");\n            }\n        },\n\n        // single\n        postprocessResults: function (data, initial, noHighlightUpdate) {\n            var selected = 0, self = this, showSearchInput = true;\n\n            // find the selected element in the result list\n\n            this.findHighlightableChoices().each2(function (i, elm) {\n                if (equal(self.id(elm.data(\"select2-data\")), self.opts.element.val())) {\n                    selected = i;\n                    return false;\n                }\n            });\n\n            // and highlight it\n            if (noHighlightUpdate !== false) {\n                if (initial === true && selected >= 0) {\n                    this.highlight(selected);\n                } else {\n                    this.highlight(0);\n                }\n            }\n\n            // hide the search box if this is the first we got the results and there are enough of them for search\n\n            if (initial === true) {\n                var min = this.opts.minimumResultsForSearch;\n                if (min >= 0) {\n                    this.showSearch(countResults(data.results) >= min);\n                }\n            }\n        },\n\n        // single\n        showSearch: function(showSearchInput) {\n            if (this.showSearchInput === showSearchInput) return;\n\n            this.showSearchInput = showSearchInput;\n\n            this.dropdown.find(\".select2-search\").toggleClass(\"select2-search-hidden\", !showSearchInput);\n            this.dropdown.find(\".select2-search\").toggleClass(\"select2-offscreen\", !showSearchInput);\n            //add \"select2-with-searchbox\" to the container if search box is shown\n            $(this.dropdown, this.container).toggleClass(\"select2-with-searchbox\", showSearchInput);\n        },\n\n        // single\n        onSelect: function (data, options) {\n\n            if (!this.triggerSelect(data)) { return; }\n\n            var old = this.opts.element.val(),\n                oldData = this.data();\n\n            this.opts.element.val(this.id(data));\n            this.updateSelection(data);\n\n            this.opts.element.trigger({ type: \"select2-selected\", val: this.id(data), choice: data });\n\n            this.nextSearchTerm = this.opts.nextSearchTerm(data, this.search.val());\n            this.close();\n\n            if (!options || !options.noFocus)\n                this.focusser.focus();\n\n            if (!equal(old, this.id(data))) { this.triggerChange({added:data,removed:oldData}); }\n        },\n\n        // single\n        updateSelection: function (data) {\n\n            var container=this.selection.find(\".select2-chosen\"), formatted, cssClass;\n\n            this.selection.data(\"select2-data\", data);\n\n            container.empty();\n            if (data !== null) {\n                formatted=this.opts.formatSelection(data, container, this.opts.escapeMarkup);\n            }\n            if (formatted !== undefined) {\n                container.append(formatted);\n            }\n            cssClass=this.opts.formatSelectionCssClass(data, container);\n            if (cssClass !== undefined) {\n                container.addClass(cssClass);\n            }\n\n            this.selection.removeClass(\"select2-default\");\n\n            if (this.opts.allowClear && this.getPlaceholder() !== undefined) {\n                this.container.addClass(\"select2-allowclear\");\n            }\n        },\n\n        // single\n        val: function () {\n            var val,\n                triggerChange = false,\n                data = null,\n                self = this,\n                oldData = this.data();\n\n            if (arguments.length === 0) {\n                return this.opts.element.val();\n            }\n\n            val = arguments[0];\n\n            if (arguments.length > 1) {\n                triggerChange = arguments[1];\n            }\n\n            if (this.select) {\n                this.select\n                    .val(val)\n                    .find(\"option\").filter(function() { return this.selected }).each2(function (i, elm) {\n                        data = self.optionToData(elm);\n                        return false;\n                    });\n                this.updateSelection(data);\n                this.setPlaceholder();\n                if (triggerChange) {\n                    this.triggerChange({added: data, removed:oldData});\n                }\n            } else {\n                // val is an id. !val is true for [undefined,null,'',0] - 0 is legal\n                if (!val && val !== 0) {\n                    this.clear(triggerChange);\n                    return;\n                }\n                if (this.opts.initSelection === undefined) {\n                    throw new Error(\"cannot call val() if initSelection() is not defined\");\n                }\n                this.opts.element.val(val);\n                this.opts.initSelection(this.opts.element, function(data){\n                    self.opts.element.val(!data ? \"\" : self.id(data));\n                    self.updateSelection(data);\n                    self.setPlaceholder();\n                    if (triggerChange) {\n                        self.triggerChange({added: data, removed:oldData});\n                    }\n                });\n            }\n        },\n\n        // single\n        clearSearch: function () {\n            this.search.val(\"\");\n            this.focusser.val(\"\");\n        },\n\n        // single\n        data: function(value) {\n            var data,\n                triggerChange = false;\n\n            if (arguments.length === 0) {\n                data = this.selection.data(\"select2-data\");\n                if (data == undefined) data = null;\n                return data;\n            } else {\n                if (arguments.length > 1) {\n                    triggerChange = arguments[1];\n                }\n                if (!value) {\n                    this.clear(triggerChange);\n                } else {\n                    data = this.data();\n                    this.opts.element.val(!value ? \"\" : this.id(value));\n                    this.updateSelection(value);\n                    if (triggerChange) {\n                        this.triggerChange({added: value, removed:data});\n                    }\n                }\n            }\n        }\n    });\n\n    MultiSelect2 = clazz(AbstractSelect2, {\n\n        // multi\n        createContainer: function () {\n            var container = $(document.createElement(\"div\")).attr({\n                \"class\": \"select2-container select2-container-multi\"\n            }).html([\n                    \"<ul class='select2-choices'>\",\n                    \"  <li class='select2-search-field'>\",\n                    \"    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>\",\n                    \"  </li>\",\n                    \"</ul>\",\n                    \"<div class='select2-drop select2-drop-multi select2-display-none'>\",\n                    \"   <ul class='select2-results'>\",\n                    \"   </ul>\",\n                    \"</div>\"].join(\"\"));\n            return container;\n        },\n\n        // multi\n        prepareOpts: function () {\n            var opts = this.parent.prepareOpts.apply(this, arguments),\n                self=this;\n\n            // TODO validate placeholder is a string if specified\n\n            if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                // install sthe selection initializer\n                opts.initSelection = function (element, callback) {\n\n                    var data = [];\n\n                    element.find(\"option\").filter(function() { return this.selected }).each2(function (i, elm) {\n                        data.push(self.optionToData(elm));\n                    });\n                    callback(data);\n                };\n            } else if (\"data\" in opts) {\n                // install default initSelection when applied to hidden input and data is local\n                opts.initSelection = opts.initSelection || function (element, callback) {\n                    var ids = splitVal(element.val(), opts.separator);\n                    //search in data by array of ids, storing matching items in a list\n                    var matches = [];\n                    opts.query({\n                        matcher: function(term, text, el){\n                            var is_match = $.grep(ids, function(id) {\n                                return equal(id, opts.id(el));\n                            }).length;\n                            if (is_match) {\n                                matches.push(el);\n                            }\n                            return is_match;\n                        },\n                        callback: !$.isFunction(callback) ? $.noop : function() {\n                            // reorder matches based on the order they appear in the ids array because right now\n                            // they are in the order in which they appear in data array\n                            var ordered = [];\n                            for (var i = 0; i < ids.length; i++) {\n                                var id = ids[i];\n                                for (var j = 0; j < matches.length; j++) {\n                                    var match = matches[j];\n                                    if (equal(id, opts.id(match))) {\n                                        ordered.push(match);\n                                        matches.splice(j, 1);\n                                        break;\n                                    }\n                                }\n                            }\n                            callback(ordered);\n                        }\n                    });\n                };\n            }\n\n            return opts;\n        },\n\n        // multi\n        selectChoice: function (choice) {\n\n            var selected = this.container.find(\".select2-search-choice-focus\");\n            if (selected.length && choice && choice[0] == selected[0]) {\n\n            } else {\n                if (selected.length) {\n                    this.opts.element.trigger(\"choice-deselected\", selected);\n                }\n                selected.removeClass(\"select2-search-choice-focus\");\n                if (choice && choice.length) {\n                    this.close();\n                    choice.addClass(\"select2-search-choice-focus\");\n                    this.opts.element.trigger(\"choice-selected\", choice);\n                }\n            }\n        },\n\n        // multi\n        destroy: function() {\n            $(\"label[for='\" + this.search.attr('id') + \"']\")\n                .attr('for', this.opts.element.attr(\"id\"));\n            this.parent.destroy.apply(this, arguments);\n        },\n\n        // multi\n        initContainer: function () {\n\n            var selector = \".select2-choices\", selection;\n\n            this.searchContainer = this.container.find(\".select2-search-field\");\n            this.selection = selection = this.container.find(selector);\n\n            var _this = this;\n            this.selection.on(\"click\", \".select2-search-choice:not(.select2-locked)\", function (e) {\n                //killEvent(e);\n                _this.search[0].focus();\n                _this.selectChoice($(this));\n            });\n\n            // rewrite labels from original element to focusser\n            this.search.attr(\"id\", \"s2id_autogen\"+nextUid());\n            $(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\")\n                .attr('for', this.search.attr('id'));\n\n            this.search.on(\"input paste\", this.bind(function() {\n                if (!this.isInterfaceEnabled()) return;\n                if (!this.opened()) {\n                    this.open();\n                }\n            }));\n\n            this.search.attr(\"tabindex\", this.elementTabIndex);\n\n            this.keydowns = 0;\n            this.search.on(\"keydown\", this.bind(function (e) {\n                if (!this.isInterfaceEnabled()) return;\n\n                ++this.keydowns;\n                var selected = selection.find(\".select2-search-choice-focus\");\n                var prev = selected.prev(\".select2-search-choice:not(.select2-locked)\");\n                var next = selected.next(\".select2-search-choice:not(.select2-locked)\");\n                var pos = getCursorInfo(this.search);\n\n                if (selected.length &&\n                    (e.which == KEY.LEFT || e.which == KEY.RIGHT || e.which == KEY.BACKSPACE || e.which == KEY.DELETE || e.which == KEY.ENTER)) {\n                    var selectedChoice = selected;\n                    if (e.which == KEY.LEFT && prev.length) {\n                        selectedChoice = prev;\n                    }\n                    else if (e.which == KEY.RIGHT) {\n                        selectedChoice = next.length ? next : null;\n                    }\n                    else if (e.which === KEY.BACKSPACE) {\n                        this.unselect(selected.first());\n                        this.search.width(10);\n                        selectedChoice = prev.length ? prev : next;\n                    } else if (e.which == KEY.DELETE) {\n                        this.unselect(selected.first());\n                        this.search.width(10);\n                        selectedChoice = next.length ? next : null;\n                    } else if (e.which == KEY.ENTER) {\n                        selectedChoice = null;\n                    }\n\n                    this.selectChoice(selectedChoice);\n                    killEvent(e);\n                    if (!selectedChoice || !selectedChoice.length) {\n                        this.open();\n                    }\n                    return;\n                } else if (((e.which === KEY.BACKSPACE && this.keydowns == 1)\n                    || e.which == KEY.LEFT) && (pos.offset == 0 && !pos.length)) {\n\n                    this.selectChoice(selection.find(\".select2-search-choice:not(.select2-locked)\").last());\n                    killEvent(e);\n                    return;\n                } else {\n                    this.selectChoice(null);\n                }\n\n                if (this.opened()) {\n                    switch (e.which) {\n                        case KEY.UP:\n                        case KEY.DOWN:\n                            this.moveHighlight((e.which === KEY.UP) ? -1 : 1);\n                            killEvent(e);\n                            return;\n                        case KEY.ENTER:\n                            this.selectHighlighted();\n                            killEvent(e);\n                            return;\n                        case KEY.TAB:\n                            this.selectHighlighted({noFocus:true});\n                            this.close();\n                            return;\n                        case KEY.ESC:\n                            this.cancel(e);\n                            killEvent(e);\n                            return;\n                    }\n                }\n\n                if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e)\n                    || e.which === KEY.BACKSPACE || e.which === KEY.ESC) {\n                    return;\n                }\n\n                if (e.which === KEY.ENTER) {\n                    if (this.opts.openOnEnter === false) {\n                        return;\n                    } else if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) {\n                        return;\n                    }\n                }\n\n                this.open();\n\n                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                    // prevent the page from scrolling\n                    killEvent(e);\n                }\n\n                if (e.which === KEY.ENTER) {\n                    // prevent form from being submitted\n                    killEvent(e);\n                }\n\n            }));\n\n            this.search.on(\"keyup\", this.bind(function (e) {\n                this.keydowns = 0;\n                this.resizeSearch();\n            })\n            );\n\n            this.search.on(\"blur\", this.bind(function(e) {\n                this.container.removeClass(\"select2-container-active\");\n                this.search.removeClass(\"select2-focused\");\n                this.selectChoice(null);\n                if (!this.opened()) this.clearSearch();\n                e.stopImmediatePropagation();\n                this.opts.element.trigger($.Event(\"select2-blur\"));\n            }));\n\n            this.container.on(\"click\", selector, this.bind(function (e) {\n                if (!this.isInterfaceEnabled()) return;\n                if ($(e.target).closest(\".select2-search-choice\").length > 0) {\n                    // clicked inside a select2 search choice, do not open\n                    return;\n                }\n                this.selectChoice(null);\n                this.clearPlaceholder();\n                if (!this.container.hasClass(\"select2-container-active\")) {\n                    this.opts.element.trigger($.Event(\"select2-focus\"));\n                }\n                this.open();\n                this.focusSearch();\n                e.preventDefault();\n            }));\n\n            this.container.on(\"focus\", selector, this.bind(function () {\n                if (!this.isInterfaceEnabled()) return;\n                if (!this.container.hasClass(\"select2-container-active\")) {\n                    this.opts.element.trigger($.Event(\"select2-focus\"));\n                }\n                this.container.addClass(\"select2-container-active\");\n                this.dropdown.addClass(\"select2-drop-active\");\n                this.clearPlaceholder();\n            }));\n\n            this.initContainerWidth();\n            this.opts.element.addClass(\"select2-offscreen\");\n\n            // set the placeholder if necessary\n            this.clearSearch();\n        },\n\n        // multi\n        enableInterface: function() {\n            if (this.parent.enableInterface.apply(this, arguments)) {\n                this.search.prop(\"disabled\", !this.isInterfaceEnabled());\n            }\n        },\n\n        // multi\n        initSelection: function () {\n            var data;\n            if (this.opts.element.val() === \"\" && this.opts.element.text() === \"\") {\n                this.updateSelection([]);\n                this.close();\n                // set the placeholder if necessary\n                this.clearSearch();\n            }\n            if (this.select || this.opts.element.val() !== \"\") {\n                var self = this;\n                this.opts.initSelection.call(null, this.opts.element, function(data){\n                    if (data !== undefined && data !== null) {\n                        self.updateSelection(data);\n                        self.close();\n                        // set the placeholder if necessary\n                        self.clearSearch();\n                    }\n                });\n            }\n        },\n\n        // multi\n        clearSearch: function () {\n            var placeholder = this.getPlaceholder(),\n                maxWidth = this.getMaxSearchWidth();\n\n            if (placeholder !== undefined  && this.getVal().length === 0 && this.search.hasClass(\"select2-focused\") === false) {\n                this.search.val(placeholder).addClass(\"select2-default\");\n                // stretch the search box to full width of the container so as much of the placeholder is visible as possible\n                // we could call this.resizeSearch(), but we do not because that requires a sizer and we do not want to create one so early because of a firefox bug, see #944\n                this.search.width(maxWidth > 0 ? maxWidth : this.container.css(\"width\"));\n            } else {\n                this.search.val(\"\").width(10);\n            }\n        },\n\n        // multi\n        clearPlaceholder: function () {\n            if (this.search.hasClass(\"select2-default\")) {\n                this.search.val(\"\").removeClass(\"select2-default\");\n            }\n        },\n\n        // multi\n        opening: function () {\n            this.clearPlaceholder(); // should be done before super so placeholder is not used to search\n            this.resizeSearch();\n\n            this.parent.opening.apply(this, arguments);\n\n            this.focusSearch();\n\n            this.updateResults(true);\n            this.search.focus();\n            this.opts.element.trigger($.Event(\"select2-open\"));\n        },\n\n        // multi\n        close: function () {\n            if (!this.opened()) return;\n            this.parent.close.apply(this, arguments);\n        },\n\n        // multi\n        focus: function () {\n            this.close();\n            this.search.focus();\n        },\n\n        // multi\n        isFocused: function () {\n            return this.search.hasClass(\"select2-focused\");\n        },\n\n        // multi\n        updateSelection: function (data) {\n            var ids = [], filtered = [], self = this;\n\n            // filter out duplicates\n            $(data).each(function () {\n                if (indexOf(self.id(this), ids) < 0) {\n                    ids.push(self.id(this));\n                    filtered.push(this);\n                }\n            });\n            data = filtered;\n\n            this.selection.find(\".select2-search-choice\").remove();\n            $(data).each(function () {\n                self.addSelectedChoice(this);\n            });\n            self.postprocessResults();\n        },\n\n        // multi\n        tokenize: function() {\n            var input = this.search.val();\n            input = this.opts.tokenizer.call(this, input, this.data(), this.bind(this.onSelect), this.opts);\n            if (input != null && input != undefined) {\n                this.search.val(input);\n                if (input.length > 0) {\n                    this.open();\n                }\n            }\n\n        },\n\n        // multi\n        onSelect: function (data, options) {\n\n            if (!this.triggerSelect(data)) { return; }\n\n            this.addSelectedChoice(data);\n\n            this.opts.element.trigger({ type: \"selected\", val: this.id(data), choice: data });\n\n            if (this.select || !this.opts.closeOnSelect) this.postprocessResults(data, false, this.opts.closeOnSelect===true);\n\n            if (this.opts.closeOnSelect) {\n                this.close();\n                this.search.width(10);\n            } else {\n                if (this.countSelectableResults()>0) {\n                    this.search.width(10);\n                    this.resizeSearch();\n                    if (this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize()) {\n                        // if we reached max selection size repaint the results so choices\n                        // are replaced with the max selection reached message\n                        this.updateResults(true);\n                    }\n                    this.positionDropdown();\n                } else {\n                    // if nothing left to select close\n                    this.close();\n                    this.search.width(10);\n                }\n            }\n\n            // since its not possible to select an element that has already been\n            // added we do not need to check if this is a new element before firing change\n            this.triggerChange({ added: data });\n\n            if (!options || !options.noFocus)\n                this.focusSearch();\n        },\n\n        // multi\n        cancel: function () {\n            this.close();\n            this.focusSearch();\n        },\n\n        addSelectedChoice: function (data) {\n            var enableChoice = !data.locked,\n                enabledItem = $(\n                    \"<li class='select2-search-choice'>\" +\n                        \"    <div></div>\" +\n                        \"    <a href='#' class='select2-search-choice-close' tabindex='-1'></a>\" +\n                        \"</li>\"),\n                disabledItem = $(\n                    \"<li class='select2-search-choice select2-locked'>\" +\n                        \"<div></div>\" +\n                        \"</li>\");\n            var choice = enableChoice ? enabledItem : disabledItem,\n                id = this.id(data),\n                val = this.getVal(),\n                formatted,\n                cssClass;\n\n            formatted=this.opts.formatSelection(data, choice.find(\"div\"), this.opts.escapeMarkup);\n            if (formatted != undefined) {\n                choice.find(\"div\").replaceWith(\"<div>\"+formatted+\"</div>\");\n            }\n            cssClass=this.opts.formatSelectionCssClass(data, choice.find(\"div\"));\n            if (cssClass != undefined) {\n                choice.addClass(cssClass);\n            }\n\n            if(enableChoice){\n                choice.find(\".select2-search-choice-close\")\n                    .on(\"mousedown\", killEvent)\n                    .on(\"click dblclick\", this.bind(function (e) {\n                        if (!this.isInterfaceEnabled()) return;\n\n                        $(e.target).closest(\".select2-search-choice\").fadeOut('fast', this.bind(function(){\n                            this.unselect($(e.target));\n                            this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n                            this.close();\n                            this.focusSearch();\n                        })).dequeue();\n                        killEvent(e);\n                    })).on(\"focus\", this.bind(function () {\n                        if (!this.isInterfaceEnabled()) return;\n                        this.container.addClass(\"select2-container-active\");\n                        this.dropdown.addClass(\"select2-drop-active\");\n                    }));\n            }\n\n            choice.data(\"select2-data\", data);\n            choice.insertBefore(this.searchContainer);\n\n            val.push(id);\n            this.setVal(val);\n        },\n\n        // multi\n        unselect: function (selected) {\n            var val = this.getVal(),\n                data,\n                index;\n            selected = selected.closest(\".select2-search-choice\");\n\n            if (selected.length === 0) {\n                throw \"Invalid argument: \" + selected + \". Must be .select2-search-choice\";\n            }\n\n            data = selected.data(\"select2-data\");\n\n            if (!data) {\n                // prevent a race condition when the 'x' is clicked really fast repeatedly the event can be queued\n                // and invoked on an element already removed\n                return;\n            }\n\n            while((index = indexOf(this.id(data), val)) >= 0) {\n                val.splice(index, 1);\n                this.setVal(val);\n                if (this.select) this.postprocessResults();\n            }\n\n            var evt = $.Event(\"select2-removing\");\n            evt.val = this.id(data);\n            evt.choice = data;\n            this.opts.element.trigger(evt);\n\n            if (evt.isDefaultPrevented()) {\n                return;\n            }\n\n            selected.remove();\n\n            this.opts.element.trigger({ type: \"select2-removed\", val: this.id(data), choice: data });\n            this.triggerChange({ removed: data });\n        },\n\n        // multi\n        postprocessResults: function (data, initial, noHighlightUpdate) {\n            var val = this.getVal(),\n                choices = this.results.find(\".select2-result\"),\n                compound = this.results.find(\".select2-result-with-children\"),\n                self = this;\n\n            choices.each2(function (i, choice) {\n                var id = self.id(choice.data(\"select2-data\"));\n                if (indexOf(id, val) >= 0) {\n                    choice.addClass(\"select2-selected\");\n                    // mark all children of the selected parent as selected\n                    choice.find(\".select2-result-selectable\").addClass(\"select2-selected\");\n                }\n            });\n\n            compound.each2(function(i, choice) {\n                // hide an optgroup if it doesnt have any selectable children\n                if (!choice.is('.select2-result-selectable')\n                    && choice.find(\".select2-result-selectable:not(.select2-selected)\").length === 0) {\n                    choice.addClass(\"select2-selected\");\n                }\n            });\n\n            if (this.highlight() == -1 && noHighlightUpdate !== false){\n                self.highlight(0);\n            }\n\n            //If all results are chosen render formatNoMAtches\n            if(!this.opts.createSearchChoice && !choices.filter('.select2-result:not(.select2-selected)').length > 0){\n                if(!data || data && !data.more && this.results.find(\".select2-no-results\").length === 0) {\n                    if (checkFormatter(self.opts.formatNoMatches, \"formatNoMatches\")) {\n                        this.results.append(\"<li class='select2-no-results'>\" + self.opts.formatNoMatches(self.search.val()) + \"</li>\");\n                    }\n                }\n            }\n\n        },\n\n        // multi\n        getMaxSearchWidth: function() {\n            return this.selection.width() - getSideBorderPadding(this.search);\n        },\n\n        // multi\n        resizeSearch: function () {\n            var minimumWidth, left, maxWidth, containerLeft, searchWidth,\n                sideBorderPadding = getSideBorderPadding(this.search);\n\n            minimumWidth = measureTextWidth(this.search) + 10;\n\n            left = this.search.offset().left;\n\n            maxWidth = this.selection.width();\n            containerLeft = this.selection.offset().left;\n\n            searchWidth = maxWidth - (left - containerLeft) - sideBorderPadding;\n\n            if (searchWidth < minimumWidth) {\n                searchWidth = maxWidth - sideBorderPadding;\n            }\n\n            if (searchWidth < 40) {\n                searchWidth = maxWidth - sideBorderPadding;\n            }\n\n            if (searchWidth <= 0) {\n                searchWidth = minimumWidth;\n            }\n\n            this.search.width(Math.floor(searchWidth));\n        },\n\n        // multi\n        getVal: function () {\n            var val;\n            if (this.select) {\n                val = this.select.val();\n                return val === null ? [] : val;\n            } else {\n                val = this.opts.element.val();\n                return splitVal(val, this.opts.separator);\n            }\n        },\n\n        // multi\n        setVal: function (val) {\n            var unique;\n            if (this.select) {\n                this.select.val(val);\n            } else {\n                unique = [];\n                // filter out duplicates\n                $(val).each(function () {\n                    if (indexOf(this, unique) < 0) unique.push(this);\n                });\n                this.opts.element.val(unique.length === 0 ? \"\" : unique.join(this.opts.separator));\n            }\n        },\n\n        // multi\n        buildChangeDetails: function (old, current) {\n            var current = current.slice(0),\n                old = old.slice(0);\n\n            // remove intersection from each array\n            for (var i = 0; i < current.length; i++) {\n                for (var j = 0; j < old.length; j++) {\n                    if (equal(this.opts.id(current[i]), this.opts.id(old[j]))) {\n                        current.splice(i, 1);\n                        if(i>0){\n                            i--;\n                        }\n                        old.splice(j, 1);\n                        j--;\n                    }\n                }\n            }\n\n            return {added: current, removed: old};\n        },\n\n\n        // multi\n        val: function (val, triggerChange) {\n            var oldData, self=this;\n\n            if (arguments.length === 0) {\n                return this.getVal();\n            }\n\n            oldData=this.data();\n            if (!oldData.length) oldData=[];\n\n            // val is an id. !val is true for [undefined,null,'',0] - 0 is legal\n            if (!val && val !== 0) {\n                this.opts.element.val(\"\");\n                this.updateSelection([]);\n                this.clearSearch();\n                if (triggerChange) {\n                    this.triggerChange({added: this.data(), removed: oldData});\n                }\n                return;\n            }\n\n            // val is a list of ids\n            this.setVal(val);\n\n            if (this.select) {\n                this.opts.initSelection(this.select, this.bind(this.updateSelection));\n                if (triggerChange) {\n                    this.triggerChange(this.buildChangeDetails(oldData, this.data()));\n                }\n            } else {\n                if (this.opts.initSelection === undefined) {\n                    throw new Error(\"val() cannot be called if initSelection() is not defined\");\n                }\n\n                this.opts.initSelection(this.opts.element, function(data){\n                    var ids=$.map(data, self.id);\n                    self.setVal(ids);\n                    self.updateSelection(data);\n                    self.clearSearch();\n                    if (triggerChange) {\n                        self.triggerChange(self.buildChangeDetails(oldData, self.data()));\n                    }\n                });\n            }\n            this.clearSearch();\n        },\n\n        // multi\n        onSortStart: function() {\n            if (this.select) {\n                throw new Error(\"Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.\");\n            }\n\n            // collapse search field into 0 width so its container can be collapsed as well\n            this.search.width(0);\n            // hide the container\n            this.searchContainer.hide();\n        },\n\n        // multi\n        onSortEnd:function() {\n\n            var val=[], self=this;\n\n            // show search and move it to the end of the list\n            this.searchContainer.show();\n            // make sure the search container is the last item in the list\n            this.searchContainer.appendTo(this.searchContainer.parent());\n            // since we collapsed the width in dragStarted, we resize it here\n            this.resizeSearch();\n\n            // update selection\n            this.selection.find(\".select2-search-choice\").each(function() {\n                val.push(self.opts.id($(this).data(\"select2-data\")));\n            });\n            this.setVal(val);\n            this.triggerChange();\n        },\n\n        // multi\n        data: function(values, triggerChange) {\n            var self=this, ids, old;\n            if (arguments.length === 0) {\n                return this.selection\n                    .find(\".select2-search-choice\")\n                    .map(function() { return $(this).data(\"select2-data\"); })\n                    .get();\n            } else {\n                old = this.data();\n                if (!values) { values = []; }\n                ids = $.map(values, function(e) { return self.opts.id(e); });\n                this.setVal(ids);\n                this.updateSelection(values);\n                this.clearSearch();\n                if (triggerChange) {\n                    this.triggerChange(this.buildChangeDetails(old, this.data()));\n                }\n            }\n        }\n    });\n\n    $.fn.select2 = function () {\n\n        var args = Array.prototype.slice.call(arguments, 0),\n            opts,\n            select2,\n            method, value, multiple,\n            allowedMethods = [\"val\", \"destroy\", \"opened\", \"open\", \"close\", \"focus\", \"isFocused\", \"container\", \"dropdown\", \"onSortStart\", \"onSortEnd\", \"enable\", \"disable\", \"readonly\", \"positionDropdown\", \"data\", \"search\"],\n            valueMethods = [\"opened\", \"isFocused\", \"container\", \"dropdown\"],\n            propertyMethods = [\"val\", \"data\"],\n            methodsMap = { search: \"externalSearch\" };\n\n        this.each(function () {\n            if (args.length === 0 || typeof(args[0]) === \"object\") {\n                opts = args.length === 0 ? {} : $.extend({}, args[0]);\n                opts.element = $(this);\n\n                if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                    multiple = opts.element.prop(\"multiple\");\n                } else {\n                    multiple = opts.multiple || false;\n                    if (\"tags\" in opts) {opts.multiple = multiple = true;}\n                }\n\n                select2 = multiple ? new MultiSelect2() : new SingleSelect2();\n                select2.init(opts);\n            } else if (typeof(args[0]) === \"string\") {\n\n                if (indexOf(args[0], allowedMethods) < 0) {\n                    throw \"Unknown method: \" + args[0];\n                }\n\n                value = undefined;\n                select2 = $(this).data(\"select2\");\n                if (select2 === undefined) return;\n\n                method=args[0];\n\n                if (method === \"container\") {\n                    value = select2.container;\n                } else if (method === \"dropdown\") {\n                    value = select2.dropdown;\n                } else {\n                    if (methodsMap[method]) method = methodsMap[method];\n\n                    value = select2[method].apply(select2, args.slice(1));\n                }\n                if (indexOf(args[0], valueMethods) >= 0\n                    || (indexOf(args[0], propertyMethods) && args.length == 1)) {\n                    return false; // abort the iteration, ready to return first matched value\n                }\n            } else {\n                throw \"Invalid arguments to select2 plugin: \" + args;\n            }\n        });\n        return (value === undefined) ? this : value;\n    };\n\n    // plugin defaults, accessible to users\n    $.fn.select2.defaults = {\n        width: \"copy\",\n        loadMorePadding: 0,\n        closeOnSelect: true,\n        openOnEnter: true,\n        containerCss: {},\n        dropdownCss: {},\n        containerCssClass: \"\",\n        dropdownCssClass: \"\",\n        formatResult: function(result, container, query, escapeMarkup) {\n            var markup=[];\n            markMatch(result.text, query.term, markup, escapeMarkup);\n            return markup.join(\"\");\n        },\n        formatSelection: function (data, container, escapeMarkup) {\n            return data ? escapeMarkup(data.text) : undefined;\n        },\n        sortResults: function (results, container, query) {\n            return results;\n        },\n        formatResultCssClass: function(data) {return undefined;},\n        formatSelectionCssClass: function(data, container) {return undefined;},\n        formatNoMatches: function () { return \"No matches found\"; },\n        formatInputTooShort: function (input, min) { var n = min - input.length; return \"Please enter \" + n + \" more character\" + (n == 1? \"\" : \"s\"); },\n        formatInputTooLong: function (input, max) { var n = input.length - max; return \"Please delete \" + n + \" character\" + (n == 1? \"\" : \"s\"); },\n        formatSelectionTooBig: function (limit) { return \"You can only select \" + limit + \" item\" + (limit == 1 ? \"\" : \"s\"); },\n        formatLoadMore: function (pageNumber) { return \"Loading more results...\"; },\n        formatSearching: function () { return \"Searching...\"; },\n        minimumResultsForSearch: 0,\n        minimumInputLength: 0,\n        maximumInputLength: null,\n        maximumSelectionSize: 0,\n        id: function (e) { return e.id; },\n        matcher: function(term, text) {\n            return stripDiacritics(''+text).toUpperCase().indexOf(stripDiacritics(''+term).toUpperCase()) >= 0;\n        },\n        separator: \",\",\n        tokenSeparators: [],\n        tokenizer: defaultTokenizer,\n        escapeMarkup: defaultEscapeMarkup,\n        blurOnChange: false,\n        selectOnBlur: false,\n        adaptContainerCssClass: function(c) { return c; },\n        adaptDropdownCssClass: function(c) { return null; },\n        nextSearchTerm: function(selectedObject, currentSearchTerm) { return undefined; }\n    };\n\n    $.fn.select2.ajaxDefaults = {\n        transport: $.ajax,\n        params: {\n            type: \"GET\",\n            cache: false,\n            dataType: \"json\"\n        }\n    };\n\n    // exports\n    window.Select2 = {\n        query: {\n            ajax: ajax,\n            local: local,\n            tags: tags\n        }, util: {\n            debounce: debounce,\n            markMatch: markMatch,\n            escapeMarkup: defaultEscapeMarkup,\n            stripDiacritics: stripDiacritics\n        }, \"class\": {\n            \"abstract\": AbstractSelect2,\n            \"single\": SingleSelect2,\n            \"multi\": MultiSelect2\n        }\n    };\n\n}(jQuery));\n","/**!\n * TableSorter 2.17.7 - Client-side table sorting with ease!\n * @requires jQuery v1.2.6+\n *\n * Copyright (c) 2007 Christian Bach\n * Examples and docs at: http://tablesorter.com\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n *\n * @type jQuery\n * @name tablesorter\n * @cat Plugins/Tablesorter\n * @author Christian Bach/christian.bach@polyester.se\n * @contributor Rob Garrison/https://github.com/Mottie/tablesorter\n */\n/*jshint browser:true, jquery:true, unused:false, expr: true */\n/*global console:false, alert:false */\n!(function($) {\n    \"use strict\";\n    $.extend({\n        /*jshint supernew:true */\n        tablesorter: new function() {\n\n            var ts = this;\n\n            ts.version = \"2.17.7\";\n\n            ts.parsers = [];\n            ts.widgets = [];\n            ts.defaults = {\n\n                // *** appearance\n                theme            : 'default',  // adds tablesorter-{theme} to the table for styling\n                widthFixed       : false,      // adds colgroup to fix widths of columns\n                showProcessing   : false,      // show an indeterminate timer icon in the header when the table is sorted or filtered.\n\n                headerTemplate   : '{content}',// header layout template (HTML ok); {content} = innerHTML, {icon} = <i/> (class from cssIcon)\n                onRenderTemplate : null,       // function(index, template){ return template; }, (template is a string)\n                onRenderHeader   : null,       // function(index){}, (nothing to return)\n\n                // *** functionality\n                cancelSelection  : true,       // prevent text selection in the header\n                tabIndex         : true,       // add tabindex to header for keyboard accessibility\n                dateFormat       : 'mmddyyyy', // other options: \"ddmmyyy\" or \"yyyymmdd\"\n                sortMultiSortKey : 'shiftKey', // key used to select additional columns\n                sortResetKey     : 'ctrlKey',  // key used to remove sorting on a column\n                usNumberFormat   : true,       // false for German \"1.234.567,89\" or French \"1 234 567,89\"\n                delayInit        : false,      // if false, the parsed table contents will not update until the first sort\n                serverSideSorting: false,      // if true, server-side sorting should be performed because client-side sorting will be disabled, but the ui and events will still be used.\n\n                // *** sort options\n                headers          : {},         // set sorter, string, empty, locked order, sortInitialOrder, filter, etc.\n                ignoreCase       : true,       // ignore case while sorting\n                sortForce        : null,       // column(s) first sorted; always applied\n                sortList         : [],         // Initial sort order; applied initially; updated when manually sorted\n                sortAppend       : null,       // column(s) sorted last; always applied\n                sortStable       : false,      // when sorting two rows with exactly the same content, the original sort order is maintained\n\n                sortInitialOrder : 'asc',      // sort direction on first click\n                sortLocaleCompare: false,      // replace equivalent character (accented characters)\n                sortReset        : false,      // third click on the header will reset column to default - unsorted\n                sortRestart      : false,      // restart sort to \"sortInitialOrder\" when clicking on previously unsorted columns\n\n                emptyTo          : 'bottom',   // sort empty cell to bottom, top, none, zero\n                stringTo         : 'max',      // sort strings in numerical column as max, min, top, bottom, zero\n                textExtraction   : 'basic',    // text extraction method/function - function(node, table, cellIndex){}\n                textAttribute    : 'data-text',// data-attribute that contains alternate cell text (used in textExtraction function)\n                textSorter       : null,       // choose overall or specific column sorter function(a, b, direction, table, columnIndex) [alt: ts.sortText]\n                numberSorter     : null,       // choose overall numeric sorter function(a, b, direction, maxColumnValue)\n\n                // *** widget options\n                widgets: [],                   // method to add widgets, e.g. widgets: ['zebra']\n                widgetOptions    : {\n                    zebra : [ 'even', 'odd' ]    // zebra widget alternating row class names\n                },\n                initWidgets      : true,       // apply widgets on tablesorter initialization\n\n                // *** callbacks\n                initialized      : null,       // function(table){},\n\n                // *** extra css class names\n                tableClass       : '',\n                cssAsc           : '',\n                cssDesc          : '',\n                cssNone          : '',\n                cssHeader        : '',\n                cssHeaderRow     : '',\n                cssProcessing    : '', // processing icon applied to header during sort/filter\n\n                cssChildRow      : 'tablesorter-childRow', // class name indiciating that a row is to be attached to the its parent\n                cssIcon          : 'tablesorter-icon',     //  if this class exists, a <i> will be added to the header automatically\n                cssInfoBlock     : 'tablesorter-infoOnly', // don't sort tbody with this class name (only one class name allowed here!)\n\n                // *** selectors\n                selectorHeaders  : '> thead th, > thead td',\n                selectorSort     : 'th, td',   // jQuery selector of content within selectorHeaders that is clickable to trigger a sort\n                selectorRemove   : '.remove-me',\n\n                // *** advanced\n                debug            : false,\n\n                // *** Internal variables\n                headerList: [],\n                empties: {},\n                strings: {},\n                parsers: []\n\n                // deprecated; but retained for backwards compatibility\n                // widgetZebra: { css: [\"even\", \"odd\"] }\n\n            };\n\n            // internal css classes - these will ALWAYS be added to\n            // the table and MUST only contain one class name - fixes #381\n            ts.css = {\n                table      : 'tablesorter',\n                cssHasChild: 'tablesorter-hasChildRow',\n                childRow   : 'tablesorter-childRow',\n                header     : 'tablesorter-header',\n                headerRow  : 'tablesorter-headerRow',\n                headerIn   : 'tablesorter-header-inner',\n                icon       : 'tablesorter-icon',\n                info       : 'tablesorter-infoOnly',\n                processing : 'tablesorter-processing',\n                sortAsc    : 'tablesorter-headerAsc',\n                sortDesc   : 'tablesorter-headerDesc',\n                sortNone   : 'tablesorter-headerUnSorted'\n            };\n\n            // labels applied to sortable headers for accessibility (aria) support\n            ts.language = {\n                sortAsc  : 'Ascending sort applied, ',\n                sortDesc : 'Descending sort applied, ',\n                sortNone : 'No sort applied, ',\n                nextAsc  : 'activate to apply an ascending sort',\n                nextDesc : 'activate to apply a descending sort',\n                nextNone : 'activate to remove the sort'\n            };\n\n            /* debuging utils */\n            function log() {\n                var a = arguments[0],\n                    s = arguments.length > 1 ? Array.prototype.slice.call(arguments) : a;\n                if (typeof console !== \"undefined\" && typeof console.log !== \"undefined\") {\n                    console[ /error/i.test(a) ? 'error' : /warn/i.test(a) ? 'warn' : 'log' ](s);\n                } else {\n                    alert(s);\n                }\n            }\n\n            function benchmark(s, d) {\n                log(s + \" (\" + (new Date().getTime() - d.getTime()) + \"ms)\");\n            }\n\n            ts.log = log;\n            ts.benchmark = benchmark;\n\n            // $.isEmptyObject from jQuery v1.4\n            function isEmptyObject(obj) {\n                /*jshint forin: false */\n                for (var name in obj) {\n                    return false;\n                }\n                return true;\n            }\n\n            function getElementText(table, node, cellIndex) {\n                if (!node) { return \"\"; }\n                var te, c = table.config,\n                    t = c.textExtraction || '',\n                    text = \"\";\n                if (t === \"basic\") {\n                    // check data-attribute first\n                    text = $(node).attr(c.textAttribute) || node.textContent || node.innerText || $(node).text() || \"\";\n                } else {\n                    if (typeof(t) === \"function\") {\n                        text = t(node, table, cellIndex);\n                    } else if (typeof (te = ts.getColumnData( table, t, cellIndex )) === 'function') {\n                        text = te(node, table, cellIndex);\n                    } else {\n                        // previous \"simple\" method\n                        text = node.textContent || node.innerText || $(node).text() || \"\";\n                    }\n                }\n                return $.trim(text);\n            }\n\n            function detectParserForColumn(table, rows, rowIndex, cellIndex) {\n                var cur,\n                    i = ts.parsers.length,\n                    node = false,\n                    nodeValue = '',\n                    keepLooking = true;\n                while (nodeValue === '' && keepLooking) {\n                    rowIndex++;\n                    if (rows[rowIndex]) {\n                        node = rows[rowIndex].cells[cellIndex];\n                        nodeValue = getElementText(table, node, cellIndex);\n                        if (table.config.debug) {\n                            log('Checking if value was empty on row ' + rowIndex + ', column: ' + cellIndex + ': \"' + nodeValue + '\"');\n                        }\n                    } else {\n                        keepLooking = false;\n                    }\n                }\n                while (--i >= 0) {\n                    cur = ts.parsers[i];\n                    // ignore the default text parser because it will always be true\n                    if (cur && cur.id !== 'text' && cur.is && cur.is(nodeValue, table, node)) {\n                        return cur;\n                    }\n                }\n                // nothing found, return the generic parser (text)\n                return ts.getParserById('text');\n            }\n\n            function buildParserCache(table) {\n                var c = table.config,\n                // update table bodies in case we start with an empty table\n                    tb = c.$tbodies = c.$table.children('tbody:not(.' + c.cssInfoBlock + ')'),\n                    rows, list, l, i, h, ch, np, p, e, time,\n                    j = 0,\n                    parsersDebug = \"\",\n                    len = tb.length;\n                if ( len === 0) {\n                    return c.debug ? log('Warning: *Empty table!* Not building a parser cache') : '';\n                } else if (c.debug) {\n                    time = new Date();\n                    log('Detecting parsers for each column');\n                }\n                list = {\n                    extractors: [],\n                    parsers: []\n                };\n                while (j < len) {\n                    rows = tb[j].rows;\n                    if (rows[j]) {\n                        l = c.columns; // rows[j].cells.length;\n                        for (i = 0; i < l; i++) {\n                            h = c.$headers.filter('[data-column=\"' + i + '\"]:last');\n                            // get column indexed table cell\n                            ch = ts.getColumnData( table, c.headers, i );\n                            // get column parser/extractor\n                            e = ts.getParserById( ts.getData(h, ch, 'extractor') );\n                            p = ts.getParserById( ts.getData(h, ch, 'sorter') );\n                            np = ts.getData(h, ch, 'parser') === 'false';\n                            // empty cells behaviour - keeping emptyToBottom for backwards compatibility\n                            c.empties[i] = ts.getData(h, ch, 'empty') || c.emptyTo || (c.emptyToBottom ? 'bottom' : 'top' );\n                            // text strings behaviour in numerical sorts\n                            c.strings[i] = ts.getData(h, ch, 'string') || c.stringTo || 'max';\n                            if (np) {\n                                p = ts.getParserById('no-parser');\n                            }\n                            if (!e) {\n                                // For now, maybe detect someday\n                                e = false;\n                            }\n                            if (!p) {\n                                p = detectParserForColumn(table, rows, -1, i);\n                            }\n                            if (c.debug) {\n                                parsersDebug += \"column:\" + i + \"; extractor:\" + e.id + \"; parser:\" + p.id + \"; string:\" + c.strings[i] + '; empty: ' + c.empties[i] + \"\\n\";\n                            }\n                            list.parsers[i] = p;\n                            list.extractors[i] = e;\n                        }\n                    }\n                    j += (list.parsers.length) ? len : 1;\n                }\n                if (c.debug) {\n                    log(parsersDebug ? parsersDebug : \"No parsers detected\");\n                    benchmark(\"Completed detecting parsers\", time);\n                }\n                c.parsers = list.parsers;\n                c.extractors = list.extractors;\n            }\n\n            /* utils */\n            function buildCache(table) {\n                var cc, t, tx, v, i, j, k, $row, rows, cols, cacheTime,\n                    totalRows, rowData, colMax,\n                    c = table.config,\n                    $tb = c.$table.children('tbody'),\n                    extractors = c.extractors,\n                    parsers = c.parsers;\n                c.cache = {};\n                c.totalRows = 0;\n                // if no parsers found, return - it's an empty table.\n                if (!parsers) {\n                    return c.debug ? log('Warning: *Empty table!* Not building a cache') : '';\n                }\n                if (c.debug) {\n                    cacheTime = new Date();\n                }\n                // processing icon\n                if (c.showProcessing) {\n                    ts.isProcessing(table, true);\n                }\n                for (k = 0; k < $tb.length; k++) {\n                    colMax = []; // column max value per tbody\n                    cc = c.cache[k] = {\n                        normalized: [] // array of normalized row data; last entry contains \"rowData\" above\n                        // colMax: #   // added at the end\n                    };\n\n                    // ignore tbodies with class name from c.cssInfoBlock\n                    if (!$tb.eq(k).hasClass(c.cssInfoBlock)) {\n                        totalRows = ($tb[k] && $tb[k].rows.length) || 0;\n                        for (i = 0; i < totalRows; ++i) {\n                            rowData = {\n                                // order: original row order #\n                                // $row : jQuery Object[]\n                                child: [] // child row text (filter widget)\n                            };\n                            /** Add the table data to main data array */\n                            $row = $($tb[k].rows[i]);\n                            rows = [ new Array(c.columns) ];\n                            cols = [];\n                            // if this is a child row, add it to the last row's children and continue to the next row\n                            // ignore child row class, if it is the first row\n                            if ($row.hasClass(c.cssChildRow) && i !== 0) {\n                                t = cc.normalized.length - 1;\n                                cc.normalized[t][c.columns].$row = cc.normalized[t][c.columns].$row.add($row);\n                                // add \"hasChild\" class name to parent row\n                                if (!$row.prev().hasClass(c.cssChildRow)) {\n                                    $row.prev().addClass(ts.css.cssHasChild);\n                                }\n                                // save child row content (un-parsed!)\n                                rowData.child[t] = $.trim( $row[0].textContent || $row[0].innerText || $row.text() || \"\" );\n                                // go to the next for loop\n                                continue;\n                            }\n                            rowData.$row = $row;\n                            rowData.order = i; // add original row position to rowCache\n                            for (j = 0; j < c.columns; ++j) {\n                                if (typeof parsers[j] === 'undefined') {\n                                    if (c.debug) {\n                                        log('No parser found for cell:', $row[0].cells[j], 'does it have a header?');\n                                    }\n                                    continue;\n                                }\n                                t = getElementText(table, $row[0].cells[j], j);\n                                // do extract before parsing if there is one\n                                if (typeof extractors[j].id === 'undefined') {\n                                    tx = t;\n                                } else {\n                                    tx = extractors[j].format(t, table, $row[0].cells[j], j);\n                                }\n                                // allow parsing if the string is empty, previously parsing would change it to zero,\n                                // in case the parser needs to extract data from the table cell attributes\n                                v = parsers[j].id === 'no-parser' ? '' : parsers[j].format(tx, table, $row[0].cells[j], j);\n                                cols.push( c.ignoreCase && typeof v === 'string' ? v.toLowerCase() : v );\n                                if ((parsers[j].type || '').toLowerCase() === \"numeric\") {\n                                    // determine column max value (ignore sign)\n                                    colMax[j] = Math.max(Math.abs(v) || 0, colMax[j] || 0);\n                                }\n                            }\n                            // ensure rowData is always in the same location (after the last column)\n                            cols[c.columns] = rowData;\n                            cc.normalized.push(cols);\n                        }\n                        cc.colMax = colMax;\n                        // total up rows, not including child rows\n                        c.totalRows += cc.normalized.length;\n                    }\n                }\n                if (c.showProcessing) {\n                    ts.isProcessing(table); // remove processing icon\n                }\n                if (c.debug) {\n                    benchmark(\"Building cache for \" + totalRows + \" rows\", cacheTime);\n                }\n            }\n\n            // init flag (true) used by pager plugin to prevent widget application\n            function appendToTable(table, init) {\n                var c = table.config,\n                    wo = c.widgetOptions,\n                    b = table.tBodies,\n                    rows = [],\n                    cc = c.cache,\n                    n, totalRows, $bk, $tb,\n                    i, k, appendTime;\n                // empty table - fixes #206/#346\n                if (isEmptyObject(cc)) {\n                    // run pager appender in case the table was just emptied\n                    return c.appender ? c.appender(table, rows) :\n                        table.isUpdating ? c.$table.trigger(\"updateComplete\", table) : ''; // Fixes #532\n                }\n                if (c.debug) {\n                    appendTime = new Date();\n                }\n                for (k = 0; k < b.length; k++) {\n                    $bk = $(b[k]);\n                    if ($bk.length && !$bk.hasClass(c.cssInfoBlock)) {\n                        // get tbody\n                        $tb = ts.processTbody(table, $bk, true);\n                        n = cc[k].normalized;\n                        totalRows = n.length;\n                        for (i = 0; i < totalRows; i++) {\n                            rows.push(n[i][c.columns].$row);\n                            // removeRows used by the pager plugin; don't render if using ajax - fixes #411\n                            if (!c.appender || (c.pager && (!c.pager.removeRows || !wo.pager_removeRows) && !c.pager.ajax)) {\n                                $tb.append(n[i][c.columns].$row);\n                            }\n                        }\n                        // restore tbody\n                        ts.processTbody(table, $tb, false);\n                    }\n                }\n                if (c.appender) {\n                    c.appender(table, rows);\n                }\n                if (c.debug) {\n                    benchmark(\"Rebuilt table\", appendTime);\n                }\n                // apply table widgets; but not before ajax completes\n                if (!init && !c.appender) { ts.applyWidget(table); }\n                if (table.isUpdating) {\n                    c.$table.trigger(\"updateComplete\", table);\n                }\n            }\n\n            function formatSortingOrder(v) {\n                // look for \"d\" in \"desc\" order; return true\n                return (/^d/i.test(v) || v === 1);\n            }\n\n            function buildHeaders(table) {\n                var ch, $t,\n                    h, i, t, lock, time,\n                    c = table.config;\n                c.headerList = [];\n                c.headerContent = [];\n                if (c.debug) {\n                    time = new Date();\n                }\n                // children tr in tfoot - see issue #196 & #547\n                c.columns = ts.computeColumnIndex( c.$table.children('thead, tfoot').children('tr') );\n                // add icon if cssIcon option exists\n                i = c.cssIcon ? '<i class=\"' + ( c.cssIcon === ts.css.icon ? ts.css.icon : c.cssIcon + ' ' + ts.css.icon ) + '\"></i>' : '';\n                // redefine c.$headers here in case of an updateAll that replaces or adds an entire header cell - see #683\n                c.$headers = $(table).find(c.selectorHeaders).each(function(index) {\n                    $t = $(this);\n                    // make sure to get header cell & not column indexed cell\n                    ch = ts.getColumnData( table, c.headers, index, true );\n                    // save original header content\n                    c.headerContent[index] = $(this).html();\n                    // set up header template\n                    t = c.headerTemplate.replace(/\\{content\\}/g, $(this).html()).replace(/\\{icon\\}/g, i);\n                    if (c.onRenderTemplate) {\n                        h = c.onRenderTemplate.apply($t, [index, t]);\n                        if (h && typeof h === 'string') { t = h; } // only change t if something is returned\n                    }\n                    $(this).html('<div class=\"' + ts.css.headerIn + '\">' + t + '</div>'); // faster than wrapInner\n\n                    if (c.onRenderHeader) { c.onRenderHeader.apply($t, [index]); }\n                    this.column = parseInt( $(this).attr('data-column'), 10);\n                    this.order = formatSortingOrder( ts.getData($t, ch, 'sortInitialOrder') || c.sortInitialOrder ) ? [1,0,2] : [0,1,2];\n                    this.count = -1; // set to -1 because clicking on the header automatically adds one\n                    this.lockedOrder = false;\n                    lock = ts.getData($t, ch, 'lockedOrder') || false;\n                    if (typeof lock !== 'undefined' && lock !== false) {\n                        this.order = this.lockedOrder = formatSortingOrder(lock) ? [1,1,1] : [0,0,0];\n                    }\n                    $t.addClass(ts.css.header + ' ' + c.cssHeader);\n                    // add cell to headerList\n                    c.headerList[index] = this;\n                    // add to parent in case there are multiple rows\n                    $t.parent().addClass(ts.css.headerRow + ' ' + c.cssHeaderRow).attr('role', 'row');\n                    // allow keyboard cursor to focus on element\n                    if (c.tabIndex) { $t.attr(\"tabindex\", 0); }\n                }).attr({\n                        scope: 'col',\n                        role : 'columnheader'\n                    });\n                // enable/disable sorting\n                updateHeader(table);\n                if (c.debug) {\n                    benchmark(\"Built headers:\", time);\n                    log(c.$headers);\n                }\n            }\n\n            function commonUpdate(table, resort, callback) {\n                var c = table.config;\n                // remove rows/elements before update\n                c.$table.find(c.selectorRemove).remove();\n                // rebuild parsers\n                buildParserCache(table);\n                // rebuild the cache map\n                buildCache(table);\n                checkResort(c.$table, resort, callback);\n            }\n\n            function updateHeader(table) {\n                var s, $th, col,\n                    c = table.config;\n                c.$headers.each(function(index, th){\n                    $th = $(th);\n                    col = ts.getColumnData( table, c.headers, index, true );\n                    // add \"sorter-false\" class if \"parser-false\" is set\n                    s = ts.getData( th, col, 'sorter' ) === 'false' || ts.getData( th, col, 'parser' ) === 'false';\n                    th.sortDisabled = s;\n                    $th[ s ? 'addClass' : 'removeClass' ]('sorter-false').attr('aria-disabled', '' + s);\n                    // aria-controls - requires table ID\n                    if (table.id) {\n                        if (s) {\n                            $th.removeAttr('aria-controls');\n                        } else {\n                            $th.attr('aria-controls', table.id);\n                        }\n                    }\n                });\n            }\n\n            function setHeadersCss(table) {\n                var f, i, j,\n                    c = table.config,\n                    list = c.sortList,\n                    len = list.length,\n                    none = ts.css.sortNone + ' ' + c.cssNone,\n                    css = [ts.css.sortAsc + ' ' + c.cssAsc, ts.css.sortDesc + ' ' + c.cssDesc],\n                    aria = ['ascending', 'descending'],\n                // find the footer\n                    $t = $(table).find('tfoot tr').children().add(c.$extraHeaders).removeClass(css.join(' '));\n                // remove all header information\n                c.$headers\n                    .removeClass(css.join(' '))\n                    .addClass(none).attr('aria-sort', 'none');\n                for (i = 0; i < len; i++) {\n                    // direction = 2 means reset!\n                    if (list[i][1] !== 2) {\n                        // multicolumn sorting updating - choose the :last in case there are nested columns\n                        f = c.$headers.not('.sorter-false').filter('[data-column=\"' + list[i][0] + '\"]' + (len === 1 ? ':last' : '') );\n                        if (f.length) {\n                            for (j = 0; j < f.length; j++) {\n                                if (!f[j].sortDisabled) {\n                                    f.eq(j).removeClass(none).addClass(css[list[i][1]]).attr('aria-sort', aria[list[i][1]]);\n                                }\n                            }\n                            // add sorted class to footer & extra headers, if they exist\n                            if ($t.length) {\n                                $t.filter('[data-column=\"' + list[i][0] + '\"]').removeClass(none).addClass(css[list[i][1]]);\n                            }\n                        }\n                    }\n                }\n                // add verbose aria labels\n                c.$headers.not('.sorter-false').each(function(){\n                    var $this = $(this),\n                        nextSort = this.order[(this.count + 1) % (c.sortReset ? 3 : 2)],\n                        txt = $this.text() + ': ' +\n                            ts.language[ $this.hasClass(ts.css.sortAsc) ? 'sortAsc' : $this.hasClass(ts.css.sortDesc) ? 'sortDesc' : 'sortNone' ] +\n                            ts.language[ nextSort === 0 ? 'nextAsc' : nextSort === 1 ? 'nextDesc' : 'nextNone' ];\n                    $this.attr('aria-label', txt );\n                });\n            }\n\n            // automatically add col group, and column sizes if set\n            function fixColumnWidth(table) {\n                if (table.config.widthFixed && $(table).find('colgroup').length === 0) {\n                    var colgroup = $('<colgroup>'),\n                        overallWidth = $(table).width();\n                    // only add col for visible columns - fixes #371\n                    $(table.tBodies[0]).find(\"tr:first\").children(\":visible\").each(function() {\n                        colgroup.append($('<col>').css('width', parseInt(($(this).width()/overallWidth)*1000, 10)/10 + '%'));\n                    });\n                    $(table).prepend(colgroup);\n                }\n            }\n\n            function updateHeaderSortCount(table, list) {\n                var s, t, o, col, primary,\n                    c = table.config,\n                    sl = list || c.sortList;\n                c.sortList = [];\n                $.each(sl, function(i,v){\n                    // ensure all sortList values are numeric - fixes #127\n                    col = parseInt(v[0], 10);\n                    // make sure header exists\n                    o = c.$headers.filter('[data-column=\"' + col + '\"]:last')[0];\n                    if (o) { // prevents error if sorton array is wrong\n                        // o.count = o.count + 1;\n                        t = ('' + v[1]).match(/^(1|d|s|o|n)/);\n                        t = t ? t[0] : '';\n                        // 0/(a)sc (default), 1/(d)esc, (s)ame, (o)pposite, (n)ext\n                        switch(t) {\n                            case '1': case 'd': // descending\n                            t = 1;\n                            break;\n                            case 's': // same direction (as primary column)\n                                // if primary sort is set to \"s\", make it ascending\n                                t = primary || 0;\n                                break;\n                            case 'o':\n                                s = o.order[(primary || 0) % (c.sortReset ? 3 : 2)];\n                                // opposite of primary column; but resets if primary resets\n                                t = s === 0 ? 1 : s === 1 ? 0 : 2;\n                                break;\n                            case 'n':\n                                o.count = o.count + 1;\n                                t = o.order[(o.count) % (c.sortReset ? 3 : 2)];\n                                break;\n                            default: // ascending\n                                t = 0;\n                                break;\n                        }\n                        primary = i === 0 ? t : primary;\n                        s = [ col, parseInt(t, 10) || 0 ];\n                        c.sortList.push(s);\n                        t = $.inArray(s[1], o.order); // fixes issue #167\n                        o.count = t >= 0 ? t : s[1] % (c.sortReset ? 3 : 2);\n                    }\n                });\n            }\n\n            function getCachedSortType(parsers, i) {\n                return (parsers && parsers[i]) ? parsers[i].type || '' : '';\n            }\n\n            function initSort(table, cell, event){\n                if (table.isUpdating) {\n                    // let any updates complete before initializing a sort\n                    return setTimeout(function(){ initSort(table, cell, event); }, 50);\n                }\n                var arry, indx, col, order, s,\n                    c = table.config,\n                    key = !event[c.sortMultiSortKey],\n                    $table = c.$table;\n                // Only call sortStart if sorting is enabled\n                $table.trigger(\"sortStart\", table);\n                // get current column sort order\n                cell.count = event[c.sortResetKey] ? 2 : (cell.count + 1) % (c.sortReset ? 3 : 2);\n                // reset all sorts on non-current column - issue #30\n                if (c.sortRestart) {\n                    indx = cell;\n                    c.$headers.each(function() {\n                        // only reset counts on columns that weren't just clicked on and if not included in a multisort\n                        if (this !== indx && (key || !$(this).is('.' + ts.css.sortDesc + ',.' + ts.css.sortAsc))) {\n                            this.count = -1;\n                        }\n                    });\n                }\n                // get current column index\n                indx = cell.column;\n                // user only wants to sort on one column\n                if (key) {\n                    // flush the sort list\n                    c.sortList = [];\n                    if (c.sortForce !== null) {\n                        arry = c.sortForce;\n                        for (col = 0; col < arry.length; col++) {\n                            if (arry[col][0] !== indx) {\n                                c.sortList.push(arry[col]);\n                            }\n                        }\n                    }\n                    // add column to sort list\n                    order = cell.order[cell.count];\n                    if (order < 2) {\n                        c.sortList.push([indx, order]);\n                        // add other columns if header spans across multiple\n                        if (cell.colSpan > 1) {\n                            for (col = 1; col < cell.colSpan; col++) {\n                                c.sortList.push([indx + col, order]);\n                            }\n                        }\n                    }\n                    // multi column sorting\n                } else {\n                    // get rid of the sortAppend before adding more - fixes issue #115 & #523\n                    if (c.sortAppend && c.sortList.length > 1) {\n                        for (col = 0; col < c.sortAppend.length; col++) {\n                            s = ts.isValueInArray(c.sortAppend[col][0], c.sortList);\n                            if (s >= 0) {\n                                c.sortList.splice(s,1);\n                            }\n                        }\n                    }\n                    // the user has clicked on an already sorted column\n                    if (ts.isValueInArray(indx, c.sortList) >= 0) {\n                        // reverse the sorting direction\n                        for (col = 0; col < c.sortList.length; col++) {\n                            s = c.sortList[col];\n                            order = c.$headers.filter('[data-column=\"' + s[0] + '\"]:last')[0];\n                            if (s[0] === indx) {\n                                // order.count seems to be incorrect when compared to cell.count\n                                s[1] = order.order[cell.count];\n                                if (s[1] === 2) {\n                                    c.sortList.splice(col,1);\n                                    order.count = -1;\n                                }\n                            }\n                        }\n                    } else {\n                        // add column to sort list array\n                        order = cell.order[cell.count];\n                        if (order < 2) {\n                            c.sortList.push([indx, order]);\n                            // add other columns if header spans across multiple\n                            if (cell.colSpan > 1) {\n                                for (col = 1; col < cell.colSpan; col++) {\n                                    c.sortList.push([indx + col, order]);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (c.sortAppend !== null) {\n                    arry = c.sortAppend;\n                    for (col = 0; col < arry.length; col++) {\n                        if (arry[col][0] !== indx) {\n                            c.sortList.push(arry[col]);\n                        }\n                    }\n                }\n                // sortBegin event triggered immediately before the sort\n                $table.trigger(\"sortBegin\", table);\n                // setTimeout needed so the processing icon shows up\n                setTimeout(function(){\n                    // set css for headers\n                    setHeadersCss(table);\n                    multisort(table);\n                    appendToTable(table);\n                    $table.trigger(\"sortEnd\", table);\n                }, 1);\n            }\n\n            // sort multiple columns\n            function multisort(table) { /*jshint loopfunc:true */\n                var i, k, num, col, sortTime, colMax,\n                    cache, order, sort, x, y,\n                    dir = 0,\n                    c = table.config,\n                    cts = c.textSorter || '',\n                    sortList = c.sortList,\n                    l = sortList.length,\n                    bl = table.tBodies.length;\n                if (c.serverSideSorting || isEmptyObject(c.cache)) { // empty table - fixes #206/#346\n                    return;\n                }\n                if (c.debug) { sortTime = new Date(); }\n                for (k = 0; k < bl; k++) {\n                    colMax = c.cache[k].colMax;\n                    cache = c.cache[k].normalized;\n\n                    cache.sort(function(a, b) {\n                        // cache is undefined here in IE, so don't use it!\n                        for (i = 0; i < l; i++) {\n                            col = sortList[i][0];\n                            order = sortList[i][1];\n                            // sort direction, true = asc, false = desc\n                            dir = order === 0;\n\n                            if (c.sortStable && a[col] === b[col] && l === 1) {\n                                return a[c.columns].order - b[c.columns].order;\n                            }\n\n                            // fallback to natural sort since it is more robust\n                            num = /n/i.test(getCachedSortType(c.parsers, col));\n                            if (num && c.strings[col]) {\n                                // sort strings in numerical columns\n                                if (typeof (c.string[c.strings[col]]) === 'boolean') {\n                                    num = (dir ? 1 : -1) * (c.string[c.strings[col]] ? -1 : 1);\n                                } else {\n                                    num = (c.strings[col]) ? c.string[c.strings[col]] || 0 : 0;\n                                }\n                                // fall back to built-in numeric sort\n                                // var sort = $.tablesorter[\"sort\" + s](table, a[c], b[c], c, colMax[c], dir);\n                                sort = c.numberSorter ? c.numberSorter(a[col], b[col], dir, colMax[col], table) :\n                                    ts[ 'sortNumeric' + (dir ? 'Asc' : 'Desc') ](a[col], b[col], num, colMax[col], col, table);\n                            } else {\n                                // set a & b depending on sort direction\n                                x = dir ? a : b;\n                                y = dir ? b : a;\n                                // text sort function\n                                if (typeof(cts) === 'function') {\n                                    // custom OVERALL text sorter\n                                    sort = cts(x[col], y[col], dir, col, table);\n                                } else if (typeof(cts) === 'object' && cts.hasOwnProperty(col)) {\n                                    // custom text sorter for a SPECIFIC COLUMN\n                                    sort = cts[col](x[col], y[col], dir, col, table);\n                                } else {\n                                    // fall back to natural sort\n                                    sort = ts[ 'sortNatural' + (dir ? 'Asc' : 'Desc') ](a[col], b[col], col, table, c);\n                                }\n                            }\n                            if (sort) { return sort; }\n                        }\n                        return a[c.columns].order - b[c.columns].order;\n                    });\n                }\n                if (c.debug) { benchmark(\"Sorting on \" + sortList.toString() + \" and dir \" + order + \" time\", sortTime); }\n            }\n\n            function resortComplete($table, callback){\n                var table = $table[0];\n                if (table.isUpdating) {\n                    $table.trigger('updateComplete');\n                }\n                if ($.isFunction(callback)) {\n                    callback($table[0]);\n                }\n            }\n\n            function checkResort($table, flag, callback) {\n                var sl = $table[0].config.sortList;\n                // don't try to resort if the table is still processing\n                // this will catch spamming of the updateCell method\n                if (flag !== false && !$table[0].isProcessing && sl.length) {\n                    $table.trigger(\"sorton\", [sl, function(){\n                        resortComplete($table, callback);\n                    }, true]);\n                } else {\n                    resortComplete($table, callback);\n                    ts.applyWidget($table[0], false);\n                }\n            }\n\n            function bindMethods(table){\n                var c = table.config,\n                    $table = c.$table;\n                // apply easy methods that trigger bound events\n                $table\n                    .unbind('sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave '.split(' ').join(c.namespace + ' '))\n                    .bind(\"sortReset\" + c.namespace, function(e, callback){\n                        e.stopPropagation();\n                        c.sortList = [];\n                        setHeadersCss(table);\n                        multisort(table);\n                        appendToTable(table);\n                        if ($.isFunction(callback)) {\n                            callback(table);\n                        }\n                    })\n                    .bind(\"updateAll\" + c.namespace, function(e, resort, callback){\n                        e.stopPropagation();\n                        table.isUpdating = true;\n                        ts.refreshWidgets(table, true, true);\n                        ts.restoreHeaders(table);\n                        buildHeaders(table);\n                        ts.bindEvents(table, c.$headers, true);\n                        bindMethods(table);\n                        commonUpdate(table, resort, callback);\n                    })\n                    .bind(\"update\" + c.namespace + \" updateRows\" + c.namespace, function(e, resort, callback) {\n                        e.stopPropagation();\n                        table.isUpdating = true;\n                        // update sorting (if enabled/disabled)\n                        updateHeader(table);\n                        commonUpdate(table, resort, callback);\n                    })\n                    .bind(\"updateCell\" + c.namespace, function(e, cell, resort, callback) {\n                        e.stopPropagation();\n                        table.isUpdating = true;\n                        $table.find(c.selectorRemove).remove();\n                        // get position from the dom\n                        var v, t, row, icell,\n                            $tb = $table.find('tbody'),\n                            $cell = $(cell),\n                        // update cache - format: function(s, table, cell, cellIndex)\n                        // no closest in jQuery v1.2.6 - tbdy = $tb.index( $(cell).closest('tbody') ),$row = $(cell).closest('tr');\n                            tbdy = $tb.index( $.fn.closest ? $cell.closest('tbody') : $cell.parents('tbody').filter(':first') ),\n                            $row = $.fn.closest ? $cell.closest('tr') : $cell.parents('tr').filter(':first');\n                        cell = $cell[0]; // in case cell is a jQuery object\n                        // tbody may not exist if update is initialized while tbody is removed for processing\n                        if ($tb.length && tbdy >= 0) {\n                            row = $tb.eq(tbdy).find('tr').index( $row );\n                            icell = $cell.index();\n                            c.cache[tbdy].normalized[row][c.columns].$row = $row;\n                            if (typeof c.extractors[icell].id === 'undefined') {\n                                t = getElementText(table, cell, icell);\n                            } else {\n                                t = c.extractors[icell].format( getElementText(table, cell, icell), table, cell, icell );\n                            }\n                            v = c.parsers[icell].id === 'no-parser' ? '' :\n                                c.parsers[icell].format( t, table, cell, icell );\n                            c.cache[tbdy].normalized[row][icell] = c.ignoreCase && typeof v === 'string' ? v.toLowerCase() : v;\n                            if ((c.parsers[icell].type || '').toLowerCase() === \"numeric\") {\n                                // update column max value (ignore sign)\n                                c.cache[tbdy].colMax[icell] = Math.max(Math.abs(v) || 0, c.cache[tbdy].colMax[icell] || 0);\n                            }\n                            checkResort($table, resort, callback);\n                        }\n                    })\n                    .bind(\"addRows\" + c.namespace, function(e, $row, resort, callback) {\n                        e.stopPropagation();\n                        table.isUpdating = true;\n                        if (isEmptyObject(c.cache)) {\n                            // empty table, do an update instead - fixes #450\n                            updateHeader(table);\n                            commonUpdate(table, resort, callback);\n                        } else {\n                            $row = $($row).attr('role', 'row'); // make sure we're using a jQuery object\n                            var i, j, l, t, v, rowData, cells,\n                                rows = $row.filter('tr').length,\n                                tbdy = $table.find('tbody').index( $row.parents('tbody').filter(':first') );\n                            // fixes adding rows to an empty table - see issue #179\n                            if (!(c.parsers && c.parsers.length)) {\n                                buildParserCache(table);\n                            }\n                            // add each row\n                            for (i = 0; i < rows; i++) {\n                                l = $row[i].cells.length;\n                                cells = [];\n                                rowData = {\n                                    child: [],\n                                    $row : $row.eq(i),\n                                    order: c.cache[tbdy].normalized.length\n                                };\n                                // add each cell\n                                for (j = 0; j < l; j++) {\n                                    if (typeof c.extractors[j].id === 'undefined') {\n                                        t = getElementText(table, $row[i].cells[j], j);\n                                    } else {\n                                        t = c.extractors[j].format( getElementText(table, $row[i].cells[j], j), table, $row[i].cells[j], j );\n                                    }\n                                    v = c.parsers[j].id === 'no-parser' ? '' :\n                                        c.parsers[j].format( t, table, $row[i].cells[j], j );\n                                    cells[j] = c.ignoreCase && typeof v === 'string' ? v.toLowerCase() : v;\n                                    if ((c.parsers[j].type || '').toLowerCase() === \"numeric\") {\n                                        // update column max value (ignore sign)\n                                        c.cache[tbdy].colMax[j] = Math.max(Math.abs(cells[j]) || 0, c.cache[tbdy].colMax[j] || 0);\n                                    }\n                                }\n                                // add the row data to the end\n                                cells.push(rowData);\n                                // update cache\n                                c.cache[tbdy].normalized.push(cells);\n                            }\n                            // resort using current settings\n                            checkResort($table, resort, callback);\n                        }\n                    })\n                    .bind(\"updateComplete\" + c.namespace, function(){\n                        table.isUpdating = false;\n                    })\n                    .bind(\"sorton\" + c.namespace, function(e, list, callback, init) {\n                        var c = table.config;\n                        e.stopPropagation();\n                        $table.trigger(\"sortStart\", this);\n                        // update header count index\n                        updateHeaderSortCount(table, list);\n                        // set css for headers\n                        setHeadersCss(table);\n                        // fixes #346\n                        if (c.delayInit && isEmptyObject(c.cache)) { buildCache(table); }\n                        $table.trigger(\"sortBegin\", this);\n                        // sort the table and append it to the dom\n                        multisort(table);\n                        appendToTable(table, init);\n                        $table.trigger(\"sortEnd\", this);\n                        ts.applyWidget(table);\n                        if ($.isFunction(callback)) {\n                            callback(table);\n                        }\n                    })\n                    .bind(\"appendCache\" + c.namespace, function(e, callback, init) {\n                        e.stopPropagation();\n                        appendToTable(table, init);\n                        if ($.isFunction(callback)) {\n                            callback(table);\n                        }\n                    })\n                    .bind(\"updateCache\" + c.namespace, function(e, callback){\n                        // rebuild parsers\n                        if (!(c.parsers && c.parsers.length)) {\n                            buildParserCache(table);\n                        }\n                        // rebuild the cache map\n                        buildCache(table);\n                        if ($.isFunction(callback)) {\n                            callback(table);\n                        }\n                    })\n                    .bind(\"applyWidgetId\" + c.namespace, function(e, id) {\n                        e.stopPropagation();\n                        ts.getWidgetById(id).format(table, c, c.widgetOptions);\n                    })\n                    .bind(\"applyWidgets\" + c.namespace, function(e, init) {\n                        e.stopPropagation();\n                        // apply widgets\n                        ts.applyWidget(table, init);\n                    })\n                    .bind(\"refreshWidgets\" + c.namespace, function(e, all, dontapply){\n                        e.stopPropagation();\n                        ts.refreshWidgets(table, all, dontapply);\n                    })\n                    .bind(\"destroy\" + c.namespace, function(e, c, cb){\n                        e.stopPropagation();\n                        ts.destroy(table, c, cb);\n                    })\n                    .bind(\"resetToLoadState\" + c.namespace, function(){\n                        // remove all widgets\n                        ts.refreshWidgets(table, true, true);\n                        // restore original settings; this clears out current settings, but does not clear\n                        // values saved to storage.\n                        c = $.extend(true, ts.defaults, c.originalSettings);\n                        table.hasInitialized = false;\n                        // setup the entire table again\n                        ts.setup( table, c );\n                    });\n            }\n\n            /* public methods */\n            ts.construct = function(settings) {\n                return this.each(function() {\n                    var table = this,\n                    // merge & extend config options\n                        c = $.extend(true, {}, ts.defaults, settings);\n                    // save initial settings\n                    c.originalSettings = settings;\n                    // create a table from data (build table widget)\n                    if (!table.hasInitialized && ts.buildTable && this.tagName !== 'TABLE') {\n                        // return the table (in case the original target is the table's container)\n                        ts.buildTable(table, c);\n                    } else {\n                        ts.setup(table, c);\n                    }\n                });\n            };\n\n            ts.setup = function(table, c) {\n                // if no thead or tbody, or tablesorter is already present, quit\n                if (!table || !table.tHead || table.tBodies.length === 0 || table.hasInitialized === true) {\n                    return c.debug ? log('ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized') : '';\n                }\n\n                var k = '',\n                    $table = $(table),\n                    m = $.metadata;\n                // initialization flag\n                table.hasInitialized = false;\n                // table is being processed flag\n                table.isProcessing = true;\n                // make sure to store the config object\n                table.config = c;\n                // save the settings where they read\n                $.data(table, \"tablesorter\", c);\n                if (c.debug) { $.data( table, 'startoveralltimer', new Date()); }\n\n                // removing this in version 3 (only supports jQuery 1.7+)\n                c.supportsDataObject = (function(version) {\n                    version[0] = parseInt(version[0], 10);\n                    return (version[0] > 1) || (version[0] === 1 && parseInt(version[1], 10) >= 4);\n                })($.fn.jquery.split(\".\"));\n                // digit sort text location; keeping max+/- for backwards compatibility\n                c.string = { 'max': 1, 'min': -1, 'emptyMin': 1, 'emptyMax': -1, 'zero': 0, 'none': 0, 'null': 0, 'top': true, 'bottom': false };\n                // add table theme class only if there isn't already one there\n                if (!/tablesorter\\-/.test($table.attr('class'))) {\n                    k = (c.theme !== '' ? ' tablesorter-' + c.theme : '');\n                }\n                c.table = table;\n                c.$table = $table\n                    .addClass(ts.css.table + ' ' + c.tableClass + k)\n                    .attr('role', 'grid');\n                c.$headers = $table.find(c.selectorHeaders);\n\n                // give the table a unique id, which will be used in namespace binding\n                if (!c.namespace) {\n                    c.namespace = '.tablesorter' + Math.random().toString(16).slice(2);\n                } else {\n                    // make sure namespace starts with a period & doesn't have weird characters\n                    c.namespace = '.' + c.namespace.replace(/\\W/g,'');\n                }\n\n                c.$table.children().children('tr').attr('role', 'row');\n                c.$tbodies = $table.children('tbody:not(.' + c.cssInfoBlock + ')').attr({\n                    'aria-live' : 'polite',\n                    'aria-relevant' : 'all'\n                });\n                if (c.$table.find('caption').length) {\n                    c.$table.attr('aria-labelledby', 'theCaption');\n                }\n                c.widgetInit = {}; // keep a list of initialized widgets\n                // change textExtraction via data-attribute\n                c.textExtraction = c.$table.attr('data-text-extraction') || c.textExtraction || 'basic';\n                // build headers\n                buildHeaders(table);\n                // fixate columns if the users supplies the fixedWidth option\n                // do this after theme has been applied\n                fixColumnWidth(table);\n                // try to auto detect column type, and store in tables config\n                buildParserCache(table);\n                // start total row count at zero\n                c.totalRows = 0;\n                // build the cache for the tbody cells\n                // delayInit will delay building the cache until the user starts a sort\n                if (!c.delayInit) { buildCache(table); }\n                // bind all header events and methods\n                ts.bindEvents(table, c.$headers, true);\n                bindMethods(table);\n                // get sort list from jQuery data or metadata\n                // in jQuery < 1.4, an error occurs when calling $table.data()\n                if (c.supportsDataObject && typeof $table.data().sortlist !== 'undefined') {\n                    c.sortList = $table.data().sortlist;\n                } else if (m && ($table.metadata() && $table.metadata().sortlist)) {\n                    c.sortList = $table.metadata().sortlist;\n                }\n                // apply widget init code\n                ts.applyWidget(table, true);\n                // if user has supplied a sort list to constructor\n                if (c.sortList.length > 0) {\n                    $table.trigger(\"sorton\", [c.sortList, {}, !c.initWidgets, true]);\n                } else {\n                    setHeadersCss(table);\n                    if (c.initWidgets) {\n                        // apply widget format\n                        ts.applyWidget(table, false);\n                    }\n                }\n\n                // show processesing icon\n                if (c.showProcessing) {\n                    $table\n                        .unbind('sortBegin' + c.namespace + ' sortEnd' + c.namespace)\n                        .bind('sortBegin' + c.namespace + ' sortEnd' + c.namespace, function(e) {\n                            clearTimeout(c.processTimer);\n                            ts.isProcessing(table);\n                            if (e.type === 'sortBegin') {\n                                c.processTimer = setTimeout(function(){\n                                    ts.isProcessing(table, true);\n                                }, 500);\n                            }\n                        });\n                }\n\n                // initialized\n                table.hasInitialized = true;\n                table.isProcessing = false;\n                if (c.debug) {\n                    ts.benchmark(\"Overall initialization time\", $.data( table, 'startoveralltimer'));\n                }\n                $table.trigger('tablesorter-initialized', table);\n                if (typeof c.initialized === 'function') { c.initialized(table); }\n            };\n\n            ts.getColumnData = function(table, obj, indx, getCell){\n                if (typeof obj === 'undefined' || obj === null) { return; }\n                table = $(table)[0];\n                var result, $h, k,\n                    c = table.config;\n                if (obj[indx]) {\n                    return getCell ? obj[indx] : obj[c.$headers.index( c.$headers.filter('[data-column=\"' + indx + '\"]:last') )];\n                }\n                for (k in obj) {\n                    if (typeof k === 'string') {\n                        if (getCell) {\n                            // get header cell\n                            $h = c.$headers.eq(indx).filter(k);\n                        } else {\n                            // get column indexed cell\n                            $h = c.$headers.filter('[data-column=\"' + indx + '\"]:last').filter(k);\n                        }\n                        if ($h.length) {\n                            return obj[k];\n                        }\n                    }\n                }\n                return result;\n            };\n\n            // computeTableHeaderCellIndexes from:\n            // http://www.javascripttoolbox.com/lib/table/examples.php\n            // http://www.javascripttoolbox.com/temp/table_cellindex.html\n            ts.computeColumnIndex = function(trs) {\n                var matrix = [],\n                    lookup = {},\n                    cols = 0, // determine the number of columns\n                    i, j, k, l, $cell, cell, cells, rowIndex, cellId, rowSpan, colSpan, firstAvailCol, matrixrow;\n                for (i = 0; i < trs.length; i++) {\n                    cells = trs[i].cells;\n                    for (j = 0; j < cells.length; j++) {\n                        cell = cells[j];\n                        $cell = $(cell);\n                        rowIndex = cell.parentNode.rowIndex;\n                        cellId = rowIndex + \"-\" + $cell.index();\n                        rowSpan = cell.rowSpan || 1;\n                        colSpan = cell.colSpan || 1;\n                        if (typeof(matrix[rowIndex]) === \"undefined\") {\n                            matrix[rowIndex] = [];\n                        }\n                        // Find first available column in the first row\n                        for (k = 0; k < matrix[rowIndex].length + 1; k++) {\n                            if (typeof(matrix[rowIndex][k]) === \"undefined\") {\n                                firstAvailCol = k;\n                                break;\n                            }\n                        }\n                        lookup[cellId] = firstAvailCol;\n                        cols = Math.max(firstAvailCol, cols);\n                        // add data-column\n                        $cell.attr({ 'data-column' : firstAvailCol }); // 'data-row' : rowIndex\n                        for (k = rowIndex; k < rowIndex + rowSpan; k++) {\n                            if (typeof(matrix[k]) === \"undefined\") {\n                                matrix[k] = [];\n                            }\n                            matrixrow = matrix[k];\n                            for (l = firstAvailCol; l < firstAvailCol + colSpan; l++) {\n                                matrixrow[l] = \"x\";\n                            }\n                        }\n                    }\n                }\n                // may not be accurate if # header columns !== # tbody columns\n                return cols + 1; // add one because it's a zero-based index\n            };\n\n            // *** Process table ***\n            // add processing indicator\n            ts.isProcessing = function(table, toggle, $ths) {\n                table = $(table);\n                var c = table[0].config,\n                // default to all headers\n                    $h = $ths || table.find('.' + ts.css.header);\n                if (toggle) {\n                    // don't use sortList if custom $ths used\n                    if (typeof $ths !== 'undefined' && c.sortList.length > 0) {\n                        // get headers from the sortList\n                        $h = $h.filter(function(){\n                            // get data-column from attr to keep  compatibility with jQuery 1.2.6\n                            return this.sortDisabled ? false : ts.isValueInArray( parseFloat($(this).attr('data-column')), c.sortList) >= 0;\n                        });\n                    }\n                    table.add($h).addClass(ts.css.processing + ' ' + c.cssProcessing);\n                } else {\n                    table.add($h).removeClass(ts.css.processing + ' ' + c.cssProcessing);\n                }\n            };\n\n            // detach tbody but save the position\n            // don't use tbody because there are portions that look for a tbody index (updateCell)\n            ts.processTbody = function(table, $tb, getIt){\n                table = $(table)[0];\n                var holdr;\n                if (getIt) {\n                    table.isProcessing = true;\n                    $tb.before('<span class=\"tablesorter-savemyplace\"/>');\n                    holdr = ($.fn.detach) ? $tb.detach() : $tb.remove();\n                    return holdr;\n                }\n                holdr = $(table).find('span.tablesorter-savemyplace');\n                $tb.insertAfter( holdr );\n                holdr.remove();\n                table.isProcessing = false;\n            };\n\n            ts.clearTableBody = function(table) {\n                $(table)[0].config.$tbodies.children().detach();\n            };\n\n            ts.bindEvents = function(table, $headers, core){\n                table = $(table)[0];\n                var downTime,\n                    c = table.config;\n                if (core !== true) {\n                    c.$extraHeaders = c.$extraHeaders ? c.$extraHeaders.add($headers) : $headers;\n                }\n                // apply event handling to headers and/or additional headers (stickyheaders, scroller, etc)\n                $headers\n                    // http://stackoverflow.com/questions/5312849/jquery-find-self;\n                    .find(c.selectorSort).add( $headers.filter(c.selectorSort) )\n                    .unbind('mousedown mouseup sort keyup '.split(' ').join(c.namespace + ' '))\n                    .bind('mousedown mouseup sort keyup '.split(' ').join(c.namespace + ' '), function(e, external) {\n                        var cell, type = e.type;\n                        // only recognize left clicks or enter\n                        if ( ((e.which || e.button) !== 1 && !/sort|keyup/.test(type)) || (type === 'keyup' && e.which !== 13) ) {\n                            return;\n                        }\n                        // ignore long clicks (prevents resizable widget from initializing a sort)\n                        if (type === 'mouseup' && external !== true && (new Date().getTime() - downTime > 250)) { return; }\n                        // set timer on mousedown\n                        if (type === 'mousedown') {\n                            downTime = new Date().getTime();\n                            return /(input|select|button|textarea)/i.test(e.target.tagName) ? '' : !c.cancelSelection;\n                        }\n                        if (c.delayInit && isEmptyObject(c.cache)) { buildCache(table); }\n                        // jQuery v1.2.6 doesn't have closest()\n                        cell = $.fn.closest ? $(this).closest('th, td')[0] : /TH|TD/.test(this.tagName) ? this : $(this).parents('th, td')[0];\n                        // reference original table headers and find the same cell\n                        cell = c.$headers[ $headers.index( cell ) ];\n                        if (!cell.sortDisabled) {\n                            initSort(table, cell, e);\n                        }\n                    });\n                if (c.cancelSelection) {\n                    // cancel selection\n                    $headers\n                        .attr('unselectable', 'on')\n                        .bind('selectstart', false)\n                        .css({\n                            'user-select': 'none',\n                            'MozUserSelect': 'none' // not needed for jQuery 1.8+\n                        });\n                }\n            };\n\n            // restore headers\n            ts.restoreHeaders = function(table){\n                var c = $(table)[0].config;\n                // don't use c.$headers here in case header cells were swapped\n                c.$table.find(c.selectorHeaders).each(function(i){\n                    // only restore header cells if it is wrapped\n                    // because this is also used by the updateAll method\n                    if ($(this).find('.' + ts.css.headerIn).length){\n                        $(this).html( c.headerContent[i] );\n                    }\n                });\n            };\n\n            ts.destroy = function(table, removeClasses, callback){\n                table = $(table)[0];\n                if (!table.hasInitialized) { return; }\n                // remove all widgets\n                ts.refreshWidgets(table, true, true);\n                var $t = $(table), c = table.config,\n                    $h = $t.find('thead:first'),\n                    $r = $h.find('tr.' + ts.css.headerRow).removeClass(ts.css.headerRow + ' ' + c.cssHeaderRow),\n                    $f = $t.find('tfoot:first > tr').children('th, td');\n                if (removeClasses === false && $.inArray('uitheme', c.widgets) >= 0) {\n                    // reapply uitheme classes, in case we want to maintain appearance\n                    $t.trigger('applyWidgetId', ['uitheme']);\n                    $t.trigger('applyWidgetId', ['zebra']);\n                }\n                // remove widget added rows, just in case\n                $h.find('tr').not($r).remove();\n                // disable tablesorter\n                $t\n                    .removeData('tablesorter')\n                    .unbind('sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState '.split(' ').join(c.namespace + ' '));\n                c.$headers.add($f)\n                    .removeClass( [ts.css.header, c.cssHeader, c.cssAsc, c.cssDesc, ts.css.sortAsc, ts.css.sortDesc, ts.css.sortNone].join(' ') )\n                    .removeAttr('data-column')\n                    .removeAttr('aria-label')\n                    .attr('aria-disabled', 'true');\n                $r.find(c.selectorSort).unbind('mousedown mouseup keypress '.split(' ').join(c.namespace + ' '));\n                ts.restoreHeaders(table);\n                $t.toggleClass(ts.css.table + ' ' + c.tableClass + ' tablesorter-' + c.theme, removeClasses === false);\n                // clear flag in case the plugin is initialized again\n                table.hasInitialized = false;\n                delete table.config.cache;\n                if (typeof callback === 'function') {\n                    callback(table);\n                }\n            };\n\n            // *** sort functions ***\n            // regex used in natural sort\n            ts.regex = {\n                chunk : /(^([+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi, // chunk/tokenize numbers & letters\n                chunks: /(^\\\\0|\\\\0$)/, // replace chunks @ ends\n                hex: /^0x[0-9a-f]+$/i // hex\n            };\n\n            // Natural sort - https://github.com/overset/javascript-natural-sort (date sorting removed)\n            // this function will only accept strings, or you'll see \"TypeError: undefined is not a function\"\n            // I could add a = a.toString(); b = b.toString(); but it'll slow down the sort overall\n            ts.sortNatural = function(a, b) {\n                if (a === b) { return 0; }\n                var xN, xD, yN, yD, xF, yF, i, mx,\n                    r = ts.regex;\n                // first try and sort Hex codes\n                if (r.hex.test(b)) {\n                    xD = parseInt(a.match(r.hex), 16);\n                    yD = parseInt(b.match(r.hex), 16);\n                    if ( xD < yD ) { return -1; }\n                    if ( xD > yD ) { return 1; }\n                }\n                // chunk/tokenize\n                xN = a.replace(r.chunk, '\\\\0$1\\\\0').replace(r.chunks, '').split('\\\\0');\n                yN = b.replace(r.chunk, '\\\\0$1\\\\0').replace(r.chunks, '').split('\\\\0');\n                mx = Math.max(xN.length, yN.length);\n                // natural sorting through split numeric strings and default strings\n                for (i = 0; i < mx; i++) {\n                    // find floats not starting with '0', string or 0 if not defined\n                    xF = isNaN(xN[i]) ? xN[i] || 0 : parseFloat(xN[i]) || 0;\n                    yF = isNaN(yN[i]) ? yN[i] || 0 : parseFloat(yN[i]) || 0;\n                    // handle numeric vs string comparison - number < string - (Kyle Adams)\n                    if (isNaN(xF) !== isNaN(yF)) { return (isNaN(xF)) ? 1 : -1; }\n                    // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n                    if (typeof xF !== typeof yF) {\n                        xF += '';\n                        yF += '';\n                    }\n                    if (xF < yF) { return -1; }\n                    if (xF > yF) { return 1; }\n                }\n                return 0;\n            };\n\n            ts.sortNaturalAsc = function(a, b, col, table, c) {\n                if (a === b) { return 0; }\n                var e = c.string[ (c.empties[col] || c.emptyTo ) ];\n                if (a === '' && e !== 0) { return typeof e === 'boolean' ? (e ? -1 : 1) : -e || -1; }\n                if (b === '' && e !== 0) { return typeof e === 'boolean' ? (e ? 1 : -1) : e || 1; }\n                return ts.sortNatural(a, b);\n            };\n\n            ts.sortNaturalDesc = function(a, b, col, table, c) {\n                if (a === b) { return 0; }\n                var e = c.string[ (c.empties[col] || c.emptyTo ) ];\n                if (a === '' && e !== 0) { return typeof e === 'boolean' ? (e ? -1 : 1) : e || 1; }\n                if (b === '' && e !== 0) { return typeof e === 'boolean' ? (e ? 1 : -1) : -e || -1; }\n                return ts.sortNatural(b, a);\n            };\n\n            // basic alphabetical sort\n            ts.sortText = function(a, b) {\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n\n            // return text string value by adding up ascii value\n            // so the text is somewhat sorted when using a digital sort\n            // this is NOT an alphanumeric sort\n            ts.getTextValue = function(a, num, mx) {\n                if (mx) {\n                    // make sure the text value is greater than the max numerical value (mx)\n                    var i, l = a ? a.length : 0, n = mx + num;\n                    for (i = 0; i < l; i++) {\n                        n += a.charCodeAt(i);\n                    }\n                    return num * n;\n                }\n                return 0;\n            };\n\n            ts.sortNumericAsc = function(a, b, num, mx, col, table) {\n                if (a === b) { return 0; }\n                var c = table.config,\n                    e = c.string[ (c.empties[col] || c.emptyTo ) ];\n                if (a === '' && e !== 0) { return typeof e === 'boolean' ? (e ? -1 : 1) : -e || -1; }\n                if (b === '' && e !== 0) { return typeof e === 'boolean' ? (e ? 1 : -1) : e || 1; }\n                if (isNaN(a)) { a = ts.getTextValue(a, num, mx); }\n                if (isNaN(b)) { b = ts.getTextValue(b, num, mx); }\n                return a - b;\n            };\n\n            ts.sortNumericDesc = function(a, b, num, mx, col, table) {\n                if (a === b) { return 0; }\n                var c = table.config,\n                    e = c.string[ (c.empties[col] || c.emptyTo ) ];\n                if (a === '' && e !== 0) { return typeof e === 'boolean' ? (e ? -1 : 1) : e || 1; }\n                if (b === '' && e !== 0) { return typeof e === 'boolean' ? (e ? 1 : -1) : -e || -1; }\n                if (isNaN(a)) { a = ts.getTextValue(a, num, mx); }\n                if (isNaN(b)) { b = ts.getTextValue(b, num, mx); }\n                return b - a;\n            };\n\n            ts.sortNumeric = function(a, b) {\n                return a - b;\n            };\n\n            // used when replacing accented characters during sorting\n            ts.characterEquivalents = {\n                \"a\" : \"\\u00e1\\u00e0\\u00e2\\u00e3\\u00e4\\u0105\\u00e5\", // áàâãäąå\n                \"A\" : \"\\u00c1\\u00c0\\u00c2\\u00c3\\u00c4\\u0104\\u00c5\", // ÁÀÂÃÄĄÅ\n                \"c\" : \"\\u00e7\\u0107\\u010d\", // çćč\n                \"C\" : \"\\u00c7\\u0106\\u010c\", // ÇĆČ\n                \"e\" : \"\\u00e9\\u00e8\\u00ea\\u00eb\\u011b\\u0119\", // éèêëěę\n                \"E\" : \"\\u00c9\\u00c8\\u00ca\\u00cb\\u011a\\u0118\", // ÉÈÊËĚĘ\n                \"i\" : \"\\u00ed\\u00ec\\u0130\\u00ee\\u00ef\\u0131\", // íìİîïı\n                \"I\" : \"\\u00cd\\u00cc\\u0130\\u00ce\\u00cf\", // ÍÌİÎÏ\n                \"o\" : \"\\u00f3\\u00f2\\u00f4\\u00f5\\u00f6\", // óòôõö\n                \"O\" : \"\\u00d3\\u00d2\\u00d4\\u00d5\\u00d6\", // ÓÒÔÕÖ\n                \"ss\": \"\\u00df\", // ß (s sharp)\n                \"SS\": \"\\u1e9e\", // ẞ (Capital sharp s)\n                \"u\" : \"\\u00fa\\u00f9\\u00fb\\u00fc\\u016f\", // úùûüů\n                \"U\" : \"\\u00da\\u00d9\\u00db\\u00dc\\u016e\" // ÚÙÛÜŮ\n            };\n            ts.replaceAccents = function(s) {\n                var a, acc = '[', eq = ts.characterEquivalents;\n                if (!ts.characterRegex) {\n                    ts.characterRegexArray = {};\n                    for (a in eq) {\n                        if (typeof a === 'string') {\n                            acc += eq[a];\n                            ts.characterRegexArray[a] = new RegExp('[' + eq[a] + ']', 'g');\n                        }\n                    }\n                    ts.characterRegex = new RegExp(acc + ']');\n                }\n                if (ts.characterRegex.test(s)) {\n                    for (a in eq) {\n                        if (typeof a === 'string') {\n                            s = s.replace( ts.characterRegexArray[a], a );\n                        }\n                    }\n                }\n                return s;\n            };\n\n            // *** utilities ***\n            ts.isValueInArray = function(column, arry) {\n                var indx, len = arry.length;\n                for (indx = 0; indx < len; indx++) {\n                    if (arry[indx][0] === column) {\n                        return indx;\n                    }\n                }\n                return -1;\n            };\n\n            ts.addParser = function(parser) {\n                var i, l = ts.parsers.length, a = true;\n                for (i = 0; i < l; i++) {\n                    if (ts.parsers[i].id.toLowerCase() === parser.id.toLowerCase()) {\n                        a = false;\n                    }\n                }\n                if (a) {\n                    ts.parsers.push(parser);\n                }\n            };\n\n            ts.getParserById = function(name) {\n                /*jshint eqeqeq:false */\n                if (name == 'false') { return false; }\n                var i, l = ts.parsers.length;\n                for (i = 0; i < l; i++) {\n                    if (ts.parsers[i].id.toLowerCase() === (name.toString()).toLowerCase()) {\n                        return ts.parsers[i];\n                    }\n                }\n                return false;\n            };\n\n            ts.addWidget = function(widget) {\n                ts.widgets.push(widget);\n            };\n\n            ts.hasWidget = function(table, name){\n                table = $(table);\n                return table.length && table[0].config && table[0].config.widgetInit[name] || false;\n            };\n\n            ts.getWidgetById = function(name) {\n                var i, w, l = ts.widgets.length;\n                for (i = 0; i < l; i++) {\n                    w = ts.widgets[i];\n                    if (w && w.hasOwnProperty('id') && w.id.toLowerCase() === name.toLowerCase()) {\n                        return w;\n                    }\n                }\n            };\n\n            ts.applyWidget = function(table, init) {\n                table = $(table)[0]; // in case this is called externally\n                var c = table.config,\n                    wo = c.widgetOptions,\n                    widgets = [],\n                    time, w, wd;\n                // prevent numerous consecutive widget applications\n                if (init !== false && table.hasInitialized && (table.isApplyingWidgets || table.isUpdating)) { return; }\n                if (c.debug) { time = new Date(); }\n                if (c.widgets.length) {\n                    table.isApplyingWidgets = true;\n                    // ensure unique widget ids\n                    c.widgets = $.grep(c.widgets, function(v, k){\n                        return $.inArray(v, c.widgets) === k;\n                    });\n                    // build widget array & add priority as needed\n                    $.each(c.widgets || [], function(i,n){\n                        wd = ts.getWidgetById(n);\n                        if (wd && wd.id) {\n                            // set priority to 10 if not defined\n                            if (!wd.priority) { wd.priority = 10; }\n                            widgets[i] = wd;\n                        }\n                    });\n                    // sort widgets by priority\n                    widgets.sort(function(a, b){\n                        return a.priority < b.priority ? -1 : a.priority === b.priority ? 0 : 1;\n                    });\n                    // add/update selected widgets\n                    $.each(widgets, function(i,w){\n                        if (w) {\n                            if (init || !(c.widgetInit[w.id])) {\n                                // set init flag first to prevent calling init more than once (e.g. pager)\n                                c.widgetInit[w.id] = true;\n                                if (w.hasOwnProperty('options')) {\n                                    wo = table.config.widgetOptions = $.extend( true, {}, w.options, wo );\n                                }\n                                if (w.hasOwnProperty('init')) {\n                                    w.init(table, w, c, wo);\n                                }\n                            }\n                            if (!init && w.hasOwnProperty('format')) {\n                                w.format(table, c, wo, false);\n                            }\n                        }\n                    });\n                }\n                setTimeout(function(){\n                    table.isApplyingWidgets = false;\n                }, 0);\n                if (c.debug) {\n                    w = c.widgets.length;\n                    benchmark(\"Completed \" + (init === true ? \"initializing \" : \"applying \") + w + \" widget\" + (w !== 1 ? \"s\" : \"\"), time);\n                }\n            };\n\n            ts.refreshWidgets = function(table, doAll, dontapply) {\n                table = $(table)[0]; // see issue #243\n                var i, c = table.config,\n                    cw = c.widgets,\n                    w = ts.widgets, l = w.length;\n                // remove previous widgets\n                for (i = 0; i < l; i++){\n                    if ( w[i] && w[i].id && (doAll || $.inArray( w[i].id, cw ) < 0) ) {\n                        if (c.debug) { log( 'Refeshing widgets: Removing \"' + w[i].id + '\"' ); }\n                        // only remove widgets that have been initialized - fixes #442\n                        if (w[i].hasOwnProperty('remove') && c.widgetInit[w[i].id]) {\n                            w[i].remove(table, c, c.widgetOptions);\n                            c.widgetInit[w[i].id] = false;\n                        }\n                    }\n                }\n                if (dontapply !== true) {\n                    ts.applyWidget(table, doAll);\n                }\n            };\n\n            // get sorter, string, empty, etc options for each column from\n            // jQuery data, metadata, header option or header class name (\"sorter-false\")\n            // priority = jQuery data > meta > headers option > header class name\n            ts.getData = function(h, ch, key) {\n                var val = '', $h = $(h), m, cl;\n                if (!$h.length) { return ''; }\n                m = $.metadata ? $h.metadata() : false;\n                cl = ' ' + ($h.attr('class') || '');\n                if (typeof $h.data(key) !== 'undefined' || typeof $h.data(key.toLowerCase()) !== 'undefined'){\n                    // \"data-lockedOrder\" is assigned to \"lockedorder\"; but \"data-locked-order\" is assigned to \"lockedOrder\"\n                    // \"data-sort-initial-order\" is assigned to \"sortInitialOrder\"\n                    val += $h.data(key) || $h.data(key.toLowerCase());\n                } else if (m && typeof m[key] !== 'undefined') {\n                    val += m[key];\n                } else if (ch && typeof ch[key] !== 'undefined') {\n                    val += ch[key];\n                } else if (cl !== ' ' && cl.match(' ' + key + '-')) {\n                    // include sorter class name \"sorter-text\", etc; now works with \"sorter-my-custom-parser\"\n                    val = cl.match( new RegExp('\\\\s' + key + '-([\\\\w-]+)') )[1] || '';\n                }\n                return $.trim(val);\n            };\n\n            ts.formatFloat = function(s, table) {\n                if (typeof s !== 'string' || s === '') { return s; }\n                // allow using formatFloat without a table; defaults to US number format\n                var i,\n                    t = table && table.config ? table.config.usNumberFormat !== false :\n                        typeof table !== \"undefined\" ? table : true;\n                if (t) {\n                    // US Format - 1,234,567.89 -> 1234567.89\n                    s = s.replace(/,/g,'');\n                } else {\n                    // German Format = 1.234.567,89 -> 1234567.89\n                    // French Format = 1 234 567,89 -> 1234567.89\n                    s = s.replace(/[\\s|\\.]/g,'').replace(/,/g,'.');\n                }\n                if(/^\\s*\\([.\\d]+\\)/.test(s)) {\n                    // make (#) into a negative number -> (10) = -10\n                    s = s.replace(/^\\s*\\(([.\\d]+)\\)/, '-$1');\n                }\n                i = parseFloat(s);\n                // return the text instead of zero\n                return isNaN(i) ? $.trim(s) : i;\n            };\n\n            ts.isDigit = function(s) {\n                // replace all unwanted chars and match\n                return isNaN(s) ? (/^[\\-+(]?\\d+[)]?$/).test(s.toString().replace(/[,.'\"\\s]/g, '')) : true;\n            };\n\n        }()\n    });\n\n    // make shortcut\n    var ts = $.tablesorter;\n\n    // extend plugin scope\n    $.fn.extend({\n        tablesorter: ts.construct\n    });\n\n    // add default parsers\n    ts.addParser({\n        id: 'no-parser',\n        is: function() {\n            return false;\n        },\n        format: function() {\n            return '';\n        },\n        type: 'text'\n    });\n\n    ts.addParser({\n        id: \"text\",\n        is: function() {\n            return true;\n        },\n        format: function(s, table) {\n            var c = table.config;\n            if (s) {\n                s = $.trim( c.ignoreCase ? s.toLocaleLowerCase() : s );\n                s = c.sortLocaleCompare ? ts.replaceAccents(s) : s;\n            }\n            return s;\n        },\n        type: \"text\"\n    });\n\n    ts.addParser({\n        id: \"digit\",\n        is: function(s) {\n            return ts.isDigit(s);\n        },\n        format: function(s, table) {\n            var n = ts.formatFloat((s || '').replace(/[^\\w,. \\-()]/g, \"\"), table);\n            return s && typeof n === 'number' ? n : s ? $.trim( s && table.config.ignoreCase ? s.toLocaleLowerCase() : s ) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"currency\",\n        is: function(s) {\n            return (/^\\(?\\d+[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]|[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]\\d+\\)?$/).test((s || '').replace(/[+\\-,. ]/g,'')); // £$€¤¥¢\n        },\n        format: function(s, table) {\n            var n = ts.formatFloat((s || '').replace(/[^\\w,. \\-()]/g, \"\"), table);\n            return s && typeof n === 'number' ? n : s ? $.trim( s && table.config.ignoreCase ? s.toLocaleLowerCase() : s ) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"ipAddress\",\n        is: function(s) {\n            return (/^\\d{1,3}[\\.]\\d{1,3}[\\.]\\d{1,3}[\\.]\\d{1,3}$/).test(s);\n        },\n        format: function(s, table) {\n            var i, a = s ? s.split(\".\") : '',\n                r = \"\",\n                l = a.length;\n            for (i = 0; i < l; i++) {\n                r += (\"00\" + a[i]).slice(-3);\n            }\n            return s ? ts.formatFloat(r, table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"url\",\n        is: function(s) {\n            return (/^(https?|ftp|file):\\/\\//).test(s);\n        },\n        format: function(s) {\n            return s ? $.trim(s.replace(/(https?|ftp|file):\\/\\//, '')) : s;\n        },\n        type: \"text\"\n    });\n\n    ts.addParser({\n        id: \"isoDate\",\n        is: function(s) {\n            return (/^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}/).test(s);\n        },\n        format: function(s, table) {\n            return s ? ts.formatFloat((s !== \"\") ? (new Date(s.replace(/-/g, \"/\")).getTime() || s) : \"\", table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"percent\",\n        is: function(s) {\n            return (/(\\d\\s*?%|%\\s*?\\d)/).test(s) && s.length < 15;\n        },\n        format: function(s, table) {\n            return s ? ts.formatFloat(s.replace(/%/g, \"\"), table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"usLongDate\",\n        is: function(s) {\n            // two digit years are not allowed cross-browser\n            // Jan 01, 2013 12:34:56 PM or 01 Jan 2013\n            return (/^[A-Z]{3,10}\\.?\\s+\\d{1,2},?\\s+(\\d{4})(\\s+\\d{1,2}:\\d{2}(:\\d{2})?(\\s+[AP]M)?)?$/i).test(s) || (/^\\d{1,2}\\s+[A-Z]{3,10}\\s+\\d{4}/i).test(s);\n        },\n        format: function(s, table) {\n            return s ? ts.formatFloat( (new Date(s.replace(/(\\S)([AP]M)$/i, \"$1 $2\")).getTime() || s), table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"shortDate\", // \"mmddyyyy\", \"ddmmyyyy\" or \"yyyymmdd\"\n        is: function(s) {\n            // testing for ##-##-#### or ####-##-##, so it's not perfect; time can be included\n            return (/(^\\d{1,2}[\\/\\s]\\d{1,2}[\\/\\s]\\d{4})|(^\\d{4}[\\/\\s]\\d{1,2}[\\/\\s]\\d{1,2})/).test((s || '').replace(/\\s+/g,\" \").replace(/[\\-.,]/g, \"/\"));\n        },\n        format: function(s, table, cell, cellIndex) {\n            if (s) {\n                var c = table.config,\n                    ci = c.$headers.filter('[data-column=' + cellIndex + ']:last'),\n                    format = ci.length && ci[0].dateFormat || ts.getData( ci, ts.getColumnData( table, c.headers, cellIndex ), 'dateFormat') || c.dateFormat;\n                s = s.replace(/\\s+/g,\" \").replace(/[\\-.,]/g, \"/\"); // escaped - because JSHint in Firefox was showing it as an error\n                if (format === \"mmddyyyy\") {\n                    s = s.replace(/(\\d{1,2})[\\/\\s](\\d{1,2})[\\/\\s](\\d{4})/, \"$3/$1/$2\");\n                } else if (format === \"ddmmyyyy\") {\n                    s = s.replace(/(\\d{1,2})[\\/\\s](\\d{1,2})[\\/\\s](\\d{4})/, \"$3/$2/$1\");\n                } else if (format === \"yyyymmdd\") {\n                    s = s.replace(/(\\d{4})[\\/\\s](\\d{1,2})[\\/\\s](\\d{1,2})/, \"$1/$2/$3\");\n                }\n            }\n            return s ? ts.formatFloat( (new Date(s).getTime() || s), table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"time\",\n        is: function(s) {\n            return (/^(([0-2]?\\d:[0-5]\\d)|([0-1]?\\d:[0-5]\\d\\s?([AP]M)))$/i).test(s);\n        },\n        format: function(s, table) {\n            return s ? ts.formatFloat( (new Date(\"2000/01/01 \" + s.replace(/(\\S)([AP]M)$/i, \"$1 $2\")).getTime() || s), table) : s;\n        },\n        type: \"numeric\"\n    });\n\n    ts.addParser({\n        id: \"metadata\",\n        is: function() {\n            return false;\n        },\n        format: function(s, table, cell) {\n            var c = table.config,\n                p = (!c.parserMetadataName) ? 'sortValue' : c.parserMetadataName;\n            return $(cell).metadata()[p];\n        },\n        type: \"numeric\"\n    });\n\n    // add default widgets\n    ts.addWidget({\n        id: \"zebra\",\n        priority: 90,\n        format: function(table, c, wo) {\n            var $tb, $tv, $tr, row, even, time, k, l,\n                child = new RegExp(c.cssChildRow, 'i'),\n                b = c.$tbodies;\n            if (c.debug) {\n                time = new Date();\n            }\n            for (k = 0; k < b.length; k++ ) {\n                // loop through the visible rows\n                $tb = b.eq(k);\n                l = $tb.children('tr').length;\n                if (l > 1) {\n                    row = 0;\n                    $tv = $tb.children('tr:visible').not(c.selectorRemove);\n                    // revered back to using jQuery each - strangely it's the fastest method\n                    /*jshint loopfunc:true */\n                    $tv.each(function(){\n                        $tr = $(this);\n                        // style children rows the same way the parent row was styled\n                        if (!child.test(this.className)) { row++; }\n                        even = (row % 2 === 0);\n                        $tr.removeClass(wo.zebra[even ? 1 : 0]).addClass(wo.zebra[even ? 0 : 1]);\n                    });\n                }\n            }\n            if (c.debug) {\n                ts.benchmark(\"Applying Zebra widget\", time);\n            }\n        },\n        remove: function(table, c, wo){\n            var k, $tb,\n                b = c.$tbodies,\n                rmv = (wo.zebra || [ \"even\", \"odd\" ]).join(' ');\n            for (k = 0; k < b.length; k++ ){\n                $tb = $.tablesorter.processTbody(table, b.eq(k), true); // remove tbody\n                $tb.children().removeClass(rmv);\n                $.tablesorter.processTbody(table, $tb, false); // restore tbody\n            }\n        }\n    });\n\n})(jQuery);","/*!\n * jQuery UI Keycode 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Keycode\n//>>group: Core\n//>>description: Provide keycodes as keynames\n//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.keyCode = {\n\tBACKSPACE: 8,\n\tCOMMA: 188,\n\tDELETE: 46,\n\tDOWN: 40,\n\tEND: 35,\n\tENTER: 13,\n\tESCAPE: 27,\n\tHOME: 36,\n\tLEFT: 37,\n\tPAGE_DOWN: 34,\n\tPAGE_UP: 33,\n\tPERIOD: 190,\n\tRIGHT: 39,\n\tSPACE: 32,\n\tTAB: 9,\n\tUP: 38\n};\n\n} ) );\n","// This file is deprecated in 1.12.0 to be removed in 1.13\n( function() {\ndefine( [\n\t\"jquery\",\n\t\"./data\",\n\t\"./disable-selection\",\n\t\"./focusable\",\n\t\"./form\",\n\t\"./ie\",\n\t\"./keycode\",\n\t\"./labels\",\n\t\"./jquery-1-7\",\n\t\"./plugin\",\n\t\"./safe-active-element\",\n\t\"./safe-blur\",\n\t\"./scroll-parent\",\n\t\"./tabbable\",\n\t\"./unique-id\",\n\t\"./version\"\n] );\n} )();\n","/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../plugin\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blurActiveElement( event );\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Don't blur if the event occurred on an element that is within\n\t\t// the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nreturn $.ui.draggable;\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\nreturn $.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\n\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeActiveElement = function( document ) {\n\tvar activeElement;\n\n\t// Support: IE 9 only\n\t// IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n\ttry {\n\t\tactiveElement = document.activeElement;\n\t} catch ( error ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE may return null instead of an element\n\t// Interestingly, this only seems to occur when NOT in an iframe\n\tif ( !activeElement ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 11 only\n\t// IE11 returns a seemingly empty object in some cases when accessing\n\t// document.activeElement from an <iframe>\n\tif ( !activeElement.nodeName ) {\n\t\tactiveElement = document.body;\n\t}\n\n\treturn activeElement;\n};\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeBlur = function( element ) {\n\n\t// Support: IE9 - 10 only\n\t// If the <body> is blurred, IE will switch windows, see #9420\n\tif ( element && element.nodeName.toLowerCase() !== \"body\" ) {\n\t\t$( element ).trigger( \"blur\" );\n\t}\n};\n\n} ) );\n","/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Sortable\n//>>group: Interactions\n//>>description: Enables items in a list to be sorted using the mouse.\n//>>docs: http://api.jqueryui.com/sortable/\n//>>demos: http://jqueryui.com/sortable/\n//>>css.structure: ../../themes/base/sortable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../ie\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nreturn $.widget( \"ui.sortable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"sort\",\n\tready: false,\n\toptions: {\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectWith: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tdropOnEmpty: true,\n\t\tforcePlaceholderSize: false,\n\t\tforceHelperSize: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\titems: \"> *\",\n\t\topacity: false,\n\t\tplaceholder: false,\n\t\trevert: false,\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\t\tzIndex: 1000,\n\n\t\t// Callbacks\n\t\tactivate: null,\n\t\tbeforeStop: null,\n\t\tchange: null,\n\t\tdeactivate: null,\n\t\tout: null,\n\t\tover: null,\n\t\treceive: null,\n\t\tremove: null,\n\t\tsort: null,\n\t\tstart: null,\n\t\tstop: null,\n\t\tupdate: null\n\t},\n\n\t_isOverAxis: function( x, reference, size ) {\n\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\n\t},\n\n\t_isFloating: function( item ) {\n\t\treturn ( /left|right/ ).test( item.css( \"float\" ) ) ||\n\t\t\t( /inline|table-cell/ ).test( item.css( \"display\" ) );\n\t},\n\n\t_create: function() {\n\t\tthis.containerCache = {};\n\t\tthis._addClass( \"ui-sortable\" );\n\n\t\t//Get the items\n\t\tthis.refresh();\n\n\t\t//Let's determine the parent's offset\n\t\tthis.offset = this.element.offset();\n\n\t\t//Initialize mouse events for interaction\n\t\tthis._mouseInit();\n\n\t\tthis._setHandleClassName();\n\n\t\t//We're ready to go\n\t\tthis.ready = true;\n\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_setHandleClassName: function() {\n\t\tvar that = this;\n\t\tthis._removeClass( this.element.find( \".ui-sortable-handle\" ), \"ui-sortable-handle\" );\n\t\t$.each( this.items, function() {\n\t\t\tthat._addClass(\n\t\t\t\tthis.instance.options.handle ?\n\t\t\t\t\tthis.item.find( this.instance.options.handle ) :\n\t\t\t\t\tthis.item,\n\t\t\t\t\"ui-sortable-handle\"\n\t\t\t);\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tthis._mouseDestroy();\n\n\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\tthis.items[ i ].item.removeData( this.widgetName + \"-item\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function( event, overrideHandle ) {\n\t\tvar currentItem = null,\n\t\t\tvalidHandle = false,\n\t\t\tthat = this;\n\n\t\tif ( this.reverting ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.options.disabled || this.options.type === \"static\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//We have to refresh the items data once first\n\t\tthis._refreshItems( event );\n\n\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\n\t\t$( event.target ).parents().each( function() {\n\t\t\tif ( $.data( this, that.widgetName + \"-item\" ) === that ) {\n\t\t\t\tcurrentItem = $( this );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\t\tif ( $.data( event.target, that.widgetName + \"-item\" ) === that ) {\n\t\t\tcurrentItem = $( event.target );\n\t\t}\n\n\t\tif ( !currentItem ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( this.options.handle && !overrideHandle ) {\n\t\t\t$( this.options.handle, currentItem ).find( \"*\" ).addBack().each( function() {\n\t\t\t\tif ( this === event.target ) {\n\t\t\t\t\tvalidHandle = true;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( !validHandle ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.currentItem = currentItem;\n\t\tthis._removeCurrentsFromItems();\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function( event, overrideHandle, noActivation ) {\n\n\t\tvar i, body,\n\t\t\to = this.options;\n\n\t\tthis.currentContainer = this;\n\n\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to\n\t\t// mouseCapture\n\t\tthis.refreshPositions();\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Get the next scrolling parent\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.currentItem.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend( this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\n\t\t\t// This is a relative to absolute position minus the actual position calculation -\n\t\t\t// only used for relative positioned helper\n\t\t\trelative: this._getRelativeOffset()\n\t\t} );\n\n\t\t// Only after we got the offset, we can change the helper's position to absolute\n\t\t// TODO: Still need to figure out a way to make relative sorting possible\n\t\tthis.helper.css( \"position\", \"absolute\" );\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this._generatePosition( event );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Cache the former DOM position\n\t\tthis.domPosition = {\n\t\t\tprev: this.currentItem.prev()[ 0 ],\n\t\t\tparent: this.currentItem.parent()[ 0 ]\n\t\t};\n\n\t\t// If the helper is not the original, hide the original so it's not playing any role during\n\t\t// the drag, won't cause anything bad this way\n\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\tthis.currentItem.hide();\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthis._createPlaceholder();\n\n\t\t//Set a containment if given in the options\n\t\tif ( o.containment ) {\n\t\t\tthis._setContainment();\n\t\t}\n\n\t\tif ( o.cursor && o.cursor !== \"auto\" ) { // cursor option\n\t\t\tbody = this.document.find( \"body\" );\n\n\t\t\t// Support: IE\n\t\t\tthis.storedCursor = body.css( \"cursor\" );\n\t\t\tbody.css( \"cursor\", o.cursor );\n\n\t\t\tthis.storedStylesheet =\n\t\t\t\t$( \"<style>*{ cursor: \" + o.cursor + \" !important; }</style>\" ).appendTo( body );\n\t\t}\n\n\t\tif ( o.opacity ) { // opacity option\n\t\t\tif ( this.helper.css( \"opacity\" ) ) {\n\t\t\t\tthis._storedOpacity = this.helper.css( \"opacity\" );\n\t\t\t}\n\t\t\tthis.helper.css( \"opacity\", o.opacity );\n\t\t}\n\n\t\tif ( o.zIndex ) { // zIndex option\n\t\t\tif ( this.helper.css( \"zIndex\" ) ) {\n\t\t\t\tthis._storedZIndex = this.helper.css( \"zIndex\" );\n\t\t\t}\n\t\t\tthis.helper.css( \"zIndex\", o.zIndex );\n\t\t}\n\n\t\t//Prepare scrolling\n\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\n\t\t\tthis.overflowOffset = this.scrollParent.offset();\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger( \"start\", event, this._uiHash() );\n\n\t\t//Recache the helper size\n\t\tif ( !this._preserveHelperProportions ) {\n\t\t\tthis._cacheHelperProportions();\n\t\t}\n\n\t\t//Post \"activate\" events to possible containers\n\t\tif ( !noActivation ) {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\n\t\t\t}\n\t\t}\n\n\t\t//Prepare possible droppables\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\tthis.dragging = true;\n\n\t\tthis._addClass( this.helper, \"ui-sortable-helper\" );\n\n\t\t// Execute the drag once - this causes the helper not to be visiblebefore getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event );\n\t\treturn true;\n\n\t},\n\n\t_mouseDrag: function( event ) {\n\t\tvar i, item, itemElement, intersection,\n\t\t\to = this.options,\n\t\t\tscrolled = false;\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\tif ( !this.lastPositionAbs ) {\n\t\t\tthis.lastPositionAbs = this.positionAbs;\n\t\t}\n\n\t\t//Do scrolling\n\t\tif ( this.options.scroll ) {\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\n\n\t\t\t\tif ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -\n\t\t\t\t\t\tevent.pageY < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t\tif ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -\n\t\t\t\t\t\tevent.pageX < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollLeft(\n\t\t\t\t\t\tthis.document.scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollLeft(\n\t\t\t\t\t\tthis.document.scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t\t}\n\t\t}\n\n\t\t//Regenerate the absolute position used for position checks\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Set the helper position\n\t\tif ( !this.options.axis || this.options.axis !== \"y\" ) {\n\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\t}\n\t\tif ( !this.options.axis || this.options.axis !== \"x\" ) {\n\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\t\t}\n\n\t\t//Rearrange\n\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\n\n\t\t\t//Cache variables and intersection, continue if no intersection\n\t\t\titem = this.items[ i ];\n\t\t\titemElement = item.item[ 0 ];\n\t\t\tintersection = this._intersectsWithPointer( item );\n\t\t\tif ( !intersection ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Only put the placeholder inside the current Container, skip all\n\t\t\t// items from other containers. This works because when moving\n\t\t\t// an item from one container to another the\n\t\t\t// currentContainer is switched before the placeholder is moved.\n\t\t\t//\n\t\t\t// Without this, moving items in \"sub-sortables\" can cause\n\t\t\t// the placeholder to jitter between the outer and inner container.\n\t\t\tif ( item.instance !== this.currentContainer ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Cannot intersect with itself\n\t\t\t// no useless actions that have been done before\n\t\t\t// no action if the item moved is the parent of the item checked\n\t\t\tif ( itemElement !== this.currentItem[ 0 ] &&\n\t\t\t\tthis.placeholder[ intersection === 1 ? \"next\" : \"prev\" ]()[ 0 ] !== itemElement &&\n\t\t\t\t!$.contains( this.placeholder[ 0 ], itemElement ) &&\n\t\t\t\t( this.options.type === \"semi-dynamic\" ?\n\t\t\t\t\t!$.contains( this.element[ 0 ], itemElement ) :\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t) {\n\n\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\n\n\t\t\t\tif ( this.options.tolerance === \"pointer\" || this._intersectsWithSides( item ) ) {\n\t\t\t\t\tthis._rearrange( event, item );\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tthis._contactContainers( event );\n\n\t\t//Interconnect with droppables\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger( \"sort\", event, this._uiHash() );\n\n\t\tthis.lastPositionAbs = this.positionAbs;\n\t\treturn false;\n\n\t},\n\n\t_mouseStop: function( event, noPropagation ) {\n\n\t\tif ( !event ) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\tif ( this.options.revert ) {\n\t\t\tvar that = this,\n\t\t\t\tcur = this.placeholder.offset(),\n\t\t\t\taxis = this.options.axis,\n\t\t\t\tanimation = {};\n\n\t\t\tif ( !axis || axis === \"x\" ) {\n\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left +\n\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollLeft\n\t\t\t\t\t);\n\t\t\t}\n\t\t\tif ( !axis || axis === \"y\" ) {\n\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top +\n\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollTop\n\t\t\t\t\t);\n\t\t\t}\n\t\t\tthis.reverting = true;\n\t\t\t$( this.helper ).animate(\n\t\t\t\tanimation,\n\t\t\t\tparseInt( this.options.revert, 10 ) || 500,\n\t\t\t\tfunction() {\n\t\t\t\t\tthat._clear( event );\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tthis._clear( event, noPropagation );\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.dragging ) {\n\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: null } ) );\n\n\t\t\tif ( this.options.helper === \"original\" ) {\n\t\t\t\tthis.currentItem.css( this._storedCSS );\n\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\n\t\t\t} else {\n\t\t\t\tthis.currentItem.show();\n\t\t\t}\n\n\t\t\t//Post deactivating events to containers\n\t\t\tfor ( var i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"deactivate\", null, this._uiHash( this ) );\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", null, this._uiHash( this ) );\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.placeholder ) {\n\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n\t\t\t// it unbinds ALL events from the original node!\n\t\t\tif ( this.placeholder[ 0 ].parentNode ) {\n\t\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\n\t\t\t}\n\t\t\tif ( this.options.helper !== \"original\" && this.helper &&\n\t\t\t\t\tthis.helper[ 0 ].parentNode ) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\n\t\t\t$.extend( this, {\n\t\t\t\thelper: null,\n\t\t\t\tdragging: false,\n\t\t\t\treverting: false,\n\t\t\t\t_noFinalSort: null\n\t\t\t} );\n\n\t\t\tif ( this.domPosition.prev ) {\n\t\t\t\t$( this.domPosition.prev ).after( this.currentItem );\n\t\t\t} else {\n\t\t\t\t$( this.domPosition.parent ).prepend( this.currentItem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tserialize: function( o ) {\n\n\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\n\t\t\tstr = [];\n\t\to = o || {};\n\n\t\t$( items ).each( function() {\n\t\t\tvar res = ( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" )\n\t\t\t\t.match( o.expression || ( /(.+)[\\-=_](.+)/ ) );\n\t\t\tif ( res ) {\n\t\t\t\tstr.push(\n\t\t\t\t\t( o.key || res[ 1 ] + \"[]\" ) +\n\t\t\t\t\t\"=\" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );\n\t\t\t}\n\t\t} );\n\n\t\tif ( !str.length && o.key ) {\n\t\t\tstr.push( o.key + \"=\" );\n\t\t}\n\n\t\treturn str.join( \"&\" );\n\n\t},\n\n\ttoArray: function( o ) {\n\n\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\n\t\t\tret = [];\n\n\t\to = o || {};\n\n\t\titems.each( function() {\n\t\t\tret.push( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" );\n\t\t} );\n\t\treturn ret;\n\n\t},\n\n\t/* Be careful with the following core functions */\n\t_intersectsWith: function( item ) {\n\n\t\tvar x1 = this.positionAbs.left,\n\t\t\tx2 = x1 + this.helperProportions.width,\n\t\t\ty1 = this.positionAbs.top,\n\t\t\ty2 = y1 + this.helperProportions.height,\n\t\t\tl = item.left,\n\t\t\tr = l + item.width,\n\t\t\tt = item.top,\n\t\t\tb = t + item.height,\n\t\t\tdyClick = this.offset.click.top,\n\t\t\tdxClick = this.offset.click.left,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t &&\n\t\t\t\t( y1 + dyClick ) < b ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l &&\n\t\t\t\t( x1 + dxClick ) < r ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( this.options.tolerance === \"pointer\" ||\n\t\t\tthis.options.forcePointerForContainers ||\n\t\t\t( this.options.tolerance !== \"pointer\" &&\n\t\t\t\tthis.helperProportions[ this.floating ? \"width\" : \"height\" ] >\n\t\t\t\titem[ this.floating ? \"width\" : \"height\" ] )\n\t\t) {\n\t\t\treturn isOverElement;\n\t\t} else {\n\n\t\t\treturn ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half\n\t\t\t\tx2 - ( this.helperProportions.width / 2 ) < r && // Left Half\n\t\t\t\tt < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half\n\t\t\t\ty2 - ( this.helperProportions.height / 2 ) < b ); // Top Half\n\n\t\t}\n\t},\n\n\t_intersectsWithPointer: function( item ) {\n\t\tvar verticalDirection, horizontalDirection,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) ||\n\t\t\t\tthis._isOverAxis(\n\t\t\t\t\tthis.positionAbs.top + this.offset.click.top, item.top, item.height ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) ||\n\t\t\t\tthis._isOverAxis(\n\t\t\t\t\tthis.positionAbs.left + this.offset.click.left, item.left, item.width ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( !isOverElement ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tverticalDirection = this._getDragVerticalDirection();\n\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\treturn this.floating ?\n\t\t\t( ( horizontalDirection === \"right\" || verticalDirection === \"down\" ) ? 2 : 1 )\n\t\t\t: ( verticalDirection && ( verticalDirection === \"down\" ? 2 : 1 ) );\n\n\t},\n\n\t_intersectsWithSides: function( item ) {\n\n\t\tvar isOverBottomHalf = this._isOverAxis( this.positionAbs.top +\n\t\t\t\tthis.offset.click.top, item.top + ( item.height / 2 ), item.height ),\n\t\t\tisOverRightHalf = this._isOverAxis( this.positionAbs.left +\n\t\t\t\tthis.offset.click.left, item.left + ( item.width / 2 ), item.width ),\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif ( this.floating && horizontalDirection ) {\n\t\t\treturn ( ( horizontalDirection === \"right\" && isOverRightHalf ) ||\n\t\t\t\t( horizontalDirection === \"left\" && !isOverRightHalf ) );\n\t\t} else {\n\t\t\treturn verticalDirection && ( ( verticalDirection === \"down\" && isOverBottomHalf ) ||\n\t\t\t\t( verticalDirection === \"up\" && !isOverBottomHalf ) );\n\t\t}\n\n\t},\n\n\t_getDragVerticalDirection: function() {\n\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\n\t\treturn delta !== 0 && ( delta > 0 ? \"down\" : \"up\" );\n\t},\n\n\t_getDragHorizontalDirection: function() {\n\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\n\t\treturn delta !== 0 && ( delta > 0 ? \"right\" : \"left\" );\n\t},\n\n\trefresh: function( event ) {\n\t\tthis._refreshItems( event );\n\t\tthis._setHandleClassName();\n\t\tthis.refreshPositions();\n\t\treturn this;\n\t},\n\n\t_connectWith: function() {\n\t\tvar options = this.options;\n\t\treturn options.connectWith.constructor === String ?\n\t\t\t[ options.connectWith ] :\n\t\t\toptions.connectWith;\n\t},\n\n\t_getItemsAsjQuery: function( connected ) {\n\n\t\tvar i, j, cur, inst,\n\t\t\titems = [],\n\t\t\tqueries = [],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif ( connectWith && connected ) {\n\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\n\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\n\t\t\t\t\tinst = $.data( cur[ j ], this.widgetFullName );\n\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\n\t\t\t\t\t\tqueries.push( [ $.isFunction( inst.options.items ) ?\n\t\t\t\t\t\t\tinst.options.items.call( inst.element ) :\n\t\t\t\t\t\t\t$( inst.options.items, inst.element )\n\t\t\t\t\t\t\t\t.not( \".ui-sortable-helper\" )\n\t\t\t\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), inst ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tqueries.push( [ $.isFunction( this.options.items ) ?\n\t\t\tthis.options.items\n\t\t\t\t.call( this.element, null, { options: this.options, item: this.currentItem } ) :\n\t\t\t$( this.options.items, this.element )\n\t\t\t\t.not( \".ui-sortable-helper\" )\n\t\t\t\t.not( \".ui-sortable-placeholder\" ), this ] );\n\n\t\tfunction addItems() {\n\t\t\titems.push( this );\n\t\t}\n\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\n\t\t\tqueries[ i ][ 0 ].each( addItems );\n\t\t}\n\n\t\treturn $( items );\n\n\t},\n\n\t_removeCurrentsFromItems: function() {\n\n\t\tvar list = this.currentItem.find( \":data(\" + this.widgetName + \"-item)\" );\n\n\t\tthis.items = $.grep( this.items, function( item ) {\n\t\t\tfor ( var j = 0; j < list.length; j++ ) {\n\t\t\t\tif ( list[ j ] === item.item[ 0 ] ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} );\n\n\t},\n\n\t_refreshItems: function( event ) {\n\n\t\tthis.items = [];\n\t\tthis.containers = [ this ];\n\n\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\n\t\t\titems = this.items,\n\t\t\tqueries = [ [ $.isFunction( this.options.items ) ?\n\t\t\t\tthis.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :\n\t\t\t\t$( this.options.items, this.element ), this ] ],\n\t\t\tconnectWith = this._connectWith();\n\n\t\t//Shouldn't be run the first time through due to massive slow-down\n\t\tif ( connectWith && this.ready ) {\n\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\n\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\n\t\t\t\t\tinst = $.data( cur[ j ], this.widgetFullName );\n\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\n\t\t\t\t\t\tqueries.push( [ $.isFunction( inst.options.items ) ?\n\t\t\t\t\t\t\tinst.options.items\n\t\t\t\t\t\t\t\t.call( inst.element[ 0 ], event, { item: this.currentItem } ) :\n\t\t\t\t\t\t\t$( inst.options.items, inst.element ), inst ] );\n\t\t\t\t\t\tthis.containers.push( inst );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\n\t\t\ttargetData = queries[ i ][ 1 ];\n\t\t\t_queries = queries[ i ][ 0 ];\n\n\t\t\tfor ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {\n\t\t\t\titem = $( _queries[ j ] );\n\n\t\t\t\t// Data for target checking (mouse manager)\n\t\t\t\titem.data( this.widgetName + \"-item\", targetData );\n\n\t\t\t\titems.push( {\n\t\t\t\t\titem: item,\n\t\t\t\t\tinstance: targetData,\n\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\tleft: 0, top: 0\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t},\n\n\trefreshPositions: function( fast ) {\n\n\t\t// Determine whether items are being displayed horizontally\n\t\tthis.floating = this.items.length ?\n\t\t\tthis.options.axis === \"x\" || this._isFloating( this.items[ 0 ].item ) :\n\t\t\tfalse;\n\n\t\t//This has to be redone because due to the item being moved out/into the offsetParent,\n\t\t// the offsetParent's position will change\n\t\tif ( this.offsetParent && this.helper ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\tvar i, item, t, p;\n\n\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\titem = this.items[ i ];\n\n\t\t\t//We ignore calculating positions of all connected containers when we're not over them\n\t\t\tif ( item.instance !== this.currentContainer && this.currentContainer &&\n\t\t\t\t\titem.item[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tt = this.options.toleranceElement ?\n\t\t\t\t$( this.options.toleranceElement, item.item ) :\n\t\t\t\titem.item;\n\n\t\t\tif ( !fast ) {\n\t\t\t\titem.width = t.outerWidth();\n\t\t\t\titem.height = t.outerHeight();\n\t\t\t}\n\n\t\t\tp = t.offset();\n\t\t\titem.left = p.left;\n\t\t\titem.top = p.top;\n\t\t}\n\n\t\tif ( this.options.custom && this.options.custom.refreshContainers ) {\n\t\t\tthis.options.custom.refreshContainers.call( this );\n\t\t} else {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tp = this.containers[ i ].element.offset();\n\t\t\t\tthis.containers[ i ].containerCache.left = p.left;\n\t\t\t\tthis.containers[ i ].containerCache.top = p.top;\n\t\t\t\tthis.containers[ i ].containerCache.width =\n\t\t\t\t\tthis.containers[ i ].element.outerWidth();\n\t\t\t\tthis.containers[ i ].containerCache.height =\n\t\t\t\t\tthis.containers[ i ].element.outerHeight();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_createPlaceholder: function( that ) {\n\t\tthat = that || this;\n\t\tvar className,\n\t\t\to = that.options;\n\n\t\tif ( !o.placeholder || o.placeholder.constructor === String ) {\n\t\t\tclassName = o.placeholder;\n\t\t\to.placeholder = {\n\t\t\t\telement: function() {\n\n\t\t\t\t\tvar nodeName = that.currentItem[ 0 ].nodeName.toLowerCase(),\n\t\t\t\t\t\telement = $( \"<\" + nodeName + \">\", that.document[ 0 ] );\n\n\t\t\t\t\t\tthat._addClass( element, \"ui-sortable-placeholder\",\n\t\t\t\t\t\t\t\tclassName || that.currentItem[ 0 ].className )\n\t\t\t\t\t\t\t._removeClass( element, \"ui-sortable-helper\" );\n\n\t\t\t\t\tif ( nodeName === \"tbody\" ) {\n\t\t\t\t\t\tthat._createTrPlaceholder(\n\t\t\t\t\t\t\tthat.currentItem.find( \"tr\" ).eq( 0 ),\n\t\t\t\t\t\t\t$( \"<tr>\", that.document[ 0 ] ).appendTo( element )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( nodeName === \"tr\" ) {\n\t\t\t\t\t\tthat._createTrPlaceholder( that.currentItem, element );\n\t\t\t\t\t} else if ( nodeName === \"img\" ) {\n\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !className ) {\n\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element;\n\t\t\t\t},\n\t\t\t\tupdate: function( container, p ) {\n\n\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes -\n\t\t\t\t\t// the class is responsible for that\n\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a\n\t\t\t\t\t// class name is specified\n\t\t\t\t\tif ( className && !o.forcePlaceholderSize ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//If the element doesn't have a actual height by itself (without styles coming\n\t\t\t\t\t// from a stylesheet), it receives the inline height from the dragged item\n\t\t\t\t\tif ( !p.height() ) {\n\t\t\t\t\t\tp.height(\n\t\t\t\t\t\t\tthat.currentItem.innerHeight() -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingTop\" ) || 0, 10 ) -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingBottom\" ) || 0, 10 ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( !p.width() ) {\n\t\t\t\t\t\tp.width(\n\t\t\t\t\t\t\tthat.currentItem.innerWidth() -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingLeft\" ) || 0, 10 ) -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingRight\" ) || 0, 10 ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthat.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );\n\n\t\t//Append it after the actual current item\n\t\tthat.currentItem.after( that.placeholder );\n\n\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\n\t\to.placeholder.update( that, that.placeholder );\n\n\t},\n\n\t_createTrPlaceholder: function( sourceTr, targetTr ) {\n\t\tvar that = this;\n\n\t\tsourceTr.children().each( function() {\n\t\t\t$( \"<td>&#160;</td>\", that.document[ 0 ] )\n\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\n\t\t\t\t.appendTo( targetTr );\n\t\t} );\n\t},\n\n\t_contactContainers: function( event ) {\n\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,\n\t\t\tfloating, axis,\n\t\t\tinnermostContainer = null,\n\t\t\tinnermostIndex = null;\n\n\t\t// Get innermost container that intersects with item\n\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\n\t\t\t// Never consider a container that's located within the item itself\n\t\t\tif ( $.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( this._intersectsWith( this.containers[ i ].containerCache ) ) {\n\n\t\t\t\t// If we've already found a container and it's more \"inner\" than this, then continue\n\t\t\t\tif ( innermostContainer &&\n\t\t\t\t\t\t$.contains(\n\t\t\t\t\t\t\tthis.containers[ i ].element[ 0 ],\n\t\t\t\t\t\t\tinnermostContainer.element[ 0 ] ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tinnermostContainer = this.containers[ i ];\n\t\t\t\tinnermostIndex = i;\n\n\t\t\t} else {\n\n\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", event, this._uiHash( this ) );\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\t// If no intersecting containers found, return\n\t\tif ( !innermostContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Move the item into the container if it's not there already\n\t\tif ( this.containers.length === 1 ) {\n\t\t\tif ( !this.containers[ innermostIndex ].containerCache.over ) {\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\n\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\n\t\t\t}\n\t\t} else {\n\n\t\t\t// When entering a new container, we will find the item with the least distance and\n\t\t\t// append our item near it\n\t\t\tdist = 10000;\n\t\t\titemWithLeastDistance = null;\n\t\t\tfloating = innermostContainer.floating || this._isFloating( this.currentItem );\n\t\t\tposProperty = floating ? \"left\" : \"top\";\n\t\t\tsizeProperty = floating ? \"width\" : \"height\";\n\t\t\taxis = floating ? \"pageX\" : \"pageY\";\n\n\t\t\tfor ( j = this.items.length - 1; j >= 0; j-- ) {\n\t\t\t\tif ( !$.contains(\n\t\t\t\t\t\tthis.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcur = this.items[ j ].item.offset()[ posProperty ];\n\t\t\t\tnearBottom = false;\n\t\t\t\tif ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {\n\t\t\t\t\tnearBottom = true;\n\t\t\t\t}\n\n\t\t\t\tif ( Math.abs( event[ axis ] - cur ) < dist ) {\n\t\t\t\t\tdist = Math.abs( event[ axis ] - cur );\n\t\t\t\t\titemWithLeastDistance = this.items[ j ];\n\t\t\t\t\tthis.direction = nearBottom ? \"up\" : \"down\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Check if dropOnEmpty is enabled\n\t\t\tif ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.currentContainer === this.containers[ innermostIndex ] ) {\n\t\t\t\tif ( !this.currentContainer.containerCache.over ) {\n\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash() );\n\t\t\t\t\tthis.currentContainer.containerCache.over = 1;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titemWithLeastDistance ?\n\t\t\t\tthis._rearrange( event, itemWithLeastDistance, null, true ) :\n\t\t\t\tthis._rearrange( event, null, this.containers[ innermostIndex ].element, true );\n\t\t\tthis._trigger( \"change\", event, this._uiHash() );\n\t\t\tthis.containers[ innermostIndex ]._trigger( \"change\", event, this._uiHash( this ) );\n\t\t\tthis.currentContainer = this.containers[ innermostIndex ];\n\n\t\t\t//Update the placeholder\n\t\t\tthis.options.placeholder.update( this.currentContainer, this.placeholder );\n\n\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\n\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\n\t\t}\n\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelper = $.isFunction( o.helper ) ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem );\n\n\t\t//Add the helper to the DOM if that didn't happen already\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\t$( o.appendTo !== \"parent\" ?\n\t\t\t\to.appendTo :\n\t\t\t\tthis.currentItem[ 0 ].parentNode )[ 0 ].appendChild( helper[ 0 ] );\n\t\t}\n\n\t\tif ( helper[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\tthis._storedCSS = {\n\t\t\t\twidth: this.currentItem[ 0 ].style.width,\n\t\t\t\theight: this.currentItem[ 0 ].style.height,\n\t\t\t\tposition: this.currentItem.css( \"position\" ),\n\t\t\t\ttop: this.currentItem.css( \"top\" ),\n\t\t\t\tleft: this.currentItem.css( \"left\" )\n\t\t\t};\n\t\t}\n\n\t\tif ( !helper[ 0 ].style.width || o.forceHelperSize ) {\n\t\t\thelper.width( this.currentItem.width() );\n\t\t}\n\t\tif ( !helper[ 0 ].style.height || o.forceHelperSize ) {\n\t\t\thelper.height( this.currentItem.height() );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this\n\t\t// information with an ugly IE fix\n\t\tif ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||\n\t\t\t\t( this.offsetParent[ 0 ].tagName &&\n\t\t\t\tthis.offsetParent[ 0 ].tagName.toLowerCase() === \"html\" && $.ui.ie ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif ( this.cssPosition === \"relative\" ) {\n\t\t\tvar p = this.currentItem.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t\tthis.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t\tthis.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.currentItem.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.currentItem.css( \"marginTop\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar ce, co, over,\n\t\t\to = this.options;\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\t\tif ( o.containment === \"document\" || o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\to.containment === \"document\" ?\n\t\t\t\t\tthis.document.width() :\n\t\t\t\t\tthis.window.width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( o.containment === \"document\" ?\n\t\t\t\t\t( this.document.height() || document.body.parentNode.scrollHeight ) :\n\t\t\t\t\tthis.window.height() || this.document[ 0 ].body.parentNode.scrollHeight\n\t\t\t\t) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t\tif ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {\n\t\t\tce = $( o.containment )[ 0 ];\n\t\t\tco = $( o.containment ).offset();\n\t\t\tover = ( $( ce ).css( \"overflow\" ) !== \"hidden\" );\n\n\t\t\tthis.containment = [\n\t\t\t\tco.left + ( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingLeft\" ), 10 ) || 0 ) - this.margins.left,\n\t\t\t\tco.top + ( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingTop\" ), 10 ) || 0 ) - this.margins.top,\n\t\t\t\tco.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\tco.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscroll = this.cssPosition === \"absolute\" &&\n\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\n\t\t\t\t\tthis.offsetParent :\n\t\t\t\t\tthis.scrollParent,\n\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollTop() :\n\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :\n\t\t\t\t\tscroll.scrollLeft() ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event ) {\n\n\t\tvar top, left,\n\t\t\to = this.options,\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY,\n\t\t\tscroll = this.cssPosition === \"absolute\" &&\n\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\n\t\t\t\t\tthis.offsetParent :\n\t\t\t\t\tthis.scrollParent,\n\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\n\n\t\t// This is another very weird special case that only happens for relative elements:\n\t\t// 1. If the css position is relative\n\t\t// 2. and the scroll parent is the document or similar to the offset parent\n\t\t// we have to refresh the relative offset during the scroll so there are no jumps\n\t\tif ( this.cssPosition === \"relative\" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\tthis.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {\n\t\t\tthis.offset.relative = this._getRelativeOffset();\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif ( this.originalPosition ) { //If we are not dragging yet, we won't check for options\n\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {\n\t\t\t\t\tpageX = this.containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {\n\t\t\t\t\tpageY = this.containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {\n\t\t\t\t\tpageX = this.containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {\n\t\t\t\t\tpageY = this.containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\t\t\t\ttop = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /\n\t\t\t\t\to.grid[ 1 ] ) * o.grid[ 1 ];\n\t\t\t\tpageY = this.containment ?\n\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] &&\n\t\t\t\t\t\ttop - this.offset.click.top <= this.containment[ 3 ] ) ?\n\t\t\t\t\t\t\ttop :\n\t\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?\n\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :\n\t\t\t\t\t\t\t\ttop;\n\n\t\t\t\tleft = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /\n\t\t\t\t\to.grid[ 0 ] ) * o.grid[ 0 ];\n\t\t\t\tpageX = this.containment ?\n\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] &&\n\t\t\t\t\t\tleft - this.offset.click.left <= this.containment[ 2 ] ) ?\n\t\t\t\t\t\t\tleft :\n\t\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?\n\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :\n\t\t\t\t\t\t\t\tleft;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollTop() :\n\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollLeft() :\n\t\t\t\t\tscrollIsRootNode ? 0 : scroll.scrollLeft() ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_rearrange: function( event, i, a, hardRefresh ) {\n\n\t\ta ? a[ 0 ].appendChild( this.placeholder[ 0 ] ) :\n\t\t\ti.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],\n\t\t\t\t( this.direction === \"down\" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );\n\n\t\t//Various things done here to improve the performance:\n\t\t// 1. we create a setTimeout, that calls refreshPositions\n\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\n\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout,\n\t\t// if it's still the same\n\t\t// 4. this lets only the last addition to the timeout stack through\n\t\tthis.counter = this.counter ? ++this.counter : 1;\n\t\tvar counter = this.counter;\n\n\t\tthis._delay( function() {\n\t\t\tif ( counter === this.counter ) {\n\n\t\t\t\t//Precompute after each DOM insertion, NOT on mousemove\n\t\t\t\tthis.refreshPositions( !hardRefresh );\n\t\t\t}\n\t\t} );\n\n\t},\n\n\t_clear: function( event, noPropagation ) {\n\n\t\tthis.reverting = false;\n\n\t\t// We delay all events that have to be triggered to after the point where the placeholder\n\t\t// has been removed and everything else normalized again\n\t\tvar i,\n\t\t\tdelayedTriggers = [];\n\n\t\t// We first have to update the dom position of the actual currentItem\n\t\t// Note: don't do it if the current item is already removed (by a user), or it gets\n\t\t// reappended (see #4088)\n\t\tif ( !this._noFinalSort && this.currentItem.parent().length ) {\n\t\t\tthis.placeholder.before( this.currentItem );\n\t\t}\n\t\tthis._noFinalSort = null;\n\n\t\tif ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\tfor ( i in this._storedCSS ) {\n\t\t\t\tif ( this._storedCSS[ i ] === \"auto\" || this._storedCSS[ i ] === \"static\" ) {\n\t\t\t\t\tthis._storedCSS[ i ] = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentItem.css( this._storedCSS );\n\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\n\t\t} else {\n\t\t\tthis.currentItem.show();\n\t\t}\n\n\t\tif ( this.fromOutside && !noPropagation ) {\n\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\tthis._trigger( \"receive\", event, this._uiHash( this.fromOutside ) );\n\t\t\t} );\n\t\t}\n\t\tif ( ( this.fromOutside ||\n\t\t\t\tthis.domPosition.prev !==\n\t\t\t\tthis.currentItem.prev().not( \".ui-sortable-helper\" )[ 0 ] ||\n\t\t\t\tthis.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {\n\n\t\t\t// Trigger update callback if the DOM position has changed\n\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\tthis._trigger( \"update\", event, this._uiHash() );\n\t\t\t} );\n\t\t}\n\n\t\t// Check if the items Container has Changed and trigger appropriate\n\t\t// events.\n\t\tif ( this !== this.currentContainer ) {\n\t\t\tif ( !noPropagation ) {\n\t\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\t\tthis._trigger( \"remove\", event, this._uiHash() );\n\t\t\t\t} );\n\t\t\t\tdelayedTriggers.push( ( function( c ) {\n\t\t\t\t\treturn function( event ) {\n\t\t\t\t\t\tc._trigger( \"receive\", event, this._uiHash( this ) );\n\t\t\t\t\t};\n\t\t\t\t} ).call( this, this.currentContainer ) );\n\t\t\t\tdelayedTriggers.push( ( function( c ) {\n\t\t\t\t\treturn function( event ) {\n\t\t\t\t\t\tc._trigger( \"update\", event, this._uiHash( this ) );\n\t\t\t\t\t};\n\t\t\t\t} ).call( this, this.currentContainer ) );\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tfunction delayEvent( type, instance, container ) {\n\t\t\treturn function( event ) {\n\t\t\t\tcontainer._trigger( type, event, instance._uiHash( instance ) );\n\t\t\t};\n\t\t}\n\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\tif ( !noPropagation ) {\n\t\t\t\tdelayedTriggers.push( delayEvent( \"deactivate\", this, this.containers[ i ] ) );\n\t\t\t}\n\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\tdelayedTriggers.push( delayEvent( \"out\", this, this.containers[ i ] ) );\n\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t}\n\t\t}\n\n\t\t//Do what was originally in plugins\n\t\tif ( this.storedCursor ) {\n\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\n\t\t\tthis.storedStylesheet.remove();\n\t\t}\n\t\tif ( this._storedOpacity ) {\n\t\t\tthis.helper.css( \"opacity\", this._storedOpacity );\n\t\t}\n\t\tif ( this._storedZIndex ) {\n\t\t\tthis.helper.css( \"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex );\n\t\t}\n\n\t\tthis.dragging = false;\n\n\t\tif ( !noPropagation ) {\n\t\t\tthis._trigger( \"beforeStop\", event, this._uiHash() );\n\t\t}\n\n\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n\t\t// it unbinds ALL events from the original node!\n\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\n\n\t\tif ( !this.cancelHelperRemoval ) {\n\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\t\t\tthis.helper = null;\n\t\t}\n\n\t\tif ( !noPropagation ) {\n\t\t\tfor ( i = 0; i < delayedTriggers.length; i++ ) {\n\n\t\t\t\t// Trigger all delayed events\n\t\t\t\tdelayedTriggers[ i ].call( this, event );\n\t\t\t}\n\t\t\tthis._trigger( \"stop\", event, this._uiHash() );\n\t\t}\n\n\t\tthis.fromOutside = false;\n\t\treturn !this.cancelHelperRemoval;\n\n\t},\n\n\t_trigger: function() {\n\t\tif ( $.Widget.prototype._trigger.apply( this, arguments ) === false ) {\n\t\t\tthis.cancel();\n\t\t}\n\t},\n\n\t_uiHash: function( _inst ) {\n\t\tvar inst = _inst || this;\n\t\treturn {\n\t\t\thelper: inst.helper,\n\t\t\tplaceholder: inst.placeholder || $( [] ),\n\t\t\tposition: inst.position,\n\t\t\toriginalPosition: inst.originalPosition,\n\t\t\toffset: inst.positionAbs,\n\t\t\titem: inst.currentItem,\n\t\t\tsender: _inst ? _inst.element : null\n\t\t};\n\t}\n\n} );\n\n} ) );\n","/**\n * Serializes form fields within the given element to a JSON object\n *\n * {\n *    fieldName: \"fieldValue\"\n * }\n *\n * @returns {Object}\n */\njQuery.fn.serializeObject = function () {\n\n    var data = {};\n\n    this.find(\":input:not(:button):not(:submit):not(:radio):not('select[multiple]')\").each(function () {\n\n        if (this.name === \"\") {\n            return;\n        }\n\n        if (this.value === null) {\n            this.value = \"\";\n        }\n\n        data[this.name] = this.value.match(/^(tru|fals)e$/i) ?\n                            this.value.toLowerCase() == \"true\" : this.value;\n    });\n\n    this.find(\"input:radio:checked\").each(function(){\n        data[this.name] = this.value;\n    });\n\n    this.find(\"select[multiple]\").each(function(){\n\n        var $select = jQuery(this),\n            val = $select.val();\n\n        if ($select.data(\"aui-ss\")) {\n            if (val) {\n                data[this.name] = val[0];\n            } else {\n                data[this.name] = \"\";\n            }\n        } else {\n\n            if (val !== null) {\n                data[this.name] = val;\n            } else {\n                data[this.name] = [];\n            }\n        }\n    });\n\n    return data;\n};","/*\n * Modified by Atlassian to allow chaining of keys\n *\n * jQuery Hotkeys Plugin\n * Copyright 2010, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Based upon the plugin by Tzury Bar Yochay:\n * http://github.com/tzuryby/hotkeys\n *\n * Original idea by:\n * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/\n*/\n\n(function(jQuery){\n\n    jQuery.hotkeys = {\n        version: \"0.8\",\n\n        specialKeys: {\n            8: \"backspace\", 9: \"tab\", 13: \"return\", 16: \"shift\", 17: \"ctrl\", 18: \"alt\", 19: \"pause\",\n            20: \"capslock\", 27: \"esc\", 32: \"space\", 33: \"pageup\", 34: \"pagedown\", 35: \"end\", 36: \"home\",\n            37: \"left\", 38: \"up\", 39: \"right\", 40: \"down\", 45: \"insert\", 46: \"del\",\n            91 : \"meta\",\n            96: \"0\", 97: \"1\", 98: \"2\", 99: \"3\", 100: \"4\", 101: \"5\", 102: \"6\", 103: \"7\",\n            104: \"8\", 105: \"9\", 106: \"*\", 107: \"+\", 109: \"-\", 110: \".\", 111 : \"/\",\n            112: \"f1\", 113: \"f2\", 114: \"f3\", 115: \"f4\", 116: \"f5\", 117: \"f6\", 118: \"f7\", 119: \"f8\",\n            120: \"f9\", 121: \"f10\", 122: \"f11\", 123: \"f12\", 144: \"numlock\", 145: \"scroll\",\n            188: \",\", 190: \".\", 191: \"/\", 224: \"meta\", 219: '[', 221: ']'\n        },\n\n        // These only work under Mac Gecko when using keypress (see http://unixpapa.com/js/key.html).\n        keypressKeys: [ \"<\", \">\", \"?\" ],\n\n        shiftNums: {\n            \"`\": \"~\", \"1\": \"!\", \"2\": \"@\", \"3\": \"#\", \"4\": \"$\", \"5\": \"%\", \"6\": \"^\", \"7\": \"&\",\n            \"8\": \"*\", \"9\": \"(\", \"0\": \")\", \"-\": \"_\", \"=\": \"+\", \";\": \":\", \"'\": \"\\\"\", \",\": \"<\",\n            \".\": \">\",  \"/\": \"?\",  \"\\\\\": \"|\"\n        }\n    };\n\n    jQuery.each(jQuery.hotkeys.keypressKeys, function (_, key) {\n        jQuery.hotkeys.shiftNums[ key ] = key;\n    });\n\n    function TimedNumber(timer) {\n        this.num = 0;\n        this.timer = timer > 0 ? timer : false;\n    }\n    TimedNumber.prototype.val = function () {\n        return this.num;\n    };\n    TimedNumber.prototype.inc = function () {\n        if (this.timer) {\n            clearTimeout(this.timeout);\n            this.timeout = setTimeout(jQuery.proxy(TimedNumber.prototype.reset, this), this.timer);\n        }\n        this.num++;\n    };\n    TimedNumber.prototype.reset = function () {\n        if (this.timer) {\n            clearTimeout(this.timeout);\n        }\n        this.num = 0;\n    };\n\n    function keyHandler( handleObj ) {\n        // Only care when a possible input has been specified\n        if ( !(jQuery.isPlainObject(handleObj.data) || jQuery.isArray(handleObj.data) || typeof handleObj.data === \"string\") ) {\n            return;\n        }\n\n        var origHandler = handleObj.handler,\n            options = {\n                timer: 700,\n                combo: []\n            };\n\n        (function (data) {\n            if (typeof data === 'string') {\n                options.combo = [ data ];\n            } else if (jQuery.isArray(data)) {\n                options.combo = data;\n            } else {\n                jQuery.extend(options, data);\n            }\n            options.combo = jQuery.map(options.combo, function (key) {\n                return key.toLowerCase();\n            });\n        })(handleObj.data);\n\n        handleObj.index = new TimedNumber(options.timer);\n        handleObj.handler = function( event ) {\n            // Don't fire in text-accepting inputs that we didn't directly bind to\n            // important to note that jQuery.fn.prop is only available on jquery 1.6+\n            if ( this !== event.target && (/textarea|select|input/i.test( event.target.nodeName ) ||\n                jQuery(event.target).prop('contenteditable') === 'true' )) {\n                return;\n            }\n\n            // Keypress represents characters, not special keys\n            var special = event.type !== 'keypress' ? jQuery.hotkeys.specialKeys[ event.which ] : null,\n                character = String.fromCharCode( event.which ).toLowerCase(),\n                key, modif = \"\", possible = {};\n\n            // check combinations (alt|ctrl|shift+anything)\n            if ( event.altKey && special !== \"alt\" ) {\n                modif += \"alt+\";\n            }\n\n            if ( event.ctrlKey && special !== \"ctrl\" ) {\n                modif += \"ctrl+\";\n            }\n\n            // TODO: Need to make sure this works consistently across platforms\n            if ( event.metaKey && !event.ctrlKey && special !== \"meta\" ) {\n                modif += \"meta+\";\n            }\n\n            if ( event.shiftKey && special !== \"shift\" ) {\n                modif += \"shift+\";\n            }\n\n            // Under Chrome and Safari, meta's keycode == '['s charcode\n            // Even if they did type this key combo we could not use it because it is browser back in Chrome/Safari on OS X\n            if (event.metaKey && character === '[') {\n                character = null;\n            }\n\n            if (special) {\n                possible[ modif + special ] = true;\n            }\n            if (character) {\n                possible[ modif + character ] = true;\n            }\n\n            // \"$\" can be specified as \"shift+4\" or \"$\"\n            if ( /shift+/.test(modif) ) {\n                possible [ modif.replace('shift+', '') + jQuery.hotkeys.shiftNums[ (special || character) ] ] = true;\n            }\n\n            var index = handleObj.index,\n                combo = options.combo;\n\n            if ( pressed(combo[index.val()], possible) ) {\n                if ( index.val() === combo.length - 1 ) {\n                    index.reset();\n                    return origHandler.apply(this, arguments);\n                } else {\n                    index.inc();\n                }\n            } else {\n                index.reset();\n                // For mutli-key combinations, we might have restarted the key sequence.\n                if ( pressed(combo[0], possible) ) {\n                    index.inc();\n                }\n            }\n        };\n    }\n\n    function pressed(key, possible) {\n        var keys = key.split(' ');\n        for (var i = 0, len = keys.length; i < len; i++) {\n            if ( possible[keys[i]] ) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    jQuery.each([ \"keydown\", \"keyup\", \"keypress\" ], function() {\n        jQuery.event.special[ this ] = { add: keyHandler };\n    });\n\n})( jQuery );\n","/**\n *\n * @module Controls\n * @requires AJS, jQuery\n */\n\n/**\n * If not visible, moves the scroll position of the screen to the element\n *\n * <pre>\n * <strong>Usage:</strong>\n * jQuery(\"li.item\").moveTo();\n * </pre>\n *\n * This plugin also supports options as an argument.  The options\n * that can be defined are:\n * <ul>\n * <li>transition - if set to true will cause a smooth scrolling transition (false by default)</li>\n * <li>scrollOffset - defines an offset to scroll past the element to view in pixels such that\n * all of it can be viewed (35 pixels by default)</li>\n * </ul>\n *\n * @class moveTo\n * @constuctor moveTo\n * @namespace jQuery.fn\n * @param {Object} options\n */\njQuery.fn.moveTo = function (options) {\n    var defaults = {\n        transition: false,\n        scrollOffset: 35\n    };\n\n    var opts = jQuery.extend(defaults, options);\n    var instance = this;\n    var topOffset = instance.offset().top;\n    var scrollTarget;\n\n    if ((jQuery(window).scrollTop() + jQuery(window).height() - this.outerHeight() < topOffset ||\n            jQuery(window).scrollTop() + opts.scrollOffset > topOffset) &&\n            jQuery(window).height() > opts.scrollOffset) {\n\n        if (jQuery(window).scrollTop() + opts.scrollOffset > topOffset) {\n            //move up\n            scrollTarget = topOffset - (jQuery(window).height() - this.outerHeight()) + opts.scrollOffset;\n        } else {\n            //move down\n            scrollTarget = topOffset - opts.scrollOffset;\n        }\n\n        if (!jQuery.fn.moveTo.animating && opts.transition) {\n            jQuery(document).trigger('moveToStarted', this);\n            jQuery.fn.moveTo.animating = true;\n            jQuery('html,body').animate({\n                scrollTop: scrollTarget\n            }, 1000, function () {\n                jQuery(document).trigger('moveToFinished', instance);\n                delete jQuery.fn.moveTo.animating;\n            });\n            return this;\n        } else {\n            var jQueryCache =  jQuery('html, body');\n            if (jQueryCache.is(':animated')) {\n                jQueryCache.stop();\n                delete jQuery.fn.moveTo.animating;\n            }\n\n            jQuery(document).trigger('moveToStarted');\n            jQuery(window).scrollTop(scrollTarget);\n            //need to put a slight timeout for the moveToFinished event such that recipients of this event\n            //have time to act on it.\n            setTimeout(function () {\n                jQuery(document).trigger('moveToFinished', instance);\n            }, 100);\n            return this;\n        }\n    }\n    jQuery(document).trigger('moveToFinished', this);\n    return this;\n};\n","import $ from 'jquery';\n// We provide the value from the import statement last, just in case jQuery or Zepto have been called with noConflict previously.\nexport default window.jQuery || window.Zepto || $;\n","const NAMESPACE = 'AJS';\n\nexport default function globalize (name, value) {\n    if (typeof window[NAMESPACE] !== 'object') {\n        window[NAMESPACE] = {};\n    }\n\n    return window[NAMESPACE][name] = value;\n}\n","import $ from './jquery';\nimport globalize from './internal/globalize';\nimport './forms/custom-checkbox';\nimport './forms/custom-radio';\n\n/**\n * Enables the specified form element.\n *\n * @param {Element} el The element to enable.\n * @param {Boolean} b The flag setting enabled / disabled.\n *\n * @returns {jQuery}\n */\nfunction enable (el, b) {\n    var $el = $(el);\n\n    if (typeof b === 'undefined') {\n        b = true;\n    }\n\n    return $el.each(function () {\n        this.disabled = !b;\n    });\n}\n\n\n/**\n * Forms: Inline Help - toggles visibility of inline help content.\n *\n * @method inlineHelp\n * @namespace AJS\n * @for AJS\n */\nfunction inlineHelp () {\n    $(document).on('click', '.icon-inline-help', function () {\n        var $t = $(this).siblings('.field-help');\n        if ($t.hasClass('hidden')){\n            $t.removeClass('hidden');\n        } else {\n            $t.addClass('hidden');\n        }\n    });\n}\n\nglobalize('enable', enable);\nglobalize('inlineHelp', inlineHelp);\n\nexport {\n    enable,\n    inlineHelp\n};\n","import globalize from './globalize';\n\nfunction polyfillConsole (prop) {\n    return function () {\n        if (typeof console !== 'undefined' && console[prop]) {\n            Function.prototype.apply.call(console[prop], console, arguments);\n        }\n    };\n}\n\nvar log = polyfillConsole('log');\nvar warn = polyfillConsole('warn');\nvar error = polyfillConsole('error');\n\nglobalize('error', error);\nglobalize('log', log);\nglobalize('warn', warn);\n\nexport {\n    log,\n    warn,\n    error\n};\n","import skate from 'skatejs';\nimport jQuery from 'jquery';\n\n/**\n * Allows us to add a new DOM element for rendering ADG styled checkbox glyphs,\n * so we can get our desired aesthetic without having to rely on a specific markup pattern.\n */\nskate('checkbox', {\n    type: skate.type.CLASSNAME,\n    attached: function(el) {\n        jQuery('input[type=checkbox]', el).each(function(i, checkbox) {\n            jQuery('<span class=\"aui-form-glyph\"></span>').insertAfter(checkbox);\n        });\n    },\n    detached: function(el) {\n        jQuery('.aui-form-glyph', el).remove();\n    }\n});\n","import skate from 'skatejs';\nimport jQuery from 'jquery';\n\n/**\n * Allows us to add a new DOM element for rendering ADG styled radio glyphs,\n * so we can get our desired aesthetic without having to rely on a specific markup pattern.\n */\nskate('radio', {\n    type: skate.type.CLASSNAME,\n    attached: function(el) {\n        jQuery('input[type=radio]', el).each(function(i, radio) {\n            jQuery('<span class=\"aui-form-glyph\"></span>').insertAfter(radio);\n        });\n    },\n    detached: function(el) {\n        jQuery('.aui-form-glyph', el).remove();\n    }\n});\n","import globalize from './internal/globalize';\nimport * as logger from './internal/log';\n\n/* eslint brace-style: off, complexity:off, eqeqeq:off, max-depth:off, no-cond-assign:off, no-unused-vars:off */\n\n/**\n * Replaces tokens in a string with arguments, similar to Java's MessageFormat.\n * Tokens are in the form {0}, {1}, {2}, etc.\n *\n * This version also provides support for simple choice formats (excluding floating point numbers) of the form\n * {0,choice,0#0 issues|1#1 issue|1<{0,number} issues}\n *\n * Number format is currently not implemented, tokens of the form {0,number} will simply be printed as {0}\n *\n * @method format\n * @param message the message to replace tokens in\n * @param arg (optional) replacement value for token {0}, with subsequent arguments being {1}, etc.\n * @return {String} the message with the tokens replaced\n * @usage formatString(\"This is a {0} test\", \"simple\");\n */\nfunction formatString (message) {\n    var apos = /'(?!')/g; // founds \"'\", but not \"''\" // TODO: does not work for floating point numbers!\n    var simpleFormat = /^\\d+$/;\n    var numberFormat = /^(\\d+),number$/; // TODO: incomplete, as doesn't support floating point numbers\n    var choiceFormat = /^(\\d+),choice,(.+)/;\n    var choicePart = /^(\\d+)([#<])(.+)/;\n    // we are caching RegExps, so will not spend time on recreating them on each call\n\n    // formats a value, currently choice and simple replacement are implemented, proper\n    var getParamValue = function (format, args) {\n        // simple substitute\n        var res = '';\n\n        var match;\n        if (match = format.match(simpleFormat)) { // TODO: heavy guns for checking whether format is a simple number...\n            res = args.length > ++format ? args[format] : ''; // use the argument as is, or use '' if not found\n        }\n\n        // number format\n        else if (match = format.match(numberFormat)) {\n            // TODO: doesn't actually format the number...\n            res = args.length > ++match[1] ? args[match[1]] : '';\n        }\n\n        // choice format\n        else if (match = format.match(choiceFormat)) {\n            // format: \"0,choice,0#0 issues|1#1 issue|1<{0,number} issues\"\n            // match[0]: \"0,choice,0#0 issues|1#1 issue|1<{0,number} issues\"\n            // match[1]: \"0\"\n            // match[2]: \"0#0 issues|1#1 issue|1<{0,number} issues\"\n\n            // get the argument value we base the choice on\n            var value = (args.length > ++match[1] ? args[match[1]] : null);\n            if (value !== null) {\n                // go through all options, checking against the number, according to following formula,\n                // if X < the first entry then the first entry is returned, if X > last entry, the last entry is returned\n                //\n                //    X matches j if and only if limit[j] <= X < limit[j+1]\n                //\n                var options = match[2].split('|');\n                var isInvalidFormat = false;\n                var prevOptionValue = null; // holds last passed option\n\n                for (var i = 0; i < options.length; i++) {\n                    // option: \"0#0 issues\"\n                    // part[0]: \"0#0 issues\"\n                    // part[1]: \"0\"\n                    // part[2]: \"#\"\n                    // part[3]\" \"0 issues\";\n                    var parts = options[i].match(choicePart);\n\n                    if (parts == null) {\n                        isInvalidFormat = true;\n                        continue;\n                    }\n                    // if value is smaller, we take the previous value, or the current if no previous exists\n                    var argValue = parseInt(parts[1], 10);\n                    if (value < argValue) {\n                        if (prevOptionValue) {\n                            res = prevOptionValue;\n                            break;\n                        } else {\n                            res = parts[3];\n                            break;\n                        }\n                    }\n                    // if value is equal the condition, and the match is equality match we accept it\n                    if (value == argValue && parts[2] == '#') {\n                        res = parts[3];\n                        break;\n                    } else {\n                        // value is greater the condition, fall through to next iteration\n                    }\n\n                    // check whether we are the last option, in which case accept it even if the option does not match\n                    if (i == options.length - 1) {\n                        res = parts[3];\n                    }\n\n                    // retain current option\n                    prevOptionValue = parts[3];\n                }\n\n                if (isInvalidFormat) {\n                    logger.error('The format \"' + format + '\" from message \"' + message + '\" is invalid.');\n                }\n\n                // run result through format, as the parts might contain substitutes themselves\n                var formatArgs = [res].concat(Array.prototype.slice.call(args, 1));\n                res = formatString.apply(null, formatArgs);\n            }\n        }\n        return res;\n    };\n\n    // drop in replacement for the token regex\n    // splits the message to return the next accurance of a i18n placeholder.\n    // Does not use regexps as we need to support nested placeholders\n    // text between single ticks ' are ignored\n    var _performTokenRegex = function (message) {\n        var tick = false;\n        var openIndex = -1;\n        var openCount = 0;\n        for (var i = 0; i < message.length; i++) {\n            // handle ticks\n            var c = message.charAt(i);\n            if (c == \"'\") {\n                // toggle\n                tick = !tick;\n            }\n            // skip if we are between ticks\n            if (tick) {\n                continue;\n            }\n            // check open brackets\n            if (c === '{') {\n                if (openCount === 0) {\n                    openIndex = i;\n                }\n                openCount++;\n            } else if (c === '}') {\n                if (openCount > 0) {\n                    openCount--;\n                    if (openCount === 0) {\n                        // we found a bracket match - generate the result array (\n                        var match = [];\n                        match.push(message.substring(0, i + 1)); // from begin to match\n                        match.push(message.substring(0, openIndex)); // everything until match start\n                        match.push(message.substring(openIndex + 1, i)); // matched content\n                        return match;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n\n    var _formatString = function (message) {\n        var args = arguments;\n        var res = '';\n\n        if (!message) {\n            return res;\n        }\n\n        var match = _performTokenRegex(message);\n\n        while (match) {\n            // reduce message to string after match\n            message = message.substring(match[0].length);\n\n            // add value before match to result\n            res += match[1].replace(apos, '');\n\n            // add formatted parameter\n            res += getParamValue(match[2], args);\n\n            // check for next match\n            match = _performTokenRegex(message); //message.match(token);\n        }\n        // add remaining message to result\n        res += message.replace(apos, '');\n        return res;\n    };\n\n    return _formatString.apply(null, arguments);\n}\n\nglobalize('format', formatString);\n\nexport default formatString;\n","import globalize from './internal/globalize';\n\n// @note: this value is set via webpack and gulp\n// eslint-disable-next-line\nvar version = AUI_VERSION;\n\nglobalize('version', version);\n\nexport default version;\n","import $ from './jquery';\nimport * as logger from './internal/log';\nimport globalize from './internal/globalize';\n\nconst EMPTY_SELECTOR = false;\nconst $target = $(window);\n\n/**\n * Binds events to the window object. See jQuery bind documentation for more\n * details. Exceptions are caught and logged.\n */\nfunction bind (eventType, eventData, handler) {\n    try {\n        if (typeof handler === 'function') {\n            return $target.on(eventType, EMPTY_SELECTOR, eventData, handler);\n        } else {\n            return $target.on(eventType, EMPTY_SELECTOR, eventData);\n        }\n    } catch (e) {\n        logger.log('error while binding: ', e.message);\n    }\n}\n\n/**\n * Unbinds event handlers from the window object. See jQuery unbind\n * documentation for more details. Exceptions are caught and logged.\n */\nfunction unbind (eventType, handler) {\n    try {\n        return $target.off(eventType, handler);\n    } catch (e) {\n        logger.log('error while unbinding: ', e.message);\n    }\n}\n\n/**\n * Triggers events on the window object. See jQuery trigger documentation for\n * more details. Exceptions are caught and logged.\n */\nfunction trigger (eventType, extraParameters) {\n    try {\n        return $target.trigger(eventType, extraParameters);\n    } catch (e) {\n        logger.log('error while triggering: ' + e.message);\n    }\n}\n\nglobalize('bind', bind);\nglobalize('trigger', trigger);\nglobalize('unbind', unbind);\n\nexport {\n    bind,\n    unbind,\n    trigger\n};\n","import globalize from './internal/globalize';\n\nconst special = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '`': '&#96;',\n};\n\nconst expr = new RegExp(`[${Object.keys(special).join('')}]`, 'g');\n\nfunction escapeHtml (str) {\n    return str.replace(expr, (str) => special[str]);\n}\n\nglobalize('escapeHtml', escapeHtml);\n\nexport default escapeHtml;\n","import $ from '../jquery';\nimport globalize from './globalize';\n\nvar has = Object.prototype.hasOwnProperty;\nvar deprecationCalls = [];\n\nfunction toSentenceCase (str) {\n    str += '';\n\n    if (!str) {\n        return '';\n    }\n\n    return str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nfunction getDeprecatedLocation (printFrameOffset) {\n    var err = new Error();\n    var stack = err.stack || err.stacktrace;\n    var stackMessage = (stack && stack.replace(/^Error\\n/, '')) || '';\n\n    if (stackMessage) {\n        stackMessage = stackMessage.split('\\n');\n        return stackMessage[printFrameOffset + 2];\n    }\n    return stackMessage;\n}\n\nfunction logger () {\n    if (typeof console !== 'undefined' && console.warn) {\n        Function.prototype.apply.call(console.warn, console, arguments);\n    }\n}\n\n/**\n * @typedef {Object} DeprecationOptions\n * @property {string} sinceVersion the version this has been deprecated since\n * @property {string} removeInVersion the version this will be removed in\n * @property {string} [alternativeName] the name of an alternative to use\n * @property {string} [extraInfo] extra information to be printed at the end of the deprecation log\n * @property {string} [extraObject] an extra object that will be printed at the end\n * @property {string} [displayName] a human-readable name to show in the deprecation message. If not provided, it is inferred from the function or object being deprecated.\n * @property {string} [deprecationType] type of the deprecation to append to the start of the deprecation message. e.g. JS or CSS\n */\n\n/**\n * Return a function that logs a deprecation warning to the console the first time it is called from a certain location.\n * It will also print the stack frame of the calling function.\n *\n * @param {string} displayName the name of the thing being deprecated\n * @param {DeprecationOptions} options\n * @return {Function} that logs the warning and stack frame of the calling function. Takes in an optional parameter for the offset of\n * the stack frame to print, the default is 0. For example, 0 will log it for the line of the calling function,\n * -1 will print the location the logger was called from\n */\nfunction getShowDeprecationMessage (displayName, options) {\n    // This can be used internally to pas in a showmessage fn\n    if (typeof displayName === 'function') {\n        return displayName;\n    }\n\n    var called = false;\n    options = options || {};\n\n    return function (printFrameOffset) {\n        var deprecatedLocation = getDeprecatedLocation(printFrameOffset ? printFrameOffset : 1) || '';\n        // Only log once if the stack frame doesn't exist to avoid spamming the console/test output\n        if (!called || deprecationCalls.indexOf(deprecatedLocation) === -1) {\n            deprecationCalls.push(deprecatedLocation);\n\n            called = true;\n\n            var deprecationType = (options.deprecationType + ' ') || '';\n\n            var message = 'DEPRECATED ' + deprecationType + '- ' + toSentenceCase(displayName) +\n            ' has been deprecated' + (options.sinceVersion ? ' since ' + options.sinceVersion : '') +\n            ' and will be removed in ' + (options.removeInVersion || 'a future release') + '.';\n\n            if (options.alternativeName) {\n                message += ' Use ' + options.alternativeName + ' instead. ';\n            }\n\n            if (options.extraInfo) {\n                message += ' ' + options.extraInfo;\n            }\n\n            if (deprecatedLocation === '') {\n                deprecatedLocation = ' \\n ' + 'No stack trace of the deprecated usage is available in your current browser.';\n            } else {\n                deprecatedLocation = ' \\n ' + deprecatedLocation;\n            }\n\n            if (options.extraObject) {\n                message += '\\n';\n                logger(message, options.extraObject, deprecatedLocation);\n            } else {\n                logger(message, deprecatedLocation);\n            }\n        }\n    };\n}\n\nfunction logCssDeprecation (selectorMap, newNode) {\n    var displayName = selectorMap.options.displayName;\n    displayName = displayName ? ' (' + displayName + ')' : '';\n\n    var options = $.extend({\n        deprecationType: 'CSS',\n        extraObject: newNode\n    }, selectorMap.options);\n\n    getShowDeprecationMessage('\\'' + selectorMap.selector + '\\' pattern' + displayName, options)();\n}\n\n/**\n * Returns a wrapped version of the function that logs a deprecation warning when the function is used.\n * @param {Function} fn the fn to wrap\n * @param {string} displayName the name of the fn to be displayed in the message\n * @param {DeprecationOptions} options\n * @return {Function} wrapping the original function\n */\nfunction deprecateFunctionExpression(fn, displayName, options) {\n    options = options || {};\n    options.deprecationType = options.deprecationType || 'JS';\n\n    var showDeprecationMessage = getShowDeprecationMessage(displayName || fn.name || 'this function', options);\n    return function () {\n        showDeprecationMessage();\n        return fn.apply(this, arguments);\n    };\n}\n\n/**\n * Returns a wrapped version of the constructor that logs a deprecation warning when the constructor is instantiated.\n * @param {Function} constructorFn the constructor function to wrap\n * @param {string} displayName the name of the fn to be displayed in the message\n * @param {DeprecationOptions} options\n * @return {Function} wrapping the original function\n */\nfunction deprecateConstructor(constructorFn, displayName, options) {\n    options = options || {};\n    options.deprecationType = options.deprecationType || 'JS';\n\n    var deprecatedConstructor = deprecateFunctionExpression(constructorFn, displayName, options);\n    deprecatedConstructor.prototype = constructorFn.prototype;\n    $.extend(deprecatedConstructor, constructorFn); //copy static methods across;\n\n    return deprecatedConstructor;\n}\n\n\nvar supportsProperties = false;\ntry {\n    if (Object.defineProperty) {\n        Object.defineProperty({}, 'blam', {get: function () {}, set: function () {}});\n        supportsProperties = true;\n    }\n} catch (e) {\n    /* IE8 doesn't support on non-DOM elements */\n}\n\n/**\n* Wraps a \"value\" object property in a deprecation warning in browsers supporting Object.defineProperty\n* @param {Object} obj the object containing the property\n* @param {string} prop the name of the property to deprecate\n* @param {DeprecationOptions} options\n*/\nfunction deprecateValueProperty(obj, prop, options) {\n    if (supportsProperties) {\n        var oldVal = obj[prop];\n        options = options || {};\n        options.deprecationType = options.deprecationType || 'JS';\n\n        var displayNameOrShowMessageFn = options.displayName || prop;\n        var showDeprecationMessage = getShowDeprecationMessage(displayNameOrShowMessageFn, options);\n        Object.defineProperty(obj, prop, {\n            get: function () {\n                showDeprecationMessage();\n                return oldVal;\n            },\n            set: function (val) {\n                oldVal = val;\n                showDeprecationMessage();\n                return val;\n            }\n        });\n    }\n}\n\n/**\n * Wraps an object property in a deprecation warning, if possible. functions will always log warnings, but other\n * types of properties will only log in browsers supporting Object.defineProperty\n * @param {Object} obj the object containing the property\n * @param {string} prop the name of the property to deprecate\n * @param {DeprecationOptions} options\n */\nfunction deprecateObjectProperty(obj, prop, options) {\n    if (typeof obj[prop] === 'function') {\n        options = options || {};\n        options.deprecationType = options.deprecationType || 'JS';\n\n        var displayNameOrShowMessageFn = options.displayName || prop;\n        obj[prop] = deprecateFunctionExpression(obj[prop], displayNameOrShowMessageFn, options);\n    } else {\n        deprecateValueProperty(obj, prop, options);\n    }\n}\n\n/**\n * Wraps all an objects properties in a deprecation warning, if possible. functions will always log warnings, but other\n * types of properties will only log in browsers supporting Object.defineProperty\n * @param {Object} obj the object to be wrapped\n * @param {string} objDisplayPrefix the object's prefix to be used in logs\n * @param {DeprecationOptions} options\n * @param {string} options.alternativeNamePrefix a prefix for the alternative property name. Used to generate alternativeName per property.\n */\nfunction deprecateAllProperties(obj, objDisplayPrefix, options) {\n    options = options || {};\n    for (var attr in obj) {\n        if (has.call(obj, attr)) {\n            options.deprecationType = options.deprecationType || 'JS';\n            options.displayName = objDisplayPrefix + attr;\n            options.alternativeName = options.alternativeNamePrefix && (options.alternativeNamePrefix + attr);\n            deprecateObjectProperty(obj, attr, $.extend({}, options));\n        }\n    }\n}\n\nfunction matchesSelector(el, selector) {\n    return (el.matches || el.msMatchesSelector || el.webkitMatchesSelector || el.mozMatchesSelector || el.oMatchesSelector).call(el, selector);\n}\n\nfunction handleAddingSelector(options) {\n    return function (selector) {\n        var selectorMap = {\n            selector: selector,\n            options: options || {}\n        };\n\n        // Search if matches have already been added\n        var matches = document.querySelectorAll(selector);\n        for (var i = 0; i < matches.length; i++) {\n            logCssDeprecation(selectorMap, matches[i]);\n        }\n\n        observeFutureChange(selectorMap);\n    };\n}\n\n/**\n * Return a function that logs a deprecation warning to the console the first time it is called from a certain location.\n * It will also print the stack frame of the calling function.\n *\n * @param {string|Array} selectors a selector or list of selectors that match deprecated markup\n * @param {DeprecationOptions} options\n */\nfunction deprecateCSS(selectors, options) {\n    if (typeof selectors === 'string') {\n        selectors = [selectors];\n    }\n\n    selectors.forEach(handleAddingSelector(options));\n}\n\nfunction testAndHandleDeprecation(newNode) {\n    return function (selectorMap) {\n        if (matchesSelector(newNode, selectorMap.selector)) {\n            logCssDeprecation(selectorMap, newNode);\n        }\n    };\n}\n\nconst deprecatedSelectorMap = [];\nlet observer;\n\nfunction observeFutureChange(selectorMap) {\n    deprecatedSelectorMap.push(selectorMap);\n\n    // Lazily instantiate a mutation observer because they're expensive.\n    if (!observer) {\n        observer = new MutationObserver(function (mutations) {\n            mutations.forEach(function (mutation) {\n                // TODO - should this also look at class changes, if possible?\n                var addedNodes = mutation.addedNodes;\n\n                for (var i = 0; i < addedNodes.length; i++) {\n                    var newNode = addedNodes[i];\n                    if (newNode.nodeType === 1) {\n                        deprecatedSelectorMap.forEach(testAndHandleDeprecation(newNode));\n                    }\n                }\n            });\n        });\n\n        var config = {\n            childList: true,\n            subtree: true\n        };\n\n        observer.observe(document, config);\n    }\n}\n\nglobalize('deprecate', {\n    fn: deprecateFunctionExpression,\n    construct: deprecateConstructor,\n    css: deprecateCSS,\n    prop: deprecateObjectProperty,\n    obj: deprecateAllProperties,\n    propertyDeprecationSupported: supportsProperties,\n    getMessageLogger: getShowDeprecationMessage\n});\n\nexport {\n    deprecateFunctionExpression as fn,\n    deprecateConstructor as construct,\n    deprecateCSS as css,\n    deprecateObjectProperty as prop,\n    deprecateAllProperties as obj,\n    supportsProperties as propertyDeprecationSupported,\n    getShowDeprecationMessage as getMessageLogger\n};\n","\n/**\n * Force a re-compute of the style of an element.\n *\n * This is useful for CSS transitions and animations that need computed style changes to occur.\n * CSS transitions will fire when the computed value of the property they are transitioning changes.\n * This may not occur if the style changes get batched into one style change event by the browser.\n * We can force the browser to recognise the two different computed values by calling this function when we want it\n * to recompute the styles.\n *\n * For example, consider a transition on the opacity property.\n *\n * With recomputeStyle:\n * $parent.append($el); //opacity=0\n * recomputeStyle($el);\n * $el.addClass('visible'); //opacity=1\n * //Browser calculates value of opacity=0, and then transitions it to opacity=1\n *\n * Without recomputeStyle:\n * $parent.append($el); //opacity=0\n * $el.addClass('visible'); //opacity=1\n * //Browser calculates value of opacity=1 but no transition\n *\n * @param el The DOM or jQuery element for which style should be recomputed\n */\nfunction recomputeStyle (el) {\n    el = el.jquery ? el[0] : el;\n    window.getComputedStyle(el, null).getPropertyValue('left');\n}\n\nexport {\n    recomputeStyle\n};\n","import $ from './jquery';\nimport { getMessageLogger } from './internal/deprecation';\nimport { recomputeStyle } from './internal/animation';\nimport globalize from './internal/globalize';\n\nvar overflowEl;\nvar _hiddenByAui = [];\n\n/**\n * Dims the screen using a blanket div\n * @param useShim deprecated, it is calculated by dim() now\n */\nfunction dim (useShim, zIndex) {\n\n    //if we're blanketing the page it means we want to hide the whatever is under the blanket from the screen readers as well\n    function hasAriaHidden(element) {\n        return element.hasAttribute('aria-hidden');\n    }\n\n    function isAuiLayer(element) {\n        return element.classList.contains('aui-layer');\n    }\n\n    Array.prototype.forEach.call(document.body.children, function (element) {\n        if (!hasAriaHidden(element) && !isAuiLayer(element)) {\n            element.setAttribute('aria-hidden', 'true');\n            _hiddenByAui.push(element);\n        }\n    });\n\n    if (!overflowEl) {\n        overflowEl = document.body;\n    }\n\n    if (useShim === true) {\n        useShimDeprecationLogger();\n    }\n\n    var isBlanketShowing = (!!dim.$dim) && !dim.$dim[0].hasAttribute('hidden');\n\n    if (!!dim.$dim) {\n        dim.$dim.remove();\n        dim.$dim = null;\n    }\n\n    dim.$dim = $('<div aria-hidden=\"true\"></div>').addClass('aui-blanket');\n    dim.$dim.attr('tabindex', '0'); //required, or the last element's focusout event will go to the browser\n    dim.$dim.appendTo(document.body);\n\n    if (!isBlanketShowing) {\n        //recompute after insertion and before setting aria-hidden=false to ensure we calculate a difference in\n        //computed styles\n        recomputeStyle(dim.$dim);\n\n        dim.cachedOverflow = {\n            overflow: overflowEl.style.overflow,\n            overflowX: overflowEl.style.overflowX,\n            overflowY: overflowEl.style.overflowY\n        };\n\n        overflowEl.style.overflowX = 'hidden';\n        overflowEl.style.overflowY = 'hidden';\n        overflowEl.style.overflow = 'hidden';\n    }\n\n    dim.$dim.removeAttr('hidden');\n\n    if (zIndex) {\n        dim.$dim.css({zIndex: zIndex});\n    }\n\n    return dim.$dim;\n}\n\n/**\n * Removes semitransparent DIV\n * @see dim\n */\nfunction undim () {\n    _hiddenByAui.forEach(function (element) {\n        element.removeAttribute('aria-hidden');\n    });\n\n    _hiddenByAui = [];\n\n    if (dim.$dim) {\n        dim.$dim[0].setAttribute('hidden', '');\n\n        if (overflowEl) {\n            overflowEl.style.overflow = dim.cachedOverflow.overflow;\n            overflowEl.style.overflowX = dim.cachedOverflow.overflowX;\n            overflowEl.style.overflowY = dim.cachedOverflow.overflowY;\n        }\n    }\n}\n\nvar useShimDeprecationLogger = getMessageLogger('useShim', {\n    extraInfo: 'useShim has no alternative as it is now calculated by dim().'\n});\n\nglobalize('dim', dim);\nglobalize('undim', undim);\n\nexport {\n    dim,\n    undim\n};\n","import globalize from './internal/globalize';\n\nvar keyCode = {\n    ALT: 18,\n    BACKSPACE: 8,\n    CAPS_LOCK: 20,\n    COMMA: 188,\n    COMMAND: 91,\n\n    // cmd\n    COMMAND_LEFT: 91,\n    COMMAND_RIGHT: 93,\n    LEFT_SQUARE_BRACKET: 91, //This is 91 for keypress and 219 for keydown/keyup\n    CONTROL: 17,\n    DELETE: 46,\n    DOWN: 40,\n    END: 35,\n    ENTER: 13,\n    ESCAPE: 27,\n    HOME: 36,\n    INSERT: 45,\n    LEFT: 37,\n\n    // right cmd\n    MENU: 93,\n    NUMPAD_ADD: 107,\n    NUMPAD_DECIMAL: 110,\n    NUMPAD_DIVIDE: 111,\n    NUMPAD_ENTER: 108,\n    NUMPAD_MULTIPLY: 106,\n    NUMPAD_SUBTRACT: 109,\n    PAGE_DOWN: 34,\n    PAGE_UP: 33,\n    PERIOD: 190,\n    RIGHT: 39,\n    SHIFT: 16,\n    SPACE: 32,\n    TAB: 9,\n    UP: 38,\n\n    // cmd\n    WINDOWS: 91\n};\n\nglobalize('keyCode', keyCode);\n\nexport default keyCode;\n","\nexport default function (name, fn) {\n    if (window.define) {\n        var alias = window.define;\n        alias(name, [], function () {\n            return fn;\n        });\n    }\n    return fn;\n}\n","import skate from 'skatejs';\n\nconst auiSkate = skate.noConflict();\n\nexport default auiSkate;\n","\nfunction state (element) {\n    return {\n        /**\n         * sets an internal state on a component element\n         * @param element the element to which the state will be added\n         * @param stateName the name of the state\n         * @param stateValue the value that the state will be changed to\n         */\n        set: function (stateName, stateValue) {\n            if (element._state === undefined) {\n                element._state = {};\n            }\n\n            element._state[stateName] = stateValue;\n        },\n\n        /**\n         * gets an internal state on a component element\n         * @param element the element to which the state will be added\n         * @param stateName the name of the state\n         */\n        get: function (stateName) {\n            if (element._state) {\n                return element._state[stateName];\n            }\n        }\n    };\n}\n\nexport default state;\n","import $ from './jquery';\nimport keyCode from './key-code';\nimport amdify from './internal/amdify';\nimport skate from './internal/skate';\nimport state from './internal/state';\nimport { warn } from './internal/log'\n\nexport function getTrigger (element) {\n    return state(element).get('last-trigger') || findControllers(element)[0];\n}\n\nexport function setTrigger (element, trigger) {\n    var validTrigger = trigger && trigger.nodeType && trigger.nodeType === 1;\n    return state(element).set('last-trigger', validTrigger ? trigger : false);\n}\n\nexport function hasTrigger (element) {\n    return !!getTrigger(element);\n}\n\nexport function doIfTrigger (element, callback) {\n    var trigger = getTrigger(element);\n\n    if (trigger) {\n        callback(trigger);\n    }\n}\n\nexport function forEachTrigger (element, callback) {\n    return Array.prototype.forEach.call(findControllers(element), callback);\n}\n\nfunction isNestedAnchor(trigger, target) {\n    var $closestAnchor = $(target).closest('a[href]', trigger);\n    return !!$closestAnchor.length && $closestAnchor[0] !== trigger;\n}\n\nfunction findControllers(element) {\n    const frames = window.frames;\n    const selector = `[aria-controls=\"${element.id}\"]`;\n\n    let controllers = [];\n    let someFramesAreCrossOrigin = false;\n    for (let i = 0 ; i < frames.length; i++) {\n        try {\n            let nodeList = frames[i].document.querySelectorAll(selector);\n            controllers = controllers.concat(Array.prototype.slice.apply(nodeList));\n        } catch (e) {\n            // Silently catch DOM exceptions related to accessing cross-origin frames\n            someFramesAreCrossOrigin = true;\n        }\n    }\n    const currentDocumentControllers = document.querySelectorAll(selector);\n    const allControllers = Array.prototype.slice.apply(currentDocumentControllers).concat(controllers);\n    if (allControllers.length === 0 && someFramesAreCrossOrigin === true) {\n        warn(\n            [\n                `No triggers found for element (${element.id}) in iframes from the same origin.`,\n                'However some iframes in this document are cross-origin.',\n                'The trigger-element relations crossing the origin boundary are not supported.'\n            ].join(' ')\n        )\n    }\n    return allControllers;\n}\n\nfunction findControlled(trigger) {\n    return document.getElementById(trigger.getAttribute('aria-controls'));\n}\n\nfunction isEnabled (element) {\n    return element.getAttribute('aria-disabled') !== 'true';\n}\n\nfunction triggerMessage(trigger, e) {\n    if (isEnabled(trigger)) {\n        var component = findControlled(trigger);\n        if (component && component.message) {\n            component.message(e);\n        }\n    }\n}\n\n/**\n * Converts native or jQuery events in to a \"message\" object.\n * Basically helps us keep message types consistent.\n */\nfunction msg(e, type) {\n    const { target, currentTarget, relatedTarget } = e;\n    const { keyCode, which } = e;\n    return {\n        type,\n        data: type === 'keydown' ? which || keyCode : undefined,\n        target,\n        currentTarget,\n        relatedTarget,\n        preventDefault: () => e.preventDefault()\n    };\n}\n\nfunction focusingToControlledElement(trigger, e) {\n    let relatedTarget = e.relatedTarget;\n    // relatedTarget is always null in IE11 but activeElement is set to correct value\n    if (!relatedTarget) {\n        relatedTarget = document.activeElement;\n    }\n    const $component = $(findControlled(trigger));\n    return $component.find(relatedTarget).length > 0;\n}\n\nconst events = {\n    click(trigger, e) {\n        if (!isNestedAnchor(trigger, e.target)) {\n            triggerMessage(trigger, e);\n            e.preventDefault();\n        }\n    },\n    keydown(trigger, e) {\n        const key = e.data;\n        if (key === keyCode.ENTER || key === keyCode.SPACE) {\n            e.preventDefault();\n            e.type = 'click';\n            events.click(trigger, e);\n        }\n    },\n    mouseenter(trigger, e) {\n        triggerMessage(trigger, e);\n    },\n    mouseleave(trigger, e) {\n        triggerMessage(trigger, e);\n    },\n    focus(trigger, e) {\n        triggerMessage(trigger, e);\n    },\n    blur(trigger, e) {\n        if (focusingToControlledElement(trigger, e)){\n            return;\n        }\n        triggerMessage(trigger, e);\n    }\n};\n\nObject.keys(events).forEach(function(name) {\n    const handler = events[name];\n    $(document).on(`${name}.aui-trigger`, '[data-aui-trigger]', function(e) {\n        handler(e.currentTarget, msg(e, name));\n    });\n});\n\nskate('data-aui-trigger', {\n    type: skate.type.ATTRIBUTE,\n    prototype: {\n        disable: function () {\n            this.setAttribute('aria-disabled', 'true');\n        },\n        enable: function () {\n            this.setAttribute('aria-disabled', 'false');\n        },\n        isEnabled: function () {\n            return isEnabled(this);\n        }\n    }\n});\n\namdify('aui/trigger');\n","import $ from './jquery';\nimport globalize from './internal/globalize';\nimport keyCodes from './key-code';\nimport {getTrigger} from './trigger';\n\n(function initSelectors () {\n    /*\n    :tabbable and :focusable functions from jQuery UI v 1.10.4\n    renamed to :aui-tabbable and :aui-focusable to not clash with jquery-ui if it's included.\n    */\n\n    function visible (element) {\n        return ($.css(element, 'visibility') === 'visible') && $(element).is(':visible');\n    }\n\n    function focusable (element, isTabIndexNotNaN) {\n        var nodeName = element.nodeName.toLowerCase();\n\n        if (nodeName === 'aui-select') {\n            return true;\n        }\n\n        if (nodeName === 'area') {\n            var map = element.parentNode;\n            var mapName = map.name;\n            var imageMap = $('img[usemap=#' + mapName + ']').get();\n\n            if (!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n                return false;\n            }\n            return imageMap && visible(imageMap);\n        }\n        var isFormElement = /input|select|textarea|button|object/.test(nodeName);\n        var isAnchor = nodeName === 'a';\n        var isAnchorTabbable = (element.href || isTabIndexNotNaN);\n\n        return (\n            isFormElement ? !element.disabled :\n                (isAnchor ? isAnchorTabbable : isTabIndexNotNaN)\n        ) && visible(element);\n    }\n\n    function tabbable (element) {\n        var tabIndex = $.attr(element, 'tabindex');\n        var isTabIndexNaN = isNaN(tabIndex);\n        var hasTabIndex = (isTabIndexNaN || tabIndex >= 0);\n\n        return hasTabIndex && focusable(element, !isTabIndexNaN);\n    }\n\n    $.extend($.expr.pseudos, {\n        'aui-focusable': element => focusable(element, !isNaN($.attr(element, 'tabindex'))),\n        'aui-tabbable': tabbable\n    });\n}());\n\nvar RESTORE_FOCUS_DATA_KEY = '_aui-focus-restore';\n\n/**\n * Stores information about last focused element in el.data\n *\n * @param {HTMLElement} $el - element to store the data about focus\n * @param {Element} [lastFocussedEl=document.activeElement] - last focused element\n */\nfunction setLastFocus ($el, lastFocussedEl = document.activeElement) {\n    $el.data(RESTORE_FOCUS_DATA_KEY, lastFocussedEl);\n}\n\nfunction getLastFocus ($el) {\n    return $($el.data(RESTORE_FOCUS_DATA_KEY));\n}\n\nfunction elementTrapsFocus ($el) {\n    return $el.is('.aui-dialog2');\n}\n\nfunction FocusManager() {\n    this._focusTrapStack = [];\n    this._handler;\n}\nFocusManager.defaultFocusSelector = ':aui-tabbable';\n/**\n *\n * @param {HTMLElement} $el - element to move the focus onto\n * @param {Element} [$lastFocused] - last focused element\n */\nFocusManager.prototype.enter = function ($el, $lastFocused) {\n    setLastFocus($el, $lastFocused);\n\n    // focus on new selector\n    if ($el.attr('data-aui-focus') !== 'false') {\n        var focusSelector = $el.attr('data-aui-focus-selector') || FocusManager.defaultFocusSelector;\n        var $focusEl = $el.is(focusSelector) ? $el : $el.find(focusSelector);\n        $focusEl.first().trigger('focus');\n    }\n\n    if (elementTrapsFocus($el)) {\n        this._focusTrapStack.push($el);\n        if (!this._handler) {\n            this._handler = focusTrapHandler.bind(undefined, this._focusTrapStack);\n            $(document).on('keydown.aui-focus-manager', this._handler);\n        }\n    }\n};\n\nFocusManager.prototype.exit = function ($el) {\n    if (elementTrapsFocus($el)) {\n        this._focusTrapStack.pop();\n        if (!this._focusTrapStack.length) {\n            $(document).off('.aui-focus-manager', this._handler);\n            delete this._handler;\n        }\n    }\n\n    // AUI-1059: remove focus from the active element when dialog is hidden\n    // AUI-5014 - if focus is already outside focus trap there is no need to restore it\n    var activeElement = document.activeElement;\n    if ($el[0] === activeElement || $el.has(activeElement).length) {\n        $(activeElement).trigger('blur');\n        var $restoreFocus = getLastFocus($el);\n        if ($restoreFocus.length) {\n            $el.removeData(RESTORE_FOCUS_DATA_KEY);\n            $restoreFocus.trigger('focus');\n        }\n    }\n};\n\nfunction focusTrapHandler(focusTrapStack, event) {\n    if (focusTrapStack.length === 0) {\n        return;\n    }\n\n    if (event.keyCode !== keyCodes.TAB) {\n        return;\n    }\n\n    const backwards = event.shiftKey;\n    const offset = backwards ? -1 : 1;\n\n    /**\n     * always the element where focus is about to be blurred\n     * @type {HTMLElement}\n     */\n    const focusOrigin = event.target;\n\n    const $focusTrapElement = focusTrapStack[focusTrapStack.length - 1];\n    const $tabbableElements = $focusTrapElement.find(':aui-tabbable');\n\n    // it's not possible to trap focus inside something with no focussable elements!\n    if (!$tabbableElements.length) {\n        return;\n    }\n\n    const originIdx = $tabbableElements.index(focusOrigin);\n    let newFocusIdx = -1;\n\n    if (originIdx > -1) {\n        // the currently focussed element is inside our trap container.\n        // excellent! we'll work with this.\n        newFocusIdx = originIdx;\n    } else {\n        // the currently focussed element was outside our trap container.\n        // it might be okay to leave it there, though, since AUI has a few layer elements\n        // and the focussed element might be in one of those.\n        // let's see if the focus was in an element that AUI roughly \"controls\".\n        let $controlledElementWithFocus;\n\n        // look for a layer in the \"cheapest\" way possible first -- check if a parent is a layer.\n        $controlledElementWithFocus = $(focusOrigin).closest('.aui-layer');\n\n        if (!$controlledElementWithFocus.length) {\n            // look up the controlled layers in a different way -- by finding all controllers first,\n            // then their layers.\n            const $controllingElements = $focusTrapElement.find('[aria-controls]');\n            const $controlledElements = $controllingElements.map(function () {\n                return document.getElementById(this.getAttribute('aria-controls'));\n            });\n\n            // Find out whether the new focus target is inside a controlled element or not.\n            $controlledElementWithFocus = $controlledElements.has(focusOrigin);\n        }\n\n        if ($controlledElementWithFocus.length) {\n            // Find out whether we need to jump the focus out of the controlled element.\n            const $subTabbable = $controlledElementWithFocus.find(':aui-tabbable');\n            const subOriginIdx = $subTabbable.index(focusOrigin);\n            const subMove = subOriginIdx + offset;\n            if (subMove < 0 || subMove >= $subTabbable.length) {\n                // This element was on the edge of the list, so we'll pop focus out.\n                // We'll assume we can pop the focus to a controlled element.\n                const triggerEl = getTrigger($controlledElementWithFocus.get(0));\n                newFocusIdx = $tabbableElements.index(triggerEl);\n            } else {\n                // Focus will happen normally. Let it happen.\n                return;\n            }\n        }\n    }\n\n    if (newFocusIdx > -1) {\n        // wrap around the focus trap.\n        newFocusIdx = (newFocusIdx + offset) % $tabbableElements.length;\n    } else {\n        // we will focus the first element in the trap.\n        newFocusIdx = 0;\n    }\n\n    $tabbableElements.eq(newFocusIdx).trigger('focus');\n    event.preventDefault();\n}\n\n// AUI-4403 - Previous maintainers pretended multiple FocusManager instances made sense.\n// However, the class is implemented in a way that would never play well with others,\n// so here I'm locking it down as a singleton.\nlet instance;\nfunction getFocusManager() {\n    if (!instance) {\n        instance = new FocusManager();\n    }\n    return instance;\n}\ngetFocusManager.global = getFocusManager();\n\nglobalize('FocusManager', getFocusManager);\n\nexport default getFocusManager;\n","import $ from '../jquery';\n\n/**\n * @param {string} name The name of the widget to use in any messaging.\n * @param {function(new:{ $el: jQuery }, ?jQuery, ?Object)} Ctor\n *     A constructor which will only ever be called with \"new\". It must take a JQuery object as the first\n *     parameter, or generate one if not provided. The second parameter will be a configuration object.\n *     The returned object must have an $el property and a setOptions function.\n * @constructor\n */\nexport default function (name, Ctor) {\n    var dataAttr = '_aui-widget-' + name;\n    return function (selectorOrOptions, maybeOptions) {\n        var selector;\n        var options;\n        if ($.isPlainObject(selectorOrOptions)) {\n            options = selectorOrOptions;\n        } else {\n            selector = selectorOrOptions;\n            options = maybeOptions;\n        }\n\n        var $el = selector && $(selector);\n\n        var widget;\n        if (!$el || !$el.data(dataAttr)) {\n            widget = new Ctor($el, options || {});\n            $el = widget.$el;\n            $el.data(dataAttr, widget);\n        } else {\n            widget = $el.data(dataAttr);\n            // options are discarded if $el has already been constructed\n        }\n\n        return widget;\n    };\n}\n","let CustomEvent;\n\n(function () {\n    if (window.CustomEvent) {\n        // Some browsers don't support constructable custom events yet.\n        try {\n            const ce = new window.CustomEvent('name', {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    x: 'y'\n                }\n            });\n            ce.preventDefault();\n            if (ce.defaultPrevented !== true) {\n                throw new Error('Could not prevent default');\n            }\n            if (ce.type !== 'name') {\n                throw new Error('Could not set custom name');\n            }\n            if (ce.detail.x !== 'y') {\n                throw new Error('Could not set detail');\n            }\n\n            CustomEvent = window.CustomEvent;\n            return;\n        } catch (e) {\n            // polyfill it\n        }\n    }\n\n    /**\n     * @type CustomEvent\n     * @param {String} event - the name of the event.\n     * @param {Object} [params] - optional configuration of the custom event.\n     * @param {Boolean} [params.cancelable=false] - A boolean indicating whether the event is cancelable (i.e., can call preventDefault and set the defaultPrevented property).\n     * @param {Boolean} [params.bubbles=false] - A boolean indicating whether the event bubbles up through the DOM or not.\n     * @param {Boolean} [params.detail] - The data passed when initializing the event.\n     * @extends Event\n     * @returns {Event}\n     * @constructor\n     */\n    CustomEvent = function(event, params) {\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\n\n        var evt = document.createEvent('CustomEvent');\n\n        evt.initCustomEvent(event, !!params.bubbles, !!params.cancelable, params.detail);\n        var origPrevent = evt.preventDefault;\n        evt.preventDefault = function () {\n            origPrevent.call(this);\n            try {\n                Object.defineProperty(this, 'defaultPrevented', {\n                    get: function () {\n                        return true;\n                    }\n                });\n            } catch (e) {\n                if (!this.defaultPrevented) {\n                    this.defaultPrevented = true;\n                }\n            }\n        };\n\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n}());\n\nexport default CustomEvent;\n","import $ from './jquery';\nimport { dim, undim } from './blanket';\nimport FocusManager from './focus-manager';\nimport {getTrigger,hasTrigger} from './trigger';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport widget from './internal/widget';\nimport CustomEvent from './polyfills/custom-event';\n\nexport const EVENT_PREFIX = '_aui-internal-layer-';\nconst GLOBAL_EVENT_PREFIX = '_aui-internal-layer-global-';\nconst LAYER_EVENT_PREFIX = 'aui-layer-';\nconst AUI_EVENT_PREFIX = 'aui-';\nconst ATTR_MODAL = 'modal';\nconst ATTR_DOM_CONTAINER = 'dom-container';\n\nvar $doc = $(document);\n\n// AUI-3708 - Abstracted to reflect code implemented upstream.\nfunction isTransitioning (el, prop) {\n    var transition = window.getComputedStyle(el).transitionProperty;\n    return transition ? transition.indexOf(prop) > -1 : false;\n}\n\nfunction onTransitionEnd (el, prop, func, once) {\n    function handler (e) {\n        if (prop !== e.propertyName) {\n            return;\n        }\n\n        func.call(el);\n\n        if (once) {\n            el.removeEventListener('transitionend', handler);\n        }\n    }\n\n    if (isTransitioning(el, prop)) {\n        el.addEventListener('transitionend', handler);\n    } else {\n        func.call(el);\n    }\n}\n\nfunction oneTransitionEnd (el, prop, func) {\n    onTransitionEnd(el, prop, func, true);\n}\n// end AUI-3708\n\n/**\n* @return {bool} Returns false if at least one of the event handlers called .preventDefault(). Returns true otherwise.\n*/\nfunction triggerEvent ($el, deprecatedName, newNativeName) {\n    var e1 = $.Event(EVENT_PREFIX + deprecatedName);\n    var e2 = $.Event(GLOBAL_EVENT_PREFIX + deprecatedName);\n    // TODO: Remove this 'aui-layer-' prefixed event once it is no longer used by inline dialog and dialog2.\n    var nativeEvent = new CustomEvent(LAYER_EVENT_PREFIX + newNativeName, {\n        bubbles: true,\n        cancelable: true\n    });\n    var nativeEvent2 = new CustomEvent(AUI_EVENT_PREFIX + newNativeName, {\n        bubbles: true,\n        cancelable: true\n    });\n\n    $el.trigger(e1);\n    $el.trigger(e2, [$el]);\n    $el[0].dispatchEvent(nativeEvent);\n    $el[0].dispatchEvent(nativeEvent2);\n\n    return !e1.isDefaultPrevented() &&\n        !e2.isDefaultPrevented() &&\n        !nativeEvent.defaultPrevented &&\n        !nativeEvent2.defaultPrevented;\n}\n\nfunction Layer (selector) {\n    this.$el = $(selector || '<div class=\"aui-layer\"></div>');\n    this.el = this.$el[0];\n    this.$el.addClass('aui-layer');\n}\n\nfunction getAttribute (el, name) {\n    return el.getAttribute(name) || el.getAttribute('data-aui-' + name);\n}\n\nLayer.prototype = {\n    /**\n     * Returns the layer below the current layer if it exists.\n     *\n     * @returns {jQuery | undefined}\n     */\n    below: function () {\n        return LayerManager.global.item(LayerManager.global.indexOf(this.$el) - 1);\n    },\n\n    /**\n     * Returns the layer above the current layer if it exists.\n     *\n     * @returns {jQuery | undefined}\n     */\n    above: function () {\n        return LayerManager.global.item(LayerManager.global.indexOf(this.$el) + 1);\n    },\n\n    /**\n     * Sets the width and height of the layer.\n     *\n     * @param {Integer} width The width to set.\n     * @param {Integer} height The height to set.\n     *\n     * @returns {Layer}\n     */\n    changeSize: function (width, height) {\n        this.$el.css('width', width);\n        this.$el.css('height', height === 'content' ? '' : height);\n        return this;\n    },\n\n    /**\n     * Binds a layer event.\n     *\n     * @param {String} event The event name to listen to.\n     * @param {Function} fn The event handler.\n     *\n     * @returns {Layer}\n     */\n    on: function (event, fn) {\n        this.$el.on(EVENT_PREFIX + event, fn);\n        return this;\n    },\n\n\n    /**\n     * Unbinds a layer event.\n     *\n     * @param {String} event The event name to unbind=.\n     * @param {Function} fn Optional. The event handler.\n     *\n     * @returns {Layer}\n     */\n    off: function (event, fn) {\n        this.$el.off(EVENT_PREFIX + event, fn);\n        return this;\n    },\n\n    /**\n     * Shows the layer.\n     *\n     * @returns {Layer}\n     */\n    show: function () {\n        if (this.isVisible() || LayerManager.global.indexOf(this.$el) > -1) {\n            // do nothing if already shown\n            return this;\n        }\n\n        if (!triggerEvent(this.$el, 'beforeShow', 'show')) {\n            return this;\n        }\n\n        // AUI-3708\n        // Ensures that the display property is removed if it's been added\n        // during hiding.\n        if (this.$el.css('display') === 'none') {\n            this.$el.css('display', '');\n        }\n\n        LayerManager.global.push(this.$el);\n\n        return this;\n    },\n\n    /**\n     * Hides the layer.\n     *\n     * @returns {Layer}\n     */\n    hide: function () {\n        if (!this.isVisible()) {\n            // do nothing if already hidden\n            return this;\n        }\n\n        if (!triggerEvent(this.$el, 'beforeHide', 'hide')) {\n            return this;\n        }\n\n        // AUI-3708\n        const thisLayer = this;\n        oneTransitionEnd(this.$el.get(0), 'opacity', function () {\n            if (!thisLayer.isVisible()) {\n                this.style.display = 'none';\n            }\n        });\n\n        LayerManager.global.popUntil(this.$el);\n\n        return this;\n    },\n\n    /**\n     * Checks to see if the layer is visible.\n     *\n     * @returns {Boolean}\n     */\n    isVisible: function () {\n        return this.$el.data('_aui-layer-shown') === true;\n    },\n\n    /**\n     * Removes the layer and cleans up internal state.\n     *\n     * @returns {undefined}\n     */\n    remove: function () {\n        this.hide();\n        this.$el.remove();\n        this.$el = null;\n        this.el = null;\n    },\n\n    /**\n     * Returns whether or not the layer is blanketed.\n     *\n     * @returns {Boolean}\n     */\n    isBlanketed: function () {\n        return this.el.dataset.auiBlanketed === 'true';\n    },\n\n    /**\n     * Returns whether or not the layer is persistent.\n     *\n     * @returns {Boolean}\n     */\n    isPersistent: function () {\n        var modal = getAttribute(this.el, ATTR_MODAL);\n        var isPersistent = this.el.hasAttribute('persistent');\n\n        return modal === 'true' || isPersistent;\n    },\n    /**\n     * Returns element used to attach the component to onto render.\n     *\n     * Looks for a selector in specified attribute and returns Element matching that selector.\n     * If attribute is set but the selector matches multiple elements - it will default to first available match.\n     * If attribute is set but the selector does not match to any existing elements it will default to document.body\n     * If the attribute is not set it will return null\n     *\n     * @returns {(Element|null)}\n     */\n    getDOMContainer: function () {\n        let container = getAttribute(this.el, ATTR_DOM_CONTAINER);\n        if (container) {\n            container = document.querySelector(container) || document.body;\n        }\n        return container;\n    },\n\n    _hideLayer: function (triggerBeforeEvents) {\n        if (this.isPersistent() || this.isBlanketed()) {\n            FocusManager.global.exit(this.$el);\n        }\n\n        if (triggerBeforeEvents) {\n            triggerEvent(this.$el, 'beforeHide', 'hide');\n        }\n        // don't remove via jquery; that would cause this method to get re-called once or twice more :\\\n        this.el.removeAttribute('open');\n        this.$el.removeData('_aui-layer-shown');\n        this.$el.css('z-index', this.$el.data('_aui-layer-cached-z-index') || '');\n        this.$el.data('_aui-layer-cached-z-index', '');\n        this.$el.trigger(EVENT_PREFIX + 'hide');\n        this.$el.trigger(GLOBAL_EVENT_PREFIX + 'hide', [this.$el]);\n    },\n\n    _showLayer: function (zIndex) {\n        let domContainer = this.getDOMContainer();\n        if (this.isBlanketed() || !!domContainer) {\n            let parent = domContainer || 'body';\n\n            if (!this.$el.parent().is(parent)) {\n                this.$el.appendTo(parent);\n            }\n        }\n\n        this.$el.data('_aui-layer-shown', true);\n        this.$el.data('_aui-layer-cached-z-index', this.$el.css('z-index'));\n        this.$el.css('z-index', zIndex);\n        this.el.removeAttribute('hidden');\n        this.el.setAttribute('open', '');\n\n        if (this.isBlanketed()) {\n            FocusManager.global.enter(this.$el);\n        }\n\n        this.$el.trigger(EVENT_PREFIX + 'show');\n        this.$el.trigger(GLOBAL_EVENT_PREFIX + 'show', [this.$el]);\n    }\n};\n\nvar createLayer = widget('layer', Layer);\n\ncreateLayer.on = function (eventName, selector, fn) {\n    $doc.on(GLOBAL_EVENT_PREFIX + eventName, selector, fn);\n    return this;\n};\n\ncreateLayer.off = function (eventName, selector, fn) {\n    $doc.off(GLOBAL_EVENT_PREFIX + eventName, selector, fn);\n    return this;\n};\n\n\n\n// Layer Manager\n// -------------\n\n/**\n * Manages layers.\n *\n * There is a single global layer manager.\n * Additional instances can be created however this should generally only be used in tests.\n *\n * Layers are added by the push($el) method. Layers are removed by the\n * popUntil($el) method.\n *\n * popUntil's contract is that it pops all layers above & including the given\n * layer. This is used to support popping multiple layers.\n * Say we were showing a dropdown inside an inline dialog inside a dialog - we\n * have a stack of dialog layer, inline dialog layer, then dropdown layer. Calling\n * popUntil(dialog.$el) would hide all layers above & including the dialog.\n */\n\nfunction topIndexWhere (layerArr, fn) {\n    var i = layerArr.length;\n\n    while (i--) {\n        if (fn(layerArr[i])) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\nfunction layerIndex (layerArr, $el) {\n    return topIndexWhere(layerArr, function ($layer) {\n        return $layer[0] === $el[0];\n    });\n}\n\nfunction topBlanketedIndex (layerArr) {\n    return topIndexWhere(layerArr, function ($layer) {\n        return createLayer($layer).isBlanketed();\n    });\n}\n\nfunction nextZIndex (layerArr) {\n    var _nextZIndex;\n\n    if (layerArr.length) {\n        var $topEl = layerArr[layerArr.length - 1];\n        var zIndex = parseInt($topEl.css('z-index'), 10);\n        _nextZIndex = (isNaN(zIndex) ? 0 : zIndex) + 100;\n    } else {\n        _nextZIndex = 0;\n    }\n\n    return Math.max(3000, _nextZIndex);\n}\n\nfunction updateBlanket (stack, oldBlanketIndex) {\n    var newTopBlanketedIndex = topBlanketedIndex(stack);\n\n    if (oldBlanketIndex !== newTopBlanketedIndex) {\n        if (newTopBlanketedIndex > -1) {\n            dim(false, stack[newTopBlanketedIndex].css('z-index') - 20);\n        } else {\n            undim();\n        }\n    }\n}\n\nfunction popLayers (stack, stopIndex, forceClosePersistent) {\n    if (stopIndex < 0) {\n        return;\n    }\n\n    for (var a = stack.length - 1; a >= stopIndex; a--) {\n        var $layer = stack[a];\n        var layer = createLayer($layer);\n\n        if (forceClosePersistent || !layer.isPersistent()) {\n            layer._hideLayer(true);\n            stack.splice(a, 1);\n        }\n    }\n}\n\nfunction getParentLayer (layer) {\n    var trigger = getTrigger(layer);\n\n    if (trigger) {\n        return $(trigger).closest('.aui-layer').get(0);\n    }\n}\n\nfunction LayerManager () {\n    this._stack = [];\n}\n\nLayerManager.prototype = {\n    /**\n    * Pushes a layer onto the stack. The same element cannot be opened as a layer multiple times - if the given\n    * element is already an open layer, this method throws an exception.\n    *\n    * @param {HTMLElement | String | jQuery} element  The element to push onto the stack.\n    *\n    * @returns {LayerManager}\n    */\n    push: function (element) {\n        var $el = (element instanceof $) ? element : $(element);\n        if (layerIndex(this._stack, $el) >= 0) {\n            throw new Error('The given element is already an active layer.');\n        }\n\n        this.popLayersBeside($el);\n\n        var layer = createLayer($el);\n        var zIndex = nextZIndex(this._stack);\n\n        layer._showLayer(zIndex);\n\n        if (layer.isBlanketed()) {\n            dim(false, zIndex - 20);\n        }\n\n        this._stack.push($el);\n\n        return this;\n    },\n\n    popLayersBeside: function (element) {\n        const layer = $(element).get(0);\n        if (!hasTrigger(layer)) {\n            // We can't find this layer's trigger, we will pop all non-persistent until a blanket or the document\n            var blanketedIndex = topBlanketedIndex(this._stack);\n            popLayers(this._stack, ++blanketedIndex, false);\n            return;\n        }\n\n        const parentLayer = getParentLayer(layer);\n        if (parentLayer) {\n            let parentIndex = this.indexOf(parentLayer);\n            popLayers(this._stack, ++parentIndex, false);\n        } else {\n            popLayers(this._stack, 0, false);\n        }\n    },\n\n    /**\n    * Returns the index of the specified layer in the layer stack.\n    *\n    * @param {HTMLElement | String | jQuery} element  The element to find in the stack.\n    *\n    * @returns {Number} the (zero-based) index of the element, or -1 if not in the stack.\n    */\n    indexOf: function (element) {\n        return layerIndex(this._stack, $(element));\n    },\n\n    /**\n    * Returns the item at the particular index or false.\n    *\n    * @param {Number} index The index of the element to get.\n    *\n    * @returns {jQuery | Boolean}\n    */\n    item: function (index) {\n        return this._stack[index];\n    },\n\n    /**\n    * Hides all layers in the stack.\n    *\n    * @returns {LayerManager}\n    */\n    hideAll: function () {\n        this._stack.slice().reverse().forEach(function (element) {\n            let layer = createLayer(element);\n            if (layer.isBlanketed() || layer.isPersistent()) {\n                return;\n            }\n            layer.hide();\n        });\n\n        return this;\n    },\n\n    /**\n    * Gets the previous layer below the given layer, which is non modal and non persistent. If it finds a blanketed layer on the way\n    * it returns it regardless if it is modal or not\n    *\n    * @param {HTMLElement | String | jQuery} element layer to start the search from.\n    *\n    * @returns {jQuery | null} the next matching layer or null if none found.\n    */\n    getNextLowerNonPersistentOrBlanketedLayer: function (element) {\n        var $el = (element instanceof $) ? element : $(element);\n        var index = layerIndex(this._stack, $el);\n\n        if (index < 0) {\n            return null;\n        }\n\n        var $nextEl;\n        index--;\n        while (index >= 0) {\n            $nextEl = this._stack[index];\n            var layer = createLayer($nextEl);\n\n            if (!layer.isPersistent() || layer.isBlanketed()) {\n                return $nextEl;\n            }\n            index--;\n        }\n\n        return null;\n    },\n\n    /**\n    * Gets the next layer which is neither modal or blanketed, from the given layer.\n    *\n    * @param {HTMLElement | String | jQuery} element layer to start the search from.\n    *\n    * @returns {jQuery | null} the next non modal non blanketed layer or null if none found.\n    */\n    getNextHigherNonPeristentAndNonBlanketedLayer: function (element) {\n        var $el = (element instanceof $) ? element : $(element);\n        var index = layerIndex(this._stack, $el);\n\n        if (index < 0) {\n            return null;\n        }\n\n        var $nextEl;\n        index++;\n        while (index < this._stack.length) {\n            $nextEl = this._stack[index];\n            var layer = createLayer($nextEl);\n\n            if (!(layer.isPersistent() || layer.isBlanketed())) {\n                return $nextEl;\n            }\n            index++;\n        }\n\n        return null;\n    },\n\n    /**\n    * Removes all non-modal layers above & including the given element. If the given element is not an active layer, this method\n    * is a no-op. The given element will be removed regardless of whether or not it is modal.\n    *\n    * @param {HTMLElement | String | jQuery} element layer to pop.\n    *\n    * @returns {jQuery} The last layer that was popped, or null if no layer matching the given $el was found.\n    */\n    popUntil: function (element) {\n        var $el = (element instanceof $) ? element : $(element);\n        var index = layerIndex(this._stack, $el);\n\n        if (index === -1) {\n            return null;\n        }\n\n        var oldTopBlanketedIndex = topBlanketedIndex(this._stack);\n\n        // Removes all layers above the current one.\n        popLayers(this._stack, index + 1, createLayer($el).isBlanketed());\n\n        // Removes the current layer.\n        this._stack.splice(index, 1);\n        createLayer($el)._hideLayer();\n\n        updateBlanket(this._stack, oldTopBlanketedIndex);\n\n        return $el;\n    },\n\n    /**\n    * Gets the top layer, if it exists.\n    *\n    * @returns The layer on top of the stack, if it exists, otherwise null.\n    */\n    getTopLayer: function () {\n        if (!this._stack.length) {\n            return null;\n        }\n\n        var $topLayer = this._stack[this._stack.length - 1];\n\n        return $topLayer;\n    },\n\n    /**\n    * Pops the top layer, if it exists and it is non modal and non persistent.\n    *\n    * @returns The layer that was popped, if it was popped.\n    */\n    popTopIfNonPersistent: function () {\n        var $topLayer = this.getTopLayer();\n        var layer = createLayer($topLayer);\n\n        if (!$topLayer || layer.isPersistent()) {\n            return null;\n        }\n\n        return this.popUntil($topLayer);\n    },\n\n    /**\n    * Pops all layers above and including the top blanketed layer. If layers exist but none are blanketed, this method\n    * does nothing.\n    *\n    * @returns The blanketed layer that was popped, if it exists, otherwise null.\n    */\n    popUntilTopBlanketed: function () {\n        var i = topBlanketedIndex(this._stack);\n\n        if (i < 0) {\n            return null;\n        }\n\n        var $topBlanketedLayer = this._stack[i];\n        var layer = createLayer($topBlanketedLayer);\n\n        if (layer.isPersistent()) {\n            // We can't pop the blanketed layer, only the things ontop\n            var $next = this.getNextHigherNonPeristentAndNonBlanketedLayer($topBlanketedLayer);\n            if ($next) {\n                var stopIndex = layerIndex(this._stack, $next);\n                popLayers(this._stack, stopIndex, true);\n                return $next;\n            }\n            return null;\n        }\n\n        popLayers(this._stack, i, true);\n        updateBlanket(this._stack, i);\n        return $topBlanketedLayer;\n    },\n\n    /**\n    * Pops all layers above and including the top persistent layer. If layers exist but none are persistent, this method\n    * does nothing.\n    */\n    popUntilTopPersistent: function () {\n        var $toPop = LayerManager.global.getTopLayer();\n        if (!$toPop) {\n            return;\n        }\n\n        var stopIndex;\n        var oldTopBlanketedIndex = topBlanketedIndex(this._stack);\n\n        var toPop = createLayer($toPop);\n        if (toPop.isPersistent()) {\n            if (toPop.isBlanketed()) {\n                return;\n            } else {\n                // Get the closest non modal layer below, stop at the first blanketed layer though, we don't want to pop below that\n                $toPop = LayerManager.global.getNextLowerNonPersistentOrBlanketedLayer($toPop);\n                toPop = createLayer($toPop);\n\n                if ($toPop && !toPop.isPersistent()) {\n                    stopIndex = layerIndex(this._stack, $toPop);\n                    popLayers(this._stack, stopIndex, true);\n                    updateBlanket(this._stack, oldTopBlanketedIndex);\n                } else {\n                    // Here we have a blanketed persistent layer\n                    return;\n                }\n            }\n        } else {\n            stopIndex = layerIndex(this._stack, $toPop);\n            popLayers(this._stack, stopIndex, true);\n            updateBlanket(this._stack, oldTopBlanketedIndex);\n        }\n    }\n};\n\n// LayerManager.global\n// -------------------\n\nfunction initCloseLayerOnEscPress() {\n    $doc.on('keydown', function (e) {\n        if (e.keyCode === keyCode.ESCAPE) {\n            LayerManager.global.popUntilTopPersistent();\n            e.preventDefault();\n        }\n    });\n}\n\nfunction initCloseLayerOnBlanketClick() {\n    $doc.on('click', '.aui-blanket', function (e) {\n        if (LayerManager.global.popUntilTopBlanketed()) {\n            e.preventDefault();\n        }\n    });\n}\n\nfunction hasLayer($trigger) {\n    if (!$trigger.length) {\n        return false;\n    }\n\n    var layer = document.getElementById($trigger.attr('aria-controls'));\n    return LayerManager.global.indexOf(layer) > -1;\n}\n\n// If it's a click on a trigger, do nothing.\n// If it's a click on a layer, close all layers above.\n// Otherwise, close all layers.\nfunction initCloseLayerOnOuterClick () {\n    $doc.on('click', function (e) {\n        var $target = $(e.target);\n        if ($target.closest('.aui-blanket').length) {\n            return;\n        }\n\n        var $trigger = $target.closest('[aria-controls]');\n        var $layer = $target.closest('.aui-layer');\n        if (!$layer.length && !hasLayer($trigger)) {\n            const customEvent = $.Event('aui-close-layers-on-outer-click');\n            $doc.trigger(customEvent);\n            if (customEvent.isDefaultPrevented()) {\n                e.preventDefault();\n                return;\n            }\n            LayerManager.global.hideAll();\n            return;\n        }\n\n        // Triggers take precedence over layers\n        if (hasLayer($trigger)) {\n            return;\n        }\n\n        if ($layer.length) {\n            // We dont want to explicitly call close on a modal dialog if it happens to be next.\n            // All blanketed layers should be below us, as otherwise the blanket should have caught the click.\n            // We make sure we dont close a blanketed one explicitly as a hack, this is to fix the problem arising\n            // from dialog2 triggers inside dialog2's having no aria controls, where the dialog2 that was just\n            // opened would be closed instantly\n            var $next = LayerManager.global.getNextHigherNonPeristentAndNonBlanketedLayer($layer);\n\n            if ($next) {\n                createLayer($next).hide();\n            }\n        }\n    });\n}\n\ninitCloseLayerOnEscPress();\ninitCloseLayerOnBlanketClick();\ninitCloseLayerOnOuterClick();\n\nLayerManager.global = new LayerManager();\ncreateLayer.Manager = LayerManager;\n\nglobalize('layer', createLayer);\n\nexport default createLayer;\n","import globalize from './internal/globalize';\nimport layer from './layer';\n\nglobalize('LayerManager', layer.Manager);\n\nexport default layer.Manager;\n","import globalize from './internal/globalize';\nimport {getMessageLogger} from './internal/deprecation';\n\nconst deprecation = {\n    sinceVersion: '9.0.0',\n    removeInVersion: '10.0.0'\n};\n\nconst proxy = new Proxy({}, {\n    get: function(obj, prop) {\n        getMessageLogger('AJS.params', deprecation)();\n        return obj[prop];\n    },\n})\n\nexport default globalize('params', proxy);\n","import $ from './jquery';\nimport globalize from './internal/globalize';\nimport {fn} from './internal/deprecation';\nimport params from './params';\n\nfunction populateParametersOrg (parameters) {\n    if (!parameters) {\n        parameters = params;\n    }\n\n    $('.parameters input').each(function () {\n        var value = this.value;\n        var id = this.title || this.id;\n\n        if ($(this).hasClass('list')) {\n            if (parameters[id]) {\n                parameters[id].push(value);\n            } else {\n                parameters[id] = [value];\n            }\n        } else {\n            parameters[id] = (value.match(/^(tru|fals)e$/i) ? value.toLowerCase() === 'true' : value);\n        }\n    });\n}\n\nconst deprecation = {\n    sinceVersion: '9.0.0',\n    removeInVersion: '10.0.0'\n};\n\nconst populateParameters = fn(populateParametersOrg, 'populateParameters', deprecation);\nglobalize('populateParameters', populateParameters);\n\nexport default populateParameters;\n","// Global setup that used to be in the main AJS namespace file.\nimport $ from './jquery';\nimport globalize from './internal/globalize';\nimport populateParameters from './populate-parameters';\nimport version from './version';\n\n// Set the version.\n$(function () {\n    var $body = $('body');\n\n    if (!$body.data('auiVersion')) {\n        $body.attr('data-aui-version', version);\n    }\n\n    populateParameters();\n});\n\nglobalize('$', $);\nexport default $;\n","import $ from './jquery';\nimport * as logger from './internal/log';\nimport globalize from './internal/globalize';\n\n/**\n * Adds functions to the list of methods to be run asynchronously after DomContentLoaded.\n *\n * Wraps error handling around the provided function so its failure won't prevent\n * other init functions running.\n *\n * @param {Function} func Function to be called on initialisation.\n *\n * @return {Object}\n */\nfunction toInit (func) {\n    $.when($.ready).then(function () {\n        // Ensure that every function passed through toInit happens asynchronously after DomContentLoaded events,\n        // and will be executed in its own stack, meaning that the UI can be updated in-between expensive handlers.\n        setTimeout(function () {\n            try {\n                func.call(this, $);\n            } catch (ex) {\n                logger.error('Failed to run init function: ' + ex.message, func, ex, ex.stack);\n            }\n        }, 1);\n    });\n\n    return this;\n}\n\nglobalize('toInit', toInit);\n\nexport default toInit;\n","import format from './format';\nimport globalize from './internal/globalize';\nimport keys from './internal/i18n/aui';\n\n/**\n * Returns the value defined in AJS.I18n.keys for the given key. If AJS.I18n.keys does not exist, or if the given key does not exist,\n * the key is returned - this could occur in plugin mode if the I18n transform is not performed;\n * or in flatpack mode if the i18n JS file is not loaded.\n */\nexport var I18n = {\n    keys: keys,\n    getText: function (key, ...params) {\n        if (Object.prototype.hasOwnProperty.call(this.keys, key)) {\n            return format.apply(null, [this.keys[key]].concat(params));\n        }\n\n        return key;\n    }\n};\n\n/**\n * Deprecated - do not use AJS.I18n.getText from global scope within AUI code. Use import { I18n } from '../i18n'\n * Also keep in mind that WRM is looking for patterns like \"I18n.getText\" so do not create\n * aliases for I18n or export it from here using 'default'. Webpack transforms it then to\n * 'd.default.getText' and it won't match.\n **/\nglobalize('I18n', I18n);\n","export default {\n    'aui.landmarks.site': 'Site',\n    'aui.landmarks.sidebar': 'Sidebar',\n    'aui.landmarks.page': 'Page',\n    'aui.landmarks.main': 'Main',\n    'aui.header.home.link': 'Go to home page',\n    'aui.dropdown.async.error': 'Error loading dropdown',\n    'aui.dropdown.async.loading': 'Loading dropdown',\n    'aui.words.expand': 'Expand',\n    'aui.words.collapse': 'Collapse',\n    'aui.words.add': 'Add',\n    'aui.words.update': 'Update',\n    'aui.words.delete': 'Delete',\n    'aui.words.remove': 'Remove',\n    'aui.words.cancel': 'Cancel',\n    'aui.words.loading': 'Loading',\n    'aui.words.close': 'Close',\n    'aui.enter.value': 'Enter value',\n    'aui.words.more': 'More',\n    'aui.words.moreitem': 'More…',\n    'aui.keyboard.shortcut.type.x': \"Type ''{0}''\",\n    'aui.keyboard.shortcut.then.x': \"then ''{0}''\",\n    'aui.keyboard.shortcut.or.x': \"OR ''{0}''\",\n    'aui.sidebar.expand.tooltip': 'Expand sidebar ( [ )',\n    'aui.sidebar.collapse.tooltip': 'Collapse sidebar ( [ )',\n    'aui.validation.message.maxlength': 'Must be fewer than or equal to {0} characters',\n    'aui.validation.message.minlength': 'Must be greater than or equal to {0} characters',\n    'aui.validation.message.exactlength': 'Must be exactly {0} characters',\n    'aui.validation.message.matchingfield': '{0} and {1} do not match.',\n    'aui.validation.message.matchingfield-novalue': 'These fields do not match.',\n    'aui.validation.message.doesnotcontain': 'Do not include the phrase {0} in this field',\n    'aui.validation.message.pattern': 'This field does not match the required format',\n    'aui.validation.message.required': 'This is a required field',\n    'aui.validation.message.validnumber': 'Please enter a valid number',\n    'aui.validation.message.min': 'Enter a value greater than or equal to  {0}',\n    'aui.validation.message.max': 'Enter a value less than or equal to {0}',\n    'aui.validation.message.dateformat': 'Enter a valid date',\n    'aui.validation.message.minchecked': 'Tick at least {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.',\n    'aui.validation.message.maxchecked': 'Tick at most {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.',\n    'aui.checkboxmultiselect.clear.selected': 'Clear selected items',\n    'aui.select.no.suggestions': 'No suggestions',\n    'aui.select.new.suggestions': 'New suggestions added. Please use the up and down arrows to select.',\n    'aui.select.new.value': 'new value',\n    'aui.toggle.on': 'On',\n    'aui.toggle.off': 'Off',\n    'ajs.datepicker.localisations.day-names.sunday': 'Sunday',\n    'ajs.datepicker.localisations.day-names.monday': 'Monday',\n    'ajs.datepicker.localisations.day-names.tuesday': 'Tuesday',\n    'ajs.datepicker.localisations.day-names.wednesday': 'Wednesday',\n    'ajs.datepicker.localisations.day-names.thursday': 'Thursday',\n    'ajs.datepicker.localisations.day-names.friday': 'Friday',\n    'ajs.datepicker.localisations.day-names.saturday': 'Saturday',\n    'ajs.datepicker.localisations.day-names-min.sunday': 'Sun',\n    'ajs.datepicker.localisations.day-names-min.monday': 'Mon',\n    'ajs.datepicker.localisations.day-names-min.tuesday': 'Tue',\n    'ajs.datepicker.localisations.day-names-min.wednesday': 'Wed',\n    'ajs.datepicker.localisations.day-names-min.thursday': 'Thu',\n    'ajs.datepicker.localisations.day-names-min.friday': 'Fri',\n    'ajs.datepicker.localisations.day-names-min.saturday': 'Sat',\n    'ajs.datepicker.localisations.first-day': 0,\n    'ajs.datepicker.localisations.is-RTL': false,\n    'ajs.datepicker.localisations.month-names.january': 'January',\n    'ajs.datepicker.localisations.month-names.february': 'February',\n    'ajs.datepicker.localisations.month-names.march': 'March',\n    'ajs.datepicker.localisations.month-names.april': 'April',\n    'ajs.datepicker.localisations.month-names.may': 'May',\n    'ajs.datepicker.localisations.month-names.june': 'June',\n    'ajs.datepicker.localisations.month-names.july': 'July',\n    'ajs.datepicker.localisations.month-names.august': 'August',\n    'ajs.datepicker.localisations.month-names.september': 'September',\n    'ajs.datepicker.localisations.month-names.october': 'October',\n    'ajs.datepicker.localisations.month-names.november': 'November',\n    'ajs.datepicker.localisations.month-names.december': 'December',\n    'ajs.datepicker.localisations.show-month-after-year': false,\n    'ajs.datepicker.localisations.year-suffix': ''\n}\n","import $ from './jquery';\nimport { recomputeStyle } from './internal/animation';\nimport amdify from './internal/amdify';\nimport globalize from './internal/globalize';\n\nvar ID_BANNER_CONTAINER = 'header';\n\nfunction banner (options) {\n    var $banner = renderBannerElement(options);\n\n    pruneBannerContainer();\n    insertBanner($banner);\n\n    return $banner[0];\n}\n\nfunction renderBannerElement({body, type = 'error'}) {\n    return $('<div class=\"aui-banner\" role=\"banner\"></div>')\n        .append($.parseHTML(body || ''))\n        .addClass(`aui-banner-${type}`);\n}\n\nfunction pruneBannerContainer() {\n    var $container = findContainer();\n    var $allBanners = $container.find('.aui-banner');\n\n    $allBanners.get().forEach(function (banner) {\n        var isBannerAriaHidden = banner.hasAttribute('hidden');\n        if (isBannerAriaHidden) {\n            $(banner).remove();\n        }\n    });\n}\n\nfunction findContainer() {\n    return $('#' + ID_BANNER_CONTAINER);\n}\n\nfunction insertBanner($banner) {\n    var $bannerContainer = findContainer();\n    if (!$bannerContainer.length) {\n        throw new Error('You must implement the application header');\n    }\n\n    $banner.prependTo($bannerContainer);\n    recomputeStyle($banner);\n    $banner[0].removeAttribute('hidden');\n}\n\namdify('aui/banner', banner);\nglobalize('banner', banner);\nexport default banner;\n","import skate from './internal/skate';\nimport { getMessageLogger } from './internal/deprecation';\nimport { defaults, find } from 'underscore';\n\n/**\n * @typedef {\"small\"|\"medium\"|\"large\"} SpinnerSize\n */\n\n/**\n * @typedef {Object} SpinnerSizeConfig\n * @param {SpinnerSize} name\n * @param {number} px\n * @param {number} radius\n */\n\n/**\n * @enum {SpinnerSizeConfig}\n * @readonly\n */\nconst SIZE = {\n    SMALL: {\n        name: 'small',\n        px: 20,\n        radius: 9,\n    },\n    MEDIUM: {\n        name: 'medium',\n        px: 30,\n        radius: 13.5,\n    },\n    LARGE: {\n        name: 'large',\n        px: 50,\n        radius: 22.5,\n    },\n};\n\nconst DEFAULTS = {\n    filled: false,\n    size: SIZE.MEDIUM.name,\n};\n\nconst filledAttributeReplacementText = `Add CSS to the parent element of the <aui-spinner>.\nUse CSS flexbox or grid to vertically align it.\nSee https://css-tricks.com/centering-css-complete-guide/ for techniques.`;\n\nconst filledAttributeDeprecatedLogger = getMessageLogger('<aui-spinner> filled attribute', {\n    sinceVersion: '7.9.4',\n    removeInVersion: '10.0.0',\n    extraInfo: filledAttributeReplacementText\n});\n\nconst filledPropDeprecatedLogger = getMessageLogger('<aui-spinner> filled property', {\n    sinceVersion: '7.9.4',\n    removeInVersion: '10.0.0',\n    extraInfo: filledAttributeReplacementText\n});\n\n/** @deprecated */\nfunction setMiddleTop(element, height) {\n    const parent = element.parentNode;\n    // only operate on elements, not documentFragment or comment nodes, etc.\n    if (parent && parent.nodeType === 1) {\n        const selfDomRect = element.getBoundingClientRect();\n        const parentDomRect = parent.getBoundingClientRect();\n\n        const parentMiddleTop = parentDomRect.top + parentDomRect.height / 2;\n        const spinnerMiddleTop = selfDomRect.top + height / 2;\n\n        element.querySelector('svg').style.top = `${parentMiddleTop - spinnerMiddleTop}px`;\n    }\n}\n\n/** @deprecated */\nfunction removeMiddleTop(element) {\n    delete element.querySelector('svg').style.top;\n}\n\nfunction validateSize(size) {\n    let result = SIZE.MEDIUM.name;\n    if (typeof size === 'string') {\n        size = size.toLowerCase();\n        const possibleSizes = Object.keys(SIZE).map(key => key.toLowerCase());\n\n        if (possibleSizes.indexOf(size) > -1) {\n            result = size;\n        }\n    }\n\n    return result;\n}\n\nfunction setSize(element, size, radius) {\n    const svg = element.querySelector('svg');\n    const circle = element.querySelector('circle');\n\n    svg.setAttribute('size', size);\n    svg.setAttribute('height', size);\n    svg.setAttribute('width', size);\n    svg.setAttribute('viewBox', `0 0 ${size} ${size}`);\n\n    const circleSize = size / 2;\n\n    circle.setAttribute('cx', circleSize);\n    circle.setAttribute('cy', circleSize);\n    circle.setAttribute('r', radius);\n}\n\nfunction refresh(element) {\n    const { px, radius } = find(SIZE, s => s.name === element._data.size) || SIZE.MEDIUM;\n    setSize(element, px, radius);\n\n    if (element._data.filled) {\n        setMiddleTop(element, px);\n    } else {\n        removeMiddleTop(element);\n    }\n}\n\nconst SpinnerEl = skate('aui-spinner', {\n    template(element) {\n        element.innerHTML = '<div class=\"aui-spinner spinner\"><svg focusable=\"false\"><circle></circle></svg></div>';\n        refresh(element);\n    },\n    attached(element) {\n        refresh(element);\n    },\n    attributes: {\n        filled: {\n            /** @deprecated */\n            created: function(element) {\n                filledAttributeDeprecatedLogger();\n                element._data.filled = true;\n                refresh(element);\n            },\n            /** @deprecated */\n            removed: function(element) {\n                element._data.filled = false;\n                refresh(element);\n            }\n        },\n        size(element, data) {\n            element._data.size = validateSize(data.newValue);\n            refresh(element);\n        },\n    },\n    prototype: {\n        get _data() {\n            return this.__data || (this._data = defaults({}, DEFAULTS));\n        },\n        set _data(data) {\n            return this.__data = data;\n        },\n        /** @deprecated */\n        set filled(isFilled) {\n            filledPropDeprecatedLogger();\n            !!isFilled ? this.setAttribute('filled', '') : this.removeAttribute('filled');\n        },\n        set size(newSize) {\n            const size = validateSize(newSize);\n            this.setAttribute('size', size);\n        },\n    },\n});\n\nexport default SpinnerEl;\nexport {\n    SIZE\n};\n","import * as logger from './internal/log';\nimport amdify from './internal/amdify';\nimport skate from './internal/skate';\nimport SpinnerEl, {SIZE} from './spinner';\n\nfunction isBusy (button) {\n    return button.hasAttribute('aria-busy') && button.getAttribute('aria-busy') === 'true';\n}\n\nfunction isInputNode (button) {\n    return button.nodeName === 'INPUT';\n}\n\nskate('aui-button', {\n    type: skate.type.CLASSNAME,\n    created: function (element) {\n        element._spinner = new SpinnerEl();\n        element._spinner.setAttribute('size', SIZE.SMALL.name);\n    },\n    prototype: {\n        /**\n         * Adds a spinner to the button and hides the text\n         *\n         * @returns {HTMLElement}\n         */\n        busy: function () {\n            if (isInputNode(this) || isBusy(this)) {\n                logger.warn('It is not valid to call busy() on an input button.');\n                return this;\n            }\n\n            this.appendChild(this._spinner);\n            this.setAttribute('aria-busy', true);\n            this.setAttribute('busy', '');\n\n            return this;\n        },\n\n        /**\n         * Removes the spinner and shows the tick on the button\n         *\n         * @returns {HTMLElement}\n         */\n        idle: function () {\n            if (isInputNode(this) || !isBusy(this)) {\n                logger.warn('It is not valid to call idle() on an input button.');\n                return this;\n            }\n\n            this.removeChild(this._spinner);\n            this.removeAttribute('aria-busy');\n            this.removeAttribute('busy');\n\n            return this;\n        },\n\n        /**\n         * Removes the spinner and shows the tick on the button\n         *\n         * @returns {Boolean}\n         */\n        isBusy: function () {\n            if (isInputNode(this)) {\n                logger.warn('It is not valid to call isBusy() on an input button.');\n                return false;\n            }\n\n            return isBusy(this);\n        }\n    }\n});\n\namdify('aui/button');\n","import {I18n} from './i18n';\n\nconst CLOSE_BUTTON_CLASS = 'aui-close-button';\nconst CLOSE_BUTTON_CLASS_SELECTOR = `.${CLOSE_BUTTON_CLASS}`;\nconst CLOSE_BUTTON = `<button type=\"button\" class=\"${CLOSE_BUTTON_CLASS}\" aria-label=\"${I18n.getText('aui.words.close')}\">`;\n\nexport {\n    CLOSE_BUTTON,\n    CLOSE_BUTTON_CLASS,\n    CLOSE_BUTTON_CLASS_SELECTOR\n};\n","import $ from './jquery';\nimport amdify from './internal/amdify';\nimport globalize from './internal/globalize';\nimport layerWidget from './layer';\nimport widget from './internal/widget';\nimport keyCode from './key-code';\nimport {CLOSE_BUTTON, CLOSE_BUTTON_CLASS_SELECTOR} from './close-button';\n\nvar defaults = {\n    'aui-focus': 'false', // do not focus by default as it's overridden below\n    'aui-blanketed': 'true'\n};\n\nfunction applyDefaults($el) {\n    $.each(defaults, function (key, value) {\n        var dataKey = 'data-' + key;\n        if (!$el[0].hasAttribute(dataKey)) {\n            $el.attr(dataKey, value);\n        }\n    });\n}\n\nfunction Dialog2(selector) {\n    this._handlers = new WeakMap();\n    if (selector) {\n        this.$el = $(selector);\n    } else {\n        this.$el = $(`\n        <section role=\"dialog\" class=\"aui-layer aui-dialog2 aui-dialog2-medium\">\n            <header class=\"aui-dialog2-header\">\n                <h2 class=\"aui-dialog2-header-main\"></h2>\n                ${CLOSE_BUTTON}\n                </button>\n            </header>\n            <div class=\"aui-dialog2-content\"></div>\n            <footer class=\"aui-dialog2-footer\"></footer>\n        </section>`);\n    }\n    applyDefaults(this.$el);\n}\n\n\nDialog2.prototype.on = function (event, fn) {\n    const $el = this.$el;\n    if (!this._handlers.get(fn)) {\n        const handler = function(e) {\n            if (e.target === $el.get(0)) {\n                fn.apply(this, arguments);\n            }\n        };\n        layerWidget($el).on(event, handler);\n        this._handlers.set(fn, handler);\n    }\n    return this;\n};\n\nDialog2.prototype.off = function (event, fn) {\n    const $el = this.$el;\n    const handler = this._handlers.get(fn);\n    if (handler) {\n        layerWidget($el).off(event, handler);\n        this._handlers.delete(fn);\n    }\n    return this;\n};\n\nDialog2.prototype.show = function () {\n    layerWidget(this.$el).show();\n    return this;\n};\n\nDialog2.prototype.hide = function () {\n    layerWidget(this.$el).hide();\n    return this;\n};\n\nDialog2.prototype.remove = function () {\n    layerWidget(this.$el).remove();\n    return this;\n};\n\nDialog2.prototype.isVisible = function () {\n    return layerWidget(this.$el).isVisible();\n};\n\nvar dialog2Widget = widget('dialog2', Dialog2);\nvar dialog2GlobalHandlers = new Set();\n\ndialog2Widget.on = function (eventName, fn) {\n    if (!dialog2GlobalHandlers.has(fn)) {\n        layerWidget.on(eventName, '.aui-dialog2', fn);\n        dialog2GlobalHandlers.add(fn);\n    }\n    return this;\n};\n\ndialog2Widget.off = function (eventName, fn) {\n    if (dialog2GlobalHandlers.has(fn)) {\n        layerWidget.off(eventName, '.aui-dialog2', fn);\n        dialog2GlobalHandlers.delete(fn);\n    }\n    return this;\n};\n\n/* Live events */\n\n$(document).on('click keydown', `.aui-dialog2-header ${CLOSE_BUTTON_CLASS_SELECTOR}`, function(e) {\n    const shouldHandle = e.type === 'click' || e.keyCode === keyCode.ENTER || e.keyCode === keyCode.SPACE;\n    if (shouldHandle) {\n        e.preventDefault();\n        dialog2Widget($(e.target).closest('.aui-dialog2')).hide();\n    }\n});\n\ndialog2Widget.on('show', function (e, $el) {\n    // prevent inability to focus the close button.\n    $el.find(CLOSE_BUTTON_CLASS_SELECTOR).attr('tabindex', 0);\n    $el.attr('tabindex', -1);\n    // find appropriate content to focus, in order of importance of the content.\n    var focusSelector = $el[0].hasAttribute('data-aui-focus-selector') && $el.attr('data-aui-focus-selector');\n    if (focusSelector) {\n        var $elementToFocus = $el.find(focusSelector);\n        if ($elementToFocus.length > 0) {\n            return $elementToFocus.first().focus();\n        }\n    }\n\n    // focus the dialog element itself #a11y #FEP-607\n    $el.focus();\n});\n\ndialog2Widget.on('hide', function (e,$el) {\n    var layer = layerWidget($el);\n\n    if ($el.data('aui-remove-on-hide')) {\n        layer.remove();\n    }\n});\n\namdify('aui/dialog2', dialog2Widget);\nglobalize('dialog2', dialog2Widget);\nexport default dialog2Widget;\n","\nvar ua = navigator.userAgent.toLowerCase();\nvar isIE = /msie/.test(ua);\nvar isWinXP = /windows nt 5.1/.test(ua);\nvar isWinVista = /windows nt 6.0/.test(ua);\nvar isWin7 = /windows nt 6.1/.test(ua);\nvar isMacOSX = (/mac os x/.test(ua));\nvar doesSupportHtml5DateInput;\nvar doesSupportFocusWithin;\n\n/**\n * Layered elements can get obscured by <object>, <embed>, <select> or sometimes even <iframe>\n * on older versions of Windows + Internet Explorer.\n * From manual testing, all IE versions on Windows 7 appear to have the bug,\n * but no IE versions on Windows 8 have it.\n */\nexport function needsLayeringShim () {\n    return isIE && (isWinXP || isWinVista || isWin7);\n}\n\nexport function supportsVoiceOver () {\n    return isMacOSX;\n}\n\nexport function supportsDateField () {\n    if (typeof doesSupportHtml5DateInput === 'undefined') {\n        var el = document.createElement('input');\n        el.setAttribute('type', 'date');\n        doesSupportHtml5DateInput = el.type === 'date';\n    }\n    return doesSupportHtml5DateInput;\n}\n\nexport function supportsFocusWithin () {\n    if (typeof doesSupportFocusWithin === 'undefined') {\n        try {\n            document.querySelector(':focus-within');\n            doesSupportFocusWithin = true;\n        } catch (e) {\n            doesSupportFocusWithin = false;\n        }\n    }\n    return doesSupportFocusWithin;\n}\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nexport default function getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getWindow from \"./getWindow.js\";\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nexport { isElement, isHTMLElement };","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the \nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  var offsetParent = element.offsetParent;\n\n  if (offsetParent) {\n    var html = getDocumentElement(offsetParent);\n\n    if (getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && getComputedStyle(html).position !== 'static') {\n      return html;\n    }\n  }\n\n  return offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.willChange && css.willChange !== 'auto') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nexport * from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign(Object.assign({}, DEFAULT_OPTIONS), defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign(Object.assign(Object.assign({}, defaultOptions), state.options), options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign(Object.assign(Object.assign({}, existing), current), {}, {\n      options: Object.assign(Object.assign({}, existing.options), current.options),\n      data: Object.assign(Object.assign({}, existing.data), current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign(Object.assign({}, state.styles.popper), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign(Object.assign({}, state.styles.arrow), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign(Object.assign({}, rects), {}, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign(Object.assign({}, rect), {}, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = Math.max(rect.top, accRect.top);\n    accRect.right = Math.min(rect.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = element.ownerDocument.body;\n  var width = Math.max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = Math.max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += Math.max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign(Object.assign({}, getFreshSideObject()), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign(Object.assign({}, popperRect), popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./index.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements; // $FlowFixMe\n\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign(Object.assign({}, state.rects), {}, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { createPopper } from '@popperjs/core';\n\nconst ATTR_ALIGNMENT = 'alignment';\nconst DEFAULT_ATTACHMENT = 'right middle';\nexport const ATTR_CONTAINER = 'alignment-container';\nconst CLASS_PREFIX_SIDE = 'aui-alignment-side-';\nconst CLASS_PREFIX_SNAP = 'aui-alignment-snap-';\nexport const GPU_ACCELERATION_FLAG = 'aui-alignment-use-gpu';\n\n/**\n * The \"side\" and \"snap\" that an element should use when aligning, where:\n * - \"side\" is the edge of the **target** that the aligned element should touch, and\n * - \"snap\" is the effective position that both the target and aligned element should share.\n * @enum {String}\n * @name AlignmentType\n */\nconst ALIGNMENT_MAP = {\n    'top left': 'top-start',\n    'top center': 'top',\n    'top right': 'top-end',\n    'right top': 'right-start',\n    'right middle': 'right',\n    'right bottom': 'right-end',\n    'bottom right': 'bottom-end',\n    'bottom center': 'bottom',\n    'bottom left': 'bottom-start',\n    'left bottom': 'left-end',\n    'left middle': 'left',\n    'left top': 'left-start',\n};\n\nfunction getAttribute(element, name) {\n    return element.getAttribute(name) || element.getAttribute('data-aui-' + name);\n}\n\nfunction getAlignmentAttribute(element) {\n    return getAttribute(element, ATTR_ALIGNMENT) || DEFAULT_ATTACHMENT;\n}\n\nfunction getPlacement(element) {\n    const attr = getAlignmentAttribute(element);\n    return ALIGNMENT_MAP[attr] || 'right';\n}\n\nfunction getAlignment(element) {\n    let [side, snap] = (getAlignmentAttribute(element)).split(' ');\n    return {\n        side,\n        snap\n    };\n}\n\nfunction addAlignmentClasses(element, side, snap) {\n    const sideClass = CLASS_PREFIX_SIDE + side;\n    const snapClass = CLASS_PREFIX_SNAP + snap;\n\n    if (!element.classList.contains(sideClass)) {\n        element.classList.add(sideClass);\n    }\n\n    if (!element.classList.contains(snapClass)) {\n        element.classList.add(snapClass);\n    }\n}\n\nfunction getContainer (element) {\n    let container = getAttribute(element, ATTR_CONTAINER) || window;\n\n    if (typeof container === 'string') {\n        container = document.querySelector(container);\n    }\n\n    return container;\n}\n\nfunction calculateBestAlignmentSnap (target) {\n    let container = getContainer(target);\n    let snap = 'left';\n\n    if (!container || container === window || container === document) {\n        container = document.documentElement;\n    }\n\n    if (container && container.nodeType && container.nodeType === Node.ELEMENT_NODE) {\n        let containerBounds = container.getBoundingClientRect();\n        let targetBounds = target.getBoundingClientRect();\n\n        if ((targetBounds.left - containerBounds.left) > (containerBounds.right - containerBounds.left) / 2) {\n            snap = 'right';\n        }\n    }\n\n    return snap;\n}\n\nfunction calculatePlacement (element, target) {\n    const alignment = getAlignment(element);\n\n    let placement;\n\n    if (!alignment.snap || alignment.snap === 'auto') {\n\n        alignment.snap = calculateBestAlignmentSnap(target);\n\n        if (alignment.side === 'submenu') {\n            placement = ALIGNMENT_MAP[`${alignment.snap === 'right' ? 'left' : 'right'} top`];\n        } else {\n            placement = ALIGNMENT_MAP[`${alignment.side} ${alignment.snap}`];\n        }\n    } else {\n        placement = getPlacement(element);\n    }\n\n    return placement;\n}\n/*\n    this determines allowed flip placement e.g.\n    for top it will try to position itself at the top,\n    if there is no space try to flip to bottom\n*/\nconst allowedPlacement = {\n    auto: [],\n    top: ['top', 'bottom'],\n    right: ['right', 'left'],\n    bottom: ['bottom', 'top'],\n    left: ['left', 'right'],\n};\n\n/**\n * Visually positions an element adjacent to another one in the DOM.\n * Can also be told to keep the element aligned\n * when the user resizes the browser or scrolls around the page.\n * @constructor\n * @constructs Alignment\n * @param {HTMLElement} element - the element that will be repositioned. Should have an \"alignment\" attribute\n *   with a valid {@link AlignmentType} value.\n * @param {HTMLElement} target - the point in the DOM to visually position the {@param element} adjacent to.\n * @param {Object} [options]\n * @param {Array.<Number>} [options.offset] - array containing [skidding, distance]. if present, will cause\n *   the element to offset from the trigger; Defaults to [0,0] (no offset)\n *   skidding, displaces the popper along the reference element.\n *   distance, displaces the popper away from, or toward, the reference element in the direction of its placement\n * @param {boolean} [options.preventOverflow=true] - if true, will cause element to not overflow viewable area\n * @param {boolean} [options.flip=true] - if true, will cause the element to attempt to reposition itself within\n *   a viewable area as its {@param target} disappears from view.\n * @param {HTMLElement|'viewport'|'window'|'scrollContainer'} [options.flipContainer='viewport'] - the container\n *   in which the element should attempt to stay within the viewable area of.\n *   Used in conjunction with {@param options.flip}.\n * @param {HTMLElement|'viewport'|'window'|'scrollContainer'} [options.overflowContainer='window'] - the container\n *   in which the element should attempt to stay within the viewable area of.\n *   Used in conjunction with {@param options.preventOverflow}.\n * @param {Function} [options.onCreate] - called when the element is first positioned upon creation of the Alignment.\n * @param {Function} [options.onUpdate] - called whenever the element is positioned, except upon creation.\n * @param {Function} [options.onEvents]\n * @param {Function} [options.onEvents.enabled] - called when the scroll and resize events are added.\n * @param {Function} [options.onEvents.disabled] - called when the scroll and resize events are removed.\n * @param {boolean} [options.eventsEnabled=false] - if true, will cause the element to attempt to reposition itself on\n *   scroll and resize. Equivalent of calling .enable() after init but saves one update cycle.\n */\nfunction Alignment(element, target, options = {}) {\n    const alignment = getAlignment(element)\n    const placement = calculatePlacement(element, target);\n    const allowedAutoPlacements = allowedPlacement[placement.split('-')[0]];\n\n    const frame = target.ownerDocument.defaultView.frameElement;\n\n    this._eventListenersEnabled = options.hasOwnProperty('eventsEnabled') ? options.eventsEnabled : false;\n    this._triggerOnEvents = false;\n\n    const modifiers = [\n        {\n            name: 'flip',\n            enabled: options.hasOwnProperty('flip') ? options.flip : true,\n            options: {\n                allowedAutoPlacements,\n                boundary: frame || (options.hasOwnProperty('flipContainer') ? options.flipContainer : 'clippingParents'), // clippingParents by default\n            }\n        },\n        {\n            name: 'preventOverflow',\n            enabled: options.hasOwnProperty('preventOverflow') ? options.preventOverflow : true,\n            options: {\n                padding: 0, // as of Popper 2.0 it's 0 by default, but explicitly specify in case of defaults change.\n                escapeWithReference: false,\n                rootBoundary: frame || (options.hasOwnProperty('overflowContainer') ? options.overflowContainer : 'document'), //viewport by default\n            }\n        },\n        {\n            name: 'offset',\n            enabled: options.hasOwnProperty('offset') && !!options.offset,\n            options: {\n                offset: options.offset,\n            },\n        },\n        {\n            name: 'hide',\n            enabled: false\n        },\n        {\n            name: 'computeStyles',\n            options: {\n                gpuAcceleration: document.body.classList.contains(GPU_ACCELERATION_FLAG),\n                // adaptive: false, // true by default, breaks CSS transitions (do we need it?)\n            }\n        },\n        {\n            name: 'eventListeners',\n            enabled: this._eventListenersEnabled\n        },\n        { // left for backwards compatibility\n            name: 'x-placement',\n            enabled: true,\n            phase: 'write',\n            requires: ['computeStyles'],\n            fn: ({state}) => {\n                if (state.elements.popper) {\n                    // popper-specific attributes are NOT contracted, public API of AUI layered element\n                    state.elements.popper.setAttribute('x-placement', state.placement)\n                }\n            }\n        },\n        {\n            name: 'onUpdate',\n            enabled: options.hasOwnProperty('onUpdate'),\n            phase: 'afterWrite',\n            effect: ({state, name}) => {\n                // enable it after initial cycle\n                state.modifiersData[`${name}#persistent`] = {\n                    enabled: true,\n                    fn: options.onUpdate\n                };\n            },\n\n            fn: ({state, name}) => {\n                const o = state.modifiersData[`${name}#persistent`];\n\n                if (o.enabled) {\n                    o.fn();\n                }\n\n                return state;\n            }\n        },\n        {\n            name: 'onEvents',\n            enabled: options.hasOwnProperty('onEvents'),\n            phase: 'afterWrite',\n            effect: ({state, name}) => {\n                // enable it after initial cycle\n                state.modifiersData[`${name}#persistent`] = {\n                    fn: options.onEvents\n                };\n            },\n            fn: ({state, name}) => {\n                const o = state.modifiersData[`${name}#persistent`];\n\n                if (this._triggerOnEvents) {\n                    if (this._eventListenersEnabled) {\n                        o.fn.enabled && o.fn.enabled();\n                    } else {\n                        o.fn.disabled && o.fn.disabled();\n                    }\n                    this._triggerOnEvents = false;\n                }\n                return state;\n            }\n        }\n    ];\n\n    // IE/Edge may throw a \"Permission denied\" error when strict-comparing two documents\n    // eslint-disable-next-line eqeqeq\n    if (frame && (target.ownerDocument != element.ownerDocument)) {\n        modifiers.push({\n            name: 'iframeOffset',\n            enabled: true,\n            fn(data) {\n                const rect = frame.getBoundingClientRect();\n                const style = window.getComputedStyle(frame);\n                const sum = (a, b) => a + b\n                const getTotalValue = values => values.map(parseFloat).filter(Boolean).reduce(sum, 0);\n\n                const top = getTotalValue([\n                    rect.top,\n                    style.paddingTop,\n                    style.borderTop\n                ]);\n\n                const left = getTotalValue([\n                    rect.left,\n                    style.paddingLeft,\n                    style.borderLeft\n                ]);\n\n                data.offsets.reference.left += left;\n                data.offsets.reference.top += top;\n\n                data.offsets.popper.left += left;\n                data.offsets.popper.top += top;\n\n                return data\n            }\n        });\n    }\n\n    const popperConfig = {\n        placement, //controlled by the flip modifier\n        strategy: options.hasOwnProperty('positionFixed') && !options.positionFixed ? 'absolute' : 'fixed',\n        modifiers,\n        onFirstUpdate: options.onCreate\n    };\n\n    this.popper = createPopper(target, element, popperConfig);\n\n    addAlignmentClasses(element, alignment.side, alignment.snap);\n}\n\nAlignment.prototype = {\n\n    destroy() {\n        this.popper.destroy();\n        return this;\n    },\n\n    /**\n     * In extreme situations may cause element to be inaccessible. To be considered as 9.1.1 bugfix / 9.2.0 improvement?\n     *\n     * Changes what the aligned element is trying to align itself with.\n     * Will call {@link #scheduleUpdate} as needed to ensure the element will be aligned\n     * with whatever the new target is.\n     * @param {HTMLElement} newTarget - the new target DOM element to align the element with.\n     * @returns {Alignment}\n     */\n    changeTarget(newTarget) {\n        const referenceEl = newTarget.jquery ? newTarget[0] : newTarget;\n        if (referenceEl && referenceEl !== this.popper.state.elements.reference) {\n            this.popper.state.elements.reference = referenceEl;\n            this.popper.setOptions({}); // .options() re-instanciate all modifiers and updates the view\n        }\n        return this;\n    },\n\n    /**\n     * The position of the element will be updated on the next execution stack.\n     * Triggering a render this way will always be asynchronous.\n     * @returns {Alignment}\n     */\n    scheduleUpdate() {\n        this.popper.update();\n        return this;\n    },\n\n    /**\n     * Causes the position of the element to auto-update\n     * when the browser window resizes or scroll parent is scrolled.\n     * @returns {Alignment}\n     */\n    enable() {\n        this._eventListenersEnabled = true;\n        this._triggerOnEvents = true;\n\n        this.popper.setOptions({}); // setOptions will re-instanciate all modifiers.\n        return this;\n    },\n\n    /**\n     * Prevents the position of the element from auto-updating\n     * when the browser window resizes or scroll parent is scrolled.\n     * @returns {Alignment}\n     */\n    disable() {\n        this._eventListenersEnabled  = false;\n        this._triggerOnEvents = true;\n\n        this.popper.setOptions({});  // setOptions will re-instanciate all modifiers.\n        return this;\n    },\n};\n\nexport default Alignment;\n","import $ from '../jquery';\n\nconst DELAY = 12;\n\n// an element can be detached and then attached multiple times\n// in some situations -- e.g., when re-appending an element to\n// another place in the DOM.\nfunction ifGone (element) {\n    let deferred = new $.Deferred();\n    if (element) {\n        setTimeout(() => {\n            if (!element.parentElement) {\n                deferred.resolve();\n            }\n        }, DELAY);\n    } else {\n        deferred.reject();\n    }\n    return deferred.promise();\n}\n\nexport {\n    DELAY,\n    ifGone,\n}\n","import globalize from './internal/globalize';\n\nvar uniqueID;\nvar uniqueIDstring;\nvar uniqueIDcounter = 0;\n\n/**\n * Generate a unique ID string, checking the ID is not present in the DOM before\n * returning. Note uniqueID, uniqueIDstring, uniqueIDcounter = 0; set at top of\n * file.\n *\n * @param {String} prefix String to prepend to ID instead of default AUI prefix.\n *\n * @returns {String}\n */\nfunction generateUniqueId (prefix) {\n    uniqueID = uniqueIDcounter++ + '';\n    uniqueIDstring = prefix ? prefix + uniqueID : 'aui-uid-' + uniqueID;\n\n    if (!document.getElementById(uniqueIDstring)) {\n        return uniqueIDstring;\n    } else {\n        uniqueIDstring = uniqueIDstring + '-' + new Date().getTime();\n\n        if (!document.getElementById(uniqueIDstring)) {\n            return uniqueIDstring;\n        } else {\n            throw new Error('Timestamped fallback ID \"' + uniqueIDstring + '\" exists.');\n        }\n    }\n}\n\nglobalize('id', generateUniqueId);\n\nexport default generateUniqueId;\n","import { I18n } from './i18n';\nimport './spinner';\nimport $ from './jquery';\nimport template from 'skatejs-template-html';\nimport * as deprecate from './internal/deprecation';\nimport * as logger from './internal/log';\nimport { debounce } from 'underscore';\nimport { supportsVoiceOver } from './internal/browser';\nimport Alignment from './internal/alignment';\nimport CustomEvent from './polyfills/custom-event';\nimport keyCode from './key-code';\nimport layer from './layer';\nimport state from './internal/state';\nimport skate from './internal/skate';\nimport {ifGone} from './internal/elements';\nimport {doIfTrigger, setTrigger} from './trigger';\nimport generateUniqueId from './unique-id';\nimport escapeHtml from './escape-html';\n\nfunction isHidden(el) {\n    return el.hasAttribute('hidden') || el.classList.contains('hidden');\n}\n\nfunction setDropdownTriggerActiveState(trigger, isActive) {\n    trigger.setAttribute('aria-expanded', !!isActive);\n    trigger.classList[isActive ? 'add' : 'remove']('active', 'aui-dropdown2-active');\n}\n\n/**\n * Focus the appropriate thing when a dropdown is shown.\n * The element focussed will vary depending on the type of dropdown and\n * the input modality (e.g., whether it was an event 100% attributable to a hardware mouse or keyboard).\n *\n * @param {HTMLElement} dropdown - the dropdown being shown\n * @param {Event} [e] - the event that triggered the dropdown being shown\n */\nfunction handleFocus(dropdown, e = {}) {\n    const mouseEvent = e && e.type && (e.type.indexOf('mouse') > -1 || e.type.indexOf('hover') > -1);\n    dropdown.isSubmenu && !mouseEvent ? dropdown.focusItem(0) : dropdown.focus();\n}\n\n// LOADING STATES\nvar UNLOADED = 'unloaded';\nvar LOADING = 'loading';\nvar ERROR = 'error';\nvar SUCCESS = 'success';\n\n\n// ASYNC DROPDOWN FUNCTIONS\n\nfunction makeAsyncDropdownContents (json) {\n    var dropdownContents = json.map(function makeSection (sectionData) {\n        var sectionItemsHtml = sectionData.items.map(function makeSectionItem (itemData) {\n            function makeBooleanAttribute (attr) {\n                return itemData[attr] ? `${attr} =\"true\"` : '';\n            }\n\n            function makeAttribute (attr) {\n                return itemData[attr] ? `${attr}=\"${itemData[attr]}\"` : '';\n            }\n\n            var tagName = 'aui-item-' + itemData.type;\n            var itemHtml = `\n                <${tagName} ${makeAttribute('for')} ${makeAttribute('href')} ${makeBooleanAttribute('interactive')}\n                    ${makeBooleanAttribute('checked')} ${makeBooleanAttribute('disabled')} ${makeBooleanAttribute('hidden')}>\n                    ${escapeHtml(itemData.content)}\n                </${tagName}>`;\n\n            return itemHtml;\n        }).join('');\n\n        var sectionAttributes = sectionData.label ? `label=\"${sectionData.label}\"` : '';\n        var sectionHtml = `\n            <aui-section ${sectionAttributes}>\n                ${sectionItemsHtml}\n            </aui-section>`;\n\n        return sectionHtml;\n    }).join('\\n');\n\n    return dropdownContents;\n}\n\nfunction setDropdownContents (dropdown, json) {\n    state(dropdown).set('loading-state', SUCCESS);\n    dropdown.innerHTML = makeAsyncDropdownContents(json);\n    skate.init(dropdown);\n    /* TODO: where to check for focus\n     * to make the loading state more accessible, we might need to move focus inside the dropdown container,\n     * which would change the check from \"focus is on trigger\" to \"focus is within dropdown\".\n     */\n    doIfTrigger(dropdown, function(trigger) {\n        // Only manage focus if the focus was on the triggering element at the time it loaded.\n        // Otherwise, the user likely moved on and doesn't want it any more.\n        if (document.activeElement === trigger) {\n            handleFocus(dropdown);\n        }\n    });\n}\n\nfunction setDropdownErrorState (dropdown) {\n    state(dropdown).set('loading-state', ERROR);\n    state(dropdown).set('hasErrorBeenShown', dropdown.isVisible());\n    dropdown.innerHTML = `\n        <div class=\"aui-message aui-message-error aui-dropdown-error\">\n            <p>${I18n.getText('aui.dropdown.async.error')}</p>\n        </div>\n    `;\n}\n\nfunction setDropdownLoadingState (dropdown) {\n    state(dropdown).set('loading-state', LOADING);\n    state(dropdown).set('hasErrorBeenShown', false);\n\n    doIfTrigger(dropdown, function (trigger) {\n        trigger.setAttribute('aria-busy', 'true');\n    });\n\n    dropdown.innerHTML = `\n        <div class=\"aui-dropdown-loading\">\n            <aui-spinner size=\"small\"></aui-spinner> ${I18n.getText('aui.dropdown.async.loading')}\n        </div>\n    `;\n}\n\nfunction setDropdownLoaded (dropdown) {\n    doIfTrigger(dropdown, function (trigger) {\n        trigger.setAttribute('aria-busy', 'false');\n    });\n}\n\nfunction loadContentsIfAsync (dropdown) {\n    if (!dropdown.src || state(dropdown).get('loading-state') === LOADING) {\n        return;\n    }\n\n    setDropdownLoadingState(dropdown);\n\n    $.ajax(dropdown.src)\n        .done(function (json, status, xhr) {\n            var isValidStatus = xhr.status === 200;\n            if (isValidStatus) {\n                setDropdownContents(dropdown, json);\n            } else {\n                setDropdownErrorState(dropdown);\n            }\n        })\n        .fail(function () {\n            setDropdownErrorState(dropdown);\n        })\n        .always(function () {\n            setDropdownLoaded(dropdown);\n        });\n}\n\nfunction loadContentWhenMouseEnterTrigger(dropdown) {\n    var isDropdownUnloaded = state(dropdown).get('loading-state') === UNLOADED;\n    var hasCurrentErrorBeenShown = state(dropdown).get('hasErrorBeenShown');\n    if (isDropdownUnloaded || hasCurrentErrorBeenShown && !dropdown.isVisible()) {\n        loadContentsIfAsync(dropdown);\n    }\n}\n\nfunction loadContentWhenMenuShown(dropdown) {\n    var isDropdownUnloaded = state(dropdown).get('loading-state') === UNLOADED;\n    var hasCurrentErrorBeenShown = state(dropdown).get('hasErrorBeenShown');\n    if (isDropdownUnloaded || hasCurrentErrorBeenShown) {\n        loadContentsIfAsync(dropdown);\n    }\n    if (state(dropdown).get('loading-state') === ERROR) {\n        state(dropdown).set('hasErrorBeenShown', true);\n    }\n}\n\n\n// The dropdown's trigger\n// ----------------------\n\nfunction triggerCreated (trigger) {\n    let dropdownID = trigger.getAttribute('aria-controls');\n\n    if (!dropdownID) {\n        dropdownID = trigger.getAttribute('aria-owns');\n\n        if (!dropdownID) {\n            logger.error('Dropdown triggers need either a \"aria-owns\" or \"aria-controls\" attribute');\n        } else {\n            trigger.removeAttribute('aria-owns');\n            trigger.setAttribute('aria-controls', dropdownID);\n        }\n    }\n\n    trigger.setAttribute('aria-haspopup', true);\n    trigger.setAttribute('aria-expanded', false);\n\n    const shouldSetHref = trigger.nodeName === 'A' && !trigger.href;\n    if (shouldSetHref) {\n        trigger.setAttribute('href', `#${dropdownID}`);\n    }\n\n    function handleIt(e, forceShow = false) {\n        if (e.currentTarget !== trigger) {\n            return;\n        }\n        e.preventDefault();\n\n        if (!trigger.isEnabled()) {\n            return;\n        }\n\n        const dropdown = document.getElementById(dropdownID);\n        if (!dropdown) {\n            logger.error('Could not find a dropdown with id \"' + dropdownID + '\" in the DOM.');\n            return;\n        }\n\n        // AUI-4271 - Maintains legacy integration with parent elements.\n        const $trigger = $(trigger);\n        if ($trigger.parent().hasClass('aui-buttons')) {\n            dropdown.classList.add('aui-dropdown2-in-buttons');\n        }\n        if ($trigger.parents().hasClass('aui-header')) {\n            dropdown.classList.add('aui-dropdown2-in-header');\n        }\n\n        if (forceShow) {\n            dropdown.show(e);\n        } else {\n            dropdown.toggle(e);\n        }\n        dropdown.isSubmenu = trigger.hasSubmenu();\n\n        return dropdown;\n    }\n\n    function handleMouseEnter(e) {\n        if (e.currentTarget !== trigger) {\n            return;\n        }\n        e.preventDefault();\n\n        if (!trigger.isEnabled()) {\n            return;\n        }\n\n        const dropdown = document.getElementById(dropdownID);\n        if (!dropdown) {\n            logger.error('Could not find a dropdown with id \"' + dropdownID + '\" in the DOM.');\n            return;\n        }\n\n        loadContentWhenMouseEnterTrigger(dropdown);\n\n        if (trigger.hasSubmenu()) {\n            dropdown.show(e);\n            dropdown.isSubmenu = trigger.hasSubmenu();\n        }\n\n        return dropdown;\n    }\n\n    function handleKeydown(e) {\n        if (e.currentTarget !== trigger) {\n            return;\n        }\n        const normalInvoke = (e.keyCode === keyCode.ENTER || e.keyCode === keyCode.SPACE);\n        const submenuInvoke = (e.keyCode === keyCode.RIGHT && trigger.hasSubmenu());\n        const rootMenuInvoke = ((e.keyCode === keyCode.UP || e.keyCode === keyCode.DOWN) && !trigger.hasSubmenu());\n\n        if (normalInvoke) {\n            handleIt(e);\n        } else if (rootMenuInvoke || submenuInvoke) {\n            // this could be the first keyboard event after using an AT shortcut to open the dropdown.\n            handleIt(e, document.activeElement === trigger);\n        }\n    }\n\n    $(trigger)\n        .on('aui-button-invoke', handleIt)\n        .on('click', handleIt)\n        .on('keydown', handleKeydown)\n        .on('mouseenter', handleMouseEnter)\n    ;\n}\n\nvar triggerPrototype = {\n    disable: function () {\n        this.setAttribute('aria-disabled', 'true');\n        this.classList.add('disabled', 'aui-dropdown2-disabled');\n    },\n\n    enable: function () {\n        this.setAttribute('aria-disabled', 'false');\n        this.classList.remove('disabled', 'aui-dropdown2-disabled');\n    },\n\n    isEnabled: function () {\n        return this.getAttribute('aria-disabled') !== 'true' &&\n            this.classList.contains('aui-dropdown2-disabled') === false;\n    },\n\n    hasSubmenu: function () {\n        return this.classList.contains('aui-dropdown2-sub-trigger');\n    }\n};\n\n//To remove at a later date. Some dropdown triggers initialise lazily, so we need to listen for mousedown\n//and synchronously init before the click event is fired.\n//TODO: delete in AUI 8.0.0, see AUI-2868\nfunction bindLazyTriggerInitialisation() {\n    $(document).on('mousedown', '.aui-dropdown2-trigger', function () {\n        var isElementSkated = this.hasAttribute('resolved');\n        if (!isElementSkated) {\n            skate.init(this);\n            var lazyDeprecate = deprecate.getMessageLogger('Dropdown2 lazy initialisation', {\n                removeInVersion: '10.0.0',\n                alternativeName: 'initialisation on DOM insertion',\n                sinceVersion: '5.8.0',\n                extraInfo: 'Dropdown2 triggers should have all necessary attributes on DOM insertion',\n                deprecationType: 'JS'\n            });\n            lazyDeprecate();\n        }\n    });\n}\n\nbindLazyTriggerInitialisation();\n\n// Dropdown trigger groups\n// -----------------------\n\n$(document).on('mouseenter', '.aui-dropdown2-trigger-group a, .aui-dropdown2-trigger-group button', function (e) {\n    const $item = $(e.currentTarget);\n\n    if ($item.is('.aui-dropdown2-active')) {\n        return; // No point doing anything if we're hovering over the already-active item trigger.\n    }\n\n    if ($item.closest('.aui-dropdown2').length) {\n        return; // We don't want to deal with dropdown items, just the potential triggers in the group.\n    }\n\n    const $triggerGroup = $item.closest('.aui-dropdown2-trigger-group');\n\n    const $groupActiveTrigger = $triggerGroup.find('.aui-dropdown2-active');\n    if ($groupActiveTrigger.length && $item.is('.aui-dropdown2-trigger')) {\n        $groupActiveTrigger.blur(); // Remove focus from the previously opened menu.\n        $item.trigger('aui-button-invoke'); // Open this trigger's menu.\n        e.preventDefault();\n    }\n\n    const $groupFocusedTrigger = $triggerGroup.find(':focus');\n    if ($groupFocusedTrigger.length && $item.is('.aui-dropdown2-trigger')) {\n        $groupFocusedTrigger.blur();\n    }\n});\n\n\n// Dropdown items\n// --------------\n\nfunction getDropdownItems (dropdown, filter) {\n    return $(dropdown)\n        .find([\n            // Legacy markup.\n            '> ul > li',\n            '> .aui-dropdown2-section > ul > li',\n            '> .aui-dropdown2-section > div[role=\"group\"] > ul > li',\n            '> div > .aui-dropdown2-section > div[role=\"group\"] > ul > li',\n            // Web component.\n            'aui-item-link',\n            'aui-item-checkbox',\n            'aui-item-radio'\n        ].join(', '))\n        .filter(filter)\n        .children('a, button, [role=\"checkbox\"], [role=\"menuitemcheckbox\"], [role=\"radio\"], [role=\"menuitemradio\"]');\n}\n\nfunction getAllDropdownItems (dropdown) {\n    return getDropdownItems(dropdown, () => true);\n}\n\nfunction getVisibleDropdownItems (dropdown) {\n    return getDropdownItems(dropdown, (i, el) => !isHidden(el));\n}\n\nfunction amendDropdownItem (item) {\n    item.setAttribute('tabindex', '-1');\n\n    /**\n     * Honouring the documentation.\n     * @link https://aui.atlassian.com/latest/docs/dropdown2.html\n     */\n    if (item.classList.contains('aui-dropdown2-disabled') || isHidden(item.parentElement)) {\n        item.setAttribute('aria-disabled', 'true');\n    }\n}\n\nfunction amendDropdownContent (dropdown) {\n    // Add assistive semantics to each dropdown item\n    getAllDropdownItems(dropdown).each((i, el) => amendDropdownItem(el));\n}\n\n/**\n * Honours behaviour for code written using only the legacy class names.\n * To maintain old behaviour (i.e., remove the 'hidden' class and the item will become un-hidden)\n * whilst allowing our code to only depend on the new classes, we need to\n * keep the state of the DOM in sync with legacy classes.\n *\n * Calling this function will add the new namespaced classes to elements with legacy names.\n */\nfunction migrateAndSyncLegacyClassNames (dropdown) {\n    var $dropdown = $(dropdown);\n\n    // Migrate away from legacy, unprefixed class names\n    ['disabled', 'interactive', 'active', 'checked'].forEach(type => {\n        $dropdown.find(`.${type}`).addClass(`aui-dropdown2-${type}`);\n    });\n}\n\n\n// The Dropdown itself\n// -------------------\n\nfunction destroyAlignment(dropdown) {\n    if (dropdown._auiAlignment) {\n        dropdown._auiAlignment.destroy();\n        delete dropdown._auiAlignment;\n    }\n}\n\nfunction setLayerAlignment(dropdown, trigger) {\n    var hasSubmenu = trigger && trigger.hasSubmenu && trigger.hasSubmenu();\n    var hasSubmenuAlignment = dropdown.getAttribute('data-aui-alignment') === 'submenu auto';\n\n    if (!hasSubmenu && hasSubmenuAlignment) {\n        restorePreviousAlignment(dropdown);\n    }\n    var hasAnyAlignment = dropdown.hasAttribute('data-aui-alignment');\n\n    if (hasSubmenu && !hasSubmenuAlignment) {\n        saveCurrentAlignment(dropdown);\n        dropdown.setAttribute('data-aui-alignment', 'submenu auto');\n        dropdown.setAttribute('data-aui-alignment-static', true);\n    } else if (!hasAnyAlignment) {\n        dropdown.setAttribute('data-aui-alignment', 'bottom auto');\n        dropdown.setAttribute('data-aui-alignment-static', true);\n    }\n\n    destroyAlignment(dropdown);\n    dropdown._auiAlignment = new Alignment(dropdown, trigger, {\n        flip: false,\n        positionFixed: false,\n        preventOverflow: false,\n        // space between a dropdown trigger and the dropdown itself, based on @aui-dropdown-trigger-offset\n        // only added for dropdowns which are not submenus\n        offset: (trigger.hasSubmenu && trigger.hasSubmenu()) ? [-3, 0] : [0, 3]\n    });\n\n    dropdown._auiAlignment.enable();\n}\n\nfunction saveCurrentAlignment(dropdown) {\n    var $dropdown = $(dropdown);\n    if (dropdown.hasAttribute('data-aui-alignment')) {\n        $dropdown.data('previous-data-aui-alignment', dropdown.getAttribute('data-aui-alignment'));\n    }\n    $dropdown.data('had-data-aui-alignment-static', dropdown.hasAttribute('data-aui-alignment-static'));\n}\n\nfunction restorePreviousAlignment(dropdown) {\n    var $dropdown = $(dropdown);\n\n    var previousAlignment = $dropdown.data('previous-data-aui-alignment');\n    if (previousAlignment) {\n        dropdown.setAttribute('data-aui-alignment', previousAlignment);\n    } else {\n        dropdown.removeAttribute('data-aui-alignment');\n    }\n    $dropdown.removeData('previous-data-aui-alignment');\n\n    if (!$dropdown.data('had-data-aui-alignment-static')) {\n        dropdown.removeAttribute('data-aui-alignment-static');\n    }\n    $dropdown.removeData('had-data-aui-alignment-static');\n}\n\nfunction getDropdownHideLocation(dropdown, trigger) {\n    var possibleHome = trigger.getAttribute('data-dropdown2-hide-location');\n    return document.getElementById(possibleHome) || dropdown.parentNode;\n}\n\nvar keyboardClose = false;\nfunction keyboardCloseDetected () {\n    keyboardClose = true;\n}\n\nfunction wasProbablyClosedViaKeyboard () {\n    var result = (keyboardClose === true);\n    keyboardClose = false;\n    return result;\n}\n\nfunction bindDropdownBehaviourToLayer(dropdown) {\n    layer(dropdown);\n\n\n    dropdown.addEventListener('aui-layer-show', function (e) {\n        if (dropdown !== e.target) {\n            return;\n        }\n\n        // fix legacy markup patterns\n        migrateAndSyncLegacyClassNames(dropdown);\n        amendDropdownContent(dropdown);\n\n        // indicate the dropdown is open\n        $(dropdown).trigger('aui-dropdown2-show');\n\n        doIfTrigger(dropdown, function (trigger) {\n            setDropdownTriggerActiveState(trigger, true);\n            dropdown._returnTo = getDropdownHideLocation(dropdown, trigger);\n        });\n    });\n\n    dropdown.addEventListener('aui-layer-hide', function (e) {\n        if (dropdown !== e.target) {\n            return;\n        }\n\n        $(dropdown).trigger('aui-dropdown2-hide');\n\n        if (dropdown._auiAlignment) {\n            dropdown._auiAlignment.destroy();\n        }\n\n        if (dropdown._returnTo) {\n            if (dropdown.parentNode && dropdown.parentNode !== dropdown._returnTo) {\n                dropdown._returnTo.appendChild(dropdown);\n            }\n        }\n\n        dropdown.classList.remove('aui-dropdown2-in-header', 'aui-dropdown2-in-buttons');\n        getAllDropdownItems(dropdown).removeClass('active aui-dropdown2-active');\n\n        doIfTrigger(dropdown, function (trigger) {\n            if (wasProbablyClosedViaKeyboard()) {\n                trigger.focus();\n                setDropdownTriggerActiveState(trigger, trigger.hasSubmenu && trigger.hasSubmenu());\n            } else {\n                setDropdownTriggerActiveState(trigger, false);\n            }\n        });\n\n        // Gets set by submenu trigger invocation. Bad coupling point?\n        delete dropdown.isSubmenu;\n        setTrigger(dropdown, null);\n    });\n}\n\nfunction bindItemInteractionBehaviourToDropdown (dropdown) {\n    var $dropdown = $(dropdown);\n\n    function belongsToDropdown(item) {\n        const $dd = $(item).closest('.aui-dropdown2, aui-dropdown-menu');\n        return $dd.get(0) === dropdown;\n    }\n\n    $dropdown.on('keydown', function (e) {\n        if (!belongsToDropdown(e.target)) {\n            return;\n        }\n        if (e.keyCode === keyCode.DOWN) {\n            dropdown.focusNext();\n            e.preventDefault();\n        } else if (e.keyCode === keyCode.UP) {\n            dropdown.focusPrevious();\n            e.preventDefault();\n        } else if (e.keyCode === keyCode.LEFT) {\n            if (dropdown.isSubmenu) {\n                keyboardCloseDetected();\n                dropdown.hide(e);\n                e.preventDefault();\n            }\n        } else if (e.keyCode === keyCode.ESCAPE) {\n            // The closing will be handled by the LayerManager!\n            keyboardCloseDetected();\n        } else if (e.keyCode === keyCode.TAB) {\n            keyboardCloseDetected();\n            dropdown.hide(e);\n        }\n    });\n\n    const hideIfNotSubmenuAndNotInteractive = function(e) {\n        var item = e.currentTarget;\n\n        if (item.getAttribute('aria-disabled') === 'true') {\n            e.preventDefault();\n            return;\n        }\n\n        const isSubmenuTrigger = e.currentTarget.hasSubmenu && e.currentTarget.hasSubmenu();\n        if (!isSubmenuTrigger && !item.classList.contains('aui-dropdown2-interactive')) {\n\n            var theMenu = dropdown;\n            do {\n                var dd = layer(theMenu);\n                theMenu = layer(theMenu).below();\n                if (dd.$el.is('.aui-dropdown2')) {\n                    dd.hide(e);\n                }\n            } while (theMenu);\n        }\n    };\n\n    $dropdown.on('click keydown', 'a, button, [role=\"menuitem\"], [role=\"menuitemcheckbox\"], [role=\"checkbox\"], [role=\"menuitemradio\"], [role=\"radio\"]', function (e) {\n        if (!belongsToDropdown(e.target)) {\n            return;\n        }\n        const item = e.currentTarget;\n        const eventKeyCode = e.keyCode;\n        const isEnter = eventKeyCode === keyCode.ENTER;\n        const isSpace = eventKeyCode === keyCode.SPACE;\n\n        // AUI-4283: Accessibility - need to ignore enter on links/buttons so\n        // that the dropdown remains visible to allow the click event to eventually fire.\n        const itemIgnoresEnter = isEnter && $(item).is('a[href], button');\n\n        if (!itemIgnoresEnter && (e.type === 'click' || isEnter || isSpace)) {\n            hideIfNotSubmenuAndNotInteractive(e);\n        }\n    });\n\n    // close a submenus when the mouse moves over items other than its trigger\n    $dropdown.on('mouseenter', 'a, button, [role=\"menuitem\"], [role=\"menuitemcheckbox\"], [role=\"checkbox\"], [role=\"menuitemradio\"], [role=\"radio\"]', function (e) {\n        if (!belongsToDropdown(e.target)) {\n            return;\n        }\n        var item = e.currentTarget;\n        var hasSubmenu = item.hasSubmenu && item.hasSubmenu();\n\n        if (!e.isDefaultPrevented() && !hasSubmenu) {\n            var maybeALayer = layer(dropdown).above();\n\n            if (maybeALayer) {\n                layer(maybeALayer).hide();\n            }\n        }\n    });\n}\n\n$(window).on('resize', debounce(function () {\n    $('.aui-dropdown2').each(function (index, dropdown) {\n        skate.init(dropdown);\n        if (dropdown.isVisible()){\n            dropdown.hide();\n        }\n    });\n}, 1000, true));\n\n// Dropdowns\n// ---------\n\nfunction dropdownCreated (dropdown) {\n    dropdown.classList.add('aui-dropdown2');\n    dropdown.setAttribute('tabindex','-1');\n\n    if (dropdown.hasAttribute('data-container')) {\n        dropdown.setAttribute('data-aui-alignment-container', dropdown.getAttribute('data-container'));\n        dropdown.removeAttribute('data-container');\n    }\n\n    bindDropdownBehaviourToLayer(dropdown);\n    bindItemInteractionBehaviourToDropdown(dropdown);\n\n    $(dropdown).on('click keydown', '.aui-dropdown2-checkbox', function (e) {\n        if (e.type === 'click' || e.keyCode === keyCode.ENTER || e.keyCode === keyCode.SPACE) {\n            let checkbox = this;\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n            if (checkbox.isInteractive()) {\n                e.preventDefault();\n            }\n            if (checkbox.isEnabled()) {\n                // toggle the checked state\n                if (checkbox.isChecked()) {\n                    checkbox.uncheck();\n                } else {\n                    checkbox.check();\n                }\n            }\n        }\n    });\n\n    $(dropdown).on('click keydown', '.aui-dropdown2-radio', function (e) {\n        if (e.type === 'click' || e.keyCode === keyCode.ENTER || e.keyCode === keyCode.SPACE) {\n            let radio = this;\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n            if (radio.isInteractive()) {\n                e.preventDefault();\n            }\n\n            if (this.isEnabled() && this.isChecked() === false) {\n                // toggle the checked state\n                $(radio).closest('ul,[role=group]').find('.aui-dropdown2-checked').not(this).each(function () {\n                    this.uncheck();\n                });\n                radio.check();\n            }\n        }\n    });\n}\n\nvar dropdownPrototype = {\n    /**\n     * Toggles the visibility of the dropdown menu\n     */\n    toggle: function (e) {\n        if (this.isVisible()) {\n            this.hide(e);\n        } else {\n            this.show(e);\n        }\n    },\n\n    /**\n     * Explicitly shows the menu\n     *\n     * @returns {HTMLElement}\n     */\n    show: function (e) {\n        var dropdown = this;\n        if (e && e.currentTarget && e.currentTarget.classList.contains('aui-dropdown2-trigger')) {\n            setTrigger(dropdown, e.currentTarget);\n        }\n\n        layer(dropdown).show();\n\n        doIfTrigger(dropdown, function (trigger) {\n            setLayerAlignment(dropdown, trigger);\n        });\n\n        // Manage focus on the next tick.\n        // the setTimeout avoids a full page scroll caused by:\n        // 1) the layer code moving the element to the bottom of the DOM, and then\n        // 2) the alignment module asynchronously rendering the element further up the page\n        // this code should ideally listen and wait for both those things to be done... but\n        // this assumption is cheaper.\n        setTimeout(() => handleFocus(dropdown, e), 0);\n\n        return this;\n    },\n\n    /**\n     * Explicitly hides the menu\n     *\n     * @returns {HTMLElement}\n     */\n    hide: function () {\n        layer(this).hide();\n        return this;\n    },\n\n    /**\n     * Shifts explicit focus to the next available item in the menu\n     *\n     * @returns {undefined}\n     */\n    focusNext: function () {\n        var $items = getVisibleDropdownItems(this);\n        var selected = document.activeElement;\n        var idx;\n\n        if ($items.last()[0] !== selected) {\n            idx = $items.toArray().indexOf(selected);\n            this.focusItem($items.get(idx + 1));\n        }\n    },\n\n    /**\n     * Shifts explicit focus to the previous available item in the menu\n     *\n     * @returns {undefined}\n     */\n    focusPrevious: function () {\n        var $items = getVisibleDropdownItems(this);\n        var selected = document.activeElement;\n        var idx;\n\n        if ($items.first()[0] !== selected) {\n            idx = $items.toArray().indexOf(selected);\n            this.focusItem($items.get(idx - 1));\n        }\n    },\n\n    /**\n     * Shifts explicit focus to the menu item matching the index param\n     */\n    focusItem: function (item) {\n        const $items = getVisibleDropdownItems(this);\n        if (typeof item === 'number') {\n            item = $items.get(item);\n        }\n        const $item = $(item);\n        $item.focus();\n        $items.removeClass('active aui-dropdown2-active');\n        $item.addClass('active aui-dropdown2-active');\n    },\n\n    /**\n     * Checks whether or not the menu is currently displayed\n     *\n     * @returns {Boolean}\n     */\n    isVisible: function () {\n        return layer(this).isVisible();\n    }\n};\n\n// Web component API for dropdowns\n// -------------------------------\n\nvar disabledAttributeHandler = {\n    created: function (element) {\n        var a = element.children[0];\n        a.setAttribute('aria-disabled', 'true');\n        a.classList.add('disabled', 'aui-dropdown2-disabled');\n    },\n    removed: function (element) {\n        var a = element.children[0];\n        a.setAttribute('aria-disabled', 'false');\n        a.classList.remove('disabled', 'aui-dropdown2-disabled');\n    }\n};\n\nvar interactiveAttributeHandler = {\n    created: function (element) {\n        var a = element.children[0];\n        a.classList.add('interactive', 'aui-dropdown2-interactive');\n    },\n    removed: function (element) {\n        var a = element.children[0];\n        a.classList.remove('interactive', 'aui-dropdown2-interactive');\n    }\n};\n\nvar checkedAttributeHandler = {\n    created: function (element) {\n        var a = element.children[0];\n        a.classList.add('checked', 'aui-dropdown2-checked');\n        a.setAttribute('aria-checked', true);\n        element.dispatchEvent(new CustomEvent('change', {bubbles: true}));\n    },\n    removed: function (element) {\n        var a = element.children[0];\n        a.classList.remove('checked', 'aui-dropdown2-checked');\n        a.setAttribute('aria-checked', false);\n        element.dispatchEvent(new CustomEvent('change', {bubbles: true}));\n    }\n};\n\nvar hiddenAttributeHandler = {\n    created: function (element) {\n        disabledAttributeHandler.created(element);\n    },\n    removed: function (element) {\n        disabledAttributeHandler.removed(element);\n    }\n};\n\nvar stringAttributeHandlerGenerator = function(attrName) {\n    return {\n        fallback: function (element, change) {\n            var a = element.children[0];\n            a.setAttribute(attrName, change.newValue);\n        },\n        removed: function (element) {\n            var a = element.children[0];\n            a.removeAttribute(attrName);\n        }\n    };\n};\n\nconst ItemLinkEl = skate('aui-item-link', {\n    template: template(\n        '<a role=\"menuitem\" tabindex=\"-1\"><content></content></a>'\n    ),\n    attributes: {\n        disabled: disabledAttributeHandler,\n        interactive: interactiveAttributeHandler,\n        hidden: hiddenAttributeHandler,\n        href: stringAttributeHandlerGenerator('href'),\n        'item-id': stringAttributeHandlerGenerator('id'),\n        for: {\n            created: function (element) {\n                var anchor = element.children[0];\n                anchor.setAttribute('aria-controls', element.getAttribute('for'));\n                $(anchor).addClass('aui-dropdown2-sub-trigger');\n            },\n            updated: function (element) {\n                var anchor = element.children[0];\n                anchor.setAttribute('aria-controls', element.getAttribute('for'));\n            },\n            removed: function (element) {\n                var anchor = element.children[0];\n                anchor.removeAttribute('aria-controls');\n                $(anchor).removeClass('aui-dropdown2-sub-trigger');\n            }\n        }\n    },\n});\n\nconst [ItemCheckboxEl, ItemRadioEl] = ['checkbox', 'radio'].map(type => {\n    return skate(`aui-item-${type}`, {\n        template: template(\n            `<span role=\"${type}\" class=\"aui-dropdown2-${type}\" tabindex=\"-1\"><content></content></span>`\n        ),\n        attributes: {\n            'item-id': stringAttributeHandlerGenerator('id'),\n            disabled: disabledAttributeHandler,\n            interactive: interactiveAttributeHandler,\n            checked: checkedAttributeHandler,\n            hidden: hiddenAttributeHandler\n        },\n    });\n});\n\nconst SectionEl = skate('aui-section', {\n    template: template(`\n        <span aria-hidden=\"true\" class=\"aui-dropdown2-heading\"></span>\n        <div class=\"aui-dropdown2-item-group\" role=\"group\">\n            <content></content>\n        </div>\n    `),\n    attributes: {\n        label: function (element, data) {\n            const id = generateUniqueId();\n            var headingElement = element.children[0];\n            var groupElement = element.children[1];\n            headingElement.textContent = data.newValue;\n            headingElement.id = id;\n            groupElement.setAttribute('aria-labelledby', id);\n        }\n    },\n    created: function (element) {\n        element.classList.add('aui-dropdown2-section');\n    }\n});\n\nconst DropdownEl = skate('aui-dropdown-menu', {\n    created: function (dropdown) {\n        dropdown.setAttribute('role', 'menu');\n        dropdown.className = 'aui-dropdown2';\n        layer(dropdown);\n        state(dropdown).set('loading-state', UNLOADED);\n        // Now skate the .aui-dropdown2 behaviour.\n        skate.init(dropdown);\n    },\n    detached: function (dropdown) {\n        ifGone(dropdown).then(() => destroyAlignment(dropdown));\n    },\n    attributes: {\n        src: {}\n    },\n    prototype: dropdownPrototype,\n    events: {\n        'aui-layer-show': loadContentWhenMenuShown\n    }\n});\n\n// Legacy dropdown inits\n// ---------------------\n\nskate('aui-dropdown2', {\n    type: skate.type.CLASSNAME,\n    created: dropdownCreated,\n    prototype: dropdownPrototype\n});\n\nskate('data-aui-dropdown2', {\n    type: skate.type.ATTRIBUTE,\n    created: dropdownCreated,\n    prototype: dropdownPrototype\n});\n\nskate('aui-dropdown2-trigger', {\n    type: skate.type.CLASSNAME,\n    created: triggerCreated,\n    prototype: triggerPrototype\n});\n\nskate('aui-dropdown2-sub-trigger', {\n    type: skate.type.CLASSNAME,\n    created: function (trigger) {\n        trigger.classList.add('aui-dropdown2-trigger');\n        skate.init(trigger);\n    }\n});\n\n// Checkboxes and radios\n// ---------------------\n['checkbox', 'radio'].map(type => {\n    return skate(`aui-dropdown2-${type}`, {\n        type: skate.type.CLASSNAME,\n\n        created: function (checkbox) {\n            // determine checked state based on any one of three attributes, then sync all of them.\n            const checked = (\n                checkbox.getAttribute('aria-checked') === 'true' ||\n                checkbox.classList.contains('checked') ||\n                checkbox.classList.contains('aui-dropdown2-checked')\n            );\n            checkbox.classList[checked ? 'add' : 'remove']('checked', 'aui-dropdown2-checked');\n            checkbox.setAttribute('aria-checked', checked);\n\n            // make the element part of the natural tab order.\n            checkbox.setAttribute('tabindex', '0');\n\n            // swap from the \"menuitemX\" role to plain role for VoiceOver\n            if (supportsVoiceOver()) {\n                checkbox.setAttribute('role',type);\n            }\n        },\n\n        prototype: {\n            isEnabled: function () {\n                return this.getAttribute('aria-disabled') !== 'true';\n            },\n\n            isChecked: function () {\n                return this.getAttribute('aria-checked') === 'true';\n            },\n\n            isInteractive: function () {\n                return this.classList.contains('aui-dropdown2-interactive');\n            },\n\n            uncheck: function () {\n                if (this.parentNode.tagName.toLowerCase() === `aui-item-${type}`) {\n                    this.parentNode.removeAttribute('checked');\n                }\n                $(this)\n                    .attr('aria-checked', 'false')\n                    .removeClass('checked aui-dropdown2-checked')\n                    .trigger('aui-dropdown2-item-uncheck');\n            },\n\n            check: function () {\n                if (this.parentNode.tagName.toLowerCase() === `aui-item-${type}`) {\n                    this.parentNode.setAttribute('checked', '');\n                }\n                $(this)\n                    .attr('aria-checked', 'true')\n                    .addClass('checked aui-dropdown2-checked')\n                    .trigger('aui-dropdown2-item-check');\n            }\n        }\n    });\n})\n\nexport {\n    DropdownEl,\n    ItemLinkEl,\n    ItemRadioEl,\n    ItemCheckboxEl,\n    SectionEl,\n};\n","import $ from './jquery';\n\nvar $document = $(document);\n\n//convenience function because this needs to be run for all the events.\nvar getExpanderProperties = function (event) {\n    var properties = {};\n\n    properties.$trigger = $(event.currentTarget);\n    properties.$content = $document.find('#' + properties.$trigger.attr('aria-controls'));\n    properties.triggerIsParent = properties.$content.parent().filter(properties.$trigger).length !== 0;\n    properties.$shortContent = properties.triggerIsParent ? properties.$trigger.find('.aui-expander-short-content') : null;\n    properties.height = properties.$content.css('min-height');\n    properties.isCollapsible = properties.$trigger.data('collapsible') !== false;\n    properties.replaceText = properties.$trigger.attr('data-replace-text'); //can't use .data here because it doesn't update after the first call\n    properties.replaceSelector = properties.$trigger.data('replace-selector');\n\n    return properties;\n};\n\nvar replaceText = function (properties) {\n    if (properties.replaceText) {\n        var $replaceElement = properties.replaceSelector ?\n            properties.$trigger.find(properties.replaceSelector) :\n            properties.$trigger;\n\n        properties.$trigger.attr('data-replace-text', $replaceElement.text());\n        $replaceElement.text(properties.replaceText);\n    }\n};\n\n//events that the expander listens to\nvar EXPANDER_EVENTS = {\n    'aui-expander-invoke': function (event) {\n        var $trigger = $(event.currentTarget);\n        var $content = $document.find('#' + $trigger.attr('aria-controls'));\n        var isCollapsible = $trigger.data('collapsible') !== false;\n\n        //determine if content should be expanded or collapsed\n        if ($content.attr('aria-expanded') === 'true' && isCollapsible) {\n            $trigger.trigger('aui-expander-collapse');\n        } else {\n            $trigger.trigger('aui-expander-expand');\n        }\n    },\n\n    'aui-expander-expand': function (event) {\n        var properties = getExpanderProperties(event);\n\n        // If the expander is already expanded, do nothing.\n        if (properties.$content.attr('aria-expanded') === 'true') {\n            return;\n        }\n\n        properties.$content.attr('aria-expanded', 'true');\n        properties.$trigger.attr('aria-expanded', 'true');\n\n        properties.$content.get(0).removeAttribute('hidden');\n\n        //handle replace text\n        replaceText(properties);\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.hide();\n        }\n        properties.$trigger.trigger('aui-expander-expanded');\n\n    },\n\n    'aui-expander-collapse': function (event) {\n        var properties = getExpanderProperties(event);\n\n        // If the expander is already collapsed, do nothing.\n        if (properties.$content.attr('aria-expanded') !== 'true') {\n            return;\n        }\n\n        //handle replace text\n        replaceText(properties);\n\n        //collapse the expander\n        properties.$content.attr('aria-expanded', 'false');\n        properties.$trigger.attr('aria-expanded', 'false');\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.show();\n        }\n\n        //handle the height option\n        if (properties.$content.outerHeight() === 0) {\n            properties.$content.get(0).setAttribute('hidden', '');\n        }\n\n        properties.$trigger.trigger('aui-expander-collapsed');\n    },\n\n    'click.aui-expander': function (event) {\n        var $target = $(event.currentTarget);\n        $target.trigger('aui-expander-invoke', event.currentTarget);\n    }\n};\n\n//delegate events to the triggers on the page\n$document.on(EXPANDER_EVENTS, '.aui-expander-trigger');\n","import $ from './jquery';\nimport * as deprecate from './internal/deprecation';\nimport * as logger from './internal/log';\nimport globalize from './internal/globalize';\nimport escapeHtml from './escape-html';\nimport keyCode from './key-code';\nimport skate from './internal/skate';\nimport {CLOSE_BUTTON, CLOSE_BUTTON_CLASS_SELECTOR} from './close-button';\n\nvar DEFAULT_FADEOUT_DURATION = 500;\nvar DEFAULT_FADEOUT_DELAY = 5000;\nvar FADEOUT_RESTORE_DURATION = 100;\n\nfunction createMessageConstructor(type) {\n    /**\n     *\n     * @param context\n     * @param {Object} obj - message configuration\n     * @param {String} [obj.id] - ID to add to the message.\n     * @param {String} [obj.title] - Plain-text title of the message. If provided, will appear above the message body.\n     * @param {String} obj.body - Content of the message. Can be HTML content.\n     * @param {boolean} [obj.closeable] - If true, the message can be manually closed by the end-user via the UI.\n     * @param {boolean} [obj.fadeout]\n     * @param {boolean} [obj.duration]\n     * @param {boolean} [obj.delay]\n     * @returns {*|HTMLElement}\n     */\n    messages[type] = function (context, obj) {\n        if (!obj) {\n            obj = context;\n            context = '#aui-message-bar';\n        }\n\n        // Set up our template options\n        obj.closeable = obj.closeable !== null && obj.closeable !== false;\n\n        // clean the title value\n        obj.title = (obj.title || '').toString().trim();\n\n        let $message = renderMessageElement(obj, type);\n        insertMessageIntoContext($message, obj.insert, context);\n\n        // Attach the optional extra behaviours\n        if (obj.closeable) {\n            makeCloseable($message);\n        }\n\n        if (obj.fadeout) {\n            makeFadeout($message, obj.delay, obj.duration);\n        }\n\n        return $message;\n    };\n}\n\nfunction makeCloseable(message) {\n    $(message || 'div.aui-message.closeable').each(function () {\n        var $this = $(this);\n        var $closeIcons = $this.find(CLOSE_BUTTON_CLASS_SELECTOR);\n        var $icon = $closeIcons.length > 0 ? $closeIcons.first() : $(CLOSE_BUTTON);\n\n        $this.addClass('closeable');\n        $this.append($icon);\n\n        initCloseMessageBoxOnClickAndKeypress($this);\n    });\n}\n\nfunction makeFadeout(message, delay, duration) {\n    delay = (typeof delay !== 'undefined') ? delay : DEFAULT_FADEOUT_DELAY;\n    duration = (typeof duration !== 'undefined') ? duration : DEFAULT_FADEOUT_DURATION;\n\n    $(message || 'div.aui-message.fadeout').each(function () {\n        var $this = $(this);\n\n        //Store the component state to avoid collisions between animations\n        var hasFocus = false;\n        var isHover = false;\n\n        //Small functions to keep the code easier to read and avoid code duplication\n        function fadeOut(){\n            //Algorithm:\n            //1. Stop all running animations (first arg), including any fade animation and delay\n            //   Do not jump to the end of the animation (second arg). This prevents the message to abruptly\n            //   jump to opacity:0 or opacity:1\n            //2. Wait <delay> ms before starting the fadeout\n            //3. Start the fadeout with a duration of <duration> ms\n            //4. Close the message at the end of the animation\n            $this.stop(true,false).delay(delay).fadeOut(duration, function () {\n                $this.closeMessage();\n            });\n        }\n        function resetFadeOut(){\n            //Algorithm:\n            //1. Stop all running animations (first arg), including any fade animation and delay\n            //   Do not jump to the end of the animation (second arg). This prevents the message to abruptly\n            //   jump to opacity:0 or opacity:1\n            //2. Fast animation to opacity:1\n            $this.stop(true,false).fadeTo(FADEOUT_RESTORE_DURATION, 1);\n        }\n        function shouldStartFadeOut(){\n            return !hasFocus && !isHover;\n        }\n\n        //Attach handlers for user interactions (focus and hover)\n        $this\n            .focusin(function () {\n                hasFocus = true;\n                resetFadeOut();\n            })\n            .focusout(function () {\n                hasFocus = false;\n                if (shouldStartFadeOut()) {\n                    fadeOut();\n                }\n            })\n            .hover(\n                function () {  //should be called .hoverin(), but jQuery does not implement that method\n                    isHover = true;\n                    resetFadeOut();\n                },\n                function () { //should be called .hoverout(), but jQuery does not implement that method\n                    isHover = false;\n                    if (shouldStartFadeOut()) {\n                        fadeOut();\n                    }\n                }\n            );\n\n        //Initial animation\n        fadeOut();\n    });\n}\n\n/**\n * Utility methods to display different message types to the user.\n * Usage:\n * <pre>\n * messages.info(\"#container\", {\n     *   title: \"Info\",\n     *   body: \"You can choose to have messages without Close functionality.\",\n     *   closeable: false,\n     * });\n * </pre>\n */\nvar messages = {\n    setup: function () {\n        makeCloseable();\n        makeFadeout();\n    },\n    makeCloseable: makeCloseable,\n    makeFadeout: makeFadeout,\n    createMessage: createMessageConstructor\n};\n\nfunction initCloseMessageBoxOnClickAndKeypress($message) {\n    $message.unbind('click.aui-message').unbind('keydown.aui-message');\n\n    $message.on('click.aui-message', CLOSE_BUTTON_CLASS_SELECTOR, function (e) {\n        $(e.target).closest('.aui-message').closeMessage();\n    }).on('keydown.aui-message', CLOSE_BUTTON_CLASS_SELECTOR, function (e) {\n        if ((e.which === keyCode.ENTER) || (e.which === keyCode.SPACE)) {\n            $(e.target).closest('.aui-message').closeMessage();\n            e.preventDefault(); // this is especially important when handling the space bar, as we don't want to page down\n        }\n    });\n}\n\nfunction insertMessageIntoContext($message, insertWhere, context) {\n    if (insertWhere === 'prepend') {\n        $message.prependTo(context);\n    } else if (insertWhere === 'before') {\n        $message.insertBefore(context);\n    } else if (insertWhere === 'after') {\n        $message.insertAfter(context);\n    } else {\n        $message.appendTo(context);\n    }\n}\n\nfunction renderMessageElement ({id, closeable, fadeout, title, body}, type) {\n    // Convert the options in to template values\n    const titleHtml = title ? `<p class=\"title\"><strong>${escapeHtml(title)}</strong></p>` : '';\n    const html = `<div class=\"aui-message\">${titleHtml}</div>`;\n\n    // Construct the message element\n    const $message = $(html)\n        .append($.parseHTML(body || ''))\n        .addClass(closeable ? 'closeable' : '')\n        .addClass(fadeout ? 'fadeout' : '')\n        .addClass(`aui-message-${type}`);\n\n    // Add ID if supplied\n    if (id) {\n        if (/[#\\'\\\"\\.\\s]/g.test(id)) {\n            // reject IDs that don't comply with style guide (ie. they'll break stuff)\n            logger.warn('Messages error: ID rejected, must not include spaces, hashes, dots or quotes.');\n        } else {\n            $message.attr('id', id);\n        }\n    }\n\n    return $message;\n}\n\n$.fn.closeMessage = function () {\n    var $message = $(this);\n    if ($message.hasClass('aui-message') && $message.hasClass('closeable')) {\n        $message.stop(true); //Stop any running animation\n        $message.trigger('messageClose', [this]);  //messageClose event Deprecated as of 5.3\n        $message.remove();\n        $(document).trigger('aui-message-close', [this]);  //must trigger on document since the element has been removed\n    }\n};\n\ncreateMessageConstructor('generic'); //Deprecated Oct 2017\ncreateMessageConstructor('error');\ncreateMessageConstructor('warning');\ncreateMessageConstructor('info');\ncreateMessageConstructor('confirmation');\ncreateMessageConstructor('change');\ncreateMessageConstructor('success'); //Deprecated Oct 2017\ncreateMessageConstructor('hint'); //Deprecated Oct 2017\n\nconst MessageEl = skate('aui-message', {\n    created: function (element) {\n        var body = element.innerHTML;\n        var type = element.getAttribute('type') || 'info';\n\n        element.innerHTML = '';\n        messages[type](element, {\n            body: body,\n            closeable: element.getAttribute('closeable'),\n            delay: element.getAttribute('delay'),\n            duration: element.getAttribute('duration'),\n            fadeout: element.getAttribute('fadeout'),\n            title: element.getAttribute('title')\n        });\n    }\n});\n\n$(function () {\n    messages.setup();\n});\n\ndeprecate.prop(messages, 'makeCloseable', {\n    extraInfo: 'Use the \"closeable\" option in the constructor instead. Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\n\ndeprecate.prop(messages, 'createMessage', {\n    extraInfo: 'Use the provided convenience methods instead e.g. messages.info(). Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\n\ndeprecate.prop(messages, 'makeFadeout', {\n    extraInfo: 'Use the \"fadeout\" option in the constructor instead. Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\n\ndeprecate.prop(messages, 'generic', {\n    extraInfo: 'use the messages.info() method instead. Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\n\ndeprecate.prop(messages, 'hint', {\n    extraInfo: 'use the messages.info() method instead. Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\ndeprecate.prop(messages, 'success', {\n    extraInfo: 'use the messages.confirmation() method instead. Docs: https://aui.atlassian.com/latest/docs/messages.html'\n});\n\n// Exporting\n// ---------\nglobalize('messages', messages);\n\nexport default messages;\nexport {\n    MessageEl\n};\n","import $ from './jquery';\nimport { recomputeStyle } from './internal/animation';\nimport amdify from './internal/amdify';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport CustomEvent from './polyfills/custom-event';\nimport escapeHtml from './escape-html';\nimport {CLOSE_BUTTON} from './close-button';\n\nvar AUTO_CLOSE_TIME = 5000;\nvar ID_FLAG_CONTAINER = 'aui-flag-container';\nvar defaultOptions = {\n    body: '',\n    close: 'manual',\n    title: '',\n    type: 'info'\n};\n\nfunction flag (options) {\n    options = $.extend({}, defaultOptions, options);\n\n    // clean the title value\n    options.title = (options.title || '').toString().trim();\n\n    var $flag = renderFlagElement(options);\n    extendFlagElement($flag);\n\n    if (options.close === 'auto') {\n        makeCloseable($flag);\n        makeAutoClosable($flag);\n    } else if (options.close === 'manual') {\n        makeCloseable($flag);\n    }\n\n    handleFlagContainer();\n    insertFlag($flag);\n\n    return $flag.get(0);\n}\n\nfunction extendFlagElement ($flag) {\n    var flag = $flag[0];\n\n    flag.close = function () {\n        closeFlag($flag);\n    };\n}\n\nfunction renderFlagElement ({body, title, close, type}) {\n    const titleHtml = title ? `<p class=\"title\"><strong>${escapeHtml(title)}</strong></p>` : '';\n    const html = `<div class=\"aui-message\">${titleHtml}</div>`;\n\n    const $message = $(html)\n        .append($.parseHTML(body || ''))\n        .addClass(close === 'never' ? '' : 'closeable')\n        .addClass(`aui-message-${type}`);\n    return $('<div class=\"aui-flag\" aria-live=\"polite\"></div>').append($message);\n}\n\nfunction makeCloseable ($flag) {\n    var $icon = $(CLOSE_BUTTON);\n\n    $icon.on('click', function () {\n        closeFlag($flag);\n    });\n\n    $icon.on('keypress', function (e) {\n        if ((e.which === keyCode.ENTER) || (e.which === keyCode.SPACE)) {\n            closeFlag($flag);\n            e.preventDefault();\n        }\n    });\n\n    return $flag.find('.aui-message').append($icon)[0];\n}\n\nfunction makeAutoClosable ($flag) {\n    $flag.find('.aui-message').addClass('aui-will-close');\n    setTimeout(function () {\n        $flag[0].close();\n    }, AUTO_CLOSE_TIME);\n}\n\nfunction closeFlag ($flagToClose) {\n    var flag = $flagToClose.get(0);\n\n    flag.removeAttribute('open');\n    flag.dispatchEvent(new CustomEvent('aui-flag-close', {bubbles: true}));\n\n    return flag;\n}\n\nfunction handleFlagContainer () {\n    const container = findContainer();\n\n    if (container) {\n        const closedFlags = container.querySelectorAll('.aui-flag:not([open])');\n\n        Array.from(closedFlags).map(flag => flag.parentNode.removeChild(flag));\n    } else {\n        $('body').prepend('<div id=\"' + ID_FLAG_CONTAINER + '\"></div>');\n    }\n}\n\nfunction findContainer () {\n    return document.getElementById(ID_FLAG_CONTAINER);\n}\n\nfunction insertFlag ($flag) {\n    const flagContainer = findContainer();\n\n    $flag.appendTo(flagContainer);\n    recomputeStyle($flag);\n\n    $flag\n        .removeAttr('hidden')\n        .attr('open','');\n}\n\namdify('aui/flag', flag);\nglobalize('flag', flag);\nexport default flag;\n","import $ from './jquery';\nimport '@atlassian/tipsy/src/javascripts/jquery.tipsy';\n\nconst AUI_TOOLTIP_CLASS_NAME = 'aui-tooltip';\n\nfunction handleStringOption ($self, stringOption) {\n    // Pass string values straight to tipsy\n    $self.tipsy(stringOption);\n    return $self;\n}\n\nfunction bindTooltip ($self, options) {\n    $self.tipsy(options);\n\n    const triggerIsHover = options.trigger === 'hover' || !options.trigger && $self.tipsy.defaults.trigger === 'hover';\n    const hideOnClick = options && options.hideOnClick && triggerIsHover;\n    if (hideOnClick) {\n        const onClick = function() {\n            $(this).tipsy('hide');\n        };\n\n        if (options.live) {\n            $self.on('click.tipsy', options.live, onClick);\n        } else {\n            $self.on('click.tipsy', onClick);\n        }\n    }\n    return $self;\n}\n\nfunction getTipsyObject (el) {\n    return $(el).data('tipsy');\n}\n\n/**\n * If a given selector has been initialised as a tooltip, returns the tooltip element.\n * Otherwise, returns an empty jQuery object so calls are still chainable yet benign.\n * @param el\n * @returns {jQuery}\n */\nfunction maybeTooltip (el) {\n    const tipsy = getTipsyObject(el);\n    if (tipsy) {\n        return tipsy.$tip;\n    } else {\n        return $();\n    }\n}\n\nfunction findAllTooltips () {\n    return $(document.getElementsByClassName(AUI_TOOLTIP_CLASS_NAME));\n}\n\n$.fn.tooltip = function (options) {\n    const allOptions = $.extend({}, $.fn.tooltip.defaults, typeof options === 'string' ? {} : options);\n\n    // Always add AUI's tooltip class name to tipsies created by AUI.\n    const { className } = allOptions;\n    if (typeof className === 'string') {\n        allOptions.className = `${AUI_TOOLTIP_CLASS_NAME} ${className}`\n    } else if (typeof className === 'function') {\n        allOptions.className = (...args) => `${AUI_TOOLTIP_CLASS_NAME} ${className.apply(undefined, args)}`;\n    } else {\n        allOptions.className = AUI_TOOLTIP_CLASS_NAME;\n    }\n\n    function init() {\n        const $this = $(this);\n        if (typeof options === 'string') {\n            handleStringOption($this, options);\n        } else {\n            bindTooltip($this, allOptions);\n        }\n        return $this;\n    }\n\n    // Handle live option\n    if (allOptions.live) {\n        return init.call(this);\n    }\n\n    // If not live, bind each object in the collection\n    return this.each(init);\n};\n\n$.fn.tooltip.defaults = {\n    opacity: 1.0,\n    offset: 1,\n    delayIn: 500,\n    hoverable: true,\n    hideOnClick: true,\n    aria: true\n};\n\nexport default $;\nexport {\n    findAllTooltips,\n    maybeTooltip\n};\n","import $ from './jquery';\nimport './dropdown2';\nimport './tooltip';\nimport { I18n } from './i18n';\nimport amdify from './internal/amdify';\nimport skate from './internal/skate';\nimport uid from './unique-id';\n\nvar templates = {\n    dropdown: function (items) {\n        function createSection() {\n            return $('<div class=\"aui-dropdown2-section\">');\n        }\n\n        // clear items section\n        var $clearItemsSection = createSection();\n\n        $('<button />').attr({\n            type: 'button',\n            'data-aui-checkbox-multiselect-clear': '',\n            class: 'aui-button aui-button-link'\n        })\n            .text(I18n.getText('aui.checkboxmultiselect.clear.selected'))\n            .appendTo($clearItemsSection);\n\n        // list of items\n        var $section = createSection();\n        var $itemList = $('<ul />').appendTo($section);\n\n        $.each(items, function (idx, item) {\n            var $li = $('<li />').attr({\n                class: item.styleClass || ''\n            }).appendTo($itemList);\n\n            var $a =  $('<a />')\n                .text(item.label)\n                .attr('data-value', item.value)\n                .addClass('aui-dropdown2-checkbox aui-dropdown2-interactive')\n                .appendTo($li);\n\n            if (item.icon) {\n                $('<span />')\n                    .addClass('aui-icon')\n                    .css('backgroundImage', 'url(' + item.icon + ')\")')\n                    .appendTo($a);\n            }\n\n            if (item.selected) {\n                $a.addClass('aui-dropdown2-checked');\n            }\n        });\n\n        return $('<div />')\n            .append($clearItemsSection)\n            .append($section)\n            .html();\n    },\n\n    furniture: function (name, optionsHtml) {\n        var dropdownId = name + '-dropdown';\n\n        var $select = $('<select />').attr({\n            name: name,\n            multiple: 'multiple'\n        }).html(optionsHtml);\n\n        var $dropdown = $('<div>')\n            .attr({\n                id: dropdownId,\n                class: 'aui-checkbox-multiselect-dropdown aui-dropdown2'\n            });\n\n        var $button = $('<button />')\n            .attr({\n                class: 'aui-checkbox-multiselect-btn aui-button aui-dropdown2-trigger',\n                type: 'button',\n                'aria-owns': dropdownId,\n                'aria-haspopup': true\n            });\n\n        return $('<div />')\n            .append($select)\n            .append($button)\n            .append($dropdown)\n            .html();\n    }\n};\n\n/**\n * Handles when user clicks an item in the dropdown list. Either selects or unselects the corresponding\n * option in the <select>.\n * @private\n */\nfunction handleDropdownSelection (e) {\n    var $a = $(e.target);\n    var value = $a.attr('data-value');\n    updateOption(this, value, $a.hasClass('aui-dropdown2-checked'));\n}\n\n/**\n * Selects or unselects the <option> corresponding the given value.\n * @private\n * @param component - Checkbox MultiSelect web component\n * @param value - value of option to update\n * @param {Boolean} selected - select or unselect it.\n */\nfunction updateOption (component, value, selected) {\n    var $toUpdate = component.$select.find('option').filter(function () {\n        var $this = $(this);\n        return $this.attr('value') === value && $this.prop('selected') !== selected;\n    });\n    if ($toUpdate.length) {\n        $toUpdate.prop('selected', selected);\n        component.$select.trigger('change');\n    }\n}\n\n/**\n * Enables 'clear all' button if there are any selected <option>s, otherwise disables it.\n * @private\n */\nfunction updateClearAll (component) {\n    component.$dropdown.find('[data-aui-checkbox-multiselect-clear]').prop('disabled', function () {\n        return getSelectedDescriptors(component).length < 1;\n    });\n}\n\n/**\n * Gets button title used for tipsy. Is blank when dropdown is open so we don't get tipsy hanging over options.\n * @private\n * @param component\n * @returns {string}\n */\nfunction getButtonTitle (component) {\n    return component.$dropdown[0].hasAttribute('hidden') ? '' : getSelectedLabels(component).join(', ');\n}\n\n/**\n * Converts a jQuery collection of <option> elements into an object that describes them.\n * @param {jQuery} $options\n * @returns {Array<Object>}\n * @private\n */\nfunction mapOptionDescriptors ($options) {\n    return $options.map(function () {\n        var $option = $(this);\n        return {\n            value: $option.val(),\n            label: $option.text(),\n            icon: $option.data('icon'),\n            styleClass: $option.data('styleClass'),\n            title: $option.attr('title'),\n            disabled: $option.attr('disabled'),\n            selected: $option.prop('selected')\n        };\n    });\n}\n\n/**\n * Gets label for when nothing is selected\n * @returns {string}\n * @private\n */\nfunction getImplicitAllLabel (component) {\n    return $(component).data('allLabel') || 'All';\n}\n\n\n/**\n * Renders dropdown with list of items representing the selected or unselect state of the <option>s in <select>\n * @private\n */\nfunction renderDropdown (component) {\n    component.$dropdown.html(templates.dropdown(getDescriptors(component)));\n    updateClearAll(component);\n}\n\n/**\n * Renders button with the selected <option>'s innerText in a comma seperated list. If nothing is selected 'All'\n * is displayed.\n * @private\n */\nfunction renderButton (component) {\n    var selectedLabels = getSelectedLabels(component);\n    var label = isImplicitAll(component) ? getImplicitAllLabel(component) : selectedLabels.join(', ');\n    component.$btn.text(label);\n}\n\n/**\n * Gets descriptor for selected options, the descriptor is an object that contains meta information about\n * the option, such as value, label, icon etc.\n * @private\n * @returns Array<Object>\n */\nfunction getDescriptors (component) {\n    return mapOptionDescriptors(component.getOptions());\n}\n\n/**\n * Gets descriptor for selected options, the descriptor is an object that contains meta information about\n * the option, such as value, label, icon etc.\n * @private\n * @returns Array<Object>\n */\nfunction getSelectedDescriptors (component) {\n    return mapOptionDescriptors(component.getSelectedOptions());\n}\n\n/**\n * Gets the innerText of the selected options\n * @private\n * @returns Array<String>\n */\nfunction getSelectedLabels (component) {\n    return $.map(getSelectedDescriptors(component), function (descriptor) {\n        return descriptor.label;\n    });\n}\n\n/**\n * If nothing is selected, we take this to mean that everything is selected.\n * @returns Boolean\n */\nfunction isImplicitAll (component) {\n    return getSelectedDescriptors(component).length === 0;\n}\n\nconst CheckboxMultiselectEl = skate('aui-checkbox-multiselect', {\n    attached: function (component) {\n        // This used to be template logic, however, it breaks tests if we\n        // keep it there after starting to use native custom elements. This\n        // should be refactored.\n        //\n        // Ideally we should be templating the element within the \"template\"\n        // hook which will ensure it's templated prior to calling the\n        // \"attached\" callback.\n        var name = component.getAttribute('name') || uid('aui-checkbox-multiselect-');\n        component.innerHTML = templates.furniture(name, component.innerHTML);\n\n        component.$select = $('select', component)\n            .on('change', function () {\n                renderButton(component);\n                updateClearAll(component);\n            });\n\n        component.$dropdown = $('.aui-checkbox-multiselect-dropdown', component)\n            .on('aui-dropdown2-item-check', handleDropdownSelection.bind(component))\n            .on('aui-dropdown2-item-uncheck', handleDropdownSelection.bind(component))\n            .on('click', 'button[data-aui-checkbox-multiselect-clear]', component.deselectAllOptions.bind(component));\n\n        component.$btn = $('.aui-checkbox-multiselect-btn', component)\n            .tooltip({\n                title: function () {\n                    return getButtonTitle(component);\n                }\n            });\n\n        renderButton(component);\n        renderDropdown(component);\n    },\n    prototype: {\n\n        /**\n         * Gets all options regardless of selected or unselected\n         * @returns {jQuery}\n         */\n        getOptions: function () {\n            return this.$select.find('option');\n        },\n\n        /**\n         * Gets all selected options\n         * @returns {jQuery}\n         */\n        getSelectedOptions: function () {\n            return this.$select.find('option:selected');\n        },\n\n        /**\n         * Sets <option> elements matching given value to selected\n         */\n        selectOption: function (value) {\n            updateOption(this, value, true);\n        },\n\n        /**\n         * Sets <option> elements matching given value to unselected\n         */\n        unselectOption: function (value) {\n            updateOption(this, value, false);\n        },\n\n        /**\n         * Gets value of <select>\n         * @returns Array\n         */\n        getValue: function () {\n            return this.$select.val();\n        },\n\n        /**\n         * Unchecks all items in the dropdown and in the <select>\n         */\n        deselectAllOptions: function () {\n            this.$select.val([]).trigger('change');\n            this.$dropdown.find('.aui-dropdown2-checked,.checked').removeClass('aui-dropdown2-checked checked');\n        },\n\n        /**\n         * Adds an option to the <select>\n         * @param descriptor\n         */\n        addOption: function (descriptor) {\n            $('<option />').attr({\n                value: descriptor.value,\n                icon: descriptor.icon,\n                disabled: descriptor.disabled,\n                selected: descriptor.selected,\n                title: descriptor.title\n            })\n                .text(descriptor.label)\n                .appendTo(this.$select);\n            renderButton(this);\n            renderDropdown(this);\n        },\n\n        /**\n         * Removes options matching value from <select>\n         * @param value\n         */\n        removeOption: function (value) {\n            this.$select.find(\"[value='\" + value + \"']\").remove();\n            renderButton(this);\n            renderDropdown(this);\n        }\n    }\n});\n\namdify('aui/checkbox-multiselect', CheckboxMultiselectEl);\nexport default CheckboxMultiselectEl;\n","/* AUI-4199: This puts the FFI object on the jQuery global for backwards compatibility. */\nimport FancyFileInput from 'fancy-file-input/dist/fancy-file-input';\n\nexport default FancyFileInput;\n","import * as logger from './log'\n\nfunction enforcer (element) {\n\n    function attributeExists (attributeName) {\n        var errorMessage = attributeName + ' wasn\\'t defined';\n\n        return satisfiesRules(function () {\n            return element.hasAttribute(attributeName)\n        }, errorMessage);\n    }\n\n    function refersTo (attributeName) {\n\n        if (!attributeExists(attributeName, element)){\n            return false;\n        }\n\n        var desiredId = element.getAttribute(attributeName);\n        var errorMessage = 'an element with id set to \"' + desiredId  + '\" was not found';\n\n        return satisfiesRules(function () {\n            return document.getElementById(desiredId);\n        }, errorMessage);\n    }\n\n    function ariaControls() {\n        return refersTo('aria-controls');\n    }\n\n    function ariaOwns() {\n        return refersTo('aria-owns');\n    }\n\n    function satisfiesRules (predicate, message) {\n        if (!predicate()) {\n            if (element) {\n                logger.error(message, element);\n            } else {\n                logger.error(message);\n            }\n            return false;\n        }\n        return true;\n    }\n\n    return {\n        attributeExists: attributeExists,\n        refersTo: refersTo,\n        satisfiesRules: satisfiesRules,\n        ariaControls: ariaControls,\n        ariaOwns: ariaOwns\n    }\n}\n\nexport default enforcer;\n","const INPUT_SUFFIX = '-input';\n\nexport {\n    INPUT_SUFFIX\n}\n","import skate from './internal/skate';\nimport skateTemplateHtml from 'skatejs-template-html';\nimport enforce from './internal/enforcer';\nimport { INPUT_SUFFIX } from './internal/constants';\n\nfunction getLabel(element) {\n    return element.querySelector('label');\n}\n\nfunction updateLabelFor(element, change) {\n    if (element.hasAttribute('for')) {\n        getLabel(element).setAttribute('for', `${change.newValue}${INPUT_SUFFIX}`);\n    } else {\n        getLabel(element).removeAttribute('for');\n    }\n}\n\nfunction updateLabelForm(element, change) {\n    if (element.hasAttribute('form')) {\n        getLabel(element).setAttribute('form', change.newValue);\n    } else {\n        getLabel(element).removeAttribute('form');\n    }\n}\n\nconst LabelEl = skate('aui-label', {\n    template: skateTemplateHtml('<label><content></content></label>'),\n    created: function (element) {\n        element._label = getLabel(element);    // required for quick access from test\n    },\n    attached: function (element) {\n        enforce(element).attributeExists('for');\n    },\n    attributes: {\n        'for': updateLabelFor,\n        form: updateLabelForm\n    },\n    prototype: {\n        get disabled() {\n            return this.hasAttribute('disabled');\n        },\n        set disabled(value) {\n            if (value) {\n                this.setAttribute('disabled', '');\n            } else {\n                this.removeAttribute('disabled');\n            }\n        }\n    },\n    events: {\n        click: function (element, e) {\n            if (element.disabled) {\n                e.preventDefault();\n            }\n        }\n    }\n});\n\nexport default LabelEl;\n","import $ from './jquery';\nimport '../../js-vendor/jquery/plugins/jquery.select2';\n\n/**\n * Wraps a vanilla Select2 with ADG _style_, as an auiSelect2 method on jQuery objects.\n *\n * @since 5.2\n */\n\n/**\n * We make a copy of the original select2 so that later we might re-specify $.fn.auiSelect2 as $.fn.select2. That\n * way, calling code will be able to call $thing.select2() as if they were calling the original library,\n * and ADG styling will just magically happen.\n */\nvar originalSelect2 = $.fn.select2;\n\n// AUI-specific classes\nvar auiContainer = 'aui-select2-container';\nvar auiDropdown = 'aui-select2-drop aui-dropdown2';\nvar auiHasAvatar = 'aui-has-avatar';\n\n$.fn.auiSelect2 = function (first) {\n    var updatedArgs;\n\n    if ($.isPlainObject(first)) {\n        var auiOpts = $.extend({}, first);\n        var auiAvatarClass = auiOpts.hasAvatar ? ' ' + auiHasAvatar : '';\n        //add our classes in addition to those the caller specified\n        auiOpts.containerCssClass  = auiContainer + auiAvatarClass + (auiOpts.containerCssClass ? ' ' + auiOpts.containerCssClass : '');\n        auiOpts.dropdownCssClass  = auiDropdown + auiAvatarClass + (auiOpts.dropdownCssClass  ? ' ' + auiOpts.dropdownCssClass : '');\n        updatedArgs = Array.prototype.slice.call(arguments, 1);\n        updatedArgs.unshift(auiOpts);\n    } else if (!arguments.length) {\n        updatedArgs = [{\n            containerCssClass: auiContainer,\n            dropdownCssClass: auiDropdown\n        }];\n    } else {\n        updatedArgs = arguments;\n    }\n\n    return originalSelect2.apply(this, updatedArgs);\n};\n","import $ from './jquery';\nimport './spinner';\nimport skate from './internal/skate';\nimport { fn } from './internal/deprecation';\n\n/**\n * @typedef {Object} jQuerySpinnerConfig\n * @property {SpinnerSize} size - the size of the spinner.\n */\n\n/**\n * @param {jQuerySpinnerConfig|String|Boolean} [firstArgs]\n * - when an object, it is a {jQuerySpinnerConfig}\n * - when a string, it represents the `size` the spinner should take.\n * - when boolean, the argument can take only FALSE, in this case, the spinner will be stopped.\n * @param {jQuerySpinnerConfig} [maybeArgs]\n * @deprecated since AUI 7.9.4. Use the `<aui-spinner>` web component directly.\n */\n$.fn.spin = fn(function spinStart(firstArgs, maybeArgs) {\n    let args = { size: 'small' };\n    if (typeof maybeArgs === 'object') {\n        args = $.extend(args, maybeArgs)\n    }\n    if (typeof firstArgs === 'object') {\n        args = $.extend(args, firstArgs);\n    }\n    if (typeof firstArgs === 'string') {\n        args.size = firstArgs;\n    }\n    if (typeof firstArgs === 'boolean' && firstArgs === false) {\n        return this.spinStop();\n    }\n\n    return this.each(function() {\n        if (!this || !this.nodeType) { return; }\n        const $this = $(this);\n        const data = $this.data();\n        if (data) {\n            const $spinnerDom = $('<aui-spinner filled></aui-spinner>');\n            $spinnerDom.attr('size', args.size); // the web component handles validation\n            $spinnerDom.css('color', args.color);\n\n            $this.spinStop();\n            $this.append($spinnerDom);\n            // AUI-4819 - ensure web component is initialised synchronously.\n            skate.init(this);\n\n            data.spinner = $spinnerDom;\n        }\n    });\n}, 'jQuery.fn.spin', {\n    sinceVersion: '7.9.4',\n    removeInVersion: '10.0.0',\n    alternativeName: '<aui-spinner>'\n});\n\n/**\n * @deprecated since AUI 7.9.4. Use the `<aui-spinner>` web component directly.\n */\n$.fn.spinStop = fn(function spinStop() {\n    return this.each(function() {\n        if (!this || !this.nodeType) { return; }\n        const $this = $(this);\n        const data = $this.data();\n        if (data && data.spinner) {\n            data.spinner.remove();\n\n            delete data.spinner;\n        }\n    });\n}, 'jQuery.fn.spinStop', {\n    sinceVersion: '7.9.4',\n    removeInVersion: '10.0.0',\n    alternativeName: '<aui-spinner>'\n});\n","import skate from '../skate';\nimport escapeHtml from '../../escape-html';\n\nexport default skate('aui-option', {\n    created: function (element) {\n        Object.defineProperty(element, 'value', {\n            get: function () {\n                return element.getAttribute('value') || escapeHtml(this.textContent);\n            },\n            set: function (value) {\n                element.setAttribute('value', value);\n            }\n        });\n    },\n    prototype: {\n        serialize: function () {\n            var json = {};\n            if (this.hasAttribute('img-src')) {\n                json['img-src'] = encodeURI(this.getAttribute('img-src'));\n            }\n            json.value = this.value;\n            json.label = escapeHtml(this.textContent);\n\n            return json;\n        }\n    }\n});\n","import { bindAll, extend, first, isFunction, pluck } from 'underscore';\nimport Backbone from 'backbone';\nimport globalize from './internal/globalize';\n\n/**\n * @fileOverview describes a ProgressiveDataSet object.\n *\n * This object serves as part of a series of components to handle the various aspects of autocomplete controls.\n */\nvar ProgressiveDataSet = Backbone.Collection.extend({\n    /**\n     * A queryable set of data that optimises the speed at which responses can be provided.\n     *\n     * ProgressiveDataSet should be given a matcher function so that it may filter results for queries locally.\n     *\n     * ProgressiveDataSet can be given a remote query endpoint to fetch data from. Should a remote endpoint\n     * be provided, ProgressiveDataSet will leverage both client-side matching and query caching to reduce\n     * the number of times the remote source need be queried.\n     *\n     * @example\n     * var source = new ProgressiveDataSet([], {\n     *     model: Backbone.Model.extend({ idAttribute: \"username\" }),\n     *     queryEndpoint: \"/jira/rest/latest/users\",\n     *     queryParamKey: \"username\",\n     *     matcher: function(model, query) {\n     *         return _.startsWith(model.get('username'), query);\n     *     }\n     * });\n     * source.on('respond', doStuffWithMatchingResults);\n     * source.query('john');\n     *\n     * @property {String} value the latest query for which the ProgressiveDataSet is responding to.\n     * @property {Number} activeQueryCount the number of queries being run remotely.\n     */\n    initialize: function (models, options) {\n        options || (options = {});\n        if (options.matcher) {\n            this.matcher = options.matcher;\n        }\n        if (options.model) {\n            this.model = options.model; // Fixed in backbone 0.9.2\n        }\n        this._idAttribute = (new this.model()).idAttribute;\n        this._maxResults = options.maxResults || 5;\n        this._queryData = options.queryData || {};\n        this._queryParamKey = options.queryParamKey || 'q';\n        this._queryEndpoint = options.queryEndpoint || '';\n        this.value = null;\n        this.queryCache = {};\n        this.activeQueryCount = 0;\n        bindAll(this, 'query', 'respond');\n    },\n\n    url: function () {\n        return this._queryEndpoint;\n    },\n\n    /**\n     * Sets and runs a query against the ProgressiveDataSet.\n     *\n     * Bind to ProgressiveDataSet's 'respond' event to receive the results that match the latest query.\n     *\n     * @param {String} query the query to run.\n     */\n    query: function (query) {\n        var remote;\n        var results;\n\n        this.value = query;\n        results = this.getFilteredResults(query);\n        this.respond(query, results);\n\n        if (!query || !this._queryEndpoint || this.hasQueryCache(query) || !this.shouldGetMoreResults(results)) {\n            return;\n        }\n\n        remote = this.fetch(query);\n\n        this.activeQueryCount++;\n        this.trigger('activity', {activity: true});\n\n        remote.always(() => {\n            this.activeQueryCount--;\n            this.trigger('activity', {activity: !!this.activeQueryCount});\n        });\n\n        remote.done((resp, succ, xhr) => {\n            this.addQueryCache(query, resp, xhr);\n        });\n        remote.done(() => {\n            query = this.value;\n            results = this.getFilteredResults(query);\n            this.respond(query, results);\n        });\n    },\n\n    /**\n     * Gets all the data that should be sent in a remote request for data.\n     * @param {String} query the value of the query to be run.\n     * @return {Object} the data to to be sent to the remote when querying it.\n     * @private\n     */\n    getQueryData: function (query) {\n        var params = isFunction(this._queryData) ? this._queryData(query) : this._queryData;\n        var data = extend({}, params);\n        data[this._queryParamKey] = query;\n        return data;\n    },\n\n    /**\n     * Get data from a remote source that matches the query, and add it to this ProgressiveDataSet's set.\n     *\n     * @param {String} query the value of the query to be run.\n     * @return {jQuery.Deferred} a deferred object representing the remote request.\n     */\n    fetch: function (query) {\n        var data = this.getQueryData(query);\n        // {add: true} for Backbone <= 0.9.2\n        // {update: true, remove: false} for Backbone >= 0.9.9\n        var params = {add: true, update: true, remove: false, data: data};\n        var remote = Backbone.Collection.prototype.fetch.call(this, params);\n        return remote;\n    },\n\n    /**\n     * Triggers the 'respond' event on this ProgressiveDataSet for the given query and associated results.\n     *\n     * @param {String} query the query that was run\n     * @param {Array} results a set of results that matched the query.\n     * @return {Array} the results.\n     * @private\n     */\n    respond: function (query, results) {\n        this.trigger('respond', {\n            query: query,\n            results: results\n        });\n        return results;\n    },\n\n    /**\n     * A hook-point to define a function that tests whether a model matches a query or not.\n     *\n     * This will be called by getFilteredResults in order to generate the list of results for a query.\n     *\n     * (For you java folks, it's essentially a predicate.)\n     *\n     * @param {Backbone.Model} item a model of the data to check for a match in.\n     * @param {String} query the value to test against the item.\n     * @returns {Boolean} true if the model matches the query, otherwise false.\n     * @function\n     */\n    matcher: function (item, query) { }, // eslint-disable-line no-unused-vars\n\n    /**\n     * Filters the set of data contained by the ProgressiveDataSet down to a smaller set of results.\n     *\n     * The set will only consist of Models that \"match\" the query -- i.e., only Models where\n     * a call to ProgressiveDataSet#matcher returns true.\n     *\n     * @param query {String} the value that results should match (according to the matcher function)\n     * @return {Array} A set of Backbone Models that match the query.\n     */\n    getFilteredResults: function (query) {\n        var results = [];\n        if (!query) {\n            return results;\n        }\n        results = this.filter(function (item) {\n            return !!this.matcher(item, query);\n        }, this);\n        if (this._maxResults) {\n            results = first(results, this._maxResults);\n        }\n        return results;\n    },\n\n    /**\n     * Store a response in the query cache for a given query.\n     *\n     * @param {String} query the value to cache a response for.\n     * @param {Object} response the data of the response from the server.\n     * @param {XMLHttpRequest} xhr\n     * @private\n     */\n    addQueryCache: function (query, response, xhr) {\n        var cache = this.queryCache;\n        var results = this.parse(response, xhr);\n        cache[query] = pluck(results, this._idAttribute);\n    },\n\n    /**\n     * Check if there is a query cache entry for a given query.\n     *\n     * @param query the value to check in the cache\n     * @return {Boolean} true if the cache contains a response for the query, false otherwise.\n     */\n    hasQueryCache: function (query) {\n        return this.queryCache.hasOwnProperty(query);\n    },\n\n    /**\n     * Get the query cache entry for a given query.\n     *\n     * @param query the value to check in the cache\n     * @return {Object[]} an array of values representing the IDs of the models the response for this query contained.\n     */\n    findQueryCache: function (query) {\n        return this.queryCache[query];\n    },\n\n    /**\n     *\n     * @param {Array} results the set of results we know about right now.\n     * @return {Boolean} true if the ProgressiveDataSet should look for more results.\n     * @private\n     */\n    shouldGetMoreResults: function (results) {\n        return results.length < this._maxResults;\n    },\n\n    /**\n     *\n     * @note Changing this value will trigger ProgressiveDataSet#event:respond if there is a query.\n     * @param {Number} number how many results should the ProgressiveDataSet aim to retrieve for a query.\n     */\n    setMaxResults: function (number) {\n        this._maxResults = number;\n        this.value && this.respond(this.value, this.getFilteredResults(this.value));\n    }\n});\n\nglobalize('ProgressiveDataSet', ProgressiveDataSet);\n\nexport default ProgressiveDataSet;\n","import Backbone from 'backbone';\n\nexport default Backbone.Model.extend({\n    idAttribute: 'label',\n    getLabel: function () {\n        return this.get('label') || this.get('value');\n    }\n});\n","\nfunction SuggestionsModel () {\n    this._suggestions = [];\n    this._activeIndex = -1;\n}\n\nSuggestionsModel.prototype = {\n    onChange: function () {},\n\n    onHighlightChange: function () {},\n\n    get: function (index) {\n        return this._suggestions[index];\n    },\n\n    set: function (suggestions) {\n        var oldSuggestions = this._suggestions;\n        this._suggestions = suggestions || [];\n        this.onChange(oldSuggestions);\n        return this;\n    },\n\n    getNumberOfResults: function () {\n        return this._suggestions.length;\n    },\n\n    setHighlighted: function (toHighlight) {\n        if (toHighlight) {\n            for (var i = 0; i < this._suggestions.length; i++) {\n                if (this._suggestions[i].id === toHighlight.id) {\n                    this.highlight(i);\n                }\n            }\n        }\n\n        return this;\n    },\n\n    highlight: function (index) {\n        this._activeIndex = index;\n        this.onHighlightChange();\n        return this;\n    },\n\n    highlightPrevious: function () {\n        var current = this._activeIndex;\n        var previousActiveIndex = (current === 0) ? current : (current - 1);\n        this.highlight(previousActiveIndex);\n        return this;\n    },\n\n    highlightNext: function () {\n        var current = this._activeIndex;\n        var nextActiveIndex = (current === this._suggestions.length - 1) ? current : (current + 1);\n        this.highlight(nextActiveIndex);\n        return this;\n    },\n\n    highlighted: function () {\n        return this.get(this._activeIndex);\n    },\n\n    highlightedIndex: function () {\n        return this._activeIndex;\n    }\n};\n\nexport default SuggestionsModel;\n","import $ from '../../jquery';\nimport { I18n } from '../../i18n';\nimport Alignment from '../alignment';\nimport layer from '../../layer';\n\nfunction generateListItemID (listId, index) {\n    return listId + '-' + index;\n}\n\n/**\n *\n * @param view SuggestionsView\n */\nfunction enableAlignment (view) {\n    if (view.anchor && !view._auiAlignment) {\n        view._auiAlignment = new Alignment(view.el, view.anchor, {\n            flipContainer: 'scrollParent',\n            positionFixed: true,\n            preventOverflow: false,\n            flip: false\n        });\n    }\n\n    if (view._auiAlignment) {\n        view._auiAlignment.enable();\n        view._auiAlignment.scheduleUpdate();\n    }\n}\n\nfunction disableAlignment (view) {\n    if (view._auiAlignment) {\n        view._auiAlignment.disable();\n    }\n}\n\nfunction destroyAlignment (view) {\n    if (view._auiAlignment) {\n        view._auiAlignment.destroy();\n        delete view._auiAlignment;\n    }\n}\n\nfunction matchWidth (view) {\n    $(view.el).css('min-width', $(view.anchor).outerWidth());\n}\n\nfunction SuggestionsView (element, anchor) {\n    this.el = element;\n    this.anchor = anchor;\n}\n\nfunction clearActive (element) {\n    $(element).find('.aui-select-active').removeClass('aui-select-active');\n}\n\nSuggestionsView.prototype = {\n    render: function (suggestions, currentLength, listId) {\n        this.currListId = listId;\n        var html = '';\n\n        // Do nothing if we have no new suggestions, otherwise append anything else we find.\n        if (suggestions.length) {\n            var i = currentLength;\n            suggestions.forEach(function (sugg) {\n                var label = sugg.getLabel();\n                var imageSrc = sugg.get('img-src');\n                var image = imageSrc ? `<img src=\"${encodeURI(imageSrc)}\"/>` : '';\n                var newValueText = sugg.get('new-value') ? (` (<em>${I18n.getText('aui.select.new.value')}</em>)`) : '';\n                html += `<li role=\"option\" class=\"aui-select-suggestion\" id=\"${generateListItemID(listId, i)}\">${image}${label}${newValueText}</li>`;\n                i++;\n            });\n\n            // If the old suggestions were empty, a <li> of 'No suggestions' will be appended, we need to remove it\n            if (currentLength) {\n                this.el.querySelector('ul').innerHTML += html;\n            } else {\n                this.el.querySelector('ul').innerHTML = html;\n            }\n        } else if (!currentLength) {\n            this.el.querySelector('ul').innerHTML = `<li role=\"option\" class=\"aui-select-no-suggestions\">${I18n.getText('aui.select.no.suggestions')}</li>`;\n        }\n\n        return this;\n    },\n    setActive: function (active) {\n        clearActive(this.el);\n        $(this.el).find('#' + generateListItemID(this.currListId, active)).addClass('aui-select-active');\n    },\n    getActive: function () {\n        return this.el.querySelector('.aui-select-active');\n    },\n    show: function () {\n        matchWidth(this);\n        layer(this.el).show();\n        enableAlignment(this);\n    },\n    hide: function () {\n        clearActive(this.el);\n        layer(this.el).hide();\n        disableAlignment(this);\n    },\n    destroy: function () {\n        this.hide();\n        destroyAlignment(this);\n        delete this.currListId;\n    },\n    isVisible: function () {\n        return $(this.el).is(':visible');\n    }\n};\n\nexport default SuggestionsView;\n","import template from 'skatejs-template-html';\n\nexport default template(`\n    <input type=\"text\" class=\"text\" autocomplete=\"off\" role=\"combobox\" aria-autocomplete=\"list\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <select></select>\n    <datalist>\n        <content select=\"aui-option\"></content>\n    </datalist>\n    <button class=\"aui-button\" role=\"button\" tabindex=\"-1\" type=\"button\"></button>\n    <div class=\"aui-popover\" role=\"listbox\" data-aui-alignment=\"bottom left\" hidden>\n        <ul class=\"aui-optionlist\" role=\"presentation\"></ul>\n    </div>\n    <div class=\"aui-select-status assistive\" aria-live=\"polite\" role=\"status\"></div>\n`);\n","import $ from './jquery';\nimport './button';\nimport { I18n } from './i18n';\nimport './spin';\nimport Option from './internal/select/option';\nimport amdify from './internal/amdify';\nimport CustomEvent from './polyfills/custom-event';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport ProgressiveDataSet from './progressive-data-set';\nimport skate from './internal/skate';\nimport state from './internal/state';\nimport SuggestionModel from './internal/select/suggestion-model';\nimport SuggestionsModel from './internal/select/suggestions-model';\nimport SuggestionsView from './internal/select/suggestions-view';\nimport template from './internal/select/template';\nimport uniqueId from './unique-id';\nimport { INPUT_SUFFIX } from './internal/constants';\nimport {ifGone} from './internal/elements';\n\nvar DESELECTED = -1;\nvar NO_HIGHLIGHT = -1;\nvar DEFAULT_SS_PDS_SIZE = 20;\n\nfunction decodeHtmlEntities(input) {\n    var doc = new DOMParser().parseFromString(input, 'text/html');\n    return doc.documentElement.textContent;\n}\n\nfunction clearElementImage(element) {\n    element._input.removeAttribute('style');\n    $(element._input).removeClass('aui-select-has-inline-image');\n}\n\nfunction deselect(element) {\n    element._select.selectedIndex = DESELECTED;\n    clearElementImage(element);\n}\n\nfunction hasResults(element) {\n    return element._suggestionModel.getNumberOfResults();\n}\n\nfunction waitForAssistive (callback) {\n    setTimeout(callback, 50);\n}\n\nfunction setBusyState (element) {\n    if (!element._button.isBusy()) {\n        element._button.busy();\n        element._input.setAttribute('aria-busy', 'true');\n        element._dropdown.setAttribute('aria-busy', 'true');\n    }\n}\n\nfunction setIdleState (element) {\n    element._button.idle();\n    element._input.setAttribute('aria-busy', 'false');\n    element._dropdown.setAttribute('aria-busy', 'false');\n}\n\nfunction matchPrefix (model, query) {\n    var value = model.get('label').toLowerCase();\n    return value.indexOf(query.toLowerCase()) === 0;\n}\n\nfunction hideDropdown (element) {\n    element._suggestionsView.hide();\n    element._input.setAttribute('aria-expanded', 'false');\n}\n\nfunction setInitialVisualState (element) {\n    var initialHighlightedItem = hasResults(element) ? 0 : NO_HIGHLIGHT;\n\n    element._suggestionModel.highlight(initialHighlightedItem);\n\n    hideDropdown(element);\n}\n\nfunction setElementImage (element, imageSource) {\n    $(element._input).addClass('aui-select-has-inline-image');\n    element._input.setAttribute('style', 'background-image: url(' + encodeURI(imageSource) + ')');\n}\n\nfunction suggest (element, autoHighlight, query) {\n    element._autoHighlight = autoHighlight;\n\n    if (query === undefined) {\n        query = element._input.value;\n    }\n\n    element._progressiveDataSet.query(query);\n}\n\nfunction setInputImageToHighlightedSuggestion (element) {\n    var imageSource = (element._suggestionModel.highlighted() && element._suggestionModel.highlighted().get('img-src'));\n    if (imageSource) {\n        setElementImage(element, imageSource);\n    }\n}\n\nfunction setValueAndDisplayFromModel (element, model) {\n    if (!model) {\n        return;\n    }\n\n    var option = document.createElement('option');\n    var select = element._select;\n    var value = model.get('value') || model.get('label');\n    var label = decodeHtmlEntities(model.getLabel());\n\n    option.setAttribute('selected', '');\n    option.setAttribute('value', value);\n    option.textContent = label;\n\n    // Sync element value.\n    element._input.value = label;\n\n    select.innerHTML = '';\n    select.options.add(option);\n    select.dispatchEvent(new CustomEvent('change', {bubbles: true}));\n}\n\nfunction clearValue (element) {\n    element._input.value = '';\n    element._select.innerHTML = '';\n}\n\nfunction selectHighlightedSuggestion (element) {\n    setValueAndDisplayFromModel(element, element._suggestionModel.highlighted());\n    setInputImageToHighlightedSuggestion(element);\n    setInitialVisualState(element);\n}\n\nfunction convertOptionToModel (option) {\n    return new SuggestionModel(option.serialize());\n}\n\nfunction convertOptionsToModels (element) {\n    var models = [];\n\n    for (var i = 0; i < element._datalist.children.length; i++) {\n        var option = element._datalist.children[i];\n        models.push(convertOptionToModel(option));\n    }\n\n    return models;\n}\n\n/**\n * Replaces the suggestions with a new set.\n * @param element\n * @param data\n * @returns {boolean} true if the results are different from the previous set; false otherwise.\n */\nfunction clearAndSet (element, data) {\n    const before = element._suggestionModel.getNumberOfResults();\n    element._suggestionModel.set();\n    element._suggestionModel.set(data.results);\n    const after = element._suggestionModel.getNumberOfResults();\n    return before !== after;\n}\n\nfunction getActiveId (select) {\n    var active = select._dropdown.querySelector('.aui-select-active');\n    return active && active.id;\n}\n\nfunction getIndexInResults (id, results) {\n    var resultsIds = $.map(results, function (result) {\n        return result.id;\n    });\n\n    return resultsIds.indexOf(id);\n}\n\nfunction createNewValueModel (element) {\n    var option = new Option();\n    option.setAttribute('value', element._input.value);\n    var newValueSuggestionModel = convertOptionToModel(option);\n    newValueSuggestionModel.set('new-value', true);\n    return newValueSuggestionModel;\n}\n\nfunction initialiseProgressiveDataSet (element) {\n    element._progressiveDataSet = new ProgressiveDataSet(convertOptionsToModels(element), {\n        model: SuggestionModel,\n        matcher: matchPrefix,\n        queryEndpoint: element._queryEndpoint,\n        maxResults: DEFAULT_SS_PDS_SIZE\n    });\n\n    element._isSync = !element._queryEndpoint;\n\n    // Progressive data set should indicate whether or not it is busy when processing any async requests.\n    // Check if there's any active queries left, if so: set spinner and state to busy, else set to idle and remove\n    // the spinner.\n    element._progressiveDataSet.on('activity', function () {\n        if (element._progressiveDataSet.activeQueryCount && !element._isSync) {\n            setBusyState(element);\n            state(element).set('should-flag-new-suggestions', false);\n        } else {\n            setIdleState(element);\n            state(element).set('should-flag-new-suggestions', true);\n        }\n    });\n\n    // Progressive data set doesn't do anything if the query is empty so we\n    // must manually convert all data list options into models.\n    //\n    // Otherwise progressive data set can do everything else for us:\n    // 1. Sync matching\n    // 2. Async fetching and matching\n    /* eslint-disable complexity */\n    element._progressiveDataSet.on('respond', function (data) {\n        // This means that a query was made before the input was cleared and\n        // we should cancel the response.\n        if (data.query && !element._input.value) {\n            return;\n        }\n\n        if (state(element).get('should-cancel-response')) {\n            if (!element._progressiveDataSet.activeQueryCount) {\n                state(element).set('should-cancel-response', false);\n            }\n\n            return;\n        }\n\n        if (!data.query) {\n            data.results = convertOptionsToModels(element);\n        }\n\n        var isInputExactMatch = getIndexInResults(element._input.value, data.results) !== -1;\n        var isInputEmpty = !element._input.value;\n\n        if (element.hasAttribute('can-create-values') && !isInputExactMatch && !isInputEmpty) {\n            data.results.push(createNewValueModel(element));\n        }\n\n        if (!state(element).get('should-include-selected')) {\n            var indexOfValueInResults = getIndexInResults(element.value, data.results);\n\n            if (indexOfValueInResults >= 0) {\n                data.results.splice(indexOfValueInResults, 1);\n            }\n        }\n\n        const resultsChanged = clearAndSet(element, data);\n        const optionToHighlight = element._suggestionModel.highlighted() || data.results[0];\n\n        if (element._autoHighlight) {\n            element._suggestionModel.setHighlighted(optionToHighlight);\n            waitForAssistive(function () {\n                element._input.setAttribute('aria-activedescendant', getActiveId(element));\n            });\n        }\n\n        element._input.setAttribute('aria-expanded', 'true');\n\n        // If the response is async (append operation), has elements to append and has a highlighted element, we need to update the status.\n        if (!element._isSync && resultsChanged && element._suggestionsView.getActive() && state(element).get('should-flag-new-suggestions')) {\n            element.querySelector('.aui-select-status').innerHTML = I18n.getText('aui.select.new.suggestions');\n        }\n\n        element._suggestionsView.show();\n    });\n}\n\nfunction associateDropdownAndTrigger (element) {\n    element._dropdown.id = element._listId;\n    element.querySelector('button').setAttribute('aria-controls', element._listId);\n}\n\nfunction bindHighlightMouseover (element) {\n    $(element._dropdown).on('mouseover', 'li', function (e) {\n        if (hasResults(element)) {\n            element._suggestionModel.highlight($(e.target).index());\n        }\n    });\n}\n\nexport function bindSelectMousedown (element) {\n    let preventClosingContainerLayer = false;\n\n    $(document).on('aui-close-layers-on-outer-click.single-select', e => {\n        if (preventClosingContainerLayer) {\n            e.preventDefault();\n            preventClosingContainerLayer = false;\n        }\n    });\n\n    $(element._dropdown).on('mousedown', 'li', function (e) {\n        if (hasResults(element)) {\n            element._suggestionModel.highlight($(e.target).index());\n            selectHighlightedSuggestion(element);\n\n            element._suggestionsView.hide();\n\n            if ($(element).closest('.aui-layer').length > 0) {\n                preventClosingContainerLayer = true;\n            }\n\n            element._input.removeAttribute('aria-activedescendant');\n        } else {\n            return false;\n        }\n    });\n}\n\nfunction initialiseValue (element) {\n    var option = element._datalist.querySelector('aui-option[selected]');\n\n    if (option) {\n        setValueAndDisplayFromModel(element, convertOptionToModel(option));\n    }\n}\n\nfunction isQueryInProgress (element) {\n    return element._progressiveDataSet.activeQueryCount > 0;\n}\n\nfunction focusInHandler (element) {\n    //if there is a selected value the single select should do an empty\n    //search and return everything\n    var searchValue = element.value ? '' : element._input.value;\n    var isInputEmpty = element._input.value === '';\n    state(element).set('should-include-selected', isInputEmpty);\n    suggest(element, true, searchValue);\n}\n\nfunction cancelInProgressQueries (element) {\n    if (isQueryInProgress(element)) {\n        state(element).set('should-cancel-response', true);\n    }\n}\n\nfunction getSelectedLabel(element) {\n    if (element._select.selectedIndex >= 0) {\n        return element._select.options[element._select.selectedIndex].textContent;\n    }\n}\n\nfunction handleInvalidInputOnFocusOut (element) {\n    var selectCanBeEmpty = !element.hasAttribute('no-empty-values');\n    var selectionIsEmpty = !element._input.value;\n    var selectionNotExact = element._input.value !== getSelectedLabel(element);\n    var selectionNotValid = selectionIsEmpty || selectionNotExact;\n\n    if (selectionNotValid) {\n        if (selectCanBeEmpty) {\n            deselect(element);\n        } else {\n            var selection = getSelectedLabel(element);\n            if (typeof selection === 'undefined') {\n                deselect(element);\n            } else {\n                element._input.value = selection;\n            }\n        }\n    }\n}\n\nfunction handleHighlightOnFocusOut(element) {\n    // Forget the highlighted suggestion.\n    element._suggestionModel.highlight(NO_HIGHLIGHT);\n}\n\nfunction focusOutHandler (element) {\n    cancelInProgressQueries(element);\n    handleInvalidInputOnFocusOut(element);\n    handleHighlightOnFocusOut(element);\n    hideDropdown(element);\n}\n\nfunction handleTabOut (element) {\n    var isSuggestionViewVisible = element._suggestionsView.isVisible();\n    if (isSuggestionViewVisible) {\n        selectHighlightedSuggestion(element);\n    }\n}\n\nconst SelectEl = skate('aui-select', {\n    template: template,\n    created: function (element) {\n        element._listId = uniqueId();\n        element._input = element.querySelector('input');\n        element._select = element.querySelector('select');\n        element._dropdown = element.querySelector('.aui-popover');\n        element._datalist = element.querySelector('datalist');\n        element._button = element.querySelector('button');\n        element._suggestionsView = new SuggestionsView(element._dropdown, element._input);\n        element._suggestionModel = new SuggestionsModel();\n\n        element._suggestionModel.onChange = function (oldSuggestions) {\n            var suggestionsToAdd = [];\n\n            element._suggestionModel._suggestions.forEach(function (newSuggestion) {\n                var inArray = oldSuggestions.some(function (oldSuggestion) {\n                    return newSuggestion.id === oldSuggestion.id;\n                });\n\n                if (!inArray) {\n                    suggestionsToAdd.push(newSuggestion);\n                }\n            });\n\n            element._suggestionsView.render(suggestionsToAdd, oldSuggestions.length, element._listId);\n        };\n\n        element._suggestionModel.onHighlightChange = function () {\n            var active = element._suggestionModel.highlightedIndex();\n            element._suggestionsView.setActive(active);\n            element._input.setAttribute('aria-activedescendant', getActiveId(element));\n        };\n    },\n\n    attached: function (element) {\n        skate.init(element);\n        initialiseProgressiveDataSet(element);\n        associateDropdownAndTrigger(element);\n        element._input.setAttribute('aria-controls', element._listId);\n        element.setAttribute('tabindex', '-1');\n        bindHighlightMouseover(element);\n        bindSelectMousedown(element);\n        initialiseValue(element);\n        setInitialVisualState(element);\n        setInputImageToHighlightedSuggestion(element);\n    },\n\n    detached: function (element) {\n        $(document).off('aui-close-layers-on-outer-click');\n        ifGone(element).then(() => {\n            hideDropdown(element);\n            element._suggestionsView.destroy();\n        });\n    },\n\n    attributes: {\n        id(element, data) {\n            if (element.id) {\n                element.querySelector('input').id = data.newValue + INPUT_SUFFIX;\n            }\n        },\n\n        name(element, data) {\n            element.querySelector('select').setAttribute('name', data.newValue);\n        },\n\n        placeholder(element, data) {\n            element.querySelector('input').setAttribute('placeholder', data.newValue);\n        },\n\n        src(element, data) {\n            element._queryEndpoint = data.newValue;\n        }\n    },\n\n    events: {\n        'blur input': function (element) {\n            focusOutHandler(element);\n        },\n\n        'mousedown button': function (element) {\n            if (document.activeElement === element._input && !element._dropdown.hasAttribute('hidden')) {\n                state(element).set('prevent-open-on-button-click', true);\n            }\n        },\n\n        'click input': function (element) {\n            focusInHandler(element);\n        },\n\n        'click button': function (element) {\n            var data = state(element);\n\n            if (data.get('prevent-open-on-button-click')) {\n                data.set('prevent-open-on-button-click', false);\n            } else {\n                state(element).set('button-clicked-prevent-dropdown-hide', true);\n                element.focus();\n            }\n        },\n\n        input: function (element) {\n            if (!element._input.value) {\n                if (state(element).get('button-clicked-prevent-dropdown-hide')) {\n                    state(element).set('button-clicked-prevent-dropdown-hide', false);\n                } else {\n                    hideDropdown(element);\n                }\n            } else {\n                state(element).set('should-include-selected', true);\n                suggest(element, true);\n            }\n        },\n\n        'keydown input': function (element, e) {\n            var currentValue = element._input.value;\n            var handled = false;\n\n            if (e.keyCode === keyCode.ESCAPE) {\n                cancelInProgressQueries(element);\n                hideDropdown(element);\n                return;\n            }\n\n            var isSuggestionViewVisible = element._suggestionsView.isVisible();\n\n            if (isSuggestionViewVisible && hasResults(element)) {\n                if (e.keyCode === keyCode.ENTER) {\n                    cancelInProgressQueries(element);\n                    selectHighlightedSuggestion(element);\n                    e.preventDefault();\n                } else if (e.keyCode === keyCode.TAB) {\n                    handleTabOut(element);\n                    handled = true;\n                } else if (e.keyCode === keyCode.UP) {\n                    element._suggestionModel.highlightPrevious();\n                    e.preventDefault();\n                } else if (e.keyCode === keyCode.DOWN) {\n                    element._suggestionModel.highlightNext();\n                    e.preventDefault();\n                }\n            } else if (e.keyCode === keyCode.UP || e.keyCode === keyCode.DOWN) {\n                focusInHandler(element);\n                e.preventDefault();\n            }\n\n            handled = handled || e.defaultPrevented;\n            setTimeout(function emulateCrossBrowserInputEvent () {\n                if (element._input.value !== currentValue && !handled) {\n                    element.dispatchEvent(new CustomEvent('input', {bubbles: true}));\n                }\n            }, 0);\n        }\n    },\n\n    prototype: {\n        get value () {\n            var selected = this._select.options[this._select.selectedIndex];\n            return selected ? selected.value : '';\n        },\n\n        set value (value) {\n            if (value === '') {\n                clearValue(this);\n            } else if (value) {\n                var data = this._progressiveDataSet;\n                var model = data.findWhere({ value }) || data.findWhere({ label: value });\n\n                // Create a new value if allowed and the value doesn't exist.\n                if (!model && this.hasAttribute('can-create-values')) {\n                    model = new SuggestionModel({value: value, label: value});\n                }\n\n                setValueAndDisplayFromModel(this, model);\n            }\n            return this;\n        },\n\n        get displayValue () {\n            return this._input.value;\n        },\n\n        blur: function () {\n            this._input.blur();\n            focusOutHandler(this);\n            return this;\n        },\n\n        focus: function () {\n            this._input.focus();\n            focusInHandler(this);\n            return this;\n        }\n    }\n});\n\namdify('aui/select', SelectEl);\nglobalize('select', SelectEl);\nexport default SelectEl;\n","/**\n * Like el.hasAttribute(attr) but designed for use within a skate attribute\n * change handler where you only have access to change.oldValue.\n */\nexport function computeBooleanValue(attrValue) {\n    return attrValue !== null;\n}\n\nexport function setBooleanAttribute(el, attr, newValue) {\n    if (newValue) {\n        el.setAttribute(attr, '');\n    } else {\n        el.removeAttribute(attr);\n    }\n}\n\nexport function computeEnumValue(enumOptions, value) {\n    const matchesEnumValue = enumValue => enumValue.toLowerCase() === value.toLowerCase();\n\n    const isMissing = value === null;\n    const isInvalid = !isMissing && !enumOptions.values.filter(matchesEnumValue).length;\n\n    if (isMissing) {\n        if (enumOptions.hasOwnProperty('missingDefault')) {\n            return enumOptions.missingDefault;\n        }\n        return null;\n    }\n\n    if (isInvalid) {\n        if (enumOptions.hasOwnProperty('invalidDefault')) {\n            return enumOptions.invalidDefault;\n        } else if (enumOptions.hasOwnProperty('missingDefault')) {\n            return enumOptions.missingDefault;\n        }\n        return null;\n    }\n\n    return enumOptions.values.length ? enumOptions.values.filter(matchesEnumValue)[0] : null;\n}\n\n\nexport function setEnumAttribute(el, enumOptions, newValue) {\n    el.setAttribute(enumOptions.attribute, newValue);\n}\n\n/**\n * Helper functions useful for implementing reflected boolean and enumerated\n * attributes and properties.\n *\n * @see https://html.spec.whatwg.org/multipage/infrastructure.html#reflecting-content-attributes-in-idl-attributes\n * @see https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attribute\n * @see https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute\n */\nexport default {\n    computeBooleanValue,\n    setBooleanAttribute,\n\n    computeEnumValue,\n    setEnumAttribute\n};\n","import './spin';\nimport './tooltip';\nimport $ from './jquery';\nimport { setBooleanAttribute } from './internal/attributes';\nimport { supportsFocusWithin } from './internal/browser';\nimport enforce from './internal/enforcer';\nimport keyCode from './key-code';\nimport skateTemplateHtml from 'skatejs-template-html';\nimport skate from './internal/skate';\nimport { INPUT_SUFFIX } from './internal/constants';\nimport CustomEvent from './polyfills/custom-event';\nimport SpinnerEl, {SIZE} from './spinner';\nimport { I18n } from './i18n'\n\nfunction fireChangeEvent(element) {\n    if (element._canFireEventsNow) {\n        element.dispatchEvent(new CustomEvent('change', { bubbles: true }));\n    }\n}\n\nfunction getInput (element) {\n    return element._input || (element._input = element.querySelector('input'));\n}\n\nfunction getSpinner (element) {\n    return element._spinner || (element._spinner = new SpinnerEl());\n}\n\nfunction removedAttributeHandler(attributeName, element) {\n    getInput(element).removeAttribute(attributeName);\n}\n\nfunction fallbackAttributeHandler(attributeName, element, change) {\n    getInput(element).setAttribute(attributeName, change.newValue);\n}\n\nfunction getAttributeHandler (attributeName) {\n    return {\n        removed: removedAttributeHandler.bind(this, attributeName),\n        fallback: fallbackAttributeHandler.bind(this, attributeName)\n    };\n}\n\nconst formAttributeHandler = {\n    removed: function (element) {\n        removedAttributeHandler.call(this, 'form', element);\n        element._formId = null;\n    },\n    fallback: function (element, change) {\n        fallbackAttributeHandler.call(this, 'form', element, change);\n        element._formId = change.newValue;\n    }\n};\n\nvar idAttributeHandler = {\n    removed: removedAttributeHandler.bind(this, 'id'),\n    fallback: function (element, change) {\n        const val = `${change.newValue}${INPUT_SUFFIX}`;\n        getInput(element).setAttribute('id', val);\n    }\n};\n\nvar valueAttributeHandler = {\n    removed: function(element) {\n        removedAttributeHandler.call(this, 'value', element);\n        // Internet Explorer 11 has a bug where it doesn't clear out the previous value\n        // when the attribute is removed.\n        getInput(element).value = 'on';\n    },\n    fallback: function (element, change) {\n        fallbackAttributeHandler.call(this, 'value', element, change);\n    }\n};\n\nvar checkedAttributeHandler = {\n    removed: function (element) {\n        getInput(element).checked = false;\n    },\n    fallback: function (element) {\n        getInput(element).checked = true;\n    }\n};\n\nvar labelHandler = {\n    removed: function (element) {\n        getInput(element).removeAttribute('aria-label');\n    },\n    fallback: function (element, change) {\n        getInput(element).setAttribute('aria-label', change.newValue);\n    }\n};\n\nfunction clickHandler(element, e) {\n    var input = getInput(element);\n    if (!element.disabled && !element.busy && e.target !== input) {\n        input.checked = !input.checked;\n        fireChangeEvent(element);\n    }\n\n    setBooleanAttribute(element, 'checked', input.checked);\n}\n\nfunction setDisabledForLabels(element, disabled) {\n    if (!element.id) {\n        return;\n    }\n    Array.prototype.forEach.call(document.querySelectorAll(`aui-label[for=\"${element.id}\"]`), function (el) {\n        el.disabled = disabled;\n    });\n}\n\n/**\n * Workaround to prevent pressing SPACE on busy state.\n * Preventing click event still makes the toggle flip and revert back.\n * So on CSS side, the input has \"pointer-events: none\" on busy state.\n */\nfunction bindEventsToInput(element) {\n    getInput(element).addEventListener('keydown', function (e) {\n        if (element.busy && e.keyCode === keyCode.SPACE) {\n            e.preventDefault();\n        }\n    });\n    // prevent toggle can be trigger through SPACE key on Firefox\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n        getInput(element).addEventListener('click', function (e) {\n            if (element.busy) {\n                e.preventDefault();\n            }\n        });\n    }\n    // support focus-within manually when necessary\n    if (!supportsFocusWithin()) {\n        element._input.addEventListener('focus', () => element.classList.add('active'));\n        element._input.addEventListener('blur', () => element.classList.remove('active'));\n    }\n}\n\nconst ToggleEl = skate('aui-toggle', {\n    // \"assistive\" class avoids direct interaction with the <input> element\n    // (which prevents our click handler from being called),\n    // while allow the element to still participate in the form.\n    template: skateTemplateHtml(\n        '<input type=\"checkbox\" class=\"aui-toggle-input assistive\">',\n        '<span class=\"aui-toggle-view\">',\n        '<span class=\"aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success\"></span>',\n        '<span class=\"aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog\"></span>',\n        '</span>'\n    ),\n    created: function (element) {\n        getInput(element); // avoid using _input in attribute handlers\n        getSpinner(element).setAttribute('size', SIZE.SMALL.name);\n\n        $(getInput(element)).tooltip({\n            title: function () {\n                return this.checked ? this.getAttribute('tooltip-on') : this.getAttribute('tooltip-off');\n            },\n            gravity: 's',\n            hoverable: false\n        });\n        bindEventsToInput(element);\n        if (element.hasAttribute('checked')) {\n            getInput(element).setAttribute('checked', '');\n        }\n        element._canFireEventsNow = true;\n    },\n    attached: function (element) {\n        enforce(element).attributeExists('label');\n    },\n    events: {\n        click: clickHandler\n    },\n    attributes: {\n        id: idAttributeHandler,\n        checked: checkedAttributeHandler,\n        disabled: getAttributeHandler('disabled'),\n        form: formAttributeHandler,\n        name: getAttributeHandler('name'),\n        value: valueAttributeHandler,\n        'tooltip-on': {\n            value: I18n.getText('aui.toggle.on'),\n            fallback: function (element, change) {\n                getInput(element).setAttribute('tooltip-on', change.newValue || I18n.getText('aui.toggle.on'));\n            }\n        },\n        'tooltip-off': {\n            value: I18n.getText('aui.toggle.off'),\n            fallback: function (element, change) {\n                getInput(element).setAttribute('tooltip-off', change.newValue || I18n.getText('aui.toggle.off'));\n            }\n        },\n        label: labelHandler\n    },\n    prototype: {\n        focus: function () {\n            getInput(this).focus();\n            return this;\n        },\n        get checked () {\n            return getInput(this).checked;\n        },\n        set checked (value) {\n            // Need to explicitly set the property on the checkbox because the\n            // checkbox's property doesn't change with it's attribute after it\n            // is clicked.\n            if (getInput(this).checked !== value) {\n                getInput(this).checked = value;\n                setBooleanAttribute(this, 'checked', value);\n            }\n        },\n        get disabled () {\n            // AUI-4958 - this may be accessed by a jQuery event handler in response to\n            // a DOMNodeInserted event being fired. In this scenario, the `template`\n            // function has been called by skate, but the `created` callback has not.\n            return getInput(this).disabled;\n        },\n        set disabled (value) {\n            return setBooleanAttribute(this, 'disabled', value);\n        },\n        get form () {\n            return document.getElementById(this._formId);\n        },\n        set form (value) {\n            formAttributeHandler.fallback.call(this, this, { newValue: value || null });\n            return this.form;\n        },\n        get name () {\n            return getInput(this).name;\n        },\n        set name (value) {\n            this.setAttribute('name', value);\n            return value;\n        },\n        get value () {\n            return getInput(this).value;\n        },\n        set value (value) {  // Setting the value of an input to null sets it to empty string.\n            let newVal = value === null ? '' : value;\n            this.setAttribute('value', newVal);\n            return newVal;\n        },\n        get busy () {\n            return getInput(this).getAttribute('aria-busy') === 'true';\n        },\n        set busy (value) {\n            const input = getInput(this);\n            const spinner = getSpinner(this);\n\n            setBooleanAttribute(this, 'busy', value);\n\n            if (value) {\n                input.setAttribute('aria-busy', 'true');\n                input.indeterminate = true;\n                if (this.checked) {\n                    input.classList.add('indeterminate-checked');\n                    $(this.querySelector('.aui-toggle-tick')).append(spinner);\n                } else {\n                    $(this.querySelector('.aui-toggle-cross')).append(spinner);\n                }\n            } else {\n                input.classList.remove('indeterminate-checked');\n                input.indeterminate = false;\n                input.removeAttribute('aria-busy');\n                if (spinner.parentNode) {\n                    spinner.parentNode.removeChild(this._spinner);\n                }\n            }\n            setDisabledForLabels(this, !!value);\n            return value;\n        }\n    }\n});\n\nexport default ToggleEl;\n","import $ from './jquery';\nimport Alignment from './internal/alignment';\nimport amdify from './internal/amdify';\nimport attributes, {setBooleanAttribute} from './internal/attributes';\nimport enforce from './internal/enforcer';\nimport globalize from './internal/globalize';\nimport layer, {EVENT_PREFIX} from './layer';\nimport skate from './internal/skate';\nimport state from './internal/state';\nimport {doIfTrigger, forEachTrigger, getTrigger, setTrigger} from './trigger';\nimport {ifGone} from './internal/elements';\nimport getFocusManager from './focus-manager';\n\nconst DEFAULT_HOVEROUT_DELAY = 1000;\n\nfunction changeTrigger(element, newTrigger) {\n    doIfTrigger(element, function(oldTrigger) {\n        oldTrigger.setAttribute('aria-expanded', 'false');\n        newTrigger.setAttribute('aria-expanded', element.open);\n    });\n    setTrigger(element, newTrigger);\n}\n\nfunction enableAlignment (element, trigger) {\n    if (element._auiAlignment) {\n        element._auiAlignment.changeTarget(trigger);\n        element._auiAlignment.enable()\n    } else {\n        let alignmentOptions = {\n            overflowContainer: element.getAttribute('contained-by') === 'viewport' ? 'viewport' : 'window',\n            positionFixed: false,\n            eventsEnabled: true\n        };\n\n        alignmentOptions = {... alignmentOptions, ...{\n            onCreate: () => {\n                if (shouldFocus(element)) {\n                    getFocusManager().enter($(element), $(trigger));\n                }\n            },\n            onEvents: {\n                enabled: () => {\n                    if (shouldFocus(element)) {\n                        getFocusManager().enter($(element));\n                    }\n                },\n                disabled: () => {\n                    if (shouldFocus(element)) {\n                        getFocusManager().exit($(element));\n                    }\n                }\n            }\n        }};\n\n        element._auiAlignment = new Alignment(element, trigger, alignmentOptions);\n    }\n}\n\nfunction disableAlignment (element) {\n    if (element._auiAlignment) {\n        element._auiAlignment.disable();\n    }\n}\n\nfunction destroyAlignment (element) {\n    if (element._auiAlignment) {\n        element._auiAlignment.destroy();\n        delete element._auiAlignment;\n    }\n}\n\nfunction userInteractingWith(element) {\n    return state(element).get('mouse-inside') || element.contains(document.activeElement);\n}\n\nfunction showOnEnter(element, e) {\n    var newTrigger = e.currentTarget;\n    if (newTrigger) {\n        changeTrigger(element, newTrigger);\n        enableAlignment(element, newTrigger);\n    }\n\n    if (!element.open) {\n        element.open = true;\n    }\n\n    clearTimeout(element._closingTimeout);\n}\n\nfunction closeAfter (delay = 0) {\n    return function closing(element) {\n        if (!element.open || layer(element).isPersistent()) {\n            return;\n        }\n\n        clearTimeout(element._closingTimeout);\n        element._closingTimeout = setTimeout(function () {\n            if (!userInteractingWith(element)) {\n                element.open = false;\n            }\n            element._closingTimeout = null;\n        }, delay);\n    }\n}\n\nconst messageHandler = {\n    click(element, e) {\n        if (element.open && !layer(element).isPersistent()) {\n            element.open = false;\n        } else {\n            changeTrigger(element, e.currentTarget);\n            element.open = true;\n        }\n\n        clearTimeout(element._closingTimeout);\n    },\n\n    mouseenter: showOnEnter,\n    mouseleave: closeAfter(DEFAULT_HOVEROUT_DELAY),\n\n    focus: showOnEnter,\n    blur: closeAfter(0),\n};\n\nfunction handleMessage (element, message) {\n    var messageTypeMap = {\n        toggle: ['click'],\n        hover: ['mouseenter', 'mouseleave', 'focus', 'blur']\n    };\n\n    var messageList = messageTypeMap[element.respondsTo];\n    if (messageList && messageList.indexOf(message.type) > -1) {\n        messageHandler[message.type](element, message);\n    }\n}\n\nfunction onMouseEnter(e) {\n    var element = e.currentTarget;\n    state(element).set('mouse-inside', true);\n    element.message({\n        type: 'mouseenter'\n    });\n}\n\nfunction onMouseLeave(e) {\n    var element = e.currentTarget;\n    state(element).set('mouse-inside', false);\n    element.message({\n        type: 'mouseleave'\n    });\n}\n\nfunction onBlur(e) {\n    var element = e.currentTarget;\n    if (element.respondsTo === 'hover') {\n        closeAfter(DEFAULT_HOVEROUT_DELAY)(element);\n    }\n}\n\nfunction rebindMouseEvents(el) {\n    state(el).set('mouse-inside', undefined);\n    el.removeEventListener('mouseenter', onMouseEnter);\n    el.removeEventListener('mouseleave', onMouseLeave);\n    el.removeEventListener('blur', onBlur)\n\n    if (el.respondsTo === 'hover') {\n        state(el).set('mouse-inside', false);\n        el.addEventListener('mouseenter', onMouseEnter);\n        el.addEventListener('mouseleave', onMouseLeave);\n        el.addEventListener('blur', onBlur);\n    }\n}\nfunction namespaceEvent(eventName, elId) {\n    return `${eventName}.nested-layer-${elId}`\n}\n\nfunction setupNestedLayerHandlers(el) {\n    let $el = $(el);\n    const elId = el.id;\n    const noNestedTriggers = e => {\n        return $el.find(getTrigger(e.target)).length < 1;\n    };\n    // Temporary timeout variable to resolve AUI-5025 issue\n    // as described in further detail below.\n    const selectCloseTimeout = 150;\n\n    $(document)\n        .on(namespaceEvent('aui-layer-show', elId), e => {\n            if (noNestedTriggers(e)) {\n                return;\n            }\n            $el.attr('persistent', '');\n        })\n        .on(namespaceEvent('aui-layer-hide', elId), e => {\n            if (noNestedTriggers(e)) {\n                return;\n            }\n            $el.removeAttr('persistent');\n        })\n        .on(namespaceEvent('select2-opening', elId), () => {\n            $el.attr('persistent', '');\n        })\n        // Relates to solving AUI-5025\n        // Temporary solution to race condition with select2,\n        // where this runs before select2's dropdown is closed.\n        .on(namespaceEvent('select2-close', elId), () => {\n            setTimeout(() => {\n                $el.removeAttr('persistent');\n            }, selectCloseTimeout);\n        });\n}\n\nfunction teardownNestedLayerHandlers(el) {\n    const elId = el.id;\n    $(document)\n        .off(namespaceEvent('aui-layer-hide', elId))\n        .off(namespaceEvent('aui-layer-show', elId))\n        .off(namespaceEvent('select2-opening', elId))\n        .off(namespaceEvent('select2-close', elId));\n}\n\n/**\n * @param element the inline dialog to show\n * @returns {boolean} true if the show was successful, false if it was prevented.\n */\nfunction maybeShow(element) {\n    layer(element).show();\n    return layer(element).isVisible() === true;\n}\n\n/**\n * @param element the inline dialog to hide\n * @returns {boolean} true if the hide was successful, false if it was prevented.\n */\nfunction maybeHide(element) {\n    layer(element).hide();\n    return layer(element).isVisible() === false;\n}\n\nfunction shouldFocus(element) {\n    return element.respondsTo !== 'hover';\n}\n\n/**\n * Abstracted as skate fires custom attributes handlers before the component creation if they are pre-populated.\n *\n * @param element the inline dialog to initialise\n * @returns {undefined}\n */\n\nfunction maybeInitialise(element) {\n    // One to rule them all\n    if (element.__initialised) {\n        return;\n    }\n\n    layer(element);\n    $(element).on({\n        // fired only after the layer is shown\n        [`${EVENT_PREFIX}show`]: function() {\n            const el = this;\n            setupNestedLayerHandlers(el);\n            doIfTrigger(el, function (trigger) {\n                enableAlignment(el, trigger);\n                trigger.setAttribute('aria-expanded', 'true');\n            });\n        },\n        // fired only after the layer is hidden\n        [`${EVENT_PREFIX}hide`]: function() {\n            const el = this;\n            teardownNestedLayerHandlers(el.id);\n            // in case the element has been removed from DOM already\n            // disablingAlignment may fail if trigger is an anchor due to Popper's logic\n            // wrongly recognising it as ShadowRoot\n            if (el.ownerDocument.body.contains(el)) {\n                disableAlignment(el);\n            } else {\n                destroyAlignment(el);\n            }\n            doIfTrigger(el, function (trigger) {\n                trigger.setAttribute('aria-expanded', 'false');\n            });\n            setTrigger(el, null);\n        }\n    });\n\n    element.__initialised = true;\n}\n\nconst RESPONDS_TO_ATTRIBUTE_ENUM = {\n    attribute: 'responds-to',\n    values: ['toggle', 'hover'],\n    missingDefault: 'toggle',\n    invalidDefault: 'toggle'\n};\n\nconst InlineDialogEl = skate('aui-inline-dialog', {\n    prototype: {\n        /**\n         * Returns whether the inline dialog is open.\n         */\n        get open() {\n            return layer(this).isVisible();\n        },\n\n        /**\n         * Opens or closes the inline dialog, returning whether the dialog is\n         * open or closed as a result (since event handlers can prevent either\n         * action).\n         *\n         * You should check the value of open after setting this\n         * value since the before show/hide events may have prevented it.\n         */\n        set open(value) {\n            // a flag to help avoid things getting called a second time via the attribute mutation handler\n            this.__propUpdate = true;\n            if (value) {\n                maybeShow(this)\n            } else {\n                maybeHide(this);\n            }\n        },\n\n        get persistent() {\n            return this.hasAttribute('persistent');\n        },\n\n        set persistent(value) {\n            attributes.setBooleanAttribute(this, 'persistent', value);\n        },\n\n        get respondsTo() {\n            var attr = RESPONDS_TO_ATTRIBUTE_ENUM.attribute;\n            return attributes.computeEnumValue(RESPONDS_TO_ATTRIBUTE_ENUM, this.getAttribute(attr));\n        },\n\n        set respondsTo(value) {\n            const oldComputedValue = this.respondsTo;\n            attributes.setEnumAttribute(this, RESPONDS_TO_ATTRIBUTE_ENUM, value);\n            if (oldComputedValue !== this.respondsTo) {\n                rebindMouseEvents(this);\n            }\n        },\n\n        /**\n         * Handles the receiving of a message from another component.\n         *\n         * @param {Object} msg The message to act on.\n         *\n         * @returns {HTMLElement}\n         */\n        message: function (msg) {\n            handleMessage(this, msg);\n            return this;\n        }\n    },\n    attributes: {\n        open: function (element, change) {\n            maybeInitialise(element);\n\n            if (element.__propUpdate) {\n                // prevent property updates cascading in to sync or async attribute updates\n                delete element.__propUpdate;\n                return;\n            }\n            if (change.type === 'created') {\n                const success = maybeShow(element);\n                if (!success) {\n                    setBooleanAttribute(element, 'open', false);\n                }\n            }\n            if (change.type === 'removed') {\n                const success = maybeHide(element);\n                if (!success) {\n                    setBooleanAttribute(element, 'open', true);\n                }\n            }\n        },\n        'responds-to': function (element, change) {\n            const oldComputedValue = attributes.computeEnumValue(RESPONDS_TO_ATTRIBUTE_ENUM, change.oldValue);\n            const newComputedValue = attributes.computeEnumValue(RESPONDS_TO_ATTRIBUTE_ENUM, change.newValue);\n            if (oldComputedValue !== newComputedValue) {\n                rebindMouseEvents(element);\n            }\n        }\n    },\n\n    created: maybeInitialise,\n\n    attached: function (element) {\n        enforce(element).attributeExists('id');\n        element.setAttribute('tabindex', 0);\n        element.setAttribute('role', 'dialog');\n        doIfTrigger(element, function (trigger) {\n            trigger.setAttribute('aria-expanded', element.open);\n        });\n        forEachTrigger(element, function (trigger) {\n            trigger.setAttribute('aria-haspopup', 'true');\n        });\n        rebindMouseEvents(element);\n    },\n\n    detached: function (element) {\n        ifGone(element).then(() => {\n            destroyAlignment(element);\n            forEachTrigger(element, function (trigger) {\n                trigger.removeAttribute('aria-haspopup');\n                trigger.removeAttribute('aria-expanded');\n            })\n        });\n    },\n\n    template: function (element) {\n        $('<div class=\"aui-inline-dialog-contents\"></div>')\n            .append(element.childNodes)\n            .appendTo(element);\n    }\n});\n\namdify('aui/inline-dialog2', InlineDialogEl);\nglobalize('InlineDialog2', InlineDialogEl);\nexport default InlineDialogEl;\n","import { I18n } from './i18n';\nimport $ from './jquery';\nimport skate from './internal/skate';\nimport globalize from './internal/globalize';\nimport widget from './internal/widget';\n\n/**\n * Navigation (\".aui-nav\" elements).\n *\n * @param {(string|HtmlElement|jQuery)} selector - An expression\n *     representing a single .aui-nav element; you may also pass an expression\n *     for a descendent element, in which case the closest containing\n *     .aui-nav element is used.\n * @constructor\n */\nfunction Navigation (selector) {\n    this.$el = $(selector).closest('.aui-nav');\n\n    // If there are multiple objects, initialise them separately\n    if (this.$el.length > 1) {\n        return this.$el.map(function (idx, elm) {\n            return new Navigation(elm);\n        })[0];\n    }\n\n    // If already initialised, return existing object\n    if (this.$el.data('aui-navigation')) {\n        return this.$el.data('aui-navigation');\n    }\n\n    this.$el.data('aui-navigation', this);\n\n    this.$treeParent = this.$el.parent('li[aria-expanded]');\n    this.$subtreeToggleIcon = this.$treeParent\n        .children('.aui-nav-subtree-toggle')\n        .children('span.aui-icon');\n\n    // Add child-selected class to relevant attributes\n    this.$el.children('li:has(.aui-nav-selected)').addClass('aui-nav-child-selected');\n\n    // Auto-expand if child is selected\n    var $selected = this.$el.children('.aui-nav-selected');\n    $selected\n        .parents('.aui-nav > [aria-expanded=false]')\n        .add($selected.filter('[aria-expanded=false]'))\n        .each(function () {\n            var nav = navigationWidget($(this).children('.aui-nav'));\n            nav.expand();\n        });\n\n    // Toggle expand on click\n    var $togglers = this.$el.find('> li[aria-expanded] > .aui-nav-subtree-toggle');\n    $togglers.on('click', function () {\n        var nav = navigationWidget($(this).siblings('.aui-nav'));\n        nav.toggle();\n    });\n\n    // Make sure subtree togglers have proper a11y label\n    $togglers.each(function () {\n        var $parent = $(this).parent('li[aria-expanded]');\n        var $icon = $(this).find('.aui-icon');\n        var isListItemExpanded = $parent.attr('aria-expanded') === 'true';\n\n        $icon.text(\n            isListItemExpanded ?\n                I18n.getText('aui.words.collapse') :\n                I18n.getText('aui.words.expand')\n        );\n    })\n\n    return this;\n}\n\nNavigation.prototype.isNested = function () {\n    return this.$treeParent.length === 1;\n};\n\nNavigation.prototype.isCollapsed = function () {\n    return this.$treeParent.attr('aria-expanded') === 'false';\n};\n\nNavigation.prototype.expand = function () {\n    this.$treeParent.attr('aria-expanded', 'true');\n    this.$subtreeToggleIcon\n        .removeClass('aui-iconfont-collapsed')\n        .addClass('aui-iconfont-expanded')\n        .text(I18n.getText('aui.words.collapse'));\n    return this;\n};\n\nNavigation.prototype.collapse = function () {\n    this.$treeParent.attr('aria-expanded', 'false');\n    this.$subtreeToggleIcon\n        .removeClass('aui-iconfont-expanded')\n        .addClass('aui-iconfont-collapsed')\n        .text(I18n.getText('aui.words.expand'));\n    return this;\n};\n\nNavigation.prototype.toggle = function () {\n    if (this.isCollapsed()) {\n        this.expand();\n    } else {\n        this.collapse();\n    }\n    return this;\n};\n\nconst navigationWidget = widget('navigation', Navigation);\n\n// Initialise nav elements\nconst NavigationEl = skate('aui-nav', {\n    type: skate.type.CLASSNAME,\n    attached: function (element) {\n        new Navigation(element);\n    },\n    detached: function (element) {\n        $(element).removeData();\n    }\n});\n\nglobalize('navigation', navigationWidget);\n\nexport default navigationWidget;\nexport {\n    NavigationEl\n};\n","import $ from './jquery';\nimport { defaults, isNumber, isFinite, isNaN } from 'underscore';\nimport skate from './internal/skate';\nimport { recomputeStyle } from './internal/animation';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\n\nconst afterTransitionEvent = 'aui-progress-indicator-after-update';\nconst beforeTransitionEvent = 'aui-progress-indicator-before-update';\nconst transitionEnd = 'transitionend webkitTransitionEnd';\n\n\nfunction updateProgress($progressBar, $progressBarContainer, progressValue) {\n    recomputeStyle($progressBar);\n    $progressBar.css('width', progressValue * 100 + '%');\n    $progressBarContainer.attr('data-value', progressValue);\n}\n\n\nfunction updateProgressElement(element, value) {\n    if (typeof element === 'string') {\n        let el = document.getElementById(element);\n        if (el) {\n            element = el;\n        }\n    }\n    var $progressBarContainer = $(element).first();\n    var $progressBar = $progressBarContainer.children('.aui-progress-indicator-value');\n    var valueAttribute = $progressBarContainer.attr('data-value');\n    var isIndeterminate = !valueAttribute;\n    var currentProgress = parseFloat(valueAttribute) || 0;\n    var isProgressNotChanged = valueAttribute && currentProgress === value;\n\n    // AUI-4771 - check for mis-configured legacy progress bar HTML.\n    if (isProgressNotChanged) {\n        const currentDemonstratedValue = parseFloat($progressBar.get(0).style.width) || 0;\n        isProgressNotChanged = currentProgress === (currentDemonstratedValue * 100);\n    }\n\n    if (isProgressNotChanged) {\n        return;\n    }\n\n    //if the progress bar is indeterminate switch it.\n    if (isIndeterminate) {\n        $progressBar.css('width', 0);\n    }\n\n    transitionProgress($progressBar, $progressBarContainer, { currentProgress, value });\n\n    return $progressBarContainer;\n}\n\nfunction transitionProgress(progressBar, progressBarContainer, { currentProgress, value }) {\n    const $progressBar = $(progressBar);\n    const $progressBarContainer = $(progressBarContainer);\n\n    if (typeof value === 'number' && value <= 1 && value >= 0) {\n        $progressBarContainer.trigger(beforeTransitionEvent, [currentProgress, value]);\n\n        //trigger the event after transition end if supported, otherwise just trigger it\n        $progressBar.one(transitionEnd, function () {\n            $progressBarContainer.trigger(afterTransitionEvent, [currentProgress, value]);\n        });\n        updateProgress($progressBar, $progressBarContainer, value);\n    }\n}\n\nfunction setIndeterminateOnProgressElement(element) {\n    var $progressBarContainer = $(element).first();\n    var $progressBar = $progressBarContainer.children('.aui-progress-indicator-value');\n\n    $progressBarContainer.removeAttr('data-value');\n    recomputeStyle($progressBarContainer);\n    $progressBar.css('width', '');\n}\n\nconst DEFAULTS = {\n    indeterminate: false,\n    max: 1,\n    val: 0,\n};\n\nfunction validNumeric(val) {\n    return isNumber(val) && isFinite(val) && !isNaN(val);\n}\n\nfunction parseNumeric(val, defaultVal = 1) {\n    const num = parseFloat(val);\n    return validNumeric(num) ? num : Number(defaultVal);\n}\n\nfunction parseDecimal(num, precision = 1) {\n    return Number(parseFloat(num).toFixed(precision));\n}\n\nfunction safeValue(val, max) {\n    return Math.max(0, Math.min(val, max));\n}\n\nfunction safeMax(max) {\n    return max > 0 ? max : DEFAULTS.max;\n}\n\n/**\n * @param data the state\n * @returns {{max: number, val: number, valAsFraction: number, valAsPercent: number}}\n */\nfunction calc(data) {\n    const { val, max } = data;\n    const parsedMax = safeMax(max);\n    const parsedVal = safeValue(val, parsedMax);\n    const valAsFraction = parseDecimal(parsedVal / parsedMax, 6);\n    const valAsPercent = parseDecimal(valAsFraction * 100, 2);\n    return {max: parsedMax, val: parsedVal, valAsFraction, valAsPercent};\n}\n\nfunction refresh(el) {\n    const {val, valAsFraction, max} = calc(el._data);\n    const bar = el.querySelector('.aui-progress-indicator');\n    const oldVal = bar.getAttribute('data-value');\n\n    if (el.indeterminate) {\n        bar.removeAttribute('aria-valuenow');\n        setIndeterminateOnProgressElement(bar);\n    } else {\n        bar.setAttribute('aria-valuenow', val);\n        bar.setAttribute('aria-valuemax', max);\n        transitionProgress(bar.querySelector('.aui-progress-indicator-value'), bar, {\n            currentProgress: oldVal,\n            value: valAsFraction\n        });\n    }\n}\n\nfunction setValue(el, data) {\n    el._data.val = parseNumeric(data.newValue, data.oldValue || DEFAULTS.val);\n    refresh(el);\n}\n\nfunction setMax(el, data) {\n    el._data.max = parseNumeric(data.newValue, data.oldValue || DEFAULTS.max);\n    refresh(el);\n}\n\nconst ProgressBarEl = skate('aui-progressbar', {\n    template(el) {\n        // Ensure max is set before value upon element creation and before rendering.\n        // Why is this happening in 'template' and not 'created'? Because it gets called before 'created'!\n        el._data.max = parseNumeric(el.getAttribute('max'), DEFAULTS.max);\n        el._data.val = parseNumeric(el.getAttribute('value'), DEFAULTS.val);\n        el._data.indeterminate = el.hasAttribute('indeterminate');\n        const {val, max, valAsFraction, valAsPercent} = calc(el._data);\n\n        const legacyValue = el._data.indeterminate ? '' : `data-value=\"${valAsFraction}\"`;\n\n        el.innerHTML = `<div class=\"aui-progress-indicator\"\n         ${legacyValue}\n         role=\"progressbar\"\n         aria-valuemin=\"0\"\n         aria-valuenow=\"${val}\"\n         aria-valuemax=\"${max}\"\n         tabindex=\"0\"\n     >\n        <span class=\"aui-progress-indicator-value\" style=\"width: ${valAsPercent}%\"></span>\n    </div>`;\n    },\n\n    attached(el) {\n        refresh(el);\n    },\n\n    attributes: {\n        indeterminate: {\n            created: function(el) {\n                el.indeterminate = true;\n            },\n            removed: function(el) {\n                el.indeterminate = false;\n            }\n        },\n        value: {\n            value: DEFAULTS.val,\n            fallback: function (el, data) {\n                if (el._updating) {return false;}\n                setValue(el, data);\n            }\n        },\n        max: {\n            value: DEFAULTS.max,\n            fallback: function (el, data) {\n                if (el._updating) {return false;}\n                setMax(el, data);\n            }\n        },\n    },\n\n    prototype: {\n        get _data() {\n            return this.__data || (this._data = defaults({}, DEFAULTS));\n        },\n        set _data(d) {\n            return this.__data = d;\n        },\n        get indeterminate() {\n            return this._data.indeterminate;\n        },\n        set indeterminate(val) {\n            this._data.indeterminate = !!val;\n            refresh(this);\n        },\n        get value() {\n            const { val } = calc(this._data);\n            return val;\n        },\n        set value(num) {\n            if (!validNumeric(num)) {return false;}\n            const data = { newValue: parseDecimal(num, 6) };\n            this._updating = true;\n            // Reflect whatever value is set in the attributes.\n            this.setAttribute('value', data.newValue);\n            this._updating = false;\n            setValue(this, data);\n        },\n        get max() {\n            const { max } = calc(this._data);\n            return max;\n        },\n        set max(num) {\n            if (!validNumeric(num)) {return false;}\n            const data = { newValue: parseDecimal(num, 6) };\n            this._updating = true;\n            // Reflect whatever value is set in the attributes.\n            this.setAttribute('max', data.newValue);\n            this._updating = false;\n            setMax(this, data);\n        },\n    }\n});\n\nconst progressBars = {\n    update: deprecate.fn(updateProgressElement, 'AJS.progressBars.update', {\n        sinceVersion: '7.7.0',\n        removeInVersion: '10.0.0',\n        extraInfo: 'Use the <aui-progressbar> web component instead'\n    }),\n    setIndeterminate: deprecate.fn(setIndeterminateOnProgressElement, 'AJS.progressBars.setIndeterminate', {\n        sinceVersion: '7.7.0',\n        removeInVersion: '10.0.0',\n        extraInfo: 'Use the <aui-progressbar> web component instead'\n    })\n};\n\nglobalize('progressBars', progressBars);\n\nexport default progressBars;\nexport {\n    ProgressBarEl\n};\n","import $ from './jquery';\nimport '../../js-vendor/jquery/jquery.tablesorter';\nimport globalize from './internal/globalize';\n\nconst DEFAULT_SORT_OPTIONS = {\n    sortMultiSortKey: '',\n    headers: {},\n    debug: false,\n    tabIndex: false\n};\n\n/**\n * @param {jQuery} $table - element to be sortable\n * @param {Object} [extraOptions] - tablesorter.js options\n */\nfunction sortTable($table, extraOptions) {\n    let options = Object.assign({}, DEFAULT_SORT_OPTIONS, extraOptions);\n    $table.find('th').each(function (index, header) {\n        const $header = $(header);\n        options.headers[index] = {};\n        if ($header.hasClass('aui-table-column-unsortable')) {\n            options.headers[index].sorter = false;\n        } else {\n            $header.attr('tabindex', '0');\n            $header.wrapInner(\"<span class='aui-table-header-content'/>\");\n            if ($header.hasClass('aui-table-column-issue-key')) {\n                options.headers[index].sorter = 'issue-key';\n            }\n        }\n    });\n    return $table.tablesorter(options);\n}\n\nlet tablessortable = {\n    setup: function () {\n\n        /*\n        This parser is used for issue keys in the format <PROJECT_KEY>-<ISSUE_NUMBER>, where <PROJECT_KEY> is a maximum\n        10 character string with characters(A-Z). Assumes that issue number is no larger than 999,999. e.g. not more\n        than a million issues.\n        This pads the issue key to allow for proper string sorting so that the project key is always 10 characters and the\n        issue number is always 6 digits. e.g. it appends the project key '.' until it is 10 characters long and prepends 0\n        so that the issue number is 6 digits long. e.g. CONF-102 == CONF......000102. This is to allow proper string sorting.\n        */\n        $.tablesorter.addParser({\n            id: 'issue-key',\n            is: function () {\n                return false;\n            },\n\n            format: function (s) {\n                const keyComponents = s.split('-');\n                const projectKey = keyComponents[0];\n                const issueNumber = keyComponents[1];\n\n                const PROJECT_KEY_TEMPLATE = '..........';\n                const ISSUE_NUMBER_TEMPLATE = '000000';\n                let stringRepresentation = (projectKey + PROJECT_KEY_TEMPLATE).slice(0, PROJECT_KEY_TEMPLATE.length);\n                stringRepresentation += (ISSUE_NUMBER_TEMPLATE + issueNumber).slice(-ISSUE_NUMBER_TEMPLATE.length);\n\n                return stringRepresentation;\n            },\n\n            type: 'text'\n        });\n\n        /*\n        Text parser that uses the data-sort-value attribute for sorting if it is set and data-sort-type is not set\n        or set to 'text'.\n        */\n        $.tablesorter.addParser({\n            id: 'textSortAttributeParser',\n            is: function (nodeValue, table, node) {\n                return node.hasAttribute('data-sort-value') && (!node.hasAttribute('data-sort-type') || node.getAttribute('data-sort-type') === 'text');\n            },\n            format: function (nodeValue, table, node) {\n                return node.getAttribute('data-sort-value');\n            },\n            type: 'text'\n        });\n\n        /*\n        Numeric parser that uses the data-sort-value attribute for sorting if it is set and data-sort-type is set\n        to 'numeric'.\n        */\n        $.tablesorter.addParser({\n            id: 'numericSortAttributeParser',\n            is: function (nodeValue, table, node) {\n                return node.getAttribute('data-sort-type') === 'numeric' && node.hasAttribute('data-sort-value');\n            },\n            format: function (nodeValue, table, node) {\n                return node.getAttribute('data-sort-value');\n            },\n            type: 'numeric'\n        });\n\n        $('.aui-table-sortable').each(function () {\n            sortTable($(this));\n        });\n    },\n    /**\n     * @param {jQuery} $table - element to be sortable\n     * @param {Object} [options] - tablesorter.js options\n     */\n    setTableSortable: function ($table, options) {\n        return sortTable($table, options);\n    }\n};\n\n$(tablessortable.setup);\n\nglobalize('tablessortable', tablessortable);\n\nexport default tablessortable;\n","import $ from '../jquery';\nimport globalize from './globalize';\nimport uniqueId from '../unique-id';\n\n/**\n * Apply a unique ID to the element. Preserves ID if the element already has one.\n *\n * @param {Element} el Selector to find target element.\n * @param {string} [prefix] Optional. String to prepend to ID instead of default AUI prefix.\n *\n * @returns {undefined}\n */\nfunction addId (el, prefix = '') {\n    var element = $(el);\n    var addprefix = prefix || false;\n\n    element.each(function () {\n        var $el = $(this);\n\n        if (!$el.attr('id')) {\n            $el.attr('id', uniqueId(addprefix));\n        }\n    });\n}\n\nglobalize('_addID', addId);\n\nexport default addId;\n","import $ from './jquery';\nimport globalize from './internal/globalize';\n\n/**\n * Shortcut function to see if passed element is truncated/clipped, eg. with\n * text-overflow: ellipsis.\n *\n * @param {String | Element | jQuery} element The element to check.\n *\n * @returns {Boolean}\n */\nfunction isClipped (el) {\n    el = $(el);\n    return (el.prop('scrollWidth') > el.prop('clientWidth'));\n}\n\nglobalize('isClipped', isClipped);\n\nexport default isClipped;\n","import 'skatejs-template-html';\nimport * as logger from './internal/log';\nimport { debounce } from 'underscore';\nimport $ from './jquery';\nimport addId from './internal/add-id';\nimport globalize from './internal/globalize';\nimport isClipped from './is-clipped';\nimport skate from './internal/skate';\n\nvar template = window.skateTemplateHtml;\n\nvar STORAGE_PREFIX = '_internal-aui-tabs-';\nvar RESPONSIVE_OPT_IN_SELECTOR = '.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive=\"false\"]), aui-tabs[responsive]:not([responsive=\"false\"])';\n\nfunction getPaneIdFromTabLink (el) {\n    let $el = $(el);\n    let maybeId = String($el.attr('href') || '').trim();\n    return maybeId.indexOf('#') === 0 ? maybeId.substr(1) : null;\n}\n\n/**\n * Locate what is assumed to be a tab panel within the DOM, based on the link element passed in\n * @param {HTMLElement} el a tab link element with an href attribute pointing to a tab panel\n * @returns {HTMLElement|null} the element with matching ID if it exists, otherwise null\n */\nfunction getPaneFromTabLink (el) {\n    let maybeId = getPaneIdFromTabLink(el);\n    return maybeId ? document.getElementById(maybeId) : null;\n}\n\nfunction enhanceTabLink (link) {\n    var $thisLink = $(link);\n    var targetPane = getPaneFromTabLink($thisLink);\n\n    if (!getPaneIdFromTabLink(link)) {\n        logger.error('A tab link must use an anchor link (e.g., <a href=\"#a-valid-id\"></a>) to work correctly.', link);\n    }\n\n    if (targetPane) {\n        addId($thisLink);\n        $thisLink.attr('role', 'tab');\n        $(targetPane).attr('aria-labelledby', $thisLink.attr('id'));\n\n        if ($thisLink.parent().hasClass('active-tab')) {\n            $thisLink.attr('aria-selected', 'true');\n        } else {\n            $thisLink.attr('aria-selected', 'false');\n        }\n    } else {\n        logger.warn('A tab panel could not be found with the tab link\\'s configured href.' +\n            ' Check whether the tab link href is correct.', link);\n    }\n}\n\nvar ResponsiveAdapter = {\n    totalTabsWidth: function ($visibleTabs, $dropdown) {\n        var totalVisibleTabsWidth = this.totalVisibleTabWidth($visibleTabs);\n        var totalDropdownTabsWidth = 0;\n\n        $dropdown.find('li').each(function (index, tab) {\n            totalDropdownTabsWidth += parseInt(tab.getAttribute('data-aui-tab-width'));\n        });\n\n        return totalVisibleTabsWidth + totalDropdownTabsWidth;\n    },\n\n    totalVisibleTabWidth: function ($tabs) {\n        var totalWidth = 0;\n\n        $tabs.each(function (index, tab) {\n            totalWidth += $(tab).outerWidth();\n        });\n\n        return totalWidth;\n    },\n\n    removeResponsiveDropdown: function ($dropdown, $dropdownTriggerTab) {\n        $dropdown.remove();\n        $dropdownTriggerTab.remove();\n    },\n\n    createResponsiveDropdownTrigger: function ($tabsMenu, id) {\n        var triggerMarkup = `<li class=\"menu-item aui-tabs-responsive-trigger-item\">\n            <a\n                class=\"aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless\"\n                id=\"aui-tabs-responsive-trigger-${id}\"\n                aria-haspopup=\"true\"\n                aria-controls=\"aui-tabs-responsive-dropdown-${id}\"\n                href=\"#aui-tabs-responsive-dropdown-${id}\">...</a>\n            </li>`;\n        $tabsMenu.append(triggerMarkup);\n        return $tabsMenu.find('.aui-tabs-responsive-trigger-item');\n    },\n\n    createResponsiveDropdown: function ($tabsContainer, id) {\n        var dropdownMarkup = '<div class=\"aui-dropdown2 aui-tabs-responsive-dropdown\" id=\"aui-tabs-responsive-dropdown-' + id + '\">' +\n            '<ul>' +\n            '</ul>' +\n            '</div>';\n        $tabsContainer.append(dropdownMarkup);\n        var $dropdown = $tabsContainer.find('#aui-tabs-responsive-dropdown-' + id);\n        return $dropdown;\n    },\n\n    findNewVisibleTabs: function (tabs, parentWidth, dropdownTriggerTabWidth) {\n        function hasMoreSpace(currentTotalTabWidth, dropdownTriggerTabWidth, parentWidth) {\n            return currentTotalTabWidth + dropdownTriggerTabWidth <= parentWidth;\n        }\n\n        var currentTotalTabWidth = 0;\n\n        for (var i = 0; hasMoreSpace(currentTotalTabWidth, dropdownTriggerTabWidth, parentWidth) && i < tabs.length; i++) {\n            var $tab = $(tabs[i]);\n            var tabWidth = $tab.outerWidth(true);\n            currentTotalTabWidth += tabWidth;\n        }\n\n        // i should now be at the tab index after the last visible tab because of the loop so we minus 1 to get the new visible tabs\n        return tabs.slice(0, i - 1);\n    },\n\n    moveVisibleTabs: function (oldVisibleTabs, $tabsParent, $dropdownTriggerTab) {\n        var dropdownId = $dropdownTriggerTab.find('a').attr('aria-controls');\n        var $dropdown = $('#' + dropdownId);\n        var newVisibleTabs = this.findNewVisibleTabs(oldVisibleTabs, $tabsParent.outerWidth(), $dropdownTriggerTab.parent().outerWidth(true));\n        var lastTabIndex = newVisibleTabs.length - 1;\n\n        for (var j = oldVisibleTabs.length - 1; j >= lastTabIndex; j--) {\n            var $tab = $(oldVisibleTabs[j]);\n            this.moveTabToResponsiveDropdown($tab, $dropdown, $dropdownTriggerTab);\n        }\n\n        return $(newVisibleTabs);\n    },\n\n    moveTabToResponsiveDropdown: function ($tab, $dropdown, $dropdownTriggerTab) {\n        var $tabLink = $tab.find('a');\n\n        $tab.attr('data-aui-tab-width', $tab.outerWidth(true));\n        $tabLink.addClass('aui-dropdown2-radio aui-tabs-responsive-item');\n\n        if ($tab.hasClass('active-tab')) {\n            $tabLink.addClass('aui-dropdown2-checked');\n            $dropdownTriggerTab.addClass('active-tab');\n        }\n\n        $dropdown.find('ul').prepend($tab);\n    },\n\n    moveInvisibleTabs: function (tabsInDropdown, remainingSpace, $dropdownTriggerTab) {\n        function hasMoreSpace(remainingSpace) {\n            return remainingSpace > 0;\n        }\n\n        for (var i = 0; hasMoreSpace(remainingSpace) && i < tabsInDropdown.length; i++) {\n            var $tab = $(tabsInDropdown[i]);\n            var tabInDropdownWidth = parseInt($tab.attr('data-aui-tab-width'), 10);\n            var shouldMoveTabOut = tabInDropdownWidth < remainingSpace;\n\n            if (shouldMoveTabOut) {\n                this.moveTabOutOfDropdown($tab, $dropdownTriggerTab);\n            }\n\n            remainingSpace -= tabInDropdownWidth;\n        }\n    },\n\n    moveTabOutOfDropdown: function ($tab, $dropdownTriggerTab) {\n        var isTabInDropdownActive = $tab.find('a').hasClass('aui-dropdown2-checked');\n\n        if (isTabInDropdownActive){\n            $tab.addClass('active-tab');\n            $dropdownTriggerTab.removeClass('active-tab');\n        }\n\n        $tab.children('a').removeClass('aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked');\n        $dropdownTriggerTab.before($tab);\n    }\n};\n\n// this function is run by jquery .each() where 'this' is the current tabs container\nfunction calculateResponsiveTabs(tabsContainer, index) {\n    var $tabsContainer = $(tabsContainer);\n    var $tabsMenu = $tabsContainer.find('.tabs-menu').first();\n    var $visibleTabs = $tabsMenu.find('li:not(.aui-tabs-responsive-trigger-item)');\n    var $dropdownTriggerTab = $tabsMenu.find('.aui-tabs-responsive-trigger').parent();\n    var $dropdownTrigger = $dropdownTriggerTab.find('a');\n    var dropdownId =  $dropdownTrigger.attr('aria-controls');\n    var $dropdown = $(document.getElementById(dropdownId)).attr('aria-checked', false);\n    var isResponsive = $dropdown.length > 0;\n    var totalTabsWidth = ResponsiveAdapter.totalTabsWidth($visibleTabs, $dropdown);\n    var needsResponsive = totalTabsWidth > $tabsContainer.outerWidth();\n\n    if (!isResponsive && needsResponsive) {\n        $dropdownTriggerTab = ResponsiveAdapter.createResponsiveDropdownTrigger($tabsMenu, index);\n        $dropdown = ResponsiveAdapter.createResponsiveDropdown($tabsContainer, index);\n    }\n\n    // reset id's in case tabs have changed DOM order\n    $dropdownTrigger.attr('aria-controls', 'aui-tabs-responsive-dropdown-' + index);\n    $dropdownTrigger.attr('id', 'aui-tabs-responsive-trigger-' + index);\n    $dropdownTrigger.attr('href', '#aui-tabs-responsive-trigger-' + index);\n    $dropdown.attr('id', 'aui-tabs-responsive-dropdown-' + index);\n\n    if (needsResponsive) {\n        var $newVisibleTabs = ResponsiveAdapter.moveVisibleTabs($visibleTabs.toArray(), $tabsContainer, $dropdownTriggerTab);\n        var visibleTabWidth = ResponsiveAdapter.totalVisibleTabWidth($newVisibleTabs);\n        var remainingSpace = $tabsContainer.outerWidth() - visibleTabWidth  - $dropdownTriggerTab.outerWidth(true);\n        var hasSpace = remainingSpace > 0;\n\n        if (hasSpace) {\n            var $tabsInDropdown = $dropdown.find('li');\n            ResponsiveAdapter.moveInvisibleTabs($tabsInDropdown.toArray(), remainingSpace, $dropdownTriggerTab);\n        }\n\n        if (!$tabsContainer.hasClass('aui-tabs-disabled')) {\n            $dropdown.on('click', 'a', handleTabClick);\n        }\n\n        /* Workaround for bug in Edge where the dom is just not being re-rendered properly\n        It is only triggered for certain widths. Simply taking the element out of the DOM\n        and placing it back in causes the browser to re-render, hiding the issue.\n        added from AUI-4098 and to be revisited in AUI-4117*/\n        if ($tabsMenu.is(':visible')) {\n            $tabsMenu.hide().show();\n        }\n    }\n\n    if (isResponsive && !needsResponsive) {\n        $dropdown.find('li').each(function () {\n            ResponsiveAdapter.moveTabOutOfDropdown($(this), $dropdownTriggerTab);\n        });\n        ResponsiveAdapter.removeResponsiveDropdown($dropdown, $dropdownTriggerTab);\n    }\n}\n\nfunction switchToTab (tab) {\n    var $tab = $(tab);\n\n    // This probably isn't needed anymore. Remove once confirmed.\n    if ($tab.hasClass('aui-tabs-responsive-trigger')) {\n        return;\n    }\n\n    var pane = getPaneFromTabLink($tab);\n    if (!pane) {\n        logger.error('Cannot switch to tab panel because it does not exist.' +\n            ' Check whether the tab link href is correct.', tab);\n        return;\n    }\n\n    var $pane = $(pane);\n\n    $pane\n        .addClass('active-pane')\n        .siblings('.tabs-pane')\n        .removeClass('active-pane')\n\n    var $dropdownTriggerTab = $tab.parents('.aui-tabs').find('.aui-tabs-responsive-trigger-item a');\n    var dropdownId = $dropdownTriggerTab.attr('aria-controls');\n    var $dropdown = $(document.getElementById(dropdownId));\n\n    $dropdown.find('li a').attr('aria-checked', false).removeClass('checked aui-dropdown2-checked');\n    $dropdown.find('li').removeClass('active-tab');\n\n    $tab\n        .parent('li.menu-item')\n        .addClass('active-tab')\n        .siblings('.menu-item')\n        .removeClass('active-tab');\n\n    if ($tab.hasClass('aui-tabs-responsive-item')) {\n        var $visibleTabs = $pane.parent('.aui-tabs').find('li.menu-item:not(.aui-tabs-responsive-trigger-item)');\n\n        $visibleTabs.removeClass('active-tab');\n        $visibleTabs.find('a').removeClass('checked').removeAttr('aria-checked');\n    }\n\n    if ($tab.hasClass('aui-tabs-responsive-item')) {\n        $pane.parent('.aui-tabs').find('li.menu-item.aui-tabs-responsive-trigger-item').addClass('active-tab');\n    }\n\n    $tab.closest('.tabs-menu').find('a').attr('aria-selected', 'false');\n    $tab.attr('aria-selected', 'true');\n    $tab.trigger('tabSelect', {\n        tab: $tab,\n        pane: $pane\n    });\n}\n\nfunction isPersistentTabGroup($tabGroup) {\n    // Tab group persistent attribute exists and is not false\n    return $tabGroup.attr('data-aui-persist') !== undefined && $tabGroup.attr('data-aui-persist') !== 'false';\n}\n\nfunction createPersistentKey($tabGroup) {\n    var tabGroupId = $tabGroup.attr('id');\n    var value = $tabGroup.attr('data-aui-persist');\n\n    return STORAGE_PREFIX + (tabGroupId ? tabGroupId : '') + (value && value !== 'true' ? '-' + value : '');\n}\n\n/* eslint max-depth: 1 */\nfunction updateTabsFromLocalStorage($tabGroups) {\n    for (var i = 0, ii = $tabGroups.length; i < ii; i++) {\n        var $tabGroup = $tabGroups.eq(i);\n        var tabs = $tabGroups.get(i);\n\n        if (isPersistentTabGroup($tabGroup) && window.localStorage) {\n            var tabGroupId = $tabGroup.attr('id');\n\n            if (tabGroupId) {\n                var persistentTabId = window.localStorage.getItem(createPersistentKey($tabGroup));\n\n                if (persistentTabId) {\n                    var anchor = tabs.querySelector(`a[href$=\"${persistentTabId}\"]`);\n\n                    if (anchor) {\n                        switchToTab(anchor);\n                    }\n                }\n            } else {\n                logger.warn('A tab group must specify an id attribute if it specifies data-aui-persist.');\n            }\n        }\n    }\n}\n\nfunction updateLocalStorageEntry ($tab) {\n    var $tabGroup = $tab.closest('.aui-tabs');\n    var tabGroupId = $tabGroup.attr('id');\n\n    if (tabGroupId) {\n        var tabId = getPaneIdFromTabLink($tab);\n\n        if (tabId) {\n            window.localStorage.setItem(createPersistentKey($tabGroup),'#' + tabId);\n        }\n    } else {\n        logger.warn('A tab group must specify an id attribute if it specifies data-aui-persist.');\n    }\n}\n\nfunction handleTabClick (e) {\n    tabs.change($(e.target).closest('a'));\n\n    if (e) {\n        e.preventDefault();\n    }\n}\n\nfunction responsiveResizeHandler (tabs) {\n    tabs.forEach(function (tab, index) {\n        calculateResponsiveTabs(tab, index);\n    });\n}\n\n\n// Initialisation\n// --------------\n\nfunction getTabs () {\n    return $('.aui-tabs:not(.aui-tabs-disabled)');\n}\n\nfunction getResponsiveTabs () {\n    return $(RESPONSIVE_OPT_IN_SELECTOR).toArray();\n}\n\nfunction initWindow () {\n    const handler = debounce(responsiveResizeHandler, 200);\n    handler(getResponsiveTabs());\n    $(window).on('resize', () => handler(getResponsiveTabs()));\n}\n\nfunction initTab (tab) {\n    var $tab = $(tab);\n\n    tab.setAttribute('role', 'application');\n\n    if (!$tab.data('aui-tab-events-bound')) {\n        var $tabMenu = $tab.children('ul.tabs-menu');\n\n        // ARIA setup\n        $tabMenu.attr('role', 'tablist');\n\n        // ignore the LIs so tab count is announced correctly\n        $tabMenu.children('li').attr('role', 'presentation');\n        $tabMenu.find('> .menu-item a').each(function () {\n            enhanceTabLink(this);\n        });\n\n        // Set up click event for tabs\n        $tabMenu.on('click', 'a', handleTabClick);\n        $tab.data('aui-tab-events-bound', true);\n\n        initPanes(tab);\n    }\n}\n\nfunction initTabs () {\n    var tabs = getTabs();\n\n    tabs.each(function () {\n        initTab(this);\n    });\n\n    updateTabsFromLocalStorage(tabs);\n}\n\nfunction initPane (pane) {\n    pane.setAttribute('role', 'tabpanel');\n}\n\nfunction initPanes (tab) {\n    [].slice.call(tab.querySelectorAll('.tabs-pane')).forEach(initPane);\n}\n\nfunction initVerticalTabs () {\n    // Vertical tab truncation setup (adds title if clipped)\n    $('.aui-tabs.vertical-tabs').find('a').each(function () {\n        var thisTab = $(this);\n\n        // don't override existing titles\n        if (!thisTab.attr('title')) {\n            // if text has been truncated, add title\n            if (isClipped(thisTab)) {\n                thisTab.attr('title', thisTab.text());\n            }\n        }\n    });\n}\n\nvar tabs = {\n    setup: function () {\n        initWindow();\n        initTabs();\n        initVerticalTabs();\n    },\n\n    change: function (a) {\n        var $a = $(a);\n        var $tabGroup = $a.closest('.aui-tabs');\n\n        switchToTab($a);\n\n        if (isPersistentTabGroup($tabGroup) && window.localStorage) {\n            updateLocalStorageEntry($a);\n        }\n    }\n};\n\n$(tabs.setup);\n\n\n// Web Components\n// --------------\n\nfunction findComponent (element) {\n    return $(element).closest('aui-tabs').get(0);\n}\n\nfunction findPanes (tabs) {\n    return tabs.querySelectorAll('aui-tabs-pane');\n}\n\nfunction findTabs (tabs) {\n    return tabs.querySelectorAll('li[is=aui-tabs-tab]');\n}\n\nconst TabContainerEl = skate('aui-tabs', {\n    created: function (element) {\n        $(element).addClass('aui-tabs horizontal-tabs');\n\n        // We must initialise here so that the old code still works since\n        // the lifecycle of the sub-components setup the markup so that it\n        // can be processed by the old logic.\n        skate.init(element);\n\n        // Use the old logic to initialise the tabs.\n        initTab(element);\n    },\n    template: template(\n        '<ul class=\"tabs-menu\">',\n        '<content select=\"li[is=aui-tabs-tab]\"></content>',\n        '</ul>',\n        '<content select=\"aui-tabs-pane\"></content>'\n    ),\n    prototype: {\n        select: function (element) {\n            var index = $(findPanes(this)).index(element);\n\n            if (index > -1) {\n                tabs.change(findTabs(this)[index].children[0]);\n            }\n\n            return this;\n        }\n    }\n});\n\nconst TabItemEl = skate('aui-tabs-tab', {\n    extends: 'li',\n    created: function (element) {\n        $(element).addClass('menu-item');\n    },\n    template: template(\n        '<a href=\"#\">',\n        '<strong>',\n        '<content></content>',\n        '</strong>',\n        '</a>'\n    )\n});\n\nconst TabPaneEl = skate('aui-tabs-pane', {\n    attached: function (element) {\n        var $component = $(findComponent(element));\n        var $element = $(element);\n        var index = $component.find('aui-tabs-pane').index($element);\n        var tab = new TabItemEl();\n        var $tab = $(tab);\n\n        $element.addClass('tabs-pane');\n        tab.firstChild.setAttribute('href', '#' + element.id);\n        template.wrap(tab).textContent = $element.attr('title');\n\n        if (index === 0) {\n            $element.addClass('active-pane');\n        }\n\n        if ($element.hasClass('active-pane')) {\n            $tab.addClass('active-tab');\n        }\n\n        $element.siblings('ul').append(tab);\n    },\n    template: template(\n        '<content></content>'\n    )\n});\n\nglobalize('tabs', tabs);\n\nexport default tabs;\nexport {\n    TabContainerEl,\n    TabPaneEl,\n    TabItemEl\n};\n","import $ from './jquery';\nimport amdify from './internal/amdify';\nimport skate from './internal/skate';\nimport './spinner'\nimport {getMessageLogger} from './internal/deprecation'\n\nconst CLASS_NOTIFICATION_INITIALISED = '_aui-form-notification-initialised';\n\nconst ATTRIBUTE_NOTIFICATION_PREFIX = 'data-aui-notification-';\nconst ATTRIBUTE_NOTIFICATION_WAIT = ATTRIBUTE_NOTIFICATION_PREFIX + 'wait';\nconst ATTRIBUTE_NOTIFICATION_INFO = ATTRIBUTE_NOTIFICATION_PREFIX + 'info';\nconst ATTRIBUTE_NOTIFICATION_ERROR = ATTRIBUTE_NOTIFICATION_PREFIX + 'error';\nconst ATTRIBUTE_NOTIFICATION_SUCCESS = ATTRIBUTE_NOTIFICATION_PREFIX + 'success';\n\nconst NOTIFICATION_PRIORITY = [\n    ATTRIBUTE_NOTIFICATION_ERROR,\n    ATTRIBUTE_NOTIFICATION_SUCCESS,\n    ATTRIBUTE_NOTIFICATION_WAIT,\n    ATTRIBUTE_NOTIFICATION_INFO\n];\n\nfunction initialiseNotification($field) {\n    if (!isFieldInitialised($field)) {\n        prepareFieldMarkup($field);\n        synchroniseNotificationDisplay($field);\n    }\n}\n\nfunction isFieldInitialised($field) {\n    return $field.hasClass(CLASS_NOTIFICATION_INITIALISED);\n}\n\nfunction prepareFieldMarkup($field) {\n    $field.addClass(CLASS_NOTIFICATION_INITIALISED);\n    appendDescription($field);\n}\n\nfunction appendDescription($field, message) {\n    message = message ? message : getNotificationMessage($field);\n    if (getFieldNotificationType($field) === ATTRIBUTE_NOTIFICATION_INFO) {\n        $field.after(descriptionTemplate(message))\n    }\n}\n\nfunction getNotificationMessage($field) {\n    var notificationType = getFieldNotificationType($field);\n    var message = notificationType ? $field.attr(notificationType) : '';\n    return message === '' ? message : jsonToArray(message);\n}\n\nfunction jsonToArray(jsonOrString) {\n    var jsonArray;\n    try {\n        jsonArray = JSON.parse(jsonOrString);\n    } catch (exception) {\n        jsonArray = [jsonOrString];\n    }\n    return jsonArray;\n}\n\nfunction getFieldNotificationType($field) {\n    var fieldNotificationType;\n    NOTIFICATION_PRIORITY.some(function (prioritisedNotification) {\n        if ($field.is('[' + prioritisedNotification + ']')) {\n            fieldNotificationType = prioritisedNotification;\n            return true;\n        }\n    });\n\n    return fieldNotificationType;\n}\n\nfunction synchroniseNotificationDisplay(field) {\n    const $field = $(field);\n\n    if (!isFieldInitialised($field)) {\n        return;\n    }\n    const type = getFieldNotificationType($field);\n    const showSpinner = type === ATTRIBUTE_NOTIFICATION_WAIT;\n\n    setFieldSpinner($field, showSpinner);\n\n    const message = getNotificationMessage($field);\n    if (message && type === ATTRIBUTE_NOTIFICATION_ERROR) {\n        appendErrorMessages($field, message);\n        return;\n    }\n\n    // the first call of this method is executed on init with jQuery wrapped object\n    // subsequent ones are the ones we care about and those are executed with DOM objects\n    if (!isJqueryObject(field) && !field.hasAttribute(ATTRIBUTE_NOTIFICATION_ERROR)) {\n        $field.parent().find('.error').remove();\n    }\n}\n\nfunction isJqueryObject(el) {\n    return el.constructor.prototype.hasOwnProperty('jquery');\n}\n\nfunction errorMessageTemplate(messages) {\n    let list = messages\n        .map(message => `<li><span class=\"aui-icon aui-icon-small aui-iconfont-error aui-icon-notification\">${message}</span>${message}</li>`)\n        .join('');\n    return `<div class=\"error\"><ul>${list}</ul></div>`;\n}\n\nfunction descriptionTemplate(messages) {\n    if (messages.length > 1) {\n        let list = messages\n            .map(message => `<li>${message}</li>`)\n            .join('');\n        return `<div class=\"description\"><ul>${list}</ul></div>`;\n    }\n    return `<div class=\"description\">${messages}</div>`;\n}\n\nfunction appendErrorMessages($field, messages) {\n    let previousErrors = getMessageContainer($field, 'error');\n    if (previousErrors.length > 0) {\n        previousErrors.remove();\n    }\n    $field.after(errorMessageTemplate(messages));\n}\n\nfunction getMessageContainer($field, type) {\n    return $field.parent().find(`.${type}`);\n}\n\nfunction isSpinnerForFieldAlreadyExisting($field) {\n    return $field.next('aui-spinner').length > 0;\n}\n\nfunction setFieldSpinner($field, isSpinnerVisible) {\n    if (isSpinnerVisible && !isSpinnerForFieldAlreadyExisting($field)) {\n        $field.after('<aui-spinner class=\"form-notification-spinner\" size=\"small\"></aui-spinner>');\n    } else {\n        $field.parent().find('aui-spinner').remove();\n    }\n}\n\nconst deprecationLogger = getMessageLogger('data-aui-notification-field attribute', {\n    deprecationType: 'ATTRIBUTE',\n    alternativeName: 'HTML markup'\n});\n\nskate('data-aui-notification-field', {\n    attached: function (element) {\n        deprecationLogger();\n        initialiseNotification($(element));\n    },\n    attributes: (function () {\n        const attrs = {};\n        NOTIFICATION_PRIORITY.forEach(function (type) {\n            attrs[type] = synchroniseNotificationDisplay;\n        });\n        return attrs;\n    }()),\n    type: skate.type.ATTRIBUTE\n});\n\namdify('aui/form-notification');\n\nexport {\n    getMessageContainer,\n    appendErrorMessages,\n    appendDescription,\n    errorMessageTemplate,\n    setFieldSpinner\n}\n","import $ from '../jquery';\nimport * as logger from '../internal/log';\nimport amdify from '../internal/amdify';\n\nvar ATTRIBUTE_RESERVED_ARGUMENTS = ['displayfield', 'watchfield', 'when', 'novalidate', 'state'];\nvar validators = [];\n\nfunction getReservedArgument (validatorArguments) {\n    var reservedArgument = false;\n\n    validatorArguments.some(function (arg) {\n        var isReserved = $.inArray(arg, ATTRIBUTE_RESERVED_ARGUMENTS) !== -1;\n\n        if (isReserved) {\n            reservedArgument = arg;\n        }\n\n        return isReserved;\n    });\n\n    return reservedArgument;\n}\n\n/**\n * Register a validator that can be used to validate fields. The main entry point for validator plugins.\n * @param trigger - when to run the validator. Can be an array of arguments, or a selector\n * @param validatorFunction - the function that will be called on the field to determine validation. Receives\n *      field - the field that is being validated\n *      args - the arguments that have been specified in HTML markup.\n */\nfunction registerValidator (trigger, validatorFunction) {\n    var triggerSelector;\n\n    if (typeof trigger === 'string') {\n        triggerSelector = trigger;\n    } else {\n        var reservedArgument = getReservedArgument(trigger);\n\n        if (reservedArgument) {\n            logger.warn('Validators cannot be registered with the argument \"' + reservedArgument + '\", as it is a reserved argument.');\n            return false;\n        }\n\n        triggerSelector = '[data-aui-validation-' + trigger.join('],[data-aui-validation-') + ']';\n    }\n\n    var validator = {\n        validatorFunction: validatorFunction,\n        validatorTrigger: triggerSelector\n    };\n\n    validators.push(validator);\n\n    return validator;\n}\n\nvar validatorRegister = {\n    register: registerValidator,\n    validators: function () {\n        return validators;\n    }\n};\n\namdify('aui/form-validation/validator-register', validatorRegister);\n\nexport default validatorRegister;\n","import $ from '../jquery';\nimport amdify from '../internal/amdify';\nimport format from '../format'; // eslint-disable-line no-unused-vars\nimport { I18n } from '../i18n';\nimport validatorRegister from './validator-register';\n\n//Input length\nfunction minMaxLength(field) {\n    var fieldValueLength = field.el.value.length;\n    let fieldIsEmpty = fieldValueLength === 0;\n    var minlength = parseInt(field.args('minlength'), 10);\n    var maxlength = parseInt(field.args('maxlength'), 10);\n\n    if (minlength && maxlength && minlength === maxlength && (!fieldIsEmpty && fieldValueLength !== minlength)) {\n        const exactlengthMessage = makeMessage('exactlength', field.args, [minlength]);\n        field.invalidate(exactlengthMessage);\n    } else if (minlength && (fieldValueLength < minlength && !fieldIsEmpty)) {\n        const minlengthMessage = makeMessage('minlength', field.args);\n        field.invalidate(minlengthMessage);\n    } else if (maxlength && (fieldValueLength > maxlength)) {\n        const maxlengthMessage = makeMessage('maxlength', field.args);\n        field.invalidate(maxlengthMessage);\n    } else {\n        field.validate();\n    }\n}\nvalidatorRegister.register(['maxlength', 'minlength'], minMaxLength); //AUI-prefixed attribute is deprecated as of 5.9.0\nvalidatorRegister.register('[maxlength],[minlength]', minMaxLength);\n\n//Field matching\nvalidatorRegister.register(['matchingfield'], function (field) {\n    var thisFieldValue = field.el.value;\n    var matchingField = document.getElementById(field.args('matchingfield'));\n    var matchingFieldValue = matchingField.value;\n\n    var matchingFieldMessage = makeMessage('matchingfield', field.args, [thisFieldValue, matchingFieldValue]);\n\n    var shouldHidePasswords = isPasswordField(field.el) || isPasswordField(matchingField);\n    if (shouldHidePasswords) {\n        matchingFieldMessage = makeMessage('matchingfield-novalue', field.args);\n    }\n\n    if (!thisFieldValue || !matchingFieldValue){\n        field.validate();\n    } else if (matchingFieldValue !== thisFieldValue) {\n        field.invalidate(matchingFieldMessage);\n    } else {\n        field.validate();\n    }\n});\n\nfunction isPasswordField(field) {\n    return field.getAttribute('type') === 'password';\n}\n\n//Banned words\nvalidatorRegister.register(['doesnotcontain'], function (field) {\n    var doesNotContainMessage = makeMessage('doesnotcontain', field.args);\n\n    if (field.el.value.indexOf(field.args('doesnotcontain')) === -1) {\n        field.validate();\n    } else {\n        field.invalidate(doesNotContainMessage);\n    }\n});\n\n//Matches regex\n\nfunction matchesRegex(val, regex){\n    var matches = val.match(regex);\n    if (!matches) {\n        return false;\n    }\n    var isExactMatch = (val === matches[0]);\n    return isExactMatch;\n}\n\nfunction pattern(field) {\n    var patternMessage = makeMessage('pattern', field.args);\n\n    if (matchesRegex(field.el.value, new RegExp(field.args('pattern')))) {\n        field.validate();\n    } else {\n        field.invalidate(patternMessage);\n    }\n}\n\nvalidatorRegister.register(['pattern'], pattern); //AUI-prefixed attribute is deprecated as of 5.9.0\nvalidatorRegister.register('[pattern]', pattern);\n\n//Native Required\nfunction required(field) {\n    var requiredMessage = makeMessage('required', field.args);\n    if (field.el.value) {\n        field.validate();\n    } else {\n        field.invalidate(requiredMessage);\n    }\n}\nvalidatorRegister.register(['required'], required); //AUI-prefixed attribute is deprecated as of 5.9.0\nvalidatorRegister.register('[required]', required);\n\n//Field value range (between min and max)\n\nfunction minOrMax(field) {\n    var validNumberMessage = makeMessage('validnumber', field.args);\n\n    var fieldValue = parseInt(field.el.value, 10);\n    if (isNaN(fieldValue)) {\n        field.invalidate(validNumberMessage);\n        return;\n    }\n\n    var minValue = field.args('min');\n    var maxValue = field.args('max');\n\n    if (minValue && (fieldValue < parseInt(minValue, 10))) {\n        field.invalidate(makeMessage('min', field.args));\n    } else if (maxValue && (fieldValue > parseInt(maxValue, 10))){\n        field.invalidate(makeMessage('max', field.args));\n    } else {\n        field.validate();\n    }\n}\nvalidatorRegister.register(['min', 'max'], minOrMax); //AUI-prefixed attribute is deprecated as of 5.9.0\nvalidatorRegister.register('[min],[max]', minOrMax);\n\n//Date format\nvalidatorRegister.register(['dateformat'], function (field) {\n    var dateFormatSymbolic = field.args('dateformat');\n    var dateFormatMessage = makeMessage('dateformat', field.args);\n\n    var symbolRegexMap = {\n        'Y': '[0-9]{4}',\n        'y': '[0-9]{2}',\n        'm': '(0?[1-9]|10|11|12)',\n        'M': '[Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec]',\n        'D': '[Mon|Tue|Wed|Thu|Fri|Sat|Sun]',\n        'd': '([0-2]?[1-9]|10|20|30|31)'\n    };\n\n    var dateFormatSymbolArray = dateFormatSymbolic.split('');\n    var dateFormatRegexString = '';\n\n    dateFormatSymbolArray.forEach(function (dateSymbol) {\n        var isRecognisedSymbol = symbolRegexMap.hasOwnProperty(dateSymbol);\n        if (isRecognisedSymbol) {\n            dateFormatRegexString += symbolRegexMap[dateSymbol];\n        } else {\n            dateFormatRegexString += dateSymbol;\n        }\n    });\n\n    var dateFormatRegex = new RegExp(dateFormatRegexString + '$', 'i');\n    var isValidDate = matchesRegex(field.el.value, dateFormatRegex);\n\n    if (isValidDate) {\n        field.validate();\n    } else {\n        field.invalidate(dateFormatMessage);\n    }\n});\n\n//Checkbox count\nvalidatorRegister.register(['minchecked', 'maxchecked'], function (field) {\n    var amountChecked = $(field.el).find(':checked').length;\n    var aboveMin = !field.args('minchecked') || (amountChecked >= field.args('minchecked'));\n    var belowMax = !field.args('maxchecked') || (amountChecked <= field.args('maxchecked'));\n\n    var belowMinMessage = makeMessage('minchecked', field.args);\n    var aboveMaxMessage = makeMessage('maxchecked', field.args);\n\n    if (aboveMin && belowMax) {\n        field.validate();\n    } else if (!aboveMin) {\n        field.invalidate(belowMinMessage);\n    } else if (!belowMax) {\n        field.invalidate(aboveMaxMessage);\n    }\n});\n\n/*\n     Retrieves a message for a plugin validator through the data attributes or the default (which is in the i18n file)\n */\nfunction makeMessage(key, accessorFunction, customTokens) {\n    var inFlatpackMode = I18n.keys !== undefined;\n    var defaultMessage;\n    if (inFlatpackMode) {\n        defaultMessage = I18n.keys['aui.validation.message.' + key];\n    } else {\n        defaultMessage = pluginI18nMessages[key];\n    }\n\n    var messageTokens = customTokens;\n    if (!customTokens) {\n        messageTokens = [accessorFunction(key)];\n    }\n\n    var customMessageUnformatted = accessorFunction(key + '-msg');\n    var formattingArguments;\n\n    if (customMessageUnformatted) {\n        formattingArguments = [customMessageUnformatted].concat(messageTokens);\n    } else {\n        formattingArguments = [defaultMessage].concat(messageTokens);\n    }\n\n    return AJS.format.apply(null, formattingArguments);\n}\n\n/*\n The value I18n.getText('aui.validation.message...') (defaultMessage) cannot be refactored as it\n must appear verbatim for the plugin I18n transformation to pick it up\n */\nvar pluginI18nMessages = {\n    minlength: I18n.getText('aui.validation.message.minlength'),\n    maxlength: I18n.getText('aui.validation.message.maxlength'),\n    exactlength: I18n.getText('aui.validation.message.exactlength'),\n    matchingfield: I18n.getText('aui.validation.message.matchingfield'),\n    'matchingfield-novalue': I18n.getText('aui.validation.message.matchingfield-novalue'),\n    doesnotcontain: I18n.getText('aui.validation.message.doesnotcontain'),\n    pattern: I18n.getText('aui.validation.message.pattern'),\n    required: I18n.getText('aui.validation.message.required'),\n    validnumber: I18n.getText('aui.validation.message.validnumber'),\n    min: I18n.getText('aui.validation.message.min'),\n    max: I18n.getText('aui.validation.message.max'),\n    dateformat: I18n.getText('aui.validation.message.dateformat'),\n    minchecked: I18n.getText('aui.validation.message.minchecked'),\n    maxchecked: I18n.getText('aui.validation.message.maxchecked')\n};\n\namdify('aui/form-validation/basic-validators');\n","import $ from './jquery';\nimport './form-notification';\nimport {appendDescription, appendErrorMessages, getMessageContainer, setFieldSpinner} from './form-notification';\nimport './form-validation/basic-validators';\nimport amdify from './internal/amdify';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\nimport skate from './internal/skate';\nimport validatorRegister from './form-validation/validator-register';\n\n//Attributes\nconst ATTRIBUTE_VALIDATION_OPTION_PREFIX = 'aui-validation-';\nconst ATTRIBUTE_NOTIFICATION_PREFIX = 'data-aui-notification-';\n\nconst ATTRIBUTE_FIELD_STATE = 'aui-validation-state';\nconst INVALID = 'invalid';\nconst VALID = 'valid';\nconst VALIDATING = 'validating';\nconst UNVALIDATED = 'unvalidated';\n\nconst ATTRIBUTE_VALIDATION_FIELD_COMPONENT = 'data-aui-validation-field';\n\n//Classes\nconst CLASS_VALIDATION_INITIALISED = '_aui-form-validation-initialised';\n\n//Events\nconst EVENT_FIELD_STATE_CHANGED = '_aui-internal-field-state-changed';\n\nfunction isFieldInitialised($field) {\n    return $field.hasClass(CLASS_VALIDATION_INITIALISED);\n}\n\nfunction initValidation($field) {\n    if (!isFieldInitialised($field)) {\n        prepareFieldMarkup($field);\n        bindFieldEvents($field);\n        changeFieldState($field, UNVALIDATED);\n    }\n}\n\nfunction prepareFieldMarkup($field){\n    $field.addClass(CLASS_VALIDATION_INITIALISED);\n    appendDescription($field);\n}\n\nfunction bindFieldEvents($field) {\n    bindStopTypingEvent($field);\n    bindValidationEvent($field);\n}\n\nfunction bindStopTypingEvent($field){\n    var keyUpTimer;\n\n    var triggerStopTypingEvent = function () {\n        $field.trigger('aui-stop-typing');\n    };\n\n    $field.on('keyup', function () {\n        clearTimeout(keyUpTimer);\n        keyUpTimer = setTimeout(triggerStopTypingEvent, 1500);\n    });\n}\n\nfunction bindValidationEvent($field) {\n    var validateWhen = getValidationOption($field, 'when');\n    var watchedFieldID = getValidationOption($field, 'watchfield');\n\n    var elementsToWatch = watchedFieldID ? $field.add('#' + watchedFieldID) : $field;\n\n    elementsToWatch.on(validateWhen, function startValidation () {\n        validationTriggeredHandler($field);\n    });\n}\n\nfunction validationTriggeredHandler($field) {\n    var noValidate = getValidationOption($field, 'novalidate');\n\n    if (noValidate) {\n        changeFieldState($field, VALID);\n        return;\n    }\n\n    return startValidating($field);\n}\n\nfunction getValidationOption($field, option) {\n    var defaults = {\n        'when': 'change'\n    };\n    var optionValue = $field.attr('data-' + ATTRIBUTE_VALIDATION_OPTION_PREFIX + option);\n    if (!optionValue) {\n        optionValue = defaults[option];\n    }\n\n    return optionValue;\n}\n\nfunction startValidating($field) {\n    clearFieldMessages($field);\n\n    var validatorsToRun = getActivatedValidators($field);\n\n    changeFieldState($field, VALIDATING);\n    var deferreds = runValidatorsAndGetDeferred($field, validatorsToRun);\n    var fieldValidators = $.when.apply($, deferreds);\n    fieldValidators.done(function () {\n        changeFieldState($field, VALID);\n    });\n    return fieldValidators;\n}\n\nfunction clearFieldMessages($field) {\n    setFieldNotification(getDisplayField($field), 'none');\n}\n\nfunction getValidators() {\n    return validatorRegister.validators();\n}\n\nfunction getActivatedValidators($field) {\n    var callList = [];\n    getValidators().forEach(function (validator, index) {\n        var validatorTrigger = validator.validatorTrigger;\n        var runThisValidator = $field.is(validatorTrigger);\n        if (runThisValidator) {\n            callList.push(index);\n        }\n    });\n\n    return callList;\n}\n\nfunction runValidatorsAndGetDeferred($field, validatorsToRun) {\n    var allDeferreds = [];\n\n    validatorsToRun.forEach(function (validatorIndex) {\n        var validatorFunction = getValidators()[validatorIndex].validatorFunction;\n        var deferred = new $.Deferred();\n        var validatorContext = createValidatorContext($field, deferred);\n        validatorFunction(validatorContext);\n\n        allDeferreds.push(deferred);\n    });\n\n    return allDeferreds;\n}\n\nfunction createValidatorContext($field, validatorDeferred) {\n    var context = {\n        validate: function () {\n            validatorDeferred.resolve();\n        },\n        invalidate: function (message) {\n            changeFieldState($field, INVALID, message);\n            validatorDeferred.reject();\n        },\n        args: createArgumentAccessorFunction($field),\n        el: $field[0],\n        $el: $field\n    };\n\n    deprecate.prop(context, '$el', {\n        sinceVersion: '5.9.0',\n        removeInVersion: '10.0.0',\n        alternativeName: 'el',\n        extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-3263.'\n    });\n\n    return context;\n}\n\nfunction createArgumentAccessorFunction($field) {\n    return function (arg) {\n        return $field.attr('data-' + ATTRIBUTE_VALIDATION_OPTION_PREFIX + arg) || $field.attr(arg);\n    };\n}\n\nfunction changeFieldState($field, state, message) {\n    $field.attr('data-' + ATTRIBUTE_FIELD_STATE, state);\n\n    if (state === UNVALIDATED) {\n        return;\n    }\n\n    $field.trigger($.Event(EVENT_FIELD_STATE_CHANGED));\n\n    var $displayField = getDisplayField($field);\n\n    var stateToNotificationTypeMap = {};\n    stateToNotificationTypeMap[VALIDATING] = 'wait';\n    stateToNotificationTypeMap[INVALID] = 'error';\n    stateToNotificationTypeMap[VALID] = 'success';\n\n    var notificationType = stateToNotificationTypeMap[state];\n\n    if (state === VALIDATING) {\n        showSpinnerIfSlow($field);\n    } else {\n        setFieldNotification($displayField, notificationType, message);\n    }\n\n}\n\nfunction showSpinnerIfSlow($field) {\n    setTimeout(function () {\n        let stillValidating = getFieldState($field) === VALIDATING;\n        if (stillValidating) {\n            setFieldNotification($field, 'wait');\n            setFieldSpinner($field, true)\n        }\n    }, 500);\n}\n\nfunction setFieldNotification($field, type, message) {\n    const spinnerWasVisible = isSpinnerVisible($field);\n    removeIconOnlyNotifications($field);\n    const skipShowingSuccessNotification = (type === 'success') && !spinnerWasVisible;\n    if (skipShowingSuccessNotification) {\n        return;\n    }\n\n    if (type === 'none') {\n        removeFieldNotification($field, 'error');\n    } else {\n        const previousMessage = $field.attr(ATTRIBUTE_NOTIFICATION_PREFIX + type) || '[]';\n        const newMessages = message ? combineJSONMessages(message, previousMessage) : [];\n        $field.attr(ATTRIBUTE_NOTIFICATION_PREFIX + type, JSON.stringify(newMessages));\n        if (type === 'error') {\n            appendErrorMessages($field, newMessages);\n        }\n    }\n}\n\nfunction removeIconOnlyNotifications($field) {\n    removeFieldNotification($field, 'wait');\n    setFieldSpinner($field, false);\n    removeFieldNotification($field, 'success');\n}\n\nfunction removeFieldNotification($field, type) {\n    $field.removeAttr(ATTRIBUTE_NOTIFICATION_PREFIX + type);\n    if (type === 'error') {\n        getMessageContainer($field, type).remove();\n    }\n}\n\nfunction isSpinnerVisible($field) {\n    return $field.is('[' + ATTRIBUTE_NOTIFICATION_PREFIX + 'wait]');\n}\n\nfunction combineJSONMessages(newString, previousString) {\n    const previousStackedMessageList = JSON.parse(previousString);\n    return previousStackedMessageList.concat([newString]);\n}\n\nfunction getDisplayField($field) {\n    var displayFieldID = getValidationOption($field, 'displayfield');\n    var notifyOnSelf = (displayFieldID === undefined);\n    return notifyOnSelf ? $field : $('#' + displayFieldID);\n}\n\nfunction getFieldState($field) {\n    return $field.attr('data-' + ATTRIBUTE_FIELD_STATE);\n}\n\n/**\n * Trigger validation on a field manually\n * @param $field the field that validation should be triggered for\n */\nfunction validateField($field) {\n    $field = $($field);\n    validationTriggeredHandler($field);\n}\n\n/**\n * Form scrolling and submission prevent based on validation state\n * -If the form is unvalidated, validate all fields\n * -If the form is invalid, go to the first invalid element\n * -If the form is validating, wait for them to validate and then try submitting again\n * -If the form is valid, allow form submission\n */\n$(document).on('submit', function (e) {\n    var form = e.target;\n    var $form = $(form);\n\n    var formState = getFormStateName($form);\n    if (formState === UNVALIDATED) {\n        delaySubmitUntilStateChange($form, e);\n        validateUnvalidatedFields($form);\n    } else if (formState === VALIDATING) {\n        delaySubmitUntilStateChange($form, e);\n    } else if (formState === INVALID) {\n        e.preventDefault();\n        selectFirstInvalid($form);\n    } else if (formState === VALID) {\n        var validSubmitEvent = $.Event('aui-valid-submit');\n        $form.trigger(validSubmitEvent);\n        var preventNormalSubmit = validSubmitEvent.isDefaultPrevented();\n        if (preventNormalSubmit) {\n            e.preventDefault(); //users can bind to aui-valid-submit for ajax forms\n        }\n    }\n});\n\nfunction delaySubmitUntilStateChange($form, event) {\n    event.preventDefault();\n    $form.one(EVENT_FIELD_STATE_CHANGED, function () {\n        $form.trigger('submit');\n    });\n}\n\nfunction getFormStateName($form) {\n    var $fieldCollection = $form.find('.' + CLASS_VALIDATION_INITIALISED);\n    var fieldStates = getFieldCollectionStateNames($fieldCollection);\n    var wholeFormState = mergeStates(fieldStates);\n    return wholeFormState;\n}\n\nfunction getFieldCollectionStateNames($fields) {\n    var states = $.map($fields, function (field) {\n        return getFieldState($(field));\n    });\n    return states;\n}\n\nfunction mergeStates(stateNames) {\n    var containsInvalidState = stateNames.indexOf(INVALID) !== -1;\n    var containsUnvalidatedState = stateNames.indexOf(UNVALIDATED) !== -1;\n    var containsValidatingState = stateNames.indexOf(VALIDATING) !== -1;\n\n    if (containsInvalidState) {\n        return INVALID;\n    } else if (containsUnvalidatedState) {\n        return UNVALIDATED;\n    } else if (containsValidatingState) {\n        return VALIDATING;\n    } else {\n        return VALID;\n    }\n}\n\nfunction validateUnvalidatedFields($form) {\n    var $unvalidatedElements = getFieldsInFormWithState($form, UNVALIDATED);\n    $unvalidatedElements.each(function (index, el) {\n        validator.validate($(el));\n    });\n}\n\nfunction selectFirstInvalid($form) {\n    var $firstInvalidField = getFieldsInFormWithState($form, INVALID).first();\n    $firstInvalidField.focus();\n}\n\nfunction getFieldsInFormWithState($form, state) {\n    var selector = '[data-' + ATTRIBUTE_FIELD_STATE + '=' + state + ']';\n    return $form.find(selector);\n}\n\n\nconst validator = {\n    register: validatorRegister.register,\n    validate: validateField\n};\n\nskate(ATTRIBUTE_VALIDATION_FIELD_COMPONENT, {\n    attached: function (field) {\n        if (field.form) {\n            field.form.setAttribute('novalidate', 'novalidate');\n        }\n        var $field = $(field);\n        initValidation($field);\n        skate.init(field); //needed to kick off form notification skate initialisation\n    },\n    type: skate.type.ATTRIBUTE\n});\n\namdify('aui/form-validation', validator);\nglobalize('formValidation', validator);\nexport default validator;\n","import globalize from './internal/globalize';\nimport * as deprecate from './internal/deprecation';\n\n/**\n * @deprecated Since 8.0.0 Use equivalent functions from libraries like lodash / underscore instead.\n */\nfunction debounce (func, wait) {\n    var timeout;\n    var result;\n\n    return function () {\n        var args = arguments;\n        var context = this;\n        var later = function () {\n            result = func.apply(context, args);\n            context = args = null;\n        };\n\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n\n        return result;\n    };\n}\n\nvar deprecatedDebounce = deprecate.fn(debounce, 'AJS.debounce', {\n    removeInVersion: '10.0.0',\n    sinceVersion: '8.0.0',\n    extraInfo: 'Use equivalent functions from libraries like lodash / underscore instead'\n});\n\nexport default deprecatedDebounce;\n\nglobalize('debounce', deprecatedDebounce);\n\n/**\n * @deprecated Since 8.0.0 Use equivalent functions from libraries like lodash / underscore instead.\n */\nfunction debounceImmediate (func, wait) {\n    var timeout = null;\n    var result;\n\n    return function () {\n        var context = this;\n        var args = arguments;\n        var later = function () {\n            timeout = context = args = null;\n        };\n\n        if (timeout === null) {\n            result = func.apply(context, args);\n        }\n\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n\n        return result;\n    };\n}\n\nvar deprecatedDebounceImmediate = deprecate.fn(debounceImmediate, 'AJS.debounceImmediate', {\n    removeInVersion: '10.0.0',\n    sinceVersion: '8.0.0',\n    extraInfo: 'Use equivalent functions from libraries like lodash / underscore instead'\n});\n\nexport {\n    deprecatedDebounceImmediate as debounceImmediate\n};\n\nglobalize('debounceImmediate', deprecatedDebounceImmediate);\n\n","import $ from '../../jquery';\nimport CustomEvent from '../../polyfills/custom-event';\nimport debounce from '../../debounce';\nimport { I18n } from '../../i18n';\nimport skate from '../skate';\nimport template from 'skatejs-template-html';\n\nconst $window = $(window);\n\nfunction Header (element) {\n    var that = this;\n\n    this.element = element;\n    this.$element = $(element);\n    this.index = $('aui-header, .aui-header').index(element);\n    this.$secondaryNav = this.$element.find('.aui-header-secondary .aui-nav').first();\n    this.menuItems = [];\n    this.totalWidth = 0;\n    this.$moreMenu = undefined;\n    this.rightMostNavItemIndex = undefined;\n    this.$applicationLogo = this.$element.find('#logo');\n    this.moreMenuWidth = 0;\n    this.primaryButtonsWidth = 0;\n\n    // to cache the selector and give .find convenience\n    this.$headerFind = (function () {\n        var $header = $(that.$element[0].querySelector('.aui-header-primary'));\n\n        return function (selector) {\n            return $header.find(selector);\n        };\n    }());\n}\n\nHeader.prototype = {\n    init: function () {\n        var that = this;\n\n        this.element.setAttribute('data-aui-responsive', 'true');\n        this.$headerFind('.aui-button').parent().each(function () {\n            that.primaryButtonsWidth += $(this).outerWidth(true);\n        });\n\n        // remember the widths of all the menu items\n        this.$headerFind('.aui-nav > li > a:not(.aui-button)').each(function () {\n            var $this = $(this).parent();\n            var outerWidth = $this.outerWidth(true);\n\n            that.totalWidth += outerWidth;\n            that.menuItems.push({\n                $element: $this,\n                outerWidth: outerWidth\n            });\n        });\n\n        /** The zero based index of the right-most visible nav menu item. */\n        this.rightMostNavItemIndex = this.menuItems.length - 1;\n\n        $window.on('resize', this._resizeHandler = debounce(function () {\n            that.constructResponsiveDropdown();\n        }, 100));\n\n        // So that the header logo doesn't mess things up. (size is unknown before the image loads)\n        var $logoImg = this.$applicationLogo.find('img');\n\n        if ($logoImg.length !== 0) {\n            $logoImg.attr('data-aui-responsive-header-index', this.index);\n            $logoImg.on('load', function () {\n                that.constructResponsiveDropdown();\n            });\n        }\n\n        this.constructResponsiveDropdown();\n\n        // show the aui nav (hidden via css on load)\n        this.$headerFind('.aui-nav').css('width', 'auto');\n    },\n\n    destroy: function () {\n        $window.off('resize', this._resizeHandler);\n    },\n\n    // calculate widths based on the current state of the page\n    calculateAvailableWidth: function () {\n        // if there is no secondary nav, use the right of the screen as the boundary instead\n        var rightMostBoundary = this.$secondaryNav.is(':visible') ? this.$secondaryNav.offset().left : this.$element.outerWidth();\n\n        // the right most side of the primary nav, this is assumed to exists if this code is running\n        var primaryNavRight = this.$applicationLogo.offset().left + this.$applicationLogo.outerWidth(true) + this.primaryButtonsWidth;\n\n        return rightMostBoundary - primaryNavRight;\n    },\n\n    showResponsiveDropdown: function () {\n        if (this.$moreMenu === undefined) {\n            this.$moreMenu = this.createResponsiveDropdownTrigger();\n        }\n        this.$moreMenu.css('display', '');\n    },\n\n    hideResponsiveDropdown: function () {\n        if (this.$moreMenu !== undefined) {\n            this.$moreMenu.css('display', 'none');\n        }\n    },\n\n    constructResponsiveDropdown: function () {\n        if (!this.menuItems.length) {\n            return;\n        }\n\n        var remainingWidth;\n        var availableWidth = this.calculateAvailableWidth(this.$element, this.primaryButtonsWidth);\n\n        if (availableWidth > this.totalWidth) {\n            this.showAll();\n        } else {\n            this.showResponsiveDropdown();\n            remainingWidth = availableWidth - this.moreMenuWidth;\n\n            // Figure out how many nav menu items fit into the available space.\n            var newRightMostNavItemIndex = -1;\n            while (remainingWidth - this.menuItems[newRightMostNavItemIndex + 1].outerWidth >= 0) {\n                remainingWidth -= this.menuItems[newRightMostNavItemIndex + 1].outerWidth;\n                newRightMostNavItemIndex++;\n            }\n\n            if (newRightMostNavItemIndex < this.rightMostNavItemIndex) {\n                this.moveToResponsiveDropdown(this.rightMostNavItemIndex - newRightMostNavItemIndex);\n            } else if (this.rightMostNavItemIndex < newRightMostNavItemIndex) {\n                this.moveOutOfResponsiveDropdown(newRightMostNavItemIndex - this.rightMostNavItemIndex);\n            }\n        }\n    },\n\n    // creates the trigger and content elements for the show more dropdown\n    createResponsiveDropdownTrigger: function () {\n        var moreNavItemEl = document.createElement('li');\n        var dropdownEl = document.createElement('aui-dropdown-menu');\n        dropdownEl.id = `aui-responsive-header-dropdown-${this.index}`;\n        skate.init(dropdownEl);\n\n        var dropdownSectionEl = document.createElement('aui-section');\n        dropdownSectionEl.id = `aui-responsive-header-dropdown-list-${this.index}`;\n        skate.init(dropdownSectionEl);\n\n        dropdownEl.appendChild(dropdownSectionEl);\n\n        var triggerEl = createTriggerAndAssociate(dropdownEl);\n        moreNavItemEl.appendChild(triggerEl);\n        moreNavItemEl.appendChild(dropdownEl);\n\n        // Append the More menu before any primary buttons.\n        if (this.primaryButtonsWidth === 0) {\n            this.$headerFind('.aui-nav').append(moreNavItemEl);\n        } else {\n            this.$headerFind('.aui-nav > li > .aui-button:first').parent().before(moreNavItemEl);\n        }\n\n        this.moreMenuWidth = $(moreNavItemEl).outerWidth(true);\n        return $(moreNavItemEl);\n    },\n\n    // function that handles moving items out of the show more menu into the app header\n    moveOutOfResponsiveDropdown: function (numItems) {\n        if (numItems <= 0) {\n            return;\n        }\n\n        var $moreDropdown = $(`#aui-responsive-header-dropdown-${this.index}`);\n\n        // Move items (working top-to-bottom) from the more menu into the nav bar.\n        var leftMostIndexToMove = this.rightMostNavItemIndex + 1;\n        var rightMostIndexToMove = this.rightMostNavItemIndex + numItems;\n        for (var i = leftMostIndexToMove; i <= rightMostIndexToMove; i++) {\n            var $navItem = this.menuItems[i].$element;\n            var $navItemTrigger = $navItem.children('a');\n\n            if ($navItemTrigger.attr('aria-controls')) {\n                var $navItemDropdown = $(document.getElementById($navItemTrigger.attr('aria-controls')));\n                $navItemDropdown.removeClass('aui-dropdown2-sub-menu');\n                $navItem.append($navItemDropdown);\n            }\n\n            $moreDropdown.find('aui-item-link:first').remove();\n            $navItem.insertBefore(this.$moreMenu);\n        }\n\n        this.rightMostNavItemIndex += numItems;\n    },\n\n    // function that handles moving items into the show more menu\n    moveToResponsiveDropdown: function (numItems) {\n        if (numItems <= 0) {\n            return;\n        }\n\n        var moreDropdownSectionEl = template.wrap(this.$moreMenu[0].querySelector('aui-section'));\n\n        // Move items (working right-to-left) from the nav bar to the more menu.\n        var rightMostIndexToMove = this.rightMostNavItemIndex;\n        var leftMostIndexToMove = this.rightMostNavItemIndex - numItems + 1;\n        for (var i = rightMostIndexToMove; i >= leftMostIndexToMove; i--) {\n            var $navItem = this.menuItems[i].$element;\n            var $navItemTrigger = $navItem.children('a');\n            skate.init($navItemTrigger); // ensure all triggers have gone through their lifecycle before we check for submenus\n\n            var moreDropdownItemEl = document.createElement('aui-item-link');\n            moreDropdownItemEl.setAttribute('href', $navItemTrigger.attr('href'));\n            if ($navItemTrigger.attr('aria-controls')) {\n                var $navItemDropdown = $(document.getElementById($navItemTrigger.attr('aria-controls')));\n                moreDropdownItemEl.setAttribute('for', $navItemTrigger.attr('aria-controls'));\n                $navItemDropdown.addClass('aui-dropdown2-sub-menu');\n                $navItemDropdown.appendTo('body');\n            }\n            skate.init(moreDropdownItemEl);\n            template.wrap(moreDropdownItemEl).textContent = $navItemTrigger.text();\n\n            $navItem.detach();\n            moreDropdownSectionEl.insertBefore(moreDropdownItemEl, moreDropdownSectionEl.firstChild);\n            this.element.dispatchEvent(new CustomEvent('aui-responsive-menu-item-created', {\n                bubbles: true,\n                detail: {\n                    originalItem: $navItem[0],\n                    newItem: moreDropdownItemEl\n                }\n            }));\n        }\n\n        this.rightMostNavItemIndex -= numItems;\n    },\n\n    // function that handles show everything\n    showAll: function () {\n        this.moveOutOfResponsiveDropdown((this.menuItems.length - 1) - this.rightMostNavItemIndex);\n        this.hideResponsiveDropdown();\n    }\n};\n\nfunction createTriggerAndAssociate(dropdown) {\n    var trigger = document.createElement('a');\n    trigger.setAttribute('class', 'aui-dropdown2-trigger');\n    trigger.setAttribute('href', '#');\n    trigger.id = dropdown.id + '-trigger';\n    trigger.setAttribute('aria-controls', dropdown.id);\n    trigger.innerHTML = I18n.getText('aui.words.more');\n\n    return trigger;\n}\n\n/**\n * Initialise a Header, or return an existing Header for an element.\n */\nfunction createHeader (element) {\n    let header = element._header;\n    if (!(header instanceof Header)) {\n        header = new Header(element);\n        header.init();\n        element._header = header;\n    }\n    return header;\n}\n\nexport default createHeader;\n","import $ from './jquery';\nimport createHeader from './internal/header/create-header';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\n\nfunction findAndCreateHeaders () {\n    $('.aui-header').each(function () {\n        createHeader(this);\n    });\n}\n\n$(findAndCreateHeaders);\n\nconst responsiveheader = {};\nresponsiveheader.setup = deprecate.fn(findAndCreateHeaders, 'responsiveheader.setup', {\n    removeInVersion: '10.0.0',\n    sinceVersion: '5.8.0',\n    extraInfo: 'No need to manually initialise anymore as this is now a web component.'\n});\n\nglobalize('responsiveheader', responsiveheader);\n\nexport default responsiveheader;\n","import createHeader from './internal/header/create-header';\nimport skate from './internal/skate';\n\nconst Header = skate('aui-header', {\n    type: skate.type.CLASSNAME,\n    created: function (element) {\n        createHeader(element);\n    }\n});\n\nexport default Header;\n","import $ from './jquery';\nimport datepickerUI from 'jquery-ui/ui/widgets/datepicker';\nimport * as logger from './internal/log';\nimport { supportsDateField } from './internal/browser';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport { I18n } from './i18n';\nimport InlineDialogEl from './inline-dialog2';\nimport generateUniqueId from './unique-id';\n\nconst makePopup = ({horizontalAlignment, datePickerUUID}) => {\n    const popupInlineDialogElement = new InlineDialogEl();\n    popupInlineDialogElement.id = datePickerUUID;\n\n    const popup = $(popupInlineDialogElement);\n    popup.attr('persistent', '');\n    popup.attr('data-aui-focus', 'false');\n    popup.attr('alignment', `bottom ${horizontalAlignment}`);\n    popup.addClass('aui-datepicker-dialog');\n\n    return popup;\n};\n\nconst makeConfig = ({dateFormat, $field, onSelect, hide, onChangeMonthYear}) => ({\n    'dateFormat': dateFormat,\n    'defaultDate': $field.val(),\n    'maxDate': $field.attr('max'),\n    'minDate': $field.attr('min'),\n    'nextText': '>',\n    'onSelect': function (dateText) {\n        $field.val(dateText);\n        $field.trigger('change');\n        hide();\n        // TODO make sure the docs are explicit about the fact that onSelect cannot be an arrow function\n        onSelect && onSelect.call(this, dateText);\n    },\n    onChangeMonthYear,\n    'prevText': '<'\n});\n\nconst initCalendar = ({config, popupContents, getCalendarNode, hint}) => {\n    const calendar = $(getCalendarNode());\n\n    calendar.datepicker(config);\n\n    let $hint;\n    if (hint) {\n        $hint = $('<div/>').addClass('aui-datepicker-hint');\n        $hint.append('<span/>').text(hint);\n        popupContents.append($hint);\n    }\n\n    return calendar;\n};\n\nconst makeDefaultPopupController = ($field, datePickerUUID) => {\n    let popup;\n    let popupContents;\n    let parentPopup;\n    let isTrackingDatePickerFocus = false; // used to prevent multiple bindings of handleDatePickerFocus within handleFieldBlur\n\n\n    const $body = $('body');\n\n    const handleDatePickerFocus = (event) => {\n        let $eventTarget = $(event.target);\n        let isTargetInput = $eventTarget.closest(popupContents).length || $eventTarget.is($field);\n        let isTargetPopup = $eventTarget.closest('.ui-datepicker-header').length;\n\n        // Hide if we're clicking anywhere else but the input or popup OR if esc is pressed.\n        if ((!isTargetInput && !isTargetPopup) || event.keyCode === keyCode.ESCAPE) {\n            hideDatePicker();\n            isTrackingDatePickerFocus = false;\n            return;\n        }\n\n        if ($eventTarget.get(0) !== $field.get(0)) {\n            event.preventDefault();\n        }\n    };\n\n    const handleFieldBlur = () => {\n        // Trigger blur if event is keydown and esc OR is focusout.\n        if (!(isTrackingDatePickerFocus)) {\n            $body.on('focus blur click mousedown', '*', handleDatePickerFocus);\n            isTrackingDatePickerFocus = true;\n        }\n    };\n\n\n    const createPolyfill = function () {\n        // bind additional field processing events\n        $body.on('keydown', handleDatePickerFocus);\n        $field.on('focusout keydown', handleFieldBlur);\n\n\n    };\n\n    const getPopupContents = ({$field}) => {\n        const calculateHorizontalAlignment = $field => {\n            let inLeftHalf = $field.offset().left < window.innerWidth / 2;\n            return inLeftHalf ? 'left' : 'right';\n        };\n\n        popup = makePopup({horizontalAlignment: calculateHorizontalAlignment($field), datePickerUUID});\n\n        parentPopup = $field.closest('aui-inline-dialog').get(0);\n        if (parentPopup) {\n            parentPopup._datePickerPopup = popup; // AUI-2696 - hackish coupling to control inline-dialog close behaviour.\n            $(parentPopup).on('aui-hide', e => {\n                if (isTrackingDatePickerFocus) {\n                    e.preventDefault();\n                }\n                $body.off('focus blur', '*', handleDatePickerFocus);\n                if (parentPopup && parentPopup._datePickerPopup) {\n                    delete parentPopup._datePickerPopup;\n                }\n            });\n        }\n\n        $body.append(popup);\n\n        popupContents = popup;\n\n        return popup;\n    };\n\n    const handleFieldFocus = () => {\n        if (!popup.get(0).open) {\n            showDatePicker()\n        }\n    };\n\n    const showDatePicker = () => {\n        popup.get(0).open = true;\n    };\n\n    const hideDatePicker = () => {\n        popup.get(0).open = false;\n    };\n\n    const handleChangeMonthYear = () => {\n        // defer refresh call until current stack has cleared (after month has rendered)\n        setTimeout(popup.refresh, 0);\n    };\n\n    const getCalendarNode = () =>\n        popup.get(0).childNodes[0];\n\n    const destroyPolyfill = () => {\n        // goodbye, cruel world!\n        hideDatePicker();\n\n        $field.off('focus click', handleFieldFocus);\n        $field.off('focusout keydown', handleFieldBlur);\n\n        $body.off('keydown', handleFieldBlur);\n        $body.off('focus blur click mousedown keydown', handleDatePickerFocus);\n    };\n\n    return {\n        calendarContainerSelector: null,\n        getPopupContents,\n        handleFieldFocus,\n        showDatePicker,\n        hideDatePicker,\n        handleChangeMonthYear,\n        getCalendarNode,\n        destroyPolyfill,\n        createPolyfill\n    }\n};\n\nconst initPolyfill = function (datePicker) {\n    const $field = datePicker.getField();\n    const options = datePicker.getOptions();\n    const datePickerUUID = datePicker.getUUID();\n\n    let calendar;\n\n    const {\n        getPopupContents,\n        handleFieldFocus,\n        showDatePicker,\n        hideDatePicker,\n        handleChangeMonthYear,\n        getCalendarNode,\n        destroyPolyfill,\n        createPolyfill,\n    } = makeDefaultPopupController($field, datePickerUUID);\n\n    const handleFieldUpdate = (event) => {\n        let val = $(event.currentTarget).val();\n        // IE10/11 fire the 'input' event when internally showing and hiding\n        // the placeholder of an input. This was cancelling the initial click\n        // event and preventing the selection of the first date. The val check here\n        // is a workaround to assure we have legitimate user input that should update\n        // the calendar\n        if (val) {\n            calendar.datepicker('setDate', $field.val());\n        }\n    };\n\n    // keep track of things we mutate within `initPolyfill`.\n    // these should all be restored in the `destroyPolyfill` function.\n    const originalPlaceholder = $field.attr('placeholder');\n    const originalType = $field.prop('type');\n    let attributeHandler;\n\n    // -----------------------------------------------------------------\n    // mutate datePicker public API\n    // -----------------------------------------------------------------\n    {\n        const withCalendar = callback => value => {\n            if (typeof calendar !== 'undefined') {\n                return callback(value)\n            }\n        };\n\n        const destroyCalendar = withCalendar(() => {\n            calendar.datepicker('destroy');\n        });\n\n        datePicker.show = showDatePicker;\n\n        datePicker.hide = hideDatePicker;\n\n        // un-does everything the `initPolyfill` function constructed or mutated.\n        datePicker.destroyPolyfill = () => {\n            destroyPolyfill();\n\n            $field.off('propertychange keyup input paste', handleFieldUpdate);\n\n            if (attributeHandler) {\n                attributeHandler.disconnect();\n                attributeHandler = null;\n            }\n\n            if (originalPlaceholder) {\n                $field.attr('placeholder', originalPlaceholder);\n            }\n\n            if (originalType) {\n                $field.prop('type', originalType);\n            }\n\n            $field.removeAttr('data-aui-dp-uuid');\n\n            destroyCalendar();\n\n            // TODO: figure out a way to tear down the popup (if necessary)\n\n            delete datePicker.destroyPolyfill;\n\n            delete datePicker.show;\n            delete datePicker.hide;\n\n        };\n\n        datePicker.setDate = withCalendar(value => {\n            calendar.datepicker('setDate', value)\n        });\n\n        datePicker.getDate = withCalendar(() => calendar.datepicker('getDate'));\n\n        datePicker.setMin = withCalendar(value => calendar.datepicker('option', 'minDate', value));\n\n        datePicker.setMax = withCalendar(value => calendar.datepicker('option', 'maxDate', value));\n    }\n\n\n    // -----------------------------------------------------------------\n    // polyfill bootstrap ----------------------------------------------\n    // -----------------------------------------------------------------\n\n\n    if (!(options.languageCode in DatePicker.prototype.localisations)) {\n        options.languageCode = '';\n    }\n    const i18nConfig = DatePicker.prototype.localisations;\n\n    $field.attr('aria-controls', datePickerUUID);\n\n    if (typeof calendar === 'undefined') {\n        if (typeof $field.attr('step') !== 'undefined') {\n            logger.log('WARNING: The date picker polyfill currently does not support the step attribute!');\n        }\n        const baseConfig = makeConfig({\n            dateFormat: options.dateFormat,\n            $field,\n            onSelect: options.onSelect,\n            hide: datePicker.hide,\n            onChangeMonthYear: handleChangeMonthYear\n        });\n        const config = $.extend(undefined, baseConfig, i18nConfig);\n\n        // If this is a string value, it will be coerced to numeric.\n        // Since nothing only numbers can be larger than a negative number, this works as a defense.\n        if (options.firstDay > -1) {\n            config.firstDay = options.firstDay;\n        }\n\n        calendar = initCalendar({\n            config,\n            popupContents: getPopupContents({$field}),\n            getCalendarNode,\n            hint: options.hint\n        });\n\n        createPolyfill();\n\n        $field.on('propertychange keyup input paste', handleFieldUpdate);\n\n\n        // bind attribute handlers to account for html5 attributes\n        attributeHandler = new MutationObserver(function (mutationsList) {\n            mutationsList.forEach(function (mutation) {\n                if (mutation.attributeName === 'min') {\n                    datePicker.setMin(mutation.target.getAttribute('min'));\n                } else if (mutation.attributeName === 'max') {\n                    datePicker.setMax(mutation.target.getAttribute('max'));\n                }\n            });\n        });\n        attributeHandler.observe($field.get(0), {attributes: true});\n    }\n\n    // bind what we need to start off with\n    $field.on('focus click', handleFieldFocus); // the click is for fucking opera... Y U NO FIRE FOCUS EVENTS PROPERLY???\n\n    // give users a hint that this is a date field; note that placeholder isn't technically a valid attribute\n    // according to the spec...\n    $field.attr('placeholder', options.placeholder);\n\n    // Override the browser's default date field implementation.\n    // There used to be a fix for AUI-3681 here, too, but my testing of Edge 15\n    // shows that changing the `type` of input does not erase its value.\n    // see https://codepen.io/chrisdarroch/pen/YzwgjyJ\n    $field.prop('type', 'text');\n\n    // demonstrate the polyfill is initialised\n    $field.attr('data-aui-dp-uuid', datePickerUUID);\n};\n\nfunction DatePicker(field, baseOptions) {\n    let options = {};\n\n    const datePickerUUID = generateUniqueId('date-picker');\n\n    const $field = $(field);\n\n    const datePicker = {\n        getUUID: () => datePickerUUID,\n        getField: () => $field,\n        getOptions: () => options,\n        destroy: () => {\n            if (typeof datePicker.destroyPolyfill === 'function') {\n                datePicker.destroyPolyfill();\n            }\n        },\n        reset: () => {\n            datePicker.destroy();\n            const browserDoesNotSupportDateField = !DatePicker.prototype.browserSupportsDateField;\n            const shouldOverrideBrowserDefault = options.overrideBrowserDefault !== false;\n\n            if (\n                browserDoesNotSupportDateField ||\n                shouldOverrideBrowserDefault\n            ) {\n                initPolyfill(datePicker);\n            }\n        },\n        reconfigure: newOptions => {\n            options = $.extend(undefined, DatePicker.prototype.defaultOptions, newOptions);\n            datePicker.reset();\n        }\n    };\n\n    datePicker.reconfigure(baseOptions);\n\n    return datePicker;\n}\n\n// -------------------------------------------------------------------------\n// things that should be common --------------------------------------------\n// -------------------------------------------------------------------------\n\nDatePicker.prototype.browserSupportsDateField = supportsDateField();\n\nDatePicker.prototype.defaultOptions = {\n    overrideBrowserDefault: false,\n    firstDay: -1,\n    languageCode: $('html').attr('lang') || 'en-AU',\n    dateFormat: datepickerUI.W3C // same as $.datepicker.ISO_8601\n};\n\nfunction CalendarWidget(calendarNode, baseOptions) {\n    const options = $.extend({\n        'nextText': '>',\n        'prevText': '<'\n    }, baseOptions);\n\n    const $calendarNode = $(calendarNode);\n\n    const $result = $calendarNode\n        .addClass('aui-datepicker-dialog')\n        .addClass('aui-calendar-widget')\n        .datepicker(options);\n\n    if (options.hint) {\n        const $hint = $('<div/>').addClass('aui-datepicker-hint');\n        $hint.append('<span/>').text(options.hint);\n        $result.append($hint);\n    }\n\n    $result.reconfigure = (options) => {\n        $result.datepicker('destroy');\n        $result.datepicker(options);\n    };\n\n    $result.destroy = () => {\n        $result.datepicker('destroy');\n    };\n\n    return $result\n}\n\n// adapted from the jQuery UI Datepicker widget (v1.8.16), with the following changes:\n//   - dayNamesShort -> dayNamesMin\n//   - unnecessary attributes omitted\n/*\nCODE to extract codes out:\n\nvar langCode, langs, out;\nlangs = jQuery.datepicker.regional;\nout = {};\n\nfor (langCode in langs) {\n    if (langs.hasOwnProperty(langCode)) {\n        out[langCode] = {\n            'dayNames': langs[langCode].dayNames,\n            'dayNamesMin': langs[langCode].dayNamesShort, // this is deliberate\n            'firstDay': langs[langCode].firstDay,\n            'isRTL': langs[langCode].isRTL,\n            'monthNames': langs[langCode].monthNames,\n            'showMonthAfterYear': langs[langCode].showMonthAfterYear,\n            'yearSuffix': langs[langCode].yearSuffix\n        };\n    }\n}\n\n */\n\nDatePicker.prototype.localisations = {\n    'dayNames': [I18n.getText('ajs.datepicker.localisations.day-names.sunday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.monday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.tuesday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.wednesday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.thursday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.friday'),\n        I18n.getText('ajs.datepicker.localisations.day-names.saturday')],\n    'dayNamesMin': [I18n.getText('ajs.datepicker.localisations.day-names-min.sunday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.monday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.tuesday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.wednesday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.thursday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.friday'),\n        I18n.getText('ajs.datepicker.localisations.day-names-min.saturday')],\n    'firstDay': I18n.getText('ajs.datepicker.localisations.first-day'),\n    'isRTL': I18n.getText('ajs.datepicker.localisations.is-RTL') === 'true',\n    'monthNames': [I18n.getText('ajs.datepicker.localisations.month-names.january'),\n        I18n.getText('ajs.datepicker.localisations.month-names.february'),\n        I18n.getText('ajs.datepicker.localisations.month-names.march'),\n        I18n.getText('ajs.datepicker.localisations.month-names.april'),\n        I18n.getText('ajs.datepicker.localisations.month-names.may'),\n        I18n.getText('ajs.datepicker.localisations.month-names.june'),\n        I18n.getText('ajs.datepicker.localisations.month-names.july'),\n        I18n.getText('ajs.datepicker.localisations.month-names.august'),\n        I18n.getText('ajs.datepicker.localisations.month-names.september'),\n        I18n.getText('ajs.datepicker.localisations.month-names.october'),\n        I18n.getText('ajs.datepicker.localisations.month-names.november'),\n        I18n.getText('ajs.datepicker.localisations.month-names.december')],\n    'showMonthAfterYear': I18n.getText('ajs.datepicker.localisations.show-month-after-year') === 'true',\n    'yearSuffix': I18n.getText('ajs.datepicker.localisations.year-suffix')\n};\n\n\n// -------------------------------------------------------------------------\n// finally, integrate with jQuery for convenience --------------------------\n// -------------------------------------------------------------------------\nconst key = 'aui-datepicker';\n\nconst makePlugin = (WidgetConstructor) => function (options) {\n    let picker = this.data(key);\n    if (!picker) {\n        picker = new WidgetConstructor(this, options);\n        this.data(key, picker);\n    } else if (typeof options === 'object') {\n        picker.reconfigure(options);\n    } else if (options === 'destroy') {\n        picker.destroy();\n    }\n    return picker;\n};\n\n$.fn.datePicker = makePlugin(DatePicker);\nglobalize('DatePicker', DatePicker);\n\n$.fn.calendarWidget = makePlugin(CalendarWidget);\nglobalize('CalendarWidget', CalendarWidget);\n\nexport default DatePicker;\nexport { CalendarWidget }\n","export default {\n    NO_VALUE: 'aui-restfultable-editable-no-value',\n    NO_ENTRIES: 'aui-restfultable-no-entires',\n    RESTFUL_TABLE: 'aui-restfultable',\n    ROW: 'aui-restfultable-row',\n    READ_ONLY: 'aui-restfultable-readonly',\n    ACTIVE: 'aui-restfultable-active',\n    ALLOW_HOVER: 'aui-restfultable-allowhover',\n    FOCUSED: 'aui-restfultable-focused',\n    MOVEABLE: 'aui-restfultable-movable',\n    DISABLED: 'aui-restfultable-disabled',\n    SUBMIT: 'aui-restfultable-submit',\n    CANCEL: 'aui-restfultable-cancel',\n    EDIT_ROW: 'aui-restfultable-editrow',\n    CREATE: 'aui-restfultable-create',\n    DRAG_HANDLE: 'aui-restfultable-draghandle',\n    ORDER: 'aui-restfultable-order',\n    EDITABLE: 'aui-restfultable-editable',\n    ERROR: 'error',\n    DELETE: 'aui-restfultable-delete',\n    STATUS: 'aui-restfultable-status'\n};\n","import Backbone from 'backbone';\nexport default Backbone.View;\n","import Backbone from 'backbone';\nexport default Backbone.View;\n","import Backbone from 'backbone';\nexport default Backbone.View;\n","export default {\n    ENABLED_SUBMIT: 'enabledSubmit',\n    ROW_VIEW: 'RestfulTable_Row_View'\n};\n","export default {\n    // AJS\n    REORDER_SUCCESS: 'RestfulTable.reorderSuccess',\n    ROW_ADDED: 'RestfulTable.rowAdded',\n    ROW_REMOVED: 'RestfulTable.rowRemoved',\n    EDIT_ROW: 'RestfulTable.switchedToEditMode',\n    SERVER_ERROR: 'RestfulTable.serverError',\n\n    // Backbone\n    CREATED: 'created',\n    UPDATED: 'updated',\n    FOCUS: 'focus',\n    BLUR: 'blur',\n    SUBMIT: 'submit',\n    SAVE: 'save',\n    MODAL: 'modal',\n    MODELESS: 'modeless',\n    CANCEL: 'cancel',\n    CONTENT_REFRESHED: 'contentRefreshed',\n    RENDER: 'render',\n    FINISHED_EDITING: 'finishedEditing',\n    VALIDATION_ERROR: 'validationError',\n    SUBMIT_STARTED: 'submitStarted',\n    SUBMIT_FINISHED: 'submitFinished',\n    INITIALIZED: 'initialized',\n    ROW_INITIALIZED: 'rowInitialized',\n    ROW_EDIT: 'editRow'\n};\n","import './../spinner';\nimport classNames from './class-names';\n\nexport const spinner = '<aui-spinner size=\"small\"></aui-spinner>';\nconst SPINNER_SELECTOR = 'aui-spinner';\n\n/**\n * Appends spinner to .aui-restfultable-status container if not already present\n *\n * @param $el\n */\nexport function appendStatusSpinner($el) {\n    if ($el.find(SPINNER_SELECTOR).length === 0) {\n        $el.find(`.${classNames.STATUS}`).append(spinner);\n    }\n}\n\n/**\n * Removes spinner from .aui-restfultable-status container\n *\n * @param $el\n */\nexport function removeStatusSpinner($el) {\n    $el.find(`.${classNames.STATUS} ${SPINNER_SELECTOR}`).remove();\n}\n","import $ from '../jquery';\nimport '../../../js-vendor/jquery/serializetoobject';\nimport Backbone from 'backbone';\nimport classNames from './class-names';\nimport dataKeys from './data-keys';\nimport events from './event-names';\nimport { I18n } from '../i18n';\nimport {appendStatusSpinner, removeStatusSpinner} from './spinner';\n\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n\n/**\n * An abstract class that gives the required behaviour for the creating and editing entries. Extend this class and pass\n * it as the {views.row} property of the options passed to RestfulTable in construction.\n */\nexport default Backbone.View.extend({\n    tagName: 'tr',\n\n    // delegate events\n    events: {\n        'focusin': '_focus',\n        'click': '_focus',\n        'keyup': '_handleKeyUpEvent'\n    },\n\n    /**\n     * @constructor\n     * @param {Object} options\n     */\n    initialize: function (options) {\n        this.$el = $(this.el);\n\n        // faster lookup\n        this._event = events;\n        this.classNames = classNames;\n        this.dataKeys = dataKeys;\n        this.columns = options.columns;\n        this.isCreateRow = options.isCreateRow;\n        this.allowReorder = options.allowReorder;\n\n        // Allow cancelling an edit with support for setting a new element.\n        this.events['click .' + this.classNames.CANCEL] = '_cancel';\n        this.delegateEvents();\n\n        if (options.isUpdateMode) {\n            this.isUpdateMode = true;\n        } else {\n            this._modelClass = options.model;\n            this.model = new this._modelClass();\n        }\n\n        this.fieldFocusSelector = options.fieldFocusSelector;\n        this\n            .on(this._event.CANCEL, () => {\n                if (!this.isCreateRow) {\n                    this.disabled = true;\n                }\n            })\n            .on(this._event.SAVE, (focusUpdated) => !this.disabled &&  this.submit(focusUpdated))\n            .on(this._event.FOCUS, (name) => this.focus(name))\n            .on(this._event.BLUR, () => {\n                this.$el.removeClass(this.classNames.FOCUSED);\n                this.disable();\n            })\n            .on(this._event.SUBMIT_STARTED, () => this._submitStarted())\n            .on(this._event.SUBMIT_FINISHED, () => this._submitFinished())\n    },\n\n    /**\n     * Renders default cell contents\n     *\n     * @param data\n     */\n    defaultColumnRenderer: function (data) {\n        if (data.allowEdit !== false) {\n            return $(\"<input type='text' />\")\n                .addClass('text')\n                .attr({\n                    name: data.name,\n                    value: data.value,\n                    'aria-label': data.ariaLabel\n                });\n        } else if (data.value) {\n            return document.createTextNode(data.value);\n        }\n    },\n\n    /**\n     * Renders drag handle\n     * @return jQuery\n     */\n    renderDragHandle: function () {\n        return '<span class=\"' + this.classNames.DRAG_HANDLE + '\"></span></td>';\n    },\n\n    /**\n     * Executes cancel event if ESC is pressed\n     *\n     * @param {Event} e\n     */\n    _handleKeyUpEvent: function (e) {\n        if (e.keyCode === 27) {\n            this.trigger(this._event.CANCEL);\n        }\n    },\n\n    /**\n     * Fires cancel event\n     *\n     * @param {Event} e\n     *\n     * @return EditRow\n     */\n    _cancel: function (e) {\n        this.trigger(this._event.CANCEL);\n        e.preventDefault();\n        return this;\n    },\n\n    /**\n     * Disables events/fields and adds safe guard against double submitting\n     *\n     * @return EditRow\n     */\n    _submitStarted: function () {\n        this.submitting = true;\n        this.showLoading()\n            .disable()\n            .delegateEvents({});\n\n        return this;\n    },\n\n    /**\n     * Enables events & fields\n     *\n     * @return EditRow\n     */\n    _submitFinished: function () {\n        this.submitting = false;\n        this.hideLoading()\n            .enable()\n            .delegateEvents(this.events);\n\n        return this;\n    },\n\n    /**\n     * Handles dom focus event, by only focusing row if it isn't already\n     *\n     * @param {Event} e\n     *\n     * @return EditRow\n     */\n    _focus: function (e) {\n        if (!this.hasFocus()) {\n            this.trigger(this._event.FOCUS, e.target.name);\n        }\n        return this;\n    },\n\n\n    /**\n     * Returns true if row has focused class\n     *\n     * @return Boolean\n     */\n    hasFocus: function () {\n        return this.$el.hasClass(this.classNames.FOCUSED);\n    },\n\n    /**\n     * Focus specified field (by name or id - first argument), first field with an error or first field (DOM order)\n     *\n     * @param name\n     *\n     * @return EditRow\n     */\n    focus: function (name) {\n        var $focus;\n        var $error;\n\n        this.enable();\n\n        if (name) {\n            $focus = this.$el.find(this.fieldFocusSelector(name));\n        } else {\n\n            $error = this.$el.find(this.classNames.ERROR + ':first');\n\n            if ($error.length === 0) {\n                $focus = this.$el.find(':input:text:first');\n            } else {\n                $focus = $error.parent().find(':input');\n            }\n        }\n\n        this.$el.addClass(this.classNames.FOCUSED);\n        $focus.focus().trigger('select');\n\n        return this;\n    },\n\n    /**\n     * Disables all fields\n     *\n     * @return EditRow\n     */\n    disable: function () {\n        var $replacementSubmit;\n        var $submit;\n\n        // firefox does not allow you to submit a form if there are 2 or more submit buttons in a form, even if all but\n        // one is disabled. It also does not let you change the type=\"submit' to type=\"button\". Therfore he lies the hack.\n        if (isFirefox) {\n            $submit = this.$el.find(':submit');\n\n            if ($submit.length) {\n                $replacementSubmit = $(\"<input type='submit' class='\" + this.classNames.SUBMIT + \"' />\")\n                    .addClass($submit.attr('class'))\n                    .val($submit.val())\n                    .data(this.dataKeys.ENABLED_SUBMIT, $submit);\n\n                $submit.replaceWith($replacementSubmit);\n            }\n        }\n\n        this.$el.addClass(this.classNames.DISABLED)\n            .find(':submit')\n            .attr('disabled', 'disabled');\n\n        return this;\n    },\n\n    /**\n     * Enables all fields\n     *\n     * @return EditRow\n     */\n    enable: function () {\n        var $placeholderSubmit;\n        var $submit;\n\n        // firefox does not allow you to submit a form if there are 2 or more submit buttons in a form, even if all but\n        // one is disabled. It also does not let you change the type=\"submit' to type=\"button\". Therfore he lies the hack.\n        if (isFirefox) {\n            $placeholderSubmit = this.$el.find(this.classNames.SUBMIT);\n            $submit = $placeholderSubmit.data(this.dataKeys.ENABLED_SUBMIT);\n\n            if ($submit && $placeholderSubmit.length) {\n                $placeholderSubmit.replaceWith($submit);\n            }\n        }\n\n        this.$el.removeClass(this.classNames.DISABLED)\n            .find(':submit')\n            .removeAttr('disabled');\n\n        return this;\n    },\n\n    /**\n     * Shows loading indicator\n     *\n     * @return EditRow\n     */\n    showLoading: function () {\n        appendStatusSpinner(this.$el);\n        return this;\n    },\n\n    /**\n     * Hides loading indicator\n     *\n     * @return EditRow\n     */\n    hideLoading: function () {\n        removeStatusSpinner(this.$el);\n        return this;\n    },\n\n    /**\n     * If any of the fields have changed\n     *\n     * @return {Boolean}\n     */\n    hasUpdates: function () {\n        return !!this.mapSubmitParams(this.serializeObject());\n    },\n\n    /**\n     * Serializes the view into model representation.\n     * Default implementation uses simple jQuery plugin to serialize form fields into object\n     *\n     * @return Object\n     */\n    serializeObject: function () {\n        var $el = this.$el;\n        return $el.serializeObject ?\n            $el.serializeObject() :\n            $el.serialize();\n    },\n\n    mapSubmitParams: function (params) {\n        return this.model.changedAttributes(params);\n    },\n\n    /**\n     * Handle submission of new entries and editing of old.\n     *\n     * @param {Boolean} focusUpdated - flag of whether to focus read-only view after succssful submission\n     *\n     * @return EditRow\n     */\n    submit: function (focusUpdated) {\n        var instance = this;\n        var values;\n\n        // IE doesnt like it when the focused element is removed\n        if (document.activeElement !== window) {\n            $(document.activeElement).blur();\n        }\n\n        if (this.isUpdateMode) {\n            values = this.mapSubmitParams(this.serializeObject()); // serialize form fields into JSON\n\n            if (!values) {\n                return instance.trigger(instance._event.CANCEL);\n            }\n        } else {\n            this.model.clear();\n            values = this.mapSubmitParams(this.serializeObject()); // serialize form fields into JSON\n        }\n\n        this.trigger(this._event.SUBMIT_STARTED);\n\n        /* Attempt to add to server model. If fail delegate to createView to render errors etc. Otherwise,\n         add a new model to this._models and render a row to represent it. */\n        this.model.save(values, {\n            success: function () {\n                if (instance.isUpdateMode) {\n                    instance.trigger(instance._event.UPDATED, instance.model, focusUpdated);\n                } else {\n                    instance.trigger(instance._event.CREATED, instance.model.toJSON());\n\n                    instance.model = new instance._modelClass(); // reset\n\n                    instance.render({errors: {}, values: {}}); // pulls in instance's model for create row\n                    instance.trigger(instance._event.FOCUS);\n                }\n\n                instance.trigger(instance._event.SUBMIT_FINISHED);\n            },\n\n            error: function (model, data, xhr) {\n                if (xhr.status === 400) {\n                    instance.renderErrors(data.errors);\n                    instance.trigger(instance._event.VALIDATION_ERROR, data.errors);\n                }\n\n                instance.trigger(instance._event.SUBMIT_FINISHED);\n            },\n\n            silent: true\n        });\n\n        return this;\n    },\n\n    /**\n     * Render an error message\n     *\n     * @param msg\n     *\n     * @return {jQuery}\n     */\n    renderError: function (name, msg) {\n        return $('<div />').attr('data-field', name).addClass(this.classNames.ERROR).text(msg);\n    },\n\n    /**\n     * Render and append error messages. The property name will be matched to the input name to determine which cell to\n     * append the error message to. If this does not meet your needs please extend this method.\n     *\n     * @param errors\n     */\n    renderErrors: function (errors) {\n        var instance = this;\n\n        this.$('.' + this.classNames.ERROR).remove(); // avoid duplicates\n\n        if (errors) {\n            $.each(errors, function (name, msg) {\n                instance.$el.find(\"[name='\" + name + \"']\")\n                    .closest('td')\n                    .append(instance.renderError(name, msg));\n            });\n        }\n\n        return this;\n    },\n\n\n    /**\n     * Handles rendering of row\n     *\n     * @param {Object} renderData\n     * ... {Object} vales - Values of fields\n     */\n    render: function  (renderData) {\n        var instance = this;\n\n        this.$el.empty();\n\n        if (this.allowReorder) {\n            $('<td  class=\"' + this.classNames.ORDER + '\" />').append(this.renderDragHandle()).appendTo(instance.$el);\n        }\n\n        $.each(this.columns, function (i, column) {\n            var contents;\n            var $cell;\n            var value = renderData.values[column.id];\n            var args = [\n                {name: column.id, ariaLabel: column.inputAriaLabel ? column.inputAriaLabel : column.header, value: value, allowEdit: column.allowEdit},\n                renderData.values,\n                instance.model\n            ];\n            if (value) {\n                instance.$el.attr('data-' + column.id, value); // helper for webdriver testing\n            }\n\n            if (instance.isCreateRow && column.createView) {\n                // TODO AUI-1058 - The row's model should be guaranteed to be in the correct state by this point.\n                contents = new column.createView({\n                    model: instance.model\n                }).render(args[0]);\n\n            } else if (column.editView) {\n                contents = new column.editView({\n                    model: instance.model\n                }).render(args[0]);\n            } else {\n                contents = instance.defaultColumnRenderer.apply(instance, args);\n            }\n\n            $cell = $('<td />');\n\n            if (typeof contents === 'object' && contents.done) {\n                contents.done(function (contents) {\n                    $cell.append(contents);\n                });\n            } else {\n                $cell.append(contents);\n            }\n\n            if (column.styleClass) {\n                $cell.addClass(column.styleClass);\n            }\n\n            $cell.appendTo(instance.$el);\n        });\n\n        this.$el\n            .append(this.renderOperations(renderData.update, renderData.values)) // add submit/cancel buttons\n            .addClass(this.classNames.ROW + ' ' + this.classNames.EDIT_ROW);\n\n        this.trigger(this._event.RENDER, this.$el, renderData.values);\n        this.$el.trigger(this._event.CONTENT_REFRESHED, [this.$el]);\n\n        return this;\n    },\n\n    /**\n     * Gets markup for add/update and cancel buttons\n     *\n     * @param {Boolean} update\n     */\n    renderOperations: function (update) {\n        var $operations = $('<td class=\"aui-restfultable-operations\" />');\n\n        if (update) {\n            $operations.append($('<input class=\"aui-button aui-button-primary\" type=\"submit\" />').attr({\n                accesskey: this.submitAccessKey,\n                value: I18n.getText('aui.words.update')\n            }))\n                .append($('<a class=\"aui-button aui-button-link\" href=\"#\" />')\n                    .addClass(this.classNames.CANCEL)\n                    .text(I18n.getText('aui.words.cancel'))\n                    .attr({\n                        accesskey: this.cancelAccessKey\n                    }));\n        } else {\n            $operations.append($('<input class=\"aui-button aui-button-primary\" type=\"submit\" />').attr({\n                accesskey: this.submitAccessKey,\n                value: I18n.getText('aui.words.add')\n            }));\n        }\n\n        return $operations.add($(`<td class=\"${this.classNames.STATUS}\" />`));\n    }\n});\n","import $ from '../jquery';\n\nconst eventRoot = document || {};\nconst $eventTarget = $(eventRoot);\n\n/**\n * Triggers a custom event on the AJS object\n *\n * @param {String} name - name of event\n * @param {Array} args - args for event handler\n */\nfunction triggerEvt (name, args) {\n    $eventTarget.trigger(name, args);\n}\n\n/**\n * Binds handler to the AJS object\n *\n * @param {String} name\n * @param {Function} func\n */\nfunction bindEvt (name, func) {\n    $eventTarget.bind(name, func);\n}\n\n/**\n * Some generic error handling that fires event in multiple contexts\n * - on AJS object\n * - on Instance\n * - on AJS object with prefixed id.\n *\n * @param evt\n * @param inst\n * @param args\n */\nfunction triggerEvtForInst (evt, inst, args) {\n    $(inst).trigger(evt, args);\n    triggerEvt(evt, args);\n    if (inst.id) {\n        triggerEvt(inst.id + '-' + evt, args);\n    }\n}\n\nexport {\n    bindEvt,\n    triggerEvt,\n    triggerEvtForInst\n};\n","import $ from '../jquery';\nimport { triggerEvtForInst } from './event-handlers';\nimport { isEmpty, isEqual } from 'underscore';\nimport Backbone from 'backbone';\nimport events from './event-names';\n\n/**\n * A class provided to fill some gaps with the out of the box Backbone.Model class. Most notiably the inability\n * to send ONLY modified attributes back to the server.\n */\nvar EntryModel = Backbone.Model.extend({\n    sync: function (method, model, options) {\n        var instance = this;\n        var oldError = options.error;\n\n        options.error = function (xhr) {\n            instance._serverErrorHandler(xhr, this);\n            if (oldError) {\n                oldError.apply(this, arguments);\n            }\n        };\n\n        return Backbone.sync.apply(Backbone, arguments);\n    },\n\n    /**\n     * Overrides default save handler to only save (send to server) attributes that have changed.\n     * Also provides some default error handling.\n     *\n     * @override\n     * @param attributes\n     * @param options\n     */\n    save: function (attributes, options) {\n        options = options || {};\n\n        var instance = this;\n        var Model;\n        var syncModel;\n        var error = options.error; // we override, so store original\n        var success = options.success;\n\n\n        // override error handler to provide some defaults\n        options.error = function (model, xhr) {\n\n            var data = $.parseJSON(xhr.responseText || xhr.data);\n\n            // call original error handler\n            if (error) {\n                error.call(instance, instance, data, xhr);\n            }\n        };\n\n        // if it is a new model, we don't have to worry about updating only changed attributes because they are all new\n        if (this.isNew()) {\n\n            // call super\n            Backbone.Model.prototype.save.call(this, attributes, options);\n\n        // only go to server if something has changed\n        } else if (attributes) {\n            // create temporary model\n            Model = EntryModel.extend({\n                url: this.url()\n            });\n\n            syncModel = new Model({\n                id: this.id\n            });\n\n            syncModel.save = Backbone.Model.prototype.save;\n\n            options.success = function (model, xhr) {\n\n                // update original model with saved attributes\n                instance.clear().set(model.toJSON());\n\n                // call original success handler\n                if (success) {\n                    success.call(instance, instance, xhr);\n                }\n            };\n\n            // update temporary model with the changed attributes\n            syncModel.save(attributes, options);\n        }\n    },\n\n    /**\n     * Destroys the model on the server. We need to override the default method as it does not support sending of\n     * query paramaters.\n     *\n     * @override\n     * @param {object} [options]\n     * @param {function} options.success - Server success callback\n     * @param {function} options.error - Server error callback\n     * @param {object} options.data\n     *\n     * @return EntryModel\n     */\n    destroy: function (options) {\n        options = options || {};\n\n        var instance = this;\n        var url = this.url();\n\n        $.ajax({\n            url: url,\n            type: 'DELETE',\n            dataType: 'json',\n            data: options.data || {},\n            contentType: 'application/json',\n            success(data) {\n                if (instance.collection){\n                    instance.collection.remove(instance);\n                }\n                if (options.success) {\n                    options.success.call(instance, data);\n                }\n            },\n            error(xhr) {\n                instance._serverErrorHandler(xhr, this);\n                if (options.error) {\n                    options.error.call(instance, xhr);\n                }\n            }\n        });\n\n        return this;\n    },\n\n\n    /**\n     * A more complex lookup for changed attributes then default backbone one.\n     *\n     * @param attributes\n     */\n    changedAttributes: function (attributes) {\n        var changed = {};\n        var current = this.toJSON();\n\n        $.each(attributes, function (name, value) {\n\n            if (!current[name]) {\n                if (typeof value === 'string') {\n                    if ($.trim(value) !== '') {\n                        changed[name] = value;\n                    }\n                } else if ($.isArray(value)) {\n                    if (value.length !== 0) {\n                        changed[name] = value;\n                    }\n                } else {\n                    changed[name] = value;\n                }\n            } else if (current[name] && current[name] !== value) {\n\n                if (typeof value === 'object') {\n                    if (!isEqual(value, current[name])) {\n                        changed[name] = value;\n                    }\n                } else {\n                    changed[name] = value;\n                }\n            }\n        });\n\n        if (!isEmpty(changed)) {\n            this.addExpand(changed);\n            return changed;\n        }\n    },\n\n    /**\n     * Useful point to override if you always want to add an expand to your rest calls.\n     *\n     * @param changed attributes that have already changed\n     */\n    addExpand: function (changed) {}, // eslint-disable-line no-unused-vars\n\n    /**\n     * Throws a server error event unless user input validation error (status 400)\n     *\n     * @param xhr\n     * @param ajaxOptions\n     */\n    _serverErrorHandler: function (xhr, ajaxOptions) {\n        var data;\n        if (xhr.status !== 400) {\n            data = $.parseJSON(xhr.responseText || xhr.data);\n            triggerEvtForInst(events.SERVER_ERROR, this, [data, xhr, ajaxOptions]);\n        }\n    },\n\n    /**\n     * Fetches values, with some generic error handling\n     *\n     * @override\n     * @param options\n     */\n    fetch: function (options) {\n        options = options || {};\n\n        // clear the model, so we do not merge the old with the new\n        this.clear();\n\n        // call super\n        Backbone.Model.prototype.fetch.call(this, options);\n    }\n});\n\nexport default EntryModel;\n","import $ from '../jquery';\nimport Backbone from 'backbone';\nimport { I18n } from '../i18n';\nimport classNames from './class-names';\nimport dataKeys from './data-keys';\nimport events from './event-names';\nimport {appendStatusSpinner, removeStatusSpinner} from './spinner';\n\n/**\n * An abstract class that gives the required behaviour for RestfulTable rows.\n * Extend this class and pass it as the {views.row} property of the options passed to RestfulTable in construction.\n */\nexport default Backbone.View.extend({\n    tagName: 'tr',\n\n    events: {\n        'click .aui-restfultable-editable': 'edit'\n    },\n\n    initialize: function (options) {\n        options = options || {};\n\n        this._event = events;\n        this.classNames = classNames;\n        this.dataKeys = dataKeys;\n        this.columns = options.columns;\n        this.allowEdit = options.allowEdit;\n        this.allowDelete = options.allowDelete;\n\n        if (!this.events['click .aui-restfultable-editable']) {\n            throw new Error('It appears you have overridden the events property. To add events you will need to use' +\n                'a work around. https://github.com/documentcloud/backbone/issues/244');\n        }\n\n        this.index = options.index || 0;\n        this.deleteConfirmationCallback = options.deleteConfirmationCallback;\n        this.allowReorder = options.allowReorder;\n        this.$el = $(this.el);\n\n        this\n            .on(this._event.CANCEL, () => this.disabled = true)\n            .on(this._event.FOCUS, field => this.focus(field))\n            .on(this._event.BLUR, () => this.unfocus())\n            .on(this._event.MODAL, () => this.$el.addClass(this.classNames.ACTIVE))\n            .on(this._event.MODELESS, () => this.$el.removeClass(this.classNames.ACTIVE))\n    },\n\n    /**\n     * Renders drag handle\n     *\n     * @return jQuery\n     */\n    renderDragHandle: function () {\n        return '<span class=\"' + this.classNames.DRAG_HANDLE + '\"></span></td>';\n    },\n\n    /**\n     * Renders default cell contents\n     *\n     * @param data\n     *\n     * @return {undefiend, String}\n     */\n    defaultColumnRenderer: function (data) {\n        if (data.value) {\n            return document.createTextNode(data.value.toString());\n        }\n    },\n\n    /**\n     * Save changed attributes back to server and re-render\n     *\n     * @param attr\n     *\n     * @return {Row}\n     */\n    sync: function (attr) {\n        var instance = this;\n\n        this.model.addExpand(attr);\n        this.showLoading();\n        this.model.save(attr, {\n            success: function () {\n                instance.hideLoading().render();\n                instance.trigger(instance._event.UPDATED);\n            },\n            error: function () {\n                instance.hideLoading();\n            }\n        });\n\n        return this;\n    },\n\n    /**\n     * Get model from server and re-render\n     *\n     * @return {Row}\n     */\n    refresh: function (success, error) {\n        var instance = this;\n\n        this.showLoading();\n        this.model.fetch({\n            success: function () {\n                instance.hideLoading().render();\n                if (success) {\n                    success.apply(this, arguments);\n                }\n            },\n            error: function () {\n                instance.hideLoading();\n                if (error) {\n                    error.apply(this, arguments);\n                }\n            }\n        });\n\n        return this;\n    },\n\n    /**\n     * Returns true if row has focused class\n     *\n     * @return Boolean\n     */\n    hasFocus: function () {\n        return this.$el.hasClass(this.classNames.FOCUSED);\n    },\n\n    /**\n     * Adds focus class (Item has been recently updated)\n     *\n     * @return Row\n     */\n    focus: function () {\n        $(this.el).addClass(this.classNames.FOCUSED);\n        return this;\n    },\n\n    /**\n     * Removes focus class\n     *\n     * @return Row\n     */\n    unfocus: function () {\n        $(this.el).removeClass(this.classNames.FOCUSED);\n        return this;\n    },\n\n    /**\n     * Adds loading class (to show server activity)\n     *\n     * @return Row\n     */\n    showLoading: function () {\n        appendStatusSpinner(this.$el);\n        return this;\n    },\n\n    /**\n     * Hides loading class (to show server activity)\n     *\n     * @return Row\n     */\n    hideLoading: function () {\n        removeStatusSpinner(this.$el);\n        return this;\n    },\n\n    /**\n     * Switches row into edit mode\n     *\n     * @param e\n     */\n    edit: function (e) {\n        var field;\n        if ($(e.target).is('.' + this.classNames.EDITABLE)) {\n            field = $(e.target).attr('data-field-name');\n        } else {\n            field = $(e.target).closest('.' + this.classNames.EDITABLE).attr('data-field-name');\n        }\n        this.trigger(this._event.ROW_EDIT, field);\n        return this;\n    },\n\n    /**\n     * Can be overriden to add custom options.\n     *\n     * @returns {jQuery}\n     */\n    renderOperations: function () {\n        var instance = this;\n        if (this.allowDelete !== false) {\n            return $(\"<a href='#' class='aui-button' />\")\n                .addClass(this.classNames.DELETE)\n                .text(I18n.getText('aui.words.delete')).on('click', function (e) {\n                    e.preventDefault();\n                    instance.destroy();\n                });\n        }\n    },\n\n    /**\n     * Removes entry from table.\n     *\n     * @returns {undefined}\n     */\n    destroy: function () {\n        if (this.deleteConfirmationCallback) {\n            let promise = this.deleteConfirmationCallback(this.model.toJSON());\n            if (promise && promise.then) {\n                promise.then(\n                    () => this.model.destroy(),\n                    () => {}\n                );\n            } else {\n                throw new Error('deleteConfirmationCallback needs to return a Promise')\n            }\n        } else {\n            this.model.destroy();\n        }\n    },\n\n    /**\n     * Renders a generic edit row. You probably want to override this in a sub class.\n     *\n     * @return Row\n     */\n    render: function  () {\n        var instance = this;\n        var renderData = this.model.toJSON();\n        var $opsCell = $(\"<td class='aui-restfultable-operations' />\").append(this.renderOperations({}, renderData));\n        var $throbberCell = $(`<td class=\"${this.classNames.STATUS}\" />`);\n        // restore state\n        this.$el\n            .removeClass(this.classNames.DISABLED + ' ' + this.classNames.FOCUSED + ' ' + this.classNames.EDIT_ROW)\n            .addClass(this.classNames.READ_ONLY)\n            .empty();\n\n\n        if (this.allowReorder) {\n            $('<td  class=\"' + this.classNames.ORDER + '\" />').append(this.renderDragHandle()).appendTo(instance.$el);\n        }\n\n        this.$el.attr('data-id', this.model.id); // helper for webdriver testing\n\n        $.each(this.columns, function (i, column) {\n            var contents;\n            var $cell = $('<td />');\n            var value = renderData[column.id];\n            var fieldName = column.fieldName || column.id;\n            var args = [{name: fieldName, value: value, allowEdit: column.allowEdit}, renderData, instance.model];\n\n            if (value) {\n                instance.$el.attr('data-' + column.id, value); // helper for webdriver testing\n            }\n\n            if (column.readView) {\n                contents = new column.readView({\n                    model: instance.model\n                }).render(args[0]);\n            } else {\n                contents = instance.defaultColumnRenderer.apply(instance, args);\n            }\n\n            if (instance.allowEdit !== false && column.allowEdit !== false) {\n                var $editableRegion = $('<span />')\n                    .addClass(instance.classNames.EDITABLE)\n                    .append('<span class=\"aui-icon aui-icon-small aui-iconfont-edit\"></span>')\n                    .append(contents)\n                    .attr('data-field-name', fieldName);\n\n                $cell = $('<td />').append($editableRegion).appendTo(instance.$el);\n\n                if (!contents || !$.trim(contents)) {\n                    $cell.addClass(instance.classNames.NO_VALUE);\n                    $editableRegion.html($('<em />').text(this.emptyText || I18n.getText('aui.enter.value')));\n                }\n\n            } else {\n                $cell.append(contents);\n            }\n\n            if (column.styleClass) {\n                $cell.addClass(column.styleClass);\n            }\n\n            $cell.appendTo(instance.$el);\n        });\n\n        this.$el\n            .append($opsCell)\n            .append($throbberCell)\n            .addClass(this.classNames.ROW + ' ' + this.classNames.READ_ONLY);\n\n        this.trigger(this._event.RENDER, this.$el, renderData);\n        this.$el.trigger(this._event.CONTENT_REFRESHED, [this.$el]);\n\n        return this;\n    }\n});\n","import $ from './jquery';\nimport 'jquery-ui/ui/core';\nimport 'jquery-ui/ui/widget';\nimport 'jquery-ui/ui/widgets/mouse';\nimport 'jquery-ui/ui/widgets/draggable';\nimport 'jquery-ui/ui/widgets/sortable';\nimport * as logger from './internal/log';\nimport Backbone from 'backbone';\nimport classNames from './restful-table/class-names';\nimport CustomCreateView from './restful-table/custom-create-view';\nimport CustomEditView from './restful-table/custom-edit-view';\nimport CustomReadView from './restful-table/custom-read-view';\nimport dataKeys from './restful-table/data-keys';\nimport EditRow from './restful-table/edit-row';\nimport EntryModel from './restful-table/entry-model';\nimport {triggerEvtForInst} from './restful-table/event-handlers';\nimport events from './restful-table/event-names';\nimport globalize from './internal/globalize';\nimport Row from './restful-table/row';\nimport { I18n } from './i18n';\nimport {spinner} from './restful-table/spinner';\n\n/**\n * A table whose entries/rows can be retrieved, added and updated via REST (CRUD).\n * It uses backbone.js to sync the table's state back to the server, avoiding page refreshes.\n *\n * @class RestfulTable\n */\nvar RestfulTable = Backbone.View.extend({\n    /**\n     * @param {!Object} options\n     * ... {!Object} resources\n     * ... ... {(string|function(function(Array.<Object>)))} all - URL of REST resource OR function that retrieves all entities.\n     * ... ... {string} self - URL of REST resource to sync a single entities state (CRUD).\n     * ... {!(selector|Element|jQuery)} el - Table element or selector of the table element to populate.\n     * ... {!Array.<Object>} columns - Which properties of the entities to render. The id of a column maps to the property of an entity.\n     * ... {Object} views\n     * ... ... {RestfulTable.EditRow} editRow - Backbone view that renders the edit & create row. Your view MUST extend RestfulTable.EditRow.\n     * ... ... {RestfulTable.Row} row - Backbone view that renders the readonly row. Your view MUST extend RestfulTable.Row.\n     * ... {boolean} allowEdit - Is the table editable. If true, clicking row will switch it to edit state. Default true.\n     * ... {boolean} allowDelete - Can entries be removed from the table, default true.\n     * ... {boolean} allowCreate - Can new entries be added to the table, default true.\n     * ... {boolean} allowReorder - Can we drag rows to reorder them, default false.\n     * ... {boolean} autoFocus - Automatically set focus to first field on init, default false.\n     * ... {boolean} reverseOrder - Reverse the order of rows, default false.\n     * ... {boolean} silent - Do not trigger a \"refresh\" event on sort, default false.\n     * ... {String} id - The id for the table. This id will be used to fire events specific to this instance.\n     * ... {string} createPosition - If set to \"bottom\", place the create form at the bottom of the table instead of the top.\n     * ... {string} addPosition - If set to \"bottom\", add new rows at the bottom of the table instead of the top. If undefined, createPosition will be used to define where to add the new row.\n     * ... {string} noEntriesMsg - Text to display under the table header if it is empty, default empty.\n     * ... {string} loadingMsg - Text/HTML to display while loading, default \"Loading\".\n     * ... {string} submitAccessKey - Access key for submitting.\n     * ... {string} cancelAccessKey - Access key for canceling.\n     * ... @property {RestfulTable~deleteConfirmationCallback} deleteConfirmationCallback - function returning Promise determining if row should be deleted or not\n     * ... {function(string): (selector|jQuery|Element)} fieldFocusSelector - Element to focus on given a name.\n     * ... {EntryModel} model - Backbone model representing a row, default EntryModel.\n     * ... {Backbone.Collection} Collection - Backbone collection representing the entire table, default Backbone.Collection.\n     * @callback deleteConfirmationCallback\n     */\n    initialize: function (options) {\n        var instance = this;\n\n        // combine default and user options\n        instance.options = $.extend(true, instance._getDefaultOptions(options), options);\n\n        // Prefix events for this instance with this id.\n        instance.id = this.options.id;\n\n        // faster lookup\n        instance._event = events;\n        instance.classNames = classNames;\n        instance.dataKeys = dataKeys;\n\n        // shortcuts to popular elements\n        this.$table = $(options.el)\n            .addClass(this.classNames.RESTFUL_TABLE)\n            .addClass(this.classNames.ALLOW_HOVER)\n            .addClass('aui');\n\n        this.$table.wrapAll(\"<form class='aui' action='#' />\");\n\n        this.$thead = $('<thead/>');\n        this.$theadRow = $('<tr />').appendTo(this.$thead);\n        this.$tbody = $('<tbody/>');\n\n        if (!this.$table.length) {\n            throw new Error('RestfulTable: Init failed! The table you have specified [' + this.$table.selector + '] cannot be found.');\n        }\n\n        if (!this.options.columns) {\n            throw new Error(\"RestfulTable: Init failed! You haven't provided any columns to render.\");\n        }\n\n        if (this.options.deleteConfirmationCallback && !(this.options.deleteConfirmationCallback instanceof Function)) {\n            throw new Error('RestfulTable: Init failed! deleteConfirmationCallback is not a function');\n        }\n\n        // Let user know the table is loading\n        this.showGlobalLoading();\n        this.options.columns.forEach(function (column) {\n            var header = $.isFunction(column.header) ? column.header() : column.header;\n            if (typeof header === 'undefined') {\n                logger.warn('You have not specified [header] for column [' + column.id + ']. Using id for now...');\n                header = column.id;\n            }\n\n            instance.$theadRow.append('<th>' + header + '</th>');\n        });\n\n        // columns for submit buttons and loading indicator used when editing\n        instance.$theadRow.append('<th></th><th></th>');\n\n        // create a new Backbone collection to represent rows (http://documentcloud.github.com/backbone/#Collection)\n        this._models = this._createCollection();\n\n        // shortcut to the class we use to create rows\n        this._rowClass = this.options.views.row;\n\n        this.editRows = []; // keep track of rows that are being edited concurrently\n\n        this.$table.closest('form').submit(function (e) {\n            if (instance.focusedRow) {\n                // Delegates saving of row. See EditRow.submit\n                instance.focusedRow.trigger(instance._event.SAVE);\n            }\n            e.preventDefault();\n        });\n\n        if (this.options.allowReorder) {\n            // Add allowance for another cell to the <thead>\n            this.$theadRow.prepend('<th />');\n\n            // Allow drag and drop reordering of rows\n            this.$tbody.sortable({\n                handle: '.' + this.classNames.DRAG_HANDLE,\n                helper: function (e, elt) {\n                    var helper = $('<div/>').attr('class', elt.attr('class')).addClass(instance.classNames.MOVEABLE);\n                    elt.children().each(function () {\n                        var $td = $(this);\n\n                        // .offsetWidth/.outerWidth() is broken in webkit for tables, so we do .clientWidth + borders\n                        // Need to coerce the border-left-width to an in because IE - http://bugs.jquery.com/ticket/10855\n                        var borderLeft = parseInt(0 + $td.css('border-left-width'), 10);\n                        var borderRight = parseInt(0 + $td.css('border-right-width'), 10);\n                        var width = $td[0].clientWidth + borderLeft + borderRight;\n\n                        helper.append($('<div/>').html($td.html()).attr('class', $td.attr('class')).width(width));\n                    });\n\n                    helper = $(\"<div class='aui-restfultable-readonly'/>\").append(helper); // Basically just to get the styles.\n                    helper.css({left: elt.offset().left}); // To align with the other table rows, since we've locked scrolling on x.\n                    helper.appendTo(document.body);\n\n                    return helper;\n                },\n                start: function (event, ui) {\n                    var cachedHeight = ui.helper[0].clientHeight;\n                    var $this = ui.placeholder.find('td');\n\n                    // Make sure that when we start dragging widths do not change\n                    ui.item\n                        .addClass(instance.classNames.MOVEABLE)\n                        .children().each(function (i) {\n                            $(this).width($this.eq(i).width());\n                        });\n\n                    // Create a <td> to add to the placeholder <tr> to inherit CSS styles.\n                    var td = '<td colspan=\"' + instance.getColumnCount() + '\">&nbsp;</td>';\n\n                    ui.placeholder.html(td).css({\n                        height: cachedHeight,\n                        visibility: 'visible'\n                    });\n\n                    // Stop hover effects etc from occuring as we move the mouse (while dragging) over other rows\n                    instance.getRowFromElement(ui.item[0]).trigger(instance._event.MODAL);\n                },\n                stop: function (event, ui) {\n                    if ($(ui.item[0]).is(':visible')) {\n                        ui.item\n                            .removeClass(instance.classNames.MOVEABLE)\n                            .children().attr('style', '');\n\n                        ui.placeholder.removeClass(instance.classNames.ROW);\n\n                        // Return table to a normal state\n                        instance.getRowFromElement(ui.item[0]).trigger(instance._event.MODELESS);\n                    }\n                },\n                update: function (event, ui) {\n                    var context = {\n                        row: instance.getRowFromElement(ui.item[0]),\n                        item: ui.item,\n                        nextItem: ui.item.next(),\n                        prevItem: ui.item.prev()\n                    };\n\n                    instance.move(context);\n                },\n                axis: 'y',\n                delay: 0,\n                containment: 'document',\n                cursor: 'move',\n                scroll: true,\n                zIndex: 8000\n            });\n\n            // Prevent text selection while reordering.\n            this.$tbody.on('selectstart mousedown', function (event) {\n                return !$(event.target).is('.' + instance.classNames.DRAG_HANDLE);\n            });\n        }\n\n        if (this.options.allowCreate !== false) {\n\n            // Create row responsible for adding new entries ...\n            this._createRow = new this.options.views.editRow({\n                columns: this.options.columns,\n                isCreateRow: true,\n                model: this.options.model.extend({\n                    url: function () {\n                        return instance.options.resources.self;\n                    }\n                }),\n                cancelAccessKey: this.options.cancelAccessKey,\n                submitAccessKey: this.options.submitAccessKey,\n                allowReorder: this.options.allowReorder,\n                fieldFocusSelector: this.options.fieldFocusSelector\n            });\n            this._createRow.on(this._event.CREATED, function (values) {\n                if ((typeof instance.options.addPosition === 'undefined' && instance.options.createPosition === 'bottom') ||\n                        instance.options.addPosition === 'bottom') {\n                    instance.addRow(values);\n                } else {\n                    instance.addRow(values, 0);\n                }\n            });\n            this._createRow.on(this._event.VALIDATION_ERROR, function () {\n                this.trigger(instance._event.FOCUS);\n            });\n            this._createRow.render({\n                errors: {},\n                values: {}\n            });\n\n            // ... and appends it as the first row\n            this.$create = $('<tbody class=\"' + this.classNames.CREATE + '\" />')\n                .append(this._createRow.el);\n\n            // Manage which row has focus\n            this._applyFocusCoordinator(this._createRow);\n\n            // focus create row\n            this._createRow.trigger(this._event.FOCUS);\n        }\n\n        // when a model is removed from the collection, remove it from the viewport also\n        this._models.on('remove', function (model) {\n            instance.getRows().forEach(function (row) {\n                if (row.model === model) {\n                    if (row.hasFocus() && instance._createRow) {\n                        instance._createRow.trigger(instance._event.FOCUS);\n                    }\n                    instance.removeRow(row);\n                }\n            });\n        });\n\n        this.fetchInitialResources();\n    },\n\n    fetchInitialResources: function () {\n        var instance = this;\n        if ($.isFunction(this.options.resources.all)) {\n            this.options.resources.all(function (entries) {\n                instance.populate(entries);\n            });\n        } else {\n            $.get(this.options.resources.all, function (entries) {\n                instance.populate(entries);\n            });\n        }\n    },\n\n    move: function (context) {\n\n        var instance = this;\n\n        var createRequest = function (afterElement) {\n            if (!afterElement.length) {\n                return {\n                    position: 'First'\n                };\n            } else {\n                var afterModel = instance.getRowFromElement(afterElement).model;\n                return {\n                    after: afterModel.url()\n                };\n            }\n        };\n\n        if (context.row) {\n\n            var data = instance.options.reverseOrder ? createRequest(context.nextItem) : createRequest(context.prevItem);\n\n            $.ajax({\n                url: context.row.model.url() + '/move',\n                type: 'POST',\n                dataType: 'json',\n                contentType: 'application/json',\n                data: JSON.stringify(data),\n                complete: function () {\n                    // hides loading indicator (spinner)\n                    context.row.hideLoading();\n                },\n                success: function (xhr) {\n                    triggerEvtForInst(instance._event.REORDER_SUCCESS, instance, [xhr]);\n                },\n                error: function (xhr) {\n                    var responseData = $.parseJSON(xhr.responseText || xhr.data);\n                    triggerEvtForInst(instance._event.SERVER_ERROR, instance, [responseData, xhr, this]);\n                }\n            });\n\n            // shows loading indicator (spinner)\n            context.row.showLoading();\n        }\n    },\n\n    _createCollection: function () {\n        var instance = this;\n\n        // create a new Backbone collection to represent rows (http://documentcloud.github.com/backbone/#Collection)\n        var RowsAwareCollection = this.options.Collection.extend({\n            // Force the collection to re-sort itself. You don't need to call this under normal\n            // circumstances, as the set will maintain sort order as each item is added.\n            sort: function (options) {\n                options || (options = {});\n                if (!this.comparator) {\n                    throw new Error('Cannot sort a set without a comparator');\n                }\n                this.tableRows = instance.getRows();\n                this.models = this.sortBy(this.comparator, this);\n                this.tableRows = undefined;\n                if (!options.silent) {\n                    this.trigger('refresh', this, options);\n                }\n                return this;\n            },\n            remove: function (...args) {\n                this.tableRows = instance.getRows();\n                Backbone.Collection.prototype.remove.apply(this, args);\n                this.tableRows = undefined;\n                return this;\n            }\n        });\n\n        return new RowsAwareCollection([], {\n            comparator: function (row) {\n                // sort models in collection based on dom ordering\n                var index;\n\n                var currentTableRows = (this && this.tableRows !== undefined) ? this.tableRows : instance.getRows();\n                currentTableRows.some(function (item, i) {\n                    if (item.model.id === row.id) {\n                        index = i;\n                        return true;\n                    }\n                });\n                return index;\n            }\n        });\n    },\n\n    /**\n     * Refreshes table with entries\n     *\n     * @param entries\n     */\n    populate: function (entries) {\n        if (this.options.reverseOrder) {\n            entries.reverse();\n        }\n\n        this.hideGlobalLoading();\n        if (entries && entries.length) {\n            // Empty the models collection\n            this._models.reset([], {silent: true});\n            // Add all the entries to collection and render them\n            this.renderRows(entries);\n            // show message to user if we have no entries\n            if (this.isEmpty()) {\n                this.showNoEntriesMsg();\n            }\n        } else {\n            this.showNoEntriesMsg();\n        }\n\n        // Ok, lets let everyone know that we are done...\n        this.$table\n            .append(this.$thead);\n\n        if (this.options.createPosition === 'bottom') {\n            this.$table.append(this.$tbody)\n                .append(this.$create);\n        } else {\n            this.$table\n                .append(this.$create)\n                .append(this.$tbody);\n        }\n\n        this.$table.trigger(this._event.INITIALIZED, [this]);\n\n        triggerEvtForInst(this._event.INITIALIZED, this, [this]);\n\n        if (this.options.autoFocus) {\n            this.$table.find(':input:text:first').focus(); // set focus to first field\n        }\n    },\n\n    /**\n     * Shows loading indicator and text\n     *\n     * @return {RestfulTable}\n     */\n    showGlobalLoading: function () {\n        if (!this.$loading) {\n            this.$loading =  $('<div class=\"aui-restfultable-init\">' +\n                '<span class=\"aui-restfultable-loading\">' + spinner + this.options.loadingMsg + '</span></div>');\n        }\n\n        if (!this.$loading.is(':visible')) {\n            this.$loading.insertAfter(this.$table);\n        }\n\n        return this;\n    },\n\n    /**\n     * Hides loading indicator and text\n     * @return {RestfulTable}\n     */\n    hideGlobalLoading: function () {\n        if (this.$loading) {\n            this.$loading.remove();\n        }\n        return this;\n    },\n\n\n    /**\n     * Adds row to collection and renders it\n     *\n     * @param {Object} values\n     * @param {number} index\n     * @return {RestfulTable}\n     */\n    addRow: function (values, index) {\n        var view;\n        var model;\n\n        if (!values.id) {\n            throw new Error('RestfulTable.addRow: to add a row values object must contain an id. ' +\n                'Maybe you are not returning it from your restend point?' +\n                'Recieved:' + JSON.stringify(values));\n        }\n\n        model = new this.options.model(values);\n\n\n        view = this._renderRow(model, index);\n\n        this._models.add(model);\n        this.removeNoEntriesMsg();\n\n        // Let everyone know we added a row\n        triggerEvtForInst(this._event.ROW_ADDED, this, [view, this]);\n        return this;\n    },\n\n    /**\n     * Provided a view, removes it from display and backbone collection\n     *\n     * @param row {Row} The row to remove.\n     */\n    removeRow: function (row) {\n        this._models.remove(row.model);\n        row.remove();\n\n        if (this.isEmpty()) {\n            this.showNoEntriesMsg();\n        }\n\n        // Let everyone know we removed a row\n        triggerEvtForInst(this._event.ROW_REMOVED, this, [row, this]);\n    },\n\n    /**\n     * Is there any entries in the table\n     *\n     * @return {Boolean}\n     */\n    isEmpty: function () {\n        return this._models.length === 0;\n    },\n\n    /**\n     * Gets all models\n     *\n     * @return {Backbone.Collection}\n     */\n    getModels: function () {\n        return this._models;\n    },\n\n    /**\n     * Gets table body\n     *\n     * @return {jQuery}\n     */\n    getTable: function () {\n        return this.$table;\n    },\n\n    /**\n     * Gets table body\n     *\n     * @return {jQuery}\n     */\n    getTableBody: function () {\n        return this.$tbody;\n    },\n\n    /**\n     * Gets create Row\n     *\n     * @return {EditRow}\n     */\n    getCreateRow: function () {\n        return this._createRow;\n    },\n\n    /**\n     * Gets the number of table columns, accounting for the number of\n     * additional columns added by RestfulTable itself\n     * (such as the drag handle column, buttons and actions columns)\n     *\n     * @return {Number}\n     */\n    getColumnCount: function () {\n        var staticFieldCount = 2; // accounts for the columns allocated to submit buttons and loading indicator\n        if (this.allowReorder) {\n            ++staticFieldCount;\n        }\n        return this.options.columns.length + staticFieldCount;\n    },\n\n    /**\n     * Get the Row that corresponds to the given <tr> element.\n     *\n     * @param {HTMLElement} tr\n     *\n     * @return {Row}\n     */\n    getRowFromElement: function (tr) {\n        return $(tr).data(this.dataKeys.ROW_VIEW);\n    },\n\n    /**\n     * Shows message {options.noEntriesMsg} to the user if there are no entries\n     *\n     * @return {RestfulTable}\n     */\n    showNoEntriesMsg: function () {\n\n        if (this.$noEntries) {\n            this.$noEntries.remove();\n        }\n\n        this.$noEntries = $('<tr>')\n            .addClass(this.classNames.NO_ENTRIES)\n            .append($('<td>')\n                .attr('colspan', this.getColumnCount())\n                .text(this.options.noEntriesMsg)\n            )\n            .appendTo(this.$tbody);\n\n        return this;\n    },\n\n    /**\n     * Removes message {options.noEntriesMsg} to the user if there ARE entries\n     *\n     * @return {RestfulTable}\n     */\n    removeNoEntriesMsg: function () {\n        if (this.$noEntries && this._models.length > 0) {\n            this.$noEntries.remove();\n        }\n        return this;\n    },\n\n    /**\n     * Gets the Row from their associated <tr> elements\n     *\n     * @return {Array}\n     */\n    getRows: function () {\n        var instance = this;\n        var views = [];\n\n        this.$tbody.find('.' + this.classNames.READ_ONLY).each(function () {\n            var $row = $(this);\n            var view = $row.data(instance.dataKeys.ROW_VIEW);\n\n            if (view) {\n                views.push(view);\n            }\n        });\n\n        return views;\n    },\n\n    /**\n     * Appends entry to end or specified index of table\n     *\n     * @param {EntryModel} model\n     * @param index\n     *\n     * @return {jQuery}\n     */\n    _renderRow: function (model, index) {\n        var instance = this;\n        var $rows = this.$tbody.find('.' + this.classNames.READ_ONLY);\n        var $row;\n        var view;\n\n        view = new this._rowClass({\n            model: model,\n            columns: this.options.columns,\n            allowEdit: this.options.allowEdit,\n            allowDelete: this.options.allowDelete,\n            allowReorder: this.options.allowReorder,\n            deleteConfirmationCallback: this.options.deleteConfirmationCallback\n        });\n\n        this.removeNoEntriesMsg();\n\n        view.on(this._event.ROW_EDIT, function (field) {\n            triggerEvtForInst(this._event.EDIT_ROW, {}, [this, instance]);\n            instance.edit(this, field);\n        });\n\n        $row = view.render().$el;\n\n        if (index !== -1) {\n\n            if (typeof index === 'number' && $rows.length !== 0) {\n                $row.insertBefore($rows[index]);\n            } else {\n                this.$tbody.append($row);\n            }\n        }\n\n        $row.data(this.dataKeys.ROW_VIEW, view);\n\n        // deactivate all rows - used in the cases, such as opening a dropdown where you do not want the table editable\n        // or any interactions\n        view.on(this._event.MODAL, function () {\n            instance.$table.removeClass(instance.classNames.ALLOW_HOVER);\n            instance.$tbody.sortable('disable');\n            instance.getRows().forEach(function (row) {\n                if (!instance.isRowBeingEdited(row)) {\n                    row.delegateEvents({}); // clear all events\n                }\n            });\n        });\n\n        // activate all rows - used in the cases, such as opening a dropdown where you do not want the table editable\n        // or any interactions\n        view.on(this._event.MODELESS, function () {\n            instance.$table.addClass(instance.classNames.ALLOW_HOVER);\n            instance.$tbody.sortable('enable');\n            instance.getRows().forEach(function (row) {\n                if (!instance.isRowBeingEdited(row)) {\n                    row.delegateEvents(); // rebind all events\n                }\n            });\n        });\n\n        // ensure that when this row is focused no other are\n        this._applyFocusCoordinator(view);\n\n        this.trigger(this._event.ROW_INITIALIZED, view);\n\n        return view;\n    },\n\n    /**\n     * Returns if the row is edit mode or note.\n     *\n     * @param {Row} row Read-only row to check if being edited.\n     *\n     * @return {Boolean}\n     */\n    isRowBeingEdited: function (row) {\n\n        var isBeingEdited = false;\n\n        this.editRows.some(function (editRow) {\n            if (editRow.el === row.el) {\n                isBeingEdited = true;\n                return true;\n            }\n        });\n\n        return isBeingEdited;\n    },\n\n    /**\n     * Ensures that when supplied view is focused no others are\n     *\n     * @param {Backbone.View} view\n     * @return {RestfulTable}\n     */\n    _applyFocusCoordinator: function (view) {\n        var instance = this;\n\n        if (!view.hasFocusBound) {\n            view.hasFocusBound = true;\n\n            view.on(this._event.FOCUS, function () {\n                if (instance.focusedRow && instance.focusedRow !== view) {\n                    instance.focusedRow.trigger(instance._event.BLUR);\n                }\n                instance.focusedRow = view;\n                if (view instanceof Row && instance._createRow) {\n                    instance._createRow.enable();\n                }\n            });\n        }\n\n        return this;\n    },\n\n    /**\n     * Remove specified row from collection holding rows being concurrently edited\n     *\n     * @param {EditRow} editView\n     *\n     * @return {RestfulTable}\n     */\n    _removeEditRow: function (editView) {\n        var index = $.inArray(editView, this.editRows);\n        this.editRows.splice(index, 1);\n        return this;\n    },\n\n    /**\n     * Focuses last row still being edited or create row (if it exists)\n     *\n     * @return {RestfulTable}\n     */\n    _shiftFocusAfterEdit: function () {\n\n        if (this.editRows.length > 0) {\n            this.editRows[this.editRows.length - 1].trigger(this._event.FOCUS);\n        } else if (this._createRow) {\n            this._createRow.trigger(this._event.FOCUS);\n        }\n\n        return this;\n    },\n\n    /**\n     * Evaluate if we save row when we blur. We can only do this when there is one row being edited at a time, otherwise\n     * it causes an infinite loop JRADEV-5325\n     *\n     * @return {boolean}\n     */\n    _saveEditRowOnBlur: function () {\n        return this.editRows.length <= 1;\n    },\n\n    /**\n     * Dismisses rows being edited concurrently that have no changes\n     */\n    dismissEditRows: function () {\n        this.editRows.forEach(function (editRow) {\n            if (!editRow.hasUpdates()) {\n                editRow.trigger(this._event.FINISHED_EDITING);\n            }\n        }, this);\n    },\n\n    /**\n     * Converts readonly row to editable view\n     *\n     * @param {Backbone.View} row\n     * @param {String} field - field name to focus\n     * @return {Backbone.View} editRow\n     */\n    edit: function (row, field) {\n        var instance = this;\n        var editRow = new this.options.views.editRow({\n            el: row.el,\n            columns: this.options.columns,\n            isUpdateMode: true,\n            allowReorder: this.options.allowReorder,\n            fieldFocusSelector: this.options.fieldFocusSelector,\n            model: row.model,\n            cancelAccessKey: this.options.cancelAccessKey,\n            submitAccessKey: this.options.submitAccessKey\n        });\n        var values = row.model.toJSON();\n\n        values.update = true;\n        editRow.render({\n            errors: {},\n            update: true,\n            values: values\n        })\n            .on(instance._event.UPDATED, function (model, focusUpdated) {\n                instance._removeEditRow (this);\n                this.off();\n                row.render().delegateEvents(); // render and rebind events\n                row.trigger(instance._event.UPDATED); // trigger blur fade out\n                if (focusUpdated !== false) {\n                    instance._shiftFocusAfterEdit();\n                }\n            })\n            .on(instance._event.VALIDATION_ERROR, function () {\n                this.trigger(instance._event.FOCUS);\n            })\n            .on(instance._event.FINISHED_EDITING, function () {\n                instance._removeEditRow(this);\n                row.render().delegateEvents();\n                this.off();  // avoid any other updating, blurring, finished editing, cancel events being fired\n            })\n            .on(instance._event.CANCEL, function () {\n                instance._removeEditRow(this);\n                this.off();  // avoid any other updating, blurring, finished editing, cancel events being fired\n                row.render().delegateEvents(); // render and re` events\n                instance._shiftFocusAfterEdit();\n            })\n            .on(instance._event.BLUR, function () {\n                instance.dismissEditRows(); // dismiss edit rows that have no changes\n                if (instance._saveEditRowOnBlur()) {\n                    this.trigger(instance._event.SAVE, false);  // save row, which if successful will call the updated event above\n                }\n            });\n\n        // Ensure that if focus is pulled to another row, we blur the edit row\n        this._applyFocusCoordinator(editRow);\n\n        // focus edit row, which has the flow on effect of blurring current focused row\n        editRow.trigger(instance._event.FOCUS, field);\n\n        // disables form fields\n        if (instance._createRow) {\n            instance._createRow.disable();\n        }\n\n        this.editRows.push(editRow);\n\n        return editRow;\n    },\n\n\n    /**\n     * Renders all specified rows\n     *\n     * @param rows {Array<Backbone.Model>} array of objects describing Backbone.Model's to render\n     * @return {RestfulTable}\n     */\n    renderRows: function (rows = []) {\n        var comparator = this._models.comparator;\n        var els = [];\n\n        this._models.comparator = undefined; // disable temporarily, assume rows are sorted\n\n        var models = rows.map((row) => {\n            var model = new this.options.model(row);\n            els.push(this._renderRow(model, -1).el);\n            return model;\n        });\n\n        this._models.add(models, {silent: true});\n        this._models.comparator = comparator;\n        this.removeNoEntriesMsg();\n        this.$tbody.append(els);\n\n        return this;\n    },\n\n    /**\n     * Gets default options\n     *\n     * @param {Object} options\n     */\n    _getDefaultOptions: function (options) {\n        return {\n            model: options.model || EntryModel,\n            allowEdit: true,\n            views: {\n                editRow: EditRow,\n                row: Row\n            },\n            Collection: Backbone.Collection.extend({\n                url: options.resources.self,\n                model: options.model || EntryModel\n            }),\n            allowReorder: false,\n            fieldFocusSelector: function (name) {\n                return ':input[name=' + name + '], #' + name;\n            },\n            loadingMsg: options.loadingMsg || I18n.getText('aui.words.loading')\n        };\n    }\n});\n\nRestfulTable.ClassNames = classNames;\nRestfulTable.CustomCreateView = CustomCreateView;\nRestfulTable.CustomEditView = CustomEditView;\nRestfulTable.CustomReadView = CustomReadView;\nRestfulTable.DataKeys = dataKeys;\nRestfulTable.EditRow = EditRow;\nRestfulTable.EntryModel = EntryModel;\nRestfulTable.Events = events;\nRestfulTable.Row = Row;\n\nglobalize('RestfulTable', RestfulTable);\n\nexport default RestfulTable;\n","import $ from './jquery';\nimport globalize from './internal/globalize';\n\n/**\n * Clones the element specified by the selector and removes the id attribute.\n *\n * @param {String} selector A jQuery selector\n */\nfunction clone (selector) {\n    return $(selector).clone().removeAttr('id');\n}\n\nglobalize('clone', clone);\n\nexport default clone;\n","\nvar DocumentTouch = window.DocumentTouch;\nvar hasTouch = ('ontouchstart' in window) || DocumentTouch && document instanceof DocumentTouch;\nexport default hasTouch;\n","import $ from '../jquery';\n\nfunction replaceAttributeForID($clone, id, value, attribute) {\n    $clone.find(`[${attribute}]`).attr(attribute, (i, oldValue) => id === oldValue ? value : undefined);\n}\n\nfunction setCorrespondingTriggersID($clone, id, uuid) {\n    replaceAttributeForID($clone, id, uuid, 'aria-controls');\n    replaceAttributeForID($clone, id, uuid, 'aria-owns');\n}\n\nexport default function deduplicateIDs($clone, uidFunction) {\n    let wrapper = $('<div></div>');\n    wrapper.append($clone);\n    wrapper.find('[id]')\n        .each((i, el) => {\n            const uuid = uidFunction(`${el.id}-`);\n            setCorrespondingTriggersID(wrapper, el.id, uuid);\n            el.id = uuid;\n        });\n}\n","import $ from './jquery';\nimport './tooltip';\nimport './navigation';\nimport { I18n } from './i18n';\nimport clone from './clone';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\nimport hasTouch from './internal/has-touch';\nimport isInput from './internal/is-input';\nimport keyCode from './key-code';\nimport mediaQuery from './internal/mediaQuery';\nimport skate from './internal/skate';\nimport uid from './unique-id';\nimport widget from './internal/widget';\nimport deduplicateIDs from './internal/deduplicateIDs';\n\n\nfunction sidebarOffset(sidebar) {\n    return sidebar.offset().top;\n}\n\nfunction Sidebar(selector) {\n    this.$el = $(selector);\n    if (!this.$el.length) {\n        return;\n    }\n    this.$body = $('body');\n    this.$wrapper = this.$el.children('.aui-sidebar-wrapper');\n\n    // Sidebar users should add class=\"aui-page-sidebar\" to the\n    // <body> in the rendered markup (to prevent any potential flicker),\n    // so we add it just in case they forgot.\n    this.$body.addClass('aui-page-sidebar');\n\n    this._previousScrollTop = null;\n    this._previousViewportHeight = null;\n    this._previousViewportWidth = null;\n    this._previousOffsetTop = null;\n\n    this.submenus = new SubmenuManager();\n\n    initializeHandlers(this);\n    constructAllSubmenus(this);\n}\n\nvar FORCE_COLLAPSE_WIDTH = 1240;\nvar EVENT_PREFIX = '_aui-internal-sidebar-';\n\nfunction namespaceEvents (events) {\n    return $.map(events.split(' '), function (event) {\n        return EVENT_PREFIX + event;\n    }).join(' ');\n}\n\nSidebar.prototype.on = function () {\n    var events = arguments[0];\n    var args = Array.prototype.slice.call(arguments, 1);\n    var namespacedEvents = namespaceEvents(events);\n    this.$el.on.apply(this.$el, [namespacedEvents].concat(args));\n    return this;\n};\n\nSidebar.prototype.off = function () {\n    var events = arguments[0];\n    var args = Array.prototype.slice.call(arguments, 1);\n    var namespacedEvents = namespaceEvents(events);\n    this.$el.off.apply(this.$el, [namespacedEvents].concat(args));\n    return this;\n};\n\nSidebar.prototype.setHeight = function (scrollTop, viewportHeight, headerHeight) {\n    var visibleHeaderHeight = Math.max(0, headerHeight - scrollTop);\n    this.$wrapper.height(viewportHeight - visibleHeaderHeight);\n    return this;\n};\n\nSidebar.prototype.setTopPosition = function (scrollTop = window.pageYOffset) {\n    this.$wrapper.toggleClass('aui-is-docked', scrollTop > sidebarOffset(this.$el));\n    return this;\n};\n\nSidebar.prototype.setPosition = deprecate.fn(Sidebar.prototype.setTopPosition, 'Sidebar.setPosition', {\n    removeInVersion: '10.0.0',\n    sinceVersion: '7.6.1',\n    alternativeName: 'Sidebar.setTopPosition',\n});\n\nSidebar.prototype.setLeftPosition = function (scrollLeft = window.pageXOffset) {\n    if (this.$wrapper.hasClass('aui-is-docked')) {\n        this.$wrapper.css({ left: -scrollLeft });\n    }\n    return this;\n};\n\nSidebar.prototype.setCollapsedState = function (viewportWidth) {\n    // Reflow behaviour is implemented as a state machine (hence all\n    // state transitions are enumerated). The rest of the state machine,\n    // e.g., entering the expanded narrow (fly-out) state, is implemented\n    // by the toggle() method.\n    var transition = {collapsed: {}, expanded: {}};\n    transition.collapsed.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s._expand(viewportWidth, true);\n        }\n    };\n    transition.collapsed.wide = {\n        narrow: $.noop,  // Becomes collapsed narrow (no visual change).\n        wide: $.noop\n    };\n    transition.expanded.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s.$body.removeClass('aui-sidebar-collapsed');\n            s.$el.removeClass('aui-sidebar-fly-out');\n        }\n    };\n    transition.expanded.wide = {\n        narrow: function (s) {\n            s._collapse(true);\n        },\n        wide: $.noop\n    };\n\n    var collapseState = this.isCollapsed() ? 'collapsed' : 'expanded';\n    var oldSize = this.isViewportNarrow(this._previousViewportWidth) ? 'narrow' : 'wide';\n    var newSize = this.isViewportNarrow(viewportWidth) ? 'narrow' : 'wide';\n    transition[collapseState][oldSize][newSize](this);\n    return this;\n};\n\nSidebar.prototype._collapse = function (isResponsive) {\n    if (this.isCollapsed()) {\n        return this;\n    }\n\n    var startEvent = $.Event(EVENT_PREFIX + 'collapse-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    this.$body.addClass('aui-sidebar-collapsed');\n    this.$el.attr('aria-expanded', 'false');\n    this.$el.removeClass('aui-sidebar-fly-out');\n    this.$el.find(this.submenuTriggersSelector).attr('tabindex', 0);\n    $(this.inlineDialogSelector).attr('responds-to', 'hover');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'collapse-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.collapse = function () {\n    return this._collapse(false);\n};\n\nSidebar.prototype._expand = function (viewportWidth, isResponsive) {\n    var startEvent = $.Event(EVENT_PREFIX + 'expand-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    var isViewportNarrow = this.isViewportNarrow(viewportWidth);\n    this.$el.attr('aria-expanded', 'true');\n    this.$body.toggleClass('aui-sidebar-collapsed', isViewportNarrow);\n    this.$el.toggleClass('aui-sidebar-fly-out', isViewportNarrow);\n    this.$el.find(this.submenuTriggersSelector).removeAttr('tabindex');\n    $(this.inlineDialogSelector).removeAttr('responds-to');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'expand-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.expand = function () {\n    if (this.isCollapsed()) {\n        this._expand(this._previousViewportWidth, false);\n    }\n    return this;\n};\n\nSidebar.prototype.isAnimated = function () {\n    return this.$el.hasClass('aui-is-animated');\n};\n\nSidebar.prototype.isCollapsed = function () {\n    return this.$el.attr('aria-expanded') === 'false';\n};\n\nSidebar.prototype.isViewportNarrow = function (viewportWidth) {\n    viewportWidth = viewportWidth === undefined ? this._previousViewportWidth : viewportWidth;\n    return viewportWidth < FORCE_COLLAPSE_WIDTH;\n};\n\nSidebar.prototype._removeAllTooltips = function () {\n    // tooltips are orphaned when sidebar is expanded, so if there are any visible on the page we remove them all.\n    // Can't scope it to the Sidebar (this) because the tooltip div is a direct child of <body>\n    $(this.tooltipSelector).remove();\n};\n\nSidebar.prototype.responsiveReflow = function responsiveReflow(isInitialPageLoad, viewportWidth) {\n    if (isInitialPageLoad) {\n        if (!this.isCollapsed() && this.isViewportNarrow(viewportWidth)) {\n            var isAnimated = this.isAnimated();\n            if (isAnimated) {\n                this.$el.removeClass('aui-is-animated');\n            }\n            // This will trigger the \"collapse\" event before non-sidebar\n            // JS code has a chance to bind listeners; they'll need to\n            // check isCollapsed() if they care about the value at that\n            // time.\n            this.collapse();\n            if (isAnimated) {\n                // We must trigger a CSS reflow (by accessing\n                // offsetHeight) otherwise the transition still runs.\n                // eslint-disable-next-line\n                this.$el[0].offsetHeight;\n                this.$el.addClass('aui-is-animated');\n            }\n        }\n    } else if (viewportWidth !== this._previousViewportWidth) {\n        this.setCollapsedState(viewportWidth);\n    }\n};\n\nSidebar.prototype.reflow = function reflow(\n    scrollTop = window.pageYOffset,\n    viewportHeight = document.documentElement.clientHeight,\n    viewportWidth = window.innerWidth,\n    scrollHeight = document.documentElement.scrollHeight,\n    scrollLeft = window.pageXOffset) {\n\n    // Header height needs to be checked because in Stash it changes when the CSS \"transform: translate3d\" is changed.\n    // If you called reflow() after this change then nothing happened because the scrollTop and viewportHeight hadn't changed.\n    var offsetTop = sidebarOffset(this.$el);\n    var isInitialPageLoad = this._previousViewportWidth === null;\n\n    if (!(scrollTop === this._previousScrollTop && viewportHeight === this._previousViewportHeight && offsetTop === this._previousOffsetTop)) {\n        if (this.isCollapsed() && !isInitialPageLoad && scrollTop !== this._previousScrollTop) {\n            //hide tooltips on scroll\n            this._removeAllTooltips();\n        }\n\n        var isTouch = this.$body.hasClass('aui-page-sidebar-touch');\n        var isTrackpadBounce = scrollTop !== this._previousScrollTop && (scrollTop < 0 || scrollTop + viewportHeight > scrollHeight);\n        if (!isTouch && (isInitialPageLoad || !isTrackpadBounce)) {\n            this.setHeight(scrollTop, viewportHeight, offsetTop);\n            this.setTopPosition(scrollTop);\n        }\n    }\n\n    if (scrollLeft !== this._previousScrollLeft) {\n        this.setLeftPosition(scrollLeft);\n    }\n\n    var isResponsive = this.$el.attr('data-aui-responsive') !== 'false';\n    if (isResponsive) {\n        this.responsiveReflow(isInitialPageLoad, viewportWidth);\n    } else {\n        var isFlyOut = !this.isCollapsed() && this.isViewportNarrow(viewportWidth);\n        this.$el.toggleClass('aui-sidebar-fly-out', isFlyOut);\n    }\n\n    this._previousScrollTop = scrollTop;\n    this._previousViewportHeight = viewportHeight;\n    this._previousViewportWidth = viewportWidth;\n    this._previousOffsetTop = offsetTop;\n    this._previousScrollLeft = scrollLeft;\n    return this;\n};\n\nSidebar.prototype.toggle = function () {\n    if (this.isCollapsed()) {\n        this.expand();\n        this._removeAllTooltips();\n    } else {\n        this.collapse();\n    }\n    return this;\n};\n\n/**\n * Returns a jQuery selector string for the trigger elements when the\n * sidebar is in a collapsed state, useful for delegated event binding.\n *\n * When using this selector in event handlers, the element (\"this\") will\n * either be an <a> (when the trigger was a tier-one menu item) or an\n * element with class \"aui-sidebar-group\" (for non-tier-one items).\n *\n * For delegated event binding you should bind to $el and check the value\n * of isCollapsed(), e.g.,\n *\n *     sidebar.$el.on('click', sidebar.collapsedTriggersSelector, function (e) {\n     *         if (!sidebar.isCollapsed()) {\n     *             return;\n     *         }\n     *     });\n *\n * @returns string\n */\nSidebar.prototype.submenuTriggersSelector = '.aui-sidebar-group:not(.aui-sidebar-group-tier-one)';\n\nSidebar.prototype.collapsedTriggersSelector = [\n    Sidebar.prototype.submenuTriggersSelector,\n    '.aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a',\n    '.aui-sidebar-footer > .aui-sidebar-settings-button'\n].join(', ');\n\nSidebar.prototype.toggleSelector = '.aui-sidebar-footer > .aui-sidebar-toggle';\n\nSidebar.prototype.tooltipSelector = '.aui-sidebar-section-tooltip';\n\nSidebar.prototype.inlineDialogClass = 'aui-sidebar-submenu-dialog';\nSidebar.prototype.inlineDialogSelector = '.' + Sidebar.prototype.inlineDialogClass;\n\nfunction getAllSubmenuDialogs() {\n    return document.querySelectorAll(Sidebar.prototype.inlineDialogSelector);\n}\n\nfunction SubmenuManager () {\n    this.inlineDialog = null;\n}\n\nSubmenuManager.prototype.submenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return getSubmenu($trigger);\n};\n\nSubmenuManager.prototype.hasSubmenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return hasSubmenu($trigger);\n};\n\nSubmenuManager.prototype.submenuHeadingHeight = function () {\n    sidebarSubmenuDeprecationLogger();\n    return 34;\n};\n\nSubmenuManager.prototype.isShowing = function () {\n    sidebarSubmenuDeprecationLogger();\n    return Sidebar.prototype.isSubmenuVisible();\n};\n\nSubmenuManager.prototype.show = function (e, trigger) {\n    sidebarSubmenuDeprecationLogger();\n    showSubmenu(trigger);\n};\n\nSubmenuManager.prototype.hide = function () {\n    sidebarSubmenuDeprecationLogger();\n    hideAllSubmenus();\n};\n\nSubmenuManager.prototype.inlineDialogShowHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.inlineDialogHideHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.moveSubmenuToInlineDialog = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.restoreSubmenu = function () {\n    sidebarSubmenuDeprecationLogger();\n};\n\nSidebar.prototype.getVisibleSubmenus = function () {\n    return Array.prototype.filter.call(getAllSubmenuDialogs(), function (inlineDialog2) {\n        return inlineDialog2.open;\n    });\n};\n\nSidebar.prototype.isSubmenuVisible = function () {\n    return this.getVisibleSubmenus().length > 0;\n};\n\nfunction getSubmenu($trigger) {\n    return $trigger.is('a') ? $trigger.next('.aui-nav') : $trigger.children('.aui-nav, hr');\n}\n\nfunction getSubmenuInlineDialog(trigger) {\n    var inlineDialogId = trigger.getAttribute('aria-controls');\n    return document.getElementById(inlineDialogId);\n}\n\nfunction hasSubmenu($trigger) {\n    return getSubmenu($trigger).length !== 0;\n}\n\nfunction hideAllSubmenus() {\n    var allSubmenuDialogs = getAllSubmenuDialogs();\n    Array.prototype.forEach.call(allSubmenuDialogs, function (inlineDialog2) {\n        inlineDialog2.open = false;\n    });\n}\n\nfunction showSubmenu(trigger) {\n    getSubmenuInlineDialog(trigger).open = true;\n}\n\nfunction constructSubmenu(sidebar, $trigger) {\n    if ($trigger.data('_aui-sidebar-submenu-constructed')) {\n        return;\n    } else {\n        $trigger.data('_aui-sidebar-submenu-constructed', true)\n    }\n\n    if (!hasSubmenu($trigger)) {\n        return;\n    }\n\n    var submenuInlineDialog = document.createElement('aui-inline-dialog');\n\n    var uniqueId = uid('sidebar-submenu');\n\n    $trigger.attr('aria-controls', uniqueId);\n    $trigger.attr('data-aui-trigger', '');\n    skate.init($trigger); //Trigger doesn't listen to attribute modification\n\n    submenuInlineDialog.setAttribute('id', uniqueId);\n    submenuInlineDialog.setAttribute('alignment', 'right top');\n    submenuInlineDialog.setAttribute('hidden', '');\n    submenuInlineDialog.setAttribute('contained-by', 'viewport');\n    if (sidebar.isCollapsed()) {\n        submenuInlineDialog.setAttribute('responds-to', 'hover');\n    }\n\n    $(submenuInlineDialog).addClass(Sidebar.prototype.inlineDialogClass);\n\n    document.body.appendChild(submenuInlineDialog);\n    skate.init(submenuInlineDialog); //Needed so that sidebar.submenus.isShowing() will work on page load\n\n    addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog);\n\n    return submenuInlineDialog;\n}\n\nfunction didOtherLayerOpened(e) {\n    return e.target.tagName !== 'AUI-INLINE-DIALOG';\n}\n\nfunction didNestedInlineDialogOpened(e) {\n    return !e.target.classList.contains('aui-sidebar-submenu-dialog');\n}\n\nfunction addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog) {\n    submenuInlineDialog.addEventListener('aui-layer-show', function (e) {\n        if (!sidebar.isCollapsed()) {\n            e.preventDefault();\n            return;\n        }\n\n        // we only care if sidebars inline dialog is opening\n        if (didOtherLayerOpened(e) || didNestedInlineDialogOpened(e)) {\n            return;\n        }\n\n        /**\n         * trigger an event on inline dialog trigger and pass a reference to the inline dialog.\n         * this let's one perform actions and modify content before it is displayed, for example lazy load submenu content\n         */\n        var customEvent = $.Event('aui-sidebar-submenu-before-show');\n        $trigger.trigger(customEvent, submenuInlineDialog);\n        if (customEvent.isDefaultPrevented()) {\n            e.preventDefault();\n            return;\n        }\n        inlineDialogShowHandler($trigger, submenuInlineDialog);\n    });\n\n    submenuInlineDialog.addEventListener('aui-layer-hide', function () {\n        inlineDialogHideHandler($trigger);\n    });\n}\n\nfunction inlineDialogShowHandler($trigger, submenuInlineDialog) {\n    $trigger.addClass('active');\n    submenuInlineDialog.innerHTML = SUBMENU_INLINE_DIALOG_CONTENTS_HTML;\n    var title = $trigger.is('a') ? $trigger.text() : $trigger.children('.aui-nav-heading').text();\n\n    var $container = $(submenuInlineDialog).find('.aui-navgroup-inner');\n    $container.children('.aui-nav-heading')\n        .attr('title', title)\n        .children('strong')\n        .text(title);\n\n    var $submenu = getSubmenu($trigger);\n    cloneExpander($submenu).appendTo($container);\n\n    /**\n     * Workaround to show all contents in the expander.\n     * This function should come from the expander component.\n     */\n    function cloneExpander(element) {\n        const $clone = clone(element);\n        deduplicateIDs($clone, uid);\n\n        if ($clone.hasClass('aui-expander-content')) {\n            $clone.find('.aui-expander-cutoff').remove();\n            $clone.removeClass('aui-expander-content');\n        }\n        return $clone;\n    }\n}\n\nconst SUBMENU_INLINE_DIALOG_CONTENTS_HTML =\n    '<div class=\"aui-inline-dialog-contents\">' +\n    '<div class=\"aui-sidebar-submenu\" >' +\n    '<div class=\"aui-navgroup aui-navgroup-vertical\">' +\n    '<div class=\"aui-navgroup-inner\">' +\n    '<div class=\"aui-nav-heading\"><strong></strong></div>' +\n    '</div>' +\n    '</div>' +\n    '</div>' +\n    '</div>';\n\nfunction inlineDialogHideHandler($trigger) {\n    $trigger.removeClass('active');\n}\n\nfunction constructAllSubmenus(sidebar) {\n    $(sidebar.collapsedTriggersSelector).each(function () {\n        var $trigger = $(this);\n        constructSubmenu(sidebar, $trigger);\n    });\n}\n\nvar tipsyOpts = {\n    trigger: 'manual',\n    gravity: 'w',\n    className: 'aui-sidebar-section-tooltip',\n    title: function () {\n        var $item = $(this);\n        if ($item.is('a') || $item.is('button')) {\n            return $item.attr('title') || $item.find('.aui-nav-item-label').text() || $item.data('tooltip');\n        } else {\n            return $item.children('.aui-nav').attr('title') || $item.children('.aui-nav-heading').text();\n        }\n    }\n};\n\nfunction showTipsy($trigger) {\n    $trigger.tooltip(tipsyOpts).tooltip('show');\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) { // if .aui-sidebar-group does not have a title to display\n        // Remove \"opacity\" inline style from Tipsy to allow the our own styles and transitions to be applied\n        $tip.css({opacity: ''}).addClass('tooltip-shown');\n    }\n}\n\nfunction hideTipsy($trigger) {\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) {\n        var durationStr = $tip.css('transition-duration');\n\n        if (durationStr) {\n            // can be denominated in either s or ms\n            var timeoutMs = (durationStr.indexOf('ms') >= 0) ?\n                parseInt(durationStr.substring(0, durationStr.length - 2), 10) :\n                1000 * parseInt(durationStr.substring(0, durationStr.length - 1), 10);\n\n            // use a timeout because the transitionend event is not reliable (yet),\n            // more details here: https://bitbucket.atlassian.net/browse/BB-11599\n            // an example of this at http://labs.silverorange.com/files/webkit-bug/\n            // further caveats here: https://developer.mozilla.org/en-US/docs/Web/Events/transitionend\n            // \"In the case where a transition is removed before completion,\n            // such as if the transition-property is removed, then the event will not fire.\"\n            setTimeout(function () {\n                if ($tip.hasClass('tooltip-shown')) {\n                    $trigger.tooltip('hide');\n                    $tip.removeClass('tooltip-shown');\n                }\n            }, timeoutMs);\n        } else {\n            $tip.removeClass('tooltip-shown');\n        }\n    }\n}\n\nfunction lazilyInitializeSubmenus (sidebar) {\n    sidebar.$el.on('mouseenter mouseleave click focus', sidebar.collapsedTriggersSelector, function (e) {\n        const $trigger = $(e.target);\n        constructSubmenu(sidebar, $trigger);\n    });\n}\n\nfunction initializeHandlers(sidebar) {\n    var $sidebar = $('.aui-sidebar');\n    if (!$sidebar.length) {\n        return;\n    }\n\n    lazilyInitializeSubmenus(sidebar);\n\n    // AUI-2542: only enter touch mode on small screen touchable devices\n    if (hasTouch && mediaQuery('only screen and (max-device-width:1024px)')) {\n        $('body').addClass('aui-page-sidebar-touch');\n    }\n\n    var pendingReflow = null;\n    var onScrollResizeReflow = function () {\n        if (pendingReflow === null) {\n            pendingReflow = requestAnimationFrame(function () {\n                sidebar.reflow();\n                pendingReflow = null;\n            });\n        }\n    };\n\n    $(window).on('scroll resize', onScrollResizeReflow);\n    onScrollResizeReflow();\n\n    if (sidebar.isAnimated()) {\n        sidebar.$el.on('transitionend webkitTransitionEnd', function () {\n            sidebar.$el.trigger($.Event(EVENT_PREFIX + (sidebar.isCollapsed() ? 'collapse-end' : 'expand-end')));\n        });\n    }\n\n    sidebar.$el.on('click', '.aui-sidebar-toggle', function (e) {\n        e.preventDefault();\n        sidebar.toggle();\n    });\n\n    $('.aui-page-panel').on('click', function () {\n        if (!sidebar.isCollapsed() && sidebar.isViewportNarrow()) {\n            sidebar.collapse();\n        }\n    });\n\n    var toggleShortcutHandler = function (e) {\n        if (isNormalSquareBracket(e)) {\n            sidebar.toggle();\n        }\n    };\n\n    //We use keypress because it captures the actual character that was typed and not the physical key that was pressed.\n    //This accounts for other keyboard layouts\n\n    $(document).on('keypress', toggleShortcutHandler);\n\n    sidebar._remove = function () {\n        this._removeAllTooltips();\n        $(this.inlineDialogSelector).remove();\n        this.$el.off();\n        this.$el.remove();\n        $(document).off('keypress', toggleShortcutHandler);\n        $(window).off('scroll resize', onScrollResizeReflow);\n    };\n\n    sidebar.$el.on('touchend', function (e) {\n        if (sidebar.isCollapsed()) {\n            sidebar.expand();\n            e.preventDefault();\n        }\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.collapsedTriggersSelector, function () {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n\n        var $trigger = $(this);\n\n        if (!hasSubmenu($trigger)) {\n            showTipsy($trigger);\n        }\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.collapsedTriggersSelector, function () {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n        hideTipsy($(this));\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.toggleSelector, function () {\n        var $trigger = $(this);\n        if (sidebar.isCollapsed()) {\n            $trigger.data('tooltip', I18n.getText('aui.sidebar.expand.tooltip'));\n        } else {\n            $trigger.data('tooltip', I18n.getText('aui.sidebar.collapse.tooltip'));\n        }\n        showTipsy($trigger);\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.toggleSelector, function () {\n        hideTipsy($(this));\n    });\n\n    function isNormalTab(e) {\n        return e.keyCode === keyCode.TAB && !e.shiftKey && !e.altKey;\n    }\n\n    function isNormalSquareBracket(e) {\n        return e.which === keyCode.LEFT_SQUARE_BRACKET && !e.shiftKey && !e.ctrlKey && !e.metaKey && !isInput(e.target);\n    }\n\n    function isShiftTab(e) {\n        return e.keyCode === keyCode.TAB && e.shiftKey;\n    }\n\n    function isFirstSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable')[0];\n    }\n\n    function isLastSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable').last()[0];\n    }\n\n    /**\n     * Force to focus on the first tabbable item in inline dialog.\n     * Reason: inline dialog will be hidden as soon as the trigger is out of focus (onBlur event)\n     * This function should come directly from inline dialog component.\n     */\n    function focusFirstItemOfInlineDialog($inlineDialog) {\n        $inlineDialog.attr('persistent', '');\n        // don't use :aui-tabbable:first as it will select the first tabbable item in EACH nav group\n        $inlineDialog.find(':aui-tabbable').first().focus();\n        // workaround on IE:\n        // delay the persistence of inline dialog to make sure onBlur event was triggered first\n        setTimeout(function () {\n            $inlineDialog.removeAttr('persistent');\n        }, 100);\n    }\n\n    sidebar.$el.on('keydown', sidebar.collapsedTriggersSelector, function (e) {\n        if (sidebar.isCollapsed()) {\n            var triggerEl = e.target;\n            var submenuInlineDialog = getSubmenuInlineDialog(triggerEl);\n            if (!submenuInlineDialog) {\n                return;\n            }\n\n            var $submenuInlineDialog = $(submenuInlineDialog);\n\n            if (isNormalTab(e) && submenuInlineDialog.open) {\n                e.preventDefault();\n                focusFirstItemOfInlineDialog($submenuInlineDialog);\n\n                $submenuInlineDialog.on('keydown', function (e) {\n                    if (isShiftTab(e) && isFirstSubmenuItem(e.target, $submenuInlineDialog) || isNormalTab(e) && isLastSubmenuItem(e.target, $submenuInlineDialog)) {\n                        triggerEl.focus();\n                        // unbind event and close submenu as the focus is out of the submenu\n                        $(this).off('keydown');\n                        hideAllSubmenus();\n                    }\n                });\n            }\n        }\n    });\n}\n\nvar sidebar = widget('sidebar', Sidebar);\n\n$(function () {\n    sidebar('.aui-sidebar');\n});\n\nvar sidebarSubmenuDeprecationLogger = deprecate.getMessageLogger('Sidebar.submenus', {\n    removeInVersion: '10.0.0',\n    sinceVersion: '5.8.0'\n});\n\nglobalize('sidebar', sidebar);\n\nexport default sidebar;\n","/**\n * Inspired by matchMedia() polyfill\n * https://github.com/paulirish/matchMedia.js/blob/953faa1489284655ed9d6e03bf48d39df70612c4/matchMedia.js\n */\n\n\nexport default function mediaQuery (mq) {\n    if (window.matchMedia) {\n        return window.matchMedia(mq).matches;\n    }\n\n    // fallback support for <=IE9 (remove this code if we don't want to support IE9 anymore)\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.id = 'testMedia';\n    style.innerText = `@media ${mq} { #testMedia { width: 1px; } }`;\n    document.head.appendChild(style);\n    var info = window.getComputedStyle(style, null);\n    var testMediaQuery = info.width === '1px';\n    style.parentNode.removeChild(style);\n    return testMediaQuery;\n};\n","export default function (el) {\n    return 'value' in el || el.isContentEditable;\n}\n","import $ from './jquery';\nimport keyCode from './key-code';\nimport * as logger from './internal/log';\nimport * as deprecate from './internal/deprecation';\nimport { trigger } from './event';\nimport { dim, undim } from './blanket';\nimport { enable } from './forms';\nimport globalize from './internal/globalize';\n\n/* eslint complexity:off, eqeqeq:off, max-depth:off, no-unused-vars:off, strict:off */\nconst ZINDEX_DIALOG_1 = 2600; // see also dialog.less\n\n/**\n * Creates a generic popup that will be displayed in the center of the screen with a\n * grey blanket in the background.\n * Usage:\n * <pre>\n * createPopup({\n *     width: 800,\n *     height: 400,\n *     id: \"my-dialog\"\n * });\n * </pre>\n * @param options {object} [optional] Permitted options and defaults are as follows:\n * width (800), height (600), keypressListener (closes dialog on ESC).\n*/\nfunction createPopup (options) {\n    var defaults = {\n        width: 800,\n        height: 600,\n        closeOnOutsideClick: false,\n        keypressListener: function (e) {\n            if (e.keyCode === keyCode.ESCAPE && popup.is(':visible')) {\n                res.hide();\n            }\n        }\n    };\n    // for backwards-compatibility\n    if (typeof options !== 'object') {\n        options = {\n            width: arguments[0],\n            height: arguments[1],\n            id: arguments[2]\n        };\n        options = $.extend({}, options, arguments[3]);\n    }\n    options = $.extend({}, defaults, options);\n    var popup = $('<div></div>').addClass('aui-popup');\n\n    if (options.id) {\n        popup.attr('id', options.id);\n    }\n    //find the highest z-index on the page to ensure any new popup that is shown is shown on top\n    var highestZIndex = ZINDEX_DIALOG_1;\n    $('.aui-dialog').each(function () {\n        var currentPopup = $(this);\n        highestZIndex = (currentPopup.css('z-index') > highestZIndex) ? currentPopup.css('z-index') : highestZIndex;\n    });\n\n    var applySize = (function _applySize (width, height) {\n        options.width = (width = (width || options.width));\n        options.height = (height = (height || options.height));\n\n        popup.css({\n            marginTop: -Math.round(height / 2) + 'px',\n            marginLeft: -Math.round(width / 2) + 'px',\n            width: width,\n            height: height,\n            'z-index': parseInt(highestZIndex,10) + 2  //+ 2 so that the shadow can be shown on +1 (underneath the popup but above everything else)\n        });\n        return _applySize;\n    }(options.width, options.height));\n\n    $('body').append(popup);\n\n    popup.hide();\n    enable(popup);\n\n    /**\n     * Popup object\n     * @class Popup\n     * @static\n    */\n\n    //blanket for reference further down\n    var blanket = $('.aui-blanket');\n    var focusItem = function (selector, element) {\n        var item = $(selector, element);\n        if (item.length) {\n            item.focus();\n            return true;\n        }\n        return false;\n    };\n    // we try and place focus, in the configured element or by looking for the first input\n    // in page body, then button panel and finally page menu.\n    var focusDialog = function (element) {\n        if ($('.dialog-page-body', element).find(':focus').length !== 0) {\n            return;\n        }\n        if (options.focusSelector) {\n            return focusItem(options.focusSelector, element);\n        }\n        var defaultFocusSelector = ':input:visible:enabled:first';\n        if (focusItem(defaultFocusSelector, $('.dialog-page-body', element))) { return; }\n        if (focusItem(defaultFocusSelector, $('.dialog-button-panel', element))) { return; }\n\n        focusItem(defaultFocusSelector, $('.dialog-page-menu', element));\n    };\n\n    var res = {\n\n        changeSize: function (w, h) {\n            if ((w && w != options.width) || (h && h != options.height)) {\n                applySize(w, h);\n            }\n            this.show();\n        },\n\n        /**\n         * Shows the popup\n         * @method show\n        */\n        show: function () {\n\n            var show = function () {\n                $(document)\n                    .off('keydown', options.keypressListener)\n                    .on('keydown', options.keypressListener);\n                dim();\n                blanket = $('.aui-blanket');\n                if (blanket.length !== 0 && options.closeOnOutsideClick){\n                    blanket.on('click', function () {\n                        if (popup.is(':visible')){\n                            res.hide();\n                        }\n                    });\n                }\n                popup.show();\n\n                createPopup.current = this;\n                focusDialog(popup);\n                $(document).trigger('showLayer', ['popup', this]);\n            };\n            show.call(this);\n            this.show = show;\n        },\n        /**\n         * Hides the popup.\n         * @method hide\n        */\n        hide: function () {\n            $(document).unbind('keydown', options.keypressListener);\n            blanket.unbind();\n            this.element.hide();\n\n            //only undim if no other dialogs are visible\n            if ($('.aui-dialog:visible').length === 0) {\n                undim();\n            }\n\n            // AUI-1059: remove focus from the active element when dialog is hidden\n            var activeElement = document.activeElement;\n            if (this.element.has(activeElement).length) {\n                activeElement.blur();\n            }\n\n            $(document).trigger('hideLayer', ['popup', this]);\n            createPopup.current = null;\n            this.enable();\n        },\n        /**\n         * jQuery object, representing popup DOM element\n         * @property element\n        */\n        element: popup,\n        /**\n         * Removes popup elements from the DOM\n         * @method remove\n        */\n        remove: function () {\n            popup.remove();\n            this.element = null;\n        },\n        /**\n         * disables the popup\n         * @method disable\n        */\n        disable: function () {\n            if (!this.disabled){\n                this.popupBlanket = $(\"<div class='dialog-blanket'> </div>\").css({\n                    height: popup.height(),\n                    width: popup.width()\n                });\n                popup.append(this.popupBlanket);\n                this.disabled = true;\n            }\n        },\n        /**\n         * enables the popup if it is disabled\n         * @method enable\n        */\n        enable: function () {\n            if (this.disabled) {\n                this.disabled = false;\n                this.popupBlanket.remove();\n                this.popupBlanket = null;\n            }\n        }\n    };\n\n    return res;\n}\n\n// Scoping function\nvar Dialog = (function () {\n    /**\n     * @class Button\n     * @constructor Button\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Button(page, label, onclick, className) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = $('<button></button>').html(label).addClass('button-panel-button');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick === 'function') {\n            this.item.on('click', this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    /**\n     * @class Link\n     * @constructor Link\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Link(page, label, onclick, className, url) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n\n        //if no url is given use # as default\n        if (!url){\n            url = '#';\n        }\n\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = $('<a></a>').html(label).attr('href', url).addClass('button-panel-link');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick === 'function') {\n            this.item.click(this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    function itemMove (leftOrRight, target) {\n        var dir = leftOrRight == 'left' ? -1 : 1;\n        return function (step) {\n            var dtarget = this.page[target];\n            if (this.id != ((dir == 1) ? dtarget.length - 1 : 0)) {\n                dir *= (step || 1);\n                dtarget[this.id + dir].item[(dir < 0 ? 'before' : 'after')](this.item);\n                dtarget.splice(this.id, 1);\n                dtarget.splice(this.id + dir, 0, this);\n                for (var i = 0, ii = dtarget.length; i < ii; i++) {\n                    if (target == 'panel' && this.page.curtab == dtarget[i].id) {\n                        this.page.curtab = i;\n                    }\n                    dtarget[i].id = i;\n                }\n            }\n            return this;\n        };\n    }\n    function itemRemove(target) {\n        return function () {\n            this.page[target].splice(this.id, 1);\n            for (var i = 0, ii = this.page[target].length; i < ii; i++) {\n                this.page[target][i].id = i;\n            }\n            this.item.remove();\n        };\n    }\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveUp = Button.prototype.moveLeft = itemMove('left', 'button');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveDown = Button.prototype.moveRight = itemMove('right', 'button');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Button.prototype.remove = itemRemove('button');\n\n    /**\n     * Getter and setter for label\n     * @method label\n     * @param label {string} [optional] label of the button\n     * @return {string} label, if nothing is passed in\n     * @return {object} jQuery button object, if label is passed in\n    */\n    Button.prototype.html = function (label) {\n        return this.item.html(label);\n    };\n    /**\n     * Getter and setter of onclick event handler\n     * @method onclick\n     * @param onclick {function} [optional] new event handler, that is going to replace the old one\n     * @return {function} existing event handler if new one is undefined\n    */\n    Button.prototype.onclick = function (onclick) {\n        let self = this;\n        if (typeof onclick === 'undefined') {\n            return this.onclick;\n        } else {\n            this.item.unbind('click', this._onclick);\n            this._onclick = function (e) {\n                return onclick.call(this, self.page.dialog, self.page, e) === true;\n            };\n            if (typeof onclick === 'function') {\n                this.item.click(this._onclick);\n            }\n        }\n    };\n\n    var DEFAULT_PADDING = 20;\n\n    /**\n     * Class for panels\n     * @class Panel\n     * @constructor\n     * @param page {number} page id\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} the unique id that will be put on the button element for this panel.\n     * @private\n    */\n    var Panel = function (page, title, reference, className, panelButtonId) {\n        if (!(reference instanceof $)) {\n            reference = $(reference);\n        }\n\n        this.dialog = page.dialog;\n        this.page = page;\n        this.id = page.panel.length;\n        this.button = $('<button></button>').html(title).addClass('item-button');\n\n        if (panelButtonId) {\n            this.button[0].id = panelButtonId;\n        }\n\n        this.item = $('<li></li>').append(this.button).addClass('page-menu-item');\n        this.body = $('<div></div>').append(reference).addClass('dialog-panel-body').css('height', page.dialog.height + 'px');\n        this.padding = DEFAULT_PADDING;\n        if (className) {\n            this.body.addClass(className);\n        }\n        var i = page.panel.length;\n        var tab = this;\n        page.menu.append(this.item);\n        page.body.append(this.body);\n        page.panel[i] = this;\n        var onclick = function () {\n            var cur;\n            if (page.curtab + 1) {\n                cur = page.panel[page.curtab];\n                cur.body.hide();\n                cur.item.removeClass('selected');\n                (typeof cur.onblur === 'function') && cur.onblur();\n            }\n            page.curtab = tab.id;\n            tab.body.show();\n            tab.item.addClass('selected');\n            (typeof tab.onselect === 'function') && tab.onselect();\n            (typeof page.ontabchange === 'function') && page.ontabchange(tab, cur);\n        };\n        if (!this.button.click) {\n            logger.log('atlassian-dialog:Panel:constructor - this.button.click false');\n            this.button.onclick = onclick;\n        } else {\n            this.button.click(onclick);\n        }\n        onclick();\n        if (i == 0) {\n            page.menu.css('display', 'none'); // don't use jQuery hide()\n        } else {\n            page.menu.show();\n        }\n    };\n    /**\n     * Selects current panel\n     * @method select\n    */\n    Panel.prototype.select = function () {\n        this.button.click();\n    };\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveUp = Panel.prototype.moveLeft = itemMove('left', 'panel');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveDown = Panel.prototype.moveRight = itemMove('right', 'panel');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Panel.prototype.remove = itemRemove('panel');\n    /**\n     * Getter and setter of inner HTML of the panel\n     * @method html\n     * @param html {string} HTML source to set up\n     * @return {object} panel\n     * @return {string} current HTML source\n    */\n    Panel.prototype.html = function (html) {\n        if (html) {\n            this.body.html(html);\n            return this;\n        } else {\n            return this.body.html();\n        }\n    };\n    /**\n     * This method gives you ability to overwrite default padding value. Use it with caution.\n     * @method setPadding\n     * @param padding {number} padding in pixels\n     * @return {object} panel\n     * @see DEFAULT_PADDING\n    */\n    Panel.prototype.setPadding = function (padding) {\n        if (!isNaN(+padding)) {\n            this.body.css('padding', +padding);\n            this.padding = +padding;\n            this.page.recalcSize();\n        }\n        return this;\n    };\n\n    var HEADER_HEIGHT = 62;\n    var BUTTONS_HEIGHT = 52;\n    var MIN_DIALOG_VERTICAL_BUFFER = 50;\n\n    /**\n     * Class for pages\n     * @class Page\n     * @constructor\n     * @param dialog {object} dialog object\n     * @param className {string} [optional] HTML class name\n     * @private\n    */\n    var Page = function (dialog, className) {\n        this.dialog = dialog;\n        this.id = dialog.page.length;\n        this.element = $('<div></div>').addClass('dialog-components');\n        this.body = $('<div></div>').addClass('dialog-page-body');\n        this.menu = $('<ul></ul>').addClass('dialog-page-menu').css('height', dialog.height + 'px');\n        this.body.append(this.menu);\n        this.curtab;\n        this.panel = [];\n        this.button = [];\n        if (className) {\n            this.body.addClass(className);\n        }\n        dialog.popup.element.append(this.element.append(this.menu).append(this.body));\n        dialog.page[dialog.page.length] = this;\n    };\n\n    /**\n     * Size updater for contents of the page. For internal use\n     * @method recalcSize\n    */\n    Page.prototype.recalcSize = function () {\n        var headerHeight = this.header ? HEADER_HEIGHT : 0;\n        var buttonHeight = this.buttonpanel ? BUTTONS_HEIGHT : 0;\n        for (var i = this.panel.length; i--;) {\n            var dialogComponentsHeight = this.dialog.height - headerHeight - buttonHeight;\n            this.panel[i].body.css('height', dialogComponentsHeight);\n            this.menu.css('height', dialogComponentsHeight);\n        }\n    };\n\n    /**\n     * Adds a button panel to the bottom of dialog\n     * @method addButtonPanel\n     */\n    Page.prototype.addButtonPanel = function () {\n        this.buttonpanel = $('<div></div>').addClass('dialog-button-panel');\n        this.element.append(this.buttonpanel);\n    };\n\n    /**\n     * Method for adding new panel to the page\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} [optional] The unique id for the panel's button.\n     * @return {object} the page\n    */\n    Page.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        new Panel(this, title, reference, className, panelButtonId);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding header to the page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] CSS class name\n     * @return {object} the page\n    */\n    Page.prototype.addHeader = function (title, className) {\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header =  $('<h2></h2>').text(title || '').addClass('dialog-title');\n        className && this.header.addClass(className);\n        this.element.prepend(this.header);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new button to the page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addButton = function (label, onclick, className) {\n        new Button(this, label, onclick, className);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new link to the page\n     * @method addLink\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addLink = function (label, onclick, className, url) {\n        new Link(this, label, onclick, className, url);\n        this.recalcSize();\n        return this;\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Page.prototype.gotoPanel = function (panel) {\n        this.panel[panel.id || panel].select();\n    };\n    /**\n     * Returns current panel on the page\n     * @method getCurrentPanel\n     * @return panel {object} the panel\n    */\n    Page.prototype.getCurrentPanel = function () {\n        return this.panel[this.curtab];\n    };\n    /**\n     * Hides the page\n     * @method hide\n    */\n    Page.prototype.hide = function () {\n        this.element.hide();\n    };\n    /**\n     * Shows the page, if it was hidden\n     * @method show\n    */\n    Page.prototype.show = function () {\n        this.element.show();\n    };\n    /**\n     * Removes the page\n     * @method remove\n    */\n    Page.prototype.remove = function () {\n        this.element.remove();\n    };\n\n\n\n    /**\n     * Constructor for a Dialog. A Dialog is a popup which consists of Pages, where each Page can consist of Panels,\n     * Buttons and a Header. The dialog must be constructed in page order as it has a current page state. For example,\n     * calling addButton() will add a button to the 'current' page.\n     * <p>\n     * By default, a new Dialog will have one page. If there are multiple Panels on a Page, a\n     * menu is displayed on the left side of the dialog.\n     * </p>\n     * Usage:\n     * <pre>\n     * var dialog = new Dialog(860, 530);\n     * dialog.addHeader(\"Insert Macro\")\n     * .addPanel(\"All\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addPanel(\"Some\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addButton(\"Next\", function (dialog) {dialog.nextPage();})\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * dialog.addPage()\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * somebutton.on('click', function () {dialog.show();});\n     * </pre>\n     * @class Dialog\n     * @constructor\n     * @param width {number} dialog width in pixels, or an object containing the Dialog parameters\n     * @param height {number} dialog height in pixels\n     * @param id {number} [optional] dialog id\n    */\n    function Dialog (width, height, id) {\n        var options = {};\n        if (!+width) {\n            options = Object(width);\n            width = options.width;\n            height = options.height;\n            id = options.id;\n        }\n        this.height = height || 480;\n        this.width = width || 640;\n        this.id = id;\n        options = $.extend({}, options, {\n            width: this.width,\n            height: this.height,\n            id: this.id\n        });\n        this.popup = createPopup(options);\n\n        this.popup.element.addClass('aui-dialog');\n        this.page = [];\n        this.curpage = 0;\n\n        new Page(this);\n    };\n\n\n    /**\n     * Method for adding header to the current page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addHeader = function (title, className) {\n        this.page[this.curpage].addHeader(title, className);\n        return this;\n    };\n    /**\n     * Method for adding new button to the current page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButton = function (label, onclick, className) {\n        this.page[this.curpage].addButton(label, onclick, className);\n        return this;\n    };\n\n    /**\n     * Method for adding new link to the current page\n     * @method addButton\n     * @param label {string} link label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addLink = function (label, onclick, className, url) {\n        this.page[this.curpage].addLink(label, onclick, className, url);\n        return this;\n    };\n\n    /**\n    * Method for adding a submit button to the current page\n    * @method addSubmit\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addSubmit = function (label, onclick) {\n        this.page[this.curpage].addButton(label, onclick, 'button-panel-submit-button');\n        return this;\n    };\n\n    /**\n    * Method for adding a cancel link to the current page\n    * @method addCancel\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addCancel = function (label, onclick) {\n        this.page[this.curpage].addLink(label, onclick, 'button-panel-cancel-link');\n        return this;\n    };\n\n\n    /**\n     * Method for adding new button panel to the current page\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButtonPanel = function () {\n        this.page[this.curpage].addButtonPanel();\n        return this;\n    };\n\n\n    /**\n     * Method for adding new panel to the current page.\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {String} [optional] The unique id for the panel's button.\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        this.page[this.curpage].addPanel(title, reference, className, panelButtonId);\n        return this;\n    };\n    /**\n     * Adds a new page to the dialog and sets the new page as the current page\n     * @method addPage\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPage = function (className) {\n        new Page(this, className);\n        this.page[this.curpage].hide();\n        this.curpage = this.page.length - 1;\n        return this;\n    };\n    /**\n     * Making next page in hierarchy visible and active\n     * @method nextPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.nextPage = function () {\n        this.page[this.curpage++].hide();\n        if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making previous page in hierarchy visible and active\n     * @method prevPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.prevPage = function () {\n        this.page[this.curpage--].hide();\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making specified page visible and active\n     * @method gotoPage\n     * @param num {number} page id\n     * @return {object} the dialog\n    */\n    Dialog.prototype.gotoPage = function (num) {\n        this.page[this.curpage].hide();\n        this.curpage = num;\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        } else if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Returns specified panel at the current page\n     * @method getPanel\n     * @param pageorpanelId {number} page id or panel id\n     * @param panelId {number} panel id\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getPanel = function (pageorpanelId, panelId) {\n        var pageid = (panelId == null) ? this.curpage : pageorpanelId;\n        if (panelId == null) {\n            panelId = pageorpanelId;\n        }\n        return this.page[pageid].panel[panelId];\n    };\n    /**\n     * Returns specified page\n     * @method getPage\n     * @param pageid {number} page id\n     * @return {object} the internal Page Object\n    */\n    Dialog.prototype.getPage = function (pageid) {\n        return this.page[pageid];\n    };\n    /**\n     * Returns current panel at the current page\n     * @method getCurrentPanel\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getCurrentPanel = function () {\n        return this.page[this.curpage].getCurrentPanel();\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param pageorpanel {object} panel object or page object\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Dialog.prototype.gotoPanel = function (pageorpanel, panel) {\n        if (panel != null) {\n            var pageid = pageorpanel.id || pageorpanel;\n            this.gotoPage(pageid);\n        }\n        this.page[this.curpage].gotoPanel(typeof panel === 'undefined' ? pageorpanel : panel);\n    };\n\n    /**\n     * Shows the dialog, if it is not visible\n     * @method show\n     * @return {object} the dialog\n    */\n    Dialog.prototype.show = function () {\n        this.popup.show();\n        trigger('show.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Hides the dialog, if it was visible\n     * @method hide\n     * @return {object} the dialog\n    */\n    Dialog.prototype.hide = function () {\n        this.popup.hide();\n        trigger('hide.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Removes the dialog elements from the DOM\n     * @method remove\n    */\n    Dialog.prototype.remove = function () {\n        this.popup.hide();\n        this.popup.remove();\n        trigger('remove.dialog', {dialog: this});\n    };\n    /**\n     * Disables the dialog if enabled\n     * @method disable\n    */\n    Dialog.prototype.disable = function () {\n        this.popup.disable();\n        return this;\n    };\n    /**\n     * Enables the dialog if disabled\n     * @method disable\n    */\n    Dialog.prototype.enable = function () {\n        this.popup.enable();\n        return this;\n    };\n    /**\n     * Gets set of items depending on query\n     * @method get\n     * @param query {string} query to search for panels, pages, headers or buttons\n     * e.g.\n     *      '#Name' will find all dialog components with the given name such as panels and buttons, etc\n     *      'panel#Name' will find only panels with the given name\n     *      'panel#\"Foo bar\"' will find only panels with given name\n     *      'panel:3' will find the third panel\n     */\n    Dialog.prototype.get = function (query) {\n        var coll = [];\n        var dialog = this;\n        var nameExp = '#([^\"][^ ]*|\"[^\"]*\")';     // a name is a hash followed by either a bare word or quoted string\n        var indexExp = ':(\\\\d+)';                 // an index is a colon followed by some digits\n        var typeExp = 'page|panel|button|header'; // one of the allowed types\n        var selectorExp = '(?:' +                 // a selector is either ...\n            '(' + typeExp + ')(?:' + nameExp + '|' + indexExp + ')?' + // a type optionally followed by either #name or :index\n            '|' + nameExp +                       // or just a #name\n            ')';\n        var queryRE = new RegExp('(?:^|,)' +      // a comma or at the start of the line\n            '\\\\s*' + selectorExp +                // optional space and a selector\n            '(?:\\\\s+' + selectorExp + ')?' +      // optionally, followed by some space and a second selector\n            '\\\\s*(?=,|$)', 'ig');                 // followed by, but not including, a comma or the end of the string\n        (query + '').replace(queryRE, function (all, name, title, id, justtitle, name2, title2, id2, justtitle2) {\n            name = name && name.toLowerCase();\n            var pages = [];\n            if (name == 'page' && dialog.page[id]) {\n                pages.push(dialog.page[id]);\n                name = name2;\n                name = name && name.toLowerCase();\n                title = title2;\n                id = id2;\n                justtitle = justtitle2;\n            } else {\n                pages = dialog.page;\n            }\n            title = title && (title + '').replace(/\"/g, '');\n            title2 = title2 && (title2 + '').replace(/\"/g, '');\n            justtitle = justtitle && (justtitle + '').replace(/\"/g, '');\n            justtitle2 = justtitle2 && (justtitle2 + '').replace(/\"/g, '');\n            if (name || justtitle) {\n                for (var i = pages.length; i--;) {\n                    if (justtitle || (name == 'panel' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].panel.length; j--;) {\n                            if (pages[i].panel[j].button.html() == justtitle || pages[i].panel[j].button.html() == title || (name == 'panel' && !title && id == null)) {\n                                coll.push(pages[i].panel[j]);\n                            }\n                        }\n                    }\n                    if (justtitle || (name == 'button' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].button.length; j--;) {\n                            if (pages[i].button[j].item.html() == justtitle || pages[i].button[j].item.html() == title || (name == 'button' && !title && id == null)) {\n                                coll.push(pages[i].button[j]);\n                            }\n                        }\n                    }\n                    if (pages[i][name] && pages[i][name][id]) {\n                        coll.push(pages[i][name][id]);\n                    }\n                    if (name == 'header' && pages[i].header) {\n                        coll.push(pages[i].header);\n                    }\n                }\n            } else {\n                coll = coll.concat(pages);\n            }\n        });\n        var res = {\n            length: coll.length\n        };\n        for (var i = coll.length; i--;) {\n            res[i] = coll[i];\n            for (var method in coll[i]) {\n                if (!(method in res)) {\n                    (function (m) {\n                        res[m] = function () {\n                            for (var j = this.length; j--;) {\n                                if (typeof this[j][m] === 'function') {\n                                    this[j][m].apply(this[j], arguments);\n                                }\n                            }\n                        };\n                    }(method));\n                }\n            }\n        }\n        return res;\n    };\n\n    /**\n     * Updates height of panels, to contain content without the need for scroll bars.\n     *\n     * @method updateHeight\n     */\n    Dialog.prototype.updateHeight = function () {\n        var height = 0;\n        var maxDialogHeight = $(window).height() - HEADER_HEIGHT - BUTTONS_HEIGHT - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n        for (var i = 0; this.getPanel(i); i++) {\n            if (this.getPanel(i).body.css({height: 'auto', display: 'block'}).outerHeight() > height) {\n                height = Math.min(maxDialogHeight, this.getPanel(i).body.outerHeight());\n            }\n            if (i !== this.page[this.curpage].curtab) {\n                this.getPanel(i).body.css({display: 'none'});\n            }\n        }\n        for (i = 0; this.getPanel(i); i++) {\n            this.getPanel(i).body.css({height: height || this.height});\n        }\n        this.page[0].menu.height(height);\n        this.height = height + HEADER_HEIGHT + BUTTONS_HEIGHT + 1;\n        this.popup.changeSize(undefined, this.height);\n    };\n\n    /**\n     * Returns whether the dialog has been resized to it's maximum height (has been capped by the viewport height and vertical buffer).\n     *\n     * @method isMaximised\n     */\n    Dialog.prototype.isMaximised = function () {\n        return this.popup.element.outerHeight() >= $(window).height() - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n    };\n\n    /**\n     * Returns the current panel.\n     * @deprecated Since 3.0.1 Use getCurrentPanel() instead.\n     */\n    Dialog.prototype.getCurPanel = function () {\n        return this.getPanel(this.page[this.curpage].curtab);\n    };\n\n    /**\n     * Returns the current button panel.\n     * @deprecated Since 3.0.1 Use get() instead.\n     */\n    Dialog.prototype.getCurPanelButton = function () {\n        return this.getCurPanel().button;\n    };\n\n    return Dialog;\n\n}());\n\nDialog = deprecate.construct(Dialog, 'Dialog constructor', {\n    alternativeName: 'Dialog2'\n});\n\ncreatePopup = deprecate.construct(createPopup, 'Dialog popup constructor', {\n    alternatveName: 'Dialog2'\n});\n\nglobalize('Dialog', Dialog);\nglobalize('popup', createPopup);\n\nexport {\n    Dialog,\n    createPopup as popup\n};\n","import $ from './jquery';\nimport '../jquery/jquery.hotkeys';\nimport '../jquery/jquery.moveto';\nimport * as logger from './internal/log';\nimport { I18n } from './i18n';\nimport { popup } from './dialog';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport { isEqual } from 'underscore';\n\nconst EMPTY_SELECTOR = false;\n\nvar isMac = navigator.platform.indexOf('Mac') !== -1;\nvar isSafari = navigator.userAgent.indexOf('Safari') !== -1;\nvar multiCharRegex = /^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\\d\\d?|numlock|meta)/i;\n\n/**\n * Trigger native click event.\n * @param $el\n */\nconst triggerClickEvent = ($el) => {\n    const element = $el[0];\n\n    if (element) {\n        // Native event bubbles are compatible with Synthetic Event from React\n        const bubbles = true;\n        const cancelable = true;\n        const event = document.createEvent('MouseEvent');\n        event.initMouseEvent('click', bubbles, cancelable, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        element.dispatchEvent(event);\n    }\n};\n\n\n/**\n * Keyboard commands with syntactic sugar.\n *\n * <strong>Usage:</strong>\n * <pre>\n * whenIType(\"gh\").or(\"gd\").goTo(\"/secure/Dashboard.jspa\");\n * whenIType(\"c\").click(\"#create_link\");\n * </pre>\n *\n * @param keys - Key combinations, modifier keys are \"+\" deliminated. e.g \"ctrl+b\"\n */\nfunction whenIType (keys) {\n    var boundKeyCombos = [];\n    var executor = $.Callbacks();\n\n    function keypressHandler(e) {\n        if (!popup.current && executor) {\n            executor.fire(e);\n        }\n    }\n\n    function defaultPreventionHandler(e) {\n        e.preventDefault();\n    }\n\n    // Bind an arbitrary set of keys by calling bindKeyCombo on each triggering key combo.\n    // A string like \"abc 123\" means (a then b then c) OR (1 then 2 then 3). abc is one key combo, 123 is another.\n    function bindKeys(keys) {\n        var keyCombos = keys && keys.split ? $.trim(keys).split(' ') : [keys];\n\n        keyCombos.forEach(function (keyCombo) {\n            bindKeyCombo(keyCombo);\n        });\n    }\n\n    function hasUnprintables(keysArr) {\n        // a bit of a heuristic, but works for everything we have. Only the unprintable characters are represented with > 1-character names.\n        var i = keysArr.length;\n        while (i--) {\n            if (keysArr[i].length > 1 && keysArr[i] !== 'space') {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // bind a single key combo to this handler\n    // A string like \"abc 123\" means (a then b then c) OR (1 then 2 then 3). abc is one key combo, 123 is another.\n    function bindKeyCombo(keyCombo) {\n        var keysArr = keyCombo instanceof Array ?\n            keyCombo :\n            keyComboArrayFromString(keyCombo.toString());\n        var eventType = hasUnprintables(keysArr) ? 'keydown' : 'keypress';\n\n        boundKeyCombos.push(keysArr);\n        $(document).on(eventType, EMPTY_SELECTOR, keysArr, keypressHandler);\n\n        // Override browser/plugins\n        $(document).on(eventType + ' keyup', EMPTY_SELECTOR, keysArr, defaultPreventionHandler);\n    }\n\n    // parse out an array of (modifier+key) presses from a single string\n    // e.g. \"12ctrl+3\" becomes [ \"1\", \"2\", \"ctrl+3\" ]\n    function keyComboArrayFromString(keyString) {\n        var keysArr = [];\n        var currModifiers = '';\n\n        while (keyString.length) {\n            var modifierMatch = keyString.match(/^(ctrl|meta|shift|alt)\\+/i);\n            var multiCharMatch = keyString.match(multiCharRegex);\n\n            if (modifierMatch) {\n                currModifiers += modifierMatch[0];\n                keyString = keyString.substring(modifierMatch[0].length);\n\n            } else if (multiCharMatch) {\n                keysArr.push(currModifiers + multiCharMatch[0]);\n                keyString = keyString.substring(multiCharMatch[0].length);\n                currModifiers = '';\n\n            } else {\n                keysArr.push(currModifiers + keyString[0]);\n                keyString = keyString.substring(1);\n                currModifiers = '';\n            }\n        }\n\n        return keysArr;\n    }\n\n    function addShortcutsToTitle(selector) {\n        var elem = $(selector);\n        var title = elem.attr('title') || '';\n        var keyCombos = boundKeyCombos.slice();\n        var existingCombos = elem.data('boundKeyCombos') || [];\n        var shortcutInstructions = elem.data('kbShortcutAppended') || '';\n        var isFirst = !shortcutInstructions;\n        var originalTitle = isFirst ? title : title.substring(0, title.length - shortcutInstructions.length);\n\n        while (keyCombos.length) {\n            var keyCombo = keyCombos.shift();\n            var comboAlreadyExists = existingCombos.some(function(existingCombo) {\n                return isEqual(keyCombo, existingCombo);\n            });\n            if (!comboAlreadyExists) {\n                shortcutInstructions = appendKeyComboInstructions(keyCombo.slice(), shortcutInstructions, isFirst);\n                isFirst = false;\n            }\n        }\n\n        if (isMac) {\n            shortcutInstructions = shortcutInstructions\n                .replace(/Meta/ig, '\\u2318') //Apple cmd key\n                .replace(/Shift/ig, '\\u21E7'); //Apple Shift symbol\n        }\n\n        elem.attr('title', originalTitle + shortcutInstructions);\n        elem.data('kbShortcutAppended', shortcutInstructions);\n        elem.data('boundKeyCombos', existingCombos.concat(boundKeyCombos));\n    }\n\n    function removeShortcutsFromTitle(selector) {\n        var elem = $(selector);\n        var shortcuts = elem.data('kbShortcutAppended');\n\n        if (!shortcuts) {\n            return;\n        }\n\n        var title = elem.attr('title');\n        elem.attr('title', title.replace(shortcuts, ''));\n        elem.removeData('kbShortcutAppended');\n        elem.removeData('boundKeyCombos');\n    }\n\n    //\n    function appendKeyComboInstructions(keyCombo, title, isFirst) {\n        if (isFirst) {\n            title += ' (' + I18n.getText('aui.keyboard.shortcut.type.x', keyCombo.shift());\n        } else {\n            title = title.replace(/\\)$/, '');\n            title += I18n.getText('aui.keyboard.shortcut.or.x', keyCombo.shift());\n        }\n\n        keyCombo.forEach(function (key) {\n            title += ' ' + I18n.getText('aui.keyboard.shortcut.then.x', key);\n        });\n        title += ')';\n\n        return title;\n    }\n\n    bindKeys(keys);\n\n    return whenIType.makeShortcut({\n        executor: executor,\n        bindKeys: bindKeys,\n        addShortcutsToTitle: addShortcutsToTitle,\n        removeShortcutsFromTitle: removeShortcutsFromTitle,\n        keypressHandler: keypressHandler,\n        defaultPreventionHandler: defaultPreventionHandler\n    });\n}\n\nwhenIType.makeShortcut = function (options) {\n    var executor = options.executor;\n    var bindKeys = options.bindKeys;\n    var addShortcutsToTitle = options.addShortcutsToTitle;\n    var removeShortcutsFromTitle = options.removeShortcutsFromTitle;\n    var keypressHandler = options.keypressHandler;\n    var defaultPreventionHandler = options.defaultPreventionHandler;\n\n    var selectorsWithTitlesModified = [];\n\n    function makeMoveToFunction(getNewFocus) {\n        return function (selector, options) {\n            options = options || {};\n            var focusedClass = options.focusedClass || 'focused';\n            var wrapAround = options.hasOwnProperty('wrapAround') ? options.wrapAround : true;\n            var escToCancel = options.hasOwnProperty('escToCancel') ? options.escToCancel : true;\n\n            executor.add(function () {\n\n                const $items = $(selector);\n                let $focusedElem = $items.filter('.' + focusedClass);\n                const moveToOptions = $focusedElem.length === 0 ? undefined : {transition: true};\n\n                if (escToCancel) {\n                    $(document).one('keydown', function (e) {\n                        if (e.keyCode === keyCode.ESCAPE && $focusedElem) {\n                            $focusedElem.removeClass(focusedClass);\n                        }\n                    });\n                }\n\n                if ($focusedElem.length) {\n                    $focusedElem.removeClass(focusedClass);\n                }\n\n                $focusedElem = getNewFocus($focusedElem, $items, wrapAround);\n\n                if ($focusedElem && $focusedElem.length > 0) {\n                    $focusedElem.addClass(focusedClass);\n                    $focusedElem.moveTo(moveToOptions);\n                    if ($focusedElem.is('a')) {\n                        $focusedElem.focus();\n                    } else {\n                        $focusedElem.find('a:first').focus();\n                    }\n                }\n            });\n            return this;\n        };\n    }\n\n    return {\n\n        /**\n         * Scrolls to and adds <em>focused</em> class to the next item in the jQuery collection\n         *\n         * @method moveToNextItem\n         * @param selector\n         * @param options\n         * @return {Object}\n         */\n        moveToNextItem: makeMoveToFunction(function ($focusedElem, $items, wrapAround) {\n            var index;\n\n            if (wrapAround && $focusedElem.length === 0) {\n                return $items.eq(0);\n\n            } else {\n                index = $.inArray($focusedElem.get(0), $items);\n                if (index < $items.length - 1) {\n                    index = index + 1;\n                    return $items.eq(index);\n                } else if (wrapAround) {\n                    return $items.eq(0);\n                }\n            }\n\n            return $focusedElem;\n        }),\n        /**\n         * Scrolls to and adds <em>focused</em> class to the previous item in the jQuery collection\n         *\n         * @method moveToPrevItem\n         * @param selector\n         * @param focusedClass\n         * @return {Object}\n         */\n        moveToPrevItem: makeMoveToFunction(function ($focusedElem, $items, wrapAround) {\n            var index;\n            if (wrapAround && $focusedElem.length === 0) {\n                return $items.filter(':last');\n\n            } else {\n                index = $.inArray($focusedElem.get(0), $items);\n                if (index > 0) {\n                    index = index - 1;\n                    return $items.eq(index);\n                } else if (wrapAround) {\n                    return $items.filter(':last');\n                }\n            }\n\n            return $focusedElem;\n        }),\n\n        /**\n         * Clicks the element specified by the <em>selector</em> argument.\n         *\n         * @method click\n         * @param selector - jQuery selector for element\n         * @return {Object}\n         */\n        click: function (selector) {\n            selectorsWithTitlesModified.push(selector);\n            addShortcutsToTitle(selector);\n\n            executor.add(function () {\n                const $el = $(selector);\n                triggerClickEvent($el);\n            });\n            return this;\n        },\n\n        /**\n         * Navigates to specified <em>location</em>\n         *\n         * @method goTo\n         * @param {String} location - http location\n         * @return {Object}\n         */\n        goTo: function (location) {\n            executor.add(function () {\n                window.location.href = location;\n            });\n            return this;\n        },\n\n        /**\n         * navigates browser window to link href\n         *\n         * @method followLink\n         * @param selector - jQuery selector for element\n         * @return {Object}\n         */\n        followLink: function (selector) {\n            selectorsWithTitlesModified.push(selector);\n            addShortcutsToTitle(selector);\n\n            executor.add(function () {\n                var elem = $(selector)[0];\n                if (elem && {'a': true, 'link': true}[ elem.nodeName.toLowerCase() ]) {\n                    window.location.href = elem.href;\n                }\n            });\n            return this;\n        },\n\n        /**\n         * Executes function\n         *\n         * @method execute\n         * @param {function} func\n         * @return {Object}\n         */\n        execute: function (func) {\n            var self = this;\n            executor.add(function () {\n                func.apply(self, arguments);\n            });\n            return this;\n        },\n\n        /**\n         * @deprecated This implementation is uncool. Kept around to satisfy Confluence plugin devs in the short term.\n         *\n         * Executes the javascript provided by the shortcut plugin point _immediately_.\n         *\n         * @method evaluate\n         * @param {Function} command - the function provided by the shortcut key plugin point\n         */\n        evaluate: function (command) {\n            command.call(this);\n        },\n\n        /**\n         * Scrolls to element if out of view, then clicks it.\n         *\n         * @method moveToAndClick\n         * @param selector - jQuery selector for element\n         * @return {Object}\n         */\n        moveToAndClick: function (selector) {\n            selectorsWithTitlesModified.push(selector);\n            addShortcutsToTitle(selector);\n\n            executor.add(function () {\n                const $el = $(selector);\n                if ($el.length > 0) {\n                    triggerClickEvent($el);\n                    $el.moveTo();\n                }\n            });\n            return this;\n        },\n\n        /**\n         * Scrolls to element if out of view, then focuses it\n         *\n         * @method moveToAndFocus\n         * @param selector - jQuery selector for element\n         * @return {Object}\n         */\n        moveToAndFocus: function (selector) {\n            selectorsWithTitlesModified.push(selector);\n            addShortcutsToTitle(selector);\n\n            executor.add(function (e) {\n                var $elem = $(selector);\n                if ($elem.length > 0) {\n                    $elem.focus();\n                    if ($elem.moveTo) {\n                        $elem.moveTo();\n                    }\n                    if ($elem.is(':input')) {\n                        e.preventDefault();\n                    }\n                }\n            });\n            return this;\n        },\n\n        /**\n         * Binds additional keyboard controls\n         *\n         * @method or\n         * @param {String} keys - keys to bind\n         * @return {Object}\n         */\n        or: function (keys) {\n            bindKeys(keys);\n            return this;\n        },\n\n        /**\n         * Unbinds shortcut keys\n         *\n         * @method unbind\n         */\n        unbind: function () {\n            $(document)\n                .unbind('keydown keypress', keypressHandler)\n                .unbind('keydown keypress keyup', defaultPreventionHandler);\n\n            for (var i = 0, len = selectorsWithTitlesModified.length; i < len; i++) {\n                removeShortcutsFromTitle(selectorsWithTitlesModified[i]);\n            }\n            selectorsWithTitlesModified = [];\n        }\n    };\n};\n\n/**\n * Creates keyboard commands and their actions from json data. Format looks like:\n *\n * <pre>\n * [\n *   {\n *        \"keys\":[[\"g\", \"d\"]],\n *        \"context\":\"global\",\n *        \"op\":\"followLink\",\n *        \"param\":\"#home_link\"\n *    },\n *    {\n *        \"keys\":[[\"g\", \"i\"]],\n *        \"context\":\"global\",\n *        \"op\":\"followLink\",\n *        \"param\":\"#find_link\"\n *    },\n *    {\n *        \"keys\":[[\"/\"]],\n *        \"context\":\"global\",\n *        \"op\":\"moveToAndFocus\",\n *        \"param\":\"#quickSearchInput\"\n *    },\n *    {\n *        \"keys\":[[\"c\"]],\n *        \"context\":\"global\",\n *        \"op\":\"moveToAndClick\",\n *        \"param\":\"#create_link\"\n *    }\n * ]\n * </pre>\n *\n * @method fromJSON\n * @static\n * @param json\n */\nwhenIType.fromJSON = function (json, switchCtrlToMetaOnMac) {\n    var shortcuts = [];\n\n    if (json) {\n        $.each(json, function (i,item) {\n            const operation = item.op;\n            const param = item.param;\n            let params;\n\n            if (operation === 'execute' || operation === 'evaluate') {\n                // need to turn function string into function object\n                params = [new Function(param)];\n\n            } else if (/^\\[[^\\]\\[]*,[^\\]\\[]*\\]$/.test(param)) {\n                // pass in an array to send multiple params\n                try {\n                    params = JSON.parse(param);\n                } catch (e) {\n                    logger.error('When using a parameter array, array must be in strict JSON format: ' + param);\n                }\n\n                if (!$.isArray(params)) {\n                    logger.error('Badly formatted shortcut parameter. String or JSON Array of parameters required: ' + param);\n                }\n\n            } else {\n                params = [param];\n            }\n\n            $.each(item.keys, function () {\n\n                var shortcutList = this;\n                if (switchCtrlToMetaOnMac && isMac) {\n                    shortcutList = $.map(shortcutList, function (shortcutString) {\n                        return shortcutString.replace(/ctrl/i, 'meta');\n                    });\n                }\n\n                var newShortcut = whenIType(shortcutList);\n                newShortcut[operation].apply(newShortcut, params);\n                shortcuts.push(newShortcut);\n            });\n\n        });\n    }\n\n    return shortcuts;\n};\n\n// Trigger this event on an iframe if you want its keypress events to be propagated (Events to work in iframes).\n$(document).on('iframeAppended', function (e, iframe) {\n    $(iframe).load(function () {\n        var $target = $(iframe).contents();\n\n        $target.on('keyup keydown keypress', function (e) {\n            // safari propagates keypress events from iframes\n            if (isSafari && e.type === 'keypress') {\n                return;\n            }\n\n            if (!$(e.target).is(':input')) {\n                $.event.trigger(\n                    e,\n                    arguments, // Preserve original event data.\n                    document,  // Bubble this event from the iframe's document to its parent document.\n                    true       // Use the capturing phase to preserve original event.target.\n                );\n            }\n        });\n    });\n});\n\nglobalize('whenIType', whenIType);\n\nexport default whenIType;\n","export * from './aui.side-effects';\nexport { log, error, warn } from './behaviours/aui.behaviour.logger';\nimport {i18n as I18n} from './behaviours/aui.behaviour.i18n';\nimport './aui.batch.page';\nimport './aui.batch.patterns';\nimport './aui.batch.iconography';\nexport * from './aui.batch.components';\n// Optional features\nimport './aui.component.form-notification';\nimport './aui.component.form-validation';\nimport { Header } from './aui.component.async-header';\nimport { DatePicker } from './aui.component.form.date-select';\nimport { RestfulTable } from './aui.component.restful-table';\nimport { sidebar } from './aui.component.sidebar';\nimport { whenIType } from './behaviours/aui.behaviour.keyboard-shortcuts';\n\nexport {\n    I18n,\n    Header,\n    DatePicker,\n    RestfulTable,\n    sidebar,\n    whenIType,\n};\n\nexport const {\n    FocusManager,\n    InlineDialog2,\n    LayerManager,\n    ProgressiveDataSet,\n    clone,\n    debounce,\n    debounceImmediate,\n    dim,\n    escapeHtml,\n    formValidation,\n    id,\n    isClipped,\n    keyCode,\n    layer,\n    messages,\n    populateParameters,\n    params,\n    responsiveheader,\n    select,\n    tablessortable,\n    tabs,\n    undim,\n    _addID\n} = window.AJS;\n\n// Fix AUI + WRM compatibility in a hacky way.\nexport const { contextPath } = window.AJS;\n"],"sourceRoot":""}