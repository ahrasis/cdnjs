var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,d){for(var c=1;c<arguments.length;c++){var b=arguments[c];if(b)for(var g in b)$jscomp.owns(b,g)&&(a[g]=b[g])}return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,c,b){if(d){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var g=a[b];g in c||(c[g]={});c=c[g]}a=a[a.length-1];b=c[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
(function(a,d){"function"===typeof define&&define.amd?define([],d):"object"===typeof exports?module.exports=d():a.InstagramFeed=d()})(this,function(){var a={host:"https://www.instagram.com/",username:"",tag:"",container:"",display_profile:!0,display_biography:!0,display_gallery:!0,display_igtv:!1,get_data:!1,callback:null,styling:!0,items:8,items_per_row:4,margin:.5,image_size:640},d={150:0,240:1,320:2,480:3,640:4};return function(c){this.options=Object.assign({},a);this.options=Object.assign(this.options,
c);this.is_tag=""==this.options.username;this.valid=!0;""==this.options.username&&""==this.options.tag?(console.error("InstagramFeed: Error, no username or tag defined."),this.valid=!1):this.options.get_data||""!=this.options.container?this.options.get_data&&"function"!=typeof this.options.callback&&(console.error("InstagramFeed: Error, invalid or undefined callback for get_data"),this.valid=!1):(console.error("InstagramFeed: Error, no container found."),this.valid=!1);this.get=function(b){var g=
this.is_tag?this.options.host+"explore/tags/"+this.options.tag:this.options.host+this.options.username,a=new XMLHttpRequest,d=this;a.onload=function(e){4===a.readyState&&(200===a.status?(e=a.responseText.split("window._sharedData = ")[1].split("\x3c/script>")[0],e=JSON.parse(e.substr(0,e.length-1)),e=e.entry_data.ProfilePage||e.entry_data.TagPage||null,null===e?(console.log(g),console.error("InstagramFeed: Request error. No data retrieved: "+a.statusText)):(e=e[0].graphql.user||e[0].graphql.hashtag,
b(e,d))):console.error("InstagramFeed: Request error. Response: "+a.statusText))};a.open("GET",g,!0);a.send()};this.parse_caption=function(b,a){return"undefined"!==typeof b.node.edge_media_to_caption.edges[0]&&0!=b.node.edge_media_to_caption.edges[0].node.text.length?b.node.edge_media_to_caption.edges[0].node.text:"undefined"!==typeof b.node.title&&0!=b.node.title.length?b.node.title:"undefined"!==typeof b.node.accessibility_caption&&0!=b.node.accessibility_caption.length?b.node.accessibility_caption:
(this.is_tag?a.name:a.username)+" image "};this.display=function(b){var a,c,h,e,m;this.options.styling?(a=" style='text-align:center;'",c=" style='border-radius:10em;width:15%;max-width:125px;min-width:50px;'",h=" style='font-size:1.2em;'",e=" style='font-size:1em;'",m=" style='margin:"+this.options.margin+"% "+this.options.margin+"%;width:"+(100-2*this.options.margin*this.options.items_per_row)/this.options.items_per_row+"%;float:left;'"):(a="",c="",h="",e="",m="");var f="";this.options.display_profile&&
(f=f+("<div class='instagram_profile'"+a+">")+("<img class='instagram_profile_image' src='"+b.profile_pic_url+"' alt='"+(this.is_tag?b.name+" tag pic":b.username+" profile pic")+" profile pic'"+c+" />"),f=this.is_tag?f+("<p class='instagram_tag'"+h+"><a href='https://www.instagram.com/explore/tags/"+this.options.tag+"' rel='noopener' target='_blank'>#"+this.options.tag+"</a></p>"):f+("<p class='instagram_username'"+h+">@"+b.full_name+" (<a href='https://www.instagram.com/"+this.options.username+"' rel='noopener' target='_blank'>@"+
this.options.username+"</a>)</p>"),!this.is_tag&&this.options.display_biography&&(f+="<p class='instagram_biography'"+e+">"+b.biography+"</p>"),f+="</div>");if(this.options.display_gallery){var k="undefined"!==typeof d[this.options.image_size]?d[this.options.image_size]:d[640];if("undefined"!==typeof b.is_private&&!0===b.is_private)f+="<p class='instagram_private'><strong>This profile is private</strong></p>";else{var l=(b.edge_owner_to_timeline_media||b.edge_hashtag_to_media).edges;e=l.length>this.options.items?
this.options.items:l.length;f+="<div class='instagram_gallery'>";for(a=0;a<e;a++){c="https://www.instagram.com/p/"+l[a].node.shortcode;h=this.parse_caption(l[a],b);switch(l[a].node.__typename){case "GraphSidecar":var n="sidecar";var p=l[a].node.thumbnail_resources[k].src;break;case "GraphVideo":n="video";p=l[a].node.thumbnail_src;break;default:n="image",p=l[a].node.thumbnail_resources[k].src}this.is_tag&&(b.username="");f+="<a href='"+c+"' class='instagram-"+n+"' title='"+h+"' rel='noopener' target='_blank'>";
f+="<img src='"+p+"' alt='"+h+"'"+m+" />";f+="</a>"}f+="</div>"}}if(this.options.display_igtv&&"undefined"!==typeof b.edge_felix_video_timeline&&(k=b.edge_felix_video_timeline.edges,e=k.length>this.options.items?this.options.items:k.length,0<k.length)){f+="<div class='instagram_igtv'>";for(a=0;a<e;a++)c="https://www.instagram.com/p/"+k[a].node.shortcode,h=this.parse_caption(k[a],b),f+="<a href='"+c+"' rel='noopener' title='"+h+"' target='_blank'>",f+="<img src='"+k[a].node.thumbnail_src+"' alt='"+
h+"'"+m+" />",f+="</a>";f+="</div>"}this.options.container.innerHTML=f};this.run=function(){this.get(function(a,c){c.options.get_data?c.options.callback(a):c.display(a)})};this.valid&&this.run()}});